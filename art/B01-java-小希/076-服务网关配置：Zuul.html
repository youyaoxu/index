<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x670d;&#x52a1;&#x7f51;&#x5173;&#x914d;&#x7f6e;&#xff1a;Zuul","children":[{"content":"1.1&#x3001;&#x4ec0;&#x4e48;&#x662f;Zuul","children":[{"content":"<pre data-lines=\"5,8\"><code>&#x901a;&#x8fc7;&#x524d;&#x9762;&#x5185;&#x5bb9;&#x7684;&#x5b66;&#x4e60;&#xff0c;&#x6211;&#x4eec;&#x5df2;&#x7ecf;&#x53ef;&#x4ee5;&#x57fa;&#x672c;&#x642d;&#x5efa;&#x51fa;&#x4e00;&#x5957;&#x7b80;&#x7565;&#x7248;&#x7684;&#x5fae;&#x670d;&#x52a1;&#x67b6;&#x6784;&#x4e86;&#xff0c;&#x6211;&#x4eec;&#x6709;&#x6ce8;&#x518c;&#x4e2d;&#x5fc3;Eureka&#xff0c;&#x53ef;&#x4ee5;&#x5c06;&#x670d;&#x52a1;&#x6ce8;&#x518c;&#x5230;&#x8be5;&#x6ce8;&#x518c;&#x4e2d;&#x5fc3;&#x4e2d;&#xff0c;&#x6211;&#x4eec;&#x6709;Ribbon&#x6216;Feign&#x6216;OpenFegin&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#x5bf9;&#x670d;&#x52a1;[&#x8d1f;&#x8f7d;&#x5747;&#x8861;](https://so.csdn.net/so/search?q=%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1&amp;spm=1001.2101.3001.7020)&#x5730;&#x8c03;&#x7528;&#xff0c;&#x6211;&#x4eec;&#x6709;Hystrix&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#x670d;&#x52a1;&#x7684;&#x7194;&#x65ad;&#x3001;&#x964d;&#x7ea7;&#x4ee5;&#x53ca;&#x9650;&#x6d41;&#x4ee5;&#x53ca;Dashboard&#x548c;Turbine&#x6765;&#x8fdb;&#x884c;&#x670d;&#x52a1;&#x8c03;&#x7528;&#x76d1;&#x63a7;&#x3002;\n\nZuul&#x662f;Spring Cloud&#x5168;&#x5bb6;&#x6876;&#x4e2d;&#x7684;&#x5fae;&#x670d;&#x52a1;API&#x7f51;&#x5173;&#xff0c;&#x6240;&#x6709;&#x4ece;&#x79fb;&#x52a8;&#x8bbe;&#x5907;&#x6216;&#x7f51;&#x7ad9;&#x6765;&#x7684;&#x8bf7;&#x6c42;&#x90fd;&#x4f1a;&#x5148;&#x7ecf;&#x8fc7;Zuul&#x7684;API&#x7f51;&#x5173;&#x7136;&#x540e;&#x624d;&#x80fd;&#x5230;&#x8fbe;&#x540e;&#x7aef;&#x7684;Netflix&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#xff0c;&#x4f5c;&#x4e3a;&#x4e00;&#x4e2a;&#x8fb9;&#x754c;&#x6027;&#x8d28;&#x7684;&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#xff0c;Zuul&#x63d0;&#x4f9b;&#x4e86;&#x52a8;&#x6001;&#x8def;&#x7531;&#x3001;&#x76d1;&#x63a7;&#x3001;&#x5f39;&#x6027;&#x8d1f;&#x8f7d;&#x548c;&#x5b89;&#x5168;&#x63a7;&#x5236;&#x7b49;&#x529f;&#x80fd;&#x3002;&#x90a3;&#x4e48;Spring Cloud&#x8fd9;&#x4e2a;&#x4e00;&#x7ad9;&#x5f0f;&#x7684;&#x5fae;&#x670d;&#x52a1;&#x5f00;&#x53d1;&#x6846;&#x67b6;&#x57fa;&#x4e8e;Netflix Zuul&#x5b9e;&#x73b0;&#x4e86;Spring Cloud Zuul&#xff0c;&#x91c7;&#x7528;Spring Cloud Zuul&#x5373;&#x53ef;&#x5b9e;&#x73b0;&#x4e00;&#x5957;API&#x7f51;&#x5173;&#x670d;&#x52a1;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"5,8"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/614f6e6ab8852bd62e0281b6b38d43b0.png\" alt>","children":[],"payload":{"tag":"img","lines":"9,10"}}],"payload":{"tag":"h2","lines":"2,4"}},{"content":"1.2&#x3001;&#x4e3a;&#x5565;&#x7528;Zuul","children":[{"content":"<pre data-lines=\"14,30\"><code>&#x5982;&#x679c;&#x6211;&#x4eec;&#x7684;&#x5fae;&#x670d;&#x52a1;&#x4e2d;&#x6709;&#x5f88;&#x591a;&#x4e2a;&#x72ec;&#x7acb;&#x670d;&#x52a1;&#x90fd;&#x8981;&#x5bf9;&#x5916;&#x63d0;&#x4f9b;&#x670d;&#x52a1;&#xff0c;&#x90a3;&#x4e48;&#x6211;&#x4eec;&#x8981;&#x5982;&#x4f55;&#x53bb;&#x7ba1;&#x7406;&#x8fd9;&#x4e9b;&#x63a5;&#x53e3;&#xff1f;&#x7279;&#x522b;&#x662f;&#x5f53;&#x9879;&#x76ee;&#x975e;&#x5e38;&#x5e9e;&#x5927;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#x8981;&#x5982;&#x4f55;&#x7ba1;&#x7406;&#xff1f;\n\n&#x5728;&#x5fae;&#x670d;&#x52a1;&#x4e2d;&#xff0c;&#x4e00;&#x4e2a;&#x72ec;&#x7acb;&#x7684;&#x7cfb;&#x7edf;&#x88ab;&#x62c6;&#x5206;&#x6210;&#x4e86;&#x5f88;&#x591a;&#x4e2a;&#x72ec;&#x7acb;&#x7684;&#x670d;&#x52a1;&#xff0c;&#x4e3a;&#x4e86;&#x786e;&#x4fdd;&#x5b89;&#x5168;&#xff0c;&#x6743;&#x9650;&#x7ba1;&#x7406;&#x4e5f;&#x662f;&#x4e00;&#x4e2a;&#x4e0d;&#x53ef;&#x56de;&#x907f;&#x7684;&#x95ee;&#x9898;&#xff0c;&#x5982;&#x679c;&#x5728;&#x6bcf;&#x4e00;&#x4e2a;&#x670d;&#x52a1;&#x4e0a;&#x90fd;&#x6dfb;&#x52a0;&#x4e0a;&#x76f8;&#x540c;&#x7684;&#x6743;&#x9650;&#x9a8c;&#x8bc1;&#x4ee3;&#x7801;&#x6765;&#x786e;&#x4fdd;&#x7cfb;&#x7edf;&#x4e0d;&#x88ab;&#x975e;&#x6cd5;&#x8bbf;&#x95ee;&#xff0c;&#x90a3;&#x4e48;&#x5de5;&#x4f5c;&#x91cf;&#x4e5f;&#x5c31;&#x592a;&#x5927;&#x4e86;&#xff0c;&#x800c;&#x4e14;&#x7ef4;&#x62a4;&#x4e5f;&#x975e;&#x5e38;&#x4e0d;&#x65b9;&#x4fbf;&#x3002;\n\n&#x4e3a;&#x4e86;&#x89e3;&#x51b3;&#x4e0a;&#x8ff0;&#x95ee;&#x9898;&#xff0c;&#x5fae;&#x670d;&#x52a1;&#x67b6;&#x6784;&#x4e2d;&#x63d0;&#x51fa;&#x4e86;API&#x7f51;&#x5173;&#x7684;&#x6982;&#x5ff5;&#xff0c;&#x5b83;&#x5c31;&#x50cf;&#x4e00;&#x4e2a;&#x5b89;&#x68c0;&#x7ad9;&#x4e00;&#x6837;&#xff0c;&#x6240;&#x6709;&#x5916;&#x90e8;&#x7684;&#x8bf7;&#x6c42;&#x90fd;&#x9700;&#x8981;&#x7ecf;&#x8fc7;&#x5b83;&#x7684;&#x8c03;&#x5ea6;&#x4e0e;&#x8fc7;&#x6ee4;&#xff0c;&#x7136;&#x540e;API&#x7f51;&#x5173;&#x6765;&#x5b9e;&#x73b0;&#x8bf7;&#x6c42;&#x8def;&#x7531;&#x3001;&#x8d1f;&#x8f7d;&#x5747;&#x8861;&#x3001;&#x6743;&#x9650;&#x9a8c;&#x8bc1;&#x7b49;&#x529f;&#x80fd;&#x3002;\n\nZuul&#x5305;&#x542b;&#x4e86;&#x5bf9;&#x8bf7;&#x6c42;&#x7684;&#x8def;&#x7531;&#x548c;&#x8fc7;&#x6ee4;&#x4e24;&#x4e2a;&#x6700;&#x4e3b;&#x8981;&#x7684;&#x529f;&#x80fd;&#xff1a;&#x5176;&#x4e2d;&#x8def;&#x7531;&#x529f;&#x80fd;&#x8d1f;&#x8d23;&#x5c06;&#x5916;&#x90e8;&#x8bf7;&#x6c42;&#x8f6c;&#x53d1;&#x5230;&#x5177;&#x4f53;&#x7684;&#x5fae;&#x670d;&#x52a1;&#x5b9e;&#x4f8b;&#x4e0a;&#xff0c;&#x662f;&#x5b9e;&#x73b0;&#x5916;&#x90e8;&#x8bbf;&#x95ee;&#x7edf;&#x4e00;&#x5165;&#x53e3;&#x7684;&#x57fa;&#x7840;&#xff0c;&#x8fc7;&#x6ee4;&#x529f;&#x80fd;&#x5219;&#x8d1f;&#x8d23;&#x5bf9;&#x8bf7;&#x6c42;&#x7684;&#x5904;&#x7406;&#x8fc7;&#x7a0b;&#x8fdb;&#x884c;&#x5e72;&#x9884;&#xff0c;&#x662f;&#x5b9e;&#x73b0;&#x8bf7;&#x6c42;&#x6821;&#x9a8c;&#x3001;&#x670d;&#x52a1;&#x805a;&#x5408;&#x7b49;&#x529f;&#x80fd;&#x7684;&#x57fa;&#x7840;&#x3002;\n\nZuul&#x5e95;&#x5c42;&#x5229;&#x7528;&#x5404;&#x79cd;filter&#x5b9e;&#x73b0;&#x5982;&#x4e0b;&#x529f;&#x80fd;&#xff1a;\n\n*   &#x8ba4;&#x8bc1;&#x548c;&#x5b89;&#x5168;&#xff1a;&#x8bc6;&#x522b;&#x6bcf;&#x4e2a;&#x9700;&#x8981;&#x8ba4;&#x8bc1;&#x7684;&#x8d44;&#x6e90;&#xff0c;&#x62d2;&#x7edd;&#x4e0d;&#x7b26;&#x5408;&#x8981;&#x6c42;&#x7684;&#x8bf7;&#x6c42;&#x3002;\n*   &#x6027;&#x80fd;&#x76d1;&#x6d4b;&#xff1a;&#x5728;&#x670d;&#x52a1;&#x8fb9;&#x754c;&#x8ffd;&#x8e2a;&#x5e76;&#x7edf;&#x8ba1;&#x6570;&#x636e;&#xff0c;&#x63d0;&#x4f9b;&#x7cbe;&#x786e;&#x7684;&#x751f;&#x4ea7;&#x89c6;&#x56fe;&#x3002;\n*   &#x52a8;&#x6001;&#x8def;&#x7531;&#xff1a;&#x6839;&#x636e;&#x9700;&#x8981;&#x5c06;&#x8bf7;&#x6c42;&#x52a8;&#x6001;&#x8def;&#x7531;&#x5230;&#x540e;&#x7aef;&#x96c6;&#x7fa4;&#x3002;\n*   &#x538b;&#x529b;&#x6d4b;&#x8bd5;&#xff1a;&#x9010;&#x6e10;&#x589e;&#x52a0;&#x5bf9;&#x96c6;&#x7fa4;&#x7684;&#x6d41;&#x91cf;&#x4ee5;&#x4e86;&#x89e3;&#x5176;&#x6027;&#x80fd;&#x3002;\n*   &#x8d1f;&#x8f7d;&#x5378;&#x8f7d;&#xff1a;&#x9884;&#x5148;&#x4e3a;&#x6bcf;&#x79cd;&#x7c7b;&#x578b;&#x7684;&#x8bf7;&#x6c42;&#x5206;&#x914d;&#x5bb9;&#x91cf;&#xff0c;&#x5f53;&#x8bf7;&#x6c42;&#x8d85;&#x8fc7;&#x5bb9;&#x91cf;&#x65f6;&#x81ea;&#x52a8;&#x4e22;&#x5f03;&#x3002;\n*   &#x9759;&#x6001;&#x8d44;&#x6e90;&#x5904;&#x7406;&#xff1a;&#x76f4;&#x63a5;&#x5728;&#x8fb9;&#x754c;&#x8fd4;&#x56de;&#x67d0;&#x4e9b;&#x54cd;&#x5e94;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"14,30"}}],"payload":{"tag":"h2","lines":"11,13"}},{"content":"2.1&#x3001;&#x9879;&#x76ee;&#x51c6;&#x5907;&#x4e0e;&#x542f;&#x52a8;","children":[{"content":"<pre data-lines=\"34,35\"><code>&#x6211;&#x4eec;&#x63a5;&#x4e0b;&#x6765;&#x7684;&#x6240;&#x6709;&#x64cd;&#x4f5c;&#x5747;&#x662f;&#x5728;`Hystrix`&#x6700;&#x540e;&#x5b8c;&#x6210;&#x7684;&#x5de5;&#x7a0b;&#x4e0a;&#x8fdb;&#x884c;&#x64cd;&#x4f5c;&#xff0c;&#x76f8;&#x5173;&#x4ee3;&#x7801;&#x8bf7;&#x5230;&#x914d;&#x5957;&#x8d44;&#x6599;&#x4e2d;&#x5bfb;&#x627e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"34,35"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/e777fd94457937d4675a4f88a8442bac.png\" alt>","children":[],"payload":{"tag":"img","lines":"36,37"}},{"content":"<pre data-lines=\"38,46\"><code>&#x6211;&#x4eec;&#x6253;&#x5f00;&#x9879;&#x76ee;&#x4ee5;&#x540e;&#xff0c;&#x9700;&#x8981;&#x5bf9;&#x9879;&#x76ee;&#x8fdb;&#x884c;&#x542f;&#x52a8;&#xff0c;&#x542f;&#x52a8;&#x7684;&#x987a;&#x5e8f;&#x5982;&#x4e0b;&#xff1a;\n\n1.  eureka-server7001&#xff08;&#x542f;&#x52a8;&#x4f1a;&#x62a5;&#x9519;&#xff0c;&#x6682;&#x65f6;&#x4e0d;&#x7528;&#x7406;&#x4f1a;&#xff0c;&#x56e0;&#x4e3a;&#x7b2c;&#x4e8c;&#x4e2a;&#x6ce8;&#x518c;&#x4e2d;&#x5fc3;&#x8fd8;&#x6ca1;&#x6709;&#x542f;&#x52a8;&#xff0c;&#x7b49;&#x7b2c;&#x4e8c;&#x4e2a;&#x6ce8;&#x518c;&#x4e2d;&#x5fc3;&#x542f;&#x52a8;&#xff0c;&#x8fc7;&#x4e00;&#x4f1a;&#x5c31;&#x6062;&#x590d;&#x4e86;&#xff09;\n2.  eureka-server7002\n3.  service-provider8001\n4.  service-provider8002\n5.  service-consumer9002\n6.  service-consumer9003\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"38,46"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d6201fd17e747229553b9d7f1c09fc30.png\" alt>","children":[],"payload":{"tag":"img","lines":"47,48"}},{"content":"<pre data-lines=\"49,50\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x6709;&#x65f6;&#x5019;&#x4f60;&#x786e;&#x4fe1;&#x81ea;&#x5df1;&#x7684;&#x4ee3;&#x7801;&#x6ca1;&#x6709;&#x95ee;&#x9898;&#xff0c;&#x53ef;&#x662f;&#x6548;&#x679c;&#x5c31;&#x662f;&#x51fa;&#x4e0d;&#x6765;&#xff0c;&#x5f88;&#x6709;&#x53ef;&#x80fd;&#x662f;idea&#x7f16;&#x8bd1;&#x7684;&#x7f13;&#x5b58;&#x7684;&#x95ee;&#x9898;&#xff0c;&#x6211;&#x4eec;&#x76ee;&#x524d;&#x4f7f;&#x7528;&#x7684;&#x70ed;&#x90e8;&#x7f72;&#x8fd8;&#x5b58;&#x5728;&#x4e00;&#x4e9b;&#x95ee;&#x9898;&#xff0c;&#x8981;&#x60f3;&#x89e3;&#x51b3;&#xff0c;&#x6211;&#x5efa;&#x8bae;&#x4f60;&#x53ef;&#x4ee5;&#x5148;&#x505c;&#x6b62;&#x5bf9;&#x5e94;&#x5de5;&#x7a0b;&#xff0c;&#x5220;&#x9664;&#x5bf9;&#x5e94;&#x5de5;&#x7a0b;&#x4e2d;&#x7684;`target`&#x76ee;&#x5f55;&#xff0c;&#x7136;&#x540e;&#x624b;&#x52a8;&#x542f;&#x52a8;&#xff0c;&#x8fd9;&#x6837;&#x8fd8;&#x4e0d;&#x884c;&#x7684;&#x8bdd;&#xff0c;&#x5927;&#x6982;&#x7387;&#x662f;&#x4f60;&#x67d0;&#x5730;&#x65b9;&#x914d;&#x7f6e;&#x9519;&#x4e86;&#xff0c;&#x5728;&#x68c0;&#x67e5;&#x4e00;&#x4e0b;&#x5427;`^__^`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"49,50"}}],"payload":{"tag":"h2","lines":"31,33"}},{"content":"2.2&#x3001;&#x5de5;&#x7a0b;&#x642d;&#x5efa;&#x4e0e;&#x6d4b;&#x8bd5;","children":[{"content":"<pre data-lines=\"54,57\"><code>&#xff08;1&#xff09;&#x5728;&#x7236;&#x5de5;&#x7a0b;`spring-cloud-study`&#x4e0b;&#x521b;&#x5efa;&#x5b50;&#x5de5;&#x7a0b;`gateway-zuul5001`\n\n&#xff08;2&#xff09;&#x5728;`pom.xml`&#x4e2d;&#x5bfc;&#x5165;&#x4ee5;&#x4e0b;&#x4f9d;&#x8d56;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"54,57"}},{"content":"<pre data-lines=\"58,71\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependencies</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-cloud-starter-netflix-zuul<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependencies</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"58,71"}},{"content":"<pre data-lines=\"72,73\"><code>&#xff08;3&#xff09;&#x65b0;&#x5efa;`application.yaml`&#xff0c;&#x5728;`application.yaml`&#x4e2d;&#x52a0;&#x5165;&#x4ee5;&#x4e0b;&#x914d;&#x7f6e;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"72,73"}},{"content":"<pre data-lines=\"74,93\"><code class=\"language-yaml\"><span class=\"hljs-attr\">server:</span>\n  <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">5001</span>\n\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-zuul5001</span>\n\n<span class=\"hljs-attr\">eureka:</span>\n  <span class=\"hljs-attr\">client:</span>\n    <span class=\"hljs-comment\">#&#x662f;&#x5426;&#x5c06;&#x81ea;&#x5df1;&#x6ce8;&#x518c;&#x5230;&#x6ce8;&#x518c;&#x4e2d;&#x5fc3;&#xff0c;&#x9ed8;&#x8ba4;&#x4e3a; true</span>\n    <span class=\"hljs-attr\">register-with-eureka:</span> <span class=\"hljs-literal\">false</span>\n    <span class=\"hljs-comment\">#&#x8868;&#x793a; Eureka Client &#x95f4;&#x9694;&#x591a;&#x4e45;&#x53bb;&#x670d;&#x52a1;&#x5668;&#x62c9;&#x53d6;&#x6ce8;&#x518c;&#x4fe1;&#x606f;&#xff0c;&#x9ed8;&#x8ba4;&#x4e3a; 30 &#x79d2;</span>\n    <span class=\"hljs-attr\">registry-fetch-interval-seconds:</span> <span class=\"hljs-number\">10</span>\n    <span class=\"hljs-comment\">#&#x8bbe;&#x7f6e;&#x670d;&#x52a1;&#x6ce8;&#x518c;&#x4e2d;&#x5fc3;&#x5730;&#x5740;</span>\n    <span class=\"hljs-attr\">service-url:</span>\n      <span class=\"hljs-attr\">defaultZone:</span> <span class=\"hljs-string\">http://root:123456@eureka-server7001.com:7001/eureka/,http://root:123456@eureka-server7002.com:7002/eureka/</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"74,93"}},{"content":"<pre data-lines=\"94,95\"><code>&#xff08;4&#xff09;&#x65b0;&#x5efa;&#x542f;&#x52a8;&#x7c7b;&#xff0c;&#x5728;&#x542f;&#x52a8;&#x7c7b;&#x4e2d;&#x52a0;&#x5165;&#x4ee5;&#x4e0b;&#x4ee3;&#x7801;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"94,95"}},{"content":"<pre data-lines=\"96,106\"><code class=\"language-java\"><span class=\"hljs-meta\">@SpringBootApplication</span>\n<span class=\"hljs-meta\">@EnableZuulProxy</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">GatewayZuul5001Application</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        SpringApplication.run(GatewayZuul5001Application.class);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"96,106"}},{"content":"<pre data-lines=\"107,114\"><code>&#xff08;5&#xff09;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x9879;&#x76ee;&#xff0c;&#x8fd9;&#x6837;&#x7b80;&#x5355;&#x7684;Zuul&#x5c31;&#x642d;&#x5efa;&#x597d;&#x4e86;&#xff0c;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x9ed8;&#x8ba4;&#x7684;&#x8def;&#x7531;&#x89c4;&#x5219;&#x6765;&#x8bbf;&#x95ee;&#x6307;&#x5b9a;&#x7684;&#x670d;&#x52a1;&#x65b9;&#x6cd5;&#xff0c;&#x6bd4;&#x5982;&#xff1a;\n\n&#x683c;&#x5f0f;&#xff1a;&#x201c;http://&#x201d;+Zuul&#x7f51;&#x5173;&#x7684;&#x57df;&#x540d;+&quot;:&quot;+Zuul&#x7f51;&#x5173;&#x7684;&#x7aef;&#x53e3;+&quot;/&quot;+&#x5fae;&#x670d;&#x52a1;&#x7684;&#x540d;&#x79f0;&#xff08;&#x4e00;&#x5b9a;&#x5c0f;&#x5199;&#xff09;+&#x5fae;&#x670d;&#x52a1;&#x7684;&#x670d;&#x52a1;&#x8def;&#x5f84;&#xff08;&#x5c31;&#x662f;&#x4f60;Controller&#x65b9;&#x6cd5;&#x4e0a;&#x6807;&#x6ce8;&#x7684;&#x90a3;&#x4e2a;&#x8def;&#x5f84;&#xff09;\n\n&#x4f8b;&#x5982;&#xff1a;http://localhost:5001/service-consumer9002/consumer/product/findAll\n\n&#x4f8b;&#x5982;&#xff1a;http://localhost:5001/service-consumer9003/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"107,114"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/8b5444834ad3b7610def0d896b6719eb.png\" alt>","children":[],"payload":{"tag":"img","lines":"115,116"}}],"payload":{"tag":"h2","lines":"51,53"}},{"content":"2.3&#x3001;&#x914d;&#x7f6e;&#x81ea;&#x5b9a;&#x4e49;&#x8def;&#x7531;","children":[{"content":"<pre data-lines=\"120,121\"><code>&#x73b0;&#x5728;&#xff0c;&#x6211;&#x4eec;&#x5df2;&#x7ecf;&#x57fa;&#x672c;&#x5b9e;&#x73b0;&#x4e86;Zuul&#x9ed8;&#x8ba4;&#x8def;&#x7531;&#x7684;&#x529f;&#x80fd;&#xff0c;&#x4f46;&#x662f;&#xff0c;&#x4e00;&#x822c;&#x6211;&#x4eec;&#x4e5f;&#x53ef;&#x4ee5;&#x81ea;&#x5b9a;&#x4e49;&#x8def;&#x7531;&#x914d;&#x7f6e;&#xff0c;&#x4e3a;&#x4ec0;&#x4e48;&#x8981;&#x81ea;&#x5b9a;&#x4e49;&#xff0c;&#x7ec6;&#x5fc3;&#x7684;&#x4f60;&#x4f1a;&#x53d1;&#x73b0;&#xff0c;&#x73b0;&#x5728;&#x4f60;&#x8bbf;&#x95ee;&#x6307;&#x5b9a;&#x7684;&#x670d;&#x52a1;&#xff0c;&#x5fc5;&#x987b;&#x8981;&#x52a0;&#x6ce8;&#x518c;&#x670d;&#x52a1;&#x7684;&#x540d;&#x79f0;&#xff08;&#x4f8b;&#x5982;&#xff1a;`service-consumer9002`&#xff0c;`service-consumer9003`&#xff09;&#xff0c;&#x8fd9;&#x4e2a;&#x540d;&#x79f0;&#x53ef;&#x80fd;&#x5f88;&#x957f;&#xff0c;&#x4e5f;&#x53ef;&#x80fd;&#x4f1a;&#x66b4;&#x9732;&#x4f60;&#x8fd9;&#x4e2a;&#x670d;&#x52a1;&#x7684;&#x4e00;&#x4e9b;&#x6027;&#x8d28;&#xff0c;&#x6211;&#x4eec;&#x60f3;&#x8981;&#x7ed9;&#x8fd9;&#x4e2a;&#x670d;&#x52a1;&#x8d77;&#x4e2a;&#x522b;&#x540d;&#xff0c;&#x6765;&#x4ee3;&#x66ff;&#x5f53;&#x524d;&#x8fd9;&#x4e2a;&#x9ed8;&#x8ba4;&#x7684;&#x89c4;&#x5219;&#xff0c;&#x5c31;&#x5fc5;&#x987b;&#x4f7f;&#x7528;&#x81ea;&#x5b9a;&#x4e49;&#x8def;&#x7531;&#x914d;&#x7f6e;&#xff0c;&#x81ea;&#x5b9a;&#x4e49;&#x8def;&#x7531;&#x914d;&#x7f6e;&#x5176;&#x5b9e;&#x5f88;&#x7b80;&#x5355;&#xff0c;&#x53ea;&#x9700;&#x8981;&#x5728;`gateway-zuul5001`&#x4e2d;&#x7684;`application.yaml`&#x52a0;&#x4e0a;&#x76f8;&#x5bf9;&#x5e94;&#x7684;&#x8def;&#x7531;&#x914d;&#x7f6e;&#x5c31;&#x884c;&#x4e86;&#xff0c;&#x5177;&#x4f53;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#x6240;&#x793a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"120,121"}},{"content":"<pre data-lines=\"122,140\"><code class=\"language-yaml\"><span class=\"hljs-attr\">zuul:</span>\n  <span class=\"hljs-attr\">routes:</span>\n    <span class=\"hljs-comment\">#&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;Key&#x53ef;&#x4ee5;&#x968f;&#x4fbf;&#x5199;&#xff08;&#x4e00;&#x822c;&#x6765;&#x8bf4;&#x5c31;&#x662f;&#x6ce8;&#x518c;&#x670d;&#x52a1;&#x7684;&#x540d;&#x79f0;&#xff0c;&#x5c5e;&#x6027;spring.application.name&#xff09;</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9002:</span>\n      <span class=\"hljs-comment\">#&#x4f60;&#x8981;&#x6620;&#x5c04;&#x7684;&#x8def;&#x5f84;&#x5730;&#x5740;&#xff08;/**&#x4ee3;&#x8868;&#x540e;&#x8fb9;&#x53ef;&#x4ee5;&#x6709;&#x591a;&#x7ea7;&#x8def;&#x5f84;&#xff0c;/*&#x53ea;&#x6709;&#x4e00;&#x7ea7;&#x8def;&#x5f84;&#xff09;</span>\n      <span class=\"hljs-attr\">path:</span> <span class=\"hljs-string\">/consumer9002/**</span>\n      <span class=\"hljs-comment\">#&#x51c6;&#x5907;&#x8f6c;&#x7ed9;&#x54ea;&#x4e00;&#x4e2a;&#x670d;&#x52a1;&#xff08;&#x4e0d;&#x77e5;&#x9053;&#x7684;&#xff0c;&#x53ef;&#x4ee5;&#x53bb;Eureka&#x6ce8;&#x518c;&#x4e2d;&#x5fc3;&#x627e;&#xff09;</span>\n      <span class=\"hljs-attr\">serviceId:</span> <span class=\"hljs-string\">SERVICE-CONSUMER9002</span>\n\n    <span class=\"hljs-comment\">#&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;Key&#x53ef;&#x4ee5;&#x968f;&#x4fbf;&#x5199;&#xff08;&#x4e00;&#x822c;&#x6765;&#x8bf4;&#x5c31;&#x662f;&#x6ce8;&#x518c;&#x670d;&#x52a1;&#x7684;&#x540d;&#x79f0;&#xff0c;&#x5c5e;&#x6027;spring.application.name&#xff09;</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9003:</span>\n      <span class=\"hljs-comment\">#&#x4f60;&#x8981;&#x6620;&#x5c04;&#x7684;&#x8def;&#x5f84;&#x5730;&#x5740;&#xff08;/**&#x4ee3;&#x8868;&#x540e;&#x8fb9;&#x53ef;&#x4ee5;&#x6709;&#x591a;&#x7ea7;&#x8def;&#x5f84;&#xff0c;/*&#x53ea;&#x6709;&#x4e00;&#x7ea7;&#x8def;&#x5f84;&#xff09;</span>\n      <span class=\"hljs-attr\">path:</span> <span class=\"hljs-string\">/consumer9003/**</span>\n      <span class=\"hljs-comment\">#&#x51c6;&#x5907;&#x8f6c;&#x7ed9;&#x54ea;&#x4e00;&#x4e2a;&#x670d;&#x52a1;&#xff08;&#x4e0d;&#x77e5;&#x9053;&#x7684;&#xff0c;&#x53ef;&#x4ee5;&#x53bb;Eureka&#x6ce8;&#x518c;&#x4e2d;&#x5fc3;&#x627e;&#xff09;</span>\n      <span class=\"hljs-attr\">serviceId:</span> <span class=\"hljs-string\">SERVICE-CONSUMER9003</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"122,140"}},{"content":"<pre data-lines=\"141,146\"><code>&#x5982;&#x679c;&#x4f60;&#x8fd8;&#x6709;&#x66f4;&#x591a;&#x670d;&#x52a1;&#x4f60;&#x8fd8;&#x53ef;&#x4ee5;&#x7167;&#x7740;&#x4e0a;&#x8fb9;&#x7684;&#x89c4;&#x5219;&#x7ee7;&#x7eed;&#x5f80;&#x4e0b;&#x5199;&#xff08;&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x8005;&#x548c;&#x670d;&#x52a1;&#x6d88;&#x8d39;&#x8005;&#x90fd;&#x7b97;&#x670d;&#x52a1;&#xff09;&#xff0c;&#x5199;&#x5b8c;&#x540e;&#xff0c;&#x8bf7;&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x7684;&#x9879;&#x76ee;&#xff0c;&#x7136;&#x540e;&#x4f9d;&#x6b21;&#x8bbf;&#x95ee;&#x5982;&#x4e0b;&#x5730;&#x5740;&#x6d4b;&#x8bd5;&#xff1a;\n\n&#x5730;&#x5740;1&#xff1a;http://localhost:5001/consumer9002/consumer/product/findAll\n\n&#x5730;&#x5740;2&#xff1a;http://localhost:5001/consumer9003/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"141,146"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/8c553087ead30beec32d71cb38191689.png\" alt>","children":[],"payload":{"tag":"img","lines":"147,148"}}],"payload":{"tag":"h2","lines":"117,119"}},{"content":"2.4&#x3001;&#x7981;&#x6b62;&#x9ed8;&#x8ba4;&#x7684;&#x8def;&#x7531;","children":[{"content":"<pre data-lines=\"152,153\"><code>&#x867d;&#x7136;&#x5b9e;&#x73b0;&#x4e86;&#x81ea;&#x5b9a;&#x4e49;&#x8def;&#x7531;&#x8bbe;&#x7f6e;&#xff0c;&#x4f46;&#x662f;&#x5982;&#x679c;&#x4f60;&#x4f7f;&#x7528;&#x4e4b;&#x524d;&#x9ed8;&#x8ba4;&#x7684;&#x8def;&#x7531;&#x89c4;&#x5219;&#xff0c;&#x4ed6;&#x8fd8;&#x662f;&#x53ef;&#x4ee5;&#x8bbf;&#x95ee;&#x7684;&#xff0c;&#x6211;&#x4eec;&#x60f3;&#x8981;&#x7981;&#x7528;&#x6389;&#xff0c;&#x9ed8;&#x8ba4;&#x7684;&#x90a3;&#x4e2a;&#x8def;&#x7531;&#x89c4;&#x5219;&#xff0c;&#x53ea;&#x9700;&#x8981;&#x589e;&#x52a0;&#x4e00;&#x6bb5;&#x914d;&#x7f6e;&#xff0c;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"152,153"}},{"content":"<pre data-lines=\"154,175\"><code class=\"language-yaml\"><span class=\"hljs-attr\">zuul:</span>\n  <span class=\"hljs-comment\">#&#x52a0;&#x5165;&#x8fd9;&#x4e2a;&#x914d;&#x7f6e;&#xff0c;&#x4ee3;&#x8868;&#x5ffd;&#x7565;&#x6240;&#x6709;&#x670d;&#x52a1;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x5ffd;&#x7565;&#x9ed8;&#x8ba4;&#x7684;&#x8def;&#x7531;&#x89c4;&#x5219;&#xff0c;&#x4f60;&#x4e5f;&#x53ef;&#x4ee5;&#x5355;&#x72ec;&#x6307;&#x5b9a;&#x67d0;&#x4e2a;&#x670d;&#x52a1;&#x4e0d;&#x80fd;&#x4f7f;&#x7528;&#x670d;&#x52a1;&#x540d;&#x6765;&#x8bbf;&#x95ee;</span>\n  <span class=\"hljs-comment\">#&#x8fd9;&#x4e2a;&#x867d;&#x7136;&#x662f;&#x4ee3;&#x8868;&#x7981;&#x7528;&#x6389;&#x6240;&#x6709;&#xff0c;&#x4f46;&#x662f;&#xff0c;&#x81ea;&#x5b9a;&#x4e49;&#x7684;&#x8def;&#x7531;&#x89c4;&#x5219;&#x8fd8;&#x662f;&#x4f1a;&#x751f;&#x6548;&#x7684;&#xff0c;&#x4e0d;&#x5fc5;&#x62c5;&#x5fc3;</span>\n  <span class=\"hljs-attr\">ignored-services:</span> <span class=\"hljs-string\">&apos;*&apos;</span>\n  <span class=\"hljs-attr\">routes:</span>\n    <span class=\"hljs-comment\">#&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;Key&#x53ef;&#x4ee5;&#x968f;&#x4fbf;&#x5199;&#xff08;&#x4e00;&#x822c;&#x6765;&#x8bf4;&#x5c31;&#x662f;&#x6ce8;&#x518c;&#x670d;&#x52a1;&#x7684;&#x540d;&#x79f0;&#xff0c;&#x5c5e;&#x6027;spring.application.name&#xff09;</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9002:</span>\n      <span class=\"hljs-comment\">#&#x4f60;&#x8981;&#x6620;&#x5c04;&#x7684;&#x8def;&#x5f84;&#x5730;&#x5740;&#xff08;/**&#x4ee3;&#x8868;&#x540e;&#x8fb9;&#x53ef;&#x4ee5;&#x6709;&#x591a;&#x7ea7;&#x8def;&#x5f84;&#xff0c;/*&#x53ea;&#x6709;&#x4e00;&#x7ea7;&#x8def;&#x5f84;&#xff09;</span>\n      <span class=\"hljs-attr\">path:</span> <span class=\"hljs-string\">/consumer9002/**</span>\n      <span class=\"hljs-comment\">#&#x51c6;&#x5907;&#x8f6c;&#x7ed9;&#x54ea;&#x4e00;&#x4e2a;&#x670d;&#x52a1;&#xff08;&#x4e0d;&#x77e5;&#x9053;&#x7684;&#xff0c;&#x53ef;&#x4ee5;&#x53bb;Eureka&#x6ce8;&#x518c;&#x4e2d;&#x5fc3;&#x627e;&#xff09;</span>\n      <span class=\"hljs-attr\">serviceId:</span> <span class=\"hljs-string\">SERVICE-CONSUMER9002</span>\n\n    <span class=\"hljs-comment\">#&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;Key&#x53ef;&#x4ee5;&#x968f;&#x4fbf;&#x5199;&#xff08;&#x4e00;&#x822c;&#x6765;&#x8bf4;&#x5c31;&#x662f;&#x6ce8;&#x518c;&#x670d;&#x52a1;&#x7684;&#x540d;&#x79f0;&#xff0c;&#x5c5e;&#x6027;spring.application.name&#xff09;</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9003:</span>\n      <span class=\"hljs-comment\">#&#x4f60;&#x8981;&#x6620;&#x5c04;&#x7684;&#x8def;&#x5f84;&#x5730;&#x5740;&#xff08;/**&#x4ee3;&#x8868;&#x540e;&#x8fb9;&#x53ef;&#x4ee5;&#x6709;&#x591a;&#x7ea7;&#x8def;&#x5f84;&#xff0c;/*&#x53ea;&#x6709;&#x4e00;&#x7ea7;&#x8def;&#x5f84;&#xff09;</span>\n      <span class=\"hljs-attr\">path:</span> <span class=\"hljs-string\">/consumer9003/**</span>\n      <span class=\"hljs-comment\">#&#x51c6;&#x5907;&#x8f6c;&#x7ed9;&#x54ea;&#x4e00;&#x4e2a;&#x670d;&#x52a1;&#xff08;&#x4e0d;&#x77e5;&#x9053;&#x7684;&#xff0c;&#x53ef;&#x4ee5;&#x53bb;Eureka&#x6ce8;&#x518c;&#x4e2d;&#x5fc3;&#x627e;&#xff09;</span>\n      <span class=\"hljs-attr\">serviceId:</span> <span class=\"hljs-string\">SERVICE-CONSUMER9003</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"154,175"}},{"content":"<pre data-lines=\"176,181\"><code>&#x7136;&#x540e;&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x9879;&#x76ee;&#x5373;&#x53ef;&#xff0c;&#x542f;&#x52a8;&#x540e;&#xff0c;&#x8f93;&#x5165;&#x4ee5;&#x4e0b;&#x5730;&#x5740;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff1a;\n\n&#x5730;&#x5740;1&#xff1a;http://localhost:5001/service-consumer9002/consumer/product/findAll\n\n&#x5730;&#x5740;2&#xff1a;http://localhost:5001/service-consumer9003/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"176,181"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/c61f1bd97198ed303ae2d0eab0b604f7.png\" alt>","children":[],"payload":{"tag":"img","lines":"182,183"}}],"payload":{"tag":"h2","lines":"149,151"}},{"content":"2.5&#x3001;&#x7b80;&#x5316;&#x81ea;&#x5b9a;&#x4e49;&#x8def;&#x7531;","children":[{"content":"<pre data-lines=\"187,188\"><code>&#x867d;&#x7136;&#x81ea;&#x5b9a;&#x4e49;&#x8def;&#x7531;&#x529f;&#x80fd;&#x5f88;&#x5f3a;&#x5927;&#xff0c;&#x53ef;&#x4ee5;&#x6620;&#x5c04;&#x6307;&#x5b9a;&#x8def;&#x5f84;&#xff0c;&#x4f46;&#x662f;&#x4f60;&#x4e0d;&#x89c9;&#x5f97;&#x5199;&#x8d77;&#x6765;&#x592a;&#x9ebb;&#x70e6;&#x4e86;&#x5417;&#xff1f;&#x6709;&#x6ca1;&#x6709;&#x4e00;&#x79cd;&#x7b80;&#x5316;&#x7684;&#x5199;&#x6cd5;&#xff0c;&#x90a3;&#x81ea;&#x7136;&#x662f;&#x6709;&#x7684;&#xff0c;&#x4f60;&#x73b0;&#x5728;&#x53ef;&#x4ee5;&#x628a;&#x4e4b;&#x524d;&#x7684;&#x90a3;&#x4e00;&#x5927;&#x6bb5;&#x914d;&#x7f6e;&#x6ce8;&#x91ca;&#x6389;&#x4e86;&#xff0c;&#x6211;&#x4eec;&#x6765;&#x770b;&#x770b;&#x5168;&#x65b0;&#x7684;&#x7cbe;&#x70bc;&#x7684;&#x914d;&#x7f6e;&#x5230;&#x5e95;&#x600e;&#x4e48;&#x914d;&#xff0c;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"187,188"}},{"content":"<pre data-lines=\"189,198\"><code class=\"language-yaml\"><span class=\"hljs-attr\">zuul:</span>\n  <span class=\"hljs-attr\">ignored-services:</span> <span class=\"hljs-string\">&apos;*&apos;</span>\n  <span class=\"hljs-attr\">routes:</span>\n    <span class=\"hljs-comment\">#&#x914d;&#x7f6e;&#x8def;&#x7531;&#x89c4;&#x5219;&#xff0c;key&#x4ee3;&#x8868;&#x670d;&#x52a1;&#x540d;&#x79f0;&#xff0c;value&#x4ee3;&#x8868;&#x6620;&#x5c04;&#x89c4;&#x5219;</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9002:</span> <span class=\"hljs-string\">/consumer9002/**</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9003:</span> <span class=\"hljs-string\">/consumer9003/**</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"189,198"}},{"content":"<pre data-lines=\"199,204\"><code>&#x5199;&#x5b8c;&#x540e;&#xff0c;&#x8bf7;&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x7684;&#x9879;&#x76ee;&#xff0c;&#x7136;&#x540e;&#x4f9d;&#x6b21;&#x8bbf;&#x95ee;&#x5982;&#x4e0b;&#x5730;&#x5740;&#x6d4b;&#x8bd5;&#xff1a;\n\n&#x5730;&#x5740;1&#xff1a;http://localhost:5001/consumer9002/consumer/product/findAll\n\n&#x5730;&#x5740;2&#xff1a;http://localhost:5001/consumer9003/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"199,204"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/8c553087ead30beec32d71cb38191689.png\" alt>","children":[],"payload":{"tag":"img","lines":"205,206"}}],"payload":{"tag":"h2","lines":"184,186"}},{"content":"2.6&#x3001;&#x7edf;&#x4e00;&#x52a0;&#x8def;&#x5f84;&#x524d;&#x7f00;","children":[{"content":"<pre data-lines=\"210,211\"><code>&#x5982;&#x679c;&#x4f60;&#x60f3;&#x8981;&#x5728;&#x6240;&#x6709;&#x8bf7;&#x6c42;&#x524d;&#x8fb9;&#x52a0;&#x4e00;&#x4e2a;&#x7edf;&#x4e00;&#x524d;&#x7f00;&#xff0c;&#x6bd4;&#x5982;&#xff1a;`/api`&#xff0c;Zuul&#x4e5f;&#x652f;&#x6301;&#x8fd9;&#x79cd;&#x8bbe;&#x7f6e;&#xff0c;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"210,211"}},{"content":"<pre data-lines=\"212,223\"><code class=\"language-yaml\"><span class=\"hljs-attr\">zuul:</span>\n  <span class=\"hljs-comment\">#&#x7edf;&#x4e00;&#x6dfb;&#x52a0;&#x8def;&#x7531;&#x524d;&#x7f00;</span>\n  <span class=\"hljs-attr\">prefix:</span> <span class=\"hljs-string\">/api</span>\n  <span class=\"hljs-attr\">ignored-services:</span> <span class=\"hljs-string\">&apos;*&apos;</span>\n  <span class=\"hljs-attr\">routes:</span>\n    <span class=\"hljs-comment\">#&#x914d;&#x7f6e;&#x8def;&#x7531;&#x89c4;&#x5219;&#xff0c;key&#x4ee3;&#x8868;&#x670d;&#x52a1;&#x540d;&#x79f0;&#xff0c;value&#x4ee3;&#x8868;&#x6620;&#x5c04;&#x89c4;&#x5219;</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9002:</span> <span class=\"hljs-string\">/consumer9002/**</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9003:</span> <span class=\"hljs-string\">/consumer9003/**</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"212,223"}},{"content":"<pre data-lines=\"224,229\"><code>&#x5199;&#x5b8c;&#x540e;&#xff0c;&#x8bf7;&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x7684;&#x9879;&#x76ee;&#xff0c;&#x7136;&#x540e;&#x4f9d;&#x6b21;&#x8bbf;&#x95ee;&#x5982;&#x4e0b;&#x5730;&#x5740;&#x6d4b;&#x8bd5;&#xff1a;\n\n&#x5730;&#x5740;1&#xff1a;http://localhost:5001/api/consumer9002/consumer/product/findAll\n\n&#x5730;&#x5740;2&#xff1a;http://localhost:5001/api/consumer9003/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"224,229"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/99f3552ba6371538ab7484e6415003d8.png\" alt>","children":[],"payload":{"tag":"img","lines":"230,231"}}],"payload":{"tag":"h2","lines":"207,209"}},{"content":"2.7&#x3001;&#x8def;&#x7531;&#x89c4;&#x5219;&#x901a;&#x914d;&#x7b26;","children":[{"content":"<table data-lines=\"235,255\">\n<thead data-lines=\"235,236\">\n<tr data-lines=\"235,236\">\n<th>&#x901a;&#x914d;&#x7b26;</th>\n<th>&#x542b;&#x4e49;</th>\n<th>&#x4e3e;&#x4f8b;</th>\n<th>&#x8bf4;&#x660e;</th>\n</tr>\n</thead>\n<tbody data-lines=\"237,255\">\n<tr data-lines=\"237,238\">\n<td>?</td>\n<td>&#x5339;&#x914d;&#x4efb;&#x610f;&#x5355;&#x4e2a;&#x5b57;&#x7b26;</td>\n<td>/api/consumer9003/?</td>\n<td>/api/consumer9003/a</td>\n</tr>\n<tr data-lines=\"238,239\">\n<td>/api/consumer9003/b</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"239,240\">\n<td>/api/consumer9003/c</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"240,241\">\n<td>&#x4ee5;&#x4e0a;&#x4e09;&#x4e2a;&#x8def;&#x7531;&#x89c4;&#x5219;&#x90fd;&#x53ef;&#x4ee5;&#x88ab;&#x5339;&#x914d;&#x5230;</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"241,242\">\n<td>*</td>\n<td>&#x5339;&#x914d;&#x4efb;&#x610f;&#x591a;&#x4e2a;&#x5b57;&#x7b26;</td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"242,243\">\n<td>&#x53ea;&#x80fd;&#x5339;&#x914d;&#x4e00;&#x7ea7;&#x5730;&#x5740;</td>\n<td>/api/consumer9003/*</td>\n<td>/api/consumer9003/aaa</td>\n<td></td>\n</tr>\n<tr data-lines=\"243,244\">\n<td>/api/consumer9003/bbb</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"244,245\">\n<td>/api/consumer9003/ccc</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"245,246\">\n<td>&#x4ee5;&#x4e0a;&#x4e09;&#x4e2a;&#x8def;&#x7531;&#x89c4;&#x5219;&#x90fd;&#x53ef;&#x4ee5;&#x88ab;&#x5339;&#x914d;&#x5230;</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"246,247\">\n<td>/api/consumer9003/a/b/c</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"247,248\">\n<td>&#x4ee5;&#x4e0a;&#x4e00;&#x4e2a;&#x8def;&#x7531;&#x89c4;&#x5219;&#x4e0d;&#x53ef;&#x4ee5;&#x88ab;&#x5339;&#x914d;&#x5230;</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"248,249\">\n<td>**</td>\n<td>&#x5339;&#x914d;&#x4efb;&#x610f;&#x591a;&#x4e2a;&#x5b57;&#x7b26;</td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"249,250\">\n<td>&#x53ef;&#x4ee5;&#x5339;&#x914d;&#x591a;&#x7ea7;&#x5730;&#x5740;</td>\n<td>/api/consumer9003/**</td>\n<td>/api/consumer9003/aaa</td>\n<td></td>\n</tr>\n<tr data-lines=\"250,251\">\n<td>/api/consumer9003/bbb</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"251,252\">\n<td>/api/consumer9003/ccc</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"252,253\">\n<td>&#x4ee5;&#x4e0a;&#x4e09;&#x4e2a;&#x8def;&#x7531;&#x89c4;&#x5219;&#x90fd;&#x53ef;&#x4ee5;&#x88ab;&#x5339;&#x914d;&#x5230;</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"253,254\">\n<td>/api/consumer9003/a/b/c</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"254,255\">\n<td>&#x4ee5;&#x4e0a;&#x4e00;&#x4e2a;&#x8def;&#x7531;&#x89c4;&#x5219;&#x4e5f;&#x53ef;&#x4ee5;&#x88ab;&#x5339;&#x914d;&#x5230;</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"235,255"}}],"payload":{"tag":"h2","lines":"232,234"}},{"content":"3.1&#x3001;&#x8fc7;&#x6ee4;&#x5668;&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"259,260\"><code>&#x8fc7;&#x6ee4;&#x5668; (filter) &#x662f;Zuul&#x7684;&#x6838;&#x5fc3;&#x7ec4;&#x4ef6;&#xff0c;Zuul&#x5927;&#x90e8;&#x5206;&#x529f;&#x80fd;&#x90fd;&#x662f;&#x901a;&#x8fc7;&#x8fc7;&#x6ee4;&#x5668;&#x6765;&#x5b9e;&#x73b0;&#x7684;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"259,260"}}],"payload":{"tag":"h2","lines":"256,258"}},{"content":"3.2&#x3001;&#x8fc7;&#x6ee4;&#x5668;&#x7c7b;&#x578b;","children":[{"content":"<pre data-lines=\"264,270\"><code>Zuul&#x4e2d;&#x5b9a;&#x4e49;&#x4e86;4&#x79cd;&#x6807;&#x51c6;&#x8fc7;&#x6ee4;&#x5668;&#x7c7b;&#x578b;&#xff0c;&#x8fd9;&#x4e9b;&#x8fc7;&#x6ee4;&#x5668;&#x7c7b;&#x578b;&#x5bf9;&#x5e94;&#x4e8e;&#x8bf7;&#x6c42;&#x7684;&#x5178;&#x578b;[&#x751f;&#x547d;&#x5468;&#x671f;](https://so.csdn.net/so/search?q=%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F&amp;spm=1001.2101.3001.7020)&#x3002;\n\n*   pre&#xff1a;&#x8fd9;&#x79cd;&#x8fc7;&#x6ee4;&#x5668;&#x5728;&#x8bf7;&#x6c42;&#x88ab;&#x8def;&#x7531;&#x4e4b;&#x524d;&#x8c03;&#x7528;&#x3002;&#x53ef;&#x5229;&#x7528;&#x8fd9;&#x79cd;&#x8fc7;&#x6ee4;&#x5668;&#x5b9e;&#x73b0;&#x8eab;&#x4efd;&#x9a8c;&#x8bc1;&#x3001;&#x5728;&#x96c6;&#x7fa4;&#x4e2d;&#x9009;&#x62e9;&#x8bf7;&#x6c42;&#x7684;&#x5fae;&#x670d;&#x52a1;&#x3001;&#x8bb0;&#x5f55;&#x8c03;&#x8bd5;&#x4fe1;&#x606f;&#x7b49;&#x3002;\n*   routing&#xff1a;&#x8fd9;&#x79cd;&#x8fc7;&#x6ee4;&#x5668;&#x5c06;&#x8bf7;&#x6c42;&#x8def;&#x7531;&#x5230;&#x5fae;&#x670d;&#x52a1;&#x3002;&#x8fd9;&#x79cd;&#x8fc7;&#x6ee4;&#x5668;&#x7528;&#x4e8e;&#x6784;&#x5efa;&#x53d1;&#x9001;&#x7ed9;&#x5fae;&#x670d;&#x52a1;&#x7684;&#x8bf7;&#x6c42;&#xff0c;&#x5e76;&#x4f7f;&#x7528;Apache HttpClient&#x6216; Netfilx Ribbon&#x8bf7;&#x6c42;&#x5fae;&#x670d;&#x52a1;&#x3002;\n*   post&#xff1a;&#x8fd9;&#x79cd;&#x8fc7;&#x6ee4;&#x5668;&#x5728;&#x8def;&#x7531;&#x5230;&#x5fae;&#x670d;&#x52a1;&#x4ee5;&#x540e;&#x6267;&#x884c;&#x3002;&#x8fd9;&#x79cd;&#x8fc7;&#x6ee4;&#x5668;&#x53ef;&#x7528;&#x6765;&#x4e3a;&#x54cd;&#x5e94;&#x6dfb;&#x52a0;&#x6807;&#x51c6;&#x7684;HTTP Header&#x3001;&#x6536;&#x96c6;&#x7edf;&#x8ba1;&#x4fe1;&#x606f;&#x548c;&#x6307;&#x6807;&#x3001;&#x5c06;&#x54cd;&#x5e94;&#x4ece;&#x5fae;&#x670d;&#x52a1;&#x53d1;&#x9001;&#x7ed9;&#x5ba2;&#x6237;&#x7aef;&#x7b49;&#x3002;\n*   error&#xff1a;&#x5728;&#x5176;&#x4ed6;&#x9636;&#x6bb5;&#x53d1;&#x751f;&#x9519;&#x8bef;&#x65f6;&#x6267;&#x884c;&#x8be5;&#x8fc7;&#x6ee4;&#x5668;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"264,270"}}],"payload":{"tag":"h2","lines":"261,263"}},{"content":"3.3&#x3001;&#x8fc7;&#x6ee4;&#x5668;&#x4f7f;&#x7528;&#x573a;&#x666f;","children":[{"content":"<pre data-lines=\"274,277\"><code>*   &#x8bf7;&#x6c42;&#x9274;&#x6743;&#xff1a;&#x4e00;&#x822c;&#x653e;&#x5728;pre&#x7c7b;&#x578b;&#xff0c;&#x5982;&#x679c;&#x53d1;&#x73b0;&#x6ca1;&#x6709;&#x8bbf;&#x95ee;&#x6743;&#x9650;&#xff0c;&#x76f4;&#x63a5;&#x5c31;&#x62e6;&#x622a;&#x4e86;&#x3002;\n*   &#x5f02;&#x5e38;&#x5904;&#x7406;&#xff1a;&#x4e00;&#x822c;&#x4f1a;&#x5728;error&#x7c7b;&#x578b;&#x548c;post&#x7c7b;&#x578b;&#x8fc7;&#x6ee4;&#x5668;&#x4e2d;&#x7ed3;&#x5408;&#x6765;&#x5904;&#x7406;&#x3002;\n*   &#x670d;&#x52a1;&#x8c03;&#x7528;&#x65f6;&#x957f;&#x7edf;&#x8ba1;&#xff1a;pre&#x548c;post&#x7ed3;&#x5408;&#x4f7f;&#x7528;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"274,277"}}],"payload":{"tag":"h2","lines":"271,273"}},{"content":"3.4&#x3001;&#x8fc7;&#x6ee4;&#x5668;&#x751f;&#x547d;&#x5468;&#x671f;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/3924a774f8274c9e3fdca22f7c0fb619.png\" alt>","children":[],"payload":{"tag":"img","lines":"281,282"}},{"content":"<pre data-lines=\"283,289\"><code>*   &#x6b63;&#x5e38;&#x6d41;&#x7a0b;&#xff1a;\n\t*   &#x8bf7;&#x6c42;&#x5230;&#x8fbe;&#x9996;&#x5148;&#x4f1a;&#x7ecf;&#x8fc7;pre&#x7c7b;&#x578b;&#x8fc7;&#x6ee4;&#x5668;&#xff0c;&#x800c;&#x540e;&#x5230;&#x8fbe;routing&#x7c7b;&#x578b;&#xff0c;&#x8fdb;&#x884c;&#x8def;&#x7531;&#xff0c;&#x8bf7;&#x6c42;&#x5c31;&#x5230;&#x8fbe;&#x771f;&#x6b63;&#x7684;&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x8005;&#xff0c;&#x6267;&#x884c;&#x8bf7;&#x6c42;&#xff0c;&#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x540e;&#xff0c;&#x4f1a;&#x5230;&#x8fbe;post&#x8fc7;&#x6ee4;&#x5668;&#x3002;&#x800c;&#x540e;&#x8fd4;&#x56de;&#x54cd;&#x5e94;&#x3002;\n*   &#x5f02;&#x5e38;&#x6d41;&#x7a0b;&#xff1a;\n\t*   &#x6574;&#x4e2a;&#x8fc7;&#x7a0b;&#x4e2d;&#xff0c;pre&#x6216;&#x8005;routing&#x8fc7;&#x6ee4;&#x5668;&#x51fa;&#x73b0;&#x5f02;&#x5e38;&#xff0c;&#x90fd;&#x4f1a;&#x76f4;&#x63a5;&#x8fdb;&#x5165;error&#x8fc7;&#x6ee4;&#x5668;&#xff0c;&#x518d;error&#x5904;&#x7406;&#x5b8c;&#x6bd5;&#x540e;&#xff0c;&#x4f1a;&#x5c06;&#x8bf7;&#x6c42;&#x4ea4;&#x7ed9;post&#x8fc7;&#x6ee4;&#x5668;&#xff0c;&#x6700;&#x540e;&#x8fd4;&#x56de;&#x7ed9;&#x7528;&#x6237;&#x3002;\n\t*   &#x5982;&#x679c;&#x662f;error&#x8fc7;&#x6ee4;&#x5668;&#x81ea;&#x5df1;&#x51fa;&#x73b0;&#x5f02;&#x5e38;&#xff0c;&#x6700;&#x7ec8;&#x4e5f;&#x4f1a;&#x8fdb;&#x5165;POST&#x8fc7;&#x6ee4;&#x5668;&#xff0c;&#x800c;&#x540e;&#x8fd4;&#x56de;&#x3002;\n\t*   &#x5982;&#x679c;&#x662f;post&#x8fc7;&#x6ee4;&#x5668;&#x51fa;&#x73b0;&#x5f02;&#x5e38;&#xff0c;&#x4f1a;&#x8df3;&#x8f6c;&#x5230;error&#x8fc7;&#x6ee4;&#x5668;&#xff0c;&#x4f46;&#x662f;&#x4e0e;pre&#x548c;routing&#x4e0d;&#x540c;&#x7684;&#x65f6;&#xff0c;&#x8bf7;&#x6c42;&#x4e0d;&#x4f1a;&#x518d;&#x5230;&#x8fbe;post&#x8fc7;&#x6ee4;&#x5668;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"283,289"}}],"payload":{"tag":"h2","lines":"278,280"}},{"content":"3.5&#x3001;&#x5185;&#x7f6e;&#x8fc7;&#x6ee4;&#x5668;&#x5217;&#x8868;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/8eb24ce57b82249d586e7ddc4dd0cba9.png\" alt>","children":[],"payload":{"tag":"img","lines":"293,294"}}],"payload":{"tag":"h2","lines":"290,292"}},{"content":"3.6&#x3001;&#x81ea;&#x5b9a;&#x4e49;&#x7684;&#x8fc7;&#x6ee4;&#x5668;","children":[{"content":"<pre data-lines=\"298,299\"><code>&#x65b0;&#x5efa;&#x8fc7;&#x6ee4;&#x5668;&#xff1a;com.caochenlei.filter.MyLogFilter\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"298,299"}},{"content":"<pre data-lines=\"300,343\"><code class=\"language-java\"><span class=\"hljs-comment\">/**\n * &#x8fd9;&#x4e2a;&#x8fc7;&#x6ee4;&#x5668;&#x4e13;&#x95e8;&#x7528;&#x6765;&#x8bb0;&#x5f55;&#x65e5;&#x5fd7;&#x7684;\n *\n * <span class=\"hljs-doctag\">@author</span> CaoChenLei\n */</span>\n<span class=\"hljs-comment\">//&#x6807;&#x6ce8;&#x5f53;&#x524d;&#x8fc7;&#x6ee4;&#x5668;&#x662f;&#x4e00;&#x4e2a;&#x7ec4;&#x4ef6;&#xff0c;&#x9700;&#x8981;&#x88ab;Spring&#x7ba1;&#x7406;&#xff0c;&#x5fc5;&#x987b;&#x6709;</span>\n<span class=\"hljs-meta\">@Component</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyLogFilter</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">ZuulFilter</span> {\n    <span class=\"hljs-comment\">//&#x7528;&#x6765;&#x6307;&#x5b9a;&#x5f53;&#x524d;&#x8fd9;&#x4e2a;&#x8fc7;&#x6ee4;&#x5668;&#x7684;&#x6267;&#x884c;&#x7c7b;&#x578b;&#xff0c;&#x53ef;&#x4ee5;&#x5199;&#x5b57;&#x7b26;&#x4e32;&#x4e5f;&#x53ef;&#x4ee5;&#x5199;&#x679a;&#x4e3e;&#x503c;</span>\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">filterType</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> FilterConstants.ROUTE_TYPE;\n    }\n\n    <span class=\"hljs-comment\">//&#x7528;&#x6765;&#x6307;&#x5b9a;&#x5f53;&#x524d;&#x8fd9;&#x4e2a;&#x8fc7;&#x6ee4;&#x5668;&#x7684;&#x6267;&#x884c;&#x987a;&#x5e8f;&#xff0c;&#x53ef;&#x4ee5;&#x5199;&#x6570;&#x5b57;&#x4e5f;&#x53ef;&#x4ee5;&#x5199;&#x679a;&#x4e3e;&#x503c;</span>\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">filterOrder</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> FilterConstants.PRE_DECORATION_FILTER_ORDER;\n    }\n\n    <span class=\"hljs-comment\">//&#x7528;&#x6765;&#x6307;&#x5b9a;&#x5f53;&#x524d;&#x8fd9;&#x4e2a;&#x8fc7;&#x6ee4;&#x5668;&#x662f;&#x5426;&#x6267;&#x884c;&#xff0c;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x5199;&#x6b7b;true/fasle&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x81ea;&#x884c;&#x5224;&#x65ad;</span>\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">boolean</span> <span class=\"hljs-title function_\">shouldFilter</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\n    }\n\n    <span class=\"hljs-comment\">//&#x7528;&#x6765;&#x6307;&#x5b9a;&#x5f53;&#x524d;&#x8fd9;&#x4e2a;&#x8fc7;&#x6ee4;&#x5668;&#x7684;&#x6267;&#x884c;&#x903b;&#x8f91;&#xff0c;&#x8fd9;&#x4e2a;return null&#x6ca1;&#x6709;&#x4ec0;&#x4e48;&#x610f;&#x4e49;&#xff0c;&#x4f46;&#x662f;&#x4e0d;&#x80fd;&#x7701;&#x7565;</span>\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Object <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> <span class=\"hljs-keyword\">throws</span> ZuulException {\n        <span class=\"hljs-comment\">//&#x83b7;&#x53d6;&#x5f53;&#x524d;&#x8bf7;&#x6c42;&#x7684;&#x4e0a;&#x4e0b;&#x6587;&#x5bf9;&#x8c61;</span>\n        <span class=\"hljs-type\">RequestContext</span> <span class=\"hljs-variable\">currentContext</span> <span class=\"hljs-operator\">=</span> RequestContext.getCurrentContext();\n        <span class=\"hljs-comment\">//&#x83b7;&#x53d6;&#x5f53;&#x524d;&#x8bf7;&#x6c42;&#x7684;&#x8bf7;&#x6c42;&#x5bf9;&#x8c61;</span>\n        <span class=\"hljs-type\">HttpServletRequest</span> <span class=\"hljs-variable\">request</span> <span class=\"hljs-operator\">=</span> currentContext.getRequest();\n        <span class=\"hljs-comment\">//&#x8f93;&#x51fa;&#x81ea;&#x5b9a;&#x4e49;&#x7684;&#x8bed;&#x53e5;&#x4fe1;&#x606f;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x4fdd;&#x5b58;&#x5230;&#x6570;&#x636e;&#x5e93;&#xff0c;&#x8fd9;&#x91cc;&#x53ea;&#x662f;&#x6d4b;&#x8bd5;</span>\n        System.out.println(<span class=\"hljs-string\">&quot;===============&#x65e5;&#x5fd7;&#x8bb0;&#x5f55;&#x5f00;&#x59cb;===============&quot;</span>);\n        System.out.println(<span class=\"hljs-string\">&quot;&#x8bbf;&#x95ee;&#x5730;&#x5740;:&quot;</span> + request.getRequestURI());\n        System.out.println(<span class=\"hljs-string\">&quot;===============&#x65e5;&#x5fd7;&#x8bb0;&#x5f55;&#x7ed3;&#x675f;===============&quot;</span>);\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"300,343"}},{"content":"<pre data-lines=\"344,345\"><code>&#x7f16;&#x5199;&#x597d;&#x81ea;&#x5df1;&#x7684;&#x8fc7;&#x6ee4;&#x5668;&#x4ee5;&#x540e;&#xff0c;&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x8fd9;&#x4e2a;&#x9879;&#x76ee;&#xff0c;&#x7136;&#x540e;&#x8bbf;&#x95ee;&#xff1a;http://localhost:5001/api/consumer9002/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"344,345"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/b08e975805623c6ebec006c8bcf62d5a.png\" alt>","children":[],"payload":{"tag":"img","lines":"346,347"}}],"payload":{"tag":"h2","lines":"295,297"}},{"content":"3.7&#x3001;&#x7981;&#x7528;&#x6307;&#x5b9a;&#x8fc7;&#x6ee4;&#x5668;","children":[{"content":"<pre data-lines=\"351,352\"><code>&#x6211;&#x4eec;&#x60f3;&#x8981;&#x7981;&#x7528;&#x67d0;&#x4e00;&#x4e2a;&#x8fc7;&#x6ee4;&#x5668;&#xff0c;&#x53ea;&#x9700;&#x8981;&#x6309;&#x7167;&#x914d;&#x7f6e;&#x89c4;&#x5219;&#x8fdb;&#x884c;&#x914d;&#x7f6e;&#x5c31;&#x597d;&#x4e86;&#xff0c;&#x8fd9;&#x91cc;&#x6211;&#x4eec;&#x5c31;&#x7981;&#x7528;&#x6389;&#x81ea;&#x5df1;&#x7f16;&#x5199;&#x7684;&#x8fc7;&#x6ee4;&#x5668;&#xff0c;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"351,352"}},{"content":"<pre data-lines=\"353,368\"><code class=\"language-yaml\"><span class=\"hljs-attr\">zuul:</span>\n  <span class=\"hljs-comment\">#&#x7edf;&#x4e00;&#x6dfb;&#x52a0;&#x8def;&#x7531;&#x524d;&#x7f00;</span>\n  <span class=\"hljs-attr\">prefix:</span> <span class=\"hljs-string\">/api</span>\n  <span class=\"hljs-attr\">ignored-services:</span> <span class=\"hljs-string\">&apos;*&apos;</span>\n  <span class=\"hljs-attr\">routes:</span>\n    <span class=\"hljs-comment\">#&#x914d;&#x7f6e;&#x8def;&#x7531;&#x89c4;&#x5219;&#xff0c;key&#x4ee3;&#x8868;&#x670d;&#x52a1;&#x540d;&#x79f0;&#xff0c;value&#x4ee3;&#x8868;&#x6620;&#x5c04;&#x89c4;&#x5219;</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9002:</span> <span class=\"hljs-string\">/consumer9002/**</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9003:</span> <span class=\"hljs-string\">/consumer9003/**</span>\n  <span class=\"hljs-comment\">#&#x7981;&#x7528;&#x6307;&#x5b9a;&#x7684;&#x8fc7;&#x6ee4;&#x5668;</span>\n  <span class=\"hljs-attr\">MyLogFilter:</span>\n      <span class=\"hljs-attr\">route:</span> <span class=\"hljs-comment\">#&#x4ee3;&#x8868;&#x8fc7;&#x6ee4;&#x5668;&#x7c7b;&#x578b;</span>\n        <span class=\"hljs-attr\">disable:</span> <span class=\"hljs-literal\">true</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"353,368"}},{"content":"<pre data-lines=\"369,372\"><code>&#x7f16;&#x5199;&#x597d;&#x81ea;&#x5df1;&#x7684;&#x8fc7;&#x6ee4;&#x5668;&#x4ee5;&#x540e;&#xff0c;&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x8fd9;&#x4e2a;&#x9879;&#x76ee;&#xff0c;&#x7136;&#x540e;&#x8bbf;&#x95ee;&#xff1a;http://localhost:5001/api/consumer9002/consumer/product/findAll\n\n&#x6211;&#x4eec;&#x53d1;&#x73b0;&#x63a7;&#x5236;&#x53f0;&#x5e76;&#x6ca1;&#x6709;&#x6253;&#x5370;&#x6211;&#x4eec;&#x81ea;&#x5df1;&#x5b9a;&#x4e49;&#x7684;&#x65e5;&#x5fd7;&#x4fe1;&#x606f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"369,372"}}],"payload":{"tag":"h2","lines":"348,350"}},{"content":"3.8&#x3001;&#x5904;&#x7406;&#x5168;&#x5c40;&#x7684;&#x5f02;&#x5e38;","children":[{"content":"<pre data-lines=\"376,379\"><code>Spring Cloud Zuul &#x5bf9;&#x5f02;&#x5e38;&#x7684;&#x5904;&#x7406;&#x662f;&#x975e;&#x5e38;&#x65b9;&#x4fbf;&#x7684;&#xff0c;&#x6211;&#x4eec;&#x5df2;&#x7ecf;&#x5b66;&#x8fc7;&#x4e86;&#x5728;pre&#x3001;routing&#x3001;post&#x7684;&#x4efb;&#x610f;&#x4e00;&#x4e2a;&#x9636;&#x6bb5;&#x5982;&#x679c;&#x629b;&#x5f02;&#x5e38;&#x4e86;&#xff0c;&#x5219;&#x6267;&#x884c;error&#x8fc7;&#x6ee4;&#x5668;&#xff0c;&#x5982;&#x679c;&#x4f60;&#x60f3;&#x8981;&#x7edf;&#x4e00;&#x5904;&#x7406;Zuul&#x5185;&#x90e8;&#x51fa;&#x73b0;&#x7684;&#x5f02;&#x5e38;&#xff0c;Zuul&#x5185;&#x90e8;&#x5e2e;&#x6211;&#x4eec;&#x5904;&#x7406;&#x4e86;&#xff0c;&#x4f46;&#x662f;&#x5b83;&#x8fd4;&#x56de;&#x7684;&#x662f;&#x4e00;&#x4e2a;&#x767d;&#x9875;&#xff0c;&#x6211;&#x4eec;&#x4e5f;&#x53ef;&#x4ee5;&#x81ea;&#x5df1;&#x7edf;&#x4e00;&#x5904;&#x7406;&#x5f02;&#x5e38;&#xff0c;&#x6211;&#x4eec;&#x53ea;&#x9700;&#x8981;&#x5b9a;&#x4e49;&#x4e00;&#x4e2a;&#x7c7b;&#x578b;&#x4e3a;error&#x7684;&#x8fc7;&#x6ee4;&#x5668;&#x66ff;&#x6362;&#x6389;&#x9ed8;&#x8ba4;&#x7684;`SendErrorFilter`&#x5c31;&#x80fd;&#x5904;&#x7406;&#x5f02;&#x5e38;&#x4e86;&#xff0c;&#x5728;&#x5904;&#x7406;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;json&#x6765;&#x7edf;&#x4e00;&#x8fd4;&#x56de;&#x9519;&#x8bef;&#x4fe1;&#x606f;&#xff0c;&#x8fd9;&#x6837;&#x6211;&#x4eec;&#x5c31;&#x770b;&#x4e0d;&#x5230;Spring Boot&#x9ed8;&#x8ba4;&#x7684;&#x9519;&#x8bef;&#x767d;&#x9875;&#x4e86;&#x3002;\n\n&#xff08;1&#xff09;&#x7981;&#x7528;Zuul&#x81ea;&#x5e26;&#x7684;&#x5f02;&#x5e38;&#x8fc7;&#x6ee4;&#x5668;&#xff0c;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"376,379"}},{"content":"<pre data-lines=\"380,399\"><code class=\"language-yaml\"><span class=\"hljs-attr\">zuul:</span>\n  <span class=\"hljs-comment\">#&#x7edf;&#x4e00;&#x6dfb;&#x52a0;&#x8def;&#x7531;&#x524d;&#x7f00;</span>\n  <span class=\"hljs-attr\">prefix:</span> <span class=\"hljs-string\">/api</span>\n  <span class=\"hljs-attr\">ignored-services:</span> <span class=\"hljs-string\">&apos;*&apos;</span>\n  <span class=\"hljs-attr\">routes:</span>\n    <span class=\"hljs-comment\">#&#x914d;&#x7f6e;&#x8def;&#x7531;&#x89c4;&#x5219;&#xff0c;key&#x4ee3;&#x8868;&#x670d;&#x52a1;&#x540d;&#x79f0;&#xff0c;value&#x4ee3;&#x8868;&#x6620;&#x5c04;&#x89c4;&#x5219;</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9002:</span> <span class=\"hljs-string\">/consumer9002/**</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9003:</span> <span class=\"hljs-string\">/consumer9003/**</span>\n  <span class=\"hljs-comment\">#&#x7981;&#x7528;&#x6307;&#x5b9a;&#x7684;&#x8fc7;&#x6ee4;&#x5668;</span>\n  <span class=\"hljs-attr\">MyLogFilter:</span>\n      <span class=\"hljs-attr\">route:</span> <span class=\"hljs-comment\">#&#x4ee3;&#x8868;&#x8fc7;&#x6ee4;&#x5668;&#x7c7b;&#x578b;</span>\n        <span class=\"hljs-attr\">disable:</span> <span class=\"hljs-literal\">true</span>\n  <span class=\"hljs-comment\">#&#x7981;&#x7528;Zuul&#x81ea;&#x5e26;&#x7684;&#x5f02;&#x5e38;&#x8fc7;&#x6ee4;&#x5668;</span>\n  <span class=\"hljs-attr\">SendErrorFilter:</span>\n      <span class=\"hljs-attr\">error:</span> <span class=\"hljs-comment\">#&#x4ee3;&#x8868;&#x8fc7;&#x6ee4;&#x5668;&#x7c7b;&#x578b;</span>\n        <span class=\"hljs-attr\">disable:</span> <span class=\"hljs-literal\">true</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"380,399"}},{"content":"<pre data-lines=\"400,401\"><code>&#xff08;2&#xff09;&#x65b0;&#x5efa;&#x8fc7;&#x6ee4;&#x5668;&#xff1a;com.caochenlei.filter.MyErrorFilter&#xff0c;&#x7136;&#x540e;&#x66ff;&#x6362;&#x6389;&#x81ea;&#x5e26;&#x7684;&#x8fc7;&#x6ee4;&#x5668;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"400,401"}},{"content":"<pre data-lines=\"402,437\"><code class=\"language-java\"><span class=\"hljs-meta\">@Component</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyErrorFilter</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">ZuulFilter</span> {\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">filterType</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> FilterConstants.ERROR_TYPE;\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">filterOrder</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> FilterConstants.SEND_ERROR_FILTER_ORDER;\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">boolean</span> <span class=\"hljs-title function_\">shouldFilter</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Object <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> <span class=\"hljs-keyword\">throws</span> ZuulException {\n        <span class=\"hljs-keyword\">try</span> {\n            <span class=\"hljs-type\">RequestContext</span> <span class=\"hljs-variable\">context</span> <span class=\"hljs-operator\">=</span> RequestContext.getCurrentContext();\n            <span class=\"hljs-type\">ZuulException</span> <span class=\"hljs-variable\">exception</span> <span class=\"hljs-operator\">=</span> (ZuulException) context.getThrowable();\n            <span class=\"hljs-type\">HttpServletResponse</span> <span class=\"hljs-variable\">response</span> <span class=\"hljs-operator\">=</span> context.getResponse();\n            response.setContentType(<span class=\"hljs-string\">&quot;application/json; charset=utf8&quot;</span>);\n            response.setStatus(exception.nStatusCode);\n            <span class=\"hljs-type\">PrintWriter</span> <span class=\"hljs-variable\">writer</span> <span class=\"hljs-operator\">=</span> response.getWriter();\n            writer.print(<span class=\"hljs-string\">&quot;{\\&quot;code\\&quot;:&quot;</span> + exception.nStatusCode + <span class=\"hljs-string\">&quot;,\\&quot;message\\&quot;:\\&quot;&quot;</span> + exception.getMessage() + <span class=\"hljs-string\">&quot;\\&quot;}&quot;</span>);\n            writer.close();\n        } <span class=\"hljs-keyword\">catch</span> (Exception e) { e.printStackTrace(); }\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"402,437"}},{"content":"<pre data-lines=\"438,439\"><code>&#xff08;3&#xff09;&#x518d;&#x6b21;&#x65b0;&#x5efa;&#x4e00;&#x4e2a;&#x8fc7;&#x6ee4;&#x5668;&#xff08;com.caochenlei.filter.MyThrowExceptionFilter&#xff09;&#xff0c;&#x8fd9;&#x4e2a;&#x8fc7;&#x6ee4;&#x5668;&#x4e0d;&#x505a;&#x522b;&#x7684;&#x4e8b;&#x60c5;&#xff0c;&#x5c31;&#x662f;&#x5728;run&#x4e2d;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x5f02;&#x5e38;&#xff0c;&#x770b;&#x770b;&#xff0c;&#x54b1;&#x4eec;&#x5b9a;&#x4e49;&#x7684;&#x5168;&#x5c40;&#x8fc7;&#x6ee4;&#x5668;&#x80fd;&#x4e0d;&#x80fd;&#x62e6;&#x622a;&#x5230;&#x4ed6;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"438,439"}},{"content":"<pre data-lines=\"440,467\"><code class=\"language-java\"><span class=\"hljs-meta\">@Component</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyThrowExceptionFilter</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">ZuulFilter</span> {\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">filterType</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> FilterConstants.PRE_TYPE;\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">filterOrder</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">boolean</span> <span class=\"hljs-title function_\">shouldFilter</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Object <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-comment\">//&#x6a21;&#x62df;&#x51fa;&#x73b0;&#x5f02;&#x5e38;</span>\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span> / <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"440,467"}},{"content":"<pre data-lines=\"468,469\"><code>&#xff08;4&#xff09;&#x7f16;&#x5199;&#x597d;&#x81ea;&#x5df1;&#x7684;&#x8fc7;&#x6ee4;&#x5668;&#x4ee5;&#x540e;&#xff0c;&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x8fd9;&#x4e2a;&#x9879;&#x76ee;&#xff0c;&#x7136;&#x540e;&#x8bbf;&#x95ee;&#xff1a;http://localhost:5001/api/consumer9002/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"468,469"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/b2cbdff6ad3274134330f98ab3632fbc.png\" alt>","children":[],"payload":{"tag":"img","lines":"470,471"}},{"content":"<pre data-lines=\"472,473\"><code>&#xff08;5&#xff09;&#x65e2;&#x7136;&#x53ef;&#x4ee5;&#x5904;&#x7406;&#x81ea;&#x5df1;&#x5b9a;&#x4e49;&#x8fc7;&#x6ee4;&#x5668;&#x7684;&#x5f02;&#x5e38;&#xff0c;&#x90a3;&#x6211;&#x4eec;&#x5c31;&#x6ca1;&#x5fc5;&#x8981;&#x5728;&#x7559;&#x7740;`MyThrowExceptionFilter`&#x8fc7;&#x6ee4;&#x5668;&#x4e86;&#xff0c;&#x5c06;&#x7f51;&#x5173;&#x6062;&#x590d;&#x6b63;&#x5e38;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x7981;&#x6b62;&#x6389;`MyThrowExceptionFilter`&#xff0c;&#x5177;&#x4f53;&#x7684;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"472,473"}},{"content":"<pre data-lines=\"474,497\"><code class=\"language-yaml\"><span class=\"hljs-attr\">zuul:</span>\n  <span class=\"hljs-comment\">#&#x7edf;&#x4e00;&#x6dfb;&#x52a0;&#x8def;&#x7531;&#x524d;&#x7f00;</span>\n  <span class=\"hljs-attr\">prefix:</span> <span class=\"hljs-string\">/api</span>\n  <span class=\"hljs-attr\">ignored-services:</span> <span class=\"hljs-string\">&apos;*&apos;</span>\n  <span class=\"hljs-attr\">routes:</span>\n    <span class=\"hljs-comment\">#&#x914d;&#x7f6e;&#x8def;&#x7531;&#x89c4;&#x5219;&#xff0c;key&#x4ee3;&#x8868;&#x670d;&#x52a1;&#x540d;&#x79f0;&#xff0c;value&#x4ee3;&#x8868;&#x6620;&#x5c04;&#x89c4;&#x5219;</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9002:</span> <span class=\"hljs-string\">/consumer9002/**</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9003:</span> <span class=\"hljs-string\">/consumer9003/**</span>\n  <span class=\"hljs-comment\">#&#x7981;&#x7528;&#x6307;&#x5b9a;&#x7684;&#x8fc7;&#x6ee4;&#x5668;</span>\n  <span class=\"hljs-attr\">MyLogFilter:</span>\n      <span class=\"hljs-attr\">route:</span> <span class=\"hljs-comment\">#&#x4ee3;&#x8868;&#x8fc7;&#x6ee4;&#x5668;&#x7c7b;&#x578b;</span>\n        <span class=\"hljs-attr\">disable:</span> <span class=\"hljs-literal\">true</span>\n  <span class=\"hljs-comment\">#&#x7981;&#x7528;Zuul&#x81ea;&#x5e26;&#x7684;&#x5f02;&#x5e38;&#x8fc7;&#x6ee4;&#x5668;</span>\n  <span class=\"hljs-attr\">SendErrorFilter:</span>\n      <span class=\"hljs-attr\">error:</span> <span class=\"hljs-comment\">#&#x4ee3;&#x8868;&#x8fc7;&#x6ee4;&#x5668;&#x7c7b;&#x578b;</span>\n        <span class=\"hljs-attr\">disable:</span> <span class=\"hljs-literal\">true</span>\n  <span class=\"hljs-comment\">#&#x7981;&#x7528;&#x6389;&#x81ea;&#x5b9a;&#x4e49;&#x7684;&#x5f02;&#x5e38;&#x8fc7;&#x6ee4;&#x5668;</span>\n  <span class=\"hljs-attr\">MyThrowExceptionFilter:</span>\n      <span class=\"hljs-attr\">pre:</span>\n        <span class=\"hljs-attr\">disable:</span> <span class=\"hljs-literal\">true</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"474,497"}},{"content":"<pre data-lines=\"498,499\"><code>&#xff08;6&#xff09;&#x7f16;&#x5199;&#x597d;&#x81ea;&#x5df1;&#x7684;&#x8fc7;&#x6ee4;&#x5668;&#x4ee5;&#x540e;&#xff0c;&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x8fd9;&#x4e2a;&#x9879;&#x76ee;&#xff0c;&#x7136;&#x540e;&#x8bbf;&#x95ee;&#xff1a;http://localhost:5001/api/consumer9002/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"498,499"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/e5bbc78a03b014ec1116f3699418bc55.png\" alt>","children":[],"payload":{"tag":"img","lines":"500,501"}},{"content":"<pre data-lines=\"502,503\"><code>&#x597d;&#x4e86;&#xff0c;&#x5230;&#x8fd9;&#x91cc;&#xff0c;&#x8fc7;&#x6ee4;&#x5668;&#x8fd9;&#x90e8;&#x5206;&#x76f8;&#x4fe1;&#x4f60;&#x5df2;&#x7ecf;&#x5b66;&#x4f1a;&#x4e86;&#xff0c;&#x5f00;&#x59cb;&#x5b66;&#x4e60;&#x5176;&#x4ed6;&#x90e8;&#x5206;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"502,503"}}],"payload":{"tag":"h2","lines":"373,375"}},{"content":"4.1&#x3001;&#x8d1f;&#x8f7d;&#x5747;&#x8861;&#x8d85;&#x65f6;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/c543487745b0481fbe5799147e628094.png\" alt>","children":[],"payload":{"tag":"img","lines":"507,508"}},{"content":"<pre data-lines=\"509,512\"><code>Zuul&#x4e2d;&#x9ed8;&#x8ba4;&#x5c31;&#x5df2;&#x7ecf;&#x96c6;&#x6210;&#x4e86;Ribbon&#x8d1f;&#x8f7d;&#x5747;&#x8861;&#x548c;Hystix&#x7194;&#x65ad;&#x673a;&#x5236;&#x3002;&#x4f46;&#x662f;&#x6240;&#x6709;&#x7684;&#x8d85;&#x65f6;&#x7b56;&#x7565;&#x90fd;&#x662f;&#x8d70;&#x7684;&#x9ed8;&#x8ba4;&#x503c;&#xff0c;&#x6bd4;&#x5982;&#x7194;&#x65ad;&#x8d85;&#x65f6;&#x65f6;&#x95f4;&#x53ea;&#x6709;1S&#xff0c;&#x5f88;&#x5bb9;&#x6613;&#x5c31;&#x89e6;&#x53d1;&#x4e86;&#x3002;\n\n&#x56e0;&#x6b64;&#x5efa;&#x8bae;&#x6211;&#x4eec;&#x624b;&#x52a8;&#x8fdb;&#x884c;&#x914d;&#x7f6e;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"509,512"}},{"content":"<pre data-lines=\"513,553\"><code class=\"language-yaml\"><span class=\"hljs-attr\">zuul:</span>\n  <span class=\"hljs-comment\">#&#x5f00;&#x542f;&#x91cd;&#x8bd5;&#x529f;&#x80fd;</span>\n  <span class=\"hljs-attr\">retryable:</span> <span class=\"hljs-literal\">true</span>\n  <span class=\"hljs-comment\">#&#x7edf;&#x4e00;&#x6dfb;&#x52a0;&#x8def;&#x7531;&#x524d;&#x7f00;</span>\n  <span class=\"hljs-attr\">prefix:</span> <span class=\"hljs-string\">/api</span>\n  <span class=\"hljs-attr\">ignored-services:</span> <span class=\"hljs-string\">&apos;*&apos;</span>\n  <span class=\"hljs-attr\">routes:</span>\n    <span class=\"hljs-comment\">#&#x914d;&#x7f6e;&#x8def;&#x7531;&#x89c4;&#x5219;&#xff0c;key&#x4ee3;&#x8868;&#x670d;&#x52a1;&#x540d;&#x79f0;&#xff0c;value&#x4ee3;&#x8868;&#x6620;&#x5c04;&#x89c4;&#x5219;</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9002:</span> <span class=\"hljs-string\">/consumer9002/**</span>\n    <span class=\"hljs-attr\">SERVICE-CONSUMER9003:</span> <span class=\"hljs-string\">/consumer9003/**</span>\n  <span class=\"hljs-comment\">#&#x7981;&#x7528;&#x6307;&#x5b9a;&#x7684;&#x8fc7;&#x6ee4;&#x5668;</span>\n  <span class=\"hljs-attr\">MyLogFilter:</span>\n      <span class=\"hljs-attr\">route:</span> <span class=\"hljs-comment\">#&#x4ee3;&#x8868;&#x8fc7;&#x6ee4;&#x5668;&#x7c7b;&#x578b;</span>\n        <span class=\"hljs-attr\">disable:</span> <span class=\"hljs-literal\">true</span>\n  <span class=\"hljs-comment\">#&#x7981;&#x7528;Zuul&#x81ea;&#x5e26;&#x7684;&#x5f02;&#x5e38;&#x8fc7;&#x6ee4;&#x5668;</span>\n  <span class=\"hljs-attr\">SendErrorFilter:</span>\n      <span class=\"hljs-attr\">error:</span> <span class=\"hljs-comment\">#&#x4ee3;&#x8868;&#x8fc7;&#x6ee4;&#x5668;&#x7c7b;&#x578b;</span>\n        <span class=\"hljs-attr\">disable:</span> <span class=\"hljs-literal\">true</span>\n  <span class=\"hljs-comment\">#&#x7981;&#x7528;&#x6389;&#x81ea;&#x5b9a;&#x4e49;&#x7684;&#x5f02;&#x5e38;&#x8fc7;&#x6ee4;&#x5668;</span>\n  <span class=\"hljs-attr\">MyThrowExceptionFilter:</span>\n      <span class=\"hljs-attr\">pre:</span>\n        <span class=\"hljs-attr\">disable:</span> <span class=\"hljs-literal\">true</span>\n\n<span class=\"hljs-attr\">ribbon:</span>\n  <span class=\"hljs-attr\">ConnectTimeout:</span> <span class=\"hljs-number\">500</span>                  <span class=\"hljs-comment\"># &#x8fde;&#x63a5;&#x8d85;&#x65f6;&#x65f6;&#x95f4;(ms)</span>\n  <span class=\"hljs-attr\">ReadTimeout:</span> <span class=\"hljs-number\">2000</span>                    <span class=\"hljs-comment\"># &#x901a;&#x4fe1;&#x8d85;&#x65f6;&#x65f6;&#x95f4;(ms),&#x8d85;&#x65f6;&#x65f6;&#x957f;&#x4e0d;&#x80fd;&#x8d85;&#x8fc7;hystrix&#x7684;&#x7194;&#x65ad;&#x65f6;&#x957f;</span>\n  <span class=\"hljs-attr\">OkToRetryOnAllOperations:</span> <span class=\"hljs-literal\">true</span>       <span class=\"hljs-comment\"># &#x662f;&#x5426;&#x5bf9;&#x6240;&#x6709;&#x64cd;&#x4f5c;&#x91cd;&#x8bd5;</span>\n  <span class=\"hljs-attr\">MaxAutoRetriesNextServer:</span> <span class=\"hljs-number\">2</span>          <span class=\"hljs-comment\"># &#x540c;&#x4e00;&#x670d;&#x52a1;&#x4e0d;&#x540c;&#x5b9e;&#x4f8b;&#x7684;&#x91cd;&#x8bd5;&#x6b21;&#x6570;</span>\n  <span class=\"hljs-attr\">MaxAutoRetries:</span> <span class=\"hljs-number\">1</span>                    <span class=\"hljs-comment\"># &#x540c;&#x4e00;&#x5b9e;&#x4f8b;&#x7684;&#x91cd;&#x8bd5;&#x6b21;&#x6570;</span>\n\n<span class=\"hljs-attr\">hystrix:</span>\n  <span class=\"hljs-attr\">command:</span>\n    <span class=\"hljs-attr\">default:</span>\n      <span class=\"hljs-attr\">execution:</span>\n        <span class=\"hljs-attr\">isolation:</span>\n          <span class=\"hljs-attr\">thread:</span>\n            <span class=\"hljs-attr\">timeoutInMillisecond:</span> <span class=\"hljs-number\">6000</span>  <span class=\"hljs-comment\"># &#x7194;&#x65ad;&#x8d85;&#x65f6;&#x65f6;&#x957f;&#xff1a;6000ms</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"513,553"}},{"content":"<pre data-lines=\"554,555\"><code>ConnectTimeout(&#x8fde;&#x63a5;&#x8d85;&#x65f6;&#x65f6;&#x957f;) + ReadTimeout(&#x8bfb;&#x53d6;&#x8d85;&#x65f6;&#x65f6;&#x957f;) &#x662f;2500&#xff0c;&#x4f46;&#x662f;ribbon&#x4f1a;&#x8fdb;&#x884c;&#x4e00;&#x6b21;&#x91cd;&#x8bd5;&#xff0c;&#x90a3;&#x4e48;&#x9ed8;&#x8ba4;&#x5c31;&#x662f;(ConnectTimeout+ReadTimeout) \\* 2 &#x662f;&#x771f;&#x6b63;&#x7684;&#x603b;&#x8d85;&#x65f6;&#x65f6;&#x957f;&#xff0c;&#x6240;&#x4ee5;timeoutInMillisecond&#x7194;&#x65ad;&#x7684;&#x65f6;&#x957f;&#x5fc5;&#x987b;&#x8981;&#x8d85;&#x8fc7;&#x8fd9;&#x4e2a;&#x65f6;&#x95f4;&#xff0c;&#x5426;&#x5219;&#x4f1a;&#x62a5;&#x9519;&#x6216;&#x8005;&#x628a;ribbon&#x7684;MaxAutoRetries&#x8bbe;&#x4e3a;0&#xff0c;&#x90a3;&#x4e48;&#x5c31;&#x4e0d;&#x8fdb;&#x884c;&#x91cd;&#x8bd5;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"554,555"}}],"payload":{"tag":"h2","lines":"504,506"}},{"content":"4.2&#x3001;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x7194;&#x65ad;","children":[{"content":"<pre data-lines=\"559,562\"><code>Zuul&#x672c;&#x8eab;&#x5c31;&#x662f;&#x4e00;&#x4e2a;&#x4ee3;&#x7406;&#x670d;&#x52a1;&#xff0c;&#x4f46;&#x5982;&#x679c;&#x88ab;&#x4ee3;&#x7406;&#x7684;&#x670d;&#x52a1;&#x7a81;&#x7136;&#x65ad;&#x4e86;&#xff0c;&#x8fd9;&#x4e2a;&#x65f6;&#x5019;Zuul&#x4e0a;&#x9762;&#x4f1a;&#x6709;&#x51fa;&#x9519;&#x4fe1;&#x606f;&#xff0c;&#x4f8b;&#x5982;&#xff0c;&#x505c;&#x6b62;&#x4e86;&#x88ab;&#x8c03;&#x7528;&#x7684;&#x5fae;&#x670d;&#x52a1;&#x3002;&#x4e00;&#x822c;&#x670d;&#x52a1;&#x65b9;&#x81ea;&#x5df1;&#x4f1a;&#x8fdb;&#x884c;&#x670d;&#x52a1;&#x7684;&#x7194;&#x65ad;&#x964d;&#x7ea7;&#xff0c;&#x4f46;&#x5bf9;&#x4e8e;Zuul&#x672c;&#x8eab;&#xff0c;&#x4e5f;&#x5e94;&#x8be5;&#x8fdb;&#x884c;Zuul&#x7684;&#x964d;&#x7ea7;&#x5904;&#x7406;&#xff0c;&#x6211;&#x4eec;&#x9700;&#x8981;&#x6709;&#x4e00;&#x4e2a;Zuul&#x7684;&#x964d;&#x7ea7;&#xff0c;&#x5b9e;&#x73b0;&#x5982;&#x4e0b;&#xff1a;\n\ncom.caochenlei.fallback.ZullFallback\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"559,562"}},{"content":"<pre data-lines=\"563,613\"><code class=\"language-java\"><span class=\"hljs-meta\">@Component</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ZullFallback</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">FallbackProvider</span> {\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getRoute</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-comment\">//&#x5bf9;&#x6240;&#x6709;&#x670d;&#x52a1;&#x90fd;&#x964d;&#x7ea7;&#xff0c;&#x8fd9;&#x91cc;&#x53ef;&#x4ee5;&#x5199;&#x6307;&#x5b9a;&#x8def;&#x7531;</span>\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;*&quot;</span>;\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> ClientHttpResponse <span class=\"hljs-title function_\">fallbackResponse</span><span class=\"hljs-params\">(String route, Throwable cause)</span> {\n        <span class=\"hljs-comment\">//&#x5982;&#x679c;&#x4e0d;&#x77e5;&#x9053;&#x8be5;&#x5bfc;&#x5165;&#x54ea;&#x4e00;&#x4e2a;&#x5305;&#xff0c;&#x8bf7;&#x53c2;&#x8003;&#x914d;&#x5957;&#x4ee3;&#x7801;...</span>\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ClientHttpResponse</span>() {\n            <span class=\"hljs-meta\">@Override</span>\n            <span class=\"hljs-keyword\">public</span> HttpHeaders <span class=\"hljs-title function_\">getHeaders</span><span class=\"hljs-params\">()</span> {\n                <span class=\"hljs-type\">HttpHeaders</span> <span class=\"hljs-variable\">headers</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">HttpHeaders</span>();\n                headers.set(<span class=\"hljs-string\">&quot;Content-Type&quot;</span>, <span class=\"hljs-string\">&quot;text/html; charset=UTF-8&quot;</span>);\n                <span class=\"hljs-keyword\">return</span> headers;\n            }\n\n            <span class=\"hljs-meta\">@Override</span>\n            <span class=\"hljs-keyword\">public</span> InputStream <span class=\"hljs-title function_\">getBody</span><span class=\"hljs-params\">()</span> <span class=\"hljs-keyword\">throws</span> IOException {\n                <span class=\"hljs-comment\">// &#x54cd;&#x5e94;&#x4f53;</span>\n                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ByteArrayInputStream</span>(<span class=\"hljs-string\">&quot;&#x670d;&#x52a1;&#x6b63;&#x5728;&#x7ef4;&#x62a4;&#xff0c;&#x8bf7;&#x7a0d;&#x540e;&#x518d;&#x8bd5;.&quot;</span>.getBytes());\n            }\n\n            <span class=\"hljs-meta\">@Override</span>\n            <span class=\"hljs-keyword\">public</span> HttpStatus <span class=\"hljs-title function_\">getStatusCode</span><span class=\"hljs-params\">()</span> <span class=\"hljs-keyword\">throws</span> IOException {\n                <span class=\"hljs-keyword\">return</span> HttpStatus.BAD_REQUEST;\n            }\n\n            <span class=\"hljs-meta\">@Override</span>\n            <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">getRawStatusCode</span><span class=\"hljs-params\">()</span> <span class=\"hljs-keyword\">throws</span> IOException {\n                <span class=\"hljs-keyword\">return</span> HttpStatus.BAD_REQUEST.value();\n            }\n\n            <span class=\"hljs-meta\">@Override</span>\n            <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getStatusText</span><span class=\"hljs-params\">()</span> <span class=\"hljs-keyword\">throws</span> IOException {\n                <span class=\"hljs-keyword\">return</span> HttpStatus.BAD_REQUEST.getReasonPhrase();\n            }\n\n            <span class=\"hljs-meta\">@Override</span>\n            <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">close</span><span class=\"hljs-params\">()</span> {\n                <span class=\"hljs-comment\">//&#x6b64;&#x5904;&#x53ef;&#x4ee5;&#x4e0d;&#x7528;&#x5904;&#x7406;...</span>\n            }\n        };\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"563,613"}},{"content":"<pre data-lines=\"614,615\"><code>&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x8fd9;&#x4e2a;&#x9879;&#x76ee;&#xff0c;&#x7136;&#x540e;&#x6211;&#x4eec;&#x5173;&#x95ed;`service-consumer9002`&#x670d;&#x52a1;&#xff0c;&#x7136;&#x540e;&#x8bbf;&#x95ee;&#xff1a;http://localhost:5001/api/consumer9002/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"614,615"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/39db8caaf56179906115dcd996e11b87.png\" alt>","children":[],"payload":{"tag":"img","lines":"616,617"}}],"payload":{"tag":"h2","lines":"556,558"}},{"content":"4.3&#x3001;&#x7f51;&#x5173;&#x7f13;&#x5b58;&#x95ee;&#x9898;","children":[{"content":"<pre data-lines=\"621,622\"><code>&#x9ed8;&#x8ba4;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x6240;&#x6709;&#x7684;&#x8bf7;&#x6c42;&#x7ecf;&#x8fc7;zuul&#x7f51;&#x5173;&#x7684;&#x4ee3;&#x7406;&#xff0c;&#x9ed8;&#x8ba4;&#x4f1a;&#x901a;&#x8fc7;SpringMVC&#x9884;&#x5148;&#x5bf9;&#x8bf7;&#x6c42;&#x8fdb;&#x884c;&#x5904;&#x7406;&#x7f13;&#x5b58;&#xff0c;&#x666e;&#x901a;&#x8bf7;&#x6c42;&#x5e76;&#x4e0d;&#x4f1a;&#x6709;&#x4ec0;&#x4e48;&#x5f71;&#x54cd;&#xff0c;&#x4f46;&#x662f;&#x5bf9;&#x4e8e;&#x6587;&#x4ef6;&#x4e0a;&#x4f20;&#xff0c;&#x5c31;&#x4f1a;&#x9020;&#x6210;&#x4e0d;&#x5fc5;&#x8981;&#x7684;&#x7f51;&#x7edc;&#x8d1f;&#x62c5;&#xff0c;&#x5728;&#x9ad8;&#x5e76;&#x53d1;&#x65f6;&#xff0c;&#x53ef;&#x80fd;&#x5bfc;&#x81f4;&#x7f51;&#x7edc;&#x963b;&#x585e;&#xff0c;Zuul&#x7f51;&#x5173;&#x4e0d;&#x53ef;&#x7528;&#xff0c;&#x8fd9;&#x6837;&#x6211;&#x4eec;&#x7684;&#x6574;&#x4e2a;&#x7cfb;&#x7edf;&#x5c31;&#x762b;&#x75ea;&#x4e86;&#x3002;&#x6240;&#x4ee5;&#xff0c;&#x6211;&#x4eec;&#x4e0a;&#x4f20;&#x6587;&#x4ef6;&#x7684;&#x8bf7;&#x6c42;&#x9700;&#x8981;&#x7ed5;&#x8fc7;&#x8bf7;&#x6c42;&#x7684;&#x7f13;&#x5b58;&#xff0c;&#x76f4;&#x63a5;&#x901a;&#x8fc7;&#x8def;&#x7531;&#x5230;&#x8fbe;&#x76ee;&#x6807;&#x5fae;&#x670d;&#x52a1;&#xff0c;&#x7b80;&#x5355;&#x7684;&#x610f;&#x601d;&#x5c31;&#x662f;&#x5728;url&#x524d;&#x9762;&#x52a0;&#x4e0a; &#x201c;/zuul&#x201d; &#xff0c;&#x90a3;&#x4e48;&#x5c31;&#x4f1a;&#x8df3;&#x8fc7;&#x7f13;&#x5b58;&#x3002;&#x5982;&#x679c;&#xff0c;&#x4f60;&#x4e0a;&#x4f20;&#x6587;&#x4ef6;&#x7684;&#x5730;&#x5740;&#x8fd8;&#x7528;&#x5230;&#x4e86;ribbon&#x7684;&#x8d1f;&#x8f7d;&#x5747;&#x8861;&#x5668;&#xff0c;&#x90a3;&#x4e48;&#xff0c;&#x4f60;&#x5e94;&#x8be5;&#x8c03;&#x5927;&#x8d85;&#x65f6;&#x65f6;&#x95f4;&#xff0c;&#x5426;&#x5219;&#x4e5f;&#x4f1a;&#x51fa;&#x95ee;&#x9898;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"621,622"}},{"content":"<pre data-lines=\"623,637\"><code class=\"language-yaml\"><span class=\"hljs-attr\">ribbon:</span>\n  <span class=\"hljs-attr\">ConnectTimeout:</span> <span class=\"hljs-number\">300</span>\n  <span class=\"hljs-attr\">ReadTimeout:</span> <span class=\"hljs-number\">60000</span>\n\n<span class=\"hljs-attr\">hystrix:</span>\n  <span class=\"hljs-attr\">command:</span>\n    <span class=\"hljs-attr\">default:</span>\n      <span class=\"hljs-attr\">execution:</span>\n        <span class=\"hljs-attr\">isolation:</span>\n          <span class=\"hljs-attr\">thread:</span>\n            <span class=\"hljs-attr\">timeoutInMillisecond:</span> <span class=\"hljs-number\">60000</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"623,637"}},{"content":"<pre data-lines=\"638,641\"><code>&#x6211;&#x4eec;&#x9700;&#x8981;&#x5728;&#x5f53;&#x524d;&#x8bbf;&#x95ee;&#x8def;&#x5f84;api&#x524d;&#x9762;&#x52a0;&#x4e0a;/zuul&#xff0c;&#x4f8b;&#x5982;&#xff1a;http://localhost:5001/zuul/api/upload-service/upload/image\n\n&#x5982;&#x679c;&#x4f60;&#x4f7f;&#x7528;&#x4e86;nginx&#x5bf9;zuul&#x7f51;&#x5173;&#x8fdb;&#x884c;&#x4e86;&#x8d1f;&#x8f7d;&#x5747;&#x8861;&#xff0c;&#x4f60;&#x53ef;&#x4ee5;&#x5bf9;&#x8def;&#x5f84;&#x8fdb;&#x884c;&#x91cd;&#x5199;&#x5904;&#x7406;&#xff0c;&#x6211;&#x4eec;&#x9700;&#x8981;&#x4fee;&#x6539;&#x5230;&#x4ee5;/zuul&#x4e3a;&#x524d;&#x7f00;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;nginx&#x7684;rewrite&#x6307;&#x4ee4;&#x5b9e;&#x73b0;&#x8fd9;&#x4e00;&#x9700;&#x6c42;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"638,641"}},{"content":"<pre data-lines=\"642,648\"><code class=\"language-bash\">location /api/upload-service/ {\n    rewrite <span class=\"hljs-string\">&quot;^/(.*)&#x24;&quot;</span> /zuul/<span class=\"hljs-variable\">&#x24;1</span> ;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"642,648"}}],"payload":{"tag":"h2","lines":"618,620"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
