<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"","children":[{"content":"Day09&#x56de;&#x987e;","children":[{"content":"settings.py&#x5e38;&#x7528;&#x53d8;&#x91cf;","children":[{"content":"<pre data-lines=\"4,30\"><code class=\"language-python\">&#x3010;<span class=\"hljs-number\">1</span>&#x3011;settings.py&#x4e2d;&#x5e38;&#x7528;&#x53d8;&#x91cf;\n    <span class=\"hljs-number\">2.1</span>) &#x8bbe;&#x7f6e;&#x65e5;&#x5fd7;&#x7ea7;&#x522b;\n         LOG_LEVEL = <span class=\"hljs-string\">&apos;&apos;</span>\n    <span class=\"hljs-number\">2.2</span>) &#x4fdd;&#x5b58;&#x5230;&#x65e5;&#x5fd7;&#x6587;&#x4ef6;(&#x4e0d;&#x5728;&#x7ec8;&#x7aef;&#x8f93;&#x51fa;)\n         LOG_FILE = <span class=\"hljs-string\">&apos;&apos;</span>\n    <span class=\"hljs-number\">2.3</span>) &#x8bbe;&#x7f6e;&#x6570;&#x636e;&#x5bfc;&#x51fa;&#x7f16;&#x7801;(&#x4e3b;&#x8981;&#x9488;&#x5bf9;&#x4e8e;json&#x6587;&#x4ef6;)\n         FEED_EXPORT_ENCODING = <span class=\"hljs-string\">&apos;utf-8&apos;</span>\n    <span class=\"hljs-number\">2.4</span>) &#x8bbe;&#x7f6e;User-Agent\n         USER_AGENT = <span class=\"hljs-string\">&apos;&apos;</span>\n    <span class=\"hljs-number\">2.5</span>) &#x8bbe;&#x7f6e;&#x6700;&#x5927;&#x5e76;&#x53d1;&#x6570;(&#x9ed8;&#x8ba4;&#x4e3a;<span class=\"hljs-number\">16</span>)\n         CONCURRENT_REQUESTS = <span class=\"hljs-number\">32</span>\n    <span class=\"hljs-number\">2.6</span>) &#x4e0b;&#x8f7d;&#x5ef6;&#x8fdf;&#x65f6;&#x95f4;(&#x6bcf;&#x9694;&#x591a;&#x957f;&#x65f6;&#x95f4;&#x8bf7;&#x6c42;&#x4e00;&#x4e2a;&#x7f51;&#x9875;)\n         DOWNLOAD_DELAY = <span class=\"hljs-number\">1</span>\n    <span class=\"hljs-number\">2.7</span>) &#x8bf7;&#x6c42;&#x5934;\n         DEFAULT_REQUEST_HEADERS = {<span class=\"hljs-string\">&apos;User-Agent&apos;</span>:<span class=\"hljs-string\">&apos;Mozilla/&apos;</span>}\n    <span class=\"hljs-number\">2.8</span>) &#x6dfb;&#x52a0;&#x9879;&#x76ee;&#x7ba1;&#x9053;\n         ITEM_PIPELINES = {<span class=\"hljs-string\">&apos;&#x9879;&#x76ee;&#x76ee;&#x5f55;&#x540d;.pipelines.&#x7c7b;&#x540d;&apos;</span>:&#x4f18;&#x5148;&#x7ea7;}\n    <span class=\"hljs-number\">2.9</span>) cookie(&#x9ed8;&#x8ba4;&#x7981;&#x7528;,&#x53d6;&#x6d88;&#x6ce8;&#x91ca;-<span class=\"hljs-literal\">True</span>|<span class=\"hljs-literal\">False</span>&#x90fd;&#x4e3a;&#x5f00;&#x542f;)\n         COOKIES_ENABLED = <span class=\"hljs-literal\">False</span>\n    <span class=\"hljs-number\">2.10</span>) &#x975e;&#x7ed3;&#x6784;&#x5316;&#x6570;&#x636e;&#x5b58;&#x50a8;&#x8def;&#x5f84;\n         IMAGES_STORE = <span class=\"hljs-string\">&apos;/home/tarena/images/&apos;</span>\n         FILES_STORE = <span class=\"hljs-string\">&apos;/home/tarena/files/&apos;</span>\n    <span class=\"hljs-number\">2.11</span>) &#x6dfb;&#x52a0;&#x4e0b;&#x8f7d;&#x5668;&#x4e2d;&#x95f4;&#x4ef6;\n        DOWNLOADER_MIDDLEWARES = {<span class=\"hljs-string\">&apos;&#x9879;&#x76ee;&#x540d;.middlewares.&#x7c7b;&#x540d;&apos;</span>:<span class=\"hljs-number\">200</span>}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,30"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"&#x975e;&#x7ed3;&#x6784;&#x5316;&#x6570;&#x636e;&#x6293;&#x53d6;","children":[{"content":"<pre data-lines=\"33,52\"><code class=\"language-python\">&#x3010;<span class=\"hljs-number\">1</span>&#x3011;spider\n    <span class=\"hljs-keyword\">yield</span> item[<span class=\"hljs-string\">&apos;&#x94fe;&#x63a5;&apos;</span>]\n    \n&#x3010;<span class=\"hljs-number\">2</span>&#x3011;pipelines.py\n    <span class=\"hljs-keyword\">from</span> scrapy.pipelines.images <span class=\"hljs-keyword\">import</span> ImagesPipeline\n    <span class=\"hljs-keyword\">import</span> scrapy\n    <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">TestPipeline</span>(<span class=\"hljs-title class_ inherited__\">ImagesPipeline</span>):\n       <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_media_requests</span>(<span class=\"hljs-params\">self,item,info</span>):\n            <span class=\"hljs-keyword\">yield</span> scrapy.Request(url=item[<span class=\"hljs-string\">&apos;url&apos;</span>],meta={<span class=\"hljs-string\">&apos;name&apos;</span>:item[<span class=\"hljs-string\">&apos;name&apos;</span>]})\n            \n       <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">file_path</span>(<span class=\"hljs-params\">self,request,response=<span class=\"hljs-literal\">None</span>,info=<span class=\"hljs-literal\">None</span></span>):\n            name = request.meta[<span class=\"hljs-string\">&apos;name&apos;</span>]\n            filename = name\n            <span class=\"hljs-keyword\">return</span> filename\n        \n&#x3010;<span class=\"hljs-number\">3</span>&#x3011;settings.py\n    IMAGES_STORE = <span class=\"hljs-string\">&apos;D:/Spider/images&apos;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"33,52"}}],"payload":{"tag":"h2","lines":"31,32"}},{"content":"Post&#x8bf7;&#x6c42;","children":[{"content":"&#x65b9;&#x6cd5;","children":[{"content":"<pre data-lines=\"57,60\"><code class=\"language-python\">scrapy.FormRequest(url=url,formdata=formdata,callback=<span class=\"hljs-variable language_\">self</span>.xxx)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"57,60"}}],"payload":{"tag":"h3","lines":"55,56"}},{"content":"&#x4f7f;&#x7528;cookie","children":[{"content":"<pre data-lines=\"63,79\"><code class=\"language-python\">&#x3010;<span class=\"hljs-number\">1</span>&#x3011;&#x65b9;&#x6cd5;<span class=\"hljs-number\">1</span>\n    COOKIES_ENABLED = <span class=\"hljs-literal\">False</span>\n    DEFAULT_REQUEST_HEADERS = {<span class=\"hljs-string\">&apos;Cookie&apos;</span>:<span class=\"hljs-string\">&apos;xxxx&apos;</span>}\n  \n&#x3010;<span class=\"hljs-number\">2</span>&#x3011;&#x65b9;&#x6cd5;<span class=\"hljs-number\">2</span>\n    COOKIES_ENABLED = <span class=\"hljs-literal\">True</span>\n    <span class=\"hljs-keyword\">yield</span> scrapy.Request(url=url,cookies={},callback=<span class=\"hljs-variable language_\">self</span>.xxxx)\n    <span class=\"hljs-keyword\">yield</span> scrapy.FormRequest(url=url,formdata={},cookies={},callback=<span class=\"hljs-variable language_\">self</span>.xxxx)\n    \n&#x3010;<span class=\"hljs-number\">3</span>&#x3011;&#x65b9;&#x6cd5;<span class=\"hljs-number\">3</span>\n    COOKIES_ENBALED = <span class=\"hljs-literal\">True</span>\n    <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">XxxCookieDownloaderMiddleware</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n      <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">process_request</span>(<span class=\"hljs-params\">self,request,spider</span>):\n        request.cookies = {}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"63,79"}}],"payload":{"tag":"h3","lines":"61,62"}},{"content":"&#x5bf9;&#x8c61;&#x5c5e;&#x6027;","children":[{"content":"<pre data-lines=\"82,96\"><code class=\"language-python\">&#x3010;1&#x3011;&#x8bf7;&#x6c42;&#x5bf9;&#x8c61;request&#x5c5e;&#x6027;\n    1.1) request.url     : &#x8bf7;&#x6c42;URL&#x5730;&#x5740;\n    1.2) request.headers : &#x8bf7;&#x6c42;&#x5934; - &#x5b57;&#x5178;\n    1.3) request.meta    : item&#x6570;&#x636e;&#x4f20;&#x9012;&#x3001;&#x5b9a;&#x4e49;&#x4ee3;&#x7406;\n    1.4) request.cookies : Cookie\n\n&#x3010;2&#x3011;&#x54cd;&#x5e94;&#x5bf9;&#x8c61;response&#x5c5e;&#x6027;\n    2.1) response.url      : &#x8fd4;&#x56de;&#x5b9e;&#x9645;&#x6570;&#x636e;&#x7684;URL&#x5730;&#x5740;\n    2.2) response.text     : &#x54cd;&#x5e94;&#x5185;&#x5bb9; - &#x5b57;&#x7b26;&#x4e32;\n    2.3) response.body     : &#x54cd;&#x5e94;&#x5185;&#x5bb9; - &#x5b57;&#x8282;&#x4e32;\n    2.4) response.encoding &#xff1a;&#x54cd;&#x5e94;&#x5b57;&#x7b26;&#x7f16;&#x7801;\n    2.5) response.status   : HTTP&#x54cd;&#x5e94;&#x7801;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"82,96"}}],"payload":{"tag":"h3","lines":"80,81"}}],"payload":{"tag":"h2","lines":"53,54"}}],"payload":{"tag":"h1","lines":"0,1"}},{"content":"Day10&#x7b14;&#x8bb0;","children":[{"content":"&#x4e2d;&#x95f4;&#x4ef6;","children":[{"content":"&#x8bbe;&#x7f6e;&#x4e2d;&#x95f4;&#x4ef6;(&#x968f;&#x673a;User-Agent)","children":[{"content":"&#x5c11;&#x91cf;UA&#x8bbe;&#x7f6e; - &#x4e0d;&#x4f7f;&#x7528;&#x4e2d;&#x95f4;&#x4ef6;","children":[{"content":"<pre data-lines=\"105,113\"><code class=\"language-python\">&#x3010;<span class=\"hljs-number\">1</span>&#x3011;&#x65b9;&#x6cd5;&#x4e00; : settings.py\n    <span class=\"hljs-number\">1.1</span>) USER_AGENT = <span class=\"hljs-string\">&apos;&apos;</span>\n    <span class=\"hljs-number\">1.2</span>) DEFAULT_REQUEST_HEADERS = {}\n    \n&#x3010;<span class=\"hljs-number\">2</span>&#x3011;&#x65b9;&#x6cd5;&#x4e8c; : &#x722c;&#x866b;&#x6587;&#x4ef6;\n    <span class=\"hljs-keyword\">yield</span> scrapy.Request(url,callback=&#x51fd;&#x6570;&#x540d;,headers={})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"105,113"}}],"payload":{"tag":"h4","lines":"103,104"}},{"content":"&#x5927;&#x91cf;UA&#x8bbe;&#x7f6e; - &#x4f7f;&#x7528;middlewares.py&#x4e2d;&#x95f4;&#x4ef6;","children":[{"content":"<pre data-lines=\"116,132\"><code class=\"language-python\">&#x3010;<span class=\"hljs-number\">1</span>&#x3011;&#x83b7;&#x53d6;User-Agent&#x65b9;&#x5f0f;\n    <span class=\"hljs-number\">1.1</span>) &#x65b9;&#x6cd5;<span class=\"hljs-number\">1</span> &#xff1a;&#x65b0;&#x5efa;useragents.py,&#x5b58;&#x653e;&#x5927;&#x91cf;User-Agent&#xff0c;random&#x6a21;&#x5757;&#x968f;&#x673a;&#x5207;&#x6362;\n    <span class=\"hljs-number\">1.2</span>) &#x65b9;&#x6cd5;<span class=\"hljs-number\">2</span> &#xff1a;&#x4f7f;&#x7528;fake_useragent&#x6a21;&#x5757;\n        <span class=\"hljs-keyword\">from</span> fake_useragent <span class=\"hljs-keyword\">import</span> UserAgent\n        agent = UserAgent().random\n        \n&#x3010;<span class=\"hljs-number\">2</span>&#x3011;middlewares.py&#x65b0;&#x5efa;&#x4e2d;&#x95f4;&#x4ef6;&#x7c7b;\n\t<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">RandomUseragentMiddleware</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n\t\t<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">process_request</span>(<span class=\"hljs-params\">self,reuqest,spider</span>):\n    \t\tagent = UserAgent().random\n    \t\trequest.headers[<span class=\"hljs-string\">&apos;User-Agent&apos;</span>] = agent\n            \n&#x3010;<span class=\"hljs-number\">3</span>&#x3011;settings.py&#x6dfb;&#x52a0;&#x6b64;&#x4e0b;&#x8f7d;&#x5668;&#x4e2d;&#x95f4;&#x4ef6;\n\tDOWNLOADER_MIDDLEWARES = {<span class=\"hljs-string\">&apos;&apos;</span> : &#x4f18;&#x5148;&#x7ea7;}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"116,132"}}],"payload":{"tag":"h4","lines":"114,115"}}],"payload":{"tag":"h3","lines":"101,102"}},{"content":"&#x8bbe;&#x7f6e;&#x4e2d;&#x95f4;&#x4ef6;(&#x968f;&#x673a;&#x4ee3;&#x7406;)","children":[{"content":"&#x4ee3;&#x7406;IP&#x4e2d;&#x95f4;&#x4ef6;","children":[{"content":"<pre data-lines=\"137,146\"><code class=\"language-python\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">RandomProxyDownloaderMiddleware</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">process_request</span>(<span class=\"hljs-params\">self,request,spider</span>):\n    \trequest.meta[<span class=\"hljs-string\">&apos;proxy&apos;</span>] = xxx\n    \n    <span class=\"hljs-comment\"># &#x6355;&#x83b7;&#x5f02;&#x5e38;&#x7684;&#x65b9;&#x6cd5;,&#x4e00;&#x65e6;&#x4ee3;&#x7406;&#x4e0d;&#x80fd;&#x7528;,&#x4f1a;&#x88ab;&#x6b64;&#x65b9;&#x6cd5;&#x6355;&#x83b7;,&#x5e76;&#x91cd;&#x65b0;&#x5305;&#x88c5;&#x8bf7;&#x6c42;&#x518d;&#x6b21;&#x53d1;&#x9001;</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">process_exception</span>(<span class=\"hljs-params\">self,request,exception,spider</span>):\n        <span class=\"hljs-keyword\">return</span> request\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"137,146"}}],"payload":{"tag":"h4","lines":"135,136"}}],"payload":{"tag":"h3","lines":"133,134"}},{"content":"&#x8bbe;&#x7f6e;&#x4e2d;&#x95f4;&#x4ef6;(Cookie)","children":[{"content":"Cookie&#x4e2d;&#x95f4;&#x4ef6;","children":[{"content":"<pre data-lines=\"151,168\"><code class=\"language-python\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BaiduCookieDownloaderMiddleware</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">process_request</span>(<span class=\"hljs-params\">self,request,spider</span>):\n        cookies = <span class=\"hljs-variable language_\">self</span>.get_cookies()\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&apos;middleware3&apos;</span>, cookies)\n        <span class=\"hljs-comment\"># &#x5229;&#x7528;&#x8bf7;&#x6c42;&#x5bf9;&#x8c61;request&#x7684;cookies&#x5c5e;&#x6027;</span>\n        request.cookies = cookies\n\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_cookies</span>(<span class=\"hljs-params\">self</span>):\n        costr = <span class=\"hljs-string\">&apos;&apos;</span>\n        cookies = {}\n        <span class=\"hljs-keyword\">for</span> kv <span class=\"hljs-keyword\">in</span> costr.split(<span class=\"hljs-string\">&apos;; &apos;</span>):\n            cookies[kv.split(<span class=\"hljs-string\">&apos;=&apos;</span>)[<span class=\"hljs-number\">0</span>]] =kv.split(<span class=\"hljs-string\">&apos;=&apos;</span>)[<span class=\"hljs-number\">1</span>]\n\n        <span class=\"hljs-keyword\">return</span> cookies\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"151,168"}}],"payload":{"tag":"h4","lines":"149,150"}},{"content":"&#x7ec3;&#x4e60;","children":[{"content":"<pre data-lines=\"171,174\"><code class=\"language-python\">&#x5c06;&#x6709;&#x9053;&#x7ffb;&#x8bd1;&#x6848;&#x4f8b;&#x7684;cookie&#x4f7f;&#x7528;&#x4e2d;&#x95f4;&#x4ef6;&#x7684;&#x65b9;&#x5f0f;&#x6765;&#x5b9e;&#x73b0;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"171,174"}}],"payload":{"tag":"h4","lines":"169,170"}},{"content":"Linux&#x5468;&#x671f;&#x6027;&#x8ba1;&#x5212;&#x4efb;&#x52a1;","children":[{"content":"<pre data-lines=\"177,202\"><code class=\"language-python\">&#x3010;1&#x3011;&#x8fdb;&#x5165;Linux&#x5468;&#x671f;&#x6027;&#x8ba1;&#x5212;&#x4efb;&#x52a1;&#x547d;&#x4ee4;: crontab -e\n&#x3010;2&#x3011;&#x8fdb;&#x5165;&#x5230;&#x8bbe;&#x7f6e;&#x9875;&#x9762;&#x4e4b;&#x540e;:\n     *  *  *  *  *  Linux&#x547d;&#x4ee4;\n     &#x5206; &#x65f6; &#x65e5; &#x6708; &#x5468;\n     &#x5206;: 0-59\n     &#x65f6;: 0-23\n     &#x65e5;: 1-31\n     &#x6708;: 1-12\n     &#x5468;: 0-6\n\n     - : &#x6307;&#x5b9a;&#x65f6;&#x95f4;&#x6bb5;\n     / : &#x65f6;&#x95f4;&#x95f4;&#x9694;&#x7684;&#x9891;&#x7387;\n     , : &#x591a;&#x4e2a;&#x65f6;&#x95f4;&#x70b9;\n        \n&#x3010;3&#x3011;&#x793a;&#x4f8b;\n    3.1) &#x6bcf;&#x5929;&#x7684;09:00&#x53bb;&#x6267;&#x884c;&#x722c;&#x866b;&#x6587;&#x4ef6;: /home/tarena/spider/newsSpider.py\n         0 9 * * *  python3 /home/tarena/spider/newsSpider.py\n        \n    3.2) &#x6bcf;&#x5929;09:00-18:00&#x4e4b;&#x95f4;,&#x6bcf;&#x9694;1&#x4e2a;&#x5c0f;&#x65f6;&#x6267;&#x884c;&#x722c;&#x866b;&#x6587;&#x4ef6; newsSpider.py\n         0 9-18/1 * * * python3 /home/tarena/spider/newsSpider.py\n        \n    3.3) &#x6bcf;&#x5468;&#x4e00;&#x548c;&#x5468;&#x65e5;&#x51cc;&#x6668;02:00&#x53bb;&#x6267;&#x884c;py&#x6587;&#x4ef6;\n         0 2 * * 0,1  python3 /home/tarena/spider/newsSpider.py\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"177,202"}}],"payload":{"tag":"h4","lines":"175,176"}},{"content":"PPT&#x4f5c;&#x4e1a;&#x601d;&#x8def;&#x68b3;&#x7406;","children":[{"content":"<pre data-lines=\"205,221\"><code class=\"language-python\">*&#x722c;&#x866b;&#x6587;&#x4ef6;\n&#x3010;<span class=\"hljs-number\">1</span>&#x3011;&#x628a;&#x4e3b;&#x9875;&#x7684;&#x5730;&#x5740;&#x4ea4;&#x7ed9;&#x8c03;&#x5ea6;&#x5668;&#x5165;&#x961f;&#x5217;: start_urls ,&#x8fd4;&#x56de; response &#x53bb;&#x627e;&#x4e0b;&#x4e00;&#x6b65;\n&#x3010;<span class=\"hljs-number\">2</span>&#x3011;&#x62ff;&#x5230;response,&#x63d0;&#x53d6; &#x5927;&#x7c7b;&#x522b;&#x540d;&#x79f0;&#x3001;&#x5927;&#x7c7b;&#x522b;&#x94fe;&#x63a5;,&#x5c06;&#x6240;&#x6709;&#x5927;&#x7c7b;&#x522b;&#x7684;URL&#x4ea4;&#x7ed9;&#x8c03;&#x5ea6;&#x5668;&#x5165;&#x961f;&#x5217;,&#x8fd4;&#x56de;response\n&#x3010;<span class=\"hljs-number\">3</span>&#x3011;&#x62ff;&#x5230;response,&#x63d0;&#x53d6;&#x603b;&#x9875;&#x6570;,&#x5e76;&#x62fc;&#x63a5;&#x6240;&#x6709;&#x9875;&#x7684;URL&#x5730;&#x5740;,&#x4ea4;&#x7ed9;&#x8c03;&#x5ea6;&#x5668;&#x5165;&#x961f;&#x5217;,&#x8fd4;&#x56de;response\n&#x3010;<span class=\"hljs-number\">4</span>&#x3011;&#x62ff;&#x5230;response,&#x63d0;&#x53d6;PPT&#x8be6;&#x60c5;&#x9875;&#x7684;&#x94fe;&#x63a5;,&#x518d;&#x6b21;&#x4ea4;&#x7ed9;&#x8c03;&#x5ea6;&#x5668;&#x5165;&#x961f;&#x5217;\n&#x3010;<span class=\"hljs-number\">5</span>&#x3011;&#x62ff;&#x5230;response,&#x63d0;&#x53d6;PPT&#x7684;&#x4e0b;&#x8f7d;&#x94fe;&#x63a5;,&#x76f4;&#x63a5;&#x4ea4;&#x7ed9;&#x7ba1;&#x9053;&#x6587;&#x4ef6;&#x53bb;&#x5904;&#x7406;\n\n&#x7ba1;&#x9053;&#x6587;&#x4ef6;\n&#x3010;<span class=\"hljs-number\">6</span>&#x3011;&#x4f7f;&#x7528;FilesPipeline&#x7c7b;,&#x91cd;&#x5199;<span class=\"hljs-number\">2</span>&#x4e2a;&#x65b9;&#x6cd5;\n    <span class=\"hljs-number\">6.1</span>) get_media_requests()\n    <span class=\"hljs-number\">6.2</span>) file_path()\n    \n*settings.py\n&#x3010;<span class=\"hljs-number\">7</span>&#x3011;FILES_STORE = <span class=\"hljs-string\">&apos;./data/ppt/&apos;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"205,221"}}],"payload":{"tag":"h4","lines":"203,204"}}],"payload":{"tag":"h3","lines":"147,148"}}],"payload":{"tag":"h2","lines":"99,100"}},{"content":"&#x5206;&#x5e03;&#x5f0f;&#x722c;&#x866b;","children":[{"content":"&#x5206;&#x5e03;&#x5f0f;&#x722c;&#x866b;&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"226,234\"><code class=\"language-python\">&#x3010;1&#x3011;&#x539f;&#x7406;\n    &#x591a;&#x53f0;&#x4e3b;&#x673a;&#x5171;&#x4eab;1&#x4e2a;&#x722c;&#x53d6;&#x961f;&#x5217;\n    \n&#x3010;2&#x3011;&#x5b9e;&#x73b0;\n    2.1) &#x91cd;&#x5199;scrapy&#x8c03;&#x5ea6;&#x5668;(scrapy_redis&#x6a21;&#x5757;)\n    2.2) sudo pip3 install scrapy_redis\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"226,234"}}],"payload":{"tag":"h3","lines":"224,225"}},{"content":"&#x4e3a;&#x4ec0;&#x4e48;&#x4f7f;&#x7528;redis","children":[{"content":"<pre data-lines=\"237,241\"><code class=\"language-python\">&#x3010;1&#x3011;Redis&#x57fa;&#x4e8e;&#x5185;&#x5b58;,&#x901f;&#x5ea6;&#x5feb;\n&#x3010;2&#x3011;Redis&#x975e;&#x5173;&#x7cfb;&#x578b;&#x6570;&#x636e;&#x5e93;,Redis&#x4e2d;&#x96c6;&#x5408;,&#x5b58;&#x50a8;&#x6bcf;&#x4e2a;request&#x7684;&#x6307;&#x7eb9;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"237,241"}}],"payload":{"tag":"h3","lines":"235,236"}}],"payload":{"tag":"h2","lines":"222,223"}},{"content":"scrapy_redis&#x8be6;&#x89e3;","children":[{"content":"settings.py&#x8bf4;&#x660e;","children":[{"content":"<pre data-lines=\"252,279\"><code class=\"language-python\"><span class=\"hljs-comment\"># &#x91cd;&#x65b0;&#x6307;&#x5b9a;&#x8c03;&#x5ea6;&#x5668;: &#x542f;&#x7528;Redis&#x8c03;&#x5ea6;&#x5b58;&#x50a8;&#x8bf7;&#x6c42;&#x961f;&#x5217;</span>\nSCHEDULER = <span class=\"hljs-string\">&quot;scrapy_redis.scheduler.Scheduler&quot;</span>\n\n<span class=\"hljs-comment\"># &#x91cd;&#x65b0;&#x6307;&#x5b9a;&#x53bb;&#x91cd;&#x673a;&#x5236;: &#x786e;&#x4fdd;&#x6240;&#x6709;&#x7684;&#x722c;&#x866b;&#x901a;&#x8fc7;Redis&#x53bb;&#x91cd;</span>\nDUPEFILTER_CLASS = <span class=\"hljs-string\">&quot;scrapy_redis.dupefilter.RFPDupeFilter&quot;</span>\n\n<span class=\"hljs-comment\"># &#x4e0d;&#x6e05;&#x9664;Redis&#x961f;&#x5217;: &#x6682;&#x505c;/&#x6062;&#x590d;/&#x65ad;&#x70b9;&#x7eed;&#x722c;(&#x9ed8;&#x8ba4;&#x6e05;&#x9664;&#x4e3a;False,&#x8bbe;&#x7f6e;&#x4e3a;True&#x4e0d;&#x6e05;&#x9664;)</span>\nSCHEDULER_PERSIST = <span class=\"hljs-literal\">True</span>\n\n<span class=\"hljs-comment\"># &#x4f18;&#x5148;&#x7ea7;&#x961f;&#x5217; &#xff08;&#x9ed8;&#x8ba4;&#xff09;</span>\nSCHEDULER_QUEUE_CLASS = <span class=\"hljs-string\">&apos;scrapy_redis.queue.PriorityQueue&apos;</span>\n<span class=\"hljs-comment\">#&#x53ef;&#x9009;&#x7528;&#x7684;&#x5176;&#x5b83;&#x961f;&#x5217;</span>\n<span class=\"hljs-comment\"># &#x5148;&#x8fdb;&#x5148;&#x51fa;</span>\nSCHEDULER_QUEUE_CLASS = <span class=\"hljs-string\">&apos;scrapy_redis.queue.FifoQueue&apos;</span>\n<span class=\"hljs-comment\"># &#x540e;&#x8fdb;&#x5148;&#x51fa;</span>\nSCHEDULER_QUEUE_CLASS = <span class=\"hljs-string\">&apos;scrapy_redis.queue.LifoQueue&apos;</span>\n\n<span class=\"hljs-comment\"># redis&#x7ba1;&#x9053;</span>\nITEM_PIPELINES = {\n    <span class=\"hljs-string\">&apos;scrapy_redis.pipelines.RedisPipeline&apos;</span>: <span class=\"hljs-number\">300</span>\n}\n\n<span class=\"hljs-comment\">#&#x6307;&#x5b9a;&#x8fde;&#x63a5;&#x5230;redis&#x65f6;&#x4f7f;&#x7528;&#x7684;&#x7aef;&#x53e3;&#x548c;&#x5730;&#x5740;</span>\nREDIS_HOST = <span class=\"hljs-string\">&apos;localhost&apos;</span>\nREDIS_PORT = <span class=\"hljs-number\">6379</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"252,279"}}],"payload":{"tag":"h3","lines":"250,251"}}],"payload":{"tag":"h2","lines":"242,243"}},{"content":"&#x817e;&#x8baf;&#x62db;&#x8058;&#x5206;&#x5e03;&#x5f0f;&#x6539;&#x5199;","children":[{"content":"&#x5206;&#x5e03;&#x5f0f;&#x722c;&#x866b;&#x5b8c;&#x6210;&#x6b65;&#x9aa4;","children":[{"content":"<pre data-lines=\"284,288\"><code class=\"language-python\">&#x3010;1&#x3011;&#x9996;&#x5148;&#x5b8c;&#x6210;&#x975e;&#x5206;&#x5e03;&#x5f0f;scrapy&#x722c;&#x866b; : &#x6b63;&#x5e38;scrapy&#x722c;&#x866b;&#x9879;&#x76ee;&#x6293;&#x53d6;\n&#x3010;2&#x3011;&#x8bbe;&#x7f6e;,&#x90e8;&#x7f72;&#x6210;&#x4e3a;&#x5206;&#x5e03;&#x5f0f;&#x722c;&#x866b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"284,288"}}],"payload":{"tag":"h3","lines":"282,283"}},{"content":"&#x5206;&#x5e03;&#x5f0f;&#x73af;&#x5883;&#x8bf4;&#x660e;","children":[{"content":"<pre data-lines=\"291,297\"><code class=\"language-python\">&#x3010;1&#x3011;&#x5206;&#x5e03;&#x5f0f;&#x722c;&#x866b;&#x670d;&#x52a1;&#x5668;&#x6570;&#x91cf;: 2&#xff08;&#x5176;&#x4e2d;1&#x53f0;Windows,1&#x53f0;Ubuntu&#x865a;&#x62df;&#x673a;&#xff09;\n&#x3010;2&#x3011;&#x670d;&#x52a1;&#x5668;&#x5206;&#x5de5;:\n    2.1) Windows : &#x8d1f;&#x8d23;&#x6570;&#x636e;&#x6293;&#x53d6;\n    2.2) Ubuntu  : &#x8d1f;&#x8d23;URL&#x5730;&#x5740;&#x7edf;&#x4e00;&#x7ba1;&#x7406;,&#x540c;&#x65f6;&#x8d1f;&#x8d23;&#x6570;&#x636e;&#x6293;&#x53d6;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"291,297"}}],"payload":{"tag":"h3","lines":"289,290"}},{"content":"&#x817e;&#x8baf;&#x62db;&#x8058;&#x5206;&#x5e03;&#x5f0f;&#x722c;&#x866b; - &#x6570;&#x636e;&#x540c;&#x65f6;&#x5b58;&#x5165;1&#x4e2a;Redis&#x6570;&#x636e;&#x5e93;","children":[{"content":"<pre data-lines=\"300,324\"><code class=\"language-python\">&#x3010;<span class=\"hljs-number\">1</span>&#x3011;&#x5b8c;&#x6210;&#x6b63;&#x5e38;scrapy&#x9879;&#x76ee;&#x6570;&#x636e;&#x6293;&#x53d6;&#xff08;&#x975e;&#x5206;&#x5e03;&#x5f0f; - &#x62f7;&#x8d1d;&#x4e4b;&#x524d;&#x7684;Tencent&#xff09;\n\n&#x3010;<span class=\"hljs-number\">2</span>&#x3011;&#x8bbe;&#x7f6e;settings.py&#xff0c;&#x5b8c;&#x6210;&#x5206;&#x5e03;&#x5f0f;&#x8bbe;&#x7f6e;\n    <span class=\"hljs-number\">2.1</span>-&#x5fc5;&#x987b;) &#x4f7f;&#x7528;scrapy_redis&#x7684;&#x8c03;&#x5ea6;&#x5668;\n         SCHEDULER = <span class=\"hljs-string\">&quot;scrapy_redis.scheduler.Scheduler&quot;</span>\n        \n    <span class=\"hljs-number\">2.2</span>-&#x5fc5;&#x987b;) &#x4f7f;&#x7528;scrapy_redis&#x7684;&#x53bb;&#x91cd;&#x673a;&#x5236;\n         DUPEFILTER_CLASS = <span class=\"hljs-string\">&quot;scrapy_redis.dupefilter.RFPDupeFilter&quot;</span>\n        \n    <span class=\"hljs-number\">2.3</span>-&#x5fc5;&#x987b;) &#x5b9a;&#x4e49;redis&#x4e3b;&#x673a;&#x5730;&#x5740;&#x548c;&#x7aef;&#x53e3;&#x53f7;\n         REDIS_HOST = <span class=\"hljs-string\">&apos;192.168.1.107&apos;</span>\n         REDIS_PORT = <span class=\"hljs-number\">6379</span>\n        \n    <span class=\"hljs-number\">2.4</span>-&#x975e;&#x5fc5;&#x987b;) &#x662f;&#x5426;&#x6e05;&#x9664;&#x8bf7;&#x6c42;&#x6307;&#x7eb9;,<span class=\"hljs-literal\">True</span>:&#x4e0d;&#x6e05;&#x9664; <span class=\"hljs-literal\">False</span>:&#x6e05;&#x9664;&#xff08;&#x9ed8;&#x8ba4;&#xff09;\n         SCHEDULER_PERSIST = <span class=\"hljs-literal\">True</span>\n        \n    <span class=\"hljs-number\">2.5</span>-&#x975e;&#x5fc5;&#x987b;) &#x5728;ITEM_PIPELINES&#x4e2d;&#x6dfb;&#x52a0;redis&#x7ba1;&#x9053;,&#x6570;&#x636e;&#x5c06;&#x4f1a;&#x5b58;&#x5165;redis&#x6570;&#x636e;&#x5e93;\n         <span class=\"hljs-string\">&apos;scrapy_redis.pipelines.RedisPipeline&apos;</span>: <span class=\"hljs-number\">200</span>\n            \n&#x3010;<span class=\"hljs-number\">3</span>&#x3011;&#x628a;&#x4ee3;&#x7801;&#x539f;&#x5c01;&#x4e0d;&#x52a8;&#x7684;&#x62f7;&#x8d1d;&#x5230;&#x5206;&#x5e03;&#x5f0f;&#x4e2d;&#x7684;&#x5176;&#x4ed6;&#x722c;&#x866b;&#x670d;&#x52a1;&#x5668;,&#x540c;&#x65f6;&#x5f00;&#x59cb;&#x8fd0;&#x884c;&#x722c;&#x866b;\n\n&#x3010;&#x7ed3;&#x679c;&#x3011;&#xff1a;&#x591a;&#x53f0;&#x673a;&#x5668;&#x540c;&#x65f6;&#x6293;&#x53d6;,&#x6570;&#x636e;&#x4f1a;&#x7edf;&#x4e00;&#x5b58;&#x5230;Ubuntu&#x7684;redis&#x4e2d;&#xff0c;&#x800c;&#x4e14;&#x6240;&#x6293;&#x6570;&#x636e;&#x4e0d;&#x91cd;&#x590d;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"300,324"}}],"payload":{"tag":"h3","lines":"298,299"}},{"content":"&#x817e;&#x8baf;&#x62db;&#x8058;&#x5206;&#x5e03;&#x5f0f;&#x722c;&#x866b; - &#x6570;&#x636e;&#x5b58;&#x5165;MySQL&#x6570;&#x636e;&#x5e93;","children":[{"content":"<pre data-lines=\"327,356\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;&#x548c;&#x6570;&#x636e;&#x5b58;&#x5165;redis&#x6b65;&#x9aa4;&#x57fa;&#x672c;&#x4e00;&#x6837;,&#x53ea;&#x662f;&#x53d8;&#x66f4;&#x4e00;&#x4e0b;&#x7ba1;&#x9053;&#x548c;MySQL&#x6570;&#x636e;&#x5e93;&#x670d;&#x52a1;&#x5668;&#x7684;IP&#x5730;&#x5740;&quot;&quot;&quot;</span>\n&#x3010;<span class=\"hljs-number\">1</span>&#x3011;settings.py\n    <span class=\"hljs-number\">1.1</span>) SCHEDULER = <span class=\"hljs-string\">&apos;scrapy_redis.scheduler.Scheduler&apos;</span>\n    <span class=\"hljs-number\">1.2</span>) DUPEFILTER_CLASS = <span class=\"hljs-string\">&apos;scrapy_redis.dupefilter.RFPDupeFilter&apos;</span>\n    <span class=\"hljs-number\">1.3</span>) SCHEDULER_PERSIST = <span class=\"hljs-literal\">True</span>\n    <span class=\"hljs-number\">1.4</span>) REDIS_HOST = <span class=\"hljs-string\">&apos;192.168.1.105&apos;</span>\n    <span class=\"hljs-number\">1.5</span>) REDIS_POST = <span class=\"hljs-number\">6379</span>\n    <span class=\"hljs-number\">1.6</span>) ITEM_PIPELINES = {<span class=\"hljs-string\">&apos;Tencent.pipelines.TencentMysqlPipeline&apos;</span> : <span class=\"hljs-number\">300</span>}\n    <span class=\"hljs-number\">1.7</span>) MYSQL_HOST = <span class=\"hljs-string\">&apos;192.168.1.105&apos;</span>\n    \n&#x3010;<span class=\"hljs-number\">2</span>&#x3011;&#x5c06;&#x4ee3;&#x7801;&#x62f7;&#x8d1d;&#x5230;&#x5206;&#x5e03;&#x5f0f;&#x4e2d;&#x6240;&#x6709;&#x722c;&#x866b;&#x670d;&#x52a1;&#x5668;\n\n&#x3010;<span class=\"hljs-number\">3</span>&#x3011;&#x591a;&#x53f0;&#x722c;&#x866b;&#x670d;&#x52a1;&#x5668;&#x540c;&#x65f6;&#x8fd0;&#x884c;scrapy&#x722c;&#x866b;\n\n<span class=\"hljs-comment\"># &#x8d60;&#x9001;&#x817e;&#x8baf;MySQL&#x6570;&#x636e;&#x5e93;&#x5efa;&#x5e93;&#x5efa;&#x8868;&#x8bed;&#x53e5;</span>\n<span class=\"hljs-string\">&quot;&quot;&quot;\ncreate database tencentdb charset utf8;\nuse tencentdb;\ncreate table tencenttab(\njob_name varchar(1000),\njob_type varchar(200),\njob_duty varchar(5000),\njob_require varchar(5000),\njob_address varchar(200),\njob_time varchar(200)\n)charset=utf8;\n&quot;&quot;&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"327,356"}}],"payload":{"tag":"h3","lines":"325,326"}}],"payload":{"tag":"h2","lines":"280,281"}},{"content":"&#x65b0;&#x7684;&#x7bc7;&#x7ae0;","children":[],"payload":{"tag":"h2","lines":"357,358"}},{"content":"&#x817e;&#x8baf;&#x62db;&#x8058;&#x5206;&#x5e03;&#x5f0f;&#x6539;&#x5199;&#x4e4b;&#x65b9;&#x6cd5;&#x4e8c;","children":[{"content":"&#x4f7f;&#x7528;redis_key&#x6539;&#x5199;&#xff08;&#x540c;&#x65f6;&#x5b58;&#x5165;MySQL&#x6570;&#x636e;&#x5e93;&#xff09;","children":[{"content":"<pre data-lines=\"363,392\"><code class=\"language-python\">&#x3010;<span class=\"hljs-number\">1</span>&#x3011;settings.py&#x548c;&#x65b9;&#x6cd5;&#x4e00;&#x4e2d;&#x5199;&#x6cd5;&#x4e00;&#x81f4;\n    <span class=\"hljs-number\">1.1</span>) SCHEDULER = <span class=\"hljs-string\">&apos;scrapy_redis.scheduler.Scheduler&apos;</span>\n    <span class=\"hljs-number\">1.2</span>) DUPEFILTER_CLASS = <span class=\"hljs-string\">&apos;scrapy_redis.dupefilter.RFPDupeFilter&apos;</span>\n    <span class=\"hljs-number\">1.3</span>) SCHEDULER_PERSIST = <span class=\"hljs-literal\">True</span>\n    <span class=\"hljs-number\">1.4</span>) REDIS_HOST = <span class=\"hljs-string\">&apos;192.168.1.107&apos;</span>\n    <span class=\"hljs-number\">1.5</span>) REDIS_PORT = <span class=\"hljs-number\">6379</span>\n    <span class=\"hljs-number\">1.6</span>) ITEM_PIPELINES = {<span class=\"hljs-string\">&apos;Tencent.pipelines.TencentMysqlPipeline&apos;</span> : <span class=\"hljs-number\">300</span>}\n    <span class=\"hljs-number\">1.7</span>) MYSQL_HOST = <span class=\"hljs-string\">&apos;192.168.1.107&apos;</span>\n    \n&#x3010;<span class=\"hljs-number\">2</span>&#x3011;&#x722c;&#x866b;&#x6587;&#x4ef6;:tencent.py (&#x5fc5;&#x987b;&#x57fa;&#x4e8e;start_urls)\n    <span class=\"hljs-keyword\">from</span> scrapy_redis.spiders <span class=\"hljs-keyword\">import</span> RedisSpider\n    <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">TencentSpider</span>(<span class=\"hljs-title class_ inherited__\">RedisSpider</span>):\n        <span class=\"hljs-comment\"># 1. &#x53bb;&#x6389;start_urls</span>\n        <span class=\"hljs-comment\"># 2. &#x5b9a;&#x4e49;redis_key</span>\n        redis_key = <span class=\"hljs-string\">&apos;tencent:spider&apos;</span>\n        <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">parse</span>(<span class=\"hljs-params\">self,response</span>):\n            <span class=\"hljs-keyword\">pass</span>\n        \n&#x3010;<span class=\"hljs-number\">3</span>&#x3011;&#x628a;&#x4ee3;&#x7801;&#x590d;&#x5236;&#x5230;&#x6240;&#x6709;&#x722c;&#x866b;&#x670d;&#x52a1;&#x5668;&#xff0c;&#x5e76;&#x542f;&#x52a8;&#x9879;&#x76ee;\n\n&#x3010;<span class=\"hljs-number\">4</span>&#x3011;&#x5230;redis&#x547d;&#x4ee4;&#x884c;&#xff0c;&#x6267;&#x884c;LPUSH&#x547d;&#x4ee4;&#x538b;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x722c;&#x53d6;&#x7684;URL&#x5730;&#x5740;\n    &gt;LPUSH tencent:spider &#x7b2c;<span class=\"hljs-number\">1</span>&#x9875;&#x7684;URL&#x5730;&#x5740;\n\n&#x3010;&#x6ce8;&#x610f;&#x3011;: &#x9879;&#x76ee;&#x722c;&#x53d6;&#x7ed3;&#x675f;&#x540e;&#x65e0;&#x6cd5;&#x9000;&#x51fa;&#xff0c;&#x5982;&#x4f55;&#x9000;&#x51fa;&#xff1f;\nsetting.py\nCLOSESPIDER_TIMEOUT = <span class=\"hljs-number\">3600</span>\n<span class=\"hljs-comment\"># &#x5230;&#x6307;&#x5b9a;&#x65f6;&#x95f4;(3600&#x79d2;)&#x65f6;,&#x4f1a;&#x81ea;&#x52a8;&#x7ed3;&#x675f;&#x5e76;&#x9000;&#x51fa;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"363,392"}}],"payload":{"tag":"h4","lines":"361,362"}}],"payload":{"tag":"h2","lines":"359,360"}},{"content":"&#x673a;&#x5668;&#x89c6;&#x89c9;&#x4e0e;tesseract","children":[{"content":"&#x6982;&#x8ff0;","children":[{"content":"<pre data-lines=\"398,412\"><code class=\"language-python\">&#x3010;1&#x3011;&#x4f5c;&#x7528;\n    &#x5904;&#x7406;&#x56fe;&#x5f62;&#x9a8c;&#x8bc1;&#x7801;\n\n&#x3010;2&#x3011;&#x4e09;&#x4e2a;&#x91cd;&#x8981;&#x6982;&#x5ff5; - OCR&#x3001;tesseract-ocr&#x3001;pytesseract\n    2.1) OCR\n        &#x5149;&#x5b66;&#x5b57;&#x7b26;&#x8bc6;&#x522b;(Optical Character Recognition),&#x901a;&#x8fc7;&#x626b;&#x63cf;&#x7b49;&#x5149;&#x5b66;&#x8f93;&#x5165;&#x65b9;&#x5f0f;&#x5c06;&#x5404;&#x79cd;&#x7968;&#x636e;&#x3001;&#x62a5;&#x520a;&#x3001;&#x4e66;&#x7c4d;&#x3001;&#x6587;&#x7a3f;&#x53ca;&#x5176;&#x5b83;&#x5370;&#x5237;&#x54c1;&#x7684;&#x6587;&#x5b57;&#x8f6c;&#x5316;&#x4e3a;&#x56fe;&#x50cf;&#x4fe1;&#x606f;&#xff0c;&#x518d;&#x5229;&#x7528;&#x6587;&#x5b57;&#x8bc6;&#x522b;&#x6280;&#x672f;&#x5c06;&#x56fe;&#x50cf;&#x4fe1;&#x606f;&#x8f6c;&#x5316;&#x4e3a;&#x7535;&#x5b50;&#x6587;&#x672c;\n\n    2.2) tesseract-ocr\n        OCR&#x7684;&#x4e00;&#x4e2a;&#x5e95;&#x5c42;&#x8bc6;&#x522b;&#x5e93;&#xff08;&#x4e0d;&#x662f;&#x6a21;&#x5757;&#xff0c;&#x4e0d;&#x80fd;&#x5bfc;&#x5165;&#xff09;&#xff0c;&#x7531;Google&#x7ef4;&#x62a4;&#x7684;&#x5f00;&#x6e90;OCR&#x8bc6;&#x522b;&#x5e93;\n\n    2.3) pytesseract\n        Python&#x6a21;&#x5757;,&#x53ef;&#x8c03;&#x7528;&#x5e95;&#x5c42;&#x8bc6;&#x522b;&#x5e93;&#xff0c;&#x662f;&#x5bf9;tesseract-ocr&#x505a;&#x7684;&#x4e00;&#x5c42;Python API&#x5c01;&#x88c5;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"398,412"}}],"payload":{"tag":"h3","lines":"396,397"}},{"content":"&#x5b89;&#x88c5;tesseract-ocr","children":[{"content":"<pre data-lines=\"415,426\"><code class=\"language-python\">&#x3010;1&#x3011;Ubuntu&#x5b89;&#x88c5;\n    sudo apt-get install tesseract-ocr\n\n&#x3010;2&#x3011;Windows&#x5b89;&#x88c5;\n    2.1) &#x4e0b;&#x8f7d;&#x5b89;&#x88c5;&#x5305;\n    2.2) &#x6dfb;&#x52a0;&#x5230;&#x73af;&#x5883;&#x53d8;&#x91cf;(Path)\n\n&#x3010;3&#x3011;&#x6d4b;&#x8bd5;&#xff08;&#x7ec8;&#x7aef; | cmd&#x547d;&#x4ee4;&#x884c;&#xff09;\n    tesseract xxx.jpg &#x6587;&#x4ef6;&#x540d;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"415,426"}}],"payload":{"tag":"h3","lines":"413,414"}},{"content":"&#x5b89;&#x88c5;pytesseract","children":[{"content":"<pre data-lines=\"429,444\"><code class=\"language-python\">&#x3010;<span class=\"hljs-number\">1</span>&#x3011;&#x5b89;&#x88c5;\n    sudo pip3 install pytesseract\n    \n&#x3010;<span class=\"hljs-number\">2</span>&#x3011;&#x4f7f;&#x7528;&#x793a;&#x4f8b;\n    <span class=\"hljs-keyword\">import</span> pytesseract\n    <span class=\"hljs-comment\"># Python&#x56fe;&#x7247;&#x5904;&#x7406;&#x5e93;</span>\n    <span class=\"hljs-keyword\">from</span> PIL <span class=\"hljs-keyword\">import</span> Image\n\n    <span class=\"hljs-comment\"># &#x521b;&#x5efa;&#x56fe;&#x7247;&#x5bf9;&#x8c61;</span>\n    img = Image.<span class=\"hljs-built_in\">open</span>(<span class=\"hljs-string\">&apos;test1.jpg&apos;</span>)\n    <span class=\"hljs-comment\"># &#x56fe;&#x7247;&#x8f6c;&#x5b57;&#x7b26;&#x4e32;</span>\n    result = pytesseract.image_to_string(img)\n    <span class=\"hljs-built_in\">print</span>(result)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"429,444"}}],"payload":{"tag":"h3","lines":"427,428"}}],"payload":{"tag":"h2","lines":"394,395"}},{"content":"&#x5728;&#x7ebf;&#x6253;&#x7801;&#x5e73;&#x53f0;","children":[{"content":"&#x4e3a;&#x4ec0;&#x4e48;&#x4f7f;&#x7528;&#x5728;&#x7ebf;&#x6253;&#x7801;","children":[{"content":"<pre data-lines=\"449,452\"><code class=\"language-python\">tesseract-ocr&#x8bc6;&#x522b;&#x7387;&#x5f88;&#x4f4e;,&#x6587;&#x5b57;&#x53d8;&#x5f62;&#x3001;&#x5e72;&#x6270;&#xff0c;&#x5bfc;&#x81f4;&#x65e0;&#x6cd5;&#x8bc6;&#x522b;&#x9a8c;&#x8bc1;&#x7801;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"449,452"}}],"payload":{"tag":"h3","lines":"447,448"}},{"content":"&#x4e91;&#x6253;&#x7801;&#x5e73;&#x53f0;&#x4f7f;&#x7528;&#x6b65;&#x9aa4;","children":[{"content":"<pre data-lines=\"455,460\"><code class=\"language-python\">&#x3010;1&#x3011;&#x4e0b;&#x8f7d;&#x5e76;&#x67e5;&#x770b;&#x63a5;&#x53e3;&#x6587;&#x6863;\n&#x3010;2&#x3011;&#x8c03;&#x6574;&#x63a5;&#x53e3;&#x6587;&#x6863;&#xff0c;&#x8c03;&#x6574;&#x4ee3;&#x7801;&#x5e76;&#x63a5;&#x5165;&#x7a0b;&#x5e8f;&#x6d4b;&#x8bd5;\n&#x3010;3&#x3011;&#x771f;&#x6b63;&#x63a5;&#x5165;&#x7a0b;&#x5e8f;&#xff0c;&#x5728;&#x7ebf;&#x8bc6;&#x522b;&#x540e;&#x83b7;&#x53d6;&#x7ed3;&#x679c;&#x5e76;&#x4f7f;&#x7528;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"455,460"}}],"payload":{"tag":"h3","lines":"453,454"}},{"content":"&#x7834;&#x89e3;&#x4e91;&#x6253;&#x7801;&#x7f51;&#x7ad9;&#x9a8c;&#x8bc1;&#x7801;","children":[{"content":"1 - &#x4e0b;&#x8f7d;&#x5e76;&#x8c03;&#x6574;&#x63a5;&#x53e3;&#x6587;&#x6863;&#xff0c;&#x5c01;&#x88c5;&#x6210;&#x51fd;&#x6570;&#xff0c;&#x6253;&#x7801;&#x83b7;&#x53d6;&#x7ed3;&#x679c;","children":[{"content":"<pre data-lines=\"465,581\"><code class=\"language-python\"><span class=\"hljs-keyword\">import</span> http.client, mimetypes, urllib, json, time, requests\n\n<span class=\"hljs-comment\">######################################################################</span>\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">YDMHttp</span>:\n\n    apiurl = <span class=\"hljs-string\">&apos;http://api.yundama.com/api.php&apos;</span>\n    username = <span class=\"hljs-string\">&apos;&apos;</span>\n    password = <span class=\"hljs-string\">&apos;&apos;</span>\n    appid = <span class=\"hljs-string\">&apos;&apos;</span>\n    appkey = <span class=\"hljs-string\">&apos;&apos;</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self, username, password, appid, appkey</span>):\n        <span class=\"hljs-variable language_\">self</span>.username = username  \n        <span class=\"hljs-variable language_\">self</span>.password = password\n        <span class=\"hljs-variable language_\">self</span>.appid = <span class=\"hljs-built_in\">str</span>(appid)\n        <span class=\"hljs-variable language_\">self</span>.appkey = appkey\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">request</span>(<span class=\"hljs-params\">self, fields, files=[]</span>):\n        response = <span class=\"hljs-variable language_\">self</span>.post_url(<span class=\"hljs-variable language_\">self</span>.apiurl, fields, files)\n        response = json.loads(response)\n        <span class=\"hljs-keyword\">return</span> response\n    \n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">balance</span>(<span class=\"hljs-params\">self</span>):\n        data = {<span class=\"hljs-string\">&apos;method&apos;</span>: <span class=\"hljs-string\">&apos;balance&apos;</span>, <span class=\"hljs-string\">&apos;username&apos;</span>: <span class=\"hljs-variable language_\">self</span>.username, <span class=\"hljs-string\">&apos;password&apos;</span>: <span class=\"hljs-variable language_\">self</span>.password, <span class=\"hljs-string\">&apos;appid&apos;</span>: <span class=\"hljs-variable language_\">self</span>.appid, <span class=\"hljs-string\">&apos;appkey&apos;</span>: <span class=\"hljs-variable language_\">self</span>.appkey}\n        response = <span class=\"hljs-variable language_\">self</span>.request(data)\n        <span class=\"hljs-keyword\">if</span> (response):\n            <span class=\"hljs-keyword\">if</span> (response[<span class=\"hljs-string\">&apos;ret&apos;</span>] <span class=\"hljs-keyword\">and</span> response[<span class=\"hljs-string\">&apos;ret&apos;</span>] &lt; <span class=\"hljs-number\">0</span>):\n                <span class=\"hljs-keyword\">return</span> response[<span class=\"hljs-string\">&apos;ret&apos;</span>]\n            <span class=\"hljs-keyword\">else</span>:\n                <span class=\"hljs-keyword\">return</span> response[<span class=\"hljs-string\">&apos;balance&apos;</span>]\n        <span class=\"hljs-keyword\">else</span>:\n            <span class=\"hljs-keyword\">return</span> -<span class=\"hljs-number\">9001</span>\n    \n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">login</span>(<span class=\"hljs-params\">self</span>):\n        data = {<span class=\"hljs-string\">&apos;method&apos;</span>: <span class=\"hljs-string\">&apos;login&apos;</span>, <span class=\"hljs-string\">&apos;username&apos;</span>: <span class=\"hljs-variable language_\">self</span>.username, <span class=\"hljs-string\">&apos;password&apos;</span>: <span class=\"hljs-variable language_\">self</span>.password, <span class=\"hljs-string\">&apos;appid&apos;</span>: <span class=\"hljs-variable language_\">self</span>.appid, <span class=\"hljs-string\">&apos;appkey&apos;</span>: <span class=\"hljs-variable language_\">self</span>.appkey}\n        response = <span class=\"hljs-variable language_\">self</span>.request(data)\n        <span class=\"hljs-keyword\">if</span> (response):\n            <span class=\"hljs-keyword\">if</span> (response[<span class=\"hljs-string\">&apos;ret&apos;</span>] <span class=\"hljs-keyword\">and</span> response[<span class=\"hljs-string\">&apos;ret&apos;</span>] &lt; <span class=\"hljs-number\">0</span>):\n                <span class=\"hljs-keyword\">return</span> response[<span class=\"hljs-string\">&apos;ret&apos;</span>]\n            <span class=\"hljs-keyword\">else</span>:\n                <span class=\"hljs-keyword\">return</span> response[<span class=\"hljs-string\">&apos;uid&apos;</span>]\n        <span class=\"hljs-keyword\">else</span>:\n            <span class=\"hljs-keyword\">return</span> -<span class=\"hljs-number\">9001</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">upload</span>(<span class=\"hljs-params\">self, filename, codetype, timeout</span>):\n        data = {<span class=\"hljs-string\">&apos;method&apos;</span>: <span class=\"hljs-string\">&apos;upload&apos;</span>, <span class=\"hljs-string\">&apos;username&apos;</span>: <span class=\"hljs-variable language_\">self</span>.username, <span class=\"hljs-string\">&apos;password&apos;</span>: <span class=\"hljs-variable language_\">self</span>.password, <span class=\"hljs-string\">&apos;appid&apos;</span>: <span class=\"hljs-variable language_\">self</span>.appid, <span class=\"hljs-string\">&apos;appkey&apos;</span>: <span class=\"hljs-variable language_\">self</span>.appkey, <span class=\"hljs-string\">&apos;codetype&apos;</span>: <span class=\"hljs-built_in\">str</span>(codetype), <span class=\"hljs-string\">&apos;timeout&apos;</span>: <span class=\"hljs-built_in\">str</span>(timeout)}\n        file = {<span class=\"hljs-string\">&apos;file&apos;</span>: filename}\n        response = <span class=\"hljs-variable language_\">self</span>.request(data, file)\n        <span class=\"hljs-keyword\">if</span> (response):\n            <span class=\"hljs-keyword\">if</span> (response[<span class=\"hljs-string\">&apos;ret&apos;</span>] <span class=\"hljs-keyword\">and</span> response[<span class=\"hljs-string\">&apos;ret&apos;</span>] &lt; <span class=\"hljs-number\">0</span>):\n                <span class=\"hljs-keyword\">return</span> response[<span class=\"hljs-string\">&apos;ret&apos;</span>]\n            <span class=\"hljs-keyword\">else</span>:\n                <span class=\"hljs-keyword\">return</span> response[<span class=\"hljs-string\">&apos;cid&apos;</span>]\n        <span class=\"hljs-keyword\">else</span>:\n            <span class=\"hljs-keyword\">return</span> -<span class=\"hljs-number\">9001</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">result</span>(<span class=\"hljs-params\">self, cid</span>):\n        data = {<span class=\"hljs-string\">&apos;method&apos;</span>: <span class=\"hljs-string\">&apos;result&apos;</span>, <span class=\"hljs-string\">&apos;username&apos;</span>: <span class=\"hljs-variable language_\">self</span>.username, <span class=\"hljs-string\">&apos;password&apos;</span>: <span class=\"hljs-variable language_\">self</span>.password, <span class=\"hljs-string\">&apos;appid&apos;</span>: <span class=\"hljs-variable language_\">self</span>.appid, <span class=\"hljs-string\">&apos;appkey&apos;</span>: <span class=\"hljs-variable language_\">self</span>.appkey, <span class=\"hljs-string\">&apos;cid&apos;</span>: <span class=\"hljs-built_in\">str</span>(cid)}\n        response = <span class=\"hljs-variable language_\">self</span>.request(data)\n        <span class=\"hljs-keyword\">return</span> response <span class=\"hljs-keyword\">and</span> response[<span class=\"hljs-string\">&apos;text&apos;</span>] <span class=\"hljs-keyword\">or</span> <span class=\"hljs-string\">&apos;&apos;</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">decode</span>(<span class=\"hljs-params\">self, filename, codetype, timeout</span>):\n        cid = <span class=\"hljs-variable language_\">self</span>.upload(filename, codetype, timeout)\n        <span class=\"hljs-keyword\">if</span> (cid &gt; <span class=\"hljs-number\">0</span>):\n            <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">0</span>, timeout):\n                result = <span class=\"hljs-variable language_\">self</span>.result(cid)\n                <span class=\"hljs-keyword\">if</span> (result != <span class=\"hljs-string\">&apos;&apos;</span>):\n                    <span class=\"hljs-keyword\">return</span> cid, result\n                <span class=\"hljs-keyword\">else</span>:\n                    time.sleep(<span class=\"hljs-number\">1</span>)\n            <span class=\"hljs-keyword\">return</span> -<span class=\"hljs-number\">3003</span>, <span class=\"hljs-string\">&apos;&apos;</span>\n        <span class=\"hljs-keyword\">else</span>:\n            <span class=\"hljs-keyword\">return</span> cid, <span class=\"hljs-string\">&apos;&apos;</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">report</span>(<span class=\"hljs-params\">self, cid</span>):\n        data = {<span class=\"hljs-string\">&apos;method&apos;</span>: <span class=\"hljs-string\">&apos;report&apos;</span>, <span class=\"hljs-string\">&apos;username&apos;</span>: <span class=\"hljs-variable language_\">self</span>.username, <span class=\"hljs-string\">&apos;password&apos;</span>: <span class=\"hljs-variable language_\">self</span>.password, <span class=\"hljs-string\">&apos;appid&apos;</span>: <span class=\"hljs-variable language_\">self</span>.appid, <span class=\"hljs-string\">&apos;appkey&apos;</span>: <span class=\"hljs-variable language_\">self</span>.appkey, <span class=\"hljs-string\">&apos;cid&apos;</span>: <span class=\"hljs-built_in\">str</span>(cid), <span class=\"hljs-string\">&apos;flag&apos;</span>: <span class=\"hljs-string\">&apos;0&apos;</span>}\n        response = <span class=\"hljs-variable language_\">self</span>.request(data)\n        <span class=\"hljs-keyword\">if</span> (response):\n            <span class=\"hljs-keyword\">return</span> response[<span class=\"hljs-string\">&apos;ret&apos;</span>]\n        <span class=\"hljs-keyword\">else</span>:\n            <span class=\"hljs-keyword\">return</span> -<span class=\"hljs-number\">9001</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">post_url</span>(<span class=\"hljs-params\">self, url, fields, files=[]</span>):\n        <span class=\"hljs-keyword\">for</span> key <span class=\"hljs-keyword\">in</span> files:\n            files[key] = <span class=\"hljs-built_in\">open</span>(files[key], <span class=\"hljs-string\">&apos;rb&apos;</span>);\n        res = requests.post(url, files=files, data=fields)\n        <span class=\"hljs-keyword\">return</span> res.text\n\n<span class=\"hljs-comment\">######################################################################</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_result</span>(<span class=\"hljs-params\">filename</span>):\n    <span class=\"hljs-comment\"># &#x7528;&#x6237;&#x540d;</span>\n    username    = <span class=\"hljs-string\">&apos;yibeizi001&apos;</span>\n    <span class=\"hljs-comment\"># &#x5bc6;&#x7801;</span>\n    password    = <span class=\"hljs-string\">&apos;zhishouzhetian001&apos;</span>\n    <span class=\"hljs-comment\"># &#x8f6f;&#x4ef6;&#xff29;&#xff24;&#xff0c;&#x5f00;&#x53d1;&#x8005;&#x5206;&#x6210;&#x5fc5;&#x8981;&#x53c2;&#x6570;&#x3002;&#x767b;&#x5f55;&#x5f00;&#x53d1;&#x8005;&#x540e;&#x53f0;&#x3010;&#x6211;&#x7684;&#x8f6f;&#x4ef6;&#x3011;&#x83b7;&#x5f97;&#xff01;</span>\n    appid       = <span class=\"hljs-number\">1</span>\n    <span class=\"hljs-comment\"># &#x8f6f;&#x4ef6;&#x5bc6;&#x94a5;&#xff0c;&#x5f00;&#x53d1;&#x8005;&#x5206;&#x6210;&#x5fc5;&#x8981;&#x53c2;&#x6570;&#x3002;&#x767b;&#x5f55;&#x5f00;&#x53d1;&#x8005;&#x540e;&#x53f0;&#x3010;&#x6211;&#x7684;&#x8f6f;&#x4ef6;&#x3011;&#x83b7;&#x5f97;&#xff01;</span>\n    appkey      = <span class=\"hljs-string\">&apos;22cc5376925e9387a23cf797cb9ba745&apos;</span>\n    <span class=\"hljs-comment\"># &#x9a8c;&#x8bc1;&#x7801;&#x7c7b;&#x578b;&#xff0c;# &#x4f8b;&#xff1a;1004&#x8868;&#x793a;4&#x4f4d;&#x5b57;&#x6bcd;&#x6570;&#x5b57;&#xff0c;&#x4e0d;&#x540c;&#x7c7b;&#x578b;&#x6536;&#x8d39;&#x4e0d;&#x540c;&#x3002;&#x8bf7;&#x51c6;&#x786e;&#x586b;&#x5199;&#xff0c;&#x5426;&#x5219;&#x5f71;&#x54cd;&#x8bc6;&#x522b;&#x7387;&#x3002;&#x5728;&#x6b64;&#x67e5;&#x8be2;&#x6240;&#x6709;&#x7c7b;&#x578b; http://www.yundama.com/price.html</span>\n    codetype    = <span class=\"hljs-number\">5000</span>\n    <span class=\"hljs-comment\"># &#x8d85;&#x65f6;&#x65f6;&#x95f4;&#xff0c;&#x79d2;</span>\n    timeout     = <span class=\"hljs-number\">60</span>\n    <span class=\"hljs-comment\"># &#x521d;&#x59cb;&#x5316;</span>\n    yundama = YDMHttp(username, password, appid, appkey)\n    <span class=\"hljs-comment\"># &#x767b;&#x9646;&#x4e91;&#x6253;&#x7801;</span>\n    uid = yundama.login()\n    <span class=\"hljs-comment\"># &#x67e5;&#x8be2;&#x4f59;&#x989d;</span>\n    balance = yundama.balance()\n    <span class=\"hljs-comment\"># &#x5f00;&#x59cb;&#x8bc6;&#x522b;&#xff0c;&#x56fe;&#x7247;&#x8def;&#x5f84;&#xff0c;&#x9a8c;&#x8bc1;&#x7801;&#x7c7b;&#x578b;ID&#xff0c;&#x8d85;&#x65f6;&#x65f6;&#x95f4;&#xff08;&#x79d2;&#xff09;&#xff0c;&#x8bc6;&#x522b;&#x7ed3;&#x679c;</span>\n    cid, result = yundama.decode(filename, codetype, timeout)\n\n    <span class=\"hljs-keyword\">return</span> result\n<span class=\"hljs-comment\">######################################################################</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"465,581"}}],"payload":{"tag":"h4","lines":"463,464"}},{"content":"2 - &#x8bbf;&#x95ee;&#x4e91;&#x6253;&#x7801;&#x7f51;&#x7ad9;&#xff0c;&#x83b7;&#x53d6;&#x9a8c;&#x8bc1;&#x7801;&#x5e76;&#x5728;&#x7ebf;&#x8bc6;&#x522b;","children":[{"content":"<pre data-lines=\"584,629\"><code class=\"language-python\"><span class=\"hljs-string\">&apos;&apos;&apos;&#x8bc6;&#x522b;&#x4e91;&#x6253;&#x7801;&#x5b98;&#x7f51;&#x7684;&#x9a8c;&#x8bc1;&#x7801;&apos;&apos;&apos;</span>\n<span class=\"hljs-keyword\">from</span> selenium <span class=\"hljs-keyword\">import</span> webdriver\n<span class=\"hljs-keyword\">from</span> ydmapi <span class=\"hljs-keyword\">import</span> *\n<span class=\"hljs-keyword\">from</span> PIL <span class=\"hljs-keyword\">import</span> Image\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">YdmSpider</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-variable language_\">self</span>.browser = webdriver.Chrome()\n        <span class=\"hljs-variable language_\">self</span>.browser.maximize_window()\n        <span class=\"hljs-variable language_\">self</span>.browser.get(<span class=\"hljs-string\">&apos;http://www.yundama.com/&apos;</span>)\n\n    <span class=\"hljs-comment\"># &#x83b7;&#x53d6;&#x9a8c;&#x8bc1;&#x7801;&#x56fe;&#x7247;&#x622a;&#x53d6;&#x51fa;&#x6765;</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_image</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-comment\"># 1.&#x83b7;&#x53d6;&#x9875;&#x9762;&#x622a;&#x56fe;</span>\n        <span class=\"hljs-variable language_\">self</span>.browser.save_screenshot(<span class=\"hljs-string\">&apos;index.png&apos;</span>)\n        <span class=\"hljs-comment\"># 2.&#x83b7;&#x53d6;&#x9a8c;&#x8bc1;&#x7801;&#x8282;&#x70b9;&#x5750;&#x6807;,&#x628a;&#x56fe;&#x7247;&#x622a;&#x53d6;&#x51fa;&#x6765;</span>\n        <span class=\"hljs-comment\"># location: &#x83b7;&#x53d6;&#x8282;&#x70b9;&#x5de6;&#x4e0a;&#x89d2;&#x7684;&#x5750;&#x6807;(x y)</span>\n        location = <span class=\"hljs-variable language_\">self</span>.browser.find_element_by_xpath(<span class=\"hljs-string\">&apos;//*[@id=&quot;verifyImg&quot;]&apos;</span>).location\n        <span class=\"hljs-comment\"># size: &#x83b7;&#x53d6;&#x8282;&#x70b9;&#x7684;&#x5927;&#x5c0f;(&#x5bbd;&#x5ea6;&#x548c;&#x9ad8;&#x5ea6;)</span>\n        size = <span class=\"hljs-variable language_\">self</span>.browser.find_element_by_xpath(<span class=\"hljs-string\">&apos;//*[@id=&quot;verifyImg&quot;]&apos;</span>).size\n        <span class=\"hljs-comment\"># &#x56db;&#x4e2a;&#x5750;&#x6807;</span>\n        left_x = location[<span class=\"hljs-string\">&apos;x&apos;</span>]\n        left_y = location[<span class=\"hljs-string\">&apos;y&apos;</span>]\n        right_x = left_x + size[<span class=\"hljs-string\">&apos;width&apos;</span>]\n        right_y = left_y + size[<span class=\"hljs-string\">&apos;height&apos;</span>]\n        <span class=\"hljs-comment\"># &#x4ece;index.png&#x4e2d;&#x622a;&#x56fe;&#x56fe;&#x7247;,&#x6ce8;&#x610f;crop()&#x65b9;&#x6cd5;&#x53c2;&#x6570;&#x4e3a;&#x5143;&#x7ec4;</span>\n        img = Image.<span class=\"hljs-built_in\">open</span>(<span class=\"hljs-string\">&apos;index.png&apos;</span>).crop((left_x,left_y,right_x,right_y))\n        img.save(<span class=\"hljs-string\">&apos;verify.png&apos;</span>)\n\n    <span class=\"hljs-comment\"># &#x83b7;&#x53d6;&#x8bc6;&#x522b;&#x7ed3;&#x679c;</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_result</span>(<span class=\"hljs-params\">self</span>):\n        result = get_result(<span class=\"hljs-string\">&apos;verify.png&apos;</span>)\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&apos;&#x8bc6;&#x522b;&#x7ed3;&#x679c;:&apos;</span>,result)\n\n    <span class=\"hljs-comment\"># &#x5165;&#x53e3;&#x51fd;&#x6570;</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">run</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-variable language_\">self</span>.get_image()\n        <span class=\"hljs-variable language_\">self</span>.get_result()\n        <span class=\"hljs-variable language_\">self</span>.browser.close()\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n    spider = YdmSpider()\n    spider.run()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"584,629"}}],"payload":{"tag":"h4","lines":"582,583"}}],"payload":{"tag":"h3","lines":"461,462"}}],"payload":{"tag":"h2","lines":"445,446"}},{"content":"Fiddler&#x6293;&#x5305;&#x5de5;&#x5177;","children":[{"content":"&#x914d;&#x7f6e;Fiddler","children":[{"content":"<pre data-lines=\"634,645\"><code class=\"language-python\">&#x3010;<span class=\"hljs-number\">1</span>&#x3011;Tools -&gt; Options -&gt; HTTPS\n    <span class=\"hljs-number\">1.1</span>) &#x6dfb;&#x52a0;&#x8bc1;&#x4e66;&#x4fe1;&#x4efb;:  &#x52fe;&#x9009; Decrypt Https Traffic &#x540e;&#x5f39;&#x51fa;&#x7a97;&#x53e3;&#xff0c;&#x4e00;&#x8def;&#x786e;&#x8ba4;\n    <span class=\"hljs-number\">1.2</span>) &#x8bbe;&#x7f6e;&#x4e4b;&#x6293;&#x6d4f;&#x89c8;&#x5668;&#x7684;&#x5305;:  ...<span class=\"hljs-keyword\">from</span> browsers only\n\n&#x3010;<span class=\"hljs-number\">2</span>&#x3011;Tools -&gt; Options -&gt; Connections\n    <span class=\"hljs-number\">2.1</span>) &#x8bbe;&#x7f6e;&#x76d1;&#x542c;&#x7aef;&#x53e3;&#xff08;&#x9ed8;&#x8ba4;&#x4e3a;<span class=\"hljs-number\">8888</span>&#xff09;\n\n&#x3010;<span class=\"hljs-number\">3</span>&#x3011;&#x914d;&#x7f6e;&#x5b8c;&#x6210;&#x540e;&#x91cd;&#x542f;Fiddler&#xff08;&#x91cd;&#x8981;&#xff09;\n    <span class=\"hljs-number\">3.1</span>) &#x5173;&#x95ed;Fiddler,&#x518d;&#x6253;&#x5f00;Fiddler\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"634,645"}}],"payload":{"tag":"h3","lines":"632,633"}},{"content":"&#x914d;&#x7f6e;&#x6d4f;&#x89c8;&#x5668;&#x4ee3;&#x7406;","children":[{"content":"<pre data-lines=\"648,660\"><code class=\"language-python\">&#x3010;1&#x3011;&#x5b89;&#x88c5;Proxy SwitchyOmega&#x8c37;&#x6b4c;&#x6d4f;&#x89c8;&#x5668;&#x63d2;&#x4ef6;\n\n&#x3010;2&#x3011;&#x914d;&#x7f6e;&#x4ee3;&#x7406;\n    2.1) &#x70b9;&#x51fb;&#x6d4f;&#x89c8;&#x5668;&#x53f3;&#x4e0a;&#x89d2;&#x63d2;&#x4ef6;SwitchyOmega -&gt; &#x9009;&#x9879; -&gt; &#x65b0;&#x5efa;&#x60c5;&#x666f;&#x6a21;&#x5f0f; -&gt; myproxy(&#x540d;&#x5b57;) -&gt; &#x521b;&#x5efa;\n    2.2) &#x8f93;&#x5165;  HTTP://  127.0.0.1  8888\n    2.3) &#x70b9;&#x51fb; &#xff1a;&#x5e94;&#x7528;&#x9009;&#x9879;\n    \n&#x3010;3&#x3011;&#x70b9;&#x51fb;&#x53f3;&#x4e0a;&#x89d2;SwitchyOmega&#x53ef;&#x5207;&#x6362;&#x4ee3;&#x7406;\n\n&#x3010;&#x6ce8;&#x610f;&#x3011;: &#x4e00;&#x65e6;&#x5207;&#x6362;&#x4e86;&#x81ea;&#x5df1;&#x521b;&#x5efa;&#x7684;&#x4ee3;&#x7406;,&#x5219;&#x5fc5;&#x987b;&#x8981;&#x6253;&#x5f00;Fiddler&#x624d;&#x53ef;&#x4ee5;&#x4e0a;&#x7f51;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"648,660"}}],"payload":{"tag":"h3","lines":"646,647"}},{"content":"Fiddler&#x5e38;&#x7528;&#x83dc;&#x5355;","children":[{"content":"<pre data-lines=\"663,673\"><code class=\"language-python\">&#x3010;1&#x3011;Inspector &#xff1a;&#x67e5;&#x770b;&#x6570;&#x636e;&#x5305;&#x8be6;&#x7ec6;&#x5185;&#x5bb9;\n    1.1) &#x6574;&#x4f53;&#x5206;&#x4e3a;&#x8bf7;&#x6c42;&#x548c;&#x54cd;&#x5e94;&#x4e24;&#x90e8;&#x5206;\n    \n&#x3010;2&#x3011;Inspector&#x5e38;&#x7528;&#x83dc;&#x5355;\n    2.1) Headers &#xff1a;&#x8bf7;&#x6c42;&#x5934;&#x4fe1;&#x606f;\n    2.2) WebForms: POST&#x8bf7;&#x6c42;Form&#x8868;&#x5355;&#x6570;&#x636e; &#xff1a;&lt;body&gt;\n                   GET&#x8bf7;&#x6c42;&#x67e5;&#x8be2;&#x53c2;&#x6570;: &lt;QueryString&gt;\n    2.3) Raw : &#x5c06;&#x6574;&#x4e2a;&#x8bf7;&#x6c42;&#x663e;&#x793a;&#x4e3a;&#x7eaf;&#x6587;&#x672c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"663,673"}}],"payload":{"tag":"h3","lines":"661,662"}}],"payload":{"tag":"h2","lines":"630,631"}},{"content":"&#x79fb;&#x52a8;&#x7aef;app&#x6570;&#x636e;&#x6293;&#x53d6;","children":[{"content":"&#x65b9;&#x6cd5;1 - &#x624b;&#x673a; + Fiddler","children":[{"content":"<pre data-lines=\"678,681\"><code class=\"language-python\">&#x8bbe;&#x7f6e;&#x65b9;&#x6cd5;&#x89c1;&#x6587;&#x4ef6;&#x5939; - &#x79fb;&#x52a8;&#x7aef;&#x6293;&#x5305;&#x914d;&#x7f6e;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"678,681"}}],"payload":{"tag":"h3","lines":"676,677"}},{"content":"&#x65b9;&#x6cd5;2 - F12&#x6d4f;&#x89c8;&#x5668;&#x5de5;&#x5177;","children":[],"payload":{"tag":"h3","lines":"682,683"}},{"content":"&#x6709;&#x9053;&#x7ffb;&#x8bd1;&#x624b;&#x673a;&#x7248;&#x7834;&#x89e3;&#x6848;&#x4f8b;","children":[{"content":"<pre data-lines=\"686,705\"><code class=\"language-python\"><span class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\">from</span> lxml <span class=\"hljs-keyword\">import</span> etree\n\nword = <span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&apos;&#x8bf7;&#x8f93;&#x5165;&#x8981;&#x7ffb;&#x8bd1;&#x7684;&#x5355;&#x8bcd;:&apos;</span>)\n\npost_url = <span class=\"hljs-string\">&apos;http://m.youdao.com/translate&apos;</span>\npost_data = {\n  <span class=\"hljs-string\">&apos;inputtext&apos;</span>:word,\n  <span class=\"hljs-string\">&apos;type&apos;</span>:<span class=\"hljs-string\">&apos;AUTO&apos;</span>\n}\n\nhtml = requests.post(url=post_url,data=post_data).text\nparse_html = etree.HTML(html)\nxpath_bds = <span class=\"hljs-string\">&apos;//ul[@id=&quot;translateResult&quot;]/li/text()&apos;</span>\nresult = parse_html.xpath(xpath_bds)[<span class=\"hljs-number\">0</span>]\n\n<span class=\"hljs-built_in\">print</span>(result)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"686,705"}}],"payload":{"tag":"h3","lines":"684,685"}}],"payload":{"tag":"h2","lines":"674,675"}},{"content":"&#x8865;&#x5145; - &#x6ed1;&#x5757;&#x7f3a;&#x53e3;&#x9a8c;&#x8bc1;&#x7801;&#x6848;&#x4f8b;","children":[{"content":"&#x8c46;&#x74e3;&#x7f51;&#x767b;&#x5f55;","children":[{"content":"&#x6848;&#x4f8b;&#x8bf4;&#x660e;","children":[{"content":"<pre data-lines=\"712,720\"><code class=\"language-python\">&#x3010;1&#x3011;URL&#x5730;&#x5740;: https://www.douban.com/\n&#x3010;2&#x3011;&#x5148;&#x8f93;&#x5165;&#x51e0;&#x6b21;&#x9519;&#x8bef;&#x7684;&#x5bc6;&#x7801;&#xff0c;&#x8ba9;&#x767b;&#x5f55;&#x51fa;&#x73b0;&#x6ed1;&#x5757;&#x7f3a;&#x53e3;&#x9a8c;&#x8bc1;&#xff0c;&#x4ee5;&#x4fbf;&#x4e8e;&#x6211;&#x4eec;&#x7834;&#x89e3;\n&#x3010;3&#x3011;&#x6a21;&#x62df;&#x4eba;&#x7684;&#x884c;&#x4e3a;\n    3.1) &#x5148;&#x5feb;&#x901f;&#x6ed1;&#x52a8;\n    3.2) &#x5230;&#x79bb;&#x91cd;&#x70b9;&#x4f4d;&#x7f6e;&#x4e0d;&#x8fdc;&#x7684;&#x5730;&#x65b9;&#x5f00;&#x59cb;&#x51cf;&#x901f;\n&#x3010;4&#x3011;&#x8be6;&#x7ec6;&#x770b;&#x4ee3;&#x7801;&#x6ce8;&#x91ca;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"712,720"}}],"payload":{"tag":"h4","lines":"710,711"}},{"content":"&#x4ee3;&#x7801;&#x5b9e;&#x73b0;","children":[{"content":"<pre data-lines=\"723,809\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n&#x8bf4;&#x660e;&#xff1a;&#x5148;&#x8f93;&#x5165;&#x51e0;&#x6b21;&#x9519;&#x8bef;&#x7684;&#x5bc6;&#x7801;&#xff0c;&#x51fa;&#x73b0;&#x6ed1;&#x5757;&#x7f3a;&#x53e3;&#x9a8c;&#x8bc1;&#x7801;\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">from</span> selenium <span class=\"hljs-keyword\">import</span> webdriver\n<span class=\"hljs-comment\"># &#x5bfc;&#x5165;&#x9f20;&#x6807;&#x4e8b;&#x4ef6;&#x7c7b;</span>\n<span class=\"hljs-keyword\">from</span> selenium.webdriver <span class=\"hljs-keyword\">import</span> ActionChains\n<span class=\"hljs-keyword\">import</span> time\n\n<span class=\"hljs-comment\"># &#x52a0;&#x901f;&#x5ea6;&#x51fd;&#x6570;</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_tracks</span>(<span class=\"hljs-params\">distance</span>):\n    <span class=\"hljs-string\">&quot;&quot;&quot;\n    &#x62ff;&#x5230;&#x79fb;&#x52a8;&#x8f68;&#x8ff9;&#xff0c;&#x6a21;&#x4eff;&#x4eba;&#x7684;&#x6ed1;&#x52a8;&#x884c;&#x4e3a;&#xff0c;&#x5148;&#x5300;&#x52a0;&#x901f;&#x540e;&#x5300;&#x51cf;&#x901f;\n    &#x5300;&#x53d8;&#x901f;&#x8fd0;&#x52a8;&#x57fa;&#x672c;&#x516c;&#x5f0f;&#xff1a;\n    &#x2460;v=v0+at\n    &#x2461;s=v0t+&#xbd;at&#xb2;\n    &quot;&quot;&quot;</span>\n    <span class=\"hljs-comment\"># &#x521d;&#x901f;&#x5ea6;</span>\n    v = <span class=\"hljs-number\">0</span>\n    <span class=\"hljs-comment\"># &#x5355;&#x4f4d;&#x65f6;&#x95f4;&#x4e3a;0.3s&#x6765;&#x7edf;&#x8ba1;&#x8f68;&#x8ff9;&#xff0c;&#x8f68;&#x8ff9;&#x5373;0.3&#x5185;&#x7684;&#x4f4d;&#x79fb;</span>\n    t = <span class=\"hljs-number\">0.3</span>\n    <span class=\"hljs-comment\"># &#x4f4d;&#x7f6e;/&#x8f68;&#x8ff9;&#x5217;&#x8868;,&#x5217;&#x8868;&#x5185;&#x7684;&#x4e00;&#x4e2a;&#x5143;&#x7d20;&#x4ee3;&#x8868;0.3s&#x7684;&#x4f4d;&#x79fb;</span>\n    tracks = []\n    <span class=\"hljs-comment\"># &#x5f53;&#x524d;&#x7684;&#x4f4d;&#x79fb;</span>\n    current = <span class=\"hljs-number\">0</span>\n    <span class=\"hljs-comment\"># &#x5230;&#x8fbe;mid&#x503c;&#x5f00;&#x59cb;&#x51cf;&#x901f;</span>\n    mid = distance*<span class=\"hljs-number\">4</span>/<span class=\"hljs-number\">5</span>\n    <span class=\"hljs-keyword\">while</span> current &lt; distance:\n        <span class=\"hljs-keyword\">if</span> current &lt; mid:\n            <span class=\"hljs-comment\"># &#x52a0;&#x901f;&#x5ea6;&#x8d8a;&#x5c0f;,&#x5355;&#x4f4d;&#x65f6;&#x95f4;&#x5185;&#x7684;&#x4f4d;&#x79fb;&#x8d8a;&#x5c0f;,&#x6a21;&#x62df;&#x7684;&#x8f68;&#x8ff9;&#x5c31;&#x8d8a;&#x591a;&#x8d8a;&#x8be6;&#x7ec6;</span>\n            a = <span class=\"hljs-number\">2</span>\n        <span class=\"hljs-keyword\">else</span>:\n            a = -<span class=\"hljs-number\">3</span>\n\n        <span class=\"hljs-comment\"># &#x521d;&#x901f;&#x5ea6;</span>\n        v0 = v\n        <span class=\"hljs-comment\"># 0.3&#x79d2;&#x5185;&#x7684;&#x4f4d;&#x79fb;</span>\n        s = v0*t+<span class=\"hljs-number\">0.5</span>*a*(t2)\n        <span class=\"hljs-comment\"># &#x5f53;&#x524d;&#x7684;&#x4f4d;&#x7f6e;</span>\n        current += s\n        <span class=\"hljs-comment\"># &#x6dfb;&#x52a0;&#x5230;&#x8f68;&#x8ff9;&#x5217;&#x8868;</span>\n        tracks.append(<span class=\"hljs-built_in\">round</span>(s))\n        <span class=\"hljs-comment\"># &#x901f;&#x5ea6;&#x5df2;&#x7ecf;&#x8fbe;&#x5230;v&#xff0c;&#x8be5;&#x901f;&#x5ea6;&#x4f5c;&#x4e3a;&#x4e0b;&#x6b21;&#x7684;&#x521d;&#x901f;&#x5ea6;</span>\n        v = v0 + a*t\n    <span class=\"hljs-keyword\">return</span> tracks\n    <span class=\"hljs-comment\"># tracks: [&#x7b2c;&#x4e00;&#x4e2a;0.3&#x79d2;&#x7684;&#x79fb;&#x52a8;&#x8ddd;&#x79bb;,&#x7b2c;&#x4e8c;&#x4e2a;0.3&#x79d2;&#x7684;&#x79fb;&#x52a8;&#x8ddd;&#x79bb;,...]</span>\n\n\n<span class=\"hljs-comment\"># 1&#x3001;&#x6253;&#x5f00;&#x8c46;&#x74e3;&#x5b98;&#x7f51; - &#x5e76;&#x5c06;&#x7a97;&#x53e3;&#x6700;&#x5927;&#x5316;</span>\noptions = webdriver.ChromeOptions()\noptions.add_argument(<span class=\"hljs-string\">&apos;--start-maximized&apos;</span>)\nbrowser = webdriver.Chrome(options=options)\nbrowser.get(<span class=\"hljs-string\">&apos;https://www.douban.com/&apos;</span>)\n\n<span class=\"hljs-comment\"># 2&#x3001;&#x5207;&#x6362;&#x5230;iframe&#x5b50;&#x9875;&#x9762;</span>\nlogin_frame = browser.find_element_by_xpath(<span class=\"hljs-string\">&apos;//*[@id=&quot;anony-reg-new&quot;]/div/div[1]/iframe&apos;</span>)\nbrowser.switch_to.frame(login_frame)\n\n<span class=\"hljs-comment\"># 3&#x3001;&#x5bc6;&#x7801;&#x767b;&#x5f55; + &#x7528;&#x6237;&#x540d; + &#x5bc6;&#x7801; + &#x767b;&#x5f55;&#x8c46;&#x74e3;</span>\nbrowser.find_element_by_xpath(<span class=\"hljs-string\">&apos;/html/body/div[1]/div[1]/ul[1]/li[2]&apos;</span>).click()\nbrowser.find_element_by_xpath(<span class=\"hljs-string\">&apos;//*[@id=&quot;username&quot;]&apos;</span>).send_keys(<span class=\"hljs-string\">&apos;&#x81ea;&#x5df1;&#x7684;&#x7528;&#x6237;&#x540d;&apos;</span>)\nbrowser.find_element_by_xpath(<span class=\"hljs-string\">&apos;//*[@id=&quot;password&quot;]&apos;</span>).send_keys(<span class=\"hljs-string\">&apos;&#x81ea;&#x5df1;&#x7684;&#x5bc6;&#x7801;&apos;</span>)\nbrowser.find_element_by_xpath(<span class=\"hljs-string\">&apos;/html/body/div[1]/div[2]/div[1]/div[5]/a&apos;</span>).click()\ntime.sleep(<span class=\"hljs-number\">4</span>)\n\n<span class=\"hljs-comment\"># 4&#x3001;&#x5207;&#x6362;&#x5230;&#x65b0;&#x7684;iframe&#x5b50;&#x9875;&#x9762; - &#x6ed1;&#x5757;&#x9a8c;&#x8bc1;</span>\nauth_frame = browser.find_element_by_xpath(<span class=\"hljs-string\">&apos;//*[@id=&quot;TCaptcha&quot;]/iframe&apos;</span>)\nbrowser.switch_to.frame(auth_frame)\n\n<span class=\"hljs-comment\"># 5&#x3001;&#x6309;&#x4f4f;&#x5f00;&#x59cb;&#x6ed1;&#x52a8;&#x4f4d;&#x7f6e;&#x6309;&#x94ae; - &#x5148;&#x79fb;&#x52a8;180&#x4e2a;&#x50cf;&#x7d20;</span>\nelement = browser.find_element_by_xpath(<span class=\"hljs-string\">&apos;//*[@id=&quot;tcaptcha_drag_button&quot;]&apos;</span>)\n<span class=\"hljs-comment\"># click_and_hold(): &#x6309;&#x4f4f;&#x67d0;&#x4e2a;&#x8282;&#x70b9;&#x5e76;&#x4fdd;&#x6301;</span>\nActionChains(browser).click_and_hold(on_element=element).perform()\n<span class=\"hljs-comment\"># move_to_element_with_offset(): &#x79fb;&#x52a8;&#x5230;&#x8ddd;&#x79bb;&#x67d0;&#x4e2a;&#x5143;&#x7d20;(&#x5de6;&#x4e0a;&#x89d2;&#x5750;&#x6807;)&#x591a;&#x5c11;&#x8ddd;&#x79bb;&#x7684;&#x4f4d;&#x7f6e;</span>\nActionChains(browser).move_to_element_with_offset(to_element=element,xoffset=<span class=\"hljs-number\">180</span>,yoffset=<span class=\"hljs-number\">0</span>).perform()\n\n<span class=\"hljs-comment\"># 6&#x3001;&#x4f7f;&#x7528;&#x52a0;&#x901f;&#x5ea6;&#x51fd;&#x6570;&#x79fb;&#x52a8;&#x5269;&#x4e0b;&#x7684;&#x8ddd;&#x79bb;</span>\ntracks = get_tracks(<span class=\"hljs-number\">28</span>)\n<span class=\"hljs-keyword\">for</span> track <span class=\"hljs-keyword\">in</span> tracks:\n    <span class=\"hljs-comment\"># move_by_offset() : &#x9f20;&#x6807;&#x4ece;&#x5f53;&#x524d;&#x4f4d;&#x7f6e;&#x79fb;&#x52a8;&#x5230;&#x67d0;&#x4e2a;&#x5750;&#x6807;</span>\n    ActionChains(browser).move_by_offset(xoffset=track,yoffset=<span class=\"hljs-number\">0</span>).perform()\n\n<span class=\"hljs-comment\"># 7&#x3001;&#x5ef6;&#x8fdf;&#x91ca;&#x653e;&#x9f20;&#x6807;: release()</span>\ntime.sleep(<span class=\"hljs-number\">0.5</span>)\nActionChains(browser).release().perform()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"723,809"}}],"payload":{"tag":"h4","lines":"721,722"}}],"payload":{"tag":"h3","lines":"708,709"}}],"payload":{"tag":"h2","lines":"706,707"}},{"content":"&#x722c;&#x866b;&#x603b;&#x7ed3;","children":[{"content":"<pre data-lines=\"812,859\"><code class=\"language-python\"><span class=\"hljs-comment\"># 1&#x3001;&#x4ec0;&#x4e48;&#x662f;&#x722c;&#x866b;</span>\n  &#x722c;&#x866b;&#x662f;&#x8bf7;&#x6c42;&#x7f51;&#x7ad9;&#x5e76;&#x63d0;&#x53d6;&#x6570;&#x636e;&#x7684;&#x81ea;&#x52a8;&#x5316;&#x7a0b;&#x5e8f;\n\n<span class=\"hljs-comment\"># 2&#x3001;robots&#x534f;&#x8bae;&#x662f;&#x4ec0;&#x4e48;</span>\n  &#x722c;&#x866b;&#x534f;&#x8bae;&#x6216;&#x673a;&#x5668;&#x4eba;&#x534f;&#x8bae;,&#x7f51;&#x7ad9;&#x901a;&#x8fc7;robots&#x534f;&#x8bae;&#x544a;&#x8bc9;&#x641c;&#x7d22;&#x5f15;&#x64ce;&#x54ea;&#x4e9b;&#x9875;&#x9762;&#x53ef;&#x4ee5;&#x6293;&#x53d6;&#xff0c;&#x54ea;&#x4e9b;&#x9875;&#x9762;&#x4e0d;&#x80fd;&#x6293;&#x53d6;\n\n<span class=\"hljs-comment\"># 3&#x3001;&#x722c;&#x866b;&#x7684;&#x57fa;&#x672c;&#x6d41;&#x7a0b;</span>\n  <span class=\"hljs-number\">1</span>&#x3001;&#x8bf7;&#x6c42;&#x5f97;&#x5230;&#x54cd;&#x5e94;\n  <span class=\"hljs-number\">2</span>&#x3001;&#x89e3;&#x6790;\n  <span class=\"hljs-number\">3</span>&#x3001;&#x4fdd;&#x5b58;&#x6570;&#x636e;\n\n<span class=\"hljs-comment\"># 4&#x3001;&#x8bf7;&#x6c42;</span>\n  <span class=\"hljs-number\">1</span>&#x3001;urllib\n  <span class=\"hljs-number\">2</span>&#x3001;requests\n  <span class=\"hljs-number\">3</span>&#x3001;scrapy\n\n<span class=\"hljs-comment\"># 5&#x3001;&#x89e3;&#x6790;</span>\n  <span class=\"hljs-number\">1</span>&#x3001;re&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;\n  <span class=\"hljs-number\">2</span>&#x3001;lxml+xpath&#x89e3;&#x6790;\n  <span class=\"hljs-number\">3</span>&#x3001;json&#x89e3;&#x6790;&#x6a21;&#x5757;\n\n<span class=\"hljs-comment\"># 6&#x3001;selenium+browser</span>\n\n<span class=\"hljs-comment\"># 7&#x3001;&#x5e38;&#x89c1;&#x53cd;&#x722c;&#x7b56;&#x7565;</span>\n  <span class=\"hljs-number\">1</span>&#x3001;Headers : &#x6700;&#x57fa;&#x672c;&#x7684;&#x53cd;&#x722c;&#x624b;&#x6bb5;&#xff0c;&#x4e00;&#x822c;&#x88ab;&#x5173;&#x6ce8;&#x7684;&#x53d8;&#x91cf;&#x662f;UserAgent&#x548c;Referer&#xff0c;&#x53ef;&#x4ee5;&#x8003;&#x8651;&#x4f7f;&#x7528;&#x6d4f;&#x89c8;&#x5668;&#x4e2d;\n  <span class=\"hljs-number\">2</span>&#x3001;UA &#xff1a; &#x5efa;&#x7acb;User-Agent&#x6c60;,&#x6bcf;&#x6b21;&#x8bbf;&#x95ee;&#x9875;&#x9762;&#x968f;&#x673a;&#x5207;&#x6362;\n  <span class=\"hljs-number\">3</span>&#x3001;&#x62c9;&#x9ed1;&#x9ad8;&#x9891;&#x8bbf;&#x95ee;IP\n     &#x6570;&#x636e;&#x91cf;&#x5927;&#x7528;&#x4ee3;&#x7406;IP&#x6c60;&#x4f2a;&#x88c5;&#x6210;&#x591a;&#x4e2a;&#x8bbf;&#x95ee;&#x8005;,&#x4e5f;&#x53ef;&#x63a7;&#x5236;&#x722c;&#x53d6;&#x901f;&#x5ea6;\n  <span class=\"hljs-number\">4</span>&#x3001;Cookies\n     &#x5efa;&#x7acb;&#x6709;&#x6548;&#x7684;cookie&#x6c60;&#xff0c;&#x6bcf;&#x6b21;&#x8bbf;&#x95ee;&#x968f;&#x673a;&#x5207;&#x6362;\n  <span class=\"hljs-number\">5</span>&#x3001;&#x9a8c;&#x8bc1;&#x7801;\n    &#x9a8c;&#x8bc1;&#x7801;&#x6570;&#x91cf;&#x8f83;&#x5c11;&#x53ef;&#x4eba;&#x5de5;&#x586b;&#x5199;\n    &#x56fe;&#x5f62;&#x9a8c;&#x8bc1;&#x7801;&#x53ef;&#x4f7f;&#x7528;tesseract&#x8bc6;&#x522b;\n    &#x5176;&#x4ed6;&#x60c5;&#x51b5;&#x53ea;&#x80fd;&#x5728;&#x7ebf;&#x6253;&#x7801;&#x3001;&#x4eba;&#x5de5;&#x6253;&#x7801;&#x548c;&#x8bad;&#x7ec3;&#x673a;&#x5668;&#x5b66;&#x4e60;&#x6a21;&#x578b;\n  <span class=\"hljs-number\">6</span>&#x3001;&#x52a8;&#x6001;&#x751f;&#x6210;\n    &#x4e00;&#x822c;&#x7531;js&#x52a8;&#x6001;&#x751f;&#x6210;&#x7684;&#x6570;&#x636e;&#x90fd;&#x662f;&#x5411;&#x7279;&#x5b9a;&#x7684;&#x5730;&#x5740;&#x53d1;get&#x8bf7;&#x6c42;&#x5f97;&#x5230;&#x7684;&#xff0c;&#x8fd4;&#x56de;&#x7684;&#x4e00;&#x822c;&#x662f;json\n  <span class=\"hljs-number\">7</span>&#x3001;&#x7b7e;&#x540d;&#x53ca;js&#x52a0;&#x5bc6;\n    &#x4e00;&#x822c;&#x4e3a;&#x672c;&#x5730;JS&#x52a0;&#x5bc6;,&#x67e5;&#x627e;&#x672c;&#x5730;JS&#x6587;&#x4ef6;,&#x5206;&#x6790;,&#x6216;&#x8005;&#x4f7f;&#x7528;execjs&#x6a21;&#x5757;&#x6267;&#x884c;JS\n  <span class=\"hljs-number\">8</span>&#x3001;js&#x8c03;&#x6574;&#x9875;&#x9762;&#x7ed3;&#x6784;\n  <span class=\"hljs-number\">9</span>&#x3001;js&#x5728;&#x54cd;&#x5e94;&#x4e2d;&#x6307;&#x5411;&#x65b0;&#x7684;&#x5730;&#x5740;\n\n<span class=\"hljs-comment\"># 8&#x3001;scrapy&#x6846;&#x67b6;&#x7684;&#x8fd0;&#x884c;&#x673a;&#x5236;</span>\n\n<span class=\"hljs-comment\"># 9&#x3001;&#x5206;&#x5e03;&#x5f0f;&#x722c;&#x866b;&#x7684;&#x539f;&#x7406;</span>\n  &#x591a;&#x53f0;&#x4e3b;&#x673a;&#x5171;&#x4eab;&#x4e00;&#x4e2a;&#x722c;&#x53d6;&#x961f;&#x5217;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"812,859"}}],"payload":{"tag":"h2","lines":"810,811"}}],"payload":{"tag":"h1","lines":"97,98"}}]},{})</script>
</body>
</html>
