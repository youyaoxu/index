<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"<a href=\"#transition-group\">#</a> transition-group","children":[{"content":"&#x8ba4;&#x8bc6;","children":[{"content":"<pre data-lines=\"6,9\"><code>&#x524d;&#x4e00;&#x8282;&#x6211;&#x4eec;&#x4ecb;&#x7ecd;&#x4e86; `&lt;transiiton&gt;` &#x7ec4;&#x4ef6;&#x7684;&#x5b9e;&#x73b0;&#x539f;&#x7406;&#xff0c;&#x5b83;&#x53ea;&#x80fd;&#x9488;&#x5bf9;&#x5355;&#x4e00;&#x5143;&#x7d20;&#x5b9e;&#x73b0;&#x8fc7;&#x6e21;&#x6548;&#x679c;&#x3002;&#x6211;&#x4eec;&#x505a;&#x524d;&#x7aef;&#x5f00;&#x53d1;&#x7ecf;&#x5e38;&#x4f1a;&#x9047;&#x5230;&#x5217;&#x8868;&#x7684;&#x9700;&#x6c42;&#xff0c;&#x6211;&#x4eec;&#x5bf9;&#x5217;&#x8868;&#x5143;&#x7d20;&#x8fdb;&#x884c;&#x6dfb;&#x52a0;&#x548c;&#x5220;&#x9664;&#xff0c;&#x6709;&#x65f6;&#x5019;&#x4e5f;&#x5e0c;&#x671b;&#x6709;&#x8fc7;&#x6e21;&#x6548;&#x679c;&#xff0c;Vue.js &#x63d0;&#x4f9b;&#x4e86; `&lt;transition-group&gt;` &#x7ec4;&#x4ef6;&#xff0c;&#x5f88;&#x597d;&#x5730;&#x5e2e;&#x52a9;&#x6211;&#x4eec;&#x5b9e;&#x73b0;&#x4e86;&#x5217;&#x8868;&#x7684;&#x8fc7;&#x6e21;&#x6548;&#x679c;&#x3002;&#x90a3;&#x4e48;&#x63a5;&#x4e0b;&#x6765;&#x6211;&#x4eec;&#x5c31;&#x6765;&#x5206;&#x6790;&#x4e00;&#x4e0b;&#x5b83;&#x7684;&#x5b9e;&#x73b0;&#x539f;&#x7406;&#x3002;\n\n&#x4e3a;&#x4e86;&#x66f4;&#x76f4;&#x89c2;&#xff0c;&#x6211;&#x4eec;&#x4e5f;&#x662f;&#x901a;&#x8fc7;&#x4e00;&#x4e2a;&#x793a;&#x4f8b;&#x6765;&#x8bf4;&#x660e;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"6,9"}},{"content":"<pre data-lines=\"10,39\"><code data-lines=\"10,39\">let vm = new Vue({\n  el: <span class=\"hljs-string\">&apos;#app&apos;</span>,\n  template: <span class=\"hljs-string\">&apos;&lt;div id=&quot;</span><span class=\"hljs-built_in\">list</span>-complete-demo<span class=\"hljs-string\">&quot; class=&quot;</span>demo<span class=\"hljs-string\">&quot;&gt;&apos;</span> +\n  <span class=\"hljs-string\">&apos;&lt;button v-on:click=&quot;</span>add<span class=\"hljs-string\">&quot;&gt;Add&lt;/button&gt;&apos;</span> +\n  <span class=\"hljs-string\">&apos;&lt;button v-on:click=&quot;</span>remove<span class=\"hljs-string\">&quot;&gt;Remove&lt;/button&gt;&apos;</span> +\n  <span class=\"hljs-string\">&apos;&lt;transition-group name=&quot;</span><span class=\"hljs-built_in\">list</span>-complete<span class=\"hljs-string\">&quot; tag=&quot;</span>p<span class=\"hljs-string\">&quot;&gt;&apos;</span> +\n  <span class=\"hljs-string\">&apos;&lt;span v-for=&quot;</span>item in items<span class=\"hljs-string\">&quot; v-bind:key=&quot;</span>item<span class=\"hljs-string\">&quot; class=&quot;</span><span class=\"hljs-built_in\">list</span>-complete-item<span class=\"hljs-string\">&quot;&gt;&apos;</span> +\n  <span class=\"hljs-string\">&apos;{{ item }}&apos;</span> +\n  <span class=\"hljs-string\">&apos;&lt;/span&gt;&apos;</span> +\n  <span class=\"hljs-string\">&apos;&lt;/transition-group&gt;&apos;</span> +\n  <span class=\"hljs-string\">&apos;&lt;/div&gt;&apos;</span>,\n  data: {\n    items: [<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">6</span>, <span class=\"hljs-number\">7</span>, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">9</span>],\n    nextNum: <span class=\"hljs-number\">10</span>\n  },\n  methods: {\n    randomIndex: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-params\">()</span> {</span>\n      <span class=\"hljs-keyword\">return</span> Math.<span class=\"hljs-built_in\">floor</span>(Math.random() * this.items.<span class=\"hljs-built_in\">length</span>)\n    },\n    add: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-params\">()</span> {</span>\n      this.items.splice(this.randomIndex(), <span class=\"hljs-number\">0</span>, this.nextNum++)\n    },\n    remove: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-params\">()</span> {</span>\n      this.items.splice(this.randomIndex(), <span class=\"hljs-number\">1</span>)\n    }\n  }\n}) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"10,39"}},{"content":"<pre data-lines=\"40,60\"><code data-lines=\"40,60\"> .<span class=\"hljs-built_in\">list-complete-item</span> {\n  <span class=\"hljs-string\">display</span>: <span class=\"hljs-string\">inline-block</span>;\n  <span class=\"hljs-string\">margin-right</span>: <span class=\"hljs-string\">10px</span>;\n}\n.<span class=\"hljs-built_in\">list-complete-move</span> {\n  <span class=\"hljs-string\">transition</span>: <span class=\"hljs-string\">all</span> <span class=\"hljs-string\">1s</span>;\n}\n.<span class=\"hljs-built_in\">list-complete-enter,</span> .<span class=\"hljs-built_in\">list-complete-leave-to</span> {\n  <span class=\"hljs-string\">opacity</span>: <span class=\"hljs-string\">0</span>;\n  <span class=\"hljs-string\">transform</span>: <span class=\"hljs-string\">translateY</span>(<span class=\"hljs-string\">30px</span>);\n}\n.<span class=\"hljs-built_in\">list-complete-enter-active</span> {\n  <span class=\"hljs-string\">transition</span>: <span class=\"hljs-string\">all</span> <span class=\"hljs-string\">1s</span>;\n}\n.<span class=\"hljs-built_in\">list-complete-leave-active</span> {\n  <span class=\"hljs-string\">transition</span>: <span class=\"hljs-string\">all</span> <span class=\"hljs-string\">1s</span>;\n  <span class=\"hljs-string\">position</span>: <span class=\"hljs-string\">absolute</span>;\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"40,60"}},{"content":"<pre data-lines=\"61,64\"><code>&#x8fd9;&#x4e2a;&#x793a;&#x4f8b;&#x521d;&#x59cb;&#x4f1a;&#x5c55;&#x73b0; 1-9 &#x5341;&#x4e2a;&#x6570;&#x5b57;&#xff0c;&#x5f53;&#x6211;&#x4eec;&#x70b9;&#x51fb; `Add` &#x6309;&#x94ae;&#x65f6;&#xff0c;&#x4f1a;&#x751f;&#x6210; `nextNum` &#x5e76;&#x968f;&#x673a;&#x5728;&#x5f53;&#x524d;&#x6570;&#x5217;&#x8868;&#x4e2d;&#x63d2;&#x5165;&#xff1b;&#x5f53;&#x6211;&#x4eec;&#x70b9;&#x51fb; `Remove` &#x6309;&#x94ae;&#x65f6;&#xff0c;&#x4f1a;&#x968f;&#x673a;&#x5220;&#x9664;&#x6389;&#x4e00;&#x4e2a;&#x6570;&#x3002;&#x6211;&#x4eec;&#x4f1a;&#x53d1;&#x73b0;&#x5728;&#x6570;&#x6dfb;&#x52a0;&#x5220;&#x9664;&#x7684;&#x8fc7;&#x7a0b;&#x4e2d;&#x5728;&#x5217;&#x8868;&#x4e2d;&#x4f1a;&#x6709;&#x8fc7;&#x6e21;&#x52a8;&#x753b;&#xff0c;&#x8fd9;&#x5c31;&#x662f; `&lt;transition-group&gt;` &#x7ec4;&#x4ef6;&#x914d;&#x5408;&#x6211;&#x4eec;&#x5b9a;&#x4e49;&#x7684; CSS &#x4ea7;&#x751f;&#x7684;&#x6548;&#x679c;&#x3002;\n\n&#x6211;&#x4eec;&#x9996;&#x5148;&#x8fd8;&#x662f;&#x6765;&#x5206;&#x6790; `&lt;transtion-group&gt;` &#x7ec4;&#x4ef6;&#x7684;&#x5b9e;&#x73b0;&#xff0c;&#x5b83;&#x7684;&#x5b9a;&#x4e49;&#x5728; `src/platforms/web/runtime/components/transitions.js` &#x4e2d;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"61,64"}},{"content":"<pre data-lines=\"65,198\"><code data-lines=\"65,198\"><span class=\"hljs-keyword\">const</span> props = extend({\n  tag: String,\n  moveClass: String\n}, transitionProps)\n\ndelete props.mode\n\nexport default {\n  props,\n\n  beforeMount () {\n    <span class=\"hljs-keyword\">const</span> update = <span class=\"hljs-keyword\">this</span>._update\n    <span class=\"hljs-keyword\">this</span>._update = (vnode, hydrating) =&gt; {\n      <span class=\"hljs-comment\">// force removing pass</span>\n      <span class=\"hljs-keyword\">this</span>.__patch__(\n        <span class=\"hljs-keyword\">this</span>._vnode,\n        <span class=\"hljs-keyword\">this</span>.kept,\n        <span class=\"hljs-literal\">false</span>, <span class=\"hljs-comment\">// hydrating</span>\n        <span class=\"hljs-literal\">true</span> <span class=\"hljs-comment\">// removeOnly (!important, avoids unnecessary moves)</span>\n      )\n      <span class=\"hljs-keyword\">this</span>._vnode = <span class=\"hljs-keyword\">this</span>.kept\n      update.call(<span class=\"hljs-keyword\">this</span>, vnode, hydrating)\n    }\n  },\n\n  render (h: Function) {\n    <span class=\"hljs-keyword\">const</span> tag: string = <span class=\"hljs-keyword\">this</span>.tag || <span class=\"hljs-keyword\">this</span>.&#x24;vnode.<span class=\"hljs-keyword\">data</span>.tag || <span class=\"hljs-string\">&apos;span&apos;</span>\n    <span class=\"hljs-keyword\">const</span> map: Object = Object.create(<span class=\"hljs-literal\">null</span>)\n    <span class=\"hljs-keyword\">const</span> prevChildren: Array&lt;VNode&gt; = <span class=\"hljs-keyword\">this</span>.prevChildren = <span class=\"hljs-keyword\">this</span>.children\n    <span class=\"hljs-keyword\">const</span> rawChildren: Array&lt;VNode&gt; = <span class=\"hljs-keyword\">this</span>.&#x24;slots.default || []\n    <span class=\"hljs-keyword\">const</span> children: Array&lt;VNode&gt; = <span class=\"hljs-keyword\">this</span>.children = []\n    <span class=\"hljs-keyword\">const</span> transitionData: Object = extractTransitionData(<span class=\"hljs-keyword\">this</span>)\n\n    <span class=\"hljs-keyword\">for</span> (let i = <span class=\"hljs-number\">0</span>; i &lt; rawChildren.length; i++) {\n      <span class=\"hljs-keyword\">const</span> c: VNode = rawChildren[i]\n      <span class=\"hljs-keyword\">if</span> (c.tag) {\n        <span class=\"hljs-keyword\">if</span> (c.key != <span class=\"hljs-literal\">null</span> &amp;&amp; String(c.key).indexOf(<span class=\"hljs-string\">&apos;__vlist&apos;</span>) !== <span class=\"hljs-number\">0</span>) {\n          children.push(c)\n          map[c.key] = c\n          ;(c.<span class=\"hljs-keyword\">data</span> || (c.<span class=\"hljs-keyword\">data</span> = {})).transition = transitionData\n        } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (process.env.NODE_ENV !== <span class=\"hljs-string\">&apos;production&apos;</span>) {\n          <span class=\"hljs-keyword\">const</span> opts: ?VNodeComponentOptions = c.componentOptions\n          <span class=\"hljs-keyword\">const</span> name: string = opts ? (opts.Ctor.options.name || opts.tag || <span class=\"hljs-string\">&apos;&apos;</span>) : c.tag\n          warn(`&lt;transition-group&gt; children must be keyed: &lt;&#x24;{name}&gt;`)\n        }\n      }\n    }\n\n    <span class=\"hljs-keyword\">if</span> (prevChildren) {\n      <span class=\"hljs-keyword\">const</span> kept: Array&lt;VNode&gt; = []\n      <span class=\"hljs-keyword\">const</span> removed: Array&lt;VNode&gt; = []\n      <span class=\"hljs-keyword\">for</span> (let i = <span class=\"hljs-number\">0</span>; i &lt; prevChildren.length; i++) {\n        <span class=\"hljs-keyword\">const</span> c: VNode = prevChildren[i]\n        c.<span class=\"hljs-keyword\">data</span>.transition = transitionData\n        c.<span class=\"hljs-keyword\">data</span>.pos = c.elm.getBoundingClientRect()\n        <span class=\"hljs-keyword\">if</span> (map[c.key]) {\n          kept.push(c)\n        } <span class=\"hljs-keyword\">else</span> {\n          removed.push(c)\n        }\n      }\n      <span class=\"hljs-keyword\">this</span>.kept = h(tag, <span class=\"hljs-literal\">null</span>, kept)\n      <span class=\"hljs-keyword\">this</span>.removed = removed\n    }\n\n    <span class=\"hljs-keyword\">return</span> h(tag, <span class=\"hljs-literal\">null</span>, children)\n  },\n\n  updated () {\n    <span class=\"hljs-keyword\">const</span> children: Array&lt;VNode&gt; = <span class=\"hljs-keyword\">this</span>.prevChildren\n    <span class=\"hljs-keyword\">const</span> moveClass: string = <span class=\"hljs-keyword\">this</span>.moveClass || ((<span class=\"hljs-keyword\">this</span>.name || <span class=\"hljs-string\">&apos;v&apos;</span>) + <span class=\"hljs-string\">&apos;-move&apos;</span>)\n    <span class=\"hljs-keyword\">if</span> (!children.length || !<span class=\"hljs-keyword\">this</span>.hasMove(children[<span class=\"hljs-number\">0</span>].elm, moveClass)) {\n      <span class=\"hljs-keyword\">return</span>\n    }\n\n    <span class=\"hljs-comment\">// we divide the work into three loops to avoid mixing DOM reads and writes</span>\n    <span class=\"hljs-comment\">// in each iteration - which helps prevent layout thrashing.</span>\n    children.forEach(callPendingCbs)\n    children.forEach(recordPosition)\n    children.forEach(applyTranslation)\n\n    <span class=\"hljs-comment\">// force reflow to put everything in position</span>\n    <span class=\"hljs-comment\">// assign to this to avoid being removed in tree-shaking</span>\n    <span class=\"hljs-comment\">// &#x24;flow-disable-line</span>\n    <span class=\"hljs-keyword\">this</span>._reflow = document.body.offsetHeight\n\n    children.forEach((c: VNode) =&gt; {\n      <span class=\"hljs-keyword\">if</span> (c.<span class=\"hljs-keyword\">data</span>.moved) {\n        <span class=\"hljs-keyword\">var</span> el: any = c.elm\n        <span class=\"hljs-keyword\">var</span> s: any = el.style\n        addTransitionClass(el, moveClass)\n        s.transform = s.WebkitTransform = s.transitionDuration = <span class=\"hljs-string\">&apos;&apos;</span>\n        el.addEventListener(transitionEndEvent, el._moveCb = function cb (e) {\n          <span class=\"hljs-keyword\">if</span> (!e || /transform&#x24;/.test(e.propertyName)) {\n            el.removeEventListener(transitionEndEvent, cb)\n            el._moveCb = <span class=\"hljs-literal\">null</span>\n            removeTransitionClass(el, moveClass)\n          }\n        })\n      }\n    })\n  },\n\n  methods: {\n    hasMove (el: any, moveClass: string): boolean {\n      <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n      <span class=\"hljs-keyword\">if</span> (!hasTransition) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>\n      }\n      <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">this</span>._hasMove) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>._hasMove\n      }\n      <span class=\"hljs-comment\">// Detect whether an element with the move class applied has</span>\n      <span class=\"hljs-comment\">// CSS transitions. Since the element may be inside an entering</span>\n      <span class=\"hljs-comment\">// transition at this very moment, we make a clone of it and remove</span>\n      <span class=\"hljs-comment\">// all other transition classes applied to ensure only the move class</span>\n      <span class=\"hljs-comment\">// is applied.</span>\n      <span class=\"hljs-keyword\">const</span> clone: HTMLElement = el.cloneNode()\n      <span class=\"hljs-keyword\">if</span> (el._transitionClasses) {\n        el._transitionClasses.forEach((cls: string) =&gt; { removeClass(clone, cls) })\n      }\n      addClass(clone, moveClass)\n      clone.style.display = <span class=\"hljs-string\">&apos;none&apos;</span>\n      <span class=\"hljs-keyword\">this</span>.&#x24;el.appendChild(clone)\n      <span class=\"hljs-keyword\">const</span> info: Object = getTransitionInfo(clone)\n      <span class=\"hljs-keyword\">this</span>.&#x24;el.removeChild(clone)\n      <span class=\"hljs-keyword\">return</span> (<span class=\"hljs-keyword\">this</span>._hasMove = info.hasTransform)\n    }\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"65,198"}}],"payload":{"tag":"h2","lines":"3,5"}},{"content":"<a href=\"#render-%E5%87%BD%E6%95%B0\">#</a> render &#x51fd;&#x6570;","children":[{"content":"<pre data-lines=\"202,205\"><code>`&lt;transition-group&gt;` &#x7ec4;&#x4ef6;&#x4e5f;&#x662f;&#x7531; `render` &#x51fd;&#x6570;&#x6e32;&#x67d3;&#x751f;&#x6210; `vnode`&#xff0c;&#x63a5;&#x4e0b;&#x6765;&#x6211;&#x4eec;&#x5148;&#x5206;&#x6790; `render` &#x7684;&#x5b9e;&#x73b0;&#x3002;\n\n*   &#x5b9a;&#x4e49;&#x4e00;&#x4e9b;&#x53d8;&#x91cf;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"202,205"}},{"content":"<pre data-lines=\"206,214\"><code data-lines=\"206,214\"><span class=\"hljs-keyword\">const</span> tag: string = <span class=\"hljs-keyword\">this</span>.tag || <span class=\"hljs-keyword\">this</span>.&#x24;vnode.<span class=\"hljs-keyword\">data</span>.tag || <span class=\"hljs-string\">&apos;span&apos;</span>\n<span class=\"hljs-keyword\">const</span> map: Object = Object.create(<span class=\"hljs-literal\">null</span>)\n<span class=\"hljs-keyword\">const</span> prevChildren: Array&lt;VNode&gt; = <span class=\"hljs-keyword\">this</span>.prevChildren = <span class=\"hljs-keyword\">this</span>.children\n<span class=\"hljs-keyword\">const</span> rawChildren: Array&lt;VNode&gt; = <span class=\"hljs-keyword\">this</span>.&#x24;slots.default || []\n<span class=\"hljs-keyword\">const</span> children: Array&lt;VNode&gt; = <span class=\"hljs-keyword\">this</span>.children = []\n<span class=\"hljs-keyword\">const</span> transitionData: Object = extractTransitionData(<span class=\"hljs-keyword\">this</span>) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"206,214"}},{"content":"<pre data-lines=\"215,218\"><code>&#x4e0d;&#x540c;&#x4e8e; `&lt;transition&gt;` &#x7ec4;&#x4ef6;&#xff0c;`&lt;transition-group&gt;` &#x7ec4;&#x4ef6;&#x975e;&#x62bd;&#x8c61;&#x7ec4;&#x4ef6;&#xff0c;&#x5b83;&#x4f1a;&#x6e32;&#x67d3;&#x6210;&#x4e00;&#x4e2a;&#x771f;&#x5b9e;&#x5143;&#x7d20;&#xff0c;&#x9ed8;&#x8ba4; `tag` &#x662f; `span`&#x3002; `prevChildren` &#x7528;&#x6765;&#x5b58;&#x50a8;&#x4e0a;&#x4e00;&#x6b21;&#x7684;&#x5b50;&#x8282;&#x70b9;&#xff1b;`children` &#x7528;&#x6765;&#x5b58;&#x50a8;&#x5f53;&#x524d;&#x7684;&#x5b50;&#x8282;&#x70b9;&#xff1b;`rawChildren` &#x8868;&#x793a; `&lt;transtition-group&gt;` &#x5305;&#x88f9;&#x7684;&#x539f;&#x59cb;&#x5b50;&#x8282;&#x70b9;&#xff1b;`transtionData` &#x662f;&#x4ece; `&lt;transtition-group&gt;` &#x7ec4;&#x4ef6;&#x4e0a;&#x63d0;&#x53d6;&#x51fa;&#x6765;&#x7684;&#x4e00;&#x4e9b;&#x6e32;&#x67d3;&#x6570;&#x636e;&#xff0c;&#x8fd9;&#x70b9;&#x548c; `&lt;transition&gt;` &#x7ec4;&#x4ef6;&#x7684;&#x5b9e;&#x73b0;&#x662f;&#x4e00;&#x6837;&#x7684;&#x3002;\n\n*   &#x904d;&#x5386; `rawChidren`&#xff0c;&#x521d;&#x59cb;&#x5316; `children`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"215,218"}},{"content":"<pre data-lines=\"219,235\"><code data-lines=\"219,235\">for (let i = 0; i &lt; rawChildren.length; i++) {\n  <span class=\"hljs-attribute\">const c</span>: VNode = rawChildren[i]\n  if (c<span class=\"hljs-variable\">.tag</span>) {\n    if (c<span class=\"hljs-variable\">.key</span> != null &amp;&amp; String(c<span class=\"hljs-variable\">.key</span>)<span class=\"hljs-variable\">.indexOf</span>(&apos;__vlist&apos;) !== 0) {\n      children<span class=\"hljs-variable\">.push</span>(c)\n      map[c<span class=\"hljs-variable\">.key</span>] = c\n      ;(<span class=\"hljs-attribute\">c.data || (c.data = {})).transition = transitionData\n    } else if (process.env.NODE_ENV !== &apos;production&apos;) {\n      const opts</span>: ?VNodeComponentOptions = c<span class=\"hljs-variable\">.componentOptions</span>\n      const name: string = opts ? (opts<span class=\"hljs-variable\">.Ctor</span><span class=\"hljs-variable\">.options</span><span class=\"hljs-variable\">.name</span> || opts<span class=\"hljs-variable\">.tag</span> || &apos;&apos;) : c<span class=\"hljs-variable\">.tag</span>\n      warn(`&lt;transition-group&gt; children must be keyed: &lt;&#x24;{name}&gt;`)\n    }\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"219,235"}},{"content":"<pre data-lines=\"236,239\"><code>&#x5176;&#x5b9e;&#x5c31;&#x662f;&#x5bf9; `rawChildren` &#x904d;&#x5386;&#xff0c;&#x62ff;&#x5230;&#x6bcf;&#x4e2a; `vnode`&#xff0c;&#x7136;&#x540e;&#x4f1a;&#x5224;&#x65ad;&#x6bcf;&#x4e2a; `vnode` &#x662f;&#x5426;&#x8bbe;&#x7f6e;&#x4e86; `key`&#xff0c;&#x8fd9;&#x4e2a;&#x662f; `&lt;transition-group&gt;` &#x5bf9;&#x5217;&#x8868;&#x5143;&#x7d20;&#x7684;&#x8981;&#x6c42;&#x3002;&#x7136;&#x540e;&#x628a; `vnode` &#x6dfb;&#x52a0;&#x5230; `children` &#x4e2d;&#xff0c;&#x7136;&#x540e;&#x628a;&#x521a;&#x521a;&#x63d0;&#x53d6;&#x7684;&#x8fc7;&#x6e21;&#x6570;&#x636e; `transitionData` &#x6dfb;&#x52a0;&#x7684; `vnode.data.transition` &#x4e2d;&#xff0c;&#x8fd9;&#x70b9;&#x5f88;&#x5173;&#x952e;&#xff0c;&#x53ea;&#x6709;&#x8fd9;&#x6837;&#x624d;&#x80fd;&#x5b9e;&#x73b0;&#x5217;&#x8868;&#x4e2d;&#x5355;&#x4e2a;&#x5143;&#x7d20;&#x7684;&#x8fc7;&#x6e21;&#x52a8;&#x753b;&#x3002;\n\n*   &#x5904;&#x7406; prevChildren\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"236,239"}},{"content":"<pre data-lines=\"240,260\"><code data-lines=\"240,260\"><span class=\"hljs-keyword\">if</span> (prevChildren) {\n  <span class=\"hljs-keyword\">const</span> kept: Array&lt;VNode&gt; = []\n  <span class=\"hljs-keyword\">const</span> removed: Array&lt;VNode&gt; = []\n  <span class=\"hljs-keyword\">for</span> (let i = <span class=\"hljs-number\">0</span>; i &lt; prevChildren.length; i++) {\n    <span class=\"hljs-keyword\">const</span> c: VNode = prevChildren[i]\n    c.<span class=\"hljs-keyword\">data</span>.transition = transitionData\n    c.<span class=\"hljs-keyword\">data</span>.pos = c.elm.getBoundingClientRect()\n    <span class=\"hljs-keyword\">if</span> (map[c.key]) {\n      kept.push(c)\n    } <span class=\"hljs-keyword\">else</span> {\n      removed.push(c)\n    }\n  }\n  <span class=\"hljs-keyword\">this</span>.kept = h(tag, <span class=\"hljs-literal\">null</span>, kept)\n  <span class=\"hljs-keyword\">this</span>.removed = removed\n}\n\n<span class=\"hljs-keyword\">return</span> h(tag, <span class=\"hljs-literal\">null</span>, children) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"240,260"}},{"content":"<pre data-lines=\"261,264\"><code>&#x5f53;&#x6709; `prevChildren` &#x7684;&#x65f6;&#x5019;&#xff0c;&#x6211;&#x4eec;&#x4f1a;&#x5bf9;&#x5b83;&#x505a;&#x904d;&#x5386;&#xff0c;&#x83b7;&#x53d6;&#x5230;&#x6bcf;&#x4e2a; `vnode`&#xff0c;&#x7136;&#x540e;&#x628a; `transitionData` &#x8d4b;&#x503c;&#x5230; `vnode.data.transition`&#xff0c;&#x8fd9;&#x4e2a;&#x662f;&#x4e3a;&#x4e86;&#x5f53;&#x5b83;&#x5728; `enter` &#x548c; `leave` &#x7684;&#x94a9;&#x5b50;&#x51fd;&#x6570;&#x4e2d;&#x6709;&#x8fc7;&#x6e21;&#x52a8;&#x753b;&#xff0c;&#x6211;&#x4eec;&#x5728;&#x4e0a;&#x8282;&#x4ecb;&#x7ecd; `transition` &#x7684;&#x5b9e;&#x73b0;&#x4e2d;&#x8bf4;&#x8fc7;&#x3002;&#x63a5;&#x7740;&#x53c8;&#x8c03;&#x7528;&#x4e86;&#x539f;&#x751f; DOM &#x7684; `getBoundingClientRect` &#x65b9;&#x6cd5;&#x83b7;&#x53d6;&#x5230;&#x539f;&#x751f; DOM &#x7684;&#x4f4d;&#x7f6e;&#x4fe1;&#x606f;&#xff0c;&#x8bb0;&#x5f55;&#x5230; `vnode.data.pos` &#x4e2d;&#xff0c;&#x7136;&#x540e;&#x5224;&#x65ad;&#x4e00;&#x4e0b; `vnode.key` &#x662f;&#x5426;&#x5728; `map` &#x4e2d;&#xff0c;&#x5982;&#x679c;&#x5728;&#x5219;&#x653e;&#x5165; `kept` &#x4e2d;&#xff0c;&#x5426;&#x5219;&#x8868;&#x793a;&#x8be5;&#x8282;&#x70b9;&#x5df2;&#x88ab;&#x5220;&#x9664;&#xff0c;&#x653e;&#x5165; `removed` &#x4e2d;&#xff0c;&#x7136;&#x540e;&#x901a;&#x8fc7;&#x6267;&#x884c; `h(tag, null, kept)` &#x6e32;&#x67d3;&#x540e;&#x653e;&#x5165; `this.kept` &#x4e2d;&#xff0c;&#x628a; `removed` &#x7528; `this.removed` &#x4fdd;&#x5b58;&#x3002;&#x6700;&#x540e;&#x6574;&#x4e2a; `render` &#x51fd;&#x6570;&#x901a;&#x8fc7; `h(tag, null, children)` &#x751f;&#x6210;&#x6e32;&#x67d3; `vnode`&#x3002;\n\n&#x5982;&#x679c; `transition-group` &#x53ea;&#x5b9e;&#x73b0;&#x4e86;&#x8fd9;&#x4e2a; `render` &#x51fd;&#x6570;&#xff0c;&#x90a3;&#x4e48;&#x6bcf;&#x6b21;&#x63d2;&#x5165;&#x548c;&#x5220;&#x9664;&#x7684;&#x5143;&#x7d20;&#x7684;&#x7f13;&#x52a8;&#x52a8;&#x753b;&#x662f;&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#x7684;&#xff0c;&#x5728;&#x6211;&#x4eec;&#x7684;&#x4f8b;&#x5b50;&#x4e2d;&#xff0c;&#x5f53;&#x65b0;&#x589e;&#x4e00;&#x4e2a;&#x5143;&#x7d20;&#xff0c;&#x5b83;&#x7684;&#x63d2;&#x5165;&#x7684;&#x8fc7;&#x6e21;&#x52a8;&#x753b;&#x662f;&#x6709;&#x7684;&#xff0c;&#x4f46;&#x662f;&#x5269;&#x4f59;&#x5143;&#x7d20;&#x5e73;&#x79fb;&#x7684;&#x8fc7;&#x6e21;&#x6548;&#x679c;&#x662f;&#x51fa;&#x4e0d;&#x6765;&#x7684;&#xff0c;&#x6240;&#x4ee5;&#x63a5;&#x4e0b;&#x6765;&#x6211;&#x4eec;&#x6765;&#x5206;&#x6790; `&lt;transition-group&gt;` &#x7ec4;&#x4ef6;&#x662f;&#x5982;&#x4f55;&#x5b9e;&#x73b0;&#x5269;&#x4f59;&#x5143;&#x7d20;&#x5e73;&#x79fb;&#x7684;&#x8fc7;&#x6e21;&#x6548;&#x679c;&#x7684;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"261,264"}}],"payload":{"tag":"h2","lines":"199,201"}},{"content":"<a href=\"#move-%E8%BF%87%E6%B8%A1%E5%AE%9E%E7%8E%B0\">#</a> move &#x8fc7;&#x6e21;&#x5b9e;&#x73b0;","children":[{"content":"<pre data-lines=\"268,271\"><code>&#x5176;&#x5b9e;&#x6211;&#x4eec;&#x5728;&#x5b9e;&#x73b0;&#x5143;&#x7d20;&#x7684;&#x63d2;&#x5165;&#x548c;&#x5220;&#x9664;&#xff0c;&#x65e0;&#x975e;&#x5c31;&#x662f;&#x64cd;&#x4f5c;&#x6570;&#x636e;&#xff0c;&#x63a7;&#x5236;&#x5b83;&#x4eec;&#x7684;&#x6dfb;&#x52a0;&#x548c;&#x5220;&#x9664;&#x3002;&#x6bd4;&#x5982;&#x6211;&#x4eec;&#x65b0;&#x589e;&#x6570;&#x636e;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x4f1a;&#x6dfb;&#x52a0;&#x4e00;&#x6761;&#x6570;&#x636e;&#xff0c;&#x9664;&#x4e86;&#x91cd;&#x65b0;&#x6267;&#x884c; `render` &#x51fd;&#x6570;&#x6e32;&#x67d3;&#x65b0;&#x7684;&#x8282;&#x70b9;&#x5916;&#xff0c;&#x8fd8;&#x8981;&#x89e6;&#x53d1; `updated` &#x94a9;&#x5b50;&#x51fd;&#x6570;&#xff0c;&#x63a5;&#x7740;&#x6211;&#x4eec;&#x5c31;&#x6765;&#x5206;&#x6790; `updated` &#x94a9;&#x5b50;&#x51fd;&#x6570;&#x7684;&#x5b9e;&#x73b0;&#x3002;\n\n*   &#x5224;&#x65ad;&#x5b50;&#x5143;&#x7d20;&#x662f;&#x5426;&#x5b9a;&#x4e49; `move` &#x76f8;&#x5173;&#x6837;&#x5f0f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"268,271"}},{"content":"<pre data-lines=\"272,305\"><code data-lines=\"272,305\"><span class=\"hljs-keyword\">const</span> children: Array&lt;VNode&gt; = <span class=\"hljs-keyword\">this</span>.prevChildren\n<span class=\"hljs-keyword\">const</span> moveClass: string = <span class=\"hljs-keyword\">this</span>.moveClass || ((<span class=\"hljs-keyword\">this</span>.name || <span class=\"hljs-string\">&apos;v&apos;</span>) + <span class=\"hljs-string\">&apos;-move&apos;</span>)\n<span class=\"hljs-keyword\">if</span> (!children.length || !<span class=\"hljs-keyword\">this</span>.hasMove(children[<span class=\"hljs-number\">0</span>].elm, moveClass)) {\n  <span class=\"hljs-keyword\">return</span>\n}\n\nhasMove (el: any, moveClass: string): boolean {\n  <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n  <span class=\"hljs-keyword\">if</span> (!hasTransition) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>\n  }\n  <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">this</span>._hasMove) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>._hasMove\n  }\n  <span class=\"hljs-comment\">// Detect whether an element with the move class applied has</span>\n  <span class=\"hljs-comment\">// CSS transitions. Since the element may be inside an entering</span>\n  <span class=\"hljs-comment\">// transition at this very moment, we make a clone of it and remove</span>\n  <span class=\"hljs-comment\">// all other transition classes applied to ensure only the move class</span>\n  <span class=\"hljs-comment\">// is applied.</span>\n  <span class=\"hljs-keyword\">const</span> clone: HTMLElement = el.cloneNode()\n  <span class=\"hljs-keyword\">if</span> (el._transitionClasses) {\n    el._transitionClasses.forEach((cls: string) =&gt; { removeClass(clone, cls) })\n  }\n  addClass(clone, moveClass)\n  clone.style.display = <span class=\"hljs-string\">&apos;none&apos;</span>\n  <span class=\"hljs-keyword\">this</span>.&#x24;el.appendChild(clone)\n  <span class=\"hljs-keyword\">const</span> info: Object = getTransitionInfo(clone)\n  <span class=\"hljs-keyword\">this</span>.&#x24;el.removeChild(clone)\n  <span class=\"hljs-keyword\">return</span> (<span class=\"hljs-keyword\">this</span>._hasMove = info.hasTransform)\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"272,305"}},{"content":"<pre data-lines=\"306,309\"><code>&#x6838;&#x5fc3;&#x5c31;&#x662f; `hasMove` &#x7684;&#x5224;&#x65ad;&#xff0c;&#x9996;&#x5148;&#x514b;&#x9686;&#x4e00;&#x4e2a; DOM &#x8282;&#x70b9;&#xff0c;&#x7136;&#x540e;&#x4e3a;&#x4e86;&#x907f;&#x514d;&#x5f71;&#x54cd;&#xff0c;&#x79fb;&#x9664;&#x5b83;&#x7684;&#x6240;&#x6709;&#x5176;&#x4ed6;&#x7684;&#x8fc7;&#x6e21; `Class`&#xff1b;&#x63a5;&#x7740;&#x6dfb;&#x52a0;&#x4e86; `moveClass` &#x6837;&#x5f0f;&#xff0c;&#x8bbe;&#x7f6e; `display` &#x4e3a; `none`&#xff0c;&#x6dfb;&#x52a0;&#x5230;&#x7ec4;&#x4ef6;&#x6839;&#x8282;&#x70b9;&#x4e0a;&#xff1b;&#x63a5;&#x4e0b;&#x6765;&#x901a;&#x8fc7; `getTransitionInfo` &#x83b7;&#x53d6;&#x5b83;&#x7684;&#x4e00;&#x4e9b;&#x7f13;&#x52a8;&#x76f8;&#x5173;&#x7684;&#x4fe1;&#x606f;&#xff0c;&#x8fd9;&#x4e2a;&#x51fd;&#x6570;&#x5728;&#x4e0a;&#x4e00;&#x8282;&#x6211;&#x4eec;&#x4e5f;&#x4ecb;&#x7ecd;&#x8fc7;&#xff0c;&#x7136;&#x540e;&#x4ece;&#x7ec4;&#x4ef6;&#x6839;&#x8282;&#x70b9;&#x4e0a;&#x5220;&#x9664;&#x8fd9;&#x4e2a;&#x514b;&#x9686;&#x8282;&#x70b9;&#xff0c;&#x5e76;&#x901a;&#x8fc7;&#x5224;&#x65ad; `info.hasTransform` &#x6765;&#x5224;&#x65ad; `hasMove`&#xff0c;&#x5728;&#x6211;&#x4eec;&#x7684;&#x4f8b;&#x5b50;&#x4e2d;&#xff0c;&#x8be5;&#x503c;&#x4e3a; `true`&#x3002;\n\n*   &#x5b50;&#x8282;&#x70b9;&#x9884;&#x5904;&#x7406;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"306,309"}},{"content":"<pre data-lines=\"310,315\"><code data-lines=\"310,315\">children.<span class=\"hljs-keyword\">forEach</span>(callPendingCbs)\nchildren.<span class=\"hljs-keyword\">forEach</span>(recordPosition)\nchildren.<span class=\"hljs-keyword\">forEach</span>(applyTranslation) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"310,315"}},{"content":"<pre data-lines=\"316,317\"><code>&#x5bf9; `children` &#x505a;&#x4e86; 3 &#x8f6e;&#x5faa;&#x73af;&#xff0c;&#x5206;&#x522b;&#x505a;&#x4e86;&#x5982;&#x4e0b;&#x4e00;&#x4e9b;&#x5904;&#x7406;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"316,317"}},{"content":"<pre data-lines=\"318,345\"><code data-lines=\"318,345\">function callPendingCbs (c: VNode) {\n  <span class=\"hljs-attribute\">if (c.elm._moveCb) {\n    c.elm._moveCb()\n  }\n  if (c.elm._enterCb) {\n    c.elm._enterCb()\n  }\n}\n\nfunction recordPosition (c</span>: VNode) {\n  c<span class=\"hljs-variable\">.data</span><span class=\"hljs-variable\">.newPos</span> = c<span class=\"hljs-variable\">.elm</span><span class=\"hljs-variable\">.getBoundingClientRect</span>()\n}\n\nfunction applyTranslation (c: VNode) {\n  const oldPos = c<span class=\"hljs-variable\">.data</span><span class=\"hljs-variable\">.pos</span>\n  const newPos = c<span class=\"hljs-variable\">.data</span><span class=\"hljs-variable\">.newPos</span>\n  const dx = oldPos<span class=\"hljs-variable\">.left</span> - newPos<span class=\"hljs-variable\">.left</span>\n  const dy = oldPos<span class=\"hljs-variable\">.top</span> - newPos<span class=\"hljs-variable\">.top</span>\n  if (dx || dy) {\n    c<span class=\"hljs-variable\">.data</span><span class=\"hljs-variable\">.moved</span> = true\n    const s = c<span class=\"hljs-variable\">.elm</span><span class=\"hljs-variable\">.style</span>\n    s<span class=\"hljs-variable\">.transform</span> = s<span class=\"hljs-variable\">.WebkitTransform</span> = `translate(&#x24;{dx}px,&#x24;{dy}px)`\n    s<span class=\"hljs-variable\">.transitionDuration</span> = &apos;0s&apos;\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"318,345"}},{"content":"<pre data-lines=\"346,353\"><code>`callPendingCbs` &#x65b9;&#x6cd5;&#x662f;&#x5728;&#x524d;&#x4e00;&#x4e2a;&#x8fc7;&#x6e21;&#x52a8;&#x753b;&#x6ca1;&#x6267;&#x884c;&#x5b8c;&#x53c8;&#x518d;&#x6b21;&#x6267;&#x884c;&#x5230;&#x8be5;&#x65b9;&#x6cd5;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x4f1a;&#x63d0;&#x524d;&#x6267;&#x884c; `_moveCb` &#x548c; `_enterCb`&#x3002;\n\n`recordPosition` &#x7684;&#x4f5c;&#x7528;&#x662f;&#x8bb0;&#x5f55;&#x8282;&#x70b9;&#x7684;&#x65b0;&#x4f4d;&#x7f6e;&#x3002;\n\n`applyTranslation` &#x7684;&#x4f5c;&#x7528;&#x662f;&#x5148;&#x8ba1;&#x7b97;&#x8282;&#x70b9;&#x65b0;&#x4f4d;&#x7f6e;&#x548c;&#x65e7;&#x4f4d;&#x7f6e;&#x7684;&#x5dee;&#x503c;&#xff0c;&#x5982;&#x679c;&#x5dee;&#x503c;&#x4e0d;&#x4e3a; 0&#xff0c;&#x5219;&#x8bf4;&#x660e;&#x8fd9;&#x4e9b;&#x8282;&#x70b9;&#x662f;&#x9700;&#x8981;&#x79fb;&#x52a8;&#x7684;&#xff0c;&#x6240;&#x4ee5;&#x8bb0;&#x5f55; `vnode.data.moved` &#x4e3a; true&#xff0c;&#x5e76;&#x4e14;&#x901a;&#x8fc7;&#x8bbe;&#x7f6e; `transform` &#x628a;&#x9700;&#x8981;&#x79fb;&#x52a8;&#x7684;&#x8282;&#x70b9;&#x7684;&#x4f4d;&#x7f6e;&#x53c8;&#x504f;&#x79fb;&#x5230;&#x4e4b;&#x524d;&#x7684;&#x65e7;&#x4f4d;&#x7f6e;&#xff0c;&#x76ee;&#x7684;&#x662f;&#x4e3a;&#x4e86;&#x505a; `move` &#x7f13;&#x52a8;&#x505a;&#x51c6;&#x5907;&#x3002;\n\n*   &#x904d;&#x5386;&#x5b50;&#x5143;&#x7d20;&#x5b9e;&#x73b0; move &#x8fc7;&#x6e21;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"346,353"}},{"content":"<pre data-lines=\"354,373\"><code data-lines=\"354,373\">this._reflow = document.body.offsetHeight\n\nchildren.forEach((c: VNode) =&gt; {\n  <span class=\"hljs-attribute\">if (c.data.moved) {\n    var el</span>: any = c<span class=\"hljs-variable\">.elm</span>\n    var s: any = el<span class=\"hljs-variable\">.style</span>\n    addTransitionClass(el, moveClass)\n    s<span class=\"hljs-variable\">.transform</span> = s<span class=\"hljs-variable\">.WebkitTransform</span> = s<span class=\"hljs-variable\">.transitionDuration</span> = &apos;&apos;\n    el<span class=\"hljs-variable\">.addEventListener</span>(transitionEndEvent, el<span class=\"hljs-variable\">._moveCb</span> = function cb (e) {\n      if (!e || /transform&#x24;/<span class=\"hljs-variable\">.test</span>(e<span class=\"hljs-variable\">.propertyName</span>)) {\n        el<span class=\"hljs-variable\">.removeEventListener</span>(transitionEndEvent, cb)\n        el<span class=\"hljs-variable\">._moveCb</span> = null\n        removeTransitionClass(el, moveClass)\n      }\n    })\n  }\n}) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"354,373"}},{"content":"<pre data-lines=\"374,377\"><code>&#x9996;&#x5148;&#x901a;&#x8fc7; `document.body.offsetHeight` &#x5f3a;&#x5236;&#x89e6;&#x53d1;&#x6d4f;&#x89c8;&#x5668;&#x91cd;&#x7ed8;&#xff0c;&#x63a5;&#x7740;&#x518d;&#x6b21;&#x5bf9; `children` &#x904d;&#x5386;&#xff0c;&#x5148;&#x7ed9;&#x5b50;&#x8282;&#x70b9;&#x6dfb;&#x52a0; `moveClass`&#xff0c;&#x5728;&#x6211;&#x4eec;&#x7684;&#x4f8b;&#x5b50;&#x4e2d;&#xff0c;`moveClass` &#x5b9a;&#x4e49;&#x4e86; `transition: all 1s;` &#x7f13;&#x52a8;&#xff1b;&#x63a5;&#x7740;&#x628a;&#x5b50;&#x8282;&#x70b9;&#x7684; `style.transform` &#x8bbe;&#x7f6e;&#x4e3a;&#x7a7a;&#xff0c;&#x7531;&#x4e8e;&#x6211;&#x4eec;&#x524d;&#x9762;&#x628a;&#x8fd9;&#x4e9b;&#x8282;&#x70b9;&#x504f;&#x79fb;&#x5230;&#x4e4b;&#x524d;&#x7684;&#x65e7;&#x4f4d;&#x7f6e;&#xff0c;&#x6240;&#x4ee5;&#x5b83;&#x5c31;&#x4f1a;&#x4ece;&#x65e7;&#x4f4d;&#x7f6e;&#x6309;&#x7167; `1s` &#x7684;&#x7f13;&#x52a8;&#x65f6;&#x95f4;&#x8fc7;&#x6e21;&#x504f;&#x79fb;&#x5230;&#x5b83;&#x7684;&#x5f53;&#x524d;&#x76ee;&#x6807;&#x4f4d;&#x7f6e;&#xff0c;&#x8fd9;&#x6837;&#x5c31;&#x5b9e;&#x73b0;&#x4e86; move &#x7684;&#x8fc7;&#x6e21;&#x52a8;&#x753b;&#x3002;&#x5e76;&#x4e14;&#x63a5;&#x4e0b;&#x6765;&#x4f1a;&#x76d1;&#x542c; `transitionEndEvent` &#x8fc7;&#x6e21;&#x7ed3;&#x675f;&#x7684;&#x4e8b;&#x4ef6;&#xff0c;&#x505a;&#x4e00;&#x4e9b;&#x6e05;&#x7406;&#x7684;&#x64cd;&#x4f5c;&#x3002;\n\n&#x53e6;&#x5916;&#xff0c;&#x7531;&#x4e8e;&#x865a;&#x62df; DOM &#x7684;&#x5b50;&#x5143;&#x7d20;&#x66f4;&#x65b0;&#x7b97;&#x6cd5;&#x662f;&#x4e0d;&#x7a33;&#x5b9a;&#x7684;&#xff0c;&#x5b83;&#x4e0d;&#x80fd;&#x4fdd;&#x8bc1;&#x88ab;&#x79fb;&#x9664;&#x5143;&#x7d20;&#x7684;&#x76f8;&#x5bf9;&#x4f4d;&#x7f6e;&#xff0c;&#x6240;&#x4ee5;&#x6211;&#x4eec;&#x5f3a;&#x5236; `&lt;transition-group&gt;` &#x7ec4;&#x4ef6;&#x66f4;&#x65b0;&#x5b50;&#x8282;&#x70b9;&#x901a;&#x8fc7; 2 &#x4e2a;&#x6b65;&#x9aa4;&#xff1a;&#x7b2c;&#x4e00;&#x6b65;&#x6211;&#x4eec;&#x79fb;&#x9664;&#x9700;&#x8981;&#x79fb;&#x9664;&#x7684; `vnode`&#xff0c;&#x540c;&#x65f6;&#x89e6;&#x53d1;&#x5b83;&#x4eec;&#x7684; `leaving` &#x8fc7;&#x6e21;&#xff1b;&#x7b2c;&#x4e8c;&#x6b65;&#x6211;&#x4eec;&#x9700;&#x8981;&#x628a;&#x63d2;&#x5165;&#x548c;&#x79fb;&#x52a8;&#x7684;&#x8282;&#x70b9;&#x8fbe;&#x5230;&#x5b83;&#x4eec;&#x7684;&#x6700;&#x7ec8;&#x6001;&#xff0c;&#x540c;&#x65f6;&#x8fd8;&#x8981;&#x4fdd;&#x8bc1;&#x79fb;&#x9664;&#x7684;&#x8282;&#x70b9;&#x4fdd;&#x7559;&#x5728;&#x5e94;&#x8be5;&#x7684;&#x4f4d;&#x7f6e;&#xff0c;&#x800c;&#x8fd9;&#x4e2a;&#x662f;&#x901a;&#x8fc7; `beforeMount` &#x94a9;&#x5b50;&#x51fd;&#x6570;&#x6765;&#x5b9e;&#x73b0;&#x7684;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"374,377"}},{"content":"<pre data-lines=\"378,394\"><code data-lines=\"378,394\">beforeMount () {\n  <span class=\"hljs-keyword\">const</span> update = <span class=\"hljs-keyword\">this</span>._update\n  <span class=\"hljs-keyword\">this</span>._update = (vnode, hydrating) =&gt; {\n    <span class=\"hljs-comment\">// force removing pass</span>\n    <span class=\"hljs-keyword\">this</span>.__patch__(\n      <span class=\"hljs-keyword\">this</span>._vnode,\n      <span class=\"hljs-keyword\">this</span>.kept,\n      <span class=\"hljs-literal\">false</span>, <span class=\"hljs-comment\">// hydrating</span>\n      <span class=\"hljs-literal\">true</span> <span class=\"hljs-comment\">// removeOnly (!important, avoids unnecessary moves)</span>\n    )\n    <span class=\"hljs-keyword\">this</span>._vnode = <span class=\"hljs-keyword\">this</span>.kept\n    update.call(<span class=\"hljs-keyword\">this</span>, vnode, hydrating)\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"378,394"}},{"content":"<pre data-lines=\"395,396\"><code>&#x901a;&#x8fc7;&#x628a; `__patch__` &#x65b9;&#x6cd5;&#x7684;&#x7b2c;&#x56db;&#x4e2a;&#x53c2;&#x6570; `removeOnly` &#x8bbe;&#x7f6e;&#x4e3a; true&#xff0c;&#x8fd9;&#x6837;&#x5728; `updateChildren` &#x9636;&#x6bb5;&#xff0c;&#x662f;&#x4e0d;&#x4f1a;&#x79fb;&#x52a8; `vnode` &#x8282;&#x70b9;&#x7684;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"395,396"}}],"payload":{"tag":"h2","lines":"265,267"}},{"content":"<a href=\"#%E6%80%BB%E7%BB%93\">#</a> &#x603b;&#x7ed3;","children":[],"payload":{"tag":"h2","lines":"397,399"}}],"payload":{"tag":"h1","lines":"0,2"}},{})</script>
</body>
</html>
