<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x8bbe;&#x8ba1;&#x6a21;&#x5f0f;&#xff1a;&#x884c;&#x4e3a;&#x578b;-&#x72b6;&#x6001;&#x6a21;&#x5f0f;","children":[{"content":"&#x8ba4;&#x8bc6;","children":[{"content":"<pre data-lines=\"5,37\"><code>&gt; &#x9879;&#x76ee;&#x5730;&#x5740;&#xff1a;https://gitee.com/caochenlei/design-pattern\n\n&#x72b6;&#x6001;&#x6a21;&#x5f0f;&#x7684;&#x4ecb;&#x7ecd;&#xff1a;\n\n&#x5728;&#x8f6f;&#x4ef6;&#x5f00;&#x53d1;&#x8fc7;&#x7a0b;&#x4e2d;&#xff0c;&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#x4e2d;&#x7684;&#x90e8;&#x5206;&#x5bf9;&#x8c61;&#x53ef;&#x80fd;&#x4f1a;&#x6839;&#x636e;&#x4e0d;&#x540c;&#x7684;&#x60c5;&#x51b5;&#x505a;&#x51fa;&#x4e0d;&#x540c;&#x7684;&#x884c;&#x4e3a;&#xff0c;&#x6211;&#x4eec;&#x628a;&#x8fd9;&#x79cd;&#x5bf9;&#x8c61;&#x79f0;&#x4e3a;&#x6709;&#x72b6;&#x6001;&#x7684;&#x5bf9;&#x8c61;&#xff0c;&#x800c;&#x628a;&#x5f71;&#x54cd;&#x5bf9;&#x8c61;&#x884c;&#x4e3a;&#x7684;&#x4e00;&#x4e2a;&#x6216;&#x591a;&#x4e2a;&#x52a8;&#x6001;&#x53d8;&#x5316;&#x7684;&#x5c5e;&#x6027;&#x79f0;&#x4e3a;&#x72b6;&#x6001;&#x3002;&#x5f53;&#x6709;&#x72b6;&#x6001;&#x7684;&#x5bf9;&#x8c61;&#x4e0e;&#x5916;&#x90e8;&#x4e8b;&#x4ef6;&#x4ea7;&#x751f;&#x4e92;&#x52a8;&#x65f6;&#xff0c;&#x5176;&#x5185;&#x90e8;&#x72b6;&#x6001;&#x5c31;&#x4f1a;&#x53d1;&#x751f;&#x6539;&#x53d8;&#xff0c;&#x4ece;&#x800c;&#x4f7f;&#x5176;&#x884c;&#x4e3a;&#x4e5f;&#x53d1;&#x751f;&#x6539;&#x53d8;&#x3002;&#x5982;&#x4eba;&#x90fd;&#x6709;&#x9ad8;&#x5174;&#x548c;&#x4f24;&#x5fc3;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x4e0d;&#x540c;&#x7684;&#x60c5;&#x7eea;&#x6709;&#x4e0d;&#x540c;&#x7684;&#x884c;&#x4e3a;&#xff0c;&#x5f53;&#x7136;&#x5916;&#x754c;&#x4e5f;&#x4f1a;&#x5f71;&#x54cd;&#x5176;&#x60c5;&#x7eea;&#x53d8;&#x5316;&#x3002;\n\n&#x5bf9;&#x8fd9;&#x79cd;&#x6709;&#x72b6;&#x6001;&#x7684;&#x5bf9;&#x8c61;&#x7f16;&#x7a0b;&#xff0c;&#x4f20;&#x7edf;&#x7684;&#x89e3;&#x51b3;&#x65b9;&#x6848;&#x662f;&#xff1a;&#x5c06;&#x8fd9;&#x4e9b;&#x6240;&#x6709;&#x53ef;&#x80fd;&#x53d1;&#x751f;&#x7684;&#x60c5;&#x51b5;&#x5168;&#x90fd;&#x8003;&#x8651;&#x5230;&#xff0c;&#x7136;&#x540e;&#x4f7f;&#x7528; if-else &#x6216; switch-case &#x8bed;&#x53e5;&#x6765;&#x505a;&#x72b6;&#x6001;&#x5224;&#x65ad;&#xff0c;&#x518d;&#x8fdb;&#x884c;&#x4e0d;&#x540c;&#x60c5;&#x51b5;&#x7684;&#x5904;&#x7406;&#x3002;&#x4f46;&#x662f;&#x663e;&#x7136;&#x8fd9;&#x79cd;&#x505a;&#x6cd5;&#x5bf9;&#x590d;&#x6742;&#x7684;&#x72b6;&#x6001;&#x5224;&#x65ad;&#x5b58;&#x5728;&#x5929;&#x7136;&#x5f0a;&#x7aef;&#xff0c;&#x6761;&#x4ef6;&#x5224;&#x65ad;&#x8bed;&#x53e5;&#x4f1a;&#x8fc7;&#x4e8e;&#x81c3;&#x80bf;&#xff0c;&#x53ef;&#x8bfb;&#x6027;&#x5dee;&#xff0c;&#x4e14;&#x4e0d;&#x5177;&#x5907;&#x6269;&#x5c55;&#x6027;&#xff0c;&#x7ef4;&#x62a4;&#x96be;&#x5ea6;&#x4e5f;&#x5927;&#x3002;&#x4e14;&#x589e;&#x52a0;&#x65b0;&#x7684;&#x72b6;&#x6001;&#x65f6;&#x8981;&#x6dfb;&#x52a0;&#x65b0;&#x7684; if-else &#x8bed;&#x53e5;&#xff0c;&#x8fd9;&#x8fdd;&#x80cc;&#x4e86;&#x201c;&#x5f00;&#x95ed;&#x539f;&#x5219;&#x201d;&#xff0c;&#x4e0d;&#x5229;&#x4e8e;&#x7a0b;&#x5e8f;&#x7684;&#x6269;&#x5c55;&#x3002;\n\n&#x4ee5;&#x4e0a;&#x95ee;&#x9898;&#x5982;&#x679c;&#x91c7;&#x7528;&#x201c;&#x72b6;&#x6001;&#x6a21;&#x5f0f;&#x201d;&#x5c31;&#x80fd;&#x5f88;&#x597d;&#x5730;&#x5f97;&#x5230;&#x89e3;&#x51b3;&#x3002;&#x5728;&#x72b6;&#x6001;&#x6a21;&#x5f0f;&#xff08;State Pattern&#xff09;&#x4e2d;&#xff0c;&#x7c7b;&#x7684;&#x884c;&#x4e3a;&#x662f;&#x57fa;&#x4e8e;&#x5b83;&#x7684;&#x72b6;&#x6001;&#x6539;&#x53d8;&#x7684;&#x3002;&#x8fd9;&#x79cd;&#x7c7b;&#x578b;&#x7684;&#x8bbe;&#x8ba1;&#x6a21;&#x5f0f;&#x5c5e;&#x4e8e;&#x884c;&#x4e3a;&#x578b;&#x6a21;&#x5f0f;&#x3002;&#x5728;&#x72b6;&#x6001;&#x6a21;&#x5f0f;&#x4e2d;&#xff0c;&#x6211;&#x4eec;&#x521b;&#x5efa;&#x8868;&#x793a;&#x5404;&#x79cd;&#x72b6;&#x6001;&#x7684;&#x5bf9;&#x8c61;&#x548c;&#x4e00;&#x4e2a;&#x884c;&#x4e3a;&#x968f;&#x7740;&#x72b6;&#x6001;&#x5bf9;&#x8c61;&#x6539;&#x53d8;&#x800c;&#x6539;&#x53d8;&#x7684; context &#x5bf9;&#x8c61;&#x3002;\n\n&#x72b6;&#x6001;&#x6a21;&#x5f0f;&#x7684;&#x4f18;&#x70b9;&#xff1a;\n\n*   &#x7ed3;&#x6784;&#x6e05;&#x6670;&#xff0c;&#x72b6;&#x6001;&#x6a21;&#x5f0f;&#x5c06;&#x4e0e;&#x7279;&#x5b9a;&#x72b6;&#x6001;&#x76f8;&#x5173;&#x7684;&#x884c;&#x4e3a;&#x5c40;&#x90e8;&#x5316;&#x5230;&#x4e00;&#x4e2a;&#x72b6;&#x6001;&#x4e2d;&#xff0c;&#x5e76;&#x4e14;&#x5c06;&#x4e0d;&#x540c;&#x72b6;&#x6001;&#x7684;&#x884c;&#x4e3a;&#x5206;&#x5272;&#x5f00;&#x6765;&#xff0c;&#x6ee1;&#x8db3;&#x201c;&#x5355;&#x4e00;&#x804c;&#x8d23;&#x539f;&#x5219;&#x201d;&#x3002;\n*   &#x5c06;&#x72b6;&#x6001;&#x8f6c;&#x6362;&#x663e;&#x793a;&#x5316;&#xff0c;&#x51cf;&#x5c11;&#x5bf9;&#x8c61;&#x95f4;&#x7684;&#x76f8;&#x4e92;&#x4f9d;&#x8d56;&#x3002;&#x5c06;&#x4e0d;&#x540c;&#x72b6;&#x6001;&#x5f15;&#x5165;&#x72ec;&#x7acb;&#x5bf9;&#x8c61;&#x4e2d;&#x4f1a;&#x4f7f;&#x5f97;&#x72b6;&#x6001;&#x8f6c;&#x6362;&#x53d8;&#x5f97;&#x66f4;&#x52a0;&#x660e;&#x786e;&#xff0c;&#x4e14;&#x51cf;&#x5c11;&#x5bf9;&#x8c61;&#x95f4;&#x7684;&#x76f8;&#x4e92;&#x4f9d;&#x8d56;&#x3002;\n*   &#x72b6;&#x6001;&#x7c7b;&#x804c;&#x8d23;&#x660e;&#x786e;&#xff0c;&#x6709;&#x5229;&#x4e8e;&#x7a0b;&#x5e8f;&#x7684;&#x6269;&#x5c55;&#x3002;&#x901a;&#x8fc7;&#x5b9a;&#x4e49;&#x65b0;&#x7684;&#x5b50;&#x7c7b;&#x5f88;&#x5bb9;&#x6613;&#x5730;&#x589e;&#x52a0;&#x65b0;&#x7684;&#x72b6;&#x6001;&#x548c;&#x8f6c;&#x6362;&#x3002;\n\n&#x72b6;&#x6001;&#x6a21;&#x5f0f;&#x7684;&#x7f3a;&#x70b9;&#xff1a;\n\n*   &#x72b6;&#x6001;&#x6a21;&#x5f0f;&#x7684;&#x4f7f;&#x7528;&#x5fc5;&#x7136;&#x4f1a;&#x589e;&#x52a0;&#x7cfb;&#x7edf;&#x7684;&#x7c7b;&#x4e0e;&#x5bf9;&#x8c61;&#x7684;&#x4e2a;&#x6570;&#x3002;\n*   &#x72b6;&#x6001;&#x6a21;&#x5f0f;&#x7684;&#x7ed3;&#x6784;&#x4e0e;&#x5b9e;&#x73b0;&#x90fd;&#x8f83;&#x4e3a;&#x590d;&#x6742;&#xff0c;&#x5982;&#x679c;&#x4f7f;&#x7528;&#x4e0d;&#x5f53;&#x4f1a;&#x5bfc;&#x81f4;&#x7a0b;&#x5e8f;&#x7ed3;&#x6784;&#x548c;&#x4ee3;&#x7801;&#x7684;&#x6df7;&#x4e71;&#x3002;\n*   &#x72b6;&#x6001;&#x6a21;&#x5f0f;&#x5bf9;&#x5f00;&#x95ed;&#x539f;&#x5219;&#x7684;&#x652f;&#x6301;&#x5e76;&#x4e0d;&#x592a;&#x597d;&#xff0c;&#x5bf9;&#x4e8e;&#x53ef;&#x4ee5;&#x5207;&#x6362;&#x72b6;&#x6001;&#x7684;&#x72b6;&#x6001;&#x6a21;&#x5f0f;&#xff0c;&#x589e;&#x52a0;&#x65b0;&#x7684;&#x72b6;&#x6001;&#x7c7b;&#x9700;&#x8981;&#x4fee;&#x6539;&#x90a3;&#x4e9b;&#x8d1f;&#x8d23;&#x72b6;&#x6001;&#x8f6c;&#x6362;&#x7684;&#x6e90;&#x7801;&#xff0c;&#x5426;&#x5219;&#x65e0;&#x6cd5;&#x5207;&#x6362;&#x5230;&#x65b0;&#x589e;&#x72b6;&#x6001;&#xff0c;&#x800c;&#x4e14;&#x4fee;&#x6539;&#x67d0;&#x4e2a;&#x72b6;&#x6001;&#x7c7b;&#x7684;&#x884c;&#x4e3a;&#x4e5f;&#x9700;&#x8981;&#x4fee;&#x6539;&#x5bf9;&#x5e94;&#x7c7b;&#x7684;&#x6e90;&#x7801;&#x3002;\n\n&#x72b6;&#x6001;&#x6a21;&#x5f0f;&#x7684;&#x573a;&#x666f;&#xff1a;\n\n*   &#x5f53;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#x7684;&#x884c;&#x4e3a;&#x53d6;&#x51b3;&#x4e8e;&#x5b83;&#x7684;&#x72b6;&#x6001;&#xff0c;&#x5e76;&#x4e14;&#x5b83;&#x5fc5;&#x987b;&#x5728;&#x8fd0;&#x884c;&#x65f6;&#x6839;&#x636e;&#x72b6;&#x6001;&#x6539;&#x53d8;&#x5b83;&#x7684;&#x884c;&#x4e3a;&#x65f6;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x8003;&#x8651;&#x4f7f;&#x7528;&#x72b6;&#x6001;&#x6a21;&#x5f0f;&#x3002;\n*   &#x5f53;&#x4e00;&#x4e2a;&#x64cd;&#x4f5c;&#x4e2d;&#x542b;&#x6709;&#x5e9e;&#x5927;&#x7684;&#x5206;&#x652f;&#x7ed3;&#x6784;&#xff0c;&#x5e76;&#x4e14;&#x8fd9;&#x4e9b;&#x5206;&#x652f;&#x51b3;&#x5b9a;&#x4e8e;&#x5bf9;&#x8c61;&#x7684;&#x72b6;&#x6001;&#x65f6;&#x3002;\n\n&#x72b6;&#x6001;&#x6a21;&#x5f0f;&#x7684;&#x89d2;&#x8272;&#xff1a;\n\n*   &#x73af;&#x5883;&#x7c7b;&#xff08;Context&#xff09;&#x89d2;&#x8272;&#xff1a;&#x4e5f;&#x79f0;&#x4e3a;&#x4e0a;&#x4e0b;&#x6587;&#xff0c;&#x5b83;&#x5b9a;&#x4e49;&#x4e86;&#x5ba2;&#x6237;&#x7aef;&#x9700;&#x8981;&#x7684;&#x63a5;&#x53e3;&#xff0c;&#x5185;&#x90e8;&#x7ef4;&#x62a4;&#x4e00;&#x4e2a;&#x5f53;&#x524d;&#x72b6;&#x6001;&#xff0c;&#x5e76;&#x8d1f;&#x8d23;&#x5177;&#x4f53;&#x72b6;&#x6001;&#x7684;&#x5207;&#x6362;&#x3002;\n*   &#x62bd;&#x8c61;&#x72b6;&#x6001;&#xff08;State&#xff09;&#x89d2;&#x8272;&#xff1a;&#x5b9a;&#x4e49;&#x4e00;&#x4e2a;&#x63a5;&#x53e3;&#xff0c;&#x7528;&#x4ee5;&#x5c01;&#x88c5;&#x73af;&#x5883;&#x5bf9;&#x8c61;&#x4e2d;&#x7684;&#x7279;&#x5b9a;&#x72b6;&#x6001;&#x6240;&#x5bf9;&#x5e94;&#x7684;&#x884c;&#x4e3a;&#xff0c;&#x53ef;&#x4ee5;&#x6709;&#x4e00;&#x4e2a;&#x6216;&#x591a;&#x4e2a;&#x884c;&#x4e3a;&#x3002;\n*   &#x5177;&#x4f53;&#x72b6;&#x6001;&#xff08;Concrete State&#xff09;&#x89d2;&#x8272;&#xff1a;&#x5b9e;&#x73b0;&#x62bd;&#x8c61;&#x72b6;&#x6001;&#x6240;&#x5bf9;&#x5e94;&#x7684;&#x884c;&#x4e3a;&#xff0c;&#x5e76;&#x4e14;&#x5728;&#x9700;&#x8981;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#x8fdb;&#x884c;&#x72b6;&#x6001;&#x5207;&#x6362;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"5,37"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/41514fa1f173e39914169b2673b127e8.gif\" alt>","children":[],"payload":{"tag":"img","lines":"38,39"}}],"payload":{"tag":"h2","lines":"2,4"}},{"content":"2.1&#x3001;&#x73af;&#x5883;&#x7c7b;","children":[{"content":"<pre data-lines=\"43,44\"><code>Context\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"43,44"}},{"content":"<pre data-lines=\"45,70\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Context</span> {\n    <span class=\"hljs-keyword\">private</span> State state;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">Context</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-built_in\">this</span>.state = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ConcreteStateA</span>();\n    }\n\n    <span class=\"hljs-comment\">//&#x8bbe;&#x7f6e;&#x72b6;&#x6001;</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setState</span><span class=\"hljs-params\">(State state)</span> {\n        <span class=\"hljs-built_in\">this</span>.state = state;\n    }\n\n    <span class=\"hljs-comment\">//&#x8bfb;&#x53d6;&#x72b6;&#x6001;</span>\n    <span class=\"hljs-keyword\">public</span> State <span class=\"hljs-title function_\">getState</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> (state);\n    }\n\n    <span class=\"hljs-comment\">//&#x8bf7;&#x6c42;&#x5904;&#x7406;</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">Handle</span><span class=\"hljs-params\">()</span> {\n        state.Handle(<span class=\"hljs-built_in\">this</span>);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"45,70"}}],"payload":{"tag":"h2","lines":"40,42"}},{"content":"2.2&#x3001;&#x62bd;&#x8c61;&#x72b6;&#x6001;&#x7c7b;","children":[{"content":"<pre data-lines=\"74,75\"><code>State\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"74,75"}},{"content":"<pre data-lines=\"76,82\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">abstract</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">State</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">abstract</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">Handle</span><span class=\"hljs-params\">(Context context)</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"76,82"}}],"payload":{"tag":"h2","lines":"71,73"}},{"content":"2.3&#x3001;&#x5177;&#x4f53;&#x72b6;&#x6001;&#x7c7b;","children":[{"content":"<pre data-lines=\"86,87\"><code>ConcreteStateA\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"86,87"}},{"content":"<pre data-lines=\"88,97\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ConcreteStateA</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">State</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">Handle</span><span class=\"hljs-params\">(Context context)</span> {\n        System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x72b6;&#x6001;&#x662f; A.&quot;</span>);\n        context.setState(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ConcreteStateB</span>());\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"88,97"}},{"content":"<pre data-lines=\"98,99\"><code>ConcreteStateB\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"98,99"}},{"content":"<pre data-lines=\"100,109\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ConcreteStateB</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">State</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">Handle</span><span class=\"hljs-params\">(Context context)</span> {\n        System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x72b6;&#x6001;&#x662f; B.&quot;</span>);\n        context.setState(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ConcreteStateA</span>());\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"100,109"}}],"payload":{"tag":"h2","lines":"83,85"}},{"content":"2.4&#x3001;&#x6d4b;&#x8bd5;&#x7c7b;","children":[{"content":"<pre data-lines=\"113,114\"><code>Client\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"113,114"}},{"content":"<pre data-lines=\"115,127\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Client</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        <span class=\"hljs-type\">Context</span> <span class=\"hljs-variable\">context</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Context</span>();\n        context.Handle();\n        context.Handle();\n        context.Handle();\n        context.Handle();\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"115,127"}},{"content":"<pre data-lines=\"128,135\"><code class=\"language-java\">&#x5f53;&#x524d;&#x72b6;&#x6001;&#x662f; A.\n&#x5f53;&#x524d;&#x72b6;&#x6001;&#x662f; B.\n&#x5f53;&#x524d;&#x72b6;&#x6001;&#x662f; A.\n&#x5f53;&#x524d;&#x72b6;&#x6001;&#x662f; B.\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"128,135"}},{"content":"<pre data-lines=\"136,137\"><code>&#x591a;&#x7ebf;&#x7a0b;&#x5b58;&#x5728; 5 &#x79cd;&#x72b6;&#x6001;&#xff0c;&#x5206;&#x522b;&#x4e3a;&#x65b0;&#x5efa;&#x72b6;&#x6001;&#x3001;&#x5c31;&#x7eea;&#x72b6;&#x6001;&#x3001;&#x8fd0;&#x884c;&#x72b6;&#x6001;&#x3001;&#x963b;&#x585e;&#x72b6;&#x6001;&#x548c;&#x6b7b;&#x4ea1;&#x72b6;&#x6001;&#xff0c;&#x5404;&#x4e2a;&#x72b6;&#x6001;&#x5f53;&#x9047;&#x5230;&#x76f8;&#x5173;&#x65b9;&#x6cd5;&#x8c03;&#x7528;&#x6216;&#x4e8b;&#x4ef6;&#x89e6;&#x53d1;&#x65f6;&#x4f1a;&#x8f6c;&#x6362;&#x5230;&#x5176;&#x5b83;&#x72b6;&#x6001;&#xff0c;&#x5176;&#x72b6;&#x6001;&#x8f6c;&#x6362;&#x89c4;&#x5f8b;&#x5982;&#x4e0b;&#x56fe;&#x6240;&#x793a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"136,137"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/834fc4c716b9bb8804b57593633a96b5.gif\" alt>","children":[],"payload":{"tag":"img","lines":"138,139"}},{"content":"<pre data-lines=\"140,141\"><code>&#x73b0;&#x5728;&#x5148;&#x5b9a;&#x4e49;&#x4e00;&#x4e2a;&#x62bd;&#x8c61;&#x72b6;&#x6001;&#x7c7b;&#xff08;TheadState&#xff09;&#xff0c;&#x7136;&#x540e;&#x4e3a;&#x4e0a;&#x56fe;&#x6240;&#x793a;&#x7684;&#x6bcf;&#x4e2a;&#x72b6;&#x6001;&#x8bbe;&#x8ba1;&#x4e00;&#x4e2a;&#x5177;&#x4f53;&#x72b6;&#x6001;&#x7c7b;&#xff0c;&#x5b83;&#x4eec;&#x662f;&#x65b0;&#x5efa;&#x72b6;&#x6001;&#xff08;New&#xff09;&#x3001;&#x5c31;&#x7eea;&#x72b6;&#x6001;&#xff08;Runnable &#xff09;&#x3001;&#x8fd0;&#x884c;&#x72b6;&#x6001;&#xff08;Running&#xff09;&#x3001;&#x963b;&#x585e;&#x72b6;&#x6001;&#xff08;Blocked&#xff09;&#x548c;&#x6b7b;&#x4ea1;&#x72b6;&#x6001;&#xff08;Dead&#xff09;&#xff0c;&#x6bcf;&#x4e2a;&#x72b6;&#x6001;&#x4e2d;&#x6709;&#x89e6;&#x53d1;&#x5b83;&#x4eec;&#x8f6c;&#x53d8;&#x72b6;&#x6001;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x73af;&#x5883;&#x7c7b;&#xff08;ThreadContext&#xff09;&#x4e2d;&#x5148;&#x751f;&#x6210;&#x4e00;&#x4e2a;&#x521d;&#x59cb;&#x72b6;&#x6001;&#xff08;New&#xff09;&#xff0c;&#x5e76;&#x63d0;&#x4f9b;&#x76f8;&#x5173;&#x89e6;&#x53d1;&#x65b9;&#x6cd5;&#xff0c;&#x4e0b;&#x7ebf;&#x7a0b;&#x72b6;&#x6001;&#x8f6c;&#x6362;&#x7a0b;&#x5e8f;&#x7684;&#x7ed3;&#x6784;&#x5982;&#x4e0b;&#x56fe;&#x6240;&#x793a;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"140,141"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/2d4084f895a92caced72b841423f3210.gif\" alt>","children":[],"payload":{"tag":"img","lines":"142,143"}}],"payload":{"tag":"h2","lines":"110,112"}},{"content":"3.1&#x3001;&#x73af;&#x5883;&#x7c7b;","children":[{"content":"<pre data-lines=\"147,148\"><code>ThreadContext\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"147,148"}},{"content":"<pre data-lines=\"149,187\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ThreadContext</span> {\n    <span class=\"hljs-keyword\">private</span> ThreadState state;\n\n    ThreadContext() {\n        state = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">New</span>();\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setState</span><span class=\"hljs-params\">(ThreadState state)</span> {\n        <span class=\"hljs-built_in\">this</span>.state = state;\n    }\n\n    <span class=\"hljs-keyword\">public</span> ThreadState <span class=\"hljs-title function_\">getState</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> state;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">start</span><span class=\"hljs-params\">()</span> {\n        ((New) state).start(<span class=\"hljs-built_in\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">getCPU</span><span class=\"hljs-params\">()</span> {\n        ((Runnable) state).getCPU(<span class=\"hljs-built_in\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">suspend</span><span class=\"hljs-params\">()</span> {\n        ((Running) state).suspend(<span class=\"hljs-built_in\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">stop</span><span class=\"hljs-params\">()</span> {\n        ((Running) state).stop(<span class=\"hljs-built_in\">this</span>);\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">resume</span><span class=\"hljs-params\">()</span> {\n        ((Blocked) state).resume(<span class=\"hljs-built_in\">this</span>);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"149,187"}}],"payload":{"tag":"h2","lines":"144,146"}},{"content":"3.2&#x3001;&#x62bd;&#x8c61;&#x72b6;&#x6001;&#x7c7b;","children":[{"content":"<pre data-lines=\"191,192\"><code>ThreadState\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"191,192"}},{"content":"<pre data-lines=\"193,199\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">abstract</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ThreadState</span> {\n    <span class=\"hljs-keyword\">protected</span> String stateName;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"193,199"}}],"payload":{"tag":"h2","lines":"188,190"}},{"content":"3.3&#x3001;&#x5177;&#x4f53;&#x72b6;&#x6001;&#x7c7b;","children":[{"content":"<pre data-lines=\"203,204\"><code>New\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"203,204"}},{"content":"<pre data-lines=\"205,223\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">New</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">ThreadState</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">New</span><span class=\"hljs-params\">()</span> {\n        stateName = <span class=\"hljs-string\">&quot;&#x65b0;&#x5efa;&#x72b6;&#x6001;&quot;</span>;\n        System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x5904;&#x4e8e;&#xff1a;&#x65b0;&#x5efa;&#x72b6;&#x6001;.&quot;</span>);\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">start</span><span class=\"hljs-params\">(ThreadContext hj)</span> {\n        System.out.print(<span class=\"hljs-string\">&quot;&#x8c03;&#x7528;start()&#x65b9;&#x6cd5;--&gt;&quot;</span>);\n        <span class=\"hljs-keyword\">if</span> (stateName.equals(<span class=\"hljs-string\">&quot;&#x65b0;&#x5efa;&#x72b6;&#x6001;&quot;</span>)) {\n            hj.setState(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Runnable</span>());\n        } <span class=\"hljs-keyword\">else</span> {\n            System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x4e0d;&#x662f;&#x65b0;&#x5efa;&#x72b6;&#x6001;&#xff0c;&#x4e0d;&#x80fd;&#x8c03;&#x7528;start()&#x65b9;&#x6cd5;.&quot;</span>);\n        }\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"205,223"}},{"content":"<pre data-lines=\"224,225\"><code>Runnable\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"224,225"}},{"content":"<pre data-lines=\"226,244\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Runnable</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">ThreadState</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">Runnable</span><span class=\"hljs-params\">()</span> {\n        stateName = <span class=\"hljs-string\">&quot;&#x5c31;&#x7eea;&#x72b6;&#x6001;&quot;</span>;\n        System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x5904;&#x4e8e;&#xff1a;&#x5c31;&#x7eea;&#x72b6;&#x6001;.&quot;</span>);\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">getCPU</span><span class=\"hljs-params\">(ThreadContext hj)</span> {\n        System.out.print(<span class=\"hljs-string\">&quot;&#x83b7;&#x5f97;CPU&#x65f6;&#x95f4;--&gt;&quot;</span>);\n        <span class=\"hljs-keyword\">if</span> (stateName.equals(<span class=\"hljs-string\">&quot;&#x5c31;&#x7eea;&#x72b6;&#x6001;&quot;</span>)) {\n            hj.setState(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Running</span>());\n        } <span class=\"hljs-keyword\">else</span> {\n            System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x4e0d;&#x662f;&#x5c31;&#x7eea;&#x72b6;&#x6001;&#xff0c;&#x4e0d;&#x80fd;&#x83b7;&#x53d6;CPU.&quot;</span>);\n        }\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"226,244"}},{"content":"<pre data-lines=\"245,246\"><code>Running\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"245,246"}},{"content":"<pre data-lines=\"247,274\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Running</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">ThreadState</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">Running</span><span class=\"hljs-params\">()</span> {\n        stateName = <span class=\"hljs-string\">&quot;&#x8fd0;&#x884c;&#x72b6;&#x6001;&quot;</span>;\n        System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x5904;&#x4e8e;&#xff1a;&#x8fd0;&#x884c;&#x72b6;&#x6001;.&quot;</span>);\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">suspend</span><span class=\"hljs-params\">(ThreadContext hj)</span> {\n        System.out.print(<span class=\"hljs-string\">&quot;&#x8c03;&#x7528;suspend()&#x65b9;&#x6cd5;--&gt;&quot;</span>);\n        <span class=\"hljs-keyword\">if</span> (stateName.equals(<span class=\"hljs-string\">&quot;&#x8fd0;&#x884c;&#x72b6;&#x6001;&quot;</span>)) {\n            hj.setState(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Blocked</span>());\n        } <span class=\"hljs-keyword\">else</span> {\n            System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x4e0d;&#x662f;&#x8fd0;&#x884c;&#x72b6;&#x6001;&#xff0c;&#x4e0d;&#x80fd;&#x8c03;&#x7528;suspend()&#x65b9;&#x6cd5;.&quot;</span>);\n        }\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">stop</span><span class=\"hljs-params\">(ThreadContext hj)</span> {\n        System.out.print(<span class=\"hljs-string\">&quot;&#x8c03;&#x7528;stop()&#x65b9;&#x6cd5;--&gt;&quot;</span>);\n        <span class=\"hljs-keyword\">if</span> (stateName.equals(<span class=\"hljs-string\">&quot;&#x8fd0;&#x884c;&#x72b6;&#x6001;&quot;</span>)) {\n            hj.setState(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Dead</span>());\n        } <span class=\"hljs-keyword\">else</span> {\n            System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x4e0d;&#x662f;&#x8fd0;&#x884c;&#x72b6;&#x6001;&#xff0c;&#x4e0d;&#x80fd;&#x8c03;&#x7528;stop()&#x65b9;&#x6cd5;.&quot;</span>);\n        }\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"247,274"}},{"content":"<pre data-lines=\"275,276\"><code>Blocked\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"275,276"}},{"content":"<pre data-lines=\"277,295\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Blocked</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">ThreadState</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">Blocked</span><span class=\"hljs-params\">()</span> {\n        stateName = <span class=\"hljs-string\">&quot;&#x963b;&#x585e;&#x72b6;&#x6001;&quot;</span>;\n        System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x5904;&#x4e8e;&#xff1a;&#x963b;&#x585e;&#x72b6;&#x6001;.&quot;</span>);\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">resume</span><span class=\"hljs-params\">(ThreadContext hj)</span> {\n        System.out.print(<span class=\"hljs-string\">&quot;&#x8c03;&#x7528;resume()&#x65b9;&#x6cd5;--&gt;&quot;</span>);\n        <span class=\"hljs-keyword\">if</span> (stateName.equals(<span class=\"hljs-string\">&quot;&#x963b;&#x585e;&#x72b6;&#x6001;&quot;</span>)) {\n            hj.setState(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Runnable</span>());\n        } <span class=\"hljs-keyword\">else</span> {\n            System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x4e0d;&#x662f;&#x963b;&#x585e;&#x72b6;&#x6001;&#xff0c;&#x4e0d;&#x80fd;&#x8c03;&#x7528;resume()&#x65b9;&#x6cd5;.&quot;</span>);\n        }\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"277,295"}},{"content":"<pre data-lines=\"296,297\"><code>Dead\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"296,297"}},{"content":"<pre data-lines=\"298,307\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Dead</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">ThreadState</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">Dead</span><span class=\"hljs-params\">()</span> {\n        stateName = <span class=\"hljs-string\">&quot;&#x6b7b;&#x4ea1;&#x72b6;&#x6001;&quot;</span>;\n        System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x5904;&#x4e8e;&#xff1a;&#x6b7b;&#x4ea1;&#x72b6;&#x6001;.&quot;</span>);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"298,307"}}],"payload":{"tag":"h2","lines":"200,202"}},{"content":"3.4&#x3001;&#x6d4b;&#x8bd5;&#x7c7b;","children":[{"content":"<pre data-lines=\"311,312\"><code>Client\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"311,312"}},{"content":"<pre data-lines=\"313,327\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Client</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        <span class=\"hljs-type\">ThreadContext</span> <span class=\"hljs-variable\">context</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ThreadContext</span>();\n        context.start();\n        context.getCPU();\n        context.suspend();\n        context.resume();\n        context.getCPU();\n        context.stop();\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"313,327"}},{"content":"<pre data-lines=\"328,338\"><code class=\"language-java\">&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x5904;&#x4e8e;&#xff1a;&#x65b0;&#x5efa;&#x72b6;&#x6001;.\n&#x8c03;&#x7528;start()&#x65b9;&#x6cd5;--&gt;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x5904;&#x4e8e;&#xff1a;&#x5c31;&#x7eea;&#x72b6;&#x6001;.\n&#x83b7;&#x5f97;CPU&#x65f6;&#x95f4;--&gt;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x5904;&#x4e8e;&#xff1a;&#x8fd0;&#x884c;&#x72b6;&#x6001;.\n&#x8c03;&#x7528;suspend()&#x65b9;&#x6cd5;--&gt;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x5904;&#x4e8e;&#xff1a;&#x963b;&#x585e;&#x72b6;&#x6001;.\n&#x8c03;&#x7528;resume()&#x65b9;&#x6cd5;--&gt;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x5904;&#x4e8e;&#xff1a;&#x5c31;&#x7eea;&#x72b6;&#x6001;.\n&#x83b7;&#x5f97;CPU&#x65f6;&#x95f4;--&gt;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x5904;&#x4e8e;&#xff1a;&#x8fd0;&#x884c;&#x72b6;&#x6001;.\n&#x8c03;&#x7528;stop()&#x65b9;&#x6cd5;--&gt;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x5904;&#x4e8e;&#xff1a;&#x6b7b;&#x4ea1;&#x72b6;&#x6001;.\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"328,338"}}],"payload":{"tag":"h2","lines":"308,310"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
