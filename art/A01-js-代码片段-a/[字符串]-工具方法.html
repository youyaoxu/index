<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"String&#x5de5;&#x5177;&#x65b9;&#x6cd5;","children":[{"content":"&#x4e0b;&#x5212;&#x7ebf;&#x8f6c;&#x9a7c;&#x5cf0;","children":[{"content":"<pre data-lines=\"4,10\"><code class=\"language-js\"><span class=\"hljs-comment\">// &#x4e0b;&#x5212;&#x8f6c;&#x9a7c;&#x5cf0;</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">camelCase</span>(<span class=\"hljs-params\">str</span>) {\n  <span class=\"hljs-keyword\">return</span> str.<span class=\"hljs-title function_\">replace</span>(<span class=\"hljs-regexp\">/-[a-z]/g</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">str1</span> =&gt;</span> str1.<span class=\"hljs-title function_\">substr</span>(-<span class=\"hljs-number\">1</span>).<span class=\"hljs-title function_\">toUpperCase</span>())\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,10"}}],"payload":{"tag":"h2","lines":"3,4"}},{"content":"&#x9996;&#x5b57;&#x6bcd;&#x5927;&#x5199;","children":[{"content":"<pre data-lines=\"12,18\"><code class=\"language-js\"><span class=\"hljs-comment\">// &#x9996;&#x5b57;&#x6bcd;&#x5927;&#x5199;</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">titleCase</span>(<span class=\"hljs-params\">str</span>) {\n  <span class=\"hljs-keyword\">return</span> str.<span class=\"hljs-title function_\">replace</span>(<span class=\"hljs-regexp\">/( |^)[a-z]/g</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">L</span> =&gt;</span> L.<span class=\"hljs-title function_\">toUpperCase</span>())\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"12,18"}}],"payload":{"tag":"h2","lines":"11,12"}},{"content":"&#x6587;&#x672c;&#x8d85;&#x51fa;&#x5b57;&#x6570;&#x7701;&#x7565;&#x53f7;","children":[{"content":"<pre data-lines=\"20,33\"><code class=\"language-js\"><span class=\"hljs-comment\">/**\n * &#x6587;&#x672c;&#x8d85;&#x51fa;&#x5b57;&#x6570;&#x7701;&#x7565;&#x53f7;\n */</span>\n<span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-title function_\">filter</span>(<span class=\"hljs-string\">&apos;text_ellipsis&apos;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">value, num</span>) =&gt;</span> {\n  <span class=\"hljs-keyword\">const</span> nums = num || <span class=\"hljs-string\">&apos;5&apos;</span><span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;&#x9650;&#x5b9a;&#x5b57;&#x6570;,&#x9ed8;&#x8ba4;&#x4e3a;5</span>\n  <span class=\"hljs-keyword\">if</span> (!value) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&apos;-&apos;</span>\n  <span class=\"hljs-keyword\">if</span> (value.<span class=\"hljs-property\">length</span> &gt; nums) {\n    <span class=\"hljs-keyword\">return</span> value.<span class=\"hljs-title function_\">slice</span>(<span class=\"hljs-number\">0</span>, nums) + <span class=\"hljs-string\">&apos;...&apos;</span>\n  }\n  <span class=\"hljs-keyword\">return</span> value\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"20,33"}}],"payload":{"tag":"h2","lines":"19,20"}},{"content":"&#x5b57;&#x7b26;&#x4e32;&#x7684;&#x5b57;&#x8282;&#x957f;&#x5ea6;","children":[{"content":"&#x65b9;&#x6cd5;1","children":[{"content":"<pre data-lines=\"41,55\"><code class=\"language-js\"><span class=\"hljs-title class_\">String</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">byteLength</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-keyword\">var</span> length = <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">from</span>(<span class=\"hljs-variable language_\">this</span>).<span class=\"hljs-title function_\">map</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">char</span>){\n        <span class=\"hljs-keyword\">if</span>(char.<span class=\"hljs-title function_\">charCodeAt</span>(<span class=\"hljs-number\">0</span>)&gt;<span class=\"hljs-number\">255</span>) {<span class=\"hljs-comment\">//&#x5b57;&#x7b26;&#x7f16;&#x7801;&#x5927;&#x4e8e;255&#xff0c;&#x8bf4;&#x660e;&#x662f;&#x53cc;&#x5b57;&#x8282;&#x5b57;&#x7b26;</span>\n            length += <span class=\"hljs-number\">2</span>;\n        }<span class=\"hljs-keyword\">else</span> {\n            length++;\n        }\n    });\n    \n    <span class=\"hljs-keyword\">return</span> length;\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"41,55"}}],"payload":{"tag":"h3","lines":"39,40"}},{"content":"&#x65b9;&#x6cd5;2","children":[{"content":"<pre data-lines=\"58,76\"><code class=\"language-js\"><span class=\"hljs-comment\">/**\n * &#x8ba1;&#x7b97;&#x5b57;&#x8282;&#x957f;&#x5ea6;\n * <span class=\"hljs-doctag\">@param</span> {<span class=\"hljs-type\">string</span>} input value\n * <span class=\"hljs-doctag\">@returns</span> {<span class=\"hljs-type\">number</span>} output value\n */</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">byteLength</span>(<span class=\"hljs-params\">str</span>) {\n  <span class=\"hljs-comment\">// returns the byte length of an utf8 string</span>\n  <span class=\"hljs-keyword\">let</span> s = str.<span class=\"hljs-property\">length</span>\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = str.<span class=\"hljs-property\">length</span> - <span class=\"hljs-number\">1</span>; i &gt;= <span class=\"hljs-number\">0</span>; i--) {\n    <span class=\"hljs-keyword\">const</span> code = str.<span class=\"hljs-title function_\">charCodeAt</span>(i)\n    <span class=\"hljs-keyword\">if</span> (code &gt; <span class=\"hljs-number\">0x7f</span> &amp;&amp; code &lt;= <span class=\"hljs-number\">0x7ff</span>) s++\n    <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (code &gt; <span class=\"hljs-number\">0x7ff</span> &amp;&amp; code &lt;= <span class=\"hljs-number\">0xffff</span>) s += <span class=\"hljs-number\">2</span>\n    <span class=\"hljs-keyword\">if</span> (code &gt;= <span class=\"hljs-number\">0xdc00</span> &amp;&amp; code &lt;= <span class=\"hljs-number\">0xdfff</span>) i--\n  }\n  <span class=\"hljs-keyword\">return</span> s\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"58,76"}}],"payload":{"tag":"h3","lines":"56,57"}}],"payload":{"tag":"h2","lines":"34,35"}},{"content":"&#x8ba1;&#x7b97;&#x6587;&#x672c;&#x5728;&#x9875;&#x9762;&#x6240;&#x5360;px&#x5bbd;&#x5ea6;","children":[{"content":"<pre data-lines=\"78,81\"><code data-lines=\"78,81\">&#x6269;&#x5c55;<span class=\"hljs-type\">String</span>&#x539f;&#x578b;&#x65b9;&#x6cd5;pxWidth\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"78,81"}},{"content":"<pre data-lines=\"84,96\"><code class=\"language-js\"><span class=\"hljs-comment\">/*** &#x83b7;&#x53d6;&#x6587;&#x672c;px&#x5bbd;&#x5ea6;* <span class=\"hljs-doctag\">@param</span> font{String}: &#x5b57;&#x4f53;&#x6837;&#x5f0f;**/</span><span class=\"hljs-title class_\">String</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">pxWidth</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">font</span>) {\n  <span class=\"hljs-comment\">// re-use canvas object for better performance</span>\n  <span class=\"hljs-keyword\">var</span> canvas = <span class=\"hljs-title class_\">String</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">pxWidth</span>.<span class=\"hljs-property\">canvas</span> || (<span class=\"hljs-title class_\">String</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">pxWidth</span>.<span class=\"hljs-property\">canvas</span> = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">&quot;canvas&quot;</span>)),\n      context = canvas.<span class=\"hljs-title function_\">getContext</span>(<span class=\"hljs-string\">&quot;2d&quot;</span>); \n\n  font &amp;&amp; (context.<span class=\"hljs-property\">font</span> = font);\n  <span class=\"hljs-keyword\">var</span> metrics = context.<span class=\"hljs-title function_\">measureText</span>(<span class=\"hljs-variable language_\">this</span>);\n\n  <span class=\"hljs-keyword\">return</span> metrics.<span class=\"hljs-property\">width</span>;\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"84,96"}}],"payload":{"tag":"h2","lines":"77,78"}},{"content":"&#x8ba1;&#x7b97;&#x8d85;&#x8fc7;&#x957f;&#x5ea6;&#x9650;&#x5236;&#x7684;index","children":[{"content":"<pre data-lines=\"98,112\"><code class=\"language-js\"><span class=\"hljs-comment\">// &#x8ba1;&#x7b97;&#x8d85;&#x8fc7;&#x957f;&#x5ea6;&#x9650;&#x5236;&#x7684;index</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">textCountIndex</span> = (<span class=\"hljs-params\">str, limit</span>) =&gt; {\n    <span class=\"hljs-keyword\">let</span> strArr = str.<span class=\"hljs-title function_\">split</span>(<span class=\"hljs-string\">&apos;&apos;</span>)\n    <span class=\"hljs-keyword\">let</span> count = <span class=\"hljs-number\">0</span>\n    <span class=\"hljs-keyword\">let</span> index = <span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> i = <span class=\"hljs-number\">0</span>; i &lt; strArr.<span class=\"hljs-property\">length</span>; i++) {\n        count += <span class=\"hljs-regexp\">/[^\\x00-\\xff]/</span>.<span class=\"hljs-title function_\">test</span>(strArr[i]) ? <span class=\"hljs-number\">2</span> : <span class=\"hljs-number\">1</span>\n        index = i + <span class=\"hljs-number\">1</span>\n        <span class=\"hljs-keyword\">if</span> (count &gt;= limit * <span class=\"hljs-number\">2</span>) <span class=\"hljs-keyword\">return</span> index\n    }\n    <span class=\"hljs-keyword\">return</span> index\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"98,112"}}],"payload":{"tag":"h2","lines":"97,98"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
