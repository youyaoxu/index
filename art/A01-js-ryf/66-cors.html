<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"CORS &#x901a;&#x4fe1;","children":[{"content":"<pre data-lines=\"4,5\"><code>CORS &#x662f;&#x4e00;&#x4e2a; W3C &#x6807;&#x51c6;&#xff0c;&#x5168;&#x79f0;&#x662f;&#x201c;&#x8de8;&#x57df;&#x8d44;&#x6e90;&#x5171;&#x4eab;&#x201d;&#xff08;Cross-origin resource sharing&#xff09;&#x3002;&#x5b83;&#x5141;&#x8bb8;&#x6d4f;&#x89c8;&#x5668;&#x5411;&#x8de8;&#x57df;&#x7684;&#x670d;&#x52a1;&#x5668;&#xff0c;&#x53d1;&#x51fa;`XMLHttpRequest`&#x8bf7;&#x6c42;&#xff0c;&#x4ece;&#x800c;&#x514b;&#x670d;&#x4e86; AJAX &#x53ea;&#x80fd;&#x540c;&#x6e90;&#x4f7f;&#x7528;&#x7684;&#x9650;&#x5236;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,5"}},{"content":"&#x7b80;&#x4ecb;","children":[{"content":"<pre data-lines=\"8,11\"><code>CORS &#x9700;&#x8981;&#x6d4f;&#x89c8;&#x5668;&#x548c;&#x670d;&#x52a1;&#x5668;&#x540c;&#x65f6;&#x652f;&#x6301;&#x3002;&#x76ee;&#x524d;&#xff0c;&#x6240;&#x6709;&#x6d4f;&#x89c8;&#x5668;&#x90fd;&#x652f;&#x6301;&#x8be5;&#x529f;&#x80fd;&#x3002;\n\n&#x6574;&#x4e2a; CORS &#x901a;&#x4fe1;&#x8fc7;&#x7a0b;&#xff0c;&#x90fd;&#x662f;&#x6d4f;&#x89c8;&#x5668;&#x81ea;&#x52a8;&#x5b8c;&#x6210;&#xff0c;&#x4e0d;&#x9700;&#x8981;&#x7528;&#x6237;&#x53c2;&#x4e0e;&#x3002;&#x5bf9;&#x4e8e;&#x5f00;&#x53d1;&#x8005;&#x6765;&#x8bf4;&#xff0c;CORS &#x901a;&#x4fe1;&#x4e0e;&#x666e;&#x901a;&#x7684; AJAX &#x901a;&#x4fe1;&#x6ca1;&#x6709;&#x5dee;&#x522b;&#xff0c;&#x4ee3;&#x7801;&#x5b8c;&#x5168;&#x4e00;&#x6837;&#x3002;&#x6d4f;&#x89c8;&#x5668;&#x4e00;&#x65e6;&#x53d1;&#x73b0; AJAX &#x8bf7;&#x6c42;&#x8de8;&#x57df;&#xff0c;&#x5c31;&#x4f1a;&#x81ea;&#x52a8;&#x6dfb;&#x52a0;&#x4e00;&#x4e9b;&#x9644;&#x52a0;&#x7684;&#x5934;&#x4fe1;&#x606f;&#xff0c;&#x6709;&#x65f6;&#x8fd8;&#x4f1a;&#x591a;&#x51fa;&#x4e00;&#x6b21;&#x9644;&#x52a0;&#x7684;&#x8bf7;&#x6c42;&#xff0c;&#x4f46;&#x7528;&#x6237;&#x4e0d;&#x4f1a;&#x6709;&#x611f;&#x77e5;&#x3002;&#x56e0;&#x6b64;&#xff0c;&#x5b9e;&#x73b0; CORS &#x901a;&#x4fe1;&#x7684;&#x5173;&#x952e;&#x662f;&#x670d;&#x52a1;&#x5668;&#x3002;&#x53ea;&#x8981;&#x670d;&#x52a1;&#x5668;&#x5b9e;&#x73b0;&#x4e86; CORS &#x63a5;&#x53e3;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x8de8;&#x57df;&#x901a;&#x4fe1;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"8,11"}}],"payload":{"tag":"h2","lines":"6,7"}},{"content":"&#x4e24;&#x79cd;&#x8bf7;&#x6c42;","children":[{"content":"<pre data-lines=\"14,35\"><code>CORS &#x8bf7;&#x6c42;&#x5206;&#x6210;&#x4e24;&#x7c7b;&#xff1a;&#x7b80;&#x5355;&#x8bf7;&#x6c42;&#xff08;simple request&#xff09;&#x548c;&#x975e;&#x7b80;&#x5355;&#x8bf7;&#x6c42;&#xff08;not-so-simple request&#xff09;&#x3002;\n\n&#x53ea;&#x8981;&#x540c;&#x65f6;&#x6ee1;&#x8db3;&#x4ee5;&#x4e0b;&#x4e24;&#x5927;&#x6761;&#x4ef6;&#xff0c;&#x5c31;&#x5c5e;&#x4e8e;&#x7b80;&#x5355;&#x8bf7;&#x6c42;&#x3002;\n\n&#xff08;1&#xff09;&#x8bf7;&#x6c42;&#x65b9;&#x6cd5;&#x662f;&#x4ee5;&#x4e0b;&#x4e09;&#x79cd;&#x65b9;&#x6cd5;&#x4e4b;&#x4e00;&#x3002;\n\n&gt; - HEAD\n&gt; - GET\n&gt; - POST\n\n&#xff08;2&#xff09;HTTP &#x7684;&#x5934;&#x4fe1;&#x606f;&#x4e0d;&#x8d85;&#x51fa;&#x4ee5;&#x4e0b;&#x51e0;&#x79cd;&#x5b57;&#x6bb5;&#x3002;\n\n&gt; - Accept\n&gt; - Accept-Language\n&gt; - Content-Language\n&gt; - Last-Event-ID\n&gt; - Content-Type&#xff1a;&#x53ea;&#x9650;&#x4e8e;&#x4e09;&#x4e2a;&#x503c;`application/x-www-form-urlencoded`&#x3001;`multipart/form-data`&#x3001;`text/plain`\n\n&#x51e1;&#x662f;&#x4e0d;&#x540c;&#x65f6;&#x6ee1;&#x8db3;&#x4e0a;&#x9762;&#x4e24;&#x4e2a;&#x6761;&#x4ef6;&#xff0c;&#x5c31;&#x5c5e;&#x4e8e;&#x975e;&#x7b80;&#x5355;&#x8bf7;&#x6c42;&#x3002;&#x4e00;&#x53e5;&#x8bdd;&#xff0c;&#x7b80;&#x5355;&#x8bf7;&#x6c42;&#x5c31;&#x662f;&#x7b80;&#x5355;&#x7684; HTTP &#x65b9;&#x6cd5;&#x4e0e;&#x7b80;&#x5355;&#x7684; HTTP &#x5934;&#x4fe1;&#x606f;&#x7684;&#x7ed3;&#x5408;&#x3002;\n\n&#x8fd9;&#x6837;&#x5212;&#x5206;&#x7684;&#x539f;&#x56e0;&#x662f;&#xff0c;&#x8868;&#x5355;&#x5728;&#x5386;&#x53f2;&#x4e0a;&#x4e00;&#x76f4;&#x53ef;&#x4ee5;&#x8de8;&#x57df;&#x53d1;&#x51fa;&#x8bf7;&#x6c42;&#x3002;&#x7b80;&#x5355;&#x8bf7;&#x6c42;&#x5c31;&#x662f;&#x8868;&#x5355;&#x8bf7;&#x6c42;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x6cbf;&#x88ad;&#x4e86;&#x4f20;&#x7edf;&#x7684;&#x5904;&#x7406;&#x65b9;&#x5f0f;&#xff0c;&#x4e0d;&#x628a;&#x884c;&#x4e3a;&#x590d;&#x6742;&#x5316;&#xff0c;&#x5426;&#x5219;&#x5f00;&#x53d1;&#x8005;&#x53ef;&#x80fd;&#x8f6c;&#x800c;&#x4f7f;&#x7528;&#x8868;&#x5355;&#xff0c;&#x89c4;&#x907f; CORS &#x7684;&#x9650;&#x5236;&#x3002;&#x5bf9;&#x4e8e;&#x975e;&#x7b80;&#x5355;&#x8bf7;&#x6c42;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x4f1a;&#x91c7;&#x7528;&#x65b0;&#x7684;&#x5904;&#x7406;&#x65b9;&#x5f0f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"14,35"}}],"payload":{"tag":"h2","lines":"12,13"}},{"content":"&#x7b80;&#x5355;&#x8bf7;&#x6c42;","children":[{"content":"&#x57fa;&#x672c;&#x6d41;&#x7a0b;","children":[{"content":"<pre data-lines=\"40,43\"><code>&#x5bf9;&#x4e8e;&#x7b80;&#x5355;&#x8bf7;&#x6c42;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x76f4;&#x63a5;&#x53d1;&#x51fa; CORS &#x8bf7;&#x6c42;&#x3002;&#x5177;&#x4f53;&#x6765;&#x8bf4;&#xff0c;&#x5c31;&#x662f;&#x5728;&#x5934;&#x4fe1;&#x606f;&#x4e4b;&#x4e2d;&#xff0c;&#x589e;&#x52a0;&#x4e00;&#x4e2a;`Origin`&#x5b57;&#x6bb5;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x53d1;&#x73b0;&#x8fd9;&#x6b21;&#x8de8;&#x57df; AJAX &#x8bf7;&#x6c42;&#x662f;&#x7b80;&#x5355;&#x8bf7;&#x6c42;&#xff0c;&#x5c31;&#x81ea;&#x52a8;&#x5728;&#x5934;&#x4fe1;&#x606f;&#x4e4b;&#x4e2d;&#xff0c;&#x6dfb;&#x52a0;&#x4e00;&#x4e2a;`Origin`&#x5b57;&#x6bb5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"40,43"}},{"content":"<pre data-lines=\"44,52\"><code class=\"language-http\"><span class=\"hljs-keyword\">GET</span> <span class=\"hljs-string\">/cors</span> <span class=\"hljs-meta\">HTTP/1.1</span>\n<span class=\"hljs-attribute\">Origin</span><span class=\"hljs-punctuation\">: </span>http://api.bob.com\n<span class=\"hljs-attribute\">Host</span><span class=\"hljs-punctuation\">: </span>api.alice.com\n<span class=\"hljs-attribute\">Accept-Language</span><span class=\"hljs-punctuation\">: </span>en-US\n<span class=\"hljs-attribute\">Connection</span><span class=\"hljs-punctuation\">: </span>keep-alive\n<span class=\"hljs-attribute\">User-Agent</span><span class=\"hljs-punctuation\">: </span>Mozilla/5.0...\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"44,52"}},{"content":"<pre data-lines=\"53,58\"><code>&#x4e0a;&#x9762;&#x7684;&#x5934;&#x4fe1;&#x606f;&#x4e2d;&#xff0c;`Origin`&#x5b57;&#x6bb5;&#x7528;&#x6765;&#x8bf4;&#x660e;&#xff0c;&#x672c;&#x6b21;&#x8bf7;&#x6c42;&#x6765;&#x81ea;&#x54ea;&#x4e2a;&#x57df;&#xff08;&#x534f;&#x8bae; + &#x57df;&#x540d; + &#x7aef;&#x53e3;&#xff09;&#x3002;&#x670d;&#x52a1;&#x5668;&#x6839;&#x636e;&#x8fd9;&#x4e2a;&#x503c;&#xff0c;&#x51b3;&#x5b9a;&#x662f;&#x5426;&#x540c;&#x610f;&#x8fd9;&#x6b21;&#x8bf7;&#x6c42;&#x3002;\n\n&#x5982;&#x679c;`Origin`&#x6307;&#x5b9a;&#x7684;&#x6e90;&#xff0c;&#x4e0d;&#x5728;&#x8bb8;&#x53ef;&#x8303;&#x56f4;&#x5185;&#xff0c;&#x670d;&#x52a1;&#x5668;&#x4f1a;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x6b63;&#x5e38;&#x7684; HTTP &#x56de;&#x5e94;&#x3002;&#x6d4f;&#x89c8;&#x5668;&#x53d1;&#x73b0;&#xff0c;&#x8fd9;&#x4e2a;&#x56de;&#x5e94;&#x7684;&#x5934;&#x4fe1;&#x606f;&#x6ca1;&#x6709;&#x5305;&#x542b;`Access-Control-Allow-Origin`&#x5b57;&#x6bb5;&#xff08;&#x8be6;&#x89c1;&#x4e0b;&#x6587;&#xff09;&#xff0c;&#x5c31;&#x77e5;&#x9053;&#x51fa;&#x9519;&#x4e86;&#xff0c;&#x4ece;&#x800c;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#xff0c;&#x88ab;`XMLHttpRequest`&#x7684;`onerror`&#x56de;&#x8c03;&#x51fd;&#x6570;&#x6355;&#x83b7;&#x3002;&#x6ce8;&#x610f;&#xff0c;&#x8fd9;&#x79cd;&#x9519;&#x8bef;&#x65e0;&#x6cd5;&#x901a;&#x8fc7;&#x72b6;&#x6001;&#x7801;&#x8bc6;&#x522b;&#xff0c;&#x56e0;&#x4e3a; HTTP &#x56de;&#x5e94;&#x7684;&#x72b6;&#x6001;&#x7801;&#x6709;&#x53ef;&#x80fd;&#x662f;200&#x3002;\n\n&#x5982;&#x679c;`Origin`&#x6307;&#x5b9a;&#x7684;&#x57df;&#x540d;&#x5728;&#x8bb8;&#x53ef;&#x8303;&#x56f4;&#x5185;&#xff0c;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x54cd;&#x5e94;&#xff0c;&#x4f1a;&#x591a;&#x51fa;&#x51e0;&#x4e2a;&#x5934;&#x4fe1;&#x606f;&#x5b57;&#x6bb5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"53,58"}},{"content":"<pre data-lines=\"59,65\"><code class=\"language-http\"><span class=\"hljs-attribute\">Access-Control-Allow-Origin</span><span class=\"hljs-punctuation\">: </span>http://api.bob.com\n<span class=\"hljs-attribute\">Access-Control-Allow-Credentials</span><span class=\"hljs-punctuation\">: </span>true\n<span class=\"hljs-attribute\">Access-Control-Expose-Headers</span><span class=\"hljs-punctuation\">: </span>FooBar\n<span class=\"hljs-attribute\">Content-Type</span><span class=\"hljs-punctuation\">: </span>text/html; charset=utf-8\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"59,65"}},{"content":"<pre data-lines=\"66,79\"><code>&#x4e0a;&#x9762;&#x7684;&#x5934;&#x4fe1;&#x606f;&#x4e4b;&#x4e2d;&#xff0c;&#x6709;&#x4e09;&#x4e2a;&#x4e0e; CORS &#x8bf7;&#x6c42;&#x76f8;&#x5173;&#x7684;&#x5b57;&#x6bb5;&#xff0c;&#x90fd;&#x4ee5;`Access-Control-`&#x5f00;&#x5934;&#x3002;\n\n**&#xff08;1&#xff09;`Access-Control-Allow-Origin`**\n\n&#x8be5;&#x5b57;&#x6bb5;&#x662f;&#x5fc5;&#x987b;&#x7684;&#x3002;&#x5b83;&#x7684;&#x503c;&#x8981;&#x4e48;&#x662f;&#x8bf7;&#x6c42;&#x65f6;`Origin`&#x5b57;&#x6bb5;&#x7684;&#x503c;&#xff0c;&#x8981;&#x4e48;&#x662f;&#x4e00;&#x4e2a;`*`&#xff0c;&#x8868;&#x793a;&#x63a5;&#x53d7;&#x4efb;&#x610f;&#x57df;&#x540d;&#x7684;&#x8bf7;&#x6c42;&#x3002;\n\n**&#xff08;2&#xff09;`Access-Control-Allow-Credentials`**\n\n&#x8be5;&#x5b57;&#x6bb5;&#x53ef;&#x9009;&#x3002;&#x5b83;&#x7684;&#x503c;&#x662f;&#x4e00;&#x4e2a;&#x5e03;&#x5c14;&#x503c;&#xff0c;&#x8868;&#x793a;&#x662f;&#x5426;&#x5141;&#x8bb8;&#x53d1;&#x9001; Cookie&#x3002;&#x9ed8;&#x8ba4;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;Cookie &#x4e0d;&#x5305;&#x62ec;&#x5728; CORS &#x8bf7;&#x6c42;&#x4e4b;&#x4e2d;&#x3002;&#x8bbe;&#x4e3a;`true`&#xff0c;&#x5373;&#x8868;&#x793a;&#x670d;&#x52a1;&#x5668;&#x660e;&#x786e;&#x8bb8;&#x53ef;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x53ef;&#x4ee5;&#x628a; Cookie &#x5305;&#x542b;&#x5728;&#x8bf7;&#x6c42;&#x4e2d;&#xff0c;&#x4e00;&#x8d77;&#x53d1;&#x7ed9;&#x670d;&#x52a1;&#x5668;&#x3002;&#x8fd9;&#x4e2a;&#x503c;&#x4e5f;&#x53ea;&#x80fd;&#x8bbe;&#x4e3a;`true`&#xff0c;&#x5982;&#x679c;&#x670d;&#x52a1;&#x5668;&#x4e0d;&#x8981;&#x6d4f;&#x89c8;&#x5668;&#x53d1;&#x9001; Cookie&#xff0c;&#x4e0d;&#x53d1;&#x9001;&#x8be5;&#x5b57;&#x6bb5;&#x5373;&#x53ef;&#x3002;\n\n**&#xff08;3&#xff09;`Access-Control-Expose-Headers`**\n\n&#x8be5;&#x5b57;&#x6bb5;&#x53ef;&#x9009;&#x3002;CORS &#x8bf7;&#x6c42;&#x65f6;&#xff0c;`XMLHttpRequest`&#x5bf9;&#x8c61;&#x7684;`getResponseHeader()`&#x65b9;&#x6cd5;&#x53ea;&#x80fd;&#x62ff;&#x5230;6&#x4e2a;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x57fa;&#x672c;&#x5b57;&#x6bb5;&#xff1a;`Cache-Control`&#x3001;`Content-Language`&#x3001;`Content-Type`&#x3001;`Expires`&#x3001;`Last-Modified`&#x3001;`Pragma`&#x3002;&#x5982;&#x679c;&#x60f3;&#x62ff;&#x5230;&#x5176;&#x4ed6;&#x5b57;&#x6bb5;&#xff0c;&#x5c31;&#x5fc5;&#x987b;&#x5728;`Access-Control-Expose-Headers`&#x91cc;&#x9762;&#x6307;&#x5b9a;&#x3002;&#x4e0a;&#x9762;&#x7684;&#x4f8b;&#x5b50;&#x6307;&#x5b9a;&#xff0c;`getResponseHeader(&apos;FooBar&apos;)`&#x53ef;&#x4ee5;&#x8fd4;&#x56de;`FooBar`&#x5b57;&#x6bb5;&#x7684;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"66,79"}}],"payload":{"tag":"h3","lines":"38,39"}},{"content":"withCredentials &#x5c5e;&#x6027;","children":[{"content":"<pre data-lines=\"82,83\"><code>&#x4e0a;&#x9762;&#x8bf4;&#x5230;&#xff0c;CORS &#x8bf7;&#x6c42;&#x9ed8;&#x8ba4;&#x4e0d;&#x5305;&#x542b; Cookie &#x4fe1;&#x606f;&#xff08;&#x4ee5;&#x53ca; HTTP &#x8ba4;&#x8bc1;&#x4fe1;&#x606f;&#x7b49;&#xff09;&#xff0c;&#x8fd9;&#x662f;&#x4e3a;&#x4e86;&#x964d;&#x4f4e; CSRF &#x653b;&#x51fb;&#x7684;&#x98ce;&#x9669;&#x3002;&#x4f46;&#x662f;&#x67d0;&#x4e9b;&#x573a;&#x5408;&#xff0c;&#x670d;&#x52a1;&#x5668;&#x53ef;&#x80fd;&#x9700;&#x8981;&#x62ff;&#x5230; Cookie&#xff0c;&#x8fd9;&#x65f6;&#x9700;&#x8981;&#x670d;&#x52a1;&#x5668;&#x663e;&#x5f0f;&#x6307;&#x5b9a;`Access-Control-Allow-Credentials`&#x5b57;&#x6bb5;&#xff0c;&#x544a;&#x8bc9;&#x6d4f;&#x89c8;&#x5668;&#x53ef;&#x4ee5;&#x53d1;&#x9001; Cookie&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"82,83"}},{"content":"<pre data-lines=\"84,87\"><code class=\"language-http\"><span class=\"hljs-attribute\">Access-Control-Allow-Credentials</span><span class=\"hljs-punctuation\">: </span>true\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"84,87"}},{"content":"<pre data-lines=\"88,89\"><code>&#x540c;&#x65f6;&#xff0c;&#x5f00;&#x53d1;&#x8005;&#x5fc5;&#x987b;&#x5728; AJAX &#x8bf7;&#x6c42;&#x4e2d;&#x6253;&#x5f00;`withCredentials`&#x5c5e;&#x6027;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"88,89"}},{"content":"<pre data-lines=\"90,94\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-property\">withCredentials</span> = <span class=\"hljs-literal\">true</span>;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"90,94"}},{"content":"<pre data-lines=\"95,98\"><code>&#x5426;&#x5219;&#xff0c;&#x5373;&#x4f7f;&#x670d;&#x52a1;&#x5668;&#x8981;&#x6c42;&#x53d1;&#x9001; Cookie&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x4e5f;&#x4e0d;&#x4f1a;&#x53d1;&#x9001;&#x3002;&#x6216;&#x8005;&#xff0c;&#x670d;&#x52a1;&#x5668;&#x8981;&#x6c42;&#x8bbe;&#x7f6e; Cookie&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x4e5f;&#x4e0d;&#x4f1a;&#x5904;&#x7406;&#x3002;\n\n&#x4f46;&#x662f;&#xff0c;&#x6709;&#x7684;&#x6d4f;&#x89c8;&#x5668;&#x9ed8;&#x8ba4;&#x5c06;`withCredentials`&#x5c5e;&#x6027;&#x8bbe;&#x4e3a;`true`&#x3002;&#x8fd9;&#x5bfc;&#x81f4;&#x5982;&#x679c;&#x7701;&#x7565;`withCredentials`&#x8bbe;&#x7f6e;&#xff0c;&#x8fd9;&#x4e9b;&#x6d4f;&#x89c8;&#x5668;&#x53ef;&#x80fd;&#x8fd8;&#x662f;&#x4f1a;&#x4e00;&#x8d77;&#x53d1;&#x9001; Cookie&#x3002;&#x8fd9;&#x65f6;&#xff0c;&#x53ef;&#x4ee5;&#x663e;&#x5f0f;&#x5173;&#x95ed;`withCredentials`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"95,98"}},{"content":"<pre data-lines=\"99,102\"><code class=\"language-javascript\">xhr.<span class=\"hljs-property\">withCredentials</span> = <span class=\"hljs-literal\">false</span>;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"99,102"}},{"content":"<pre data-lines=\"103,104\"><code>&#x9700;&#x8981;&#x6ce8;&#x610f;&#x7684;&#x662f;&#xff0c;&#x5982;&#x679c;&#x670d;&#x52a1;&#x5668;&#x8981;&#x6c42;&#x6d4f;&#x89c8;&#x5668;&#x53d1;&#x9001; Cookie&#xff0c;`Access-Control-Allow-Origin`&#x5c31;&#x4e0d;&#x80fd;&#x8bbe;&#x4e3a;&#x661f;&#x53f7;&#xff0c;&#x5fc5;&#x987b;&#x6307;&#x5b9a;&#x660e;&#x786e;&#x7684;&#x3001;&#x4e0e;&#x8bf7;&#x6c42;&#x7f51;&#x9875;&#x4e00;&#x81f4;&#x7684;&#x57df;&#x540d;&#x3002;&#x540c;&#x65f6;&#xff0c;Cookie &#x4f9d;&#x7136;&#x9075;&#x5faa;&#x540c;&#x6e90;&#x653f;&#x7b56;&#xff0c;&#x53ea;&#x6709;&#x7528;&#x670d;&#x52a1;&#x5668;&#x57df;&#x540d;&#x8bbe;&#x7f6e;&#x7684; Cookie &#x624d;&#x4f1a;&#x4e0a;&#x4f20;&#xff0c;&#x5176;&#x4ed6;&#x57df;&#x540d;&#x7684; Cookie &#x5e76;&#x4e0d;&#x4f1a;&#x4e0a;&#x4f20;&#xff0c;&#x4e14;&#xff08;&#x8de8;&#x57df;&#xff09;&#x539f;&#x7f51;&#x9875;&#x4ee3;&#x7801;&#x4e2d;&#x7684;`document.cookie`&#x4e5f;&#x65e0;&#x6cd5;&#x8bfb;&#x53d6;&#x670d;&#x52a1;&#x5668;&#x57df;&#x540d;&#x4e0b;&#x7684; Cookie&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"103,104"}}],"payload":{"tag":"h3","lines":"80,81"}}],"payload":{"tag":"h2","lines":"36,37"}},{"content":"&#x975e;&#x7b80;&#x5355;&#x8bf7;&#x6c42;","children":[{"content":"&#x9884;&#x68c0;&#x8bf7;&#x6c42;","children":[{"content":"<pre data-lines=\"109,114\"><code>&#x975e;&#x7b80;&#x5355;&#x8bf7;&#x6c42;&#x662f;&#x90a3;&#x79cd;&#x5bf9;&#x670d;&#x52a1;&#x5668;&#x63d0;&#x51fa;&#x7279;&#x6b8a;&#x8981;&#x6c42;&#x7684;&#x8bf7;&#x6c42;&#xff0c;&#x6bd4;&#x5982;&#x8bf7;&#x6c42;&#x65b9;&#x6cd5;&#x662f;`PUT`&#x6216;`DELETE`&#xff0c;&#x6216;&#x8005;`Content-Type`&#x5b57;&#x6bb5;&#x7684;&#x7c7b;&#x578b;&#x662f;`application/json`&#x3002;\n\n&#x975e;&#x7b80;&#x5355;&#x8bf7;&#x6c42;&#x7684; CORS &#x8bf7;&#x6c42;&#xff0c;&#x4f1a;&#x5728;&#x6b63;&#x5f0f;&#x901a;&#x4fe1;&#x4e4b;&#x524d;&#xff0c;&#x589e;&#x52a0;&#x4e00;&#x6b21; HTTP &#x67e5;&#x8be2;&#x8bf7;&#x6c42;&#xff0c;&#x79f0;&#x4e3a;&#x201c;&#x9884;&#x68c0;&#x201d;&#x8bf7;&#x6c42;&#xff08;preflight&#xff09;&#x3002;&#x6d4f;&#x89c8;&#x5668;&#x5148;&#x8be2;&#x95ee;&#x670d;&#x52a1;&#x5668;&#xff0c;&#x5f53;&#x524d;&#x7f51;&#x9875;&#x6240;&#x5728;&#x7684;&#x57df;&#x540d;&#x662f;&#x5426;&#x5728;&#x670d;&#x52a1;&#x5668;&#x7684;&#x8bb8;&#x53ef;&#x540d;&#x5355;&#x4e4b;&#x4e2d;&#xff0c;&#x4ee5;&#x53ca;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x54ea;&#x4e9b; HTTP &#x65b9;&#x6cd5;&#x548c;&#x5934;&#x4fe1;&#x606f;&#x5b57;&#x6bb5;&#x3002;&#x53ea;&#x6709;&#x5f97;&#x5230;&#x80af;&#x5b9a;&#x7b54;&#x590d;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x624d;&#x4f1a;&#x53d1;&#x51fa;&#x6b63;&#x5f0f;&#x7684;`XMLHttpRequest`&#x8bf7;&#x6c42;&#xff0c;&#x5426;&#x5219;&#x5c31;&#x62a5;&#x9519;&#x3002;&#x8fd9;&#x662f;&#x4e3a;&#x4e86;&#x9632;&#x6b62;&#x8fd9;&#x4e9b;&#x65b0;&#x589e;&#x7684;&#x8bf7;&#x6c42;&#xff0c;&#x5bf9;&#x4f20;&#x7edf;&#x7684;&#x6ca1;&#x6709; CORS &#x652f;&#x6301;&#x7684;&#x670d;&#x52a1;&#x5668;&#x5f62;&#x6210;&#x538b;&#x529b;&#xff0c;&#x7ed9;&#x670d;&#x52a1;&#x5668;&#x4e00;&#x4e2a;&#x63d0;&#x524d;&#x62d2;&#x7edd;&#x7684;&#x673a;&#x4f1a;&#xff0c;&#x8fd9;&#x6837;&#x53ef;&#x4ee5;&#x9632;&#x6b62;&#x670d;&#x52a1;&#x5668;&#x6536;&#x5230;&#x5927;&#x91cf;`DELETE`&#x548c;`PUT`&#x8bf7;&#x6c42;&#xff0c;&#x8fd9;&#x4e9b;&#x4f20;&#x7edf;&#x7684;&#x8868;&#x5355;&#x4e0d;&#x53ef;&#x80fd;&#x8de8;&#x57df;&#x53d1;&#x51fa;&#x7684;&#x8bf7;&#x6c42;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x6bb5;&#x6d4f;&#x89c8;&#x5668;&#x7684; JavaScript &#x811a;&#x672c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"109,114"}},{"content":"<pre data-lines=\"115,122\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> url = <span class=\"hljs-string\">&apos;http://api.alice.com/cors&apos;</span>;\n<span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;PUT&apos;</span>, url, <span class=\"hljs-literal\">true</span>);\nxhr.<span class=\"hljs-title function_\">setRequestHeader</span>(<span class=\"hljs-string\">&apos;X-Custom-Header&apos;</span>, <span class=\"hljs-string\">&apos;value&apos;</span>);\nxhr.<span class=\"hljs-title function_\">send</span>();\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"115,122"}},{"content":"<pre data-lines=\"123,126\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;HTTP &#x8bf7;&#x6c42;&#x7684;&#x65b9;&#x6cd5;&#x662f;`PUT`&#xff0c;&#x5e76;&#x4e14;&#x53d1;&#x9001;&#x4e00;&#x4e2a;&#x81ea;&#x5b9a;&#x4e49;&#x5934;&#x4fe1;&#x606f;`X-Custom-Header`&#x3002;\n\n&#x6d4f;&#x89c8;&#x5668;&#x53d1;&#x73b0;&#xff0c;&#x8fd9;&#x662f;&#x4e00;&#x4e2a;&#x975e;&#x7b80;&#x5355;&#x8bf7;&#x6c42;&#xff0c;&#x5c31;&#x81ea;&#x52a8;&#x53d1;&#x51fa;&#x4e00;&#x4e2a;&#x201c;&#x9884;&#x68c0;&#x201d;&#x8bf7;&#x6c42;&#xff0c;&#x8981;&#x6c42;&#x670d;&#x52a1;&#x5668;&#x786e;&#x8ba4;&#x53ef;&#x4ee5;&#x8fd9;&#x6837;&#x8bf7;&#x6c42;&#x3002;&#x4e0b;&#x9762;&#x662f;&#x8fd9;&#x4e2a;&#x201c;&#x9884;&#x68c0;&#x201d;&#x8bf7;&#x6c42;&#x7684; HTTP &#x5934;&#x4fe1;&#x606f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"123,126"}},{"content":"<pre data-lines=\"127,137\"><code class=\"language-http\"><span class=\"hljs-keyword\">OPTIONS</span> <span class=\"hljs-string\">/cors</span> <span class=\"hljs-meta\">HTTP/1.1</span>\n<span class=\"hljs-attribute\">Origin</span><span class=\"hljs-punctuation\">: </span>http://api.bob.com\n<span class=\"hljs-attribute\">Access-Control-Request-Method</span><span class=\"hljs-punctuation\">: </span>PUT\n<span class=\"hljs-attribute\">Access-Control-Request-Headers</span><span class=\"hljs-punctuation\">: </span>X-Custom-Header\n<span class=\"hljs-attribute\">Host</span><span class=\"hljs-punctuation\">: </span>api.alice.com\n<span class=\"hljs-attribute\">Accept-Language</span><span class=\"hljs-punctuation\">: </span>en-US\n<span class=\"hljs-attribute\">Connection</span><span class=\"hljs-punctuation\">: </span>keep-alive\n<span class=\"hljs-attribute\">User-Agent</span><span class=\"hljs-punctuation\">: </span>Mozilla/5.0...\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"127,137"}},{"content":"<pre data-lines=\"138,149\"><code>&#x201c;&#x9884;&#x68c0;&#x201d;&#x8bf7;&#x6c42;&#x7528;&#x7684;&#x8bf7;&#x6c42;&#x65b9;&#x6cd5;&#x662f;`OPTIONS`&#xff0c;&#x8868;&#x793a;&#x8fd9;&#x4e2a;&#x8bf7;&#x6c42;&#x662f;&#x7528;&#x6765;&#x8be2;&#x95ee;&#x7684;&#x3002;&#x5934;&#x4fe1;&#x606f;&#x91cc;&#x9762;&#xff0c;&#x5173;&#x952e;&#x5b57;&#x6bb5;&#x662f;`Origin`&#xff0c;&#x8868;&#x793a;&#x8bf7;&#x6c42;&#x6765;&#x81ea;&#x54ea;&#x4e2a;&#x6e90;&#x3002;\n\n&#x9664;&#x4e86;`Origin`&#x5b57;&#x6bb5;&#xff0c;&#x201c;&#x9884;&#x68c0;&#x201d;&#x8bf7;&#x6c42;&#x7684;&#x5934;&#x4fe1;&#x606f;&#x5305;&#x62ec;&#x4e24;&#x4e2a;&#x7279;&#x6b8a;&#x5b57;&#x6bb5;&#x3002;\n\n**&#xff08;1&#xff09;`Access-Control-Request-Method`**\n\n&#x8be5;&#x5b57;&#x6bb5;&#x662f;&#x5fc5;&#x987b;&#x7684;&#xff0c;&#x7528;&#x6765;&#x5217;&#x51fa;&#x6d4f;&#x89c8;&#x5668;&#x7684; CORS &#x8bf7;&#x6c42;&#x4f1a;&#x7528;&#x5230;&#x54ea;&#x4e9b; HTTP &#x65b9;&#x6cd5;&#xff0c;&#x4e0a;&#x4f8b;&#x662f;`PUT`&#x3002;\n\n**&#xff08;2&#xff09;`Access-Control-Request-Headers`**\n\n&#x8be5;&#x5b57;&#x6bb5;&#x662f;&#x4e00;&#x4e2a;&#x9017;&#x53f7;&#x5206;&#x9694;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x6307;&#x5b9a;&#x6d4f;&#x89c8;&#x5668; CORS &#x8bf7;&#x6c42;&#x4f1a;&#x989d;&#x5916;&#x53d1;&#x9001;&#x7684;&#x5934;&#x4fe1;&#x606f;&#x5b57;&#x6bb5;&#xff0c;&#x4e0a;&#x4f8b;&#x662f;`X-Custom-Header`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"138,149"}}],"payload":{"tag":"h3","lines":"107,108"}},{"content":"&#x9884;&#x68c0;&#x8bf7;&#x6c42;&#x7684;&#x56de;&#x5e94;","children":[{"content":"<pre data-lines=\"152,153\"><code>&#x670d;&#x52a1;&#x5668;&#x6536;&#x5230;&#x201c;&#x9884;&#x68c0;&#x201d;&#x8bf7;&#x6c42;&#x4ee5;&#x540e;&#xff0c;&#x68c0;&#x67e5;&#x4e86;`Origin`&#x3001;`Access-Control-Request-Method`&#x548c;`Access-Control-Request-Headers`&#x5b57;&#x6bb5;&#x4ee5;&#x540e;&#xff0c;&#x786e;&#x8ba4;&#x5141;&#x8bb8;&#x8de8;&#x6e90;&#x8bf7;&#x6c42;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x505a;&#x51fa;&#x56de;&#x5e94;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"152,153"}},{"content":"<pre data-lines=\"154,168\"><code class=\"language-http\"><span class=\"hljs-meta\">HTTP/1.1</span> <span class=\"hljs-number\">200</span> OK\n<span class=\"hljs-attribute\">Date</span><span class=\"hljs-punctuation\">: </span>Mon, 01 Dec 2008 01:15:39 GMT\n<span class=\"hljs-attribute\">Server</span><span class=\"hljs-punctuation\">: </span>Apache/2.0.61 (Unix)\n<span class=\"hljs-attribute\">Access-Control-Allow-Origin</span><span class=\"hljs-punctuation\">: </span>http://api.bob.com\n<span class=\"hljs-attribute\">Access-Control-Allow-Methods</span><span class=\"hljs-punctuation\">: </span>GET, POST, PUT\n<span class=\"hljs-attribute\">Access-Control-Allow-Headers</span><span class=\"hljs-punctuation\">: </span>X-Custom-Header\n<span class=\"hljs-attribute\">Content-Type</span><span class=\"hljs-punctuation\">: </span>text/html; charset=utf-8\n<span class=\"hljs-attribute\">Content-Encoding</span><span class=\"hljs-punctuation\">: </span>gzip\n<span class=\"hljs-attribute\">Content-Length</span><span class=\"hljs-punctuation\">: </span>0\n<span class=\"hljs-attribute\">Keep-Alive</span><span class=\"hljs-punctuation\">: </span>timeout=2, max=100\n<span class=\"hljs-attribute\">Connection</span><span class=\"hljs-punctuation\">: </span>Keep-Alive\n<span class=\"hljs-attribute\">Content-Type</span><span class=\"hljs-punctuation\">: </span>text/plain\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"154,168"}},{"content":"<pre data-lines=\"169,170\"><code>&#x4e0a;&#x9762;&#x7684; HTTP &#x56de;&#x5e94;&#x4e2d;&#xff0c;&#x5173;&#x952e;&#x7684;&#x662f;`Access-Control-Allow-Origin`&#x5b57;&#x6bb5;&#xff0c;&#x8868;&#x793a;`http://api.bob.com`&#x53ef;&#x4ee5;&#x8bf7;&#x6c42;&#x6570;&#x636e;&#x3002;&#x8be5;&#x5b57;&#x6bb5;&#x4e5f;&#x53ef;&#x4ee5;&#x8bbe;&#x4e3a;&#x661f;&#x53f7;&#xff0c;&#x8868;&#x793a;&#x540c;&#x610f;&#x4efb;&#x610f;&#x8de8;&#x6e90;&#x8bf7;&#x6c42;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"169,170"}},{"content":"<pre data-lines=\"171,174\"><code class=\"language-http\"><span class=\"hljs-attribute\">Access-Control-Allow-Origin</span><span class=\"hljs-punctuation\">: </span>*\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"171,174"}},{"content":"<pre data-lines=\"175,176\"><code>&#x5982;&#x679c;&#x670d;&#x52a1;&#x5668;&#x5426;&#x5b9a;&#x4e86;&#x201c;&#x9884;&#x68c0;&#x201d;&#x8bf7;&#x6c42;&#xff0c;&#x4f1a;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x6b63;&#x5e38;&#x7684; HTTP &#x56de;&#x5e94;&#xff0c;&#x4f46;&#x662f;&#x6ca1;&#x6709;&#x4efb;&#x4f55; CORS &#x76f8;&#x5173;&#x7684;&#x5934;&#x4fe1;&#x606f;&#x5b57;&#x6bb5;&#xff0c;&#x6216;&#x8005;&#x660e;&#x786e;&#x8868;&#x793a;&#x8bf7;&#x6c42;&#x4e0d;&#x7b26;&#x5408;&#x6761;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"175,176"}},{"content":"<pre data-lines=\"177,183\"><code class=\"language-http\"><span class=\"hljs-keyword\">OPTIONS</span> <span class=\"hljs-string\">http://api.bob.com</span> <span class=\"hljs-meta\">HTTP/1.1</span>\n<span class=\"hljs-attribute\">Status</span><span class=\"hljs-punctuation\">: </span>200\n<span class=\"hljs-attribute\">Access-Control-Allow-Origin</span><span class=\"hljs-punctuation\">: </span>https://notyourdomain.com\n<span class=\"hljs-attribute\">Access-Control-Allow-Method</span><span class=\"hljs-punctuation\">: </span>POST\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"177,183"}},{"content":"<pre data-lines=\"184,187\"><code>&#x4e0a;&#x9762;&#x7684;&#x670d;&#x52a1;&#x5668;&#x56de;&#x5e94;&#xff0c;`Access-Control-Allow-Origin`&#x5b57;&#x6bb5;&#x660e;&#x786e;&#x4e0d;&#x5305;&#x62ec;&#x53d1;&#x51fa;&#x8bf7;&#x6c42;&#x7684;`http://api.bob.com`&#x3002;\n\n&#x8fd9;&#x65f6;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x5c31;&#x4f1a;&#x8ba4;&#x5b9a;&#xff0c;&#x670d;&#x52a1;&#x5668;&#x4e0d;&#x540c;&#x610f;&#x9884;&#x68c0;&#x8bf7;&#x6c42;&#xff0c;&#x56e0;&#x6b64;&#x89e6;&#x53d1;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#xff0c;&#x88ab;`XMLHttpRequest`&#x5bf9;&#x8c61;&#x7684;`onerror`&#x56de;&#x8c03;&#x51fd;&#x6570;&#x6355;&#x83b7;&#x3002;&#x63a7;&#x5236;&#x53f0;&#x4f1a;&#x6253;&#x5370;&#x51fa;&#x5982;&#x4e0b;&#x7684;&#x62a5;&#x9519;&#x4fe1;&#x606f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"184,187"}},{"content":"<pre data-lines=\"188,192\"><code class=\"language-bash\">XMLHttpRequest cannot load http://api.alice.com.\nOrigin http://api.bob.com is not allowed by Access-Control-Allow-Origin.\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"188,192"}},{"content":"<pre data-lines=\"193,194\"><code>&#x670d;&#x52a1;&#x5668;&#x56de;&#x5e94;&#x7684;&#x5176;&#x4ed6; CORS &#x76f8;&#x5173;&#x5b57;&#x6bb5;&#x5982;&#x4e0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"193,194"}},{"content":"<pre data-lines=\"195,201\"><code class=\"language-http\"><span class=\"hljs-attribute\">Access-Control-Allow-Methods</span><span class=\"hljs-punctuation\">: </span>GET, POST, PUT\n<span class=\"hljs-attribute\">Access-Control-Allow-Headers</span><span class=\"hljs-punctuation\">: </span>X-Custom-Header\n<span class=\"hljs-attribute\">Access-Control-Allow-Credentials</span><span class=\"hljs-punctuation\">: </span>true\n<span class=\"hljs-attribute\">Access-Control-Max-Age</span><span class=\"hljs-punctuation\">: </span>1728000\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"195,201"}},{"content":"<pre data-lines=\"202,217\"><code>**&#xff08;1&#xff09;`Access-Control-Allow-Methods`**\n\n&#x8be5;&#x5b57;&#x6bb5;&#x5fc5;&#x9700;&#xff0c;&#x5b83;&#x7684;&#x503c;&#x662f;&#x9017;&#x53f7;&#x5206;&#x9694;&#x7684;&#x4e00;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x8868;&#x660e;&#x670d;&#x52a1;&#x5668;&#x652f;&#x6301;&#x7684;&#x6240;&#x6709;&#x8de8;&#x57df;&#x8bf7;&#x6c42;&#x7684;&#x65b9;&#x6cd5;&#x3002;&#x6ce8;&#x610f;&#xff0c;&#x8fd4;&#x56de;&#x7684;&#x662f;&#x6240;&#x6709;&#x652f;&#x6301;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x800c;&#x4e0d;&#x5355;&#x662f;&#x6d4f;&#x89c8;&#x5668;&#x8bf7;&#x6c42;&#x7684;&#x90a3;&#x4e2a;&#x65b9;&#x6cd5;&#x3002;&#x8fd9;&#x662f;&#x4e3a;&#x4e86;&#x907f;&#x514d;&#x591a;&#x6b21;&#x201c;&#x9884;&#x68c0;&#x201d;&#x8bf7;&#x6c42;&#x3002;\n\n**&#xff08;2&#xff09;`Access-Control-Allow-Headers`**\n\n&#x5982;&#x679c;&#x6d4f;&#x89c8;&#x5668;&#x8bf7;&#x6c42;&#x5305;&#x62ec;`Access-Control-Request-Headers`&#x5b57;&#x6bb5;&#xff0c;&#x5219;`Access-Control-Allow-Headers`&#x5b57;&#x6bb5;&#x662f;&#x5fc5;&#x9700;&#x7684;&#x3002;&#x5b83;&#x4e5f;&#x662f;&#x4e00;&#x4e2a;&#x9017;&#x53f7;&#x5206;&#x9694;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x8868;&#x660e;&#x670d;&#x52a1;&#x5668;&#x652f;&#x6301;&#x7684;&#x6240;&#x6709;&#x5934;&#x4fe1;&#x606f;&#x5b57;&#x6bb5;&#xff0c;&#x4e0d;&#x9650;&#x4e8e;&#x6d4f;&#x89c8;&#x5668;&#x5728;&#x201c;&#x9884;&#x68c0;&#x201d;&#x4e2d;&#x8bf7;&#x6c42;&#x7684;&#x5b57;&#x6bb5;&#x3002;\n\n**&#xff08;3&#xff09;`Access-Control-Allow-Credentials`**\n\n&#x8be5;&#x5b57;&#x6bb5;&#x4e0e;&#x7b80;&#x5355;&#x8bf7;&#x6c42;&#x65f6;&#x7684;&#x542b;&#x4e49;&#x76f8;&#x540c;&#x3002;\n\n**&#xff08;4&#xff09;`Access-Control-Max-Age`**\n\n&#x8be5;&#x5b57;&#x6bb5;&#x53ef;&#x9009;&#xff0c;&#x7528;&#x6765;&#x6307;&#x5b9a;&#x672c;&#x6b21;&#x9884;&#x68c0;&#x8bf7;&#x6c42;&#x7684;&#x6709;&#x6548;&#x671f;&#xff0c;&#x5355;&#x4f4d;&#x4e3a;&#x79d2;&#x3002;&#x4e0a;&#x9762;&#x7ed3;&#x679c;&#x4e2d;&#xff0c;&#x6709;&#x6548;&#x671f;&#x662f;20&#x5929;&#xff08;1728000&#x79d2;&#xff09;&#xff0c;&#x5373;&#x5141;&#x8bb8;&#x7f13;&#x5b58;&#x8be5;&#x6761;&#x56de;&#x5e94;1728000&#x79d2;&#xff08;&#x5373;20&#x5929;&#xff09;&#xff0c;&#x5728;&#x6b64;&#x671f;&#x95f4;&#xff0c;&#x4e0d;&#x7528;&#x53d1;&#x51fa;&#x53e6;&#x4e00;&#x6761;&#x9884;&#x68c0;&#x8bf7;&#x6c42;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"202,217"}}],"payload":{"tag":"h3","lines":"150,151"}},{"content":"&#x6d4f;&#x89c8;&#x5668;&#x7684;&#x6b63;&#x5e38;&#x8bf7;&#x6c42;&#x548c;&#x56de;&#x5e94;","children":[{"content":"<pre data-lines=\"220,223\"><code>&#x4e00;&#x65e6;&#x670d;&#x52a1;&#x5668;&#x901a;&#x8fc7;&#x4e86;&#x201c;&#x9884;&#x68c0;&#x201d;&#x8bf7;&#x6c42;&#xff0c;&#x4ee5;&#x540e;&#x6bcf;&#x6b21;&#x6d4f;&#x89c8;&#x5668;&#x6b63;&#x5e38;&#x7684; CORS &#x8bf7;&#x6c42;&#xff0c;&#x5c31;&#x90fd;&#x8ddf;&#x7b80;&#x5355;&#x8bf7;&#x6c42;&#x4e00;&#x6837;&#xff0c;&#x4f1a;&#x6709;&#x4e00;&#x4e2a;`Origin`&#x5934;&#x4fe1;&#x606f;&#x5b57;&#x6bb5;&#x3002;&#x670d;&#x52a1;&#x5668;&#x7684;&#x56de;&#x5e94;&#xff0c;&#x4e5f;&#x90fd;&#x4f1a;&#x6709;&#x4e00;&#x4e2a;`Access-Control-Allow-Origin`&#x5934;&#x4fe1;&#x606f;&#x5b57;&#x6bb5;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x201c;&#x9884;&#x68c0;&#x201d;&#x8bf7;&#x6c42;&#x4e4b;&#x540e;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x7684;&#x6b63;&#x5e38; CORS &#x8bf7;&#x6c42;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"220,223"}},{"content":"<pre data-lines=\"224,233\"><code class=\"language-http\"><span class=\"hljs-keyword\">PUT</span> <span class=\"hljs-string\">/cors</span> <span class=\"hljs-meta\">HTTP/1.1</span>\n<span class=\"hljs-attribute\">Origin</span><span class=\"hljs-punctuation\">: </span>http://api.bob.com\n<span class=\"hljs-attribute\">Host</span><span class=\"hljs-punctuation\">: </span>api.alice.com\n<span class=\"hljs-attribute\">X-Custom-Header</span><span class=\"hljs-punctuation\">: </span>value\n<span class=\"hljs-attribute\">Accept-Language</span><span class=\"hljs-punctuation\">: </span>en-US\n<span class=\"hljs-attribute\">Connection</span><span class=\"hljs-punctuation\">: </span>keep-alive\n<span class=\"hljs-attribute\">User-Agent</span><span class=\"hljs-punctuation\">: </span>Mozilla/5.0...\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"224,233"}},{"content":"<pre data-lines=\"234,237\"><code>&#x4e0a;&#x9762;&#x5934;&#x4fe1;&#x606f;&#x7684;`Origin`&#x5b57;&#x6bb5;&#x662f;&#x6d4f;&#x89c8;&#x5668;&#x81ea;&#x52a8;&#x6dfb;&#x52a0;&#x7684;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x670d;&#x52a1;&#x5668;&#x6b63;&#x5e38;&#x7684;&#x56de;&#x5e94;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"234,237"}},{"content":"<pre data-lines=\"238,242\"><code class=\"language-http\"><span class=\"hljs-attribute\">Access-Control-Allow-Origin</span><span class=\"hljs-punctuation\">: </span>http://api.bob.com\n<span class=\"hljs-attribute\">Content-Type</span><span class=\"hljs-punctuation\">: </span>text/html; charset=utf-8\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"238,242"}},{"content":"<pre data-lines=\"243,244\"><code>&#x4e0a;&#x9762;&#x5934;&#x4fe1;&#x606f;&#x4e2d;&#xff0c;`Access-Control-Allow-Origin`&#x5b57;&#x6bb5;&#x662f;&#x6bcf;&#x6b21;&#x56de;&#x5e94;&#x90fd;&#x5fc5;&#x5b9a;&#x5305;&#x542b;&#x7684;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"243,244"}}],"payload":{"tag":"h3","lines":"218,219"}}],"payload":{"tag":"h2","lines":"105,106"}},{"content":"&#x4e0e; JSONP &#x7684;&#x6bd4;&#x8f83;","children":[{"content":"<pre data-lines=\"247,248\"><code>CORS &#x4e0e; JSONP &#x7684;&#x4f7f;&#x7528;&#x76ee;&#x7684;&#x76f8;&#x540c;&#xff0c;&#x4f46;&#x662f;&#x6bd4; JSONP &#x66f4;&#x5f3a;&#x5927;&#x3002;JSONP &#x53ea;&#x652f;&#x6301;`GET`&#x8bf7;&#x6c42;&#xff0c;CORS &#x652f;&#x6301;&#x6240;&#x6709;&#x7c7b;&#x578b;&#x7684; HTTP &#x8bf7;&#x6c42;&#x3002;JSONP &#x7684;&#x4f18;&#x52bf;&#x5728;&#x4e8e;&#x652f;&#x6301;&#x8001;&#x5f0f;&#x6d4f;&#x89c8;&#x5668;&#xff0c;&#x4ee5;&#x53ca;&#x53ef;&#x4ee5;&#x5411;&#x4e0d;&#x652f;&#x6301; CORS &#x7684;&#x7f51;&#x7ad9;&#x8bf7;&#x6c42;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"247,248"}}],"payload":{"tag":"h2","lines":"245,246"}},{"content":"&#x53c2;&#x8003;&#x94fe;&#x63a5;","children":[{"content":"<a href=\"http://www.html5rocks.com/en/tutorials/cors/\">Using CORS</a>, Monsur Hossain","children":[],"payload":{"tag":"li","lines":"251,252"}},{"content":"<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS\">HTTP access control (CORS)</a>, MDN","children":[],"payload":{"tag":"li","lines":"252,253"}},{"content":"<a href=\"https://frontendian.co/cors\">CORS</a>, Ryan Miller","children":[],"payload":{"tag":"li","lines":"253,254"}},{"content":"<a href=\"http://performantcode.com/web/do-you-really-know-cors\">Do You Really Know CORS?</a>, Grzegorz Mirek","children":[],"payload":{"tag":"li","lines":"254,255"}}],"payload":{"tag":"h2","lines":"249,250"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
