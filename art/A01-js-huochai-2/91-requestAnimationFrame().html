<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"<a href=\"https://www.cnblogs.com/xiaohuochai/p/5777186.html\">&#x6df1;&#x5165;&#x7406;&#x89e3;&#x5b9a;&#x65f6;&#x5668;&#x7cfb;&#x5217;&#x7b2c;&#x4e8c;&#x7bc7;&#x2014;&#x2014;&#x88ab;&#x8a89;&#x4e3a;&#x795e;&#x5668;&#x7684;requestAnimationFrame</a><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAoklEQVQ4T+2T4Q2CMBCFv27CBjgCG+gIjAAbOAIjOIJs4Ai6gRvIBpjXXCOp19T/8pJLoTneXcj3Ah91wAV4bu68xwXoAZ2EzEAmE9AWTB6AelRDyaAx9zgh0wE4ATczcTdIE7wl0oe7wX/8RMHigfQTB3fDdM1IEvYyONdIVEOSqDwCY2Z2NaS/UNbqMSQmvauUPlfbNKpBSdTUVyXSs/XyBlRCNBG20I28AAAAAElFTkSuQmCC\" alt=\"img\">","children":[{"content":"&#x524d;&#x9762;&#x7684;&#x8bdd;","children":[{"content":"<pre data-lines=\"4,5\"><code>&#x3000;&#x3000;&#x4e0e;[setTimeout](http://www.cnblogs.com/xiaohuochai/p/5773183.html#anchor1)&#x548c;[setInterval](http://www.cnblogs.com/xiaohuochai/p/5773183.html#anchor2)&#x4e0d;&#x540c;&#xff0c;requestAnimationFrame&#x4e0d;&#x9700;&#x8981;&#x8bbe;&#x7f6e;&#x65f6;&#x95f4;&#x95f4;&#x9694;&#x3002;&#x8fd9;&#x6709;&#x4ec0;&#x4e48;&#x597d;&#x5904;&#x5462;&#xff1f;&#x4e3a;&#x4ec0;&#x4e48;requestAnimationFrame&#x88ab;&#x79f0;&#x4e3a;&#x795e;&#x5668;&#x5462;&#xff1f;&#x672c;&#x6587;&#x5c06;&#x8be6;&#x7ec6;&#x4ecb;&#x7ecd;HTML5&#x65b0;&#x589e;&#x7684;&#x5b9a;&#x65f6;&#x5668;requestAnimationFrame\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,5"}}],"payload":{"tag":"h3","lines":"2,3"}},{"content":"&#x5f15;&#x5165;","children":[{"content":"<pre data-lines=\"10,17\"><code>&#x3000;&#x3000;&#x8ba1;&#x65f6;&#x5668;&#x4e00;&#x76f4;&#x662f;javascript&#x52a8;&#x753b;&#x7684;&#x6838;&#x5fc3;&#x6280;&#x672f;&#x3002;&#x800c;&#x7f16;&#x5199;&#x52a8;&#x753b;&#x5faa;&#x73af;&#x7684;&#x5173;&#x952e;&#x662f;&#x8981;&#x77e5;&#x9053;&#x5ef6;&#x8fdf;&#x65f6;&#x95f4;&#x591a;&#x957f;&#x5408;&#x9002;&#x3002;&#x4e00;&#x65b9;&#x9762;&#xff0c;&#x5faa;&#x73af;&#x95f4;&#x9694;&#x5fc5;&#x987b;&#x8db3;&#x591f;&#x77ed;&#xff0c;&#x8fd9;&#x6837;&#x624d;&#x80fd;&#x8ba9;&#x4e0d;&#x540c;&#x7684;&#x52a8;&#x753b;&#x6548;&#x679c;&#x663e;&#x5f97;&#x5e73;&#x6ed1;&#x6d41;&#x7545;&#xff1b;&#x53e6;&#x4e00;&#x65b9;&#x9762;&#xff0c;&#x5faa;&#x73af;&#x95f4;&#x9694;&#x8fd8;&#x8981;&#x8db3;&#x591f;&#x957f;&#xff0c;&#x8fd9;&#x6837;&#x624d;&#x80fd;&#x786e;&#x4fdd;&#x6d4f;&#x89c8;&#x5668;&#x6709;&#x80fd;&#x529b;&#x6e32;&#x67d3;&#x4ea7;&#x751f;&#x7684;&#x53d8;&#x5316;\n\n&#x3000;&#x3000;&#x5927;&#x591a;&#x6570;&#x7535;&#x8111;&#x663e;&#x793a;&#x5668;&#x7684;&#x5237;&#x65b0;&#x9891;&#x7387;&#x662f;60Hz&#xff0c;&#x5927;&#x6982;&#x76f8;&#x5f53;&#x4e8e;&#x6bcf;&#x79d2;&#x949f;&#x91cd;&#x7ed8;60&#x6b21;&#x3002;&#x5927;&#x591a;&#x6570;&#x6d4f;&#x89c8;&#x5668;&#x90fd;&#x4f1a;&#x5bf9;&#x91cd;&#x7ed8;&#x64cd;&#x4f5c;&#x52a0;&#x4ee5;&#x9650;&#x5236;&#xff0c;&#x4e0d;&#x8d85;&#x8fc7;&#x663e;&#x793a;&#x5668;&#x7684;&#x91cd;&#x7ed8;&#x9891;&#x7387;&#xff0c;&#x56e0;&#x4e3a;&#x5373;&#x4f7f;&#x8d85;&#x8fc7;&#x90a3;&#x4e2a;&#x9891;&#x7387;&#x7528;&#x6237;&#x4f53;&#x9a8c;&#x4e5f;&#x4e0d;&#x4f1a;&#x6709;&#x63d0;&#x5347;&#x3002;&#x56e0;&#x6b64;&#xff0c;&#x6700;&#x5e73;&#x6ed1;&#x52a8;&#x753b;&#x7684;&#x6700;&#x4f73;&#x5faa;&#x73af;&#x95f4;&#x9694;&#x662f;1000ms/60&#xff0c;&#x7ea6;&#x7b49;&#x4e8e;16.6ms\n\n&#x3000;&#x3000;&#x800c;setTimeout&#x548c;setInterval&#x7684;&#x95ee;&#x9898;&#x662f;&#xff0c;&#x5b83;&#x4eec;&#x90fd;&#x4e0d;&#x7cbe;&#x786e;&#x3002;&#x5b83;&#x4eec;&#x7684;&#x5185;&#x5728;[&#x8fd0;&#x884c;&#x673a;&#x5236;](http://www.cnblogs.com/xiaohuochai/p/5773183.html#anchor3)&#x51b3;&#x5b9a;&#x4e86;&#x65f6;&#x95f4;&#x95f4;&#x9694;&#x53c2;&#x6570;&#x5b9e;&#x9645;&#x4e0a;&#x53ea;&#x662f;&#x6307;&#x5b9a;&#x4e86;&#x628a;&#x52a8;&#x753b;&#x4ee3;&#x7801;&#x6dfb;&#x52a0;&#x5230;&#x6d4f;&#x89c8;&#x5668;UI&#x7ebf;&#x7a0b;&#x961f;&#x5217;&#x4e2d;&#x4ee5;&#x7b49;&#x5f85;&#x6267;&#x884c;&#x7684;&#x65f6;&#x95f4;&#x3002;&#x5982;&#x679c;&#x961f;&#x5217;&#x524d;&#x9762;&#x5df2;&#x7ecf;&#x52a0;&#x5165;&#x4e86;&#x5176;&#x4ed6;&#x4efb;&#x52a1;&#xff0c;&#x90a3;&#x52a8;&#x753b;&#x4ee3;&#x7801;&#x5c31;&#x8981;&#x7b49;&#x524d;&#x9762;&#x7684;&#x4efb;&#x52a1;&#x5b8c;&#x6210;&#x540e;&#x518d;&#x6267;&#x884c;\n\n&#x3000;&#x3000;requestAnimationFrame&#x91c7;&#x7528;&#x7cfb;&#x7edf;&#x65f6;&#x95f4;&#x95f4;&#x9694;&#xff0c;&#x4fdd;&#x6301;&#x6700;&#x4f73;&#x7ed8;&#x5236;&#x6548;&#x7387;&#xff0c;&#x4e0d;&#x4f1a;&#x56e0;&#x4e3a;&#x95f4;&#x9694;&#x65f6;&#x95f4;&#x8fc7;&#x77ed;&#xff0c;&#x9020;&#x6210;&#x8fc7;&#x5ea6;&#x7ed8;&#x5236;&#xff0c;&#x589e;&#x52a0;&#x5f00;&#x9500;&#xff1b;&#x4e5f;&#x4e0d;&#x4f1a;&#x56e0;&#x4e3a;&#x95f4;&#x9694;&#x65f6;&#x95f4;&#x592a;&#x957f;&#xff0c;&#x4f7f;&#x7528;&#x52a8;&#x753b;&#x5361;&#x987f;&#x4e0d;&#x6d41;&#x7545;&#xff0c;&#x8ba9;&#x5404;&#x79cd;&#x7f51;&#x9875;&#x52a8;&#x753b;&#x6548;&#x679c;&#x80fd;&#x591f;&#x6709;&#x4e00;&#x4e2a;&#x7edf;&#x4e00;&#x7684;&#x5237;&#x65b0;&#x673a;&#x5236;&#xff0c;&#x4ece;&#x800c;&#x8282;&#x7701;&#x7cfb;&#x7edf;&#x8d44;&#x6e90;&#xff0c;&#x63d0;&#x9ad8;&#x7cfb;&#x7edf;&#x6027;&#x80fd;&#xff0c;&#x6539;&#x5584;&#x89c6;&#x89c9;&#x6548;&#x679c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"10,17"}}],"payload":{"tag":"h3","lines":"8,9"}},{"content":"&#x7279;&#x70b9;","children":[{"content":"<pre data-lines=\"22,27\"><code>&#x3000;&#x3000;&#x3010;1&#x3011;requestAnimationFrame&#x4f1a;&#x628a;&#x6bcf;&#x4e00;&#x5e27;&#x4e2d;&#x7684;&#x6240;&#x6709;DOM&#x64cd;&#x4f5c;&#x96c6;&#x4e2d;&#x8d77;&#x6765;&#xff0c;&#x5728;&#x4e00;&#x6b21;&#x91cd;&#x7ed8;&#x6216;&#x56de;&#x6d41;&#x4e2d;&#x5c31;&#x5b8c;&#x6210;&#xff0c;&#x5e76;&#x4e14;&#x91cd;&#x7ed8;&#x6216;&#x56de;&#x6d41;&#x7684;&#x65f6;&#x95f4;&#x95f4;&#x9694;&#x7d27;&#x7d27;&#x8ddf;&#x968f;&#x6d4f;&#x89c8;&#x5668;&#x7684;&#x5237;&#x65b0;&#x9891;&#x7387;\n\n&#x3000;&#x3000;&#x3010;2&#x3011;&#x5728;&#x9690;&#x85cf;&#x6216;&#x4e0d;&#x53ef;&#x89c1;&#x7684;&#x5143;&#x7d20;&#x4e2d;&#xff0c;requestAnimationFrame&#x5c06;&#x4e0d;&#x4f1a;&#x8fdb;&#x884c;&#x91cd;&#x7ed8;&#x6216;&#x56de;&#x6d41;&#xff0c;&#x8fd9;&#x5f53;&#x7136;&#x5c31;&#x610f;&#x5473;&#x7740;&#x66f4;&#x5c11;&#x7684;CPU&#x3001;GPU&#x548c;&#x5185;&#x5b58;&#x4f7f;&#x7528;&#x91cf;\n\n&#x3000;&#x3000;&#x3010;3&#x3011;requestAnimationFrame&#x662f;&#x7531;&#x6d4f;&#x89c8;&#x5668;&#x4e13;&#x95e8;&#x4e3a;&#x52a8;&#x753b;&#x63d0;&#x4f9b;&#x7684;API&#xff0c;&#x5728;&#x8fd0;&#x884c;&#x65f6;&#x6d4f;&#x89c8;&#x5668;&#x4f1a;&#x81ea;&#x52a8;&#x4f18;&#x5316;&#x65b9;&#x6cd5;&#x7684;&#x8c03;&#x7528;&#xff0c;&#x5e76;&#x4e14;&#x5982;&#x679c;&#x9875;&#x9762;&#x4e0d;&#x662f;&#x6fc0;&#x6d3b;&#x72b6;&#x6001;&#x4e0b;&#x7684;&#x8bdd;&#xff0c;&#x52a8;&#x753b;&#x4f1a;&#x81ea;&#x52a8;&#x6682;&#x505c;&#xff0c;&#x6709;&#x6548;&#x8282;&#x7701;&#x4e86;CPU&#x5f00;&#x9500;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"22,27"}}],"payload":{"tag":"h3","lines":"20,21"}},{"content":"&#x4f7f;&#x7528;","children":[{"content":"<pre data-lines=\"32,33\"><code>&#x3000;&#x3000;requestAnimationFrame&#x7684;&#x7528;&#x6cd5;&#x4e0e;settimeout&#x5f88;&#x76f8;&#x4f3c;&#xff0c;&#x53ea;&#x662f;&#x4e0d;&#x9700;&#x8981;&#x8bbe;&#x7f6e;&#x65f6;&#x95f4;&#x95f4;&#x9694;&#x800c;&#x5df2;&#x3002;requestAnimationFrame&#x4f7f;&#x7528;&#x4e00;&#x4e2a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x8fd9;&#x4e2a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x4f1a;&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x91cd;&#x7ed8;&#x4e4b;&#x524d;&#x8c03;&#x7528;&#x3002;&#x5b83;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x6574;&#x6570;&#xff0c;&#x8868;&#x793a;&#x5b9a;&#x65f6;&#x5668;&#x7684;&#x7f16;&#x53f7;&#xff0c;&#x8fd9;&#x4e2a;&#x503c;&#x53ef;&#x4ee5;&#x4f20;&#x9012;&#x7ed9;cancelAnimationFrame&#x7528;&#x4e8e;&#x53d6;&#x6d88;&#x8fd9;&#x4e2a;&#x51fd;&#x6570;&#x7684;&#x6267;&#x884c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"32,33"}},{"content":"<pre data-lines=\"34,42\"><code data-lines=\"34,42\">requestID = requestAnimationFrame(callback); \n<span class=\"hljs-comment\">//&#x63a7;&#x5236;&#x53f0;&#x8f93;&#x51fa;1&#x548c;0</span>\n<span class=\"hljs-keyword\">var</span> timer = requestAnimationFrame(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n    <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(<span class=\"hljs-number\">0</span>);\n}); \n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(timer);<span class=\"hljs-comment\">//1</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"34,42"}},{"content":"<pre data-lines=\"43,44\"><code>&#x3000;&#x3000;cancelAnimationFrame&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x53d6;&#x6d88;&#x5b9a;&#x65f6;&#x5668;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"43,44"}},{"content":"<pre data-lines=\"45,52\"><code data-lines=\"45,52\"><span class=\"hljs-comment\">//&#x63a7;&#x5236;&#x53f0;&#x4ec0;&#x4e48;&#x90fd;&#x4e0d;&#x8f93;&#x51fa;</span>\n<span class=\"hljs-keyword\">var</span> timer = requestAnimationFrame(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n    <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(<span class=\"hljs-number\">0</span>);\n}); \ncancelAnimationFrame(timer);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"45,52"}},{"content":"<pre data-lines=\"53,54\"><code>&#x3000;&#x3000;&#x4e5f;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x4f7f;&#x7528;&#x8fd4;&#x56de;&#x503c;&#x8fdb;&#x884c;&#x53d6;&#x6d88;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"53,54"}},{"content":"<pre data-lines=\"55,61\"><code data-lines=\"55,61\"><span class=\"hljs-keyword\">var</span> timer = requestAnimationFrame(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n    <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(<span class=\"hljs-number\">0</span>);\n}); \ncancelAnimationFrame(<span class=\"hljs-number\">1</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"55,61"}}],"payload":{"tag":"h3","lines":"30,31"}},{"content":"&#x517c;&#x5bb9;","children":[{"content":"<pre data-lines=\"66,69\"><code>&#x3000;&#x3000;IE9-&#x6d4f;&#x89c8;&#x5668;&#x4e0d;&#x652f;&#x6301;&#x8be5;&#x65b9;&#x6cd5;&#xff0c;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;setTimeout&#x6765;&#x517c;&#x5bb9;\n\n&#x3010;&#x7b80;&#x5355;&#x517c;&#x5bb9;&#x3011;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"66,69"}},{"content":"<pre data-lines=\"70,77\"><code data-lines=\"70,77\"><span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">requestAnimationFrame</span>) {\n    requestAnimationFrame = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">fn</span>) {\n        <span class=\"hljs-built_in\">setTimeout</span>(fn, <span class=\"hljs-number\">17</span>);\n    };    \n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"70,77"}},{"content":"<pre data-lines=\"78,79\"><code>&#x3010;&#x4e25;&#x683c;&#x517c;&#x5bb9;&#x3011;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"78,79"}},{"content":"<pre data-lines=\"82,96\"><code data-lines=\"82,96\"><span class=\"hljs-keyword\">if</span>(!<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">requestAnimationFrame</span>){\n    <span class=\"hljs-keyword\">var</span> lastTime = <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">requestAnimationFrame</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">callback</span>){\n        <span class=\"hljs-keyword\">var</span> currTime = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Date</span>().<span class=\"hljs-title function_\">getTime</span>();\n        <span class=\"hljs-keyword\">var</span> timeToCall = <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">max</span>(<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">16.7</span>-(currTime - lastTime));\n        <span class=\"hljs-keyword\">var</span> id  = <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n            <span class=\"hljs-title function_\">callback</span>(currTime + timeToCall);\n        },timeToCall);\n        lastTime = currTime + timeToCall;\n        <span class=\"hljs-keyword\">return</span> id;\n    }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"82,96"}},{"content":"<pre data-lines=\"99,106\"><code data-lines=\"99,106\"><span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">cancelAnimationFrame</span>) {\n    <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">cancelAnimationFrame</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">id</span>) {\n        <span class=\"hljs-built_in\">clearTimeout</span>(id);\n    };\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"99,106"}}],"payload":{"tag":"h3","lines":"64,65"}},{"content":"&#x5e94;&#x7528;","children":[{"content":"<pre data-lines=\"111,114\"><code>&#x3000;&#x3000;&#x73b0;&#x5728;&#x5206;&#x522b;&#x4f7f;&#x7528;setInterval&#x3001;setTimeout&#x548c;requestAnimationFrame&#x8fd9;&#x4e09;&#x4e2a;&#x65b9;&#x6cd5;&#x5236;&#x4f5c;&#x4e00;&#x4e2a;&#x7b80;&#x5355;&#x7684;&#x8fdb;&#x5236;&#x5ea6;&#x6548;&#x679c;\n\n&#x3010;1&#x3011;setInterval\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"111,114"}},{"content":"<pre data-lines=\"117,136\"><code data-lines=\"117,136\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;myDiv&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;background-color: lightblue;width: 0;height: 20px;line-height: 20px;&quot;</span>&gt;</span>0%<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;btn&quot;</span>&gt;</span>run<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n<span class=\"hljs-keyword\">var</span> timer;\nbtn.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n    <span class=\"hljs-built_in\">clearInterval</span>(timer);\n    myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span> = <span class=\"hljs-string\">&apos;0&apos;</span>;\n    timer = <span class=\"hljs-built_in\">setInterval</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n        <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-built_in\">parseInt</span>(myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span>) &lt; <span class=\"hljs-number\">500</span>){\n            myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span> = <span class=\"hljs-built_in\">parseInt</span>(myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span>) + <span class=\"hljs-number\">5</span> + <span class=\"hljs-string\">&apos;px&apos;</span>;\n            myDiv.<span class=\"hljs-property\">innerHTML</span> =     <span class=\"hljs-built_in\">parseInt</span>(myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span>)/<span class=\"hljs-number\">5</span> + <span class=\"hljs-string\">&apos;%&apos;</span>;    \n        }<span class=\"hljs-keyword\">else</span>{\n            <span class=\"hljs-built_in\">clearInterval</span>(timer);\n        }        \n    },<span class=\"hljs-number\">16</span>);\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"117,136"}},{"content":"<pre data-lines=\"141,142\"><code>&#x3010;2&#x3011;setTimeout\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"141,142"}},{"content":"<pre data-lines=\"145,165\"><code data-lines=\"145,165\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;myDiv&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;background-color: lightblue;width: 0;height: 20px;line-height: 20px;&quot;</span>&gt;</span>0%<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;btn&quot;</span>&gt;</span>run<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n<span class=\"hljs-keyword\">var</span> timer;\nbtn.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n    <span class=\"hljs-built_in\">clearTimeout</span>(timer);\n    myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span> = <span class=\"hljs-string\">&apos;0&apos;</span>;\n    timer = <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">fn</span>(<span class=\"hljs-params\"></span>){\n        <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-built_in\">parseInt</span>(myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span>) &lt; <span class=\"hljs-number\">500</span>){\n            myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span> = <span class=\"hljs-built_in\">parseInt</span>(myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span>) + <span class=\"hljs-number\">5</span> + <span class=\"hljs-string\">&apos;px&apos;</span>;\n            myDiv.<span class=\"hljs-property\">innerHTML</span> =     <span class=\"hljs-built_in\">parseInt</span>(myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span>)/<span class=\"hljs-number\">5</span> + <span class=\"hljs-string\">&apos;%&apos;</span>;\n            timer = <span class=\"hljs-built_in\">setTimeout</span>(fn,<span class=\"hljs-number\">16</span>);\n        }<span class=\"hljs-keyword\">else</span>{\n            <span class=\"hljs-built_in\">clearTimeout</span>(timer);\n        }    \n    },<span class=\"hljs-number\">16</span>);\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"145,165"}},{"content":"<pre data-lines=\"170,171\"><code>&#x3010;3&#x3011;requestAnimationFrame\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"170,171"}},{"content":"<pre data-lines=\"174,194\"><code data-lines=\"174,194\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;myDiv&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;background-color: lightblue;width: 0;height: 20px;line-height: 20px;&quot;</span>&gt;</span>0%<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;btn&quot;</span>&gt;</span>run<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n<span class=\"hljs-keyword\">var</span> timer;\nbtn.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n    myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span> = <span class=\"hljs-string\">&apos;0&apos;</span>;\n    <span class=\"hljs-title function_\">cancelAnimationFrame</span>(timer);\n    timer = <span class=\"hljs-title function_\">requestAnimationFrame</span>(<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">fn</span>(<span class=\"hljs-params\"></span>){\n        <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-built_in\">parseInt</span>(myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span>) &lt; <span class=\"hljs-number\">500</span>){\n            myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span> = <span class=\"hljs-built_in\">parseInt</span>(myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span>) + <span class=\"hljs-number\">5</span> + <span class=\"hljs-string\">&apos;px&apos;</span>;\n            myDiv.<span class=\"hljs-property\">innerHTML</span> =     <span class=\"hljs-built_in\">parseInt</span>(myDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span>)/<span class=\"hljs-number\">5</span> + <span class=\"hljs-string\">&apos;%&apos;</span>;\n            timer = <span class=\"hljs-title function_\">requestAnimationFrame</span>(fn);\n        }<span class=\"hljs-keyword\">else</span>{\n            <span class=\"hljs-title function_\">cancelAnimationFrame</span>(timer);\n        }    \n    });\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"174,194"}}],"payload":{"tag":"h3","lines":"109,110"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
