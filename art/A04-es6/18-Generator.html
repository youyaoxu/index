<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Generator &#x51fd;&#x6570;&#x7684;&#x8bed;&#x6cd5;","children":[{"content":"&#x76ee;&#x5f55;","children":[{"content":"1. <a href=\"https://es6.ruanyifeng.com/#docs/generator#%E7%AE%80%E4%BB%8B\">&#x7b80;&#x4ecb;</a>","children":[],"payload":{"tag":"li","lines":"4,5","listIndex":1}},{"content":"2. [next &#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;](https://es6.ruanyifeng.com/#docs/generator#next &#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;)","children":[],"payload":{"tag":"li","lines":"5,6","listIndex":2}},{"content":"3. [for...of &#x5faa;&#x73af;](https://es6.ruanyifeng.com/#docs/generator#for...of &#x5faa;&#x73af;)","children":[],"payload":{"tag":"li","lines":"6,7","listIndex":3}},{"content":"4. <a href=\"https://es6.ruanyifeng.com/#docs/generator#Generator.prototype.throw()\">Generator.prototype.throw()</a>","children":[],"payload":{"tag":"li","lines":"7,8","listIndex":4}},{"content":"5. <a href=\"https://es6.ruanyifeng.com/#docs/generator#Generator.prototype.return()\">Generator.prototype.return()</a>","children":[],"payload":{"tag":"li","lines":"8,9","listIndex":5}},{"content":"6. [next()&#x3001;throw()&#x3001;return() &#x7684;&#x5171;&#x540c;&#x70b9;](https://es6.ruanyifeng.com/#docs/generator#next()&#x3001;throw()&#x3001;return() &#x7684;&#x5171;&#x540c;&#x70b9;)","children":[],"payload":{"tag":"li","lines":"9,10","listIndex":6}},{"content":"7. [yield* &#x8868;&#x8fbe;&#x5f0f;](https://es6.ruanyifeng.com/#docs/generator#yield* &#x8868;&#x8fbe;&#x5f0f;)","children":[],"payload":{"tag":"li","lines":"10,11","listIndex":7}},{"content":"8. [&#x4f5c;&#x4e3a;&#x5bf9;&#x8c61;&#x5c5e;&#x6027;&#x7684; Generator &#x51fd;&#x6570;](https://es6.ruanyifeng.com/#docs/generator#&#x4f5c;&#x4e3a;&#x5bf9;&#x8c61;&#x5c5e;&#x6027;&#x7684; Generator &#x51fd;&#x6570;)","children":[],"payload":{"tag":"li","lines":"11,12","listIndex":8}},{"content":"9. [Generator &#x51fd;&#x6570;&#x7684;this](https://es6.ruanyifeng.com/#docs/generator#Generator &#x51fd;&#x6570;&#x7684;this)","children":[],"payload":{"tag":"li","lines":"12,13","listIndex":9}},{"content":"10. <a href=\"https://es6.ruanyifeng.com/#docs/generator#%E5%90%AB%E4%B9%89\">&#x542b;&#x4e49;</a>","children":[],"payload":{"tag":"li","lines":"13,14","listIndex":10}},{"content":"11. <a href=\"https://es6.ruanyifeng.com/#docs/generator#%E5%BA%94%E7%94%A8\">&#x5e94;&#x7528;</a>","children":[],"payload":{"tag":"li","lines":"14,16","listIndex":11}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"&#x7b80;&#x4ecb;","children":[{"content":"&#x57fa;&#x672c;&#x6982;&#x5ff5;","children":[{"content":"<pre data-lines=\"22,29\"><code>Generator &#x51fd;&#x6570;&#x662f; ES6 &#x63d0;&#x4f9b;&#x7684;&#x4e00;&#x79cd;&#x5f02;&#x6b65;&#x7f16;&#x7a0b;&#x89e3;&#x51b3;&#x65b9;&#x6848;&#xff0c;&#x8bed;&#x6cd5;&#x884c;&#x4e3a;&#x4e0e;&#x4f20;&#x7edf;&#x51fd;&#x6570;&#x5b8c;&#x5168;&#x4e0d;&#x540c;&#x3002;&#x672c;&#x7ae0;&#x8be6;&#x7ec6;&#x4ecb;&#x7ecd; Generator &#x51fd;&#x6570;&#x7684;&#x8bed;&#x6cd5;&#x548c; API&#xff0c;&#x5b83;&#x7684;&#x5f02;&#x6b65;&#x7f16;&#x7a0b;&#x5e94;&#x7528;&#x8bf7;&#x770b;&#x300a;Generator &#x51fd;&#x6570;&#x7684;&#x5f02;&#x6b65;&#x5e94;&#x7528;&#x300b;&#x4e00;&#x7ae0;&#x3002;\n\nGenerator &#x51fd;&#x6570;&#x6709;&#x591a;&#x79cd;&#x7406;&#x89e3;&#x89d2;&#x5ea6;&#x3002;&#x8bed;&#x6cd5;&#x4e0a;&#xff0c;&#x9996;&#x5148;&#x53ef;&#x4ee5;&#x628a;&#x5b83;&#x7406;&#x89e3;&#x6210;&#xff0c;Generator &#x51fd;&#x6570;&#x662f;&#x4e00;&#x4e2a;&#x72b6;&#x6001;&#x673a;&#xff0c;&#x5c01;&#x88c5;&#x4e86;&#x591a;&#x4e2a;&#x5185;&#x90e8;&#x72b6;&#x6001;&#x3002;\n\n&#x6267;&#x884c; Generator &#x51fd;&#x6570;&#x4f1a;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;Generator &#x51fd;&#x6570;&#x9664;&#x4e86;&#x72b6;&#x6001;&#x673a;&#xff0c;&#x8fd8;&#x662f;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x751f;&#x6210;&#x51fd;&#x6570;&#x3002;&#x8fd4;&#x56de;&#x7684;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#xff0c;&#x53ef;&#x4ee5;&#x4f9d;&#x6b21;&#x904d;&#x5386; Generator &#x51fd;&#x6570;&#x5185;&#x90e8;&#x7684;&#x6bcf;&#x4e00;&#x4e2a;&#x72b6;&#x6001;&#x3002;\n\n&#x5f62;&#x5f0f;&#x4e0a;&#xff0c;Generator &#x51fd;&#x6570;&#x662f;&#x4e00;&#x4e2a;&#x666e;&#x901a;&#x51fd;&#x6570;&#xff0c;&#x4f46;&#x662f;&#x6709;&#x4e24;&#x4e2a;&#x7279;&#x5f81;&#x3002;&#x4e00;&#x662f;&#xff0c;`function`&#x5173;&#x952e;&#x5b57;&#x4e0e;&#x51fd;&#x6570;&#x540d;&#x4e4b;&#x95f4;&#x6709;&#x4e00;&#x4e2a;&#x661f;&#x53f7;&#xff1b;&#x4e8c;&#x662f;&#xff0c;&#x51fd;&#x6570;&#x4f53;&#x5185;&#x90e8;&#x4f7f;&#x7528;`yield`&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x5b9a;&#x4e49;&#x4e0d;&#x540c;&#x7684;&#x5185;&#x90e8;&#x72b6;&#x6001;&#xff08;`yield`&#x5728;&#x82f1;&#x8bed;&#x91cc;&#x7684;&#x610f;&#x601d;&#x5c31;&#x662f;&#x201c;&#x4ea7;&#x51fa;&#x201d;&#xff09;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"22,29"}},{"content":"<pre data-lines=\"30,39\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">helloWorldGenerator</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;hello&apos;</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;world&apos;</span>;\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&apos;ending&apos;</span>;\n}\n\n<span class=\"hljs-keyword\">var</span> hw = <span class=\"hljs-title function_\">helloWorldGenerator</span>();\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"30,39"}},{"content":"<pre data-lines=\"40,45\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5b9a;&#x4e49;&#x4e86;&#x4e00;&#x4e2a; Generator &#x51fd;&#x6570;`helloWorldGenerator`&#xff0c;&#x5b83;&#x5185;&#x90e8;&#x6709;&#x4e24;&#x4e2a;`yield`&#x8868;&#x8fbe;&#x5f0f;&#xff08;`hello`&#x548c;`world`&#xff09;&#xff0c;&#x5373;&#x8be5;&#x51fd;&#x6570;&#x6709;&#x4e09;&#x4e2a;&#x72b6;&#x6001;&#xff1a;hello&#xff0c;world &#x548c; return &#x8bed;&#x53e5;&#xff08;&#x7ed3;&#x675f;&#x6267;&#x884c;&#xff09;&#x3002;\n\n&#x7136;&#x540e;&#xff0c;Generator &#x51fd;&#x6570;&#x7684;&#x8c03;&#x7528;&#x65b9;&#x6cd5;&#x4e0e;&#x666e;&#x901a;&#x51fd;&#x6570;&#x4e00;&#x6837;&#xff0c;&#x4e5f;&#x662f;&#x5728;&#x51fd;&#x6570;&#x540d;&#x540e;&#x9762;&#x52a0;&#x4e0a;&#x4e00;&#x5bf9;&#x5706;&#x62ec;&#x53f7;&#x3002;&#x4e0d;&#x540c;&#x7684;&#x662f;&#xff0c;&#x8c03;&#x7528; Generator &#x51fd;&#x6570;&#x540e;&#xff0c;&#x8be5;&#x51fd;&#x6570;&#x5e76;&#x4e0d;&#x6267;&#x884c;&#xff0c;&#x8fd4;&#x56de;&#x7684;&#x4e5f;&#x4e0d;&#x662f;&#x51fd;&#x6570;&#x8fd0;&#x884c;&#x7ed3;&#x679c;&#xff0c;&#x800c;&#x662f;&#x4e00;&#x4e2a;&#x6307;&#x5411;&#x5185;&#x90e8;&#x72b6;&#x6001;&#x7684;&#x6307;&#x9488;&#x5bf9;&#x8c61;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x4e0a;&#x4e00;&#x7ae0;&#x4ecb;&#x7ecd;&#x7684;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#xff08;Iterator Object&#xff09;&#x3002;\n\n&#x4e0b;&#x4e00;&#x6b65;&#xff0c;&#x5fc5;&#x987b;&#x8c03;&#x7528;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x7684;`next`&#x65b9;&#x6cd5;&#xff0c;&#x4f7f;&#x5f97;&#x6307;&#x9488;&#x79fb;&#x5411;&#x4e0b;&#x4e00;&#x4e2a;&#x72b6;&#x6001;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x6bcf;&#x6b21;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#xff0c;&#x5185;&#x90e8;&#x6307;&#x9488;&#x5c31;&#x4ece;&#x51fd;&#x6570;&#x5934;&#x90e8;&#x6216;&#x4e0a;&#x4e00;&#x6b21;&#x505c;&#x4e0b;&#x6765;&#x7684;&#x5730;&#x65b9;&#x5f00;&#x59cb;&#x6267;&#x884c;&#xff0c;&#x76f4;&#x5230;&#x9047;&#x5230;&#x4e0b;&#x4e00;&#x4e2a;`yield`&#x8868;&#x8fbe;&#x5f0f;&#xff08;&#x6216;`return`&#x8bed;&#x53e5;&#xff09;&#x4e3a;&#x6b62;&#x3002;&#x6362;&#x8a00;&#x4e4b;&#xff0c;Generator &#x51fd;&#x6570;&#x662f;&#x5206;&#x6bb5;&#x6267;&#x884c;&#x7684;&#xff0c;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x662f;&#x6682;&#x505c;&#x6267;&#x884c;&#x7684;&#x6807;&#x8bb0;&#xff0c;&#x800c;`next`&#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x6062;&#x590d;&#x6267;&#x884c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"40,45"}},{"content":"<pre data-lines=\"46,59\"><code class=\"language-javascript\">hw.<span class=\"hljs-title function_\">next</span>()\n<span class=\"hljs-comment\">// { value: &apos;hello&apos;, done: false }</span>\n\nhw.<span class=\"hljs-title function_\">next</span>()\n<span class=\"hljs-comment\">// { value: &apos;world&apos;, done: false }</span>\n\nhw.<span class=\"hljs-title function_\">next</span>()\n<span class=\"hljs-comment\">// { value: &apos;ending&apos;, done: true }</span>\n\nhw.<span class=\"hljs-title function_\">next</span>()\n<span class=\"hljs-comment\">// { value: undefined, done: true }</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"46,59"}},{"content":"<pre data-lines=\"60,73\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e00;&#x5171;&#x8c03;&#x7528;&#x4e86;&#x56db;&#x6b21;`next`&#x65b9;&#x6cd5;&#x3002;\n\n&#x7b2c;&#x4e00;&#x6b21;&#x8c03;&#x7528;&#xff0c;Generator &#x51fd;&#x6570;&#x5f00;&#x59cb;&#x6267;&#x884c;&#xff0c;&#x76f4;&#x5230;&#x9047;&#x5230;&#x7b2c;&#x4e00;&#x4e2a;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x4e3a;&#x6b62;&#x3002;`next`&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x5b83;&#x7684;`value`&#x5c5e;&#x6027;&#x5c31;&#x662f;&#x5f53;&#x524d;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x503c;`hello`&#xff0c;`done`&#x5c5e;&#x6027;&#x7684;&#x503c;`false`&#xff0c;&#x8868;&#x793a;&#x904d;&#x5386;&#x8fd8;&#x6ca1;&#x6709;&#x7ed3;&#x675f;&#x3002;\n\n&#x7b2c;&#x4e8c;&#x6b21;&#x8c03;&#x7528;&#xff0c;Generator &#x51fd;&#x6570;&#x4ece;&#x4e0a;&#x6b21;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x505c;&#x4e0b;&#x7684;&#x5730;&#x65b9;&#xff0c;&#x4e00;&#x76f4;&#x6267;&#x884c;&#x5230;&#x4e0b;&#x4e00;&#x4e2a;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x3002;`next`&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x7684;&#x5bf9;&#x8c61;&#x7684;`value`&#x5c5e;&#x6027;&#x5c31;&#x662f;&#x5f53;&#x524d;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x503c;`world`&#xff0c;`done`&#x5c5e;&#x6027;&#x7684;&#x503c;`false`&#xff0c;&#x8868;&#x793a;&#x904d;&#x5386;&#x8fd8;&#x6ca1;&#x6709;&#x7ed3;&#x675f;&#x3002;\n\n&#x7b2c;&#x4e09;&#x6b21;&#x8c03;&#x7528;&#xff0c;Generator &#x51fd;&#x6570;&#x4ece;&#x4e0a;&#x6b21;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x505c;&#x4e0b;&#x7684;&#x5730;&#x65b9;&#xff0c;&#x4e00;&#x76f4;&#x6267;&#x884c;&#x5230;`return`&#x8bed;&#x53e5;&#xff08;&#x5982;&#x679c;&#x6ca1;&#x6709;`return`&#x8bed;&#x53e5;&#xff0c;&#x5c31;&#x6267;&#x884c;&#x5230;&#x51fd;&#x6570;&#x7ed3;&#x675f;&#xff09;&#x3002;`next`&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x7684;&#x5bf9;&#x8c61;&#x7684;`value`&#x5c5e;&#x6027;&#xff0c;&#x5c31;&#x662f;&#x7d27;&#x8ddf;&#x5728;`return`&#x8bed;&#x53e5;&#x540e;&#x9762;&#x7684;&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x503c;&#xff08;&#x5982;&#x679c;&#x6ca1;&#x6709;`return`&#x8bed;&#x53e5;&#xff0c;&#x5219;`value`&#x5c5e;&#x6027;&#x7684;&#x503c;&#x4e3a;`undefined`&#xff09;&#xff0c;`done`&#x5c5e;&#x6027;&#x7684;&#x503c;`true`&#xff0c;&#x8868;&#x793a;&#x904d;&#x5386;&#x5df2;&#x7ecf;&#x7ed3;&#x675f;&#x3002;\n\n&#x7b2c;&#x56db;&#x6b21;&#x8c03;&#x7528;&#xff0c;&#x6b64;&#x65f6; Generator &#x51fd;&#x6570;&#x5df2;&#x7ecf;&#x8fd0;&#x884c;&#x5b8c;&#x6bd5;&#xff0c;`next`&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x5bf9;&#x8c61;&#x7684;`value`&#x5c5e;&#x6027;&#x4e3a;`undefined`&#xff0c;`done`&#x5c5e;&#x6027;&#x4e3a;`true`&#x3002;&#x4ee5;&#x540e;&#x518d;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#xff0c;&#x8fd4;&#x56de;&#x7684;&#x90fd;&#x662f;&#x8fd9;&#x4e2a;&#x503c;&#x3002;\n\n&#x603b;&#x7ed3;&#x4e00;&#x4e0b;&#xff0c;&#x8c03;&#x7528; Generator &#x51fd;&#x6570;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#xff0c;&#x4ee3;&#x8868; Generator &#x51fd;&#x6570;&#x7684;&#x5185;&#x90e8;&#x6307;&#x9488;&#x3002;&#x4ee5;&#x540e;&#xff0c;&#x6bcf;&#x6b21;&#x8c03;&#x7528;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x7684;`next`&#x65b9;&#x6cd5;&#xff0c;&#x5c31;&#x4f1a;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x6709;&#x7740;`value`&#x548c;`done`&#x4e24;&#x4e2a;&#x5c5e;&#x6027;&#x7684;&#x5bf9;&#x8c61;&#x3002;`value`&#x5c5e;&#x6027;&#x8868;&#x793a;&#x5f53;&#x524d;&#x7684;&#x5185;&#x90e8;&#x72b6;&#x6001;&#x7684;&#x503c;&#xff0c;&#x662f;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x540e;&#x9762;&#x90a3;&#x4e2a;&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x503c;&#xff1b;`done`&#x5c5e;&#x6027;&#x662f;&#x4e00;&#x4e2a;&#x5e03;&#x5c14;&#x503c;&#xff0c;&#x8868;&#x793a;&#x662f;&#x5426;&#x904d;&#x5386;&#x7ed3;&#x675f;&#x3002;\n\nES6 &#x6ca1;&#x6709;&#x89c4;&#x5b9a;&#xff0c;`function`&#x5173;&#x952e;&#x5b57;&#x4e0e;&#x51fd;&#x6570;&#x540d;&#x4e4b;&#x95f4;&#x7684;&#x661f;&#x53f7;&#xff0c;&#x5199;&#x5728;&#x54ea;&#x4e2a;&#x4f4d;&#x7f6e;&#x3002;&#x8fd9;&#x5bfc;&#x81f4;&#x4e0b;&#x9762;&#x7684;&#x5199;&#x6cd5;&#x90fd;&#x80fd;&#x901a;&#x8fc7;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"60,73"}},{"content":"<pre data-lines=\"74,80\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span> * <span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-params\">x, y</span>) { &#xb7;&#xb7;&#xb7; }\n<span class=\"hljs-keyword\">function</span> *<span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-params\">x, y</span>) { &#xb7;&#xb7;&#xb7; }\n<span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-params\">x, y</span>) { &#xb7;&#xb7;&#xb7; }\n<span class=\"hljs-keyword\">function</span>*<span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-params\">x, y</span>) { &#xb7;&#xb7;&#xb7; }\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"74,80"}},{"content":"<pre data-lines=\"81,82\"><code>&#x7531;&#x4e8e; Generator &#x51fd;&#x6570;&#x4ecd;&#x7136;&#x662f;&#x666e;&#x901a;&#x51fd;&#x6570;&#xff0c;&#x6240;&#x4ee5;&#x4e00;&#x822c;&#x7684;&#x5199;&#x6cd5;&#x662f;&#x4e0a;&#x9762;&#x7684;&#x7b2c;&#x4e09;&#x79cd;&#xff0c;&#x5373;&#x661f;&#x53f7;&#x7d27;&#x8ddf;&#x5728;`function`&#x5173;&#x952e;&#x5b57;&#x540e;&#x9762;&#x3002;&#x672c;&#x4e66;&#x4e5f;&#x91c7;&#x7528;&#x8fd9;&#x79cd;&#x5199;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"81,82"}}],"payload":{"tag":"h3","lines":"20,21"}},{"content":"yield &#x8868;&#x8fbe;&#x5f0f;","children":[{"content":"<pre data-lines=\"85,98\"><code>&#x7531;&#x4e8e; Generator &#x51fd;&#x6570;&#x8fd4;&#x56de;&#x7684;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#xff0c;&#x53ea;&#x6709;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#x624d;&#x4f1a;&#x904d;&#x5386;&#x4e0b;&#x4e00;&#x4e2a;&#x5185;&#x90e8;&#x72b6;&#x6001;&#xff0c;&#x6240;&#x4ee5;&#x5176;&#x5b9e;&#x63d0;&#x4f9b;&#x4e86;&#x4e00;&#x79cd;&#x53ef;&#x4ee5;&#x6682;&#x505c;&#x6267;&#x884c;&#x7684;&#x51fd;&#x6570;&#x3002;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x5c31;&#x662f;&#x6682;&#x505c;&#x6807;&#x5fd7;&#x3002;\n\n&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x7684;`next`&#x65b9;&#x6cd5;&#x7684;&#x8fd0;&#x884c;&#x903b;&#x8f91;&#x5982;&#x4e0b;&#x3002;\n\n&#xff08;1&#xff09;&#x9047;&#x5230;`yield`&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x5c31;&#x6682;&#x505c;&#x6267;&#x884c;&#x540e;&#x9762;&#x7684;&#x64cd;&#x4f5c;&#xff0c;&#x5e76;&#x5c06;&#x7d27;&#x8ddf;&#x5728;`yield`&#x540e;&#x9762;&#x7684;&#x90a3;&#x4e2a;&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x503c;&#xff0c;&#x4f5c;&#x4e3a;&#x8fd4;&#x56de;&#x7684;&#x5bf9;&#x8c61;&#x7684;`value`&#x5c5e;&#x6027;&#x503c;&#x3002;\n\n&#xff08;2&#xff09;&#x4e0b;&#x4e00;&#x6b21;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#x65f6;&#xff0c;&#x518d;&#x7ee7;&#x7eed;&#x5f80;&#x4e0b;&#x6267;&#x884c;&#xff0c;&#x76f4;&#x5230;&#x9047;&#x5230;&#x4e0b;&#x4e00;&#x4e2a;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x3002;\n\n&#xff08;3&#xff09;&#x5982;&#x679c;&#x6ca1;&#x6709;&#x518d;&#x9047;&#x5230;&#x65b0;&#x7684;`yield`&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x5c31;&#x4e00;&#x76f4;&#x8fd0;&#x884c;&#x5230;&#x51fd;&#x6570;&#x7ed3;&#x675f;&#xff0c;&#x76f4;&#x5230;`return`&#x8bed;&#x53e5;&#x4e3a;&#x6b62;&#xff0c;&#x5e76;&#x5c06;`return`&#x8bed;&#x53e5;&#x540e;&#x9762;&#x7684;&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x503c;&#xff0c;&#x4f5c;&#x4e3a;&#x8fd4;&#x56de;&#x7684;&#x5bf9;&#x8c61;&#x7684;`value`&#x5c5e;&#x6027;&#x503c;&#x3002;\n\n&#xff08;4&#xff09;&#x5982;&#x679c;&#x8be5;&#x51fd;&#x6570;&#x6ca1;&#x6709;`return`&#x8bed;&#x53e5;&#xff0c;&#x5219;&#x8fd4;&#x56de;&#x7684;&#x5bf9;&#x8c61;&#x7684;`value`&#x5c5e;&#x6027;&#x503c;&#x4e3a;`undefined`&#x3002;\n\n&#x9700;&#x8981;&#x6ce8;&#x610f;&#x7684;&#x662f;&#xff0c;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x540e;&#x9762;&#x7684;&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x53ea;&#x6709;&#x5f53;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#x3001;&#x5185;&#x90e8;&#x6307;&#x9488;&#x6307;&#x5411;&#x8be5;&#x8bed;&#x53e5;&#x65f6;&#x624d;&#x4f1a;&#x6267;&#x884c;&#xff0c;&#x56e0;&#x6b64;&#x7b49;&#x4e8e;&#x4e3a; JavaScript &#x63d0;&#x4f9b;&#x4e86;&#x624b;&#x52a8;&#x7684;&#x201c;&#x60f0;&#x6027;&#x6c42;&#x503c;&#x201d;&#xff08;Lazy Evaluation&#xff09;&#x7684;&#x8bed;&#x6cd5;&#x529f;&#x80fd;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"85,98"}},{"content":"<pre data-lines=\"99,104\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span>  <span class=\"hljs-number\">123</span> + <span class=\"hljs-number\">456</span>;\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"99,104"}},{"content":"<pre data-lines=\"105,110\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`yield`&#x540e;&#x9762;&#x7684;&#x8868;&#x8fbe;&#x5f0f;`123 + 456`&#xff0c;&#x4e0d;&#x4f1a;&#x7acb;&#x5373;&#x6c42;&#x503c;&#xff0c;&#x53ea;&#x4f1a;&#x5728;`next`&#x65b9;&#x6cd5;&#x5c06;&#x6307;&#x9488;&#x79fb;&#x5230;&#x8fd9;&#x4e00;&#x53e5;&#x65f6;&#xff0c;&#x624d;&#x4f1a;&#x6c42;&#x503c;&#x3002;\n\n`yield`&#x8868;&#x8fbe;&#x5f0f;&#x4e0e;`return`&#x8bed;&#x53e5;&#x65e2;&#x6709;&#x76f8;&#x4f3c;&#x4e4b;&#x5904;&#xff0c;&#x4e5f;&#x6709;&#x533a;&#x522b;&#x3002;&#x76f8;&#x4f3c;&#x4e4b;&#x5904;&#x5728;&#x4e8e;&#xff0c;&#x90fd;&#x80fd;&#x8fd4;&#x56de;&#x7d27;&#x8ddf;&#x5728;&#x8bed;&#x53e5;&#x540e;&#x9762;&#x7684;&#x90a3;&#x4e2a;&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x503c;&#x3002;&#x533a;&#x522b;&#x5728;&#x4e8e;&#x6bcf;&#x6b21;&#x9047;&#x5230;`yield`&#xff0c;&#x51fd;&#x6570;&#x6682;&#x505c;&#x6267;&#x884c;&#xff0c;&#x4e0b;&#x4e00;&#x6b21;&#x518d;&#x4ece;&#x8be5;&#x4f4d;&#x7f6e;&#x7ee7;&#x7eed;&#x5411;&#x540e;&#x6267;&#x884c;&#xff0c;&#x800c;`return`&#x8bed;&#x53e5;&#x4e0d;&#x5177;&#x5907;&#x4f4d;&#x7f6e;&#x8bb0;&#x5fc6;&#x7684;&#x529f;&#x80fd;&#x3002;&#x4e00;&#x4e2a;&#x51fd;&#x6570;&#x91cc;&#x9762;&#xff0c;&#x53ea;&#x80fd;&#x6267;&#x884c;&#x4e00;&#x6b21;&#xff08;&#x6216;&#x8005;&#x8bf4;&#x4e00;&#x4e2a;&#xff09;`return`&#x8bed;&#x53e5;&#xff0c;&#x4f46;&#x662f;&#x53ef;&#x4ee5;&#x6267;&#x884c;&#x591a;&#x6b21;&#xff08;&#x6216;&#x8005;&#x8bf4;&#x591a;&#x4e2a;&#xff09;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x3002;&#x6b63;&#x5e38;&#x51fd;&#x6570;&#x53ea;&#x80fd;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x503c;&#xff0c;&#x56e0;&#x4e3a;&#x53ea;&#x80fd;&#x6267;&#x884c;&#x4e00;&#x6b21;`return`&#xff1b;Generator &#x51fd;&#x6570;&#x53ef;&#x4ee5;&#x8fd4;&#x56de;&#x4e00;&#x7cfb;&#x5217;&#x7684;&#x503c;&#xff0c;&#x56e0;&#x4e3a;&#x53ef;&#x4ee5;&#x6709;&#x4efb;&#x610f;&#x591a;&#x4e2a;`yield`&#x3002;&#x4ece;&#x53e6;&#x4e00;&#x4e2a;&#x89d2;&#x5ea6;&#x770b;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x8bf4; Generator &#x751f;&#x6210;&#x4e86;&#x4e00;&#x7cfb;&#x5217;&#x7684;&#x503c;&#xff0c;&#x8fd9;&#x4e5f;&#x5c31;&#x662f;&#x5b83;&#x7684;&#x540d;&#x79f0;&#x7684;&#x6765;&#x5386;&#xff08;&#x82f1;&#x8bed;&#x4e2d;&#xff0c;generator &#x8fd9;&#x4e2a;&#x8bcd;&#x662f;&#x201c;&#x751f;&#x6210;&#x5668;&#x201d;&#x7684;&#x610f;&#x601d;&#xff09;&#x3002;\n\nGenerator &#x51fd;&#x6570;&#x53ef;&#x4ee5;&#x4e0d;&#x7528;`yield`&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x8fd9;&#x65f6;&#x5c31;&#x53d8;&#x6210;&#x4e86;&#x4e00;&#x4e2a;&#x5355;&#x7eaf;&#x7684;&#x6682;&#x7f13;&#x6267;&#x884c;&#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"105,110"}},{"content":"<pre data-lines=\"111,122\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">f</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x6267;&#x884c;&#x4e86;&#xff01;&apos;</span>)\n}\n\n<span class=\"hljs-keyword\">var</span> generator = <span class=\"hljs-title function_\">f</span>();\n\n<span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  generator.<span class=\"hljs-title function_\">next</span>()\n}, <span class=\"hljs-number\">2000</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"111,122"}},{"content":"<pre data-lines=\"123,126\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x51fd;&#x6570;`f`&#x5982;&#x679c;&#x662f;&#x666e;&#x901a;&#x51fd;&#x6570;&#xff0c;&#x5728;&#x4e3a;&#x53d8;&#x91cf;`generator`&#x8d4b;&#x503c;&#x65f6;&#x5c31;&#x4f1a;&#x6267;&#x884c;&#x3002;&#x4f46;&#x662f;&#xff0c;&#x51fd;&#x6570;`f`&#x662f;&#x4e00;&#x4e2a; Generator &#x51fd;&#x6570;&#xff0c;&#x5c31;&#x53d8;&#x6210;&#x53ea;&#x6709;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#x65f6;&#xff0c;&#x51fd;&#x6570;`f`&#x624d;&#x4f1a;&#x6267;&#x884c;&#x3002;\n\n&#x53e6;&#x5916;&#x9700;&#x8981;&#x6ce8;&#x610f;&#xff0c;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x53ea;&#x80fd;&#x7528;&#x5728; Generator &#x51fd;&#x6570;&#x91cc;&#x9762;&#xff0c;&#x7528;&#x5728;&#x5176;&#x4ed6;&#x5730;&#x65b9;&#x90fd;&#x4f1a;&#x62a5;&#x9519;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"123,126"}},{"content":"<pre data-lines=\"127,133\"><code class=\"language-javascript\">(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>){\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">1</span>;\n})()\n<span class=\"hljs-comment\">// SyntaxError: Unexpected number</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"127,133"}},{"content":"<pre data-lines=\"134,137\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5728;&#x4e00;&#x4e2a;&#x666e;&#x901a;&#x51fd;&#x6570;&#x4e2d;&#x4f7f;&#x7528;`yield`&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x7ed3;&#x679c;&#x4ea7;&#x751f;&#x4e00;&#x4e2a;&#x53e5;&#x6cd5;&#x9519;&#x8bef;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x53e6;&#x5916;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"134,137"}},{"content":"<pre data-lines=\"138,155\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> arr = [<span class=\"hljs-number\">1</span>, [[<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>], <span class=\"hljs-number\">4</span>], [<span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">6</span>]];\n\n<span class=\"hljs-keyword\">var</span> flat = <span class=\"hljs-keyword\">function</span>* (a) {\n  a.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">item</span>) {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> item !== <span class=\"hljs-string\">&apos;number&apos;</span>) {\n      <span class=\"hljs-keyword\">yield</span>* <span class=\"hljs-title function_\">flat</span>(item);\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-keyword\">yield</span> item;\n    }\n  });\n};\n\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> f <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">flat</span>(arr)){\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(f);\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"138,155"}},{"content":"<pre data-lines=\"156,157\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e5f;&#x4f1a;&#x4ea7;&#x751f;&#x53e5;&#x6cd5;&#x9519;&#x8bef;&#xff0c;&#x56e0;&#x4e3a;`forEach`&#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;&#x662f;&#x4e00;&#x4e2a;&#x666e;&#x901a;&#x51fd;&#x6570;&#xff0c;&#x4f46;&#x662f;&#x5728;&#x91cc;&#x9762;&#x4f7f;&#x7528;&#x4e86;`yield`&#x8868;&#x8fbe;&#x5f0f;&#xff08;&#x8fd9;&#x4e2a;&#x51fd;&#x6570;&#x91cc;&#x9762;&#x8fd8;&#x4f7f;&#x7528;&#x4e86;`yield*`&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x8be6;&#x7ec6;&#x4ecb;&#x7ecd;&#x89c1;&#x540e;&#x6587;&#xff09;&#x3002;&#x4e00;&#x79cd;&#x4fee;&#x6539;&#x65b9;&#x6cd5;&#x662f;&#x6539;&#x7528;`for`&#x5faa;&#x73af;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"156,157"}},{"content":"<pre data-lines=\"158,178\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> arr = [<span class=\"hljs-number\">1</span>, [[<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>], <span class=\"hljs-number\">4</span>], [<span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">6</span>]];\n\n<span class=\"hljs-keyword\">var</span> flat = <span class=\"hljs-keyword\">function</span>* (a) {\n  <span class=\"hljs-keyword\">var</span> length = a.<span class=\"hljs-property\">length</span>;\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; length; i++) {\n    <span class=\"hljs-keyword\">var</span> item = a[i];\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> item !== <span class=\"hljs-string\">&apos;number&apos;</span>) {\n      <span class=\"hljs-keyword\">yield</span>* <span class=\"hljs-title function_\">flat</span>(item);\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-keyword\">yield</span> item;\n    }\n  }\n};\n\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> f <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">flat</span>(arr)) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(f);\n}\n<span class=\"hljs-comment\">// 1, 2, 3, 4, 5, 6</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"158,178"}},{"content":"<pre data-lines=\"179,180\"><code>&#x53e6;&#x5916;&#xff0c;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x5982;&#x679c;&#x7528;&#x5728;&#x53e6;&#x4e00;&#x4e2a;&#x8868;&#x8fbe;&#x5f0f;&#x4e4b;&#x4e2d;&#xff0c;&#x5fc5;&#x987b;&#x653e;&#x5728;&#x5706;&#x62ec;&#x53f7;&#x91cc;&#x9762;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"179,180"}},{"content":"<pre data-lines=\"181,190\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">demo</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Hello&apos;</span> + <span class=\"hljs-keyword\">yield</span>); <span class=\"hljs-comment\">// SyntaxError</span>\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Hello&apos;</span> + <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">123</span>); <span class=\"hljs-comment\">// SyntaxError</span>\n\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Hello&apos;</span> + (<span class=\"hljs-keyword\">yield</span>)); <span class=\"hljs-comment\">// OK</span>\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Hello&apos;</span> + (<span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">123</span>)); <span class=\"hljs-comment\">// OK</span>\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"181,190"}},{"content":"<pre data-lines=\"191,192\"><code>`yield`&#x8868;&#x8fbe;&#x5f0f;&#x7528;&#x4f5c;&#x51fd;&#x6570;&#x53c2;&#x6570;&#x6216;&#x653e;&#x5728;&#x8d4b;&#x503c;&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x53f3;&#x8fb9;&#xff0c;&#x53ef;&#x4ee5;&#x4e0d;&#x52a0;&#x62ec;&#x53f7;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"191,192"}},{"content":"<pre data-lines=\"193,199\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">demo</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;a&apos;</span>, <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;b&apos;</span>); <span class=\"hljs-comment\">// OK</span>\n  <span class=\"hljs-keyword\">let</span> input = <span class=\"hljs-keyword\">yield</span>; <span class=\"hljs-comment\">// OK</span>\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"193,199"}}],"payload":{"tag":"h3","lines":"83,84"}},{"content":"&#x4e0e; Iterator &#x63a5;&#x53e3;&#x7684;&#x5173;&#x7cfb;","children":[{"content":"<pre data-lines=\"202,205\"><code>&#x4e0a;&#x4e00;&#x7ae0;&#x8bf4;&#x8fc7;&#xff0c;&#x4efb;&#x610f;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#x7684;`Symbol.iterator`&#x65b9;&#x6cd5;&#xff0c;&#x7b49;&#x4e8e;&#x8be5;&#x5bf9;&#x8c61;&#x7684;&#x904d;&#x5386;&#x5668;&#x751f;&#x6210;&#x51fd;&#x6570;&#xff0c;&#x8c03;&#x7528;&#x8be5;&#x51fd;&#x6570;&#x4f1a;&#x8fd4;&#x56de;&#x8be5;&#x5bf9;&#x8c61;&#x7684;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x3002;\n\n&#x7531;&#x4e8e; Generator &#x51fd;&#x6570;&#x5c31;&#x662f;&#x904d;&#x5386;&#x5668;&#x751f;&#x6210;&#x51fd;&#x6570;&#xff0c;&#x56e0;&#x6b64;&#x53ef;&#x4ee5;&#x628a; Generator &#x8d4b;&#x503c;&#x7ed9;&#x5bf9;&#x8c61;&#x7684;`Symbol.iterator`&#x5c5e;&#x6027;&#xff0c;&#x4ece;&#x800c;&#x4f7f;&#x5f97;&#x8be5;&#x5bf9;&#x8c61;&#x5177;&#x6709; Iterator &#x63a5;&#x53e3;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"202,205"}},{"content":"<pre data-lines=\"206,216\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> myIterable = {};\nmyIterable[<span class=\"hljs-title class_\">Symbol</span>.<span class=\"hljs-property\">iterator</span>] = <span class=\"hljs-keyword\">function</span>* () {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">2</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">3</span>;\n};\n\n[...myIterable] <span class=\"hljs-comment\">// [1, 2, 3]</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"206,216"}},{"content":"<pre data-lines=\"217,220\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;Generator &#x51fd;&#x6570;&#x8d4b;&#x503c;&#x7ed9;`Symbol.iterator`&#x5c5e;&#x6027;&#xff0c;&#x4ece;&#x800c;&#x4f7f;&#x5f97;`myIterable`&#x5bf9;&#x8c61;&#x5177;&#x6709;&#x4e86; Iterator &#x63a5;&#x53e3;&#xff0c;&#x53ef;&#x4ee5;&#x88ab;`...`&#x8fd0;&#x7b97;&#x7b26;&#x904d;&#x5386;&#x4e86;&#x3002;\n\nGenerator &#x51fd;&#x6570;&#x6267;&#x884c;&#x540e;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x3002;&#x8be5;&#x5bf9;&#x8c61;&#x672c;&#x8eab;&#x4e5f;&#x5177;&#x6709;`Symbol.iterator`&#x5c5e;&#x6027;&#xff0c;&#x6267;&#x884c;&#x540e;&#x8fd4;&#x56de;&#x81ea;&#x8eab;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"217,220"}},{"content":"<pre data-lines=\"221,231\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen</span>(<span class=\"hljs-params\"></span>){\n  <span class=\"hljs-comment\">// some code</span>\n}\n\n<span class=\"hljs-keyword\">var</span> g = <span class=\"hljs-title function_\">gen</span>();\n\ng[<span class=\"hljs-title class_\">Symbol</span>.<span class=\"hljs-property\">iterator</span>]() === g\n<span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"221,231"}},{"content":"<pre data-lines=\"232,233\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`gen`&#x662f;&#x4e00;&#x4e2a; Generator &#x51fd;&#x6570;&#xff0c;&#x8c03;&#x7528;&#x5b83;&#x4f1a;&#x751f;&#x6210;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;`g`&#x3002;&#x5b83;&#x7684;`Symbol.iterator`&#x5c5e;&#x6027;&#xff0c;&#x4e5f;&#x662f;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x751f;&#x6210;&#x51fd;&#x6570;&#xff0c;&#x6267;&#x884c;&#x540e;&#x8fd4;&#x56de;&#x5b83;&#x81ea;&#x5df1;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"232,233"}}],"payload":{"tag":"h3","lines":"200,201"}}],"payload":{"tag":"h2","lines":"18,19"}},{"content":"next &#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;","children":[{"content":"<pre data-lines=\"236,237\"><code>`yield`&#x8868;&#x8fbe;&#x5f0f;&#x672c;&#x8eab;&#x6ca1;&#x6709;&#x8fd4;&#x56de;&#x503c;&#xff0c;&#x6216;&#x8005;&#x8bf4;&#x603b;&#x662f;&#x8fd4;&#x56de;`undefined`&#x3002;`next`&#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x5e26;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x8be5;&#x53c2;&#x6570;&#x5c31;&#x4f1a;&#x88ab;&#x5f53;&#x4f5c;&#x4e0a;&#x4e00;&#x4e2a;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x8fd4;&#x56de;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"236,237"}},{"content":"<pre data-lines=\"238,252\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">f</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; <span class=\"hljs-literal\">true</span>; i++) {\n    <span class=\"hljs-keyword\">var</span> reset = <span class=\"hljs-keyword\">yield</span> i;\n    <span class=\"hljs-keyword\">if</span>(reset) { i = -<span class=\"hljs-number\">1</span>; }\n  }\n}\n\n<span class=\"hljs-keyword\">var</span> g = <span class=\"hljs-title function_\">f</span>();\n\ng.<span class=\"hljs-title function_\">next</span>() <span class=\"hljs-comment\">// { value: 0, done: false }</span>\ng.<span class=\"hljs-title function_\">next</span>() <span class=\"hljs-comment\">// { value: 1, done: false }</span>\ng.<span class=\"hljs-title function_\">next</span>(<span class=\"hljs-literal\">true</span>) <span class=\"hljs-comment\">// { value: 0, done: false }</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"238,252"}},{"content":"<pre data-lines=\"253,258\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5148;&#x5b9a;&#x4e49;&#x4e86;&#x4e00;&#x4e2a;&#x53ef;&#x4ee5;&#x65e0;&#x9650;&#x8fd0;&#x884c;&#x7684; Generator &#x51fd;&#x6570;`f`&#xff0c;&#x5982;&#x679c;`next`&#x65b9;&#x6cd5;&#x6ca1;&#x6709;&#x53c2;&#x6570;&#xff0c;&#x6bcf;&#x6b21;&#x8fd0;&#x884c;&#x5230;`yield`&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x53d8;&#x91cf;`reset`&#x7684;&#x503c;&#x603b;&#x662f;`undefined`&#x3002;&#x5f53;`next`&#x65b9;&#x6cd5;&#x5e26;&#x4e00;&#x4e2a;&#x53c2;&#x6570;`true`&#x65f6;&#xff0c;&#x53d8;&#x91cf;`reset`&#x5c31;&#x88ab;&#x91cd;&#x7f6e;&#x4e3a;&#x8fd9;&#x4e2a;&#x53c2;&#x6570;&#xff08;&#x5373;`true`&#xff09;&#xff0c;&#x56e0;&#x6b64;`i`&#x4f1a;&#x7b49;&#x4e8e;`-1`&#xff0c;&#x4e0b;&#x4e00;&#x8f6e;&#x5faa;&#x73af;&#x5c31;&#x4f1a;&#x4ece;`-1`&#x5f00;&#x59cb;&#x9012;&#x589e;&#x3002;\n\n&#x8fd9;&#x4e2a;&#x529f;&#x80fd;&#x6709;&#x5f88;&#x91cd;&#x8981;&#x7684;&#x8bed;&#x6cd5;&#x610f;&#x4e49;&#x3002;Generator &#x51fd;&#x6570;&#x4ece;&#x6682;&#x505c;&#x72b6;&#x6001;&#x5230;&#x6062;&#x590d;&#x8fd0;&#x884c;&#xff0c;&#x5b83;&#x7684;&#x4e0a;&#x4e0b;&#x6587;&#x72b6;&#x6001;&#xff08;context&#xff09;&#x662f;&#x4e0d;&#x53d8;&#x7684;&#x3002;&#x901a;&#x8fc7;`next`&#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x5c31;&#x6709;&#x529e;&#x6cd5;&#x5728; Generator &#x51fd;&#x6570;&#x5f00;&#x59cb;&#x8fd0;&#x884c;&#x4e4b;&#x540e;&#xff0c;&#x7ee7;&#x7eed;&#x5411;&#x51fd;&#x6570;&#x4f53;&#x5185;&#x90e8;&#x6ce8;&#x5165;&#x503c;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x53ef;&#x4ee5;&#x5728; Generator &#x51fd;&#x6570;&#x8fd0;&#x884c;&#x7684;&#x4e0d;&#x540c;&#x9636;&#x6bb5;&#xff0c;&#x4ece;&#x5916;&#x90e8;&#x5411;&#x5185;&#x90e8;&#x6ce8;&#x5165;&#x4e0d;&#x540c;&#x7684;&#x503c;&#xff0c;&#x4ece;&#x800c;&#x8c03;&#x6574;&#x51fd;&#x6570;&#x884c;&#x4e3a;&#x3002;\n\n&#x518d;&#x770b;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"253,258"}},{"content":"<pre data-lines=\"259,276\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-params\">x</span>) {\n  <span class=\"hljs-keyword\">var</span> y = <span class=\"hljs-number\">2</span> * (<span class=\"hljs-title function_\">yield</span> (x + <span class=\"hljs-number\">1</span>));\n  <span class=\"hljs-keyword\">var</span> z = <span class=\"hljs-title function_\">yield</span> (y / <span class=\"hljs-number\">3</span>);\n  <span class=\"hljs-keyword\">return</span> (x + y + z);\n}\n\n<span class=\"hljs-keyword\">var</span> a = <span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-number\">5</span>);\na.<span class=\"hljs-title function_\">next</span>() <span class=\"hljs-comment\">// Object{value:6, done:false}</span>\na.<span class=\"hljs-title function_\">next</span>() <span class=\"hljs-comment\">// Object{value:NaN, done:false}</span>\na.<span class=\"hljs-title function_\">next</span>() <span class=\"hljs-comment\">// Object{value:NaN, done:true}</span>\n\n<span class=\"hljs-keyword\">var</span> b = <span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-number\">5</span>);\nb.<span class=\"hljs-title function_\">next</span>() <span class=\"hljs-comment\">// { value:6, done:false }</span>\nb.<span class=\"hljs-title function_\">next</span>(<span class=\"hljs-number\">12</span>) <span class=\"hljs-comment\">// { value:8, done:false }</span>\nb.<span class=\"hljs-title function_\">next</span>(<span class=\"hljs-number\">13</span>) <span class=\"hljs-comment\">// { value:42, done:true }</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"259,276"}},{"content":"<pre data-lines=\"277,284\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x7b2c;&#x4e8c;&#x6b21;&#x8fd0;&#x884c;`next`&#x65b9;&#x6cd5;&#x7684;&#x65f6;&#x5019;&#x4e0d;&#x5e26;&#x53c2;&#x6570;&#xff0c;&#x5bfc;&#x81f4; y &#x7684;&#x503c;&#x7b49;&#x4e8e;`2 * undefined`&#xff08;&#x5373;`NaN`&#xff09;&#xff0c;&#x9664;&#x4ee5; 3 &#x4ee5;&#x540e;&#x8fd8;&#x662f;`NaN`&#xff0c;&#x56e0;&#x6b64;&#x8fd4;&#x56de;&#x5bf9;&#x8c61;&#x7684;`value`&#x5c5e;&#x6027;&#x4e5f;&#x7b49;&#x4e8e;`NaN`&#x3002;&#x7b2c;&#x4e09;&#x6b21;&#x8fd0;&#x884c;`Next`&#x65b9;&#x6cd5;&#x7684;&#x65f6;&#x5019;&#x4e0d;&#x5e26;&#x53c2;&#x6570;&#xff0c;&#x6240;&#x4ee5;`z`&#x7b49;&#x4e8e;`undefined`&#xff0c;&#x8fd4;&#x56de;&#x5bf9;&#x8c61;&#x7684;`value`&#x5c5e;&#x6027;&#x7b49;&#x4e8e;`5 + NaN + undefined`&#xff0c;&#x5373;`NaN`&#x3002;\n\n&#x5982;&#x679c;&#x5411;`next`&#x65b9;&#x6cd5;&#x63d0;&#x4f9b;&#x53c2;&#x6570;&#xff0c;&#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x5c31;&#x5b8c;&#x5168;&#x4e0d;&#x4e00;&#x6837;&#x4e86;&#x3002;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7b2c;&#x4e00;&#x6b21;&#x8c03;&#x7528;`b`&#x7684;`next`&#x65b9;&#x6cd5;&#x65f6;&#xff0c;&#x8fd4;&#x56de;`x+1`&#x7684;&#x503c;`6`&#xff1b;&#x7b2c;&#x4e8c;&#x6b21;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#xff0c;&#x5c06;&#x4e0a;&#x4e00;&#x6b21;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x503c;&#x8bbe;&#x4e3a;`12`&#xff0c;&#x56e0;&#x6b64;`y`&#x7b49;&#x4e8e;`24`&#xff0c;&#x8fd4;&#x56de;`y / 3`&#x7684;&#x503c;`8`&#xff1b;&#x7b2c;&#x4e09;&#x6b21;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#xff0c;&#x5c06;&#x4e0a;&#x4e00;&#x6b21;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x503c;&#x8bbe;&#x4e3a;`13`&#xff0c;&#x56e0;&#x6b64;`z`&#x7b49;&#x4e8e;`13`&#xff0c;&#x8fd9;&#x65f6;`x`&#x7b49;&#x4e8e;`5`&#xff0c;`y`&#x7b49;&#x4e8e;`24`&#xff0c;&#x6240;&#x4ee5;`return`&#x8bed;&#x53e5;&#x7684;&#x503c;&#x7b49;&#x4e8e;`42`&#x3002;\n\n&#x6ce8;&#x610f;&#xff0c;&#x7531;&#x4e8e;`next`&#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;&#x8868;&#x793a;&#x4e0a;&#x4e00;&#x4e2a;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x8fd4;&#x56de;&#x503c;&#xff0c;&#x6240;&#x4ee5;&#x5728;&#x7b2c;&#x4e00;&#x6b21;&#x4f7f;&#x7528;`next`&#x65b9;&#x6cd5;&#x65f6;&#xff0c;&#x4f20;&#x9012;&#x53c2;&#x6570;&#x662f;&#x65e0;&#x6548;&#x7684;&#x3002;V8 &#x5f15;&#x64ce;&#x76f4;&#x63a5;&#x5ffd;&#x7565;&#x7b2c;&#x4e00;&#x6b21;&#x4f7f;&#x7528;`next`&#x65b9;&#x6cd5;&#x65f6;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x53ea;&#x6709;&#x4ece;&#x7b2c;&#x4e8c;&#x6b21;&#x4f7f;&#x7528;`next`&#x65b9;&#x6cd5;&#x5f00;&#x59cb;&#xff0c;&#x53c2;&#x6570;&#x624d;&#x662f;&#x6709;&#x6548;&#x7684;&#x3002;&#x4ece;&#x8bed;&#x4e49;&#x4e0a;&#x8bb2;&#xff0c;&#x7b2c;&#x4e00;&#x4e2a;`next`&#x65b9;&#x6cd5;&#x7528;&#x6765;&#x542f;&#x52a8;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#xff0c;&#x6240;&#x4ee5;&#x4e0d;&#x7528;&#x5e26;&#x6709;&#x53c2;&#x6570;&#x3002;\n\n&#x518d;&#x770b;&#x4e00;&#x4e2a;&#x901a;&#x8fc7;`next`&#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x5411; Generator &#x51fd;&#x6570;&#x5185;&#x90e8;&#x8f93;&#x5165;&#x503c;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"277,284"}},{"content":"<pre data-lines=\"285,301\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">dataConsumer</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Started&apos;</span>);\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">`1. <span class=\"hljs-subst\">&#x24;{<span class=\"hljs-keyword\">yield</span>}</span>`</span>);\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">`2. <span class=\"hljs-subst\">&#x24;{<span class=\"hljs-keyword\">yield</span>}</span>`</span>);\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&apos;result&apos;</span>;\n}\n\n<span class=\"hljs-keyword\">let</span> genObj = <span class=\"hljs-title function_\">dataConsumer</span>();\ngenObj.<span class=\"hljs-title function_\">next</span>();\n<span class=\"hljs-comment\">// Started</span>\ngenObj.<span class=\"hljs-title function_\">next</span>(<span class=\"hljs-string\">&apos;a&apos;</span>)\n<span class=\"hljs-comment\">// 1. a</span>\ngenObj.<span class=\"hljs-title function_\">next</span>(<span class=\"hljs-string\">&apos;b&apos;</span>)\n<span class=\"hljs-comment\">// 2. b</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"285,301"}},{"content":"<pre data-lines=\"306,323\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">wrapper</span>(<span class=\"hljs-params\">generatorFunction</span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">...args</span>) {\n    <span class=\"hljs-keyword\">let</span> generatorObject = <span class=\"hljs-title function_\">generatorFunction</span>(...args);\n    generatorObject.<span class=\"hljs-title function_\">next</span>();\n    <span class=\"hljs-keyword\">return</span> generatorObject;\n  };\n}\n\n<span class=\"hljs-keyword\">const</span> wrapped = <span class=\"hljs-title function_\">wrapper</span>(<span class=\"hljs-keyword\">function</span>* () {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">`First input: <span class=\"hljs-subst\">&#x24;{<span class=\"hljs-keyword\">yield</span>}</span>`</span>);\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&apos;DONE&apos;</span>;\n});\n\n<span class=\"hljs-title function_\">wrapped</span>().<span class=\"hljs-title function_\">next</span>(<span class=\"hljs-string\">&apos;hello!&apos;</span>)\n<span class=\"hljs-comment\">// First input: hello!</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"306,323"}}],"payload":{"tag":"h2","lines":"234,235"}},{"content":"for...of &#x5faa;&#x73af;","children":[{"content":"<pre data-lines=\"330,345\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">2</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">3</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">4</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">5</span>;\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">6</span>;\n}\n\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> v <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">foo</span>()) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(v);\n}\n<span class=\"hljs-comment\">// 1 2 3 4 5</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"330,345"}},{"content":"<pre data-lines=\"346,349\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4f7f;&#x7528;`for...of`&#x5faa;&#x73af;&#xff0c;&#x4f9d;&#x6b21;&#x663e;&#x793a; 5 &#x4e2a;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x503c;&#x3002;&#x8fd9;&#x91cc;&#x9700;&#x8981;&#x6ce8;&#x610f;&#xff0c;&#x4e00;&#x65e6;`next`&#x65b9;&#x6cd5;&#x7684;&#x8fd4;&#x56de;&#x5bf9;&#x8c61;&#x7684;`done`&#x5c5e;&#x6027;&#x4e3a;`true`&#xff0c;`for...of`&#x5faa;&#x73af;&#x5c31;&#x4f1a;&#x4e2d;&#x6b62;&#xff0c;&#x4e14;&#x4e0d;&#x5305;&#x542b;&#x8be5;&#x8fd4;&#x56de;&#x5bf9;&#x8c61;&#xff0c;&#x6240;&#x4ee5;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;`return`&#x8bed;&#x53e5;&#x8fd4;&#x56de;&#x7684;`6`&#xff0c;&#x4e0d;&#x5305;&#x62ec;&#x5728;`for...of`&#x5faa;&#x73af;&#x4e4b;&#x4e2d;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x5229;&#x7528; Generator &#x51fd;&#x6570;&#x548c;`for...of`&#x5faa;&#x73af;&#xff0c;&#x5b9e;&#x73b0;&#x6590;&#x6ce2;&#x90a3;&#x5951;&#x6570;&#x5217;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"346,349"}},{"content":"<pre data-lines=\"350,364\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">fibonacci</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">let</span> [prev, curr] = [<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>];\n  <span class=\"hljs-keyword\">for</span> (;;) {\n    <span class=\"hljs-keyword\">yield</span> curr;\n    [prev, curr] = [curr, prev + curr];\n  }\n}\n\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> n <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">fibonacci</span>()) {\n  <span class=\"hljs-keyword\">if</span> (n &gt; <span class=\"hljs-number\">1000</span>) <span class=\"hljs-keyword\">break</span>;\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(n);\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"350,364"}},{"content":"<pre data-lines=\"365,368\"><code>&#x4ece;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x53ef;&#x89c1;&#xff0c;&#x4f7f;&#x7528;`for...of`&#x8bed;&#x53e5;&#x65f6;&#x4e0d;&#x9700;&#x8981;&#x4f7f;&#x7528;`next`&#x65b9;&#x6cd5;&#x3002;\n\n&#x5229;&#x7528;`for...of`&#x5faa;&#x73af;&#xff0c;&#x53ef;&#x4ee5;&#x5199;&#x51fa;&#x904d;&#x5386;&#x4efb;&#x610f;&#x5bf9;&#x8c61;&#xff08;object&#xff09;&#x7684;&#x65b9;&#x6cd5;&#x3002;&#x539f;&#x751f;&#x7684; JavaScript &#x5bf9;&#x8c61;&#x6ca1;&#x6709;&#x904d;&#x5386;&#x63a5;&#x53e3;&#xff0c;&#x65e0;&#x6cd5;&#x4f7f;&#x7528;`for...of`&#x5faa;&#x73af;&#xff0c;&#x901a;&#x8fc7; Generator &#x51fd;&#x6570;&#x4e3a;&#x5b83;&#x52a0;&#x4e0a;&#x8fd9;&#x4e2a;&#x63a5;&#x53e3;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x7528;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"365,368"}},{"content":"<pre data-lines=\"369,386\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">objectEntries</span>(<span class=\"hljs-params\">obj</span>) {\n  <span class=\"hljs-keyword\">let</span> propKeys = <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">ownKeys</span>(obj);\n\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> propKey <span class=\"hljs-keyword\">of</span> propKeys) {\n    <span class=\"hljs-keyword\">yield</span> [propKey, obj[propKey]];\n  }\n}\n\n<span class=\"hljs-keyword\">let</span> jane = { <span class=\"hljs-attr\">first</span>: <span class=\"hljs-string\">&apos;Jane&apos;</span>, <span class=\"hljs-attr\">last</span>: <span class=\"hljs-string\">&apos;Doe&apos;</span> };\n\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> [key, value] <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">objectEntries</span>(jane)) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">`<span class=\"hljs-subst\">&#x24;{key}</span>: <span class=\"hljs-subst\">&#x24;{value}</span>`</span>);\n}\n<span class=\"hljs-comment\">// first: Jane</span>\n<span class=\"hljs-comment\">// last: Doe</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"369,386"}},{"content":"<pre data-lines=\"387,388\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x5bf9;&#x8c61;`jane`&#x539f;&#x751f;&#x4e0d;&#x5177;&#x5907; Iterator &#x63a5;&#x53e3;&#xff0c;&#x65e0;&#x6cd5;&#x7528;`for...of`&#x904d;&#x5386;&#x3002;&#x8fd9;&#x65f6;&#xff0c;&#x6211;&#x4eec;&#x901a;&#x8fc7; Generator &#x51fd;&#x6570;`objectEntries`&#x4e3a;&#x5b83;&#x52a0;&#x4e0a;&#x904d;&#x5386;&#x5668;&#x63a5;&#x53e3;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x7528;`for...of`&#x904d;&#x5386;&#x4e86;&#x3002;&#x52a0;&#x4e0a;&#x904d;&#x5386;&#x5668;&#x63a5;&#x53e3;&#x7684;&#x53e6;&#x4e00;&#x79cd;&#x5199;&#x6cd5;&#x662f;&#xff0c;&#x5c06; Generator &#x51fd;&#x6570;&#x52a0;&#x5230;&#x5bf9;&#x8c61;&#x7684;`Symbol.iterator`&#x5c5e;&#x6027;&#x4e0a;&#x9762;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"387,388"}},{"content":"<pre data-lines=\"389,408\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">objectEntries</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">let</span> propKeys = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">keys</span>(<span class=\"hljs-variable language_\">this</span>);\n\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> propKey <span class=\"hljs-keyword\">of</span> propKeys) {\n    <span class=\"hljs-keyword\">yield</span> [propKey, <span class=\"hljs-variable language_\">this</span>[propKey]];\n  }\n}\n\n<span class=\"hljs-keyword\">let</span> jane = { <span class=\"hljs-attr\">first</span>: <span class=\"hljs-string\">&apos;Jane&apos;</span>, <span class=\"hljs-attr\">last</span>: <span class=\"hljs-string\">&apos;Doe&apos;</span> };\n\njane[<span class=\"hljs-title class_\">Symbol</span>.<span class=\"hljs-property\">iterator</span>] = objectEntries;\n\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> [key, value] <span class=\"hljs-keyword\">of</span> jane) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">`<span class=\"hljs-subst\">&#x24;{key}</span>: <span class=\"hljs-subst\">&#x24;{value}</span>`</span>);\n}\n<span class=\"hljs-comment\">// first: Jane</span>\n<span class=\"hljs-comment\">// last: Doe</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"389,408"}},{"content":"<pre data-lines=\"409,410\"><code>&#x9664;&#x4e86;`for...of`&#x5faa;&#x73af;&#x4ee5;&#x5916;&#xff0c;&#x6269;&#x5c55;&#x8fd0;&#x7b97;&#x7b26;&#xff08;`...`&#xff09;&#x3001;&#x89e3;&#x6784;&#x8d4b;&#x503c;&#x548c;`Array.from`&#x65b9;&#x6cd5;&#x5185;&#x90e8;&#x8c03;&#x7528;&#x7684;&#xff0c;&#x90fd;&#x662f;&#x904d;&#x5386;&#x5668;&#x63a5;&#x53e3;&#x3002;&#x8fd9;&#x610f;&#x5473;&#x7740;&#xff0c;&#x5b83;&#x4eec;&#x90fd;&#x53ef;&#x4ee5;&#x5c06; Generator &#x51fd;&#x6570;&#x8fd4;&#x56de;&#x7684; Iterator &#x5bf9;&#x8c61;&#xff0c;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"409,410"}},{"content":"<pre data-lines=\"411,437\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">numbers</span> () {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">1</span>\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">2</span>\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">3</span>\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">4</span>\n}\n\n<span class=\"hljs-comment\">// &#x6269;&#x5c55;&#x8fd0;&#x7b97;&#x7b26;</span>\n[...<span class=\"hljs-title function_\">numbers</span>()] <span class=\"hljs-comment\">// [1, 2]</span>\n\n<span class=\"hljs-comment\">// Array.from &#x65b9;&#x6cd5;</span>\n<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">from</span>(<span class=\"hljs-title function_\">numbers</span>()) <span class=\"hljs-comment\">// [1, 2]</span>\n\n<span class=\"hljs-comment\">// &#x89e3;&#x6784;&#x8d4b;&#x503c;</span>\n<span class=\"hljs-keyword\">let</span> [x, y] = <span class=\"hljs-title function_\">numbers</span>();\nx <span class=\"hljs-comment\">// 1</span>\ny <span class=\"hljs-comment\">// 2</span>\n\n<span class=\"hljs-comment\">// for...of &#x5faa;&#x73af;</span>\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> n <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">numbers</span>()) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(n)\n}\n<span class=\"hljs-comment\">// 1</span>\n<span class=\"hljs-comment\">// 2</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"411,437"}}],"payload":{"tag":"h2","lines":"326,327"}},{"content":"Generator.prototype.throw()","children":[{"content":"<pre data-lines=\"440,441\"><code>Generator &#x51fd;&#x6570;&#x8fd4;&#x56de;&#x7684;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#xff0c;&#x90fd;&#x6709;&#x4e00;&#x4e2a;`throw`&#x65b9;&#x6cd5;&#xff0c;&#x53ef;&#x4ee5;&#x5728;&#x51fd;&#x6570;&#x4f53;&#x5916;&#x629b;&#x51fa;&#x9519;&#x8bef;&#xff0c;&#x7136;&#x540e;&#x5728; Generator &#x51fd;&#x6570;&#x4f53;&#x5185;&#x6355;&#x83b7;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"440,441"}},{"content":"<pre data-lines=\"442,463\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> g = <span class=\"hljs-keyword\">function</span>* () {\n  <span class=\"hljs-keyword\">try</span> {\n    <span class=\"hljs-keyword\">yield</span>;\n  } <span class=\"hljs-keyword\">catch</span> (e) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x5185;&#x90e8;&#x6355;&#x83b7;&apos;</span>, e);\n  }\n};\n\n<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-title function_\">g</span>();\ni.<span class=\"hljs-title function_\">next</span>();\n\n<span class=\"hljs-keyword\">try</span> {\n  i.<span class=\"hljs-keyword\">throw</span>(<span class=\"hljs-string\">&apos;a&apos;</span>);\n  i.<span class=\"hljs-keyword\">throw</span>(<span class=\"hljs-string\">&apos;b&apos;</span>);\n} <span class=\"hljs-keyword\">catch</span> (e) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x5916;&#x90e8;&#x6355;&#x83b7;&apos;</span>, e);\n}\n<span class=\"hljs-comment\">// &#x5185;&#x90e8;&#x6355;&#x83b7; a</span>\n<span class=\"hljs-comment\">// &#x5916;&#x90e8;&#x6355;&#x83b7; b</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"442,463"}},{"content":"<pre data-lines=\"464,467\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;`i`&#x8fde;&#x7eed;&#x629b;&#x51fa;&#x4e24;&#x4e2a;&#x9519;&#x8bef;&#x3002;&#x7b2c;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#x88ab; Generator &#x51fd;&#x6570;&#x4f53;&#x5185;&#x7684;`catch`&#x8bed;&#x53e5;&#x6355;&#x83b7;&#x3002;`i`&#x7b2c;&#x4e8c;&#x6b21;&#x629b;&#x51fa;&#x9519;&#x8bef;&#xff0c;&#x7531;&#x4e8e; Generator &#x51fd;&#x6570;&#x5185;&#x90e8;&#x7684;`catch`&#x8bed;&#x53e5;&#x5df2;&#x7ecf;&#x6267;&#x884c;&#x8fc7;&#x4e86;&#xff0c;&#x4e0d;&#x4f1a;&#x518d;&#x6355;&#x6349;&#x5230;&#x8fd9;&#x4e2a;&#x9519;&#x8bef;&#x4e86;&#xff0c;&#x6240;&#x4ee5;&#x8fd9;&#x4e2a;&#x9519;&#x8bef;&#x5c31;&#x88ab;&#x629b;&#x51fa;&#x4e86; Generator &#x51fd;&#x6570;&#x4f53;&#xff0c;&#x88ab;&#x51fd;&#x6570;&#x4f53;&#x5916;&#x7684;`catch`&#x8bed;&#x53e5;&#x6355;&#x83b7;&#x3002;\n\n`throw`&#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x8be5;&#x53c2;&#x6570;&#x4f1a;&#x88ab;`catch`&#x8bed;&#x53e5;&#x63a5;&#x6536;&#xff0c;&#x5efa;&#x8bae;&#x629b;&#x51fa;`Error`&#x5bf9;&#x8c61;&#x7684;&#x5b9e;&#x4f8b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"464,467"}},{"content":"<pre data-lines=\"468,482\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> g = <span class=\"hljs-keyword\">function</span>* () {\n  <span class=\"hljs-keyword\">try</span> {\n    <span class=\"hljs-keyword\">yield</span>;\n  } <span class=\"hljs-keyword\">catch</span> (e) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(e);\n  }\n};\n\n<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-title function_\">g</span>();\ni.<span class=\"hljs-title function_\">next</span>();\ni.<span class=\"hljs-keyword\">throw</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(<span class=\"hljs-string\">&apos;&#x51fa;&#x9519;&#x4e86;&#xff01;&apos;</span>));\n<span class=\"hljs-comment\">// Error: &#x51fa;&#x9519;&#x4e86;&#xff01;(&#x2026;)</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"468,482"}},{"content":"<pre data-lines=\"483,484\"><code>&#x6ce8;&#x610f;&#xff0c;&#x4e0d;&#x8981;&#x6df7;&#x6dc6;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x7684;`throw`&#x65b9;&#x6cd5;&#x548c;&#x5168;&#x5c40;&#x7684;`throw`&#x547d;&#x4ee4;&#x3002;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;&#x9519;&#x8bef;&#xff0c;&#x662f;&#x7528;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x7684;`throw`&#x65b9;&#x6cd5;&#x629b;&#x51fa;&#x7684;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x7528;`throw`&#x547d;&#x4ee4;&#x629b;&#x51fa;&#x7684;&#x3002;&#x540e;&#x8005;&#x53ea;&#x80fd;&#x88ab;&#x51fd;&#x6570;&#x4f53;&#x5916;&#x7684;`catch`&#x8bed;&#x53e5;&#x6355;&#x83b7;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"483,484"}},{"content":"<pre data-lines=\"485,508\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> g = <span class=\"hljs-keyword\">function</span>* () {\n  <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n    <span class=\"hljs-keyword\">try</span> {\n      <span class=\"hljs-keyword\">yield</span>;\n    } <span class=\"hljs-keyword\">catch</span> (e) {\n      <span class=\"hljs-keyword\">if</span> (e != <span class=\"hljs-string\">&apos;a&apos;</span>) <span class=\"hljs-keyword\">throw</span> e;\n      <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x5185;&#x90e8;&#x6355;&#x83b7;&apos;</span>, e);\n    }\n  }\n};\n\n<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-title function_\">g</span>();\ni.<span class=\"hljs-title function_\">next</span>();\n\n<span class=\"hljs-keyword\">try</span> {\n  <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(<span class=\"hljs-string\">&apos;a&apos;</span>);\n  <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(<span class=\"hljs-string\">&apos;b&apos;</span>);\n} <span class=\"hljs-keyword\">catch</span> (e) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x5916;&#x90e8;&#x6355;&#x83b7;&apos;</span>, e);\n}\n<span class=\"hljs-comment\">// &#x5916;&#x90e8;&#x6355;&#x83b7; [Error: a]</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"485,508"}},{"content":"<pre data-lines=\"509,512\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e4b;&#x6240;&#x4ee5;&#x53ea;&#x6355;&#x83b7;&#x4e86;`a`&#xff0c;&#x662f;&#x56e0;&#x4e3a;&#x51fd;&#x6570;&#x4f53;&#x5916;&#x7684;`catch`&#x8bed;&#x53e5;&#x5757;&#xff0c;&#x6355;&#x83b7;&#x4e86;&#x629b;&#x51fa;&#x7684;`a`&#x9519;&#x8bef;&#x4ee5;&#x540e;&#xff0c;&#x5c31;&#x4e0d;&#x4f1a;&#x518d;&#x7ee7;&#x7eed;`try`&#x4ee3;&#x7801;&#x5757;&#x91cc;&#x9762;&#x5269;&#x4f59;&#x7684;&#x8bed;&#x53e5;&#x4e86;&#x3002;\n\n&#x5982;&#x679c; Generator &#x51fd;&#x6570;&#x5185;&#x90e8;&#x6ca1;&#x6709;&#x90e8;&#x7f72;`try...catch`&#x4ee3;&#x7801;&#x5757;&#xff0c;&#x90a3;&#x4e48;`throw`&#x65b9;&#x6cd5;&#x629b;&#x51fa;&#x7684;&#x9519;&#x8bef;&#xff0c;&#x5c06;&#x88ab;&#x5916;&#x90e8;`try...catch`&#x4ee3;&#x7801;&#x5757;&#x6355;&#x83b7;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"509,512"}},{"content":"<pre data-lines=\"513,532\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> g = <span class=\"hljs-keyword\">function</span>* () {\n  <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n    <span class=\"hljs-keyword\">yield</span>;\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x5185;&#x90e8;&#x6355;&#x83b7;&apos;</span>, e);\n  }\n};\n\n<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-title function_\">g</span>();\ni.<span class=\"hljs-title function_\">next</span>();\n\n<span class=\"hljs-keyword\">try</span> {\n  i.<span class=\"hljs-keyword\">throw</span>(<span class=\"hljs-string\">&apos;a&apos;</span>);\n  i.<span class=\"hljs-keyword\">throw</span>(<span class=\"hljs-string\">&apos;b&apos;</span>);\n} <span class=\"hljs-keyword\">catch</span> (e) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x5916;&#x90e8;&#x6355;&#x83b7;&apos;</span>, e);\n}\n<span class=\"hljs-comment\">// &#x5916;&#x90e8;&#x6355;&#x83b7; a</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"513,532"}},{"content":"<pre data-lines=\"533,536\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;Generator &#x51fd;&#x6570;`g`&#x5185;&#x90e8;&#x6ca1;&#x6709;&#x90e8;&#x7f72;`try...catch`&#x4ee3;&#x7801;&#x5757;&#xff0c;&#x6240;&#x4ee5;&#x629b;&#x51fa;&#x7684;&#x9519;&#x8bef;&#x76f4;&#x63a5;&#x88ab;&#x5916;&#x90e8;`catch`&#x4ee3;&#x7801;&#x5757;&#x6355;&#x83b7;&#x3002;\n\n&#x5982;&#x679c; Generator &#x51fd;&#x6570;&#x5185;&#x90e8;&#x548c;&#x5916;&#x90e8;&#xff0c;&#x90fd;&#x6ca1;&#x6709;&#x90e8;&#x7f72;`try...catch`&#x4ee3;&#x7801;&#x5757;&#xff0c;&#x90a3;&#x4e48;&#x7a0b;&#x5e8f;&#x5c06;&#x62a5;&#x9519;&#xff0c;&#x76f4;&#x63a5;&#x4e2d;&#x65ad;&#x6267;&#x884c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"533,536"}},{"content":"<pre data-lines=\"537,549\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> gen = <span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen</span>(<span class=\"hljs-params\"></span>){\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;hello&apos;</span>);\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;world&apos;</span>);\n}\n\n<span class=\"hljs-keyword\">var</span> g = <span class=\"hljs-title function_\">gen</span>();\ng.<span class=\"hljs-title function_\">next</span>();\ng.<span class=\"hljs-keyword\">throw</span>();\n<span class=\"hljs-comment\">// hello</span>\n<span class=\"hljs-comment\">// Uncaught undefined</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"537,549"}},{"content":"<pre data-lines=\"550,553\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`g.throw`&#x629b;&#x51fa;&#x9519;&#x8bef;&#x4ee5;&#x540e;&#xff0c;&#x6ca1;&#x6709;&#x4efb;&#x4f55;`try...catch`&#x4ee3;&#x7801;&#x5757;&#x53ef;&#x4ee5;&#x6355;&#x83b7;&#x8fd9;&#x4e2a;&#x9519;&#x8bef;&#xff0c;&#x5bfc;&#x81f4;&#x7a0b;&#x5e8f;&#x62a5;&#x9519;&#xff0c;&#x4e2d;&#x65ad;&#x6267;&#x884c;&#x3002;\n\n`throw`&#x65b9;&#x6cd5;&#x629b;&#x51fa;&#x7684;&#x9519;&#x8bef;&#x8981;&#x88ab;&#x5185;&#x90e8;&#x6355;&#x83b7;&#xff0c;&#x524d;&#x63d0;&#x662f;&#x5fc5;&#x987b;&#x81f3;&#x5c11;&#x6267;&#x884c;&#x8fc7;&#x4e00;&#x6b21;`next`&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"550,553"}},{"content":"<pre data-lines=\"554,567\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">try</span> {\n    <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">1</span>;\n  } <span class=\"hljs-keyword\">catch</span> (e) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x5185;&#x90e8;&#x6355;&#x83b7;&apos;</span>);\n  }\n}\n\n<span class=\"hljs-keyword\">var</span> g = <span class=\"hljs-title function_\">gen</span>();\ng.<span class=\"hljs-keyword\">throw</span>(<span class=\"hljs-number\">1</span>);\n<span class=\"hljs-comment\">// Uncaught 1</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"554,567"}},{"content":"<pre data-lines=\"568,571\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`g.throw(1)`&#x6267;&#x884c;&#x65f6;&#xff0c;`next`&#x65b9;&#x6cd5;&#x4e00;&#x6b21;&#x90fd;&#x6ca1;&#x6709;&#x6267;&#x884c;&#x8fc7;&#x3002;&#x8fd9;&#x65f6;&#xff0c;&#x629b;&#x51fa;&#x7684;&#x9519;&#x8bef;&#x4e0d;&#x4f1a;&#x88ab;&#x5185;&#x90e8;&#x6355;&#x83b7;&#xff0c;&#x800c;&#x662f;&#x76f4;&#x63a5;&#x5728;&#x5916;&#x90e8;&#x629b;&#x51fa;&#xff0c;&#x5bfc;&#x81f4;&#x7a0b;&#x5e8f;&#x51fa;&#x9519;&#x3002;&#x8fd9;&#x79cd;&#x884c;&#x4e3a;&#x5176;&#x5b9e;&#x5f88;&#x597d;&#x7406;&#x89e3;&#xff0c;&#x56e0;&#x4e3a;&#x7b2c;&#x4e00;&#x6b21;&#x6267;&#x884c;`next`&#x65b9;&#x6cd5;&#xff0c;&#x7b49;&#x540c;&#x4e8e;&#x542f;&#x52a8;&#x6267;&#x884c; Generator &#x51fd;&#x6570;&#x7684;&#x5185;&#x90e8;&#x4ee3;&#x7801;&#xff0c;&#x5426;&#x5219; Generator &#x51fd;&#x6570;&#x8fd8;&#x6ca1;&#x6709;&#x5f00;&#x59cb;&#x6267;&#x884c;&#xff0c;&#x8fd9;&#x65f6;`throw`&#x65b9;&#x6cd5;&#x629b;&#x9519;&#x53ea;&#x53ef;&#x80fd;&#x629b;&#x51fa;&#x5728;&#x51fd;&#x6570;&#x5916;&#x90e8;&#x3002;\n\n`throw`&#x65b9;&#x6cd5;&#x88ab;&#x6355;&#x83b7;&#x4ee5;&#x540e;&#xff0c;&#x4f1a;&#x9644;&#x5e26;&#x6267;&#x884c;&#x4e0b;&#x4e00;&#x6761;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x4f1a;&#x9644;&#x5e26;&#x6267;&#x884c;&#x4e00;&#x6b21;`next`&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"568,571"}},{"content":"<pre data-lines=\"572,588\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> gen = <span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen</span>(<span class=\"hljs-params\"></span>){\n  <span class=\"hljs-keyword\">try</span> {\n    <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;a&apos;</span>);\n  } <span class=\"hljs-keyword\">catch</span> (e) {\n    <span class=\"hljs-comment\">// ...</span>\n  }\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;b&apos;</span>);\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;c&apos;</span>);\n}\n\n<span class=\"hljs-keyword\">var</span> g = <span class=\"hljs-title function_\">gen</span>();\ng.<span class=\"hljs-title function_\">next</span>() <span class=\"hljs-comment\">// a</span>\ng.<span class=\"hljs-keyword\">throw</span>() <span class=\"hljs-comment\">// b</span>\ng.<span class=\"hljs-title function_\">next</span>() <span class=\"hljs-comment\">// c</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"572,588"}},{"content":"<pre data-lines=\"589,592\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`g.throw`&#x65b9;&#x6cd5;&#x88ab;&#x6355;&#x83b7;&#x4ee5;&#x540e;&#xff0c;&#x81ea;&#x52a8;&#x6267;&#x884c;&#x4e86;&#x4e00;&#x6b21;`next`&#x65b9;&#x6cd5;&#xff0c;&#x6240;&#x4ee5;&#x4f1a;&#x6253;&#x5370;`b`&#x3002;&#x53e6;&#x5916;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#xff0c;&#x53ea;&#x8981; Generator &#x51fd;&#x6570;&#x5185;&#x90e8;&#x90e8;&#x7f72;&#x4e86;`try...catch`&#x4ee3;&#x7801;&#x5757;&#xff0c;&#x90a3;&#x4e48;&#x904d;&#x5386;&#x5668;&#x7684;`throw`&#x65b9;&#x6cd5;&#x629b;&#x51fa;&#x7684;&#x9519;&#x8bef;&#xff0c;&#x4e0d;&#x5f71;&#x54cd;&#x4e0b;&#x4e00;&#x6b21;&#x904d;&#x5386;&#x3002;\n\n&#x53e6;&#x5916;&#xff0c;`throw`&#x547d;&#x4ee4;&#x4e0e;`g.throw`&#x65b9;&#x6cd5;&#x662f;&#x65e0;&#x5173;&#x7684;&#xff0c;&#x4e24;&#x8005;&#x4e92;&#x4e0d;&#x5f71;&#x54cd;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"589,592"}},{"content":"<pre data-lines=\"593,610\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> gen = <span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen</span>(<span class=\"hljs-params\"></span>){\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;hello&apos;</span>);\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;world&apos;</span>);\n}\n\n<span class=\"hljs-keyword\">var</span> g = <span class=\"hljs-title function_\">gen</span>();\ng.<span class=\"hljs-title function_\">next</span>();\n\n<span class=\"hljs-keyword\">try</span> {\n  <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>();\n} <span class=\"hljs-keyword\">catch</span> (e) {\n  g.<span class=\"hljs-title function_\">next</span>();\n}\n<span class=\"hljs-comment\">// hello</span>\n<span class=\"hljs-comment\">// world</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"593,610"}},{"content":"<pre data-lines=\"611,616\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`throw`&#x547d;&#x4ee4;&#x629b;&#x51fa;&#x7684;&#x9519;&#x8bef;&#x4e0d;&#x4f1a;&#x5f71;&#x54cd;&#x5230;&#x904d;&#x5386;&#x5668;&#x7684;&#x72b6;&#x6001;&#xff0c;&#x6240;&#x4ee5;&#x4e24;&#x6b21;&#x6267;&#x884c;`next`&#x65b9;&#x6cd5;&#xff0c;&#x90fd;&#x8fdb;&#x884c;&#x4e86;&#x6b63;&#x786e;&#x7684;&#x64cd;&#x4f5c;&#x3002;\n\n&#x8fd9;&#x79cd;&#x51fd;&#x6570;&#x4f53;&#x5185;&#x6355;&#x83b7;&#x9519;&#x8bef;&#x7684;&#x673a;&#x5236;&#xff0c;&#x5927;&#x5927;&#x65b9;&#x4fbf;&#x4e86;&#x5bf9;&#x9519;&#x8bef;&#x7684;&#x5904;&#x7406;&#x3002;&#x591a;&#x4e2a;`yield`&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x53ef;&#x4ee5;&#x53ea;&#x7528;&#x4e00;&#x4e2a;`try...catch`&#x4ee3;&#x7801;&#x5757;&#x6765;&#x6355;&#x83b7;&#x9519;&#x8bef;&#x3002;&#x5982;&#x679c;&#x4f7f;&#x7528;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x7684;&#x5199;&#x6cd5;&#xff0c;&#x60f3;&#x8981;&#x6355;&#x83b7;&#x591a;&#x4e2a;&#x9519;&#x8bef;&#xff0c;&#x5c31;&#x4e0d;&#x5f97;&#x4e0d;&#x4e3a;&#x6bcf;&#x4e2a;&#x51fd;&#x6570;&#x5185;&#x90e8;&#x5199;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#x5904;&#x7406;&#x8bed;&#x53e5;&#xff0c;&#x73b0;&#x5728;&#x53ea;&#x5728; Generator &#x51fd;&#x6570;&#x5185;&#x90e8;&#x5199;&#x4e00;&#x6b21;`catch`&#x8bed;&#x53e5;&#x5c31;&#x53ef;&#x4ee5;&#x4e86;&#x3002;\n\nGenerator &#x51fd;&#x6570;&#x4f53;&#x5916;&#x629b;&#x51fa;&#x7684;&#x9519;&#x8bef;&#xff0c;&#x53ef;&#x4ee5;&#x5728;&#x51fd;&#x6570;&#x4f53;&#x5185;&#x6355;&#x83b7;&#xff1b;&#x53cd;&#x8fc7;&#x6765;&#xff0c;Generator &#x51fd;&#x6570;&#x4f53;&#x5185;&#x629b;&#x51fa;&#x7684;&#x9519;&#x8bef;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x88ab;&#x51fd;&#x6570;&#x4f53;&#x5916;&#x7684;`catch`&#x6355;&#x83b7;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"611,616"}},{"content":"<pre data-lines=\"617,634\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">var</span> x = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">3</span>;\n  <span class=\"hljs-keyword\">var</span> y = x.<span class=\"hljs-title function_\">toUpperCase</span>();\n  <span class=\"hljs-keyword\">yield</span> y;\n}\n\n<span class=\"hljs-keyword\">var</span> it = <span class=\"hljs-title function_\">foo</span>();\n\nit.<span class=\"hljs-title function_\">next</span>(); <span class=\"hljs-comment\">// { value:3, done:false }</span>\n\n<span class=\"hljs-keyword\">try</span> {\n  it.<span class=\"hljs-title function_\">next</span>(<span class=\"hljs-number\">42</span>);\n} <span class=\"hljs-keyword\">catch</span> (err) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(err);\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"617,634"}},{"content":"<pre data-lines=\"635,638\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x7b2c;&#x4e8c;&#x4e2a;`next`&#x65b9;&#x6cd5;&#x5411;&#x51fd;&#x6570;&#x4f53;&#x5185;&#x4f20;&#x5165;&#x4e00;&#x4e2a;&#x53c2;&#x6570; 42&#xff0c;&#x6570;&#x503c;&#x662f;&#x6ca1;&#x6709;`toUpperCase`&#x65b9;&#x6cd5;&#x7684;&#xff0c;&#x6240;&#x4ee5;&#x4f1a;&#x629b;&#x51fa;&#x4e00;&#x4e2a; TypeError &#x9519;&#x8bef;&#xff0c;&#x88ab;&#x51fd;&#x6570;&#x4f53;&#x5916;&#x7684;`catch`&#x6355;&#x83b7;&#x3002;\n\n&#x4e00;&#x65e6; Generator &#x6267;&#x884c;&#x8fc7;&#x7a0b;&#x4e2d;&#x629b;&#x51fa;&#x9519;&#x8bef;&#xff0c;&#x4e14;&#x6ca1;&#x6709;&#x88ab;&#x5185;&#x90e8;&#x6355;&#x83b7;&#xff0c;&#x5c31;&#x4e0d;&#x4f1a;&#x518d;&#x6267;&#x884c;&#x4e0b;&#x53bb;&#x4e86;&#x3002;&#x5982;&#x679c;&#x6b64;&#x540e;&#x8fd8;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#xff0c;&#x5c06;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;`value`&#x5c5e;&#x6027;&#x7b49;&#x4e8e;`undefined`&#x3001;`done`&#x5c5e;&#x6027;&#x7b49;&#x4e8e;`true`&#x7684;&#x5bf9;&#x8c61;&#xff0c;&#x5373; JavaScript &#x5f15;&#x64ce;&#x8ba4;&#x4e3a;&#x8fd9;&#x4e2a; Generator &#x5df2;&#x7ecf;&#x8fd0;&#x884c;&#x7ed3;&#x675f;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"635,638"}},{"content":"<pre data-lines=\"639,680\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">g</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;throwing an exception&apos;</span>);\n  <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(<span class=\"hljs-string\">&apos;generator broke!&apos;</span>);\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">2</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">3</span>;\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">log</span>(<span class=\"hljs-params\">generator</span>) {\n  <span class=\"hljs-keyword\">var</span> v;\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;starting generator&apos;</span>);\n  <span class=\"hljs-keyword\">try</span> {\n    v = generator.<span class=\"hljs-title function_\">next</span>();\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x7b2c;&#x4e00;&#x6b21;&#x8fd0;&#x884c;next&#x65b9;&#x6cd5;&apos;</span>, v);\n  } <span class=\"hljs-keyword\">catch</span> (err) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x6355;&#x6349;&#x9519;&#x8bef;&apos;</span>, v);\n  }\n  <span class=\"hljs-keyword\">try</span> {\n    v = generator.<span class=\"hljs-title function_\">next</span>();\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x7b2c;&#x4e8c;&#x6b21;&#x8fd0;&#x884c;next&#x65b9;&#x6cd5;&apos;</span>, v);\n  } <span class=\"hljs-keyword\">catch</span> (err) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x6355;&#x6349;&#x9519;&#x8bef;&apos;</span>, v);\n  }\n  <span class=\"hljs-keyword\">try</span> {\n    v = generator.<span class=\"hljs-title function_\">next</span>();\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x7b2c;&#x4e09;&#x6b21;&#x8fd0;&#x884c;next&#x65b9;&#x6cd5;&apos;</span>, v);\n  } <span class=\"hljs-keyword\">catch</span> (err) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x6355;&#x6349;&#x9519;&#x8bef;&apos;</span>, v);\n  }\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;caller done&apos;</span>);\n}\n\n<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title function_\">g</span>());\n<span class=\"hljs-comment\">// starting generator</span>\n<span class=\"hljs-comment\">// &#x7b2c;&#x4e00;&#x6b21;&#x8fd0;&#x884c;next&#x65b9;&#x6cd5; { value: 1, done: false }</span>\n<span class=\"hljs-comment\">// throwing an exception</span>\n<span class=\"hljs-comment\">// &#x6355;&#x6349;&#x9519;&#x8bef; { value: 1, done: false }</span>\n<span class=\"hljs-comment\">// &#x7b2c;&#x4e09;&#x6b21;&#x8fd0;&#x884c;next&#x65b9;&#x6cd5; { value: undefined, done: true }</span>\n<span class=\"hljs-comment\">// caller done</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"639,680"}},{"content":"<pre data-lines=\"681,682\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e00;&#x5171;&#x4e09;&#x6b21;&#x8fd0;&#x884c;`next`&#x65b9;&#x6cd5;&#xff0c;&#x7b2c;&#x4e8c;&#x6b21;&#x8fd0;&#x884c;&#x7684;&#x65f6;&#x5019;&#x4f1a;&#x629b;&#x51fa;&#x9519;&#x8bef;&#xff0c;&#x7136;&#x540e;&#x7b2c;&#x4e09;&#x6b21;&#x8fd0;&#x884c;&#x7684;&#x65f6;&#x5019;&#xff0c;Generator &#x51fd;&#x6570;&#x5c31;&#x5df2;&#x7ecf;&#x7ed3;&#x675f;&#x4e86;&#xff0c;&#x4e0d;&#x518d;&#x6267;&#x884c;&#x4e0b;&#x53bb;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"681,682"}}],"payload":{"tag":"h2","lines":"438,439"}},{"content":"Generator.prototype.return()","children":[{"content":"<pre data-lines=\"685,686\"><code>Generator &#x51fd;&#x6570;&#x8fd4;&#x56de;&#x7684;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#xff0c;&#x8fd8;&#x6709;&#x4e00;&#x4e2a;`return`&#x65b9;&#x6cd5;&#xff0c;&#x53ef;&#x4ee5;&#x8fd4;&#x56de;&#x7ed9;&#x5b9a;&#x7684;&#x503c;&#xff0c;&#x5e76;&#x4e14;&#x7ec8;&#x7ed3;&#x904d;&#x5386; Generator &#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"685,686"}},{"content":"<pre data-lines=\"687,700\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">2</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">3</span>;\n}\n\n<span class=\"hljs-keyword\">var</span> g = <span class=\"hljs-title function_\">gen</span>();\n\ng.<span class=\"hljs-title function_\">next</span>()        <span class=\"hljs-comment\">// { value: 1, done: false }</span>\ng.<span class=\"hljs-keyword\">return</span>(<span class=\"hljs-string\">&apos;foo&apos;</span>) <span class=\"hljs-comment\">// { value: &quot;foo&quot;, done: true }</span>\ng.<span class=\"hljs-title function_\">next</span>()        <span class=\"hljs-comment\">// { value: undefined, done: true }</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"687,700"}},{"content":"<pre data-lines=\"701,704\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;`g`&#x8c03;&#x7528;`return`&#x65b9;&#x6cd5;&#x540e;&#xff0c;&#x8fd4;&#x56de;&#x503c;&#x7684;`value`&#x5c5e;&#x6027;&#x5c31;&#x662f;`return`&#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;`foo`&#x3002;&#x5e76;&#x4e14;&#xff0c;Generator &#x51fd;&#x6570;&#x7684;&#x904d;&#x5386;&#x5c31;&#x7ec8;&#x6b62;&#x4e86;&#xff0c;&#x8fd4;&#x56de;&#x503c;&#x7684;`done`&#x5c5e;&#x6027;&#x4e3a;`true`&#xff0c;&#x4ee5;&#x540e;&#x518d;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#xff0c;`done`&#x5c5e;&#x6027;&#x603b;&#x662f;&#x8fd4;&#x56de;`true`&#x3002;\n\n&#x5982;&#x679c;`return`&#x65b9;&#x6cd5;&#x8c03;&#x7528;&#x65f6;&#xff0c;&#x4e0d;&#x63d0;&#x4f9b;&#x53c2;&#x6570;&#xff0c;&#x5219;&#x8fd4;&#x56de;&#x503c;&#x7684;`value`&#x5c5e;&#x6027;&#x4e3a;`undefined`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"701,704"}},{"content":"<pre data-lines=\"705,717\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">2</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">3</span>;\n}\n\n<span class=\"hljs-keyword\">var</span> g = <span class=\"hljs-title function_\">gen</span>();\n\ng.<span class=\"hljs-title function_\">next</span>()        <span class=\"hljs-comment\">// { value: 1, done: false }</span>\ng.<span class=\"hljs-keyword\">return</span>() <span class=\"hljs-comment\">// { value: undefined, done: true }</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"705,717"}},{"content":"<pre data-lines=\"718,719\"><code>&#x5982;&#x679c; Generator &#x51fd;&#x6570;&#x5185;&#x90e8;&#x6709;`try...finally`&#x4ee3;&#x7801;&#x5757;&#xff0c;&#x4e14;&#x6b63;&#x5728;&#x6267;&#x884c;`try`&#x4ee3;&#x7801;&#x5757;&#xff0c;&#x90a3;&#x4e48;`return`&#x65b9;&#x6cd5;&#x4f1a;&#x5bfc;&#x81f4;&#x7acb;&#x523b;&#x8fdb;&#x5165;`finally`&#x4ee3;&#x7801;&#x5757;&#xff0c;&#x6267;&#x884c;&#x5b8c;&#x4ee5;&#x540e;&#xff0c;&#x6574;&#x4e2a;&#x51fd;&#x6570;&#x624d;&#x4f1a;&#x7ed3;&#x675f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"718,719"}},{"content":"<pre data-lines=\"720,739\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">numbers</span> () {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-keyword\">try</span> {\n    <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">2</span>;\n    <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">3</span>;\n  } <span class=\"hljs-keyword\">finally</span> {\n    <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">4</span>;\n    <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">5</span>;\n  }\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">6</span>;\n}\n<span class=\"hljs-keyword\">var</span> g = <span class=\"hljs-title function_\">numbers</span>();\ng.<span class=\"hljs-title function_\">next</span>() <span class=\"hljs-comment\">// { value: 1, done: false }</span>\ng.<span class=\"hljs-title function_\">next</span>() <span class=\"hljs-comment\">// { value: 2, done: false }</span>\ng.<span class=\"hljs-keyword\">return</span>(<span class=\"hljs-number\">7</span>) <span class=\"hljs-comment\">// { value: 4, done: false }</span>\ng.<span class=\"hljs-title function_\">next</span>() <span class=\"hljs-comment\">// { value: 5, done: false }</span>\ng.<span class=\"hljs-title function_\">next</span>() <span class=\"hljs-comment\">// { value: 7, done: true }</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"720,739"}},{"content":"<pre data-lines=\"740,741\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x8c03;&#x7528;`return()`&#x65b9;&#x6cd5;&#x540e;&#xff0c;&#x5c31;&#x5f00;&#x59cb;&#x6267;&#x884c;`finally`&#x4ee3;&#x7801;&#x5757;&#xff0c;&#x4e0d;&#x6267;&#x884c;`try`&#x91cc;&#x9762;&#x5269;&#x4e0b;&#x7684;&#x4ee3;&#x7801;&#x4e86;&#xff0c;&#x7136;&#x540e;&#x7b49;&#x5230;`finally`&#x4ee3;&#x7801;&#x5757;&#x6267;&#x884c;&#x5b8c;&#xff0c;&#x518d;&#x8fd4;&#x56de;`return()`&#x65b9;&#x6cd5;&#x6307;&#x5b9a;&#x7684;&#x8fd4;&#x56de;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"740,741"}}],"payload":{"tag":"h2","lines":"683,684"}},{"content":"next()&#x3001;throw()&#x3001;return() &#x7684;&#x5171;&#x540c;&#x70b9;","children":[{"content":"<pre data-lines=\"744,747\"><code>`next()`&#x3001;`throw()`&#x3001;`return()`&#x8fd9;&#x4e09;&#x4e2a;&#x65b9;&#x6cd5;&#x672c;&#x8d28;&#x4e0a;&#x662f;&#x540c;&#x4e00;&#x4ef6;&#x4e8b;&#xff0c;&#x53ef;&#x4ee5;&#x653e;&#x5728;&#x4e00;&#x8d77;&#x7406;&#x89e3;&#x3002;&#x5b83;&#x4eec;&#x7684;&#x4f5c;&#x7528;&#x90fd;&#x662f;&#x8ba9; Generator &#x51fd;&#x6570;&#x6062;&#x590d;&#x6267;&#x884c;&#xff0c;&#x5e76;&#x4e14;&#x4f7f;&#x7528;&#x4e0d;&#x540c;&#x7684;&#x8bed;&#x53e5;&#x66ff;&#x6362;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x3002;\n\n`next()`&#x662f;&#x5c06;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x66ff;&#x6362;&#x6210;&#x4e00;&#x4e2a;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"744,747"}},{"content":"<pre data-lines=\"748,761\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">const</span> g = <span class=\"hljs-keyword\">function</span>* (x, y) {\n  <span class=\"hljs-keyword\">let</span> result = <span class=\"hljs-keyword\">yield</span> x + y;\n  <span class=\"hljs-keyword\">return</span> result;\n};\n\n<span class=\"hljs-keyword\">const</span> gen = <span class=\"hljs-title function_\">g</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>);\ngen.<span class=\"hljs-title function_\">next</span>(); <span class=\"hljs-comment\">// Object {value: 3, done: false}</span>\n\ngen.<span class=\"hljs-title function_\">next</span>(<span class=\"hljs-number\">1</span>); <span class=\"hljs-comment\">// Object {value: 1, done: true}</span>\n<span class=\"hljs-comment\">// &#x76f8;&#x5f53;&#x4e8e;&#x5c06; let result = yield x + y</span>\n<span class=\"hljs-comment\">// &#x66ff;&#x6362;&#x6210; let result = 1;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"748,761"}},{"content":"<pre data-lines=\"762,765\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x7b2c;&#x4e8c;&#x4e2a;`next(1)`&#x65b9;&#x6cd5;&#x5c31;&#x76f8;&#x5f53;&#x4e8e;&#x5c06;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x66ff;&#x6362;&#x6210;&#x4e00;&#x4e2a;&#x503c;`1`&#x3002;&#x5982;&#x679c;`next`&#x65b9;&#x6cd5;&#x6ca1;&#x6709;&#x53c2;&#x6570;&#xff0c;&#x5c31;&#x76f8;&#x5f53;&#x4e8e;&#x66ff;&#x6362;&#x6210;`undefined`&#x3002;\n\n`throw()`&#x662f;&#x5c06;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x66ff;&#x6362;&#x6210;&#x4e00;&#x4e2a;`throw`&#x8bed;&#x53e5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"762,765"}},{"content":"<pre data-lines=\"766,771\"><code class=\"language-javascript\">gen.<span class=\"hljs-keyword\">throw</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(<span class=\"hljs-string\">&apos;&#x51fa;&#x9519;&#x4e86;&apos;</span>)); <span class=\"hljs-comment\">// Uncaught Error: &#x51fa;&#x9519;&#x4e86;</span>\n<span class=\"hljs-comment\">// &#x76f8;&#x5f53;&#x4e8e;&#x5c06; let result = yield x + y</span>\n<span class=\"hljs-comment\">// &#x66ff;&#x6362;&#x6210; let result = throw(new Error(&apos;&#x51fa;&#x9519;&#x4e86;&apos;));</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"766,771"}},{"content":"<pre data-lines=\"774,779\"><code class=\"language-javascript\">gen.<span class=\"hljs-keyword\">return</span>(<span class=\"hljs-number\">2</span>); <span class=\"hljs-comment\">// Object {value: 2, done: true}</span>\n<span class=\"hljs-comment\">// &#x76f8;&#x5f53;&#x4e8e;&#x5c06; let result = yield x + y</span>\n<span class=\"hljs-comment\">// &#x66ff;&#x6362;&#x6210; let result = return 2;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"774,779"}}],"payload":{"tag":"h2","lines":"742,743"}},{"content":"yield* &#x8868;&#x8fbe;&#x5f0f;","children":[{"content":"<pre data-lines=\"782,783\"><code>&#x5982;&#x679c;&#x5728; Generator &#x51fd;&#x6570;&#x5185;&#x90e8;&#xff0c;&#x8c03;&#x7528;&#x53e6;&#x4e00;&#x4e2a; Generator &#x51fd;&#x6570;&#x3002;&#x9700;&#x8981;&#x5728;&#x524d;&#x8005;&#x7684;&#x51fd;&#x6570;&#x4f53;&#x5185;&#x90e8;&#xff0c;&#x81ea;&#x5df1;&#x624b;&#x52a8;&#x5b8c;&#x6210;&#x904d;&#x5386;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"782,783"}},{"content":"<pre data-lines=\"784,807\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;a&apos;</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;b&apos;</span>;\n}\n\n<span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">bar</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;x&apos;</span>;\n  <span class=\"hljs-comment\">// &#x624b;&#x52a8;&#x904d;&#x5386; foo()</span>\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> i <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">foo</span>()) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(i);\n  }\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;y&apos;</span>;\n}\n\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> v <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">bar</span>()){\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(v);\n}\n<span class=\"hljs-comment\">// x</span>\n<span class=\"hljs-comment\">// a</span>\n<span class=\"hljs-comment\">// b</span>\n<span class=\"hljs-comment\">// y</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"784,807"}},{"content":"<pre data-lines=\"808,811\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`foo`&#x548c;`bar`&#x90fd;&#x662f; Generator &#x51fd;&#x6570;&#xff0c;&#x5728;`bar`&#x91cc;&#x9762;&#x8c03;&#x7528;`foo`&#xff0c;&#x5c31;&#x9700;&#x8981;&#x624b;&#x52a8;&#x904d;&#x5386;`foo`&#x3002;&#x5982;&#x679c;&#x6709;&#x591a;&#x4e2a; Generator &#x51fd;&#x6570;&#x5d4c;&#x5957;&#xff0c;&#x5199;&#x8d77;&#x6765;&#x5c31;&#x975e;&#x5e38;&#x9ebb;&#x70e6;&#x3002;\n\nES6 &#x63d0;&#x4f9b;&#x4e86;`yield*`&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x4f5c;&#x4e3a;&#x89e3;&#x51b3;&#x529e;&#x6cd5;&#xff0c;&#x7528;&#x6765;&#x5728;&#x4e00;&#x4e2a; Generator &#x51fd;&#x6570;&#x91cc;&#x9762;&#x6267;&#x884c;&#x53e6;&#x4e00;&#x4e2a; Generator &#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"808,811"}},{"content":"<pre data-lines=\"812,844\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">bar</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;x&apos;</span>;\n  <span class=\"hljs-keyword\">yield</span>* <span class=\"hljs-title function_\">foo</span>();\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;y&apos;</span>;\n}\n\n<span class=\"hljs-comment\">// &#x7b49;&#x540c;&#x4e8e;</span>\n<span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">bar</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;x&apos;</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;a&apos;</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;b&apos;</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;y&apos;</span>;\n}\n\n<span class=\"hljs-comment\">// &#x7b49;&#x540c;&#x4e8e;</span>\n<span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">bar</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;x&apos;</span>;\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> v <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">foo</span>()) {\n    <span class=\"hljs-keyword\">yield</span> v;\n  }\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;y&apos;</span>;\n}\n\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> v <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">bar</span>()){\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(v);\n}\n<span class=\"hljs-comment\">// &quot;x&quot;</span>\n<span class=\"hljs-comment\">// &quot;a&quot;</span>\n<span class=\"hljs-comment\">// &quot;b&quot;</span>\n<span class=\"hljs-comment\">// &quot;y&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"812,844"}},{"content":"<pre data-lines=\"845,846\"><code>&#x518d;&#x6765;&#x770b;&#x4e00;&#x4e2a;&#x5bf9;&#x6bd4;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"845,846"}},{"content":"<pre data-lines=\"847,874\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">inner</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;hello!&apos;</span>;\n}\n\n<span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">outer1</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;open&apos;</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">inner</span>();\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;close&apos;</span>;\n}\n\n<span class=\"hljs-keyword\">var</span> gen = <span class=\"hljs-title function_\">outer1</span>()\ngen.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-property\">value</span> <span class=\"hljs-comment\">// &quot;open&quot;</span>\ngen.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-property\">value</span> <span class=\"hljs-comment\">// &#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;</span>\ngen.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-property\">value</span> <span class=\"hljs-comment\">// &quot;close&quot;</span>\n\n<span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">outer2</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;open&apos;</span>\n  <span class=\"hljs-keyword\">yield</span>* <span class=\"hljs-title function_\">inner</span>()\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;close&apos;</span>\n}\n\n<span class=\"hljs-keyword\">var</span> gen = <span class=\"hljs-title function_\">outer2</span>()\ngen.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-property\">value</span> <span class=\"hljs-comment\">// &quot;open&quot;</span>\ngen.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-property\">value</span> <span class=\"hljs-comment\">// &quot;hello!&quot;</span>\ngen.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-property\">value</span> <span class=\"hljs-comment\">// &quot;close&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"847,874"}},{"content":"<pre data-lines=\"875,878\"><code>&#x4e0a;&#x9762;&#x4f8b;&#x5b50;&#x4e2d;&#xff0c;`outer2`&#x4f7f;&#x7528;&#x4e86;`yield*`&#xff0c;`outer1`&#x6ca1;&#x4f7f;&#x7528;&#x3002;&#x7ed3;&#x679c;&#x5c31;&#x662f;&#xff0c;`outer1`&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#xff0c;`outer2`&#x8fd4;&#x56de;&#x8be5;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x7684;&#x5185;&#x90e8;&#x503c;&#x3002;\n\n&#x4ece;&#x8bed;&#x6cd5;&#x89d2;&#x5ea6;&#x770b;&#xff0c;&#x5982;&#x679c;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x540e;&#x9762;&#x8ddf;&#x7684;&#x662f;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#xff0c;&#x9700;&#x8981;&#x5728;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x540e;&#x9762;&#x52a0;&#x4e0a;&#x661f;&#x53f7;&#xff0c;&#x8868;&#x660e;&#x5b83;&#x8fd4;&#x56de;&#x7684;&#x662f;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x3002;&#x8fd9;&#x88ab;&#x79f0;&#x4e3a;`yield*`&#x8868;&#x8fbe;&#x5f0f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"875,878"}},{"content":"<pre data-lines=\"879,899\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">let</span> delegatedIterator = (<span class=\"hljs-keyword\">function</span>* () {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;Hello!&apos;</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;Bye!&apos;</span>;\n}());\n\n<span class=\"hljs-keyword\">let</span> delegatingIterator = (<span class=\"hljs-keyword\">function</span>* () {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;Greetings!&apos;</span>;\n  <span class=\"hljs-keyword\">yield</span>* delegatedIterator;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;Ok, bye.&apos;</span>;\n}());\n\n<span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> value <span class=\"hljs-keyword\">of</span> delegatingIterator) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(value);\n}\n<span class=\"hljs-comment\">// &quot;Greetings!</span>\n<span class=\"hljs-comment\">// &quot;Hello!&quot;</span>\n<span class=\"hljs-comment\">// &quot;Bye!&quot;</span>\n<span class=\"hljs-comment\">// &quot;Ok, bye.&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"879,899"}},{"content":"<pre data-lines=\"900,903\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`delegatingIterator`&#x662f;&#x4ee3;&#x7406;&#x8005;&#xff0c;`delegatedIterator`&#x662f;&#x88ab;&#x4ee3;&#x7406;&#x8005;&#x3002;&#x7531;&#x4e8e;`yield* delegatedIterator`&#x8bed;&#x53e5;&#x5f97;&#x5230;&#x7684;&#x503c;&#xff0c;&#x662f;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#xff0c;&#x6240;&#x4ee5;&#x8981;&#x7528;&#x661f;&#x53f7;&#x8868;&#x793a;&#x3002;&#x8fd0;&#x884c;&#x7ed3;&#x679c;&#x5c31;&#x662f;&#x4f7f;&#x7528;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#xff0c;&#x904d;&#x5386;&#x4e86;&#x591a;&#x4e2a; Generator &#x51fd;&#x6570;&#xff0c;&#x6709;&#x9012;&#x5f52;&#x7684;&#x6548;&#x679c;&#x3002;\n\n`yield*`&#x540e;&#x9762;&#x7684; Generator &#x51fd;&#x6570;&#xff08;&#x6ca1;&#x6709;`return`&#x8bed;&#x53e5;&#x65f6;&#xff09;&#xff0c;&#x7b49;&#x540c;&#x4e8e;&#x5728; Generator &#x51fd;&#x6570;&#x5185;&#x90e8;&#xff0c;&#x90e8;&#x7f72;&#x4e00;&#x4e2a;`for...of`&#x5faa;&#x73af;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"900,903"}},{"content":"<pre data-lines=\"904,921\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">concat</span>(<span class=\"hljs-params\">iter1, iter2</span>) {\n  <span class=\"hljs-keyword\">yield</span>* iter1;\n  <span class=\"hljs-keyword\">yield</span>* iter2;\n}\n\n<span class=\"hljs-comment\">// &#x7b49;&#x540c;&#x4e8e;</span>\n\n<span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">concat</span>(<span class=\"hljs-params\">iter1, iter2</span>) {\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> value <span class=\"hljs-keyword\">of</span> iter1) {\n    <span class=\"hljs-keyword\">yield</span> value;\n  }\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> value <span class=\"hljs-keyword\">of</span> iter2) {\n    <span class=\"hljs-keyword\">yield</span> value;\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"904,921"}},{"content":"<pre data-lines=\"922,925\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x8bf4;&#x660e;&#xff0c;`yield*`&#x540e;&#x9762;&#x7684; Generator &#x51fd;&#x6570;&#xff08;&#x6ca1;&#x6709;`return`&#x8bed;&#x53e5;&#x65f6;&#xff09;&#xff0c;&#x4e0d;&#x8fc7;&#x662f;`for...of`&#x7684;&#x4e00;&#x79cd;&#x7b80;&#x5199;&#x5f62;&#x5f0f;&#xff0c;&#x5b8c;&#x5168;&#x53ef;&#x4ee5;&#x7528;&#x540e;&#x8005;&#x66ff;&#x4ee3;&#x524d;&#x8005;&#x3002;&#x53cd;&#x4e4b;&#xff0c;&#x5728;&#x6709;`return`&#x8bed;&#x53e5;&#x65f6;&#xff0c;&#x5219;&#x9700;&#x8981;&#x7528;`var value = yield* iterator`&#x7684;&#x5f62;&#x5f0f;&#x83b7;&#x53d6;`return`&#x8bed;&#x53e5;&#x7684;&#x503c;&#x3002;\n\n&#x5982;&#x679c;`yield*`&#x540e;&#x9762;&#x8ddf;&#x7740;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;&#xff0c;&#x7531;&#x4e8e;&#x6570;&#x7ec4;&#x539f;&#x751f;&#x652f;&#x6301;&#x904d;&#x5386;&#x5668;&#xff0c;&#x56e0;&#x6b64;&#x5c31;&#x4f1a;&#x904d;&#x5386;&#x6570;&#x7ec4;&#x6210;&#x5458;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"922,925"}},{"content":"<pre data-lines=\"926,933\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen</span>(<span class=\"hljs-params\"></span>){\n  <span class=\"hljs-keyword\">yield</span>* [<span class=\"hljs-string\">&quot;a&quot;</span>, <span class=\"hljs-string\">&quot;b&quot;</span>, <span class=\"hljs-string\">&quot;c&quot;</span>];\n}\n\n<span class=\"hljs-title function_\">gen</span>().<span class=\"hljs-title function_\">next</span>() <span class=\"hljs-comment\">// { value:&quot;a&quot;, done:false }</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"926,933"}},{"content":"<pre data-lines=\"934,937\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`yield`&#x547d;&#x4ee4;&#x540e;&#x9762;&#x5982;&#x679c;&#x4e0d;&#x52a0;&#x661f;&#x53f7;&#xff0c;&#x8fd4;&#x56de;&#x7684;&#x662f;&#x6574;&#x4e2a;&#x6570;&#x7ec4;&#xff0c;&#x52a0;&#x4e86;&#x661f;&#x53f7;&#x5c31;&#x8868;&#x793a;&#x8fd4;&#x56de;&#x7684;&#x662f;&#x6570;&#x7ec4;&#x7684;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x3002;\n\n&#x5b9e;&#x9645;&#x4e0a;&#xff0c;&#x4efb;&#x4f55;&#x6570;&#x636e;&#x7ed3;&#x6784;&#x53ea;&#x8981;&#x6709; Iterator &#x63a5;&#x53e3;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x88ab;`yield*`&#x904d;&#x5386;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"934,937"}},{"content":"<pre data-lines=\"938,947\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">let</span> read = (<span class=\"hljs-keyword\">function</span>* () {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;hello&apos;</span>;\n  <span class=\"hljs-keyword\">yield</span>* <span class=\"hljs-string\">&apos;hello&apos;</span>;\n})();\n\nread.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-property\">value</span> <span class=\"hljs-comment\">// &quot;hello&quot;</span>\nread.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-property\">value</span> <span class=\"hljs-comment\">// &quot;h&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"938,947"}},{"content":"<pre data-lines=\"948,951\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x8fd4;&#x56de;&#x6574;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;`yield*`&#x8bed;&#x53e5;&#x8fd4;&#x56de;&#x5355;&#x4e2a;&#x5b57;&#x7b26;&#x3002;&#x56e0;&#x4e3a;&#x5b57;&#x7b26;&#x4e32;&#x5177;&#x6709; Iterator &#x63a5;&#x53e3;&#xff0c;&#x6240;&#x4ee5;&#x88ab;`yield*`&#x904d;&#x5386;&#x3002;\n\n&#x5982;&#x679c;&#x88ab;&#x4ee3;&#x7406;&#x7684; Generator &#x51fd;&#x6570;&#x6709;`return`&#x8bed;&#x53e5;&#xff0c;&#x90a3;&#x4e48;&#x5c31;&#x53ef;&#x4ee5;&#x5411;&#x4ee3;&#x7406;&#x5b83;&#x7684; Generator &#x51fd;&#x6570;&#x8fd4;&#x56de;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"948,951"}},{"content":"<pre data-lines=\"952,980\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">2</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">3</span>;\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;foo&quot;</span>;\n}\n\n<span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">bar</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-keyword\">var</span> v = <span class=\"hljs-keyword\">yield</span>* <span class=\"hljs-title function_\">foo</span>();\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;v: &quot;</span> + v);\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">4</span>;\n}\n\n<span class=\"hljs-keyword\">var</span> it = <span class=\"hljs-title function_\">bar</span>();\n\nit.<span class=\"hljs-title function_\">next</span>()\n<span class=\"hljs-comment\">// {value: 1, done: false}</span>\nit.<span class=\"hljs-title function_\">next</span>()\n<span class=\"hljs-comment\">// {value: 2, done: false}</span>\nit.<span class=\"hljs-title function_\">next</span>()\n<span class=\"hljs-comment\">// {value: 3, done: false}</span>\nit.<span class=\"hljs-title function_\">next</span>();\n<span class=\"hljs-comment\">// &quot;v: foo&quot;</span>\n<span class=\"hljs-comment\">// {value: 4, done: false}</span>\nit.<span class=\"hljs-title function_\">next</span>()\n<span class=\"hljs-comment\">// {value: undefined, done: true}</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"952,980"}},{"content":"<pre data-lines=\"981,984\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5728;&#x7b2c;&#x56db;&#x6b21;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x5c4f;&#x5e55;&#x4e0a;&#x4f1a;&#x6709;&#x8f93;&#x51fa;&#xff0c;&#x8fd9;&#x662f;&#x56e0;&#x4e3a;&#x51fd;&#x6570;`foo`&#x7684;`return`&#x8bed;&#x53e5;&#xff0c;&#x5411;&#x51fd;&#x6570;`bar`&#x63d0;&#x4f9b;&#x4e86;&#x8fd4;&#x56de;&#x503c;&#x3002;\n\n&#x518d;&#x770b;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"981,984"}},{"content":"<pre data-lines=\"985,1000\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">genFuncWithReturn</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;a&apos;</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;b&apos;</span>;\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&apos;The result&apos;</span>;\n}\n<span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">logReturned</span>(<span class=\"hljs-params\">genObj</span>) {\n  <span class=\"hljs-keyword\">let</span> result = <span class=\"hljs-keyword\">yield</span>* genObj;\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(result);\n}\n\n[...<span class=\"hljs-title function_\">logReturned</span>(<span class=\"hljs-title function_\">genFuncWithReturn</span>())]\n<span class=\"hljs-comment\">// The result</span>\n<span class=\"hljs-comment\">// &#x503c;&#x4e3a; [ &apos;a&apos;, &apos;b&apos; ]</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"985,1000"}},{"content":"<pre data-lines=\"1001,1004\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x5b58;&#x5728;&#x4e24;&#x6b21;&#x904d;&#x5386;&#x3002;&#x7b2c;&#x4e00;&#x6b21;&#x662f;&#x6269;&#x5c55;&#x8fd0;&#x7b97;&#x7b26;&#x904d;&#x5386;&#x51fd;&#x6570;`logReturned`&#x8fd4;&#x56de;&#x7684;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#xff0c;&#x7b2c;&#x4e8c;&#x6b21;&#x662f;`yield*`&#x8bed;&#x53e5;&#x904d;&#x5386;&#x51fd;&#x6570;`genFuncWithReturn`&#x8fd4;&#x56de;&#x7684;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x3002;&#x8fd9;&#x4e24;&#x6b21;&#x904d;&#x5386;&#x7684;&#x6548;&#x679c;&#x662f;&#x53e0;&#x52a0;&#x7684;&#xff0c;&#x6700;&#x7ec8;&#x8868;&#x73b0;&#x4e3a;&#x6269;&#x5c55;&#x8fd0;&#x7b97;&#x7b26;&#x904d;&#x5386;&#x51fd;&#x6570;`genFuncWithReturn`&#x8fd4;&#x56de;&#x7684;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x3002;&#x6240;&#x4ee5;&#xff0c;&#x6700;&#x540e;&#x7684;&#x6570;&#x636e;&#x8868;&#x8fbe;&#x5f0f;&#x5f97;&#x5230;&#x7684;&#x503c;&#x7b49;&#x4e8e;`[ &apos;a&apos;, &apos;b&apos; ]`&#x3002;&#x4f46;&#x662f;&#xff0c;&#x51fd;&#x6570;`genFuncWithReturn`&#x7684;`return`&#x8bed;&#x53e5;&#x7684;&#x8fd4;&#x56de;&#x503c;`The result`&#xff0c;&#x4f1a;&#x8fd4;&#x56de;&#x7ed9;&#x51fd;&#x6570;`logReturned`&#x5185;&#x90e8;&#x7684;`result`&#x53d8;&#x91cf;&#xff0c;&#x56e0;&#x6b64;&#x4f1a;&#x6709;&#x7ec8;&#x7aef;&#x8f93;&#x51fa;&#x3002;\n\n`yield*`&#x547d;&#x4ee4;&#x53ef;&#x4ee5;&#x5f88;&#x65b9;&#x4fbf;&#x5730;&#x53d6;&#x51fa;&#x5d4c;&#x5957;&#x6570;&#x7ec4;&#x7684;&#x6240;&#x6709;&#x6210;&#x5458;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1001,1004"}},{"content":"<pre data-lines=\"1005,1027\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">iterTree</span>(<span class=\"hljs-params\">tree</span>) {\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(tree)) {\n    <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> i=<span class=\"hljs-number\">0</span>; i &lt; tree.<span class=\"hljs-property\">length</span>; i++) {\n      <span class=\"hljs-keyword\">yield</span>* <span class=\"hljs-title function_\">iterTree</span>(tree[i]);\n    }\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-keyword\">yield</span> tree;\n  }\n}\n\n<span class=\"hljs-keyword\">const</span> tree = [ <span class=\"hljs-string\">&apos;a&apos;</span>, [<span class=\"hljs-string\">&apos;b&apos;</span>, <span class=\"hljs-string\">&apos;c&apos;</span>], [<span class=\"hljs-string\">&apos;d&apos;</span>, <span class=\"hljs-string\">&apos;e&apos;</span>] ];\n\n<span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">let</span> x <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">iterTree</span>(tree)) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(x);\n}\n<span class=\"hljs-comment\">// a</span>\n<span class=\"hljs-comment\">// b</span>\n<span class=\"hljs-comment\">// c</span>\n<span class=\"hljs-comment\">// d</span>\n<span class=\"hljs-comment\">// e</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1005,1027"}},{"content":"<pre data-lines=\"1028,1029\"><code>&#x7531;&#x4e8e;&#x6269;&#x5c55;&#x8fd0;&#x7b97;&#x7b26;`...`&#x9ed8;&#x8ba4;&#x8c03;&#x7528; Iterator &#x63a5;&#x53e3;&#xff0c;&#x6240;&#x4ee5;&#x4e0a;&#x9762;&#x8fd9;&#x4e2a;&#x51fd;&#x6570;&#x4e5f;&#x53ef;&#x4ee5;&#x7528;&#x4e8e;&#x5d4c;&#x5957;&#x6570;&#x7ec4;&#x7684;&#x5e73;&#x94fa;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1028,1029"}},{"content":"<pre data-lines=\"1030,1033\"><code class=\"language-javascript\">[...<span class=\"hljs-title function_\">iterTree</span>(tree)] <span class=\"hljs-comment\">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1030,1033"}},{"content":"<pre data-lines=\"1034,1035\"><code>&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x7a0d;&#x5fae;&#x590d;&#x6742;&#x7684;&#x4f8b;&#x5b50;&#xff0c;&#x4f7f;&#x7528;`yield*`&#x8bed;&#x53e5;&#x904d;&#x5386;&#x5b8c;&#x5168;&#x4e8c;&#x53c9;&#x6811;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1034,1035"}},{"content":"<pre data-lines=\"1036,1073\"><code class=\"language-javascript\"><span class=\"hljs-comment\">// &#x4e0b;&#x9762;&#x662f;&#x4e8c;&#x53c9;&#x6811;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;</span>\n<span class=\"hljs-comment\">// &#x4e09;&#x4e2a;&#x53c2;&#x6570;&#x5206;&#x522b;&#x662f;&#x5de6;&#x6811;&#x3001;&#x5f53;&#x524d;&#x8282;&#x70b9;&#x548c;&#x53f3;&#x6811;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Tree</span>(<span class=\"hljs-params\">left, label, right</span>) {\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">left</span> = left;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">label</span> = label;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">right</span> = right;\n}\n\n<span class=\"hljs-comment\">// &#x4e0b;&#x9762;&#x662f;&#x4e2d;&#x5e8f;&#xff08;inorder&#xff09;&#x904d;&#x5386;&#x51fd;&#x6570;&#x3002;</span>\n<span class=\"hljs-comment\">// &#x7531;&#x4e8e;&#x8fd4;&#x56de;&#x7684;&#x662f;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#xff0c;&#x6240;&#x4ee5;&#x8981;&#x7528;generator&#x51fd;&#x6570;&#x3002;</span>\n<span class=\"hljs-comment\">// &#x51fd;&#x6570;&#x4f53;&#x5185;&#x91c7;&#x7528;&#x9012;&#x5f52;&#x7b97;&#x6cd5;&#xff0c;&#x6240;&#x4ee5;&#x5de6;&#x6811;&#x548c;&#x53f3;&#x6811;&#x8981;&#x7528;yield*&#x904d;&#x5386;</span>\n<span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">inorder</span>(<span class=\"hljs-params\">t</span>) {\n  <span class=\"hljs-keyword\">if</span> (t) {\n    <span class=\"hljs-keyword\">yield</span>* <span class=\"hljs-title function_\">inorder</span>(t.<span class=\"hljs-property\">left</span>);\n    <span class=\"hljs-keyword\">yield</span> t.<span class=\"hljs-property\">label</span>;\n    <span class=\"hljs-keyword\">yield</span>* <span class=\"hljs-title function_\">inorder</span>(t.<span class=\"hljs-property\">right</span>);\n  }\n}\n\n<span class=\"hljs-comment\">// &#x4e0b;&#x9762;&#x751f;&#x6210;&#x4e8c;&#x53c9;&#x6811;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">make</span>(<span class=\"hljs-params\">array</span>) {\n  <span class=\"hljs-comment\">// &#x5224;&#x65ad;&#x662f;&#x5426;&#x4e3a;&#x53f6;&#x8282;&#x70b9;</span>\n  <span class=\"hljs-keyword\">if</span> (array.<span class=\"hljs-property\">length</span> == <span class=\"hljs-number\">1</span>) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Tree</span>(<span class=\"hljs-literal\">null</span>, array[<span class=\"hljs-number\">0</span>], <span class=\"hljs-literal\">null</span>);\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Tree</span>(<span class=\"hljs-title function_\">make</span>(array[<span class=\"hljs-number\">0</span>]), array[<span class=\"hljs-number\">1</span>], <span class=\"hljs-title function_\">make</span>(array[<span class=\"hljs-number\">2</span>]));\n}\n<span class=\"hljs-keyword\">let</span> tree = <span class=\"hljs-title function_\">make</span>([[[<span class=\"hljs-string\">&apos;a&apos;</span>], <span class=\"hljs-string\">&apos;b&apos;</span>, [<span class=\"hljs-string\">&apos;c&apos;</span>]], <span class=\"hljs-string\">&apos;d&apos;</span>, [[<span class=\"hljs-string\">&apos;e&apos;</span>], <span class=\"hljs-string\">&apos;f&apos;</span>, [<span class=\"hljs-string\">&apos;g&apos;</span>]]]);\n\n<span class=\"hljs-comment\">// &#x904d;&#x5386;&#x4e8c;&#x53c9;&#x6811;</span>\n<span class=\"hljs-keyword\">var</span> result = [];\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> node <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">inorder</span>(tree)) {\n  result.<span class=\"hljs-title function_\">push</span>(node);\n}\n\nresult\n<span class=\"hljs-comment\">// [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;, &apos;e&apos;, &apos;f&apos;, &apos;g&apos;]</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1036,1073"}}],"payload":{"tag":"h2","lines":"780,781"}},{"content":"&#x4f5c;&#x4e3a;&#x5bf9;&#x8c61;&#x5c5e;&#x6027;&#x7684; Generator &#x51fd;&#x6570;","children":[{"content":"<pre data-lines=\"1076,1077\"><code>&#x5982;&#x679c;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#x7684;&#x5c5e;&#x6027;&#x662f; Generator &#x51fd;&#x6570;&#xff0c;&#x53ef;&#x4ee5;&#x7b80;&#x5199;&#x6210;&#x4e0b;&#x9762;&#x7684;&#x5f62;&#x5f0f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1076,1077"}},{"content":"<pre data-lines=\"1078,1085\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">let</span> obj = {\n  * <span class=\"hljs-title function_\">myGeneratorMethod</span>(<span class=\"hljs-params\"></span>) {\n    &#xb7;&#xb7;&#xb7;\n  }\n};\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1078,1085"}},{"content":"<pre data-lines=\"1086,1089\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`myGeneratorMethod`&#x5c5e;&#x6027;&#x524d;&#x9762;&#x6709;&#x4e00;&#x4e2a;&#x661f;&#x53f7;&#xff0c;&#x8868;&#x793a;&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x662f;&#x4e00;&#x4e2a; Generator &#x51fd;&#x6570;&#x3002;\n\n&#x5b83;&#x7684;&#x5b8c;&#x6574;&#x5f62;&#x5f0f;&#x5982;&#x4e0b;&#xff0c;&#x4e0e;&#x4e0a;&#x9762;&#x7684;&#x5199;&#x6cd5;&#x662f;&#x7b49;&#x4ef7;&#x7684;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1086,1089"}},{"content":"<pre data-lines=\"1090,1097\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">let</span> obj = {\n  <span class=\"hljs-attr\">myGeneratorMethod</span>: <span class=\"hljs-keyword\">function</span>* () {\n    <span class=\"hljs-comment\">// &#xb7;&#xb7;&#xb7;</span>\n  }\n};\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1090,1097"}}],"payload":{"tag":"h2","lines":"1074,1075"}},{"content":"Generator &#x51fd;&#x6570;&#x7684;<code>this</code>","children":[{"content":"<pre data-lines=\"1100,1101\"><code>Generator &#x51fd;&#x6570;&#x603b;&#x662f;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#xff0c;ES6 &#x89c4;&#x5b9a;&#x8fd9;&#x4e2a;&#x904d;&#x5386;&#x5668;&#x662f; Generator &#x51fd;&#x6570;&#x7684;&#x5b9e;&#x4f8b;&#xff0c;&#x4e5f;&#x7ee7;&#x627f;&#x4e86; Generator &#x51fd;&#x6570;&#x7684;`prototype`&#x5bf9;&#x8c61;&#x4e0a;&#x7684;&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1100,1101"}},{"content":"<pre data-lines=\"1102,1114\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">g</span>(<span class=\"hljs-params\"></span>) {}\n\ng.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">hello</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&apos;hi!&apos;</span>;\n};\n\n<span class=\"hljs-keyword\">let</span> obj = <span class=\"hljs-title function_\">g</span>();\n\nobj <span class=\"hljs-keyword\">instanceof</span> g <span class=\"hljs-comment\">// true</span>\nobj.<span class=\"hljs-title function_\">hello</span>() <span class=\"hljs-comment\">// &apos;hi!&apos;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1102,1114"}},{"content":"<pre data-lines=\"1115,1116\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x8868;&#x660e;&#xff0c;Generator &#x51fd;&#x6570;`g`&#x8fd4;&#x56de;&#x7684;&#x904d;&#x5386;&#x5668;`obj`&#xff0c;&#x662f;`g`&#x7684;&#x5b9e;&#x4f8b;&#xff0c;&#x800c;&#x4e14;&#x7ee7;&#x627f;&#x4e86;`g.prototype`&#x3002;&#x4f46;&#x662f;&#xff0c;&#x5982;&#x679c;&#x628a;`g`&#x5f53;&#x4f5c;&#x666e;&#x901a;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x5e76;&#x4e0d;&#x4f1a;&#x751f;&#x6548;&#xff0c;&#x56e0;&#x4e3a;`g`&#x8fd4;&#x56de;&#x7684;&#x603b;&#x662f;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#xff0c;&#x800c;&#x4e0d;&#x662f;`this`&#x5bf9;&#x8c61;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1115,1116"}},{"content":"<pre data-lines=\"1117,1126\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">g</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">a</span> = <span class=\"hljs-number\">11</span>;\n}\n\n<span class=\"hljs-keyword\">let</span> obj = <span class=\"hljs-title function_\">g</span>();\nobj.<span class=\"hljs-title function_\">next</span>();\nobj.<span class=\"hljs-property\">a</span> <span class=\"hljs-comment\">// undefined</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1117,1126"}},{"content":"<pre data-lines=\"1127,1130\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;Generator &#x51fd;&#x6570;`g`&#x5728;`this`&#x5bf9;&#x8c61;&#x4e0a;&#x9762;&#x6dfb;&#x52a0;&#x4e86;&#x4e00;&#x4e2a;&#x5c5e;&#x6027;`a`&#xff0c;&#x4f46;&#x662f;`obj`&#x5bf9;&#x8c61;&#x62ff;&#x4e0d;&#x5230;&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x3002;\n\nGenerator &#x51fd;&#x6570;&#x4e5f;&#x4e0d;&#x80fd;&#x8ddf;`new`&#x547d;&#x4ee4;&#x4e00;&#x8d77;&#x7528;&#xff0c;&#x4f1a;&#x62a5;&#x9519;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1127,1130"}},{"content":"<pre data-lines=\"1131,1140\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">F</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">x</span> = <span class=\"hljs-number\">2</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">y</span> = <span class=\"hljs-number\">3</span>;\n}\n\n<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title function_\">F</span>()\n<span class=\"hljs-comment\">// TypeError: F is not a constructor</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1131,1140"}},{"content":"<pre data-lines=\"1141,1146\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`new`&#x547d;&#x4ee4;&#x8ddf;&#x6784;&#x9020;&#x51fd;&#x6570;`F`&#x4e00;&#x8d77;&#x4f7f;&#x7528;&#xff0c;&#x7ed3;&#x679c;&#x62a5;&#x9519;&#xff0c;&#x56e0;&#x4e3a;`F`&#x4e0d;&#x662f;&#x6784;&#x9020;&#x51fd;&#x6570;&#x3002;\n\n&#x90a3;&#x4e48;&#xff0c;&#x6709;&#x6ca1;&#x6709;&#x529e;&#x6cd5;&#x8ba9; Generator &#x51fd;&#x6570;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x6b63;&#x5e38;&#x7684;&#x5bf9;&#x8c61;&#x5b9e;&#x4f8b;&#xff0c;&#x65e2;&#x53ef;&#x4ee5;&#x7528;`next`&#x65b9;&#x6cd5;&#xff0c;&#x53c8;&#x53ef;&#x4ee5;&#x83b7;&#x5f97;&#x6b63;&#x5e38;&#x7684;`this`&#xff1f;\n\n&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x53d8;&#x901a;&#x65b9;&#x6cd5;&#x3002;&#x9996;&#x5148;&#xff0c;&#x751f;&#x6210;&#x4e00;&#x4e2a;&#x7a7a;&#x5bf9;&#x8c61;&#xff0c;&#x4f7f;&#x7528;`call`&#x65b9;&#x6cd5;&#x7ed1;&#x5b9a; Generator &#x51fd;&#x6570;&#x5185;&#x90e8;&#x7684;`this`&#x3002;&#x8fd9;&#x6837;&#xff0c;&#x6784;&#x9020;&#x51fd;&#x6570;&#x8c03;&#x7528;&#x4ee5;&#x540e;&#xff0c;&#x8fd9;&#x4e2a;&#x7a7a;&#x5bf9;&#x8c61;&#x5c31;&#x662f; Generator &#x51fd;&#x6570;&#x7684;&#x5b9e;&#x4f8b;&#x5bf9;&#x8c61;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1141,1146"}},{"content":"<pre data-lines=\"1147,1164\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">F</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">a</span> = <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">b</span> = <span class=\"hljs-number\">2</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">c</span> = <span class=\"hljs-number\">3</span>;\n}\n<span class=\"hljs-keyword\">var</span> obj = {};\n<span class=\"hljs-keyword\">var</span> f = F.<span class=\"hljs-title function_\">call</span>(obj);\n\nf.<span class=\"hljs-title function_\">next</span>();  <span class=\"hljs-comment\">// Object {value: 2, done: false}</span>\nf.<span class=\"hljs-title function_\">next</span>();  <span class=\"hljs-comment\">// Object {value: 3, done: false}</span>\nf.<span class=\"hljs-title function_\">next</span>();  <span class=\"hljs-comment\">// Object {value: undefined, done: true}</span>\n\nobj.<span class=\"hljs-property\">a</span> <span class=\"hljs-comment\">// 1</span>\nobj.<span class=\"hljs-property\">b</span> <span class=\"hljs-comment\">// 2</span>\nobj.<span class=\"hljs-property\">c</span> <span class=\"hljs-comment\">// 3</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1147,1164"}},{"content":"<pre data-lines=\"1165,1170\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x9996;&#x5148;&#x662f;`F`&#x5185;&#x90e8;&#x7684;`this`&#x5bf9;&#x8c61;&#x7ed1;&#x5b9a;`obj`&#x5bf9;&#x8c61;&#xff0c;&#x7136;&#x540e;&#x8c03;&#x7528;&#x5b83;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; Iterator &#x5bf9;&#x8c61;&#x3002;&#x8fd9;&#x4e2a;&#x5bf9;&#x8c61;&#x6267;&#x884c;&#x4e09;&#x6b21;`next`&#x65b9;&#x6cd5;&#xff08;&#x56e0;&#x4e3a;`F`&#x5185;&#x90e8;&#x6709;&#x4e24;&#x4e2a;`yield`&#x8868;&#x8fbe;&#x5f0f;&#xff09;&#xff0c;&#x5b8c;&#x6210; F &#x5185;&#x90e8;&#x6240;&#x6709;&#x4ee3;&#x7801;&#x7684;&#x8fd0;&#x884c;&#x3002;&#x8fd9;&#x65f6;&#xff0c;&#x6240;&#x6709;&#x5185;&#x90e8;&#x5c5e;&#x6027;&#x90fd;&#x7ed1;&#x5b9a;&#x5728;`obj`&#x5bf9;&#x8c61;&#x4e0a;&#x4e86;&#xff0c;&#x56e0;&#x6b64;`obj`&#x5bf9;&#x8c61;&#x4e5f;&#x5c31;&#x6210;&#x4e86;`F`&#x7684;&#x5b9e;&#x4f8b;&#x3002;\n\n&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x6267;&#x884c;&#x7684;&#x662f;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;`f`&#xff0c;&#x4f46;&#x662f;&#x751f;&#x6210;&#x7684;&#x5bf9;&#x8c61;&#x5b9e;&#x4f8b;&#x662f;`obj`&#xff0c;&#x6709;&#x6ca1;&#x6709;&#x529e;&#x6cd5;&#x5c06;&#x8fd9;&#x4e24;&#x4e2a;&#x5bf9;&#x8c61;&#x7edf;&#x4e00;&#x5462;&#xff1f;\n\n&#x4e00;&#x4e2a;&#x529e;&#x6cd5;&#x5c31;&#x662f;&#x5c06;`obj`&#x6362;&#x6210;`F.prototype`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1165,1170"}},{"content":"<pre data-lines=\"1171,1187\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">F</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">a</span> = <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">b</span> = <span class=\"hljs-number\">2</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">c</span> = <span class=\"hljs-number\">3</span>;\n}\n<span class=\"hljs-keyword\">var</span> f = F.<span class=\"hljs-title function_\">call</span>(F.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>);\n\nf.<span class=\"hljs-title function_\">next</span>();  <span class=\"hljs-comment\">// Object {value: 2, done: false}</span>\nf.<span class=\"hljs-title function_\">next</span>();  <span class=\"hljs-comment\">// Object {value: 3, done: false}</span>\nf.<span class=\"hljs-title function_\">next</span>();  <span class=\"hljs-comment\">// Object {value: undefined, done: true}</span>\n\nf.<span class=\"hljs-property\">a</span> <span class=\"hljs-comment\">// 1</span>\nf.<span class=\"hljs-property\">b</span> <span class=\"hljs-comment\">// 2</span>\nf.<span class=\"hljs-property\">c</span> <span class=\"hljs-comment\">// 3</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1171,1187"}},{"content":"<pre data-lines=\"1188,1189\"><code>&#x518d;&#x5c06;`F`&#x6539;&#x6210;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x5bf9;&#x5b83;&#x6267;&#x884c;`new`&#x547d;&#x4ee4;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1188,1189"}},{"content":"<pre data-lines=\"1190,1211\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">a</span> = <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">b</span> = <span class=\"hljs-number\">2</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">c</span> = <span class=\"hljs-number\">3</span>;\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">F</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">return</span> gen.<span class=\"hljs-title function_\">call</span>(gen.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>);\n}\n\n<span class=\"hljs-keyword\">var</span> f = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title function_\">F</span>();\n\nf.<span class=\"hljs-title function_\">next</span>();  <span class=\"hljs-comment\">// Object {value: 2, done: false}</span>\nf.<span class=\"hljs-title function_\">next</span>();  <span class=\"hljs-comment\">// Object {value: 3, done: false}</span>\nf.<span class=\"hljs-title function_\">next</span>();  <span class=\"hljs-comment\">// Object {value: undefined, done: true}</span>\n\nf.<span class=\"hljs-property\">a</span> <span class=\"hljs-comment\">// 1</span>\nf.<span class=\"hljs-property\">b</span> <span class=\"hljs-comment\">// 2</span>\nf.<span class=\"hljs-property\">c</span> <span class=\"hljs-comment\">// 3</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1190,1211"}}],"payload":{"tag":"h2","lines":"1098,1099"}},{"content":"&#x542b;&#x4e49;","children":[{"content":"Generator &#x4e0e;&#x72b6;&#x6001;&#x673a;","children":[{"content":"<pre data-lines=\"1216,1217\"><code>Generator &#x662f;&#x5b9e;&#x73b0;&#x72b6;&#x6001;&#x673a;&#x7684;&#x6700;&#x4f73;&#x7ed3;&#x6784;&#x3002;&#x6bd4;&#x5982;&#xff0c;&#x4e0b;&#x9762;&#x7684;`clock`&#x51fd;&#x6570;&#x5c31;&#x662f;&#x4e00;&#x4e2a;&#x72b6;&#x6001;&#x673a;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1216,1217"}},{"content":"<pre data-lines=\"1218,1228\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> ticking = <span class=\"hljs-literal\">true</span>;\n<span class=\"hljs-keyword\">var</span> clock = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">if</span> (ticking)\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Tick!&apos;</span>);\n  <span class=\"hljs-keyword\">else</span>\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Tock!&apos;</span>);\n  ticking = !ticking;\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1218,1228"}},{"content":"<pre data-lines=\"1229,1230\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;`clock`&#x51fd;&#x6570;&#x4e00;&#x5171;&#x6709;&#x4e24;&#x79cd;&#x72b6;&#x6001;&#xff08;`Tick`&#x548c;`Tock`&#xff09;&#xff0c;&#x6bcf;&#x8fd0;&#x884c;&#x4e00;&#x6b21;&#xff0c;&#x5c31;&#x6539;&#x53d8;&#x4e00;&#x6b21;&#x72b6;&#x6001;&#x3002;&#x8fd9;&#x4e2a;&#x51fd;&#x6570;&#x5982;&#x679c;&#x7528; Generator &#x5b9e;&#x73b0;&#xff0c;&#x5c31;&#x662f;&#x4e0b;&#x9762;&#x8fd9;&#x6837;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1229,1230"}},{"content":"<pre data-lines=\"1231,1241\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> clock = <span class=\"hljs-keyword\">function</span>* () {\n  <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Tick!&apos;</span>);\n    <span class=\"hljs-keyword\">yield</span>;\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Tock!&apos;</span>);\n    <span class=\"hljs-keyword\">yield</span>;\n  }\n};\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1231,1241"}},{"content":"<pre data-lines=\"1242,1243\"><code>&#x4e0a;&#x9762;&#x7684; Generator &#x5b9e;&#x73b0;&#x4e0e; ES5 &#x5b9e;&#x73b0;&#x5bf9;&#x6bd4;&#xff0c;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#x5c11;&#x4e86;&#x7528;&#x6765;&#x4fdd;&#x5b58;&#x72b6;&#x6001;&#x7684;&#x5916;&#x90e8;&#x53d8;&#x91cf;`ticking`&#xff0c;&#x8fd9;&#x6837;&#x5c31;&#x66f4;&#x7b80;&#x6d01;&#xff0c;&#x66f4;&#x5b89;&#x5168;&#xff08;&#x72b6;&#x6001;&#x4e0d;&#x4f1a;&#x88ab;&#x975e;&#x6cd5;&#x7be1;&#x6539;&#xff09;&#x3001;&#x66f4;&#x7b26;&#x5408;&#x51fd;&#x6570;&#x5f0f;&#x7f16;&#x7a0b;&#x7684;&#x601d;&#x60f3;&#xff0c;&#x5728;&#x5199;&#x6cd5;&#x4e0a;&#x4e5f;&#x66f4;&#x4f18;&#x96c5;&#x3002;Generator &#x4e4b;&#x6240;&#x4ee5;&#x53ef;&#x4ee5;&#x4e0d;&#x7528;&#x5916;&#x90e8;&#x53d8;&#x91cf;&#x4fdd;&#x5b58;&#x72b6;&#x6001;&#xff0c;&#x662f;&#x56e0;&#x4e3a;&#x5b83;&#x672c;&#x8eab;&#x5c31;&#x5305;&#x542b;&#x4e86;&#x4e00;&#x4e2a;&#x72b6;&#x6001;&#x4fe1;&#x606f;&#xff0c;&#x5373;&#x76ee;&#x524d;&#x662f;&#x5426;&#x5904;&#x4e8e;&#x6682;&#x505c;&#x6001;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1242,1243"}}],"payload":{"tag":"h3","lines":"1214,1215"}},{"content":"Generator &#x4e0e;&#x534f;&#x7a0b;","children":[{"content":"<pre data-lines=\"1246,1263\"><code>&#x534f;&#x7a0b;&#xff08;coroutine&#xff09;&#x662f;&#x4e00;&#x79cd;&#x7a0b;&#x5e8f;&#x8fd0;&#x884c;&#x7684;&#x65b9;&#x5f0f;&#xff0c;&#x53ef;&#x4ee5;&#x7406;&#x89e3;&#x6210;&#x201c;&#x534f;&#x4f5c;&#x7684;&#x7ebf;&#x7a0b;&#x201d;&#x6216;&#x201c;&#x534f;&#x4f5c;&#x7684;&#x51fd;&#x6570;&#x201d;&#x3002;&#x534f;&#x7a0b;&#x65e2;&#x53ef;&#x4ee5;&#x7528;&#x5355;&#x7ebf;&#x7a0b;&#x5b9e;&#x73b0;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x7528;&#x591a;&#x7ebf;&#x7a0b;&#x5b9e;&#x73b0;&#x3002;&#x524d;&#x8005;&#x662f;&#x4e00;&#x79cd;&#x7279;&#x6b8a;&#x7684;&#x5b50;&#x4f8b;&#x7a0b;&#xff0c;&#x540e;&#x8005;&#x662f;&#x4e00;&#x79cd;&#x7279;&#x6b8a;&#x7684;&#x7ebf;&#x7a0b;&#x3002;\n\n**&#xff08;1&#xff09;&#x534f;&#x7a0b;&#x4e0e;&#x5b50;&#x4f8b;&#x7a0b;&#x7684;&#x5dee;&#x5f02;**\n\n&#x4f20;&#x7edf;&#x7684;&#x201c;&#x5b50;&#x4f8b;&#x7a0b;&#x201d;&#xff08;subroutine&#xff09;&#x91c7;&#x7528;&#x5806;&#x6808;&#x5f0f;&#x201c;&#x540e;&#x8fdb;&#x5148;&#x51fa;&#x201d;&#x7684;&#x6267;&#x884c;&#x65b9;&#x5f0f;&#xff0c;&#x53ea;&#x6709;&#x5f53;&#x8c03;&#x7528;&#x7684;&#x5b50;&#x51fd;&#x6570;&#x5b8c;&#x5168;&#x6267;&#x884c;&#x5b8c;&#x6bd5;&#xff0c;&#x624d;&#x4f1a;&#x7ed3;&#x675f;&#x6267;&#x884c;&#x7236;&#x51fd;&#x6570;&#x3002;&#x534f;&#x7a0b;&#x4e0e;&#x5176;&#x4e0d;&#x540c;&#xff0c;&#x591a;&#x4e2a;&#x7ebf;&#x7a0b;&#xff08;&#x5355;&#x7ebf;&#x7a0b;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x5373;&#x591a;&#x4e2a;&#x51fd;&#x6570;&#xff09;&#x53ef;&#x4ee5;&#x5e76;&#x884c;&#x6267;&#x884c;&#xff0c;&#x4f46;&#x662f;&#x53ea;&#x6709;&#x4e00;&#x4e2a;&#x7ebf;&#x7a0b;&#xff08;&#x6216;&#x51fd;&#x6570;&#xff09;&#x5904;&#x4e8e;&#x6b63;&#x5728;&#x8fd0;&#x884c;&#x7684;&#x72b6;&#x6001;&#xff0c;&#x5176;&#x4ed6;&#x7ebf;&#x7a0b;&#xff08;&#x6216;&#x51fd;&#x6570;&#xff09;&#x90fd;&#x5904;&#x4e8e;&#x6682;&#x505c;&#x6001;&#xff08;suspended&#xff09;&#xff0c;&#x7ebf;&#x7a0b;&#xff08;&#x6216;&#x51fd;&#x6570;&#xff09;&#x4e4b;&#x95f4;&#x53ef;&#x4ee5;&#x4ea4;&#x6362;&#x6267;&#x884c;&#x6743;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x4e00;&#x4e2a;&#x7ebf;&#x7a0b;&#xff08;&#x6216;&#x51fd;&#x6570;&#xff09;&#x6267;&#x884c;&#x5230;&#x4e00;&#x534a;&#xff0c;&#x53ef;&#x4ee5;&#x6682;&#x505c;&#x6267;&#x884c;&#xff0c;&#x5c06;&#x6267;&#x884c;&#x6743;&#x4ea4;&#x7ed9;&#x53e6;&#x4e00;&#x4e2a;&#x7ebf;&#x7a0b;&#xff08;&#x6216;&#x51fd;&#x6570;&#xff09;&#xff0c;&#x7b49;&#x5230;&#x7a0d;&#x540e;&#x6536;&#x56de;&#x6267;&#x884c;&#x6743;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x518d;&#x6062;&#x590d;&#x6267;&#x884c;&#x3002;&#x8fd9;&#x79cd;&#x53ef;&#x4ee5;&#x5e76;&#x884c;&#x6267;&#x884c;&#x3001;&#x4ea4;&#x6362;&#x6267;&#x884c;&#x6743;&#x7684;&#x7ebf;&#x7a0b;&#xff08;&#x6216;&#x51fd;&#x6570;&#xff09;&#xff0c;&#x5c31;&#x79f0;&#x4e3a;&#x534f;&#x7a0b;&#x3002;\n\n&#x4ece;&#x5b9e;&#x73b0;&#x4e0a;&#x770b;&#xff0c;&#x5728;&#x5185;&#x5b58;&#x4e2d;&#xff0c;&#x5b50;&#x4f8b;&#x7a0b;&#x53ea;&#x4f7f;&#x7528;&#x4e00;&#x4e2a;&#x6808;&#xff08;stack&#xff09;&#xff0c;&#x800c;&#x534f;&#x7a0b;&#x662f;&#x540c;&#x65f6;&#x5b58;&#x5728;&#x591a;&#x4e2a;&#x6808;&#xff0c;&#x4f46;&#x53ea;&#x6709;&#x4e00;&#x4e2a;&#x6808;&#x662f;&#x5728;&#x8fd0;&#x884c;&#x72b6;&#x6001;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x534f;&#x7a0b;&#x662f;&#x4ee5;&#x591a;&#x5360;&#x7528;&#x5185;&#x5b58;&#x4e3a;&#x4ee3;&#x4ef7;&#xff0c;&#x5b9e;&#x73b0;&#x591a;&#x4efb;&#x52a1;&#x7684;&#x5e76;&#x884c;&#x3002;\n\n**&#xff08;2&#xff09;&#x534f;&#x7a0b;&#x4e0e;&#x666e;&#x901a;&#x7ebf;&#x7a0b;&#x7684;&#x5dee;&#x5f02;**\n\n&#x4e0d;&#x96be;&#x770b;&#x51fa;&#xff0c;&#x534f;&#x7a0b;&#x9002;&#x5408;&#x7528;&#x4e8e;&#x591a;&#x4efb;&#x52a1;&#x8fd0;&#x884c;&#x7684;&#x73af;&#x5883;&#x3002;&#x5728;&#x8fd9;&#x4e2a;&#x610f;&#x4e49;&#x4e0a;&#xff0c;&#x5b83;&#x4e0e;&#x666e;&#x901a;&#x7684;&#x7ebf;&#x7a0b;&#x5f88;&#x76f8;&#x4f3c;&#xff0c;&#x90fd;&#x6709;&#x81ea;&#x5df1;&#x7684;&#x6267;&#x884c;&#x4e0a;&#x4e0b;&#x6587;&#x3001;&#x53ef;&#x4ee5;&#x5206;&#x4eab;&#x5168;&#x5c40;&#x53d8;&#x91cf;&#x3002;&#x5b83;&#x4eec;&#x7684;&#x4e0d;&#x540c;&#x4e4b;&#x5904;&#x5728;&#x4e8e;&#xff0c;&#x540c;&#x4e00;&#x65f6;&#x95f4;&#x53ef;&#x4ee5;&#x6709;&#x591a;&#x4e2a;&#x7ebf;&#x7a0b;&#x5904;&#x4e8e;&#x8fd0;&#x884c;&#x72b6;&#x6001;&#xff0c;&#x4f46;&#x662f;&#x8fd0;&#x884c;&#x7684;&#x534f;&#x7a0b;&#x53ea;&#x80fd;&#x6709;&#x4e00;&#x4e2a;&#xff0c;&#x5176;&#x4ed6;&#x534f;&#x7a0b;&#x90fd;&#x5904;&#x4e8e;&#x6682;&#x505c;&#x72b6;&#x6001;&#x3002;&#x6b64;&#x5916;&#xff0c;&#x666e;&#x901a;&#x7684;&#x7ebf;&#x7a0b;&#x662f;&#x62a2;&#x5148;&#x5f0f;&#x7684;&#xff0c;&#x5230;&#x5e95;&#x54ea;&#x4e2a;&#x7ebf;&#x7a0b;&#x4f18;&#x5148;&#x5f97;&#x5230;&#x8d44;&#x6e90;&#xff0c;&#x5fc5;&#x987b;&#x7531;&#x8fd0;&#x884c;&#x73af;&#x5883;&#x51b3;&#x5b9a;&#xff0c;&#x4f46;&#x662f;&#x534f;&#x7a0b;&#x662f;&#x5408;&#x4f5c;&#x5f0f;&#x7684;&#xff0c;&#x6267;&#x884c;&#x6743;&#x7531;&#x534f;&#x7a0b;&#x81ea;&#x5df1;&#x5206;&#x914d;&#x3002;\n\n&#x7531;&#x4e8e; JavaScript &#x662f;&#x5355;&#x7ebf;&#x7a0b;&#x8bed;&#x8a00;&#xff0c;&#x53ea;&#x80fd;&#x4fdd;&#x6301;&#x4e00;&#x4e2a;&#x8c03;&#x7528;&#x6808;&#x3002;&#x5f15;&#x5165;&#x534f;&#x7a0b;&#x4ee5;&#x540e;&#xff0c;&#x6bcf;&#x4e2a;&#x4efb;&#x52a1;&#x53ef;&#x4ee5;&#x4fdd;&#x6301;&#x81ea;&#x5df1;&#x7684;&#x8c03;&#x7528;&#x6808;&#x3002;&#x8fd9;&#x6837;&#x505a;&#x7684;&#x6700;&#x5927;&#x597d;&#x5904;&#xff0c;&#x5c31;&#x662f;&#x629b;&#x51fa;&#x9519;&#x8bef;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x53ef;&#x4ee5;&#x627e;&#x5230;&#x539f;&#x59cb;&#x7684;&#x8c03;&#x7528;&#x6808;&#x3002;&#x4e0d;&#x81f3;&#x4e8e;&#x50cf;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x90a3;&#x6837;&#xff0c;&#x4e00;&#x65e6;&#x51fa;&#x9519;&#xff0c;&#x539f;&#x59cb;&#x7684;&#x8c03;&#x7528;&#x6808;&#x65e9;&#x5c31;&#x7ed3;&#x675f;&#x3002;\n\nGenerator &#x51fd;&#x6570;&#x662f; ES6 &#x5bf9;&#x534f;&#x7a0b;&#x7684;&#x5b9e;&#x73b0;&#xff0c;&#x4f46;&#x5c5e;&#x4e8e;&#x4e0d;&#x5b8c;&#x5168;&#x5b9e;&#x73b0;&#x3002;Generator &#x51fd;&#x6570;&#x88ab;&#x79f0;&#x4e3a;&#x201c;&#x534a;&#x534f;&#x7a0b;&#x201d;&#xff08;semi-coroutine&#xff09;&#xff0c;&#x610f;&#x601d;&#x662f;&#x53ea;&#x6709; Generator &#x51fd;&#x6570;&#x7684;&#x8c03;&#x7528;&#x8005;&#xff0c;&#x624d;&#x80fd;&#x5c06;&#x7a0b;&#x5e8f;&#x7684;&#x6267;&#x884c;&#x6743;&#x8fd8;&#x7ed9; Generator &#x51fd;&#x6570;&#x3002;&#x5982;&#x679c;&#x662f;&#x5b8c;&#x5168;&#x6267;&#x884c;&#x7684;&#x534f;&#x7a0b;&#xff0c;&#x4efb;&#x4f55;&#x51fd;&#x6570;&#x90fd;&#x53ef;&#x4ee5;&#x8ba9;&#x6682;&#x505c;&#x7684;&#x534f;&#x7a0b;&#x7ee7;&#x7eed;&#x6267;&#x884c;&#x3002;\n\n&#x5982;&#x679c;&#x5c06; Generator &#x51fd;&#x6570;&#x5f53;&#x4f5c;&#x534f;&#x7a0b;&#xff0c;&#x5b8c;&#x5168;&#x53ef;&#x4ee5;&#x5c06;&#x591a;&#x4e2a;&#x9700;&#x8981;&#x4e92;&#x76f8;&#x534f;&#x4f5c;&#x7684;&#x4efb;&#x52a1;&#x5199;&#x6210; Generator &#x51fd;&#x6570;&#xff0c;&#x5b83;&#x4eec;&#x4e4b;&#x95f4;&#x4f7f;&#x7528;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x4ea4;&#x6362;&#x63a7;&#x5236;&#x6743;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1246,1263"}}],"payload":{"tag":"h3","lines":"1244,1245"}},{"content":"Generator &#x4e0e;&#x4e0a;&#x4e0b;&#x6587;","children":[{"content":"<pre data-lines=\"1266,1271\"><code>JavaScript &#x4ee3;&#x7801;&#x8fd0;&#x884c;&#x65f6;&#xff0c;&#x4f1a;&#x4ea7;&#x751f;&#x4e00;&#x4e2a;&#x5168;&#x5c40;&#x7684;&#x4e0a;&#x4e0b;&#x6587;&#x73af;&#x5883;&#xff08;context&#xff0c;&#x53c8;&#x79f0;&#x8fd0;&#x884c;&#x73af;&#x5883;&#xff09;&#xff0c;&#x5305;&#x542b;&#x4e86;&#x5f53;&#x524d;&#x6240;&#x6709;&#x7684;&#x53d8;&#x91cf;&#x548c;&#x5bf9;&#x8c61;&#x3002;&#x7136;&#x540e;&#xff0c;&#x6267;&#x884c;&#x51fd;&#x6570;&#xff08;&#x6216;&#x5757;&#x7ea7;&#x4ee3;&#x7801;&#xff09;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x53c8;&#x4f1a;&#x5728;&#x5f53;&#x524d;&#x4e0a;&#x4e0b;&#x6587;&#x73af;&#x5883;&#x7684;&#x4e0a;&#x5c42;&#xff0c;&#x4ea7;&#x751f;&#x4e00;&#x4e2a;&#x51fd;&#x6570;&#x8fd0;&#x884c;&#x7684;&#x4e0a;&#x4e0b;&#x6587;&#xff0c;&#x53d8;&#x6210;&#x5f53;&#x524d;&#xff08;active&#xff09;&#x7684;&#x4e0a;&#x4e0b;&#x6587;&#xff0c;&#x7531;&#x6b64;&#x5f62;&#x6210;&#x4e00;&#x4e2a;&#x4e0a;&#x4e0b;&#x6587;&#x73af;&#x5883;&#x7684;&#x5806;&#x6808;&#xff08;context stack&#xff09;&#x3002;\n\n&#x8fd9;&#x4e2a;&#x5806;&#x6808;&#x662f;&#x201c;&#x540e;&#x8fdb;&#x5148;&#x51fa;&#x201d;&#x7684;&#x6570;&#x636e;&#x7ed3;&#x6784;&#xff0c;&#x6700;&#x540e;&#x4ea7;&#x751f;&#x7684;&#x4e0a;&#x4e0b;&#x6587;&#x73af;&#x5883;&#x9996;&#x5148;&#x6267;&#x884c;&#x5b8c;&#x6210;&#xff0c;&#x9000;&#x51fa;&#x5806;&#x6808;&#xff0c;&#x7136;&#x540e;&#x518d;&#x6267;&#x884c;&#x5b8c;&#x6210;&#x5b83;&#x4e0b;&#x5c42;&#x7684;&#x4e0a;&#x4e0b;&#x6587;&#xff0c;&#x76f4;&#x81f3;&#x6240;&#x6709;&#x4ee3;&#x7801;&#x6267;&#x884c;&#x5b8c;&#x6210;&#xff0c;&#x5806;&#x6808;&#x6e05;&#x7a7a;&#x3002;\n\nGenerator &#x51fd;&#x6570;&#x4e0d;&#x662f;&#x8fd9;&#x6837;&#xff0c;&#x5b83;&#x6267;&#x884c;&#x4ea7;&#x751f;&#x7684;&#x4e0a;&#x4e0b;&#x6587;&#x73af;&#x5883;&#xff0c;&#x4e00;&#x65e6;&#x9047;&#x5230;`yield`&#x547d;&#x4ee4;&#xff0c;&#x5c31;&#x4f1a;&#x6682;&#x65f6;&#x9000;&#x51fa;&#x5806;&#x6808;&#xff0c;&#x4f46;&#x662f;&#x5e76;&#x4e0d;&#x6d88;&#x5931;&#xff0c;&#x91cc;&#x9762;&#x7684;&#x6240;&#x6709;&#x53d8;&#x91cf;&#x548c;&#x5bf9;&#x8c61;&#x4f1a;&#x51bb;&#x7ed3;&#x5728;&#x5f53;&#x524d;&#x72b6;&#x6001;&#x3002;&#x7b49;&#x5230;&#x5bf9;&#x5b83;&#x6267;&#x884c;`next`&#x547d;&#x4ee4;&#x65f6;&#xff0c;&#x8fd9;&#x4e2a;&#x4e0a;&#x4e0b;&#x6587;&#x73af;&#x5883;&#x53c8;&#x4f1a;&#x91cd;&#x65b0;&#x52a0;&#x5165;&#x8c03;&#x7528;&#x6808;&#xff0c;&#x51bb;&#x7ed3;&#x7684;&#x53d8;&#x91cf;&#x548c;&#x5bf9;&#x8c61;&#x6062;&#x590d;&#x6267;&#x884c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1266,1271"}},{"content":"<pre data-lines=\"1272,1285\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">2</span>;\n}\n\n<span class=\"hljs-keyword\">let</span> g = <span class=\"hljs-title function_\">gen</span>();\n\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(\n  g.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-property\">value</span>,\n  g.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-property\">value</span>,\n);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1272,1285"}},{"content":"<pre data-lines=\"1286,1287\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x7b2c;&#x4e00;&#x6b21;&#x6267;&#x884c;`g.next()`&#x65f6;&#xff0c;Generator &#x51fd;&#x6570;`gen`&#x7684;&#x4e0a;&#x4e0b;&#x6587;&#x4f1a;&#x52a0;&#x5165;&#x5806;&#x6808;&#xff0c;&#x5373;&#x5f00;&#x59cb;&#x8fd0;&#x884c;`gen`&#x5185;&#x90e8;&#x7684;&#x4ee3;&#x7801;&#x3002;&#x7b49;&#x9047;&#x5230;`yield 1`&#x65f6;&#xff0c;`gen`&#x4e0a;&#x4e0b;&#x6587;&#x9000;&#x51fa;&#x5806;&#x6808;&#xff0c;&#x5185;&#x90e8;&#x72b6;&#x6001;&#x51bb;&#x7ed3;&#x3002;&#x7b2c;&#x4e8c;&#x6b21;&#x6267;&#x884c;`g.next()`&#x65f6;&#xff0c;`gen`&#x4e0a;&#x4e0b;&#x6587;&#x91cd;&#x65b0;&#x52a0;&#x5165;&#x5806;&#x6808;&#xff0c;&#x53d8;&#x6210;&#x5f53;&#x524d;&#x7684;&#x4e0a;&#x4e0b;&#x6587;&#xff0c;&#x91cd;&#x65b0;&#x6062;&#x590d;&#x6267;&#x884c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1286,1287"}}],"payload":{"tag":"h3","lines":"1264,1265"}}],"payload":{"tag":"h2","lines":"1212,1213"}},{"content":"&#x5e94;&#x7528;","children":[{"content":"<pre data-lines=\"1292,1293\"><code>Generator &#x53ef;&#x4ee5;&#x6682;&#x505c;&#x51fd;&#x6570;&#x6267;&#x884c;&#xff0c;&#x8fd4;&#x56de;&#x4efb;&#x610f;&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x503c;&#x3002;&#x8fd9;&#x79cd;&#x7279;&#x70b9;&#x4f7f;&#x5f97; Generator &#x6709;&#x591a;&#x79cd;&#x5e94;&#x7528;&#x573a;&#x666f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1292,1293"}},{"content":"&#xff08;1&#xff09;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x7684;&#x540c;&#x6b65;&#x5316;&#x8868;&#x8fbe;","children":[{"content":"<pre data-lines=\"1296,1297\"><code>Generator &#x51fd;&#x6570;&#x7684;&#x6682;&#x505c;&#x6267;&#x884c;&#x7684;&#x6548;&#x679c;&#xff0c;&#x610f;&#x5473;&#x7740;&#x53ef;&#x4ee5;&#x628a;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x5199;&#x5728;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x91cc;&#x9762;&#xff0c;&#x7b49;&#x5230;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#x65f6;&#x518d;&#x5f80;&#x540e;&#x6267;&#x884c;&#x3002;&#x8fd9;&#x5b9e;&#x9645;&#x4e0a;&#x7b49;&#x540c;&#x4e8e;&#x4e0d;&#x9700;&#x8981;&#x5199;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x4e86;&#xff0c;&#x56e0;&#x4e3a;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x7684;&#x540e;&#x7eed;&#x64cd;&#x4f5c;&#x53ef;&#x4ee5;&#x653e;&#x5728;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x4e0b;&#x9762;&#xff0c;&#x53cd;&#x6b63;&#x8981;&#x7b49;&#x5230;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#x65f6;&#x518d;&#x6267;&#x884c;&#x3002;&#x6240;&#x4ee5;&#xff0c;Generator &#x51fd;&#x6570;&#x7684;&#x4e00;&#x4e2a;&#x91cd;&#x8981;&#x5b9e;&#x9645;&#x610f;&#x4e49;&#x5c31;&#x662f;&#x7528;&#x6765;&#x5904;&#x7406;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#xff0c;&#x6539;&#x5199;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1296,1297"}},{"content":"<pre data-lines=\"1298,1311\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">loadUI</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-title function_\">showLoadingScreen</span>();\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">loadUIDataAsynchronously</span>();\n  <span class=\"hljs-title function_\">hideLoadingScreen</span>();\n}\n<span class=\"hljs-keyword\">var</span> loader = <span class=\"hljs-title function_\">loadUI</span>();\n<span class=\"hljs-comment\">// &#x52a0;&#x8f7d;UI</span>\nloader.<span class=\"hljs-title function_\">next</span>()\n\n<span class=\"hljs-comment\">// &#x5378;&#x8f7d;UI</span>\nloader.<span class=\"hljs-title function_\">next</span>()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1298,1311"}},{"content":"<pre data-lines=\"1312,1315\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x7b2c;&#x4e00;&#x6b21;&#x8c03;&#x7528;`loadUI`&#x51fd;&#x6570;&#x65f6;&#xff0c;&#x8be5;&#x51fd;&#x6570;&#x4e0d;&#x4f1a;&#x6267;&#x884c;&#xff0c;&#x4ec5;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#x3002;&#x4e0b;&#x4e00;&#x6b21;&#x5bf9;&#x8be5;&#x904d;&#x5386;&#x5668;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#xff0c;&#x5219;&#x4f1a;&#x663e;&#x793a;`Loading`&#x754c;&#x9762;&#xff08;`showLoadingScreen`&#xff09;&#xff0c;&#x5e76;&#x4e14;&#x5f02;&#x6b65;&#x52a0;&#x8f7d;&#x6570;&#x636e;&#xff08;`loadUIDataAsynchronously`&#xff09;&#x3002;&#x7b49;&#x5230;&#x6570;&#x636e;&#x52a0;&#x8f7d;&#x5b8c;&#x6210;&#xff0c;&#x518d;&#x4e00;&#x6b21;&#x4f7f;&#x7528;`next`&#x65b9;&#x6cd5;&#xff0c;&#x5219;&#x4f1a;&#x9690;&#x85cf;`Loading`&#x754c;&#x9762;&#x3002;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#xff0c;&#x8fd9;&#x79cd;&#x5199;&#x6cd5;&#x7684;&#x597d;&#x5904;&#x662f;&#x6240;&#x6709;`Loading`&#x754c;&#x9762;&#x7684;&#x903b;&#x8f91;&#xff0c;&#x90fd;&#x88ab;&#x5c01;&#x88c5;&#x5728;&#x4e00;&#x4e2a;&#x51fd;&#x6570;&#xff0c;&#x6309;&#x90e8;&#x5c31;&#x73ed;&#x975e;&#x5e38;&#x6e05;&#x6670;&#x3002;\n\nAjax &#x662f;&#x5178;&#x578b;&#x7684;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#xff0c;&#x901a;&#x8fc7; Generator &#x51fd;&#x6570;&#x90e8;&#x7f72; Ajax &#x64cd;&#x4f5c;&#xff0c;&#x53ef;&#x4ee5;&#x7528;&#x540c;&#x6b65;&#x7684;&#x65b9;&#x5f0f;&#x8868;&#x8fbe;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1312,1315"}},{"content":"<pre data-lines=\"1316,1332\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">main</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">var</span> result = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">request</span>(<span class=\"hljs-string\">&quot;http://some.url&quot;</span>);\n  <span class=\"hljs-keyword\">var</span> resp = <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">parse</span>(result);\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(resp.<span class=\"hljs-property\">value</span>);\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">request</span>(<span class=\"hljs-params\">url</span>) {\n  <span class=\"hljs-title function_\">makeAjaxCall</span>(url, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">response</span>){\n    it.<span class=\"hljs-title function_\">next</span>(response);\n  });\n}\n\n<span class=\"hljs-keyword\">var</span> it = <span class=\"hljs-title function_\">main</span>();\nit.<span class=\"hljs-title function_\">next</span>();\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1316,1332"}},{"content":"<pre data-lines=\"1333,1336\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;`main`&#x51fd;&#x6570;&#xff0c;&#x5c31;&#x662f;&#x901a;&#x8fc7; Ajax &#x64cd;&#x4f5c;&#x83b7;&#x53d6;&#x6570;&#x636e;&#x3002;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#xff0c;&#x9664;&#x4e86;&#x591a;&#x4e86;&#x4e00;&#x4e2a;`yield`&#xff0c;&#x5b83;&#x51e0;&#x4e4e;&#x4e0e;&#x540c;&#x6b65;&#x64cd;&#x4f5c;&#x7684;&#x5199;&#x6cd5;&#x5b8c;&#x5168;&#x4e00;&#x6837;&#x3002;&#x6ce8;&#x610f;&#xff0c;`makeAjaxCall`&#x51fd;&#x6570;&#x4e2d;&#x7684;`next`&#x65b9;&#x6cd5;&#xff0c;&#x5fc5;&#x987b;&#x52a0;&#x4e0a;`response`&#x53c2;&#x6570;&#xff0c;&#x56e0;&#x4e3a;`yield`&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x672c;&#x8eab;&#x662f;&#x6ca1;&#x6709;&#x503c;&#x7684;&#xff0c;&#x603b;&#x662f;&#x7b49;&#x4e8e;`undefined`&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x53e6;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#xff0c;&#x901a;&#x8fc7; Generator &#x51fd;&#x6570;&#x9010;&#x884c;&#x8bfb;&#x53d6;&#x6587;&#x672c;&#x6587;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1333,1336"}},{"content":"<pre data-lines=\"1337,1349\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">numbers</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">let</span> file = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileReader</span>(<span class=\"hljs-string\">&quot;numbers.txt&quot;</span>);\n  <span class=\"hljs-keyword\">try</span> {\n    <span class=\"hljs-keyword\">while</span>(!file.<span class=\"hljs-property\">eof</span>) {\n      <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-built_in\">parseInt</span>(file.<span class=\"hljs-title function_\">readLine</span>(), <span class=\"hljs-number\">10</span>);\n    }\n  } <span class=\"hljs-keyword\">finally</span> {\n    file.<span class=\"hljs-title function_\">close</span>();\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1337,1349"}},{"content":"<pre data-lines=\"1350,1351\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x6253;&#x5f00;&#x6587;&#x672c;&#x6587;&#x4ef6;&#xff0c;&#x4f7f;&#x7528;`yield`&#x8868;&#x8fbe;&#x5f0f;&#x53ef;&#x4ee5;&#x624b;&#x52a8;&#x9010;&#x884c;&#x8bfb;&#x53d6;&#x6587;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1350,1351"}}],"payload":{"tag":"h3","lines":"1294,1295"}},{"content":"&#xff08;2&#xff09;&#x63a7;&#x5236;&#x6d41;&#x7ba1;&#x7406;","children":[{"content":"<pre data-lines=\"1354,1355\"><code>&#x5982;&#x679c;&#x6709;&#x4e00;&#x4e2a;&#x591a;&#x6b65;&#x64cd;&#x4f5c;&#x975e;&#x5e38;&#x8017;&#x65f6;&#xff0c;&#x91c7;&#x7528;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x53ef;&#x80fd;&#x4f1a;&#x5199;&#x6210;&#x4e0b;&#x9762;&#x8fd9;&#x6837;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1354,1355"}},{"content":"<pre data-lines=\"1356,1367\"><code class=\"language-javascript\"><span class=\"hljs-title function_\">step1</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">value1</span>) {\n  <span class=\"hljs-title function_\">step2</span>(value1, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">value2</span>) {\n    <span class=\"hljs-title function_\">step3</span>(value2, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">value3</span>) {\n      <span class=\"hljs-title function_\">step4</span>(value3, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">value4</span>) {\n        <span class=\"hljs-comment\">// Do something with value4</span>\n      });\n    });\n  });\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1356,1367"}},{"content":"<pre data-lines=\"1368,1369\"><code>&#x91c7;&#x7528; Promise &#x6539;&#x5199;&#x4e0a;&#x9762;&#x7684;&#x4ee3;&#x7801;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1368,1369"}},{"content":"<pre data-lines=\"1370,1382\"><code class=\"language-javascript\"><span class=\"hljs-title class_\">Promise</span>.<span class=\"hljs-title function_\">resolve</span>(step1)\n  .<span class=\"hljs-title function_\">then</span>(step2)\n  .<span class=\"hljs-title function_\">then</span>(step3)\n  .<span class=\"hljs-title function_\">then</span>(step4)\n  .<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">value4</span>) {\n    <span class=\"hljs-comment\">// Do something with value4</span>\n  }, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">error</span>) {\n    <span class=\"hljs-comment\">// Handle any error from step1 through step4</span>\n  })\n  .<span class=\"hljs-title function_\">done</span>();\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1370,1382"}},{"content":"<pre data-lines=\"1383,1384\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5df2;&#x7ecf;&#x628a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x6539;&#x6210;&#x4e86;&#x76f4;&#x7ebf;&#x6267;&#x884c;&#x7684;&#x5f62;&#x5f0f;&#xff0c;&#x4f46;&#x662f;&#x52a0;&#x5165;&#x4e86;&#x5927;&#x91cf; Promise &#x7684;&#x8bed;&#x6cd5;&#x3002;Generator &#x51fd;&#x6570;&#x53ef;&#x4ee5;&#x8fdb;&#x4e00;&#x6b65;&#x6539;&#x5584;&#x4ee3;&#x7801;&#x8fd0;&#x884c;&#x6d41;&#x7a0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1383,1384"}},{"content":"<pre data-lines=\"1385,1398\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">longRunningTask</span>(<span class=\"hljs-params\">value1</span>) {\n  <span class=\"hljs-keyword\">try</span> {\n    <span class=\"hljs-keyword\">var</span> value2 = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">step1</span>(value1);\n    <span class=\"hljs-keyword\">var</span> value3 = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">step2</span>(value2);\n    <span class=\"hljs-keyword\">var</span> value4 = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">step3</span>(value3);\n    <span class=\"hljs-keyword\">var</span> value5 = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">step4</span>(value4);\n    <span class=\"hljs-comment\">// Do something with value4</span>\n  } <span class=\"hljs-keyword\">catch</span> (e) {\n    <span class=\"hljs-comment\">// Handle any error from step1 through step4</span>\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1385,1398"}},{"content":"<pre data-lines=\"1399,1400\"><code>&#x7136;&#x540e;&#xff0c;&#x4f7f;&#x7528;&#x4e00;&#x4e2a;&#x51fd;&#x6570;&#xff0c;&#x6309;&#x6b21;&#x5e8f;&#x81ea;&#x52a8;&#x6267;&#x884c;&#x6240;&#x6709;&#x6b65;&#x9aa4;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1399,1400"}},{"content":"<pre data-lines=\"1401,1413\"><code class=\"language-javascript\"><span class=\"hljs-title function_\">scheduler</span>(<span class=\"hljs-title function_\">longRunningTask</span>(initialValue));\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">scheduler</span>(<span class=\"hljs-params\">task</span>) {\n  <span class=\"hljs-keyword\">var</span> taskObj = task.<span class=\"hljs-title function_\">next</span>(task.<span class=\"hljs-property\">value</span>);\n  <span class=\"hljs-comment\">// &#x5982;&#x679c;Generator&#x51fd;&#x6570;&#x672a;&#x7ed3;&#x675f;&#xff0c;&#x5c31;&#x7ee7;&#x7eed;&#x8c03;&#x7528;</span>\n  <span class=\"hljs-keyword\">if</span> (!taskObj.<span class=\"hljs-property\">done</span>) {\n    task.<span class=\"hljs-property\">value</span> = taskObj.<span class=\"hljs-property\">value</span>\n    <span class=\"hljs-title function_\">scheduler</span>(task);\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1401,1413"}},{"content":"<pre data-lines=\"1414,1417\"><code>&#x6ce8;&#x610f;&#xff0c;&#x4e0a;&#x9762;&#x8fd9;&#x79cd;&#x505a;&#x6cd5;&#xff0c;&#x53ea;&#x9002;&#x5408;&#x540c;&#x6b65;&#x64cd;&#x4f5c;&#xff0c;&#x5373;&#x6240;&#x6709;&#x7684;`task`&#x90fd;&#x5fc5;&#x987b;&#x662f;&#x540c;&#x6b65;&#x7684;&#xff0c;&#x4e0d;&#x80fd;&#x6709;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x3002;&#x56e0;&#x4e3a;&#x8fd9;&#x91cc;&#x7684;&#x4ee3;&#x7801;&#x4e00;&#x5f97;&#x5230;&#x8fd4;&#x56de;&#x503c;&#xff0c;&#x5c31;&#x7ee7;&#x7eed;&#x5f80;&#x4e0b;&#x6267;&#x884c;&#xff0c;&#x6ca1;&#x6709;&#x5224;&#x65ad;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x4f55;&#x65f6;&#x5b8c;&#x6210;&#x3002;&#x5982;&#x679c;&#x8981;&#x63a7;&#x5236;&#x5f02;&#x6b65;&#x7684;&#x64cd;&#x4f5c;&#x6d41;&#x7a0b;&#xff0c;&#x8be6;&#x89c1;&#x540e;&#x9762;&#x7684;&#x300a;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x300b;&#x4e00;&#x7ae0;&#x3002;\n\n&#x4e0b;&#x9762;&#xff0c;&#x5229;&#x7528;`for...of`&#x5faa;&#x73af;&#x4f1a;&#x81ea;&#x52a8;&#x4f9d;&#x6b21;&#x6267;&#x884c;`yield`&#x547d;&#x4ee4;&#x7684;&#x7279;&#x6027;&#xff0c;&#x63d0;&#x4f9b;&#x4e00;&#x79cd;&#x66f4;&#x4e00;&#x822c;&#x7684;&#x63a7;&#x5236;&#x6d41;&#x7ba1;&#x7406;&#x7684;&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1414,1417"}},{"content":"<pre data-lines=\"1418,1428\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">let</span> steps = [step1Func, step2Func, step3Func];\n\n<span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">iterateSteps</span>(<span class=\"hljs-params\">steps</span>){\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i=<span class=\"hljs-number\">0</span>; i&lt; steps.<span class=\"hljs-property\">length</span>; i++){\n    <span class=\"hljs-keyword\">var</span> step = steps[i];\n    <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">step</span>();\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1418,1428"}},{"content":"<pre data-lines=\"1429,1432\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x6570;&#x7ec4;`steps`&#x5c01;&#x88c5;&#x4e86;&#x4e00;&#x4e2a;&#x4efb;&#x52a1;&#x7684;&#x591a;&#x4e2a;&#x6b65;&#x9aa4;&#xff0c;Generator &#x51fd;&#x6570;`iterateSteps`&#x5219;&#x662f;&#x4f9d;&#x6b21;&#x4e3a;&#x8fd9;&#x4e9b;&#x6b65;&#x9aa4;&#x52a0;&#x4e0a;`yield`&#x547d;&#x4ee4;&#x3002;\n\n&#x5c06;&#x4efb;&#x52a1;&#x5206;&#x89e3;&#x6210;&#x6b65;&#x9aa4;&#x4e4b;&#x540e;&#xff0c;&#x8fd8;&#x53ef;&#x4ee5;&#x5c06;&#x9879;&#x76ee;&#x5206;&#x89e3;&#x6210;&#x591a;&#x4e2a;&#x4f9d;&#x6b21;&#x6267;&#x884c;&#x7684;&#x4efb;&#x52a1;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1429,1432"}},{"content":"<pre data-lines=\"1433,1443\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">let</span> jobs = [job1, job2, job3];\n\n<span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">iterateJobs</span>(<span class=\"hljs-params\">jobs</span>){\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i=<span class=\"hljs-number\">0</span>; i&lt; jobs.<span class=\"hljs-property\">length</span>; i++){\n    <span class=\"hljs-keyword\">var</span> job = jobs[i];\n    <span class=\"hljs-keyword\">yield</span>* <span class=\"hljs-title function_\">iterateSteps</span>(job.<span class=\"hljs-property\">steps</span>);\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1433,1443"}},{"content":"<pre data-lines=\"1444,1447\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x6570;&#x7ec4;`jobs`&#x5c01;&#x88c5;&#x4e86;&#x4e00;&#x4e2a;&#x9879;&#x76ee;&#x7684;&#x591a;&#x4e2a;&#x4efb;&#x52a1;&#xff0c;Generator &#x51fd;&#x6570;`iterateJobs`&#x5219;&#x662f;&#x4f9d;&#x6b21;&#x4e3a;&#x8fd9;&#x4e9b;&#x4efb;&#x52a1;&#x52a0;&#x4e0a;`yield*`&#x547d;&#x4ee4;&#x3002;\n\n&#x6700;&#x540e;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x7528;`for...of`&#x5faa;&#x73af;&#x4e00;&#x6b21;&#x6027;&#x4f9d;&#x6b21;&#x6267;&#x884c;&#x6240;&#x6709;&#x4efb;&#x52a1;&#x7684;&#x6240;&#x6709;&#x6b65;&#x9aa4;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1444,1447"}},{"content":"<pre data-lines=\"1448,1453\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> step <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">iterateJobs</span>(jobs)){\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(step.<span class=\"hljs-property\">id</span>);\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1448,1453"}},{"content":"<pre data-lines=\"1454,1457\"><code>&#x518d;&#x6b21;&#x63d0;&#x9192;&#xff0c;&#x4e0a;&#x9762;&#x7684;&#x505a;&#x6cd5;&#x53ea;&#x80fd;&#x7528;&#x4e8e;&#x6240;&#x6709;&#x6b65;&#x9aa4;&#x90fd;&#x662f;&#x540c;&#x6b65;&#x64cd;&#x4f5c;&#x7684;&#x60c5;&#x51b5;&#xff0c;&#x4e0d;&#x80fd;&#x6709;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x7684;&#x6b65;&#x9aa4;&#x3002;&#x5982;&#x679c;&#x60f3;&#x8981;&#x4f9d;&#x6b21;&#x6267;&#x884c;&#x5f02;&#x6b65;&#x7684;&#x6b65;&#x9aa4;&#xff0c;&#x5fc5;&#x987b;&#x4f7f;&#x7528;&#x540e;&#x9762;&#x7684;&#x300a;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x300b;&#x4e00;&#x7ae0;&#x4ecb;&#x7ecd;&#x7684;&#x65b9;&#x6cd5;&#x3002;\n\n`for...of`&#x7684;&#x672c;&#x8d28;&#x662f;&#x4e00;&#x4e2a;`while`&#x5faa;&#x73af;&#xff0c;&#x6240;&#x4ee5;&#x4e0a;&#x9762;&#x7684;&#x4ee3;&#x7801;&#x5b9e;&#x8d28;&#x4e0a;&#x6267;&#x884c;&#x7684;&#x662f;&#x4e0b;&#x9762;&#x7684;&#x903b;&#x8f91;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1454,1457"}},{"content":"<pre data-lines=\"1458,1468\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> it = <span class=\"hljs-title function_\">iterateJobs</span>(jobs);\n<span class=\"hljs-keyword\">var</span> res = it.<span class=\"hljs-title function_\">next</span>();\n\n<span class=\"hljs-keyword\">while</span> (!res.<span class=\"hljs-property\">done</span>){\n  <span class=\"hljs-keyword\">var</span> result = res.<span class=\"hljs-property\">value</span>;\n  <span class=\"hljs-comment\">// ...</span>\n  res = it.<span class=\"hljs-title function_\">next</span>();\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1458,1468"}}],"payload":{"tag":"h3","lines":"1352,1353"}},{"content":"&#xff08;3&#xff09;&#x90e8;&#x7f72; Iterator &#x63a5;&#x53e3;","children":[{"content":"<pre data-lines=\"1471,1472\"><code>&#x5229;&#x7528; Generator &#x51fd;&#x6570;&#xff0c;&#x53ef;&#x4ee5;&#x5728;&#x4efb;&#x610f;&#x5bf9;&#x8c61;&#x4e0a;&#x90e8;&#x7f72; Iterator &#x63a5;&#x53e3;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1471,1472"}},{"content":"<pre data-lines=\"1473,1491\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">iterEntries</span>(<span class=\"hljs-params\">obj</span>) {\n  <span class=\"hljs-keyword\">let</span> keys = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">keys</span>(obj);\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> i=<span class=\"hljs-number\">0</span>; i &lt; keys.<span class=\"hljs-property\">length</span>; i++) {\n    <span class=\"hljs-keyword\">let</span> key = keys[i];\n    <span class=\"hljs-keyword\">yield</span> [key, obj[key]];\n  }\n}\n\n<span class=\"hljs-keyword\">let</span> myObj = { <span class=\"hljs-attr\">foo</span>: <span class=\"hljs-number\">3</span>, <span class=\"hljs-attr\">bar</span>: <span class=\"hljs-number\">7</span> };\n\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> [key, value] <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">iterEntries</span>(myObj)) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(key, value);\n}\n\n<span class=\"hljs-comment\">// foo 3</span>\n<span class=\"hljs-comment\">// bar 7</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1473,1491"}},{"content":"<pre data-lines=\"1492,1495\"><code>&#x4e0a;&#x8ff0;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`myObj`&#x662f;&#x4e00;&#x4e2a;&#x666e;&#x901a;&#x5bf9;&#x8c61;&#xff0c;&#x901a;&#x8fc7;`iterEntries`&#x51fd;&#x6570;&#xff0c;&#x5c31;&#x6709;&#x4e86; Iterator &#x63a5;&#x53e3;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x53ef;&#x4ee5;&#x5728;&#x4efb;&#x610f;&#x5bf9;&#x8c61;&#x4e0a;&#x90e8;&#x7f72;`next`&#x65b9;&#x6cd5;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x5bf9;&#x6570;&#x7ec4;&#x90e8;&#x7f72; Iterator &#x63a5;&#x53e3;&#x7684;&#x4f8b;&#x5b50;&#xff0c;&#x5c3d;&#x7ba1;&#x6570;&#x7ec4;&#x539f;&#x751f;&#x5177;&#x6709;&#x8fd9;&#x4e2a;&#x63a5;&#x53e3;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1492,1495"}},{"content":"<pre data-lines=\"1496,1511\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">makeSimpleGenerator</span>(<span class=\"hljs-params\">array</span>){\n  <span class=\"hljs-keyword\">var</span> nextIndex = <span class=\"hljs-number\">0</span>;\n\n  <span class=\"hljs-keyword\">while</span>(nextIndex &lt; array.<span class=\"hljs-property\">length</span>){\n    <span class=\"hljs-keyword\">yield</span> array[nextIndex++];\n  }\n}\n\n<span class=\"hljs-keyword\">var</span> gen = <span class=\"hljs-title function_\">makeSimpleGenerator</span>([<span class=\"hljs-string\">&apos;yo&apos;</span>, <span class=\"hljs-string\">&apos;ya&apos;</span>]);\n\ngen.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-property\">value</span> <span class=\"hljs-comment\">// &apos;yo&apos;</span>\ngen.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-property\">value</span> <span class=\"hljs-comment\">// &apos;ya&apos;</span>\ngen.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-property\">done</span>  <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1496,1511"}}],"payload":{"tag":"h3","lines":"1469,1470"}},{"content":"&#xff08;4&#xff09;&#x4f5c;&#x4e3a;&#x6570;&#x636e;&#x7ed3;&#x6784;","children":[{"content":"<pre data-lines=\"1514,1515\"><code>Generator &#x53ef;&#x4ee5;&#x770b;&#x4f5c;&#x662f;&#x6570;&#x636e;&#x7ed3;&#x6784;&#xff0c;&#x66f4;&#x786e;&#x5207;&#x5730;&#x8bf4;&#xff0c;&#x53ef;&#x4ee5;&#x770b;&#x4f5c;&#x662f;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;&#x7ed3;&#x6784;&#xff0c;&#x56e0;&#x4e3a; Generator &#x51fd;&#x6570;&#x53ef;&#x4ee5;&#x8fd4;&#x56de;&#x4e00;&#x7cfb;&#x5217;&#x7684;&#x503c;&#xff0c;&#x8fd9;&#x610f;&#x5473;&#x7740;&#x5b83;&#x53ef;&#x4ee5;&#x5bf9;&#x4efb;&#x610f;&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x63d0;&#x4f9b;&#x7c7b;&#x4f3c;&#x6570;&#x7ec4;&#x7684;&#x63a5;&#x53e3;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1514,1515"}},{"content":"<pre data-lines=\"1516,1523\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">doStuff</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> fs.<span class=\"hljs-property\">readFile</span>.<span class=\"hljs-title function_\">bind</span>(<span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&apos;hello.txt&apos;</span>);\n  <span class=\"hljs-keyword\">yield</span> fs.<span class=\"hljs-property\">readFile</span>.<span class=\"hljs-title function_\">bind</span>(<span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&apos;world.txt&apos;</span>);\n  <span class=\"hljs-keyword\">yield</span> fs.<span class=\"hljs-property\">readFile</span>.<span class=\"hljs-title function_\">bind</span>(<span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&apos;and-such.txt&apos;</span>);\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1516,1523"}},{"content":"<pre data-lines=\"1524,1525\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5c31;&#x662f;&#x4f9d;&#x6b21;&#x8fd4;&#x56de;&#x4e09;&#x4e2a;&#x51fd;&#x6570;&#xff0c;&#x4f46;&#x662f;&#x7531;&#x4e8e;&#x4f7f;&#x7528;&#x4e86; Generator &#x51fd;&#x6570;&#xff0c;&#x5bfc;&#x81f4;&#x53ef;&#x4ee5;&#x50cf;&#x5904;&#x7406;&#x6570;&#x7ec4;&#x90a3;&#x6837;&#xff0c;&#x5904;&#x7406;&#x8fd9;&#x4e09;&#x4e2a;&#x8fd4;&#x56de;&#x7684;&#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1524,1525"}},{"content":"<pre data-lines=\"1526,1531\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">for</span> (task <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">doStuff</span>()) {\n  <span class=\"hljs-comment\">// task&#x662f;&#x4e00;&#x4e2a;&#x51fd;&#x6570;&#xff0c;&#x53ef;&#x4ee5;&#x50cf;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x90a3;&#x6837;&#x4f7f;&#x7528;&#x5b83;</span>\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1526,1531"}},{"content":"<pre data-lines=\"1532,1533\"><code>&#x5b9e;&#x9645;&#x4e0a;&#xff0c;&#x5982;&#x679c;&#x7528; ES5 &#x8868;&#x8fbe;&#xff0c;&#x5b8c;&#x5168;&#x53ef;&#x4ee5;&#x7528;&#x6570;&#x7ec4;&#x6a21;&#x62df; Generator &#x7684;&#x8fd9;&#x79cd;&#x7528;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1532,1533"}},{"content":"<pre data-lines=\"1534,1543\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">doStuff</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">return</span> [\n    fs.<span class=\"hljs-property\">readFile</span>.<span class=\"hljs-title function_\">bind</span>(<span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&apos;hello.txt&apos;</span>),\n    fs.<span class=\"hljs-property\">readFile</span>.<span class=\"hljs-title function_\">bind</span>(<span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&apos;world.txt&apos;</span>),\n    fs.<span class=\"hljs-property\">readFile</span>.<span class=\"hljs-title function_\">bind</span>(<span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&apos;and-such.txt&apos;</span>)\n  ];\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1534,1543"}},{"content":"<pre data-lines=\"1544,1545\"><code>&#x4e0a;&#x9762;&#x7684;&#x51fd;&#x6570;&#xff0c;&#x53ef;&#x4ee5;&#x7528;&#x4e00;&#x6a21;&#x4e00;&#x6837;&#x7684;`for...of`&#x5faa;&#x73af;&#x5904;&#x7406;&#xff01;&#x4e24;&#x76f8;&#x4e00;&#x6bd4;&#x8f83;&#xff0c;&#x5c31;&#x4e0d;&#x96be;&#x770b;&#x51fa; Generator &#x4f7f;&#x5f97;&#x6570;&#x636e;&#x6216;&#x8005;&#x64cd;&#x4f5c;&#xff0c;&#x5177;&#x5907;&#x4e86;&#x7c7b;&#x4f3c;&#x6570;&#x7ec4;&#x7684;&#x63a5;&#x53e3;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1544,1545"}}],"payload":{"tag":"h3","lines":"1512,1513"}}],"payload":{"tag":"h2","lines":"1288,1289"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
