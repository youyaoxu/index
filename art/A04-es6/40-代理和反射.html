<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"<a href=\"https://www.cnblogs.com/xiaohuochai/p/7268600.html\">&#x4ee3;&#x7406;(Proxy)&#x548c;&#x53cd;&#x5c04;(Reflection)</a><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAoklEQVQ4T+2T4Q2CMBCFv27CBjgCG+gIjAAbOAIjOIJs4Ai6gRvIBpjXXCOp19T/8pJLoTneXcj3Ah91wAV4bu68xwXoAZ2EzEAmE9AWTB6AelRDyaAx9zgh0wE4ATczcTdIE7wl0oe7wX/8RMHigfQTB3fDdM1IEvYyONdIVEOSqDwCY2Z2NaS/UNbqMSQmvauUPlfbNKpBSdTUVyXSs/XyBlRCNBG20I28AAAAAElFTkSuQmCC\" alt=\"img\">","children":[{"content":"&#x524d;&#x9762;&#x7684;&#x8bdd;","children":[{"content":"<pre data-lines=\"6,7\"><code>&#x3000;&#x3000;ES5&#x548c;ES6&#x81f4;&#x529b;&#x4e8e;&#x4e3a;&#x5f00;&#x53d1;&#x8005;&#x63d0;&#x4f9b;JS&#x5df2;&#x6709;&#x5374;&#x4e0d;&#x53ef;&#x8c03;&#x7528;&#x7684;&#x529f;&#x80fd;&#x3002;&#x4f8b;&#x5982;&#x5728;ES5&#x51fa;&#x73b0;&#x4ee5;&#x524d;&#xff0c;JS&#x73af;&#x5883;&#x4e2d;&#x7684;&#x5bf9;&#x8c61;&#x5305;&#x542b;&#x8bb8;&#x591a;&#x4e0d;&#x53ef;&#x679a;&#x4e3e;&#x548c;&#x4e0d;&#x53ef;&#x5199;&#x7684;&#x5c5e;&#x6027;&#xff0c;&#x4f46;&#x5f00;&#x53d1;&#x8005;&#x4e0d;&#x80fd;&#x5b9a;&#x4e49;&#x81ea;&#x5df1;&#x7684;&#x4e0d;&#x53ef;&#x679a;&#x4e3e;&#x6216;&#x4e0d;&#x53ef;&#x5199;&#x5c5e;&#x6027;&#xff0c;&#x4e8e;&#x662f;ES5&#x5f15;&#x5165;&#x4e86;Object.defineProperty()&#x65b9;&#x6cd5;&#x6765;&#x652f;&#x6301;&#x5f00;&#x53d1;&#x8005;&#x53bb;&#x505a;JS&#x5f15;&#x64ce;&#x65e9;&#x5c31;&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#x7684;&#x4e8b;&#x60c5;&#x3002;ES6&#x6dfb;&#x52a0;&#x4e86;&#x4e00;&#x4e9b;&#x5185;&#x5efa;&#x5bf9;&#x8c61;&#xff0c;&#x8d4b;&#x4e88;&#x5f00;&#x53d1;&#x8005;&#x66f4;&#x591a;&#x8bbf;&#x95ee;JS&#x5f15;&#x64ce;&#x7684;&#x80fd;&#x529b;&#x3002;&#x4ee3;&#x7406;(Proxy)&#x662f;&#x4e00;&#x79cd;&#x53ef;&#x4ee5;&#x62e6;&#x622a;&#x5e76;&#x6539;&#x53d8;&#x5e95;&#x5c42;JS&#x5f15;&#x64ce;&#x64cd;&#x4f5c;&#x7684;&#x5305;&#x88c5;&#x5668;&#xff0c;&#x5728;&#x65b0;&#x8bed;&#x8a00;&#x4e2d;&#x901a;&#x8fc7;&#x5b83;&#x66b4;&#x9732;&#x5185;&#x90e8;&#x8fd0;&#x4f5c;&#x7684;&#x5bf9;&#x8c61;&#xff0c;&#x4ece;&#x800c;&#x8ba9;&#x5f00;&#x53d1;&#x8005;&#x53ef;&#x4ee5;&#x521b;&#x5efa;&#x5185;&#x5efa;&#x7684;&#x5bf9;&#x8c61;&#x3002;&#x672c;&#x6587;&#x5c06;&#x8be6;&#x7ec6;&#x4ecb;&#x7ecd;&#x4ee3;&#x7406;(Proxy)&#x548c;&#x53cd;&#x5c04;(Reflection)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"6,7"}},{"content":"&#x5f15;&#x5165;","children":[{"content":"<pre data-lines=\"12,15\"><code>&#x3010;&#x6570;&#x7ec4;&#x95ee;&#x9898;&#x3011;\n\n&#x3000;&#x3000;&#x5728;ES6&#x4e4b;&#x524d;&#xff0c;&#x5f00;&#x53d1;&#x8005;&#x4e0d;&#x80fd;&#x901a;&#x8fc7;&#x81ea;&#x5df1;&#x5b9a;&#x4e49;&#x7684;&#x5bf9;&#x8c61;&#x6a21;&#x4eff;JS&#x6570;&#x7ec4;&#x5bf9;&#x8c61;&#x7684;&#x884c;&#x4e3a;&#x65b9;&#x5f0f;&#x3002;&#x5f53;&#x7ed9;&#x6570;&#x7ec4;&#x7684;&#x7279;&#x5b9a;&#x5143;&#x7d20;&#x8d4b;&#x503c;&#x65f6;&#xff0c;&#x5f71;&#x54cd;&#x5230;&#x8be5;&#x6570;&#x7ec4;&#x7684;length&#x5c5e;&#x6027;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;length&#x5c5e;&#x6027;&#x4fee;&#x6539;&#x6570;&#x7ec4;&#x5143;&#x7d20;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"12,15"}},{"content":"<pre data-lines=\"18,30\"><code data-lines=\"18,30\">let colors = [<span class=\"hljs-string\">&quot;red&quot;</span>, <span class=\"hljs-string\">&quot;green&quot;</span>, <span class=\"hljs-string\">&quot;blue&quot;</span>];\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(colors.<span class=\"hljs-built_in\">length</span>); <span class=\"hljs-comment\">// 3</span>\ncolors[<span class=\"hljs-number\">3</span>] = <span class=\"hljs-string\">&quot;black&quot;</span>;\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(colors.<span class=\"hljs-built_in\">length</span>); <span class=\"hljs-comment\">// 4</span>\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(colors[<span class=\"hljs-number\">3</span>]); <span class=\"hljs-comment\">// &quot;black&quot;</span>\ncolors.<span class=\"hljs-built_in\">length</span> = <span class=\"hljs-number\">2</span>;\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(colors.<span class=\"hljs-built_in\">length</span>); <span class=\"hljs-comment\">// 2</span>\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(colors[<span class=\"hljs-number\">3</span>]); <span class=\"hljs-comment\">// undefined</span>\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(colors[<span class=\"hljs-number\">2</span>]); <span class=\"hljs-comment\">// undefined</span>\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(colors[<span class=\"hljs-number\">1</span>]); <span class=\"hljs-comment\">// &quot;green&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"18,30"}},{"content":"<pre data-lines=\"33,34\"><code>&#x3000;&#x3000; colors&#x6570;&#x7ec4;&#x4e00;&#x5f00;&#x59cb;&#x6709;3&#x4e2a;&#x5143;&#x7d20;&#xff0c;&#x5c06;colors[3]&#x8d4b;&#x503c;&#x4e3a;&quot;black&quot;&#x65f6;&#xff0c;length&#x5c5e;&#x6027;&#x4f1a;&#x81ea;&#x52a8;&#x589e;&#x52a0;&#x5230;4&#xff0c;&#x5c06;length&#x5c5e;&#x6027;&#x8bbe;&#x7f6e;&#x4e3a;2&#x65f6;&#xff0c;&#x4f1a;&#x79fb;&#x9664;&#x6570;&#x7ec4;&#x7684;&#x540e;&#x4e24;&#x4e2a;&#x5143;&#x7d20;&#x800c;&#x53ea;&#x4fdd;&#x7559;&#x524d;&#x4e24;&#x4e2a;&#x3002;&#x5728;ES5&#x4e4b;&#x524d;&#x5f00;&#x53d1;&#x8005;&#x65e0;&#x6cd5;&#x81ea;&#x5df1;&#x5b9e;&#x73b0;&#x8fd9;&#x4e9b;&#x884c;&#x4e3a;&#xff0c;&#x73b0;&#x5728;&#x901a;&#x8fc7;&#x4ee3;&#x7406;&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"33,34"}}],"payload":{"tag":"h3","lines":"10,11"}},{"content":"&#x4ee3;&#x7406;&#x548c;&#x53cd;&#x5c04;","children":[{"content":"<pre data-lines=\"39,44\"><code>&#x3000;&#x3000;&#x8c03;&#x7528;new Proxy()&#x53ef;&#x521b;&#x5efa;&#x4ee3;&#x66ff;&#x5176;&#x4ed6;&#x76ee;&#x6807;(target)&#x5bf9;&#x8c61;&#x7684;&#x4ee3;&#x7406;&#xff0c;&#x5b83;&#x865a;&#x62df;&#x5316;&#x4e86;&#x76ee;&#x6807;&#xff0c;&#x6240;&#x4ee5;&#x4e8c;&#x8005;&#x770b;&#x8d77;&#x6765;&#x529f;&#x80fd;&#x4e00;&#x81f4;\n\n&#x3000;&#x3000;&#x4ee3;&#x7406;&#x53ef;&#x4ee5;&#x62e6;&#x622a;JS&#x5f15;&#x64ce;&#x5185;&#x90e8;&#x76ee;&#x6807;&#x7684;&#x5e95;&#x5c42;&#x5bf9;&#x8c61;&#x64cd;&#x4f5c;&#xff0c;&#x8fd9;&#x4e9b;&#x5e95;&#x5c42;&#x64cd;&#x4f5c;&#x88ab;&#x62e6;&#x622a;&#x540e;&#x4f1a;&#x89e6;&#x53d1;&#x54cd;&#x5e94;&#x7279;&#x5b9a;&#x64cd;&#x4f5c;&#x7684;&#x9677;&#x9631;&#x51fd;&#x6570;\n\n&#x3000;&#x3000;&#x53cd;&#x5c04;API&#x4ee5;Reflect&#x5bf9;&#x8c61;&#x7684;&#x5f62;&#x5f0f;&#x51fa;&#x73b0;&#xff0c;&#x5bf9;&#x8c61;&#x4e2d;&#x65b9;&#x6cd5;&#x7684;&#x9ed8;&#x8ba4;&#x7279;&#x6027;&#x4e0e;&#x76f8;&#x540c;&#x7684;&#x5e95;&#x5c42;&#x64cd;&#x4f5c;&#x4e00;&#x81f4;&#xff0c;&#x800c;&#x4ee3;&#x7406;&#x53ef;&#x4ee5;&#x8986;&#x5199;&#x8fd9;&#x4e9b;&#x64cd;&#x4f5c;&#xff0c;&#x6bcf;&#x4e2a;&#x4ee3;&#x7406;&#x9677;&#x9631;&#x5bf9;&#x5e94;&#x4e00;&#x4e2a;&#x547d;&#x540d;&#x548c;&#x53c2;&#x6570;&#x90fd;&#x76f8;&#x540c;&#x7684;Reflect&#x65b9;&#x6cd5;&#x3002;&#x4e0b;&#x8868;&#x603b;&#x7ed3;&#x4e86;&#x4ee3;&#x7406;&#x9677;&#x9631;&#x7684;&#x7279;&#x6027;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"39,44"}},{"content":"<img src=\"https://images2017.cnblogs.com/blog/740839/201708/740839-20170801152947974-485982688.png\" alt=\"img\">","children":[],"payload":{"tag":"img","lines":"45,46"}},{"content":"<pre data-lines=\"47,52\"><code>&#x3000;&#x3000;&#x6bcf;&#x4e2a;&#x9677;&#x9631;&#x8986;&#x5199;JS&#x5bf9;&#x8c61;&#x7684;&#x4e00;&#x4e9b;&#x5185;&#x5efa;&#x7279;&#x6027;&#xff0c;&#x53ef;&#x4ee5;&#x7528;&#x5b83;&#x4eec;&#x62e6;&#x622a;&#x5e76;&#x4fee;&#x6539;&#x8fd9;&#x4e9b;&#x7279;&#x6027;&#x3002;&#x5982;&#x679c;&#x4ecd;&#x9700;&#x4f7f;&#x7528;&#x5185;&#x5efa;&#x7279;&#x6027;&#xff0c;&#x5219;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x76f8;&#x5e94;&#x7684;&#x53cd;&#x5c04;API&#x65b9;&#x6cd5;\n\n&#x3010;&#x521b;&#x5efa;&#x7b80;&#x5355;&#x4ee3;&#x7406;&#x3011;\n\n&#x3000;&#x3000;&#x7528;Proxy&#x6784;&#x9020;&#x51fd;&#x6570;&#x521b;&#x5efa;&#x4ee3;&#x7406;&#x9700;&#x8981;&#x4f20;&#x5165;&#x4e24;&#x4e2a;&#x53c2;&#x6570;&#xff1a;&#x76ee;&#x6807;(target)&#x548c;&#x5904;&#x7406;&#x7a0b;&#x5e8f;(handler)&#x3002;&#x5904;&#x7406;&#x7a0b;&#x5e8f;&#x7528;&#x4e8e;&#x5b9a;&#x4e49;&#x4e00;&#x4e2a;&#x6216;&#x591a;&#x4e2a;&#x9677;&#x9631;&#x7684;&#x5bf9;&#x8c61;&#xff0c;&#x5728;&#x4ee3;&#x7406;&#x4e2d;&#xff0c;&#x9664;&#x4e86;&#x4e13;&#x95e8;&#x4e3a;&#x64cd;&#x4f5c;&#x5b9a;&#x4e49;&#x7684;&#x9677;&#x9631;&#x5916;&#xff0c;&#x5176;&#x4f59;&#x64cd;&#x4f5c;&#x5747;&#x4f7f;&#x7528;&#x9ed8;&#x8ba4;&#x7279;&#x6027;&#x3002;&#x4e0d;&#x4f7f;&#x7528;&#x4efb;&#x4f55;&#x9677;&#x9631;&#x7684;&#x5904;&#x7406;&#x7a0b;&#x5e8f;&#x7b49;&#x4ef7;&#x4e8e;&#x7b80;&#x5355;&#x7684;&#x8f6c;&#x53d1;&#x4ee3;&#x7406;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"47,52"}},{"content":"<pre data-lines=\"55,65\"><code data-lines=\"55,65\">let target = {};\nlet proxy = <span class=\"hljs-built_in\">new</span> Proxy(target, {});\nproxy.name = &quot;proxy&quot;;\nconsole.log(proxy.name); // &quot;proxy&quot;\nconsole.log(target.name); // &quot;proxy&quot;\ntarget.name = &quot;target&quot;;\nconsole.log(proxy.name); // &quot;target&quot;\nconsole.log(target.name); // &quot;target&quot;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"55,65"}},{"content":"<pre data-lines=\"68,69\"><code>&#x3000;&#x3000;&#x8fd9;&#x4e2a;&#x793a;&#x4f8b;&#x4e2d;&#x7684;&#x4ee3;&#x7406;&#x5c06;&#x6240;&#x6709;&#x64cd;&#x4f5c;&#x76f4;&#x63a5;&#x8f6c;&#x53d1;&#x5230;&#x76ee;&#x6807;&#xff0c;&#x5c06;&quot;proxy&quot;&#x8d4b;&#x503c;&#x7ed9;proxy.name&#x5c5e;&#x6027;&#x65f6;&#x4f1a;&#x5728;&#x76ee;&#x6807;&#x4e0a;&#x521b;&#x5efa;name&#xff0c;&#x4ee3;&#x7406;&#x53ea;&#x662f;&#x7b80;&#x5355;&#x5730;&#x5c06;&#x64cd;&#x4f5c;&#x8f6c;&#x53d1;&#x7ed9;&#x76ee;&#x6807;&#xff0c;&#x5b83;&#x4e0d;&#x4f1a;&#x50a8;&#x5b58;&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x3002;&#x7531;&#x4e8e;proxy.name&#x548c;target.name&#x5f15;&#x7528;&#x7684;&#x90fd;&#x662f;target.name&#xff0c;&#x56e0;&#x6b64;&#x4e8c;&#x8005;&#x7684;&#x503c;&#x76f8;&#x540c;&#xff0c;&#x4ece;&#x800c;&#x4e3a;target.name&#x8bbe;&#x7f6e;&#x65b0;&#x503c;&#x540e;&#xff0c;proxy.name&#x4e5f;&#x4e00;&#x540c;&#x53d8;&#x5316;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"68,69"}}],"payload":{"tag":"h3","lines":"37,38"}},{"content":"&#x9677;&#x9631;&#x4ee3;&#x7406;","children":[{"content":"<pre data-lines=\"74,79\"><code>&#x3010;&#x4f7f;&#x7528;set&#x9677;&#x9631;&#x9a8c;&#x8bc1;&#x5c5e;&#x6027;&#x3011;\n\n&#x3000;&#x3000;&#x5047;&#x8bbe;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x5c5e;&#x6027;&#x503c;&#x662f;&#x6570;&#x5b57;&#x7684;&#x5bf9;&#x8c61;&#xff0c;&#x5bf9;&#x8c61;&#x4e2d;&#x6bcf;&#x65b0;&#x589e;&#x4e00;&#x4e2a;&#x5c5e;&#x6027;&#x90fd;&#x8981;&#x52a0;&#x4ee5;&#x9a8c;&#x8bc1;&#xff0c;&#x5982;&#x679c;&#x4e0d;&#x662f;&#x6570;&#x5b57;&#x5fc5;&#x987b;&#x629b;&#x51fa;&#x9519;&#x8bef;&#x3002;&#x4e3a;&#x4e86;&#x5b9e;&#x73b0;&#x8fd9;&#x4e2a;&#x4efb;&#x52a1;&#xff0c;&#x53ef;&#x4ee5;&#x5b9a;&#x4e49;&#x4e00;&#x4e2a;set&#x9677;&#x9631;&#x6765;&#x8986;&#x5199;&#x8bbe;&#x7f6e;&#x503c;&#x7684;&#x9ed8;&#x8ba4;&#x7279;&#x6027;\n\n&#x3000;&#x3000;set&#x9677;&#x9631;&#x63a5;&#x53d7;4&#x4e2a;&#x53c2;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"74,79"}},{"content":"<pre data-lines=\"80,86\"><code data-lines=\"80,86\">trapTaqget &#x7528;&#x4e8e;&#x63a5;&#x6536;&#x5c5e;&#x6027;(&#x4ee3;&#x7406;&#x7684;&#x76ee;&#x6807;)&#x7684;&#x5bf9;&#x8c61;\nkey &#x8981;&#x5199;&#x5165;&#x7684;&#x5c5e;&#x6027;&#x952e;(&#x5b57;&#x7b26;&#x4e32;&#x6216;Symbol&#x7c7b;&#x578b;)\nvalue &#x88ab;&#x5199;&#x5165;&#x5c5e;&#x6027;&#x7684;&#x503c;\nreceiver &#x64cd;&#x4f5c;&#x53d1;&#x751f;&#x7684;&#x5bf9;&#x8c61;(&#x901a;&#x5e38;&#x662f;&#x4ee3;&#x7406;)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"80,86"}},{"content":"<pre data-lines=\"87,90\"><code>&#x3000;&#x3000;Reflect.set()&#x662f;set&#x9677;&#x9631;&#x5bf9;&#x5e94;&#x7684;&#x53cd;&#x5c04;&#x65b9;&#x6cd5;&#x548c;&#x9ed8;&#x8ba4;&#x7279;&#x6027;&#xff0c;&#x5b83;&#x548c;set&#x4ee3;&#x7406;&#x9677;&#x9631;&#x4e00;&#x6837;&#x4e5f;&#x63a5;&#x53d7;&#x76f8;&#x540c;&#x7684;4&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x4ee5;&#x65b9;&#x4fbf;&#x5728;&#x9677;&#x9631;&#x4e2d;&#x4f7f;&#x7528;&#x3002;&#x5982;&#x679c;&#x5c5e;&#x6027;&#x5df2;&#x8bbe;&#x7f6e;&#x9677;&#x9631;&#x5e94;&#x8be5;&#x8fd4;&#x56de;true&#xff0c;&#x5982;&#x679c;&#x672a;&#x8bbe;&#x7f6e;&#x5219;&#x8fd4;&#x56de;false&#x3002;(Reflect.set()&#x65b9;&#x6cd5;&#x57fa;&#x4e8e;&#x64cd;&#x4f5c;&#x662f;&#x5426;&#x6210;&#x529f;&#x6765;&#x8fd4;&#x56de;&#x6070;&#x5f53;&#x7684;&#x503c;)\n\n&#x3000;&#x3000;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;set&#x9677;&#x9631;&#x5e76;&#x68c0;&#x67e5;&#x4f20;&#x5165;&#x7684;&#x503c;&#x6765;&#x9a8c;&#x8bc1;&#x5c5e;&#x6027;&#x503c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"87,90"}},{"content":"<pre data-lines=\"93,120\"><code data-lines=\"93,120\"><span class=\"hljs-keyword\">let</span> target = {\n    <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&quot;target&quot;</span>\n};\n<span class=\"hljs-keyword\">let</span> proxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(target, {\n    <span class=\"hljs-title function_\">set</span>(<span class=\"hljs-params\">trapTarget, key, value, receiver</span>) {\n        <span class=\"hljs-comment\">// &#x5ffd;&#x7565;&#x5df2;&#x6709;&#x5c5e;&#x6027;&#xff0c;&#x907f;&#x514d;&#x5f71;&#x54cd;&#x5b83;&#x4eec;</span>\n        <span class=\"hljs-keyword\">if</span> (!trapTarget.<span class=\"hljs-title function_\">hasOwnProperty</span>(key)) {\n            <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-built_in\">isNaN</span>(value)) {\n                <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">TypeError</span>(<span class=\"hljs-string\">&quot;Property must be a number.&quot;</span>);\n            }\n        }\n        <span class=\"hljs-comment\">// &#x6dfb;&#x52a0;&#x5c5e;&#x6027;</span>\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">set</span>(trapTarget, key, value, receiver);\n    }\n});\n<span class=\"hljs-comment\">// &#x6dfb;&#x52a0;&#x4e00;&#x4e2a;&#x65b0;&#x5c5e;&#x6027;</span>\nproxy.<span class=\"hljs-property\">count</span> = <span class=\"hljs-number\">1</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(proxy.<span class=\"hljs-property\">count</span>); <span class=\"hljs-comment\">// 1</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(target.<span class=\"hljs-property\">count</span>); <span class=\"hljs-comment\">// 1</span>\n<span class=\"hljs-comment\">// &#x4f60;&#x53ef;&#x4ee5;&#x4e3a; name &#x8d4b;&#x4e00;&#x4e2a;&#x975e;&#x6570;&#x503c;&#x7c7b;&#x578b;&#x7684;&#x503c;&#xff0c;&#x56e0;&#x4e3a;&#x8be5;&#x5c5e;&#x6027;&#x5df2;&#x7ecf;&#x5b58;&#x5728;</span>\nproxy.<span class=\"hljs-property\">name</span> = <span class=\"hljs-string\">&quot;proxy&quot;</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(proxy.<span class=\"hljs-property\">name</span>); <span class=\"hljs-comment\">// &quot;proxy&quot;</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(target.<span class=\"hljs-property\">name</span>); <span class=\"hljs-comment\">// &quot;proxy&quot;</span>\n<span class=\"hljs-comment\">// &#x629b;&#x51fa;&#x9519;&#x8bef;</span>\nproxy.<span class=\"hljs-property\">anotherName</span> = <span class=\"hljs-string\">&quot;proxy&quot;</span>;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"93,120"}},{"content":"<pre data-lines=\"123,136\"><code>&#x3000;&#x3000;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x5b9a;&#x4e49;&#x4e86;&#x4e00;&#x4e2a;&#x4ee3;&#x7406;&#x6765;&#x9a8c;&#x8bc1;&#x6dfb;&#x52a0;&#x5230;target&#x7684;&#x65b0;&#x5c5e;&#x6027;&#xff0c;&#x5f53;&#x6267;&#x884c;proxy.count=1&#x65f6;&#xff0c;set&#x9677;&#x9631;&#x88ab;&#x8c03;&#x7528;&#xff0c;&#x6b64;&#x65f6;trapTarget&#x7684;&#x503c;&#x7b49;&#x4e8e;target&#xff0c;key&#x7b49;&#x4e8e;&quot;count&quot;&#xff0c;value&#x7b49;&#x4e8e;1&#xff0c;receiver&#x7b49;&#x4e8e;proxy\n\n&#x3000;&#x3000;&#x7531;&#x4e8e;target&#x4e0a;&#x6ca1;&#x6709;count&#x5c5e;&#x6027;&#xff0c;&#x56e0;&#x6b64;&#x4ee3;&#x7406;&#x7ee7;&#x7eed;&#x5c06;value&#x503c;&#x4f20;&#x5165;isNaN()&#xff0c;&#x5982;&#x679c;&#x7ed3;&#x679c;&#x662f;NaN&#xff0c;&#x5219;&#x8bc1;&#x660e;&#x4f20;&#x5165;&#x7684;&#x5c5e;&#x6027;&#x503c;&#x4e0d;&#x662f;&#x6570;&#x5b57;&#xff0c;&#x540c;&#x65f6;&#x4e5f;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#x3002;&#x5728;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;count&#x88ab;&#x8bbe;&#x7f6e;&#x4e3a;1&#xff0c;&#x6240;&#x4ee5;&#x4ee3;&#x7406;&#x8c03;&#x7528;Reflect.set()&#x65b9;&#x6cd5;&#x5e76;&#x4f20;&#x5165;&#x9677;&#x9631;&#x63a5;&#x53d7;&#x7684;4&#x4e2a;&#x53c2;&#x6570;&#x6765;&#x6dfb;&#x52a0;&#x65b0;&#x5c5e;&#x6027;\n\n&#x3000;&#x3000;proxy.name&#x53ef;&#x4ee5;&#x6210;&#x529f;&#x88ab;&#x8d4b;&#x503c;&#x4e3a;&#x4e00;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x8fd9;&#x662f;&#x56e0;&#x4e3a;target&#x5df2;&#x7ecf;&#x62e5;&#x6709;&#x4e00;&#x4e2a;name&#x5c5e;&#x6027;&#xff0c;&#x4f46;&#x901a;&#x8fc7;&#x8c03;&#x7528;trapTarget.hasownproperty()&#x65b9;&#x6cd5;&#x9a8c;&#x8bc1;&#x68c0;&#x67e5;&#x540e;&#x88ab;&#x6392;&#x9664;&#x4e86;&#xff0c;&#x6240;&#x4ee5;&#x76ee;&#x6807;&#x5df2;&#x6709;&#x7684;&#x975e;&#x6570;&#x5b57;&#x5c5e;&#x6027;&#x4ecd;&#x7136;&#x53ef;&#x4ee5;&#x88ab;&#x64cd;&#x4f5c;&#x3002;\n\n&#x3000;&#x3000;&#x7136;&#x800c;&#xff0c;&#x5c06;proxy.anotherName&#x8d4b;&#x503c;&#x4e3a;&#x4e00;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#x65f6;&#x4f1a;&#x629b;&#x51fa;&#x9519;&#x8bef;&#x3002;&#x76ee;&#x6807;&#x4e0a;&#x6ca1;&#x6709;anotherName&#x5c5e;&#x6027;&#xff0c;&#x6240;&#x4ee5;&#x5b83;&#x7684;&#x503c;&#x9700;&#x8981;&#x88ab;&#x9a8c;&#x8bc1;&#xff0c;&#x800c;&#x7531;&#x4e8e;&quot;Proxy&quot;&#x4e0d;&#x662f;&#x4e00;&#x4e2a;&#x6570;&#x5b57;&#x503c;&#xff0c;&#x56e0;&#x6b64;&#x629b;&#x51fa;&#x9519;&#x8bef;\n\n&#x3000;&#x3000;set&#x4ee3;&#x7406;&#x9677;&#x9631;&#x53ef;&#x4ee5;&#x62e6;&#x622a;&#x5199;&#x5165;&#x5c5e;&#x6027;&#x7684;&#x64cd;&#x4f5c;&#xff0c;get&#x4ee3;&#x7406;&#x9677;&#x9631;&#x53ef;&#x4ee5;&#x62e6;&#x622a;&#x8bfb;&#x53d6;&#x5c5e;&#x6027;&#x7684;&#x64cd;&#x4f5c;\n\n&#x3010;&#x7528;get&#x9677;&#x9631;&#x9a8c;&#x8bc1;&#x5bf9;&#x8c61;&#x7ed3;&#x6784;(Object Shape)&#x3011;\n\n&#x3000;&#x3000;JS&#x6709;&#x4e00;&#x4e2a;&#x65f6;&#x5e38;&#x4ee4;&#x4eba;&#x611f;&#x5230;&#x56f0;&#x60d1;&#x7684;&#x7279;&#x6b8a;&#x884c;&#x4e3a;&#xff0c;&#x5373;&#x8bfb;&#x53d6;&#x4e0d;&#x5b58;&#x5728;&#x7684;&#x5c5e;&#x6027;&#x65f6;&#x4e0d;&#x4f1a;&#x629b;&#x51fa;&#x9519;&#x8bef;&#xff0c;&#x800c;&#x662f;&#x7528;undefined&#x4ee3;&#x66ff;&#x88ab;&#x8bfb;&#x53d6;&#x5c5e;&#x6027;&#x7684;&#x503c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"123,136"}},{"content":"<pre data-lines=\"137,141\"><code data-lines=\"137,141\">let <span class=\"hljs-keyword\">target</span> = {};\nconsole.<span class=\"hljs-built_in\">log</span>(<span class=\"hljs-keyword\">target</span>.<span class=\"hljs-keyword\">name</span>); // undefined\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"137,141"}},{"content":"<pre data-lines=\"142,147\"><code>&#x3000;&#x3000;&#x5728;&#x5927;&#x591a;&#x6570;&#x5176;&#x4ed6;&#x8bed;&#x8a00;&#x4e2d;&#xff0c;&#x5982;&#x679c;target&#x6ca1;&#x6709;name&#x5c5e;&#x6027;&#xff0c;&#x5c1d;&#x8bd5;&#x8bfb;&#x53d6;target.name&#x4f1a;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#x3002;&#x4f46;JS&#x5374;&#x7528;undefined&#x6765;&#x4ee3;&#x66ff;target.name&#x5c5e;&#x6027;&#x7684;&#x503c;&#x3002;&#x8fd9;&#x4e2a;&#x7279;&#x6027;&#x4f1a;&#x5bfc;&#x81f4;&#x91cd;&#x5927;&#x95ee;&#x9898;&#xff0c;&#x7279;&#x522b;&#x662f;&#x5f53;&#x9519;&#x8bef;&#x8f93;&#x5165;&#x5c5e;&#x6027;&#x540d;&#x79f0;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x800c;&#x4ee3;&#x7406;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x68c0;&#x67e5;&#x5bf9;&#x8c61;&#x7ed3;&#x6784;&#x6765;&#x56de;&#x907f;&#x8fd9;&#x4e2a;&#x95ee;&#x9898;\n\n&#x3000;&#x3000;&#x5bf9;&#x8c61;&#x7ed3;&#x6784;&#x662f;&#x6307;&#x5bf9;&#x8c61;&#x4e2d;&#x6240;&#x6709;&#x53ef;&#x7528;&#x5c5e;&#x6027;&#x548c;&#x65b9;&#x6cd5;&#x7684;&#x96c6;&#x5408;&#xff0c;JS&#x5f15;&#x64ce;&#x901a;&#x8fc7;&#x5bf9;&#x8c61;&#x7ed3;&#x6784;&#x6765;&#x4f18;&#x5316;&#x4ee3;&#x7801;&#xff0c;&#x901a;&#x5e38;&#x4f1a;&#x521b;&#x5efa;&#x7c7b;&#x6765;&#x8868;&#x793a;&#x5bf9;&#x8c61;&#xff0c;&#x5982;&#x679c;&#x53ef;&#x4ee5;&#x5b89;&#x5168;&#x5730;&#x5047;&#x5b9a;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#x5c06;&#x59cb;&#x7ec8;&#x5177;&#x6709;&#x76f8;&#x540c;&#x7684;&#x5c5e;&#x6027;&#x548c;&#x65b9;&#x6cd5;&#xff0c;&#x90a3;&#x4e48;&#x5f53;&#x7a0b;&#x5e8f;&#x8bd5;&#x56fe;&#x8bbf;&#x95ee;&#x4e0d;&#x5b58;&#x5728;&#x7684;&#x5c5e;&#x6027;&#x65f6;&#x4f1a;&#x629b;&#x51fa;&#x9519;&#x8bef;&#x3002;&#x4ee3;&#x7406;&#x8ba9;&#x5bf9;&#x8c61;&#x7ed3;&#x6784;&#x68c0;&#x9a8c;&#x53d8;&#x5f97;&#x7b80;&#x5355;\n\n&#x3000;&#x3000;&#x56e0;&#x4e3a;&#x53ea;&#x6709;&#x5f53;&#x8bfb;&#x53d6;&#x5c5e;&#x6027;&#x65f6;&#x624d;&#x4f1a;&#x68c0;&#x9a8c;&#x5c5e;&#x6027;&#xff0c;&#x6240;&#x4ee5;&#x65e0;&#x8bba;&#x5bf9;&#x8c61;&#x4e2d;&#x662f;&#x5426;&#x5b58;&#x5728;&#x67d0;&#x4e2a;&#x5c5e;&#x6027;&#xff0c;&#x90fd;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;get&#x9677;&#x9631;&#x6765;&#x68c0;&#x6d4b;&#xff0c;&#x5b83;&#x63a5;&#x53d7;3&#x4e2a;&#x53c2;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"142,147"}},{"content":"<pre data-lines=\"148,153\"><code data-lines=\"148,153\">trapTarget &#x88ab;&#x8bfb;&#x53d6;&#x5c5e;&#x6027;&#x7684;&#x6e90;&#x5bf9;&#x8c61;(&#x4ee3;&#x7406;&#x7684;&#x76ee;&#x6807;)\nkey &#x8981;&#x8bfb;&#x53d6;&#x7684;&#x5c5e;&#x6027;&#x952e;(&#x5b57;&#x7b26;&#x4e32;&#x6216;Symbol)\nreceiver &#x64cd;&#x4f5c;&#x53d1;&#x751f;&#x7684;&#x5bf9;&#x8c61;(&#x901a;&#x5e38;&#x662f;&#x4ee3;&#x7406;)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"148,153"}},{"content":"<pre data-lines=\"154,157\"><code>&#x3000;&#x3000;&#x7531;&#x4e8e;get&#x9677;&#x9631;&#x4e0d;&#x5199;&#x5165;&#x503c;&#xff0c;&#x6240;&#x4ee5;&#x5b83;&#x590d;&#x523b;&#x4e86;set&#x9677;&#x9631;&#x4e2d;&#x9664;value&#x5916;&#x7684;&#x5176;&#x4ed6;3&#x4e2a;&#x53c2;&#x6570;&#xff0c;Reflect.get()&#x4e5f;&#x63a5;&#x53d7;&#x540c;&#x6837;3&#x4e2a;&#x53c2;&#x6570;&#x5e76;&#x8fd4;&#x56de;&#x5c5e;&#x6027;&#x7684;&#x9ed8;&#x8ba4;&#x503c;\n\n&#x3000;&#x3000;&#x5982;&#x679c;&#x5c5e;&#x6027;&#x5728;&#x76ee;&#x6807;&#x4e0a;&#x4e0d;&#x5b58;&#x5728;&#xff0c;&#x5219;&#x4f7f;&#x7528;get&#x9677;&#x9631;&#x548c;Reflect.get()&#x65f6;&#x4f1a;&#x629b;&#x51fa;&#x9519;&#x8bef;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"154,157"}},{"content":"<pre data-lines=\"160,175\"><code data-lines=\"160,175\"><span class=\"hljs-keyword\">let</span> proxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>({}, {\n    <span class=\"hljs-title function_\">get</span>(<span class=\"hljs-params\">trapTarget, key, receiver</span>) {\n        <span class=\"hljs-keyword\">if</span> (!(key <span class=\"hljs-keyword\">in</span> receiver)) {\n            <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">TypeError</span>(<span class=\"hljs-string\">&quot;Property &quot;</span> + key + <span class=\"hljs-string\">&quot; doesn&apos;t exist.&quot;</span>);\n        }\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">get</span>(trapTarget, key, receiver);\n    }\n});\n<span class=\"hljs-comment\">// &#x6dfb;&#x52a0;&#x5c5e;&#x6027;&#x7684;&#x529f;&#x80fd;&#x6b63;&#x5e38;</span>\nproxy.<span class=\"hljs-property\">name</span> = <span class=\"hljs-string\">&quot;proxy&quot;</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(proxy.<span class=\"hljs-property\">name</span>); <span class=\"hljs-comment\">// &quot;proxy&quot;</span>\n<span class=\"hljs-comment\">// &#x8bfb;&#x53d6;&#x4e0d;&#x5b58;&#x5728;&#x5c5e;&#x6027;&#x4f1a;&#x629b;&#x51fa;&#x9519;&#x8bef;</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(proxy.<span class=\"hljs-property\">nme</span>); <span class=\"hljs-comment\">// &#x629b;&#x51fa;&#x9519;&#x8bef;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"160,175"}},{"content":"<pre data-lines=\"178,185\"><code>&#x3000;&#x3000;&#x6b64;&#x793a;&#x4f8b;&#x4e2d;&#x7684;get&#x9677;&#x9631;&#x53ef;&#x4ee5;&#x62e6;&#x622a;&#x5c5e;&#x6027;&#x8bfb;&#x53d6;&#x64cd;&#x4f5c;&#xff0c;&#x5e76;&#x901a;&#x8fc7;in&#x64cd;&#x4f5c;&#x7b26;&#x6765;&#x5224;&#x65ad;receiver&#x4e0a;&#x662f;&#x5426;&#x5177;&#x6709;&#x88ab;&#x8bfb;&#x53d6;&#x7684;&#x5c5e;&#x6027;&#xff0c;&#x8fd9;&#x91cc;&#x4e4b;&#x6240;&#x4ee5;&#x7528;in&#x64cd;&#x4f5c;&#x7b26;&#x68c0;&#x67e5;receiver&#x800c;&#x4e0d;&#x68c0;&#x67e5;trapTarget&#xff0c;&#x662f;&#x4e3a;&#x4e86;&#x9632;&#x6b62;receiver&#x4ee3;&#x7406;&#x542b;&#x6709;has&#x9677;&#x9631;&#x3002;&#x5728;&#x8fd9;&#x79cd;&#x60c5;&#x51b5;&#x4e0b;&#x68c0;&#x67e5;trapTarget&#x53ef;&#x80fd;&#x4f1a;&#x5ffd;&#x7565;&#x6389;has&#x9677;&#x9631;&#xff0c;&#x4ece;&#x800c;&#x5f97;&#x5230;&#x9519;&#x8bef;&#x7ed3;&#x679c;&#x3002;&#x5c5e;&#x6027;&#x5982;&#x679c;&#x4e0d;&#x5b58;&#x5728;&#x4f1a;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#xff0c;&#x5426;&#x5219;&#x5c31;&#x4f7f;&#x7528;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;\n\n&#x3000;&#x3000;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x5c55;&#x793a;&#x4e86;&#x5982;&#x4f55;&#x5728;&#x6ca1;&#x6709;&#x9519;&#x8bef;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#x7ed9;proxy&#x6dfb;&#x52a0;&#x65b0;&#x5c5e;&#x6027;name&#xff0c;&#x5e76;&#x5199;&#x5165;&#x503c;&#x548c;&#x8bfb;&#x53d6;&#x503c;&#x3002;&#x6700;&#x540e;&#x4e00;&#x884c;&#x5305;&#x542b;&#x4e00;&#x4e2a;&#x8f93;&#x5165;&#x9519;&#x8bef;:proxy.nme&#x6709;&#x53ef;&#x80fd;&#x662f;proxy.namer&#xff0c;&#x7531;&#x4e8e;nme&#x662f;&#x4e00;&#x4e2a;&#x4e0d;&#x5b58;&#x5728;&#x7684;&#x5c5e;&#x6027;&#xff0c;&#x56e0;&#x800c;&#x629b;&#x51fa;&#x9519;&#x8bef;\n\n&#x3010;&#x4f7f;&#x7528;has&#x9677;&#x9631;&#x9690;&#x85cf;&#x5df2;&#x6709;&#x5c5e;&#x6027;&#x3011;\n\n&#x3000;&#x3000;&#x53ef;&#x7528;in&#x64cd;&#x4f5c;&#x7b26;&#x6765;&#x68c0;&#x6d4b;&#x7ed9;&#x5b9a;&#x5bf9;&#x8c61;&#x662f;&#x5426;&#x542b;&#x6709;&#x67d0;&#x4e2a;&#x5c5e;&#x6027;&#xff0c;&#x5982;&#x679c;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#x6216;&#x539f;&#x578b;&#x5c5e;&#x6027;&#x5339;&#x914d;&#x8fd9;&#x4e2a;&#x540d;&#x79f0;&#x6216;Symbol&#x8fd4;&#x56de;true\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"178,185"}},{"content":"<pre data-lines=\"186,193\"><code data-lines=\"186,193\">let <span class=\"hljs-built_in\">target</span> = {\n    value: <span class=\"hljs-number\">42</span>;\n}\nconsole.<span class=\"hljs-built_in\">log</span>(<span class=\"hljs-string\">&quot;value&quot;</span> <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">target</span>); <span class=\"hljs-comment\">// true</span>\nconsole.<span class=\"hljs-built_in\">log</span>(<span class=\"hljs-string\">&quot;toString&quot;</span> <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">target</span>); <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"186,193"}},{"content":"<pre data-lines=\"194,197\"><code>&#x3000;&#x3000;value&#x662f;&#x4e00;&#x4e2a;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#xff0c;tostring&#x662f;&#x4e00;&#x4e2a;&#x7ee7;&#x627f;&#x81ea;Object&#x7684;&#x539f;&#x578b;&#x5c5e;&#x6027;&#xff0c;&#x4e8c;&#x8005;&#x5728;&#x5bf9;&#x8c61;&#x4e0a;&#x90fd;&#x5b58;&#x5728;&#xff0c;&#x6240;&#x4ee5;&#x7528;in&#x64cd;&#x4f5c;&#x7b26;&#x68c0;&#x6d4b;&#x4e8c;&#x8005;&#x90fd;&#x8fd4;&#x56de;true&#x3002;&#x5728;&#x4ee3;&#x7406;&#x4e2d;&#x4f7f;&#x7528;has&#x9677;&#x9631;&#x53ef;&#x4ee5;&#x62e6;&#x622a;&#x8fd9;&#x4e9b;in&#x64cd;&#x4f5c;&#x5e76;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x4e0d;&#x540c;&#x7684;&#x503c;\n\n&#x3000;&#x3000;&#x6bcf;&#x5f53;&#x4f7f;&#x7528;in&#x64cd;&#x4f5c;&#x7b26;&#x65f6;&#x90fd;&#x4f1a;&#x8c03;&#x7528;has&#x9677;&#x9631;&#xff0c;&#x5e76;&#x4f20;&#x5165;&#x4e24;&#x4e2a;&#x53c2;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"194,197"}},{"content":"<pre data-lines=\"198,202\"><code data-lines=\"198,202\">trapTaqget&#x8bfb;&#x53d6;&#x5c5e;&#x6027;&#x7684;&#x5bf9;&#x8c61;(&#x4ee3;&#x7406;&#x7684;&#x76ee;&#x6807;)\nkey&#x8981;&#x68c0;&#x67e5;&#x7684;&#x5c5e;&#x6027;&#x952e;(&#x5b57;&#x7b26;&#x4e32;&#x6216;Symbol)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"198,202"}},{"content":"<pre data-lines=\"203,204\"><code>&#x3000;&#x3000;Reflect.has()&#x65b9;&#x6cd5;&#x4e5f;&#x63a5;&#x53d7;&#x8fd9;&#x4e9b;&#x53c2;&#x6570;&#x5e76;&#x8fd4;&#x56de;in&#x64cd;&#x4f5c;&#x7b26;&#x7684;&#x9ed8;&#x8ba4;&#x54cd;&#x5e94;&#xff0c;&#x540c;&#x65f6;&#x4f7f;&#x7528;has&#x9677;&#x9631;&#x548c;Reflect.has()&#x53ef;&#x4ee5;&#x6539;&#x53d8;&#x4e00;&#x90e8;&#x5206;&#x5c5e;&#x6027;&#x88ab;in&#x68c0;&#x6d4b;&#x65f6;&#x7684;&#x884c;&#x4e3a;&#xff0c;&#x5e76;&#x6062;&#x590d;&#x53e6;&#x5916;&#x4e00;&#x4e9b;&#x5c5e;&#x6027;&#x7684;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;&#x3002;&#x4f8b;&#x5982;&#xff0c;&#x53ef;&#x4ee5;&#x50cf;&#x8fd9;&#x6837;&#x9690;&#x85cf;&#x4e4b;&#x524d;&#x793a;&#x4f8b;&#x4e2d;&#x7684;value&#x5c5e;&#x6027;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"203,204"}},{"content":"<pre data-lines=\"207,225\"><code data-lines=\"207,225\"><span class=\"hljs-keyword\">let</span> target = {\n    <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&quot;target&quot;</span>,\n    <span class=\"hljs-attr\">value</span>: <span class=\"hljs-number\">42</span>\n};\n<span class=\"hljs-keyword\">let</span> proxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(target, {\n    <span class=\"hljs-title function_\">has</span>(<span class=\"hljs-params\">trapTarget, key</span>) {\n        <span class=\"hljs-keyword\">if</span> (key === <span class=\"hljs-string\">&quot;value&quot;</span>) {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;\n        } <span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">has</span>(trapTarget, key);\n        }\n    }\n});\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;value&quot;</span> <span class=\"hljs-keyword\">in</span> proxy); <span class=\"hljs-comment\">// false</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;name&quot;</span> <span class=\"hljs-keyword\">in</span> proxy); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;toString&quot;</span> <span class=\"hljs-keyword\">in</span> proxy); <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"207,225"}},{"content":"<pre data-lines=\"228,233\"><code>&#x3000;&#x3000;&#x4ee3;&#x7406;&#x4e2d;&#x7684;has&#x9677;&#x9631;&#x4f1a;&#x68c0;&#x67e5;key&#x662f;&#x5426;&#x4e3a;&quot;value&quot;&#xff0c;&#x5982;&#x679c;&#x662f;&#x7684;&#x8bdd;&#x8fd4;&#x56de;false&#xff0c;&#x82e5;&#x4e0d;&#x662f;&#x5219;&#x8c03;&#x7528;Reflect.has()&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;&#x3002;&#x7ed3;&#x679c;&#x662f;&#x5373;&#x4f7f;target&#x4e0a;&#x5b9e;&#x9645;&#x5b58;&#x5728;value&#x5c5e;&#x6027;&#xff0c;&#x4f46;&#x7528;in&#x64cd;&#x4f5c;&#x7b26;&#x68c0;&#x67e5;&#x8fd8;&#x662f;&#x4f1a;&#x8fd4;&#x56de;false&#xff0c;&#x800c;&#x5bf9;&#x4e8e;name&#x548c;tostring&#x5219;&#x6b63;&#x786e;&#x8fd4;&#x56de;true\n\n&#x3010;&#x7528;deleteProperty&#x9677;&#x9631;&#x9632;&#x6b62;&#x5220;&#x9664;&#x5c5e;&#x6027;&#x3011;\n\n&#x3000;&#x3000;delete&#x64cd;&#x4f5c;&#x7b26;&#x53ef;&#x4ee5;&#x4ece;&#x5bf9;&#x8c61;&#x4e2d;&#x79fb;&#x9664;&#x5c5e;&#x6027;&#xff0c;&#x5982;&#x679c;&#x6210;&#x529f;&#x5219;&#x8fd4;&#x56de;true&#xff0c;&#x4e0d;&#x6210;&#x529f;&#x5219;&#x8fd4;&#x56de;false&#x3002;&#x5728;&#x4e25;&#x683c;&#x6a21;&#x5f0f;&#x4e0b;&#xff0c;&#x5982;&#x679c;&#x5c1d;&#x8bd5;&#x5220;&#x9664;&#x4e00;&#x4e2a;&#x4e0d;&#x53ef;&#x914d;&#x7f6e;(nonconfigurable)&#x5c5e;&#x6027;&#x5219;&#x4f1a;&#x5bfc;&#x81f4;&#x7a0b;&#x5e8f;&#x629b;&#x51fa;&#x9519;&#x8bef;&#xff0c;&#x800c;&#x5728;&#x975e;&#x4e25;&#x683c;&#x6a21;&#x5f0f;&#x4e0b;&#x53ea;&#x662f;&#x8fd4;&#x56de;false\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"228,233"}},{"content":"<pre data-lines=\"236,251\"><code data-lines=\"236,251\"><span class=\"hljs-keyword\">let</span> target = {\n    <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&quot;target&quot;</span>,\n    <span class=\"hljs-attr\">value</span>: <span class=\"hljs-number\">42</span>\n};\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperty</span>(target, <span class=\"hljs-string\">&quot;name&quot;</span>, { <span class=\"hljs-attr\">configurable</span>: <span class=\"hljs-literal\">false</span> });\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;value&quot;</span> <span class=\"hljs-keyword\">in</span> target); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-keyword\">let</span> result1 = <span class=\"hljs-keyword\">delete</span> target.<span class=\"hljs-property\">value</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(result1); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;value&quot;</span> <span class=\"hljs-keyword\">in</span> target); <span class=\"hljs-comment\">// false</span>\n<span class=\"hljs-comment\">// &#x6ce8;&#xff1a;&#x4e0b;&#x4e00;&#x884c;&#x4ee3;&#x7801;&#x5728;&#x4e25;&#x683c;&#x6a21;&#x5f0f;&#x4e0b;&#x4f1a;&#x629b;&#x51fa;&#x9519;&#x8bef;</span>\n<span class=\"hljs-keyword\">let</span> result2 = <span class=\"hljs-keyword\">delete</span> target.<span class=\"hljs-property\">name</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(result2); <span class=\"hljs-comment\">// false</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;name&quot;</span> <span class=\"hljs-keyword\">in</span> target); <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"236,251"}},{"content":"<pre data-lines=\"254,257\"><code>&#x3000;&#x3000;&#x7528;delete&#x64cd;&#x4f5c;&#x7b26;&#x5220;&#x9664;value&#x5c5e;&#x6027;&#x540e;&#xff0c;&#x7b2c;&#x4e09;&#x4e2a;console.log()&#x8c03;&#x7528;&#x4e2d;&#x7684;in&#x64cd;&#x4f5c;&#x6700;&#x7ec8;&#x8fd4;&#x56de;false&#x3002;&#x4e0d;&#x53ef;&#x914d;&#x7f6e;&#x5c5e;&#x6027;name&#x65e0;&#x6cd5;&#x88ab;&#x5220;&#x9664;&#xff0c;&#x6240;&#x4ee5;delete&#x64cd;&#x4f5c;&#x8fd4;&#x56de;false(&#x5982;&#x679c;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x8fd0;&#x884c;&#x5728;&#x4e25;&#x683c;&#x6a21;&#x5f0f;&#x4e0b;&#x4f1a;&#x629b;&#x51fa;&#x9519;&#x8bef;)&#x3002;&#x5728;&#x4ee3;&#x7406;&#x4e2d;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;deleteProperty&#x9677;&#x9631;&#x6765;&#x6539;&#x53d8;&#x8fd9;&#x4e2a;&#x884c;&#x4e3a;\n\n&#x3000;&#x3000;&#x6bcf;&#x5f53;&#x901a;&#x8fc7;delete&#x64cd;&#x4f5c;&#x7b26;&#x5220;&#x9664;&#x5bf9;&#x8c61;&#x5c5e;&#x6027;&#x65f6;&#xff0c;deleteProperty&#x9677;&#x9631;&#x90fd;&#x4f1a;&#x88ab;&#x8c03;&#x7528;&#xff0c;&#x5b83;&#x63a5;&#x53d7;&#x4e24;&#x4e2a;&#x53c2;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"254,257"}},{"content":"<pre data-lines=\"258,262\"><code data-lines=\"258,262\">trapTarget &#x8981;&#x5220;&#x9664;&#x5c5e;&#x6027;&#x7684;&#x5bf9;&#x8c61;(&#x4ee3;&#x7406;&#x7684;&#x76ee;&#x6807;)\nkey &#x8981;&#x5220;&#x9664;&#x7684;&#x5c5e;&#x6027;&#x952e;(&#x5b57;&#x7b26;&#x4e32;&#x6216;Symbol)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"258,262"}},{"content":"<pre data-lines=\"267,292\"><code data-lines=\"267,292\"><span class=\"hljs-keyword\">let</span> target = {\n    <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&quot;target&quot;</span>,\n    <span class=\"hljs-attr\">value</span>: <span class=\"hljs-number\">42</span>\n};\n<span class=\"hljs-keyword\">let</span> proxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(target, {\n    <span class=\"hljs-title function_\">deleteProperty</span>(<span class=\"hljs-params\">trapTarget, key</span>) {\n        <span class=\"hljs-keyword\">if</span> (key === <span class=\"hljs-string\">&quot;value&quot;</span>) {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;\n        } <span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">deleteProperty</span>(trapTarget, key);\n        }\n    }\n});\n<span class=\"hljs-comment\">// &#x5c1d;&#x8bd5;&#x5220;&#x9664; proxy.value</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;value&quot;</span> <span class=\"hljs-keyword\">in</span> proxy); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-keyword\">let</span> result1 = <span class=\"hljs-keyword\">delete</span> proxy.<span class=\"hljs-property\">value</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(result1); <span class=\"hljs-comment\">// false</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;value&quot;</span> <span class=\"hljs-keyword\">in</span> proxy); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-comment\">// &#x5c1d;&#x8bd5;&#x5220;&#x9664; proxy.name</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;name&quot;</span> <span class=\"hljs-keyword\">in</span> proxy); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-keyword\">let</span> result2 = <span class=\"hljs-keyword\">delete</span> proxy.<span class=\"hljs-property\">name</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(result2); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;name&quot;</span> <span class=\"hljs-keyword\">in</span> proxy); <span class=\"hljs-comment\">// false</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"267,292"}},{"content":"<pre data-lines=\"295,302\"><code>&#x3000;&#x3000;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x4e0e;has&#x9677;&#x9631;&#x7684;&#x793a;&#x4f8b;&#x975e;&#x5e38;&#x76f8;&#x4f3c;&#xff0c;deleteProperty&#x9677;&#x9631;&#x68c0;&#x67e5;key&#x662f;&#x5426;&#x4e3a;&quot;value&quot;&#xff0c;&#x5982;&#x679c;&#x662f;&#x7684;&#x8bdd;&#x8fd4;&#x56de;false&#xff0c;&#x5426;&#x5219;&#x8c03;&#x7528;Reflect.deleteProperty()&#x65b9;&#x6cd5;&#x6765;&#x4f7f;&#x7528;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;&#x3002;&#x7531;&#x4e8e;&#x901a;&#x8fc7;&#x4ee3;&#x7406;&#x7684;&#x64cd;&#x4f5c;&#x88ab;&#x6355;&#x83b7;&#xff0c;&#x56e0;&#x6b64;value&#x5c5e;&#x6027;&#x65e0;&#x6cd5;&#x88ab;&#x5220;&#x9664;&#xff0c;&#x4f46;name&#x5c5e;&#x6027;&#x5c31;&#x5982;&#x671f;&#x88ab;&#x5220;&#x9664;&#x4e86;&#x3002;&#x5982;&#x679c;&#x5e0c;&#x671b;&#x4fdd;&#x62a4;&#x5c5e;&#x6027;&#x4e0d;&#x88ab;&#x5220;&#x9664;&#xff0c;&#x800c;&#x4e14;&#x5728;&#x4e25;&#x683c;&#x6a21;&#x5f0f;&#x4e0b;&#x4e0d;&#x629b;&#x51fa;&#x9519;&#x8bef;&#xff0c;&#x90a3;&#x4e48;&#x8fd9;&#x4e2a;&#x65b9;&#x6cd5;&#x975e;&#x5e38;&#x4f7f;&#x7528;\n\n&#x3010;&#x539f;&#x578b;&#x4ee3;&#x7406;&#x9677;&#x9631;&#x3011;\n\n&#x3000;&#x3000;Object.setPrototypeOf()&#x65b9;&#x6cd5;&#x88ab;&#x7528;&#x4e8e;&#x4f5c;&#x4e3a;ES5&#x4e2d;&#x7684;Object.getPrototypeOf()&#x65b9;&#x6cd5;&#x7684;&#x8865;&#x5145;&#x3002;&#x901a;&#x8fc7;&#x4ee3;&#x7406;&#x4e2d;&#x7684;setPrototypeOf&#x9677;&#x9631;&#x548c;getPrototypeOf&#x9677;&#x9631;&#x53ef;&#x4ee5;&#x62e6;&#x622a;&#x8fd9;&#x4e24;&#x4e2a;&#x65b9;&#x6cd5;&#x7684;&#x6267;&#x884c;&#x8fc7;&#x7a0b;&#xff0c;&#x5728;&#x8fd9;&#x4e24;&#x79cd;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;Object&#x4e0a;&#x7684;&#x65b9;&#x6cd5;&#x4f1a;&#x8c03;&#x7528;&#x4ee3;&#x7406;&#x4e2d;&#x7684;&#x540c;&#x540d;&#x9677;&#x9631;&#x6765;&#x6539;&#x53d8;&#x65b9;&#x6cd5;&#x7684;&#x884c;&#x4e3a;\n\n&#x3000;&#x3000;&#x4e24;&#x4e2a;&#x9677;&#x9631;&#x5747;&#x4e0e;&#x4ee3;&#x7406;&#x6709;&#x5173;&#xff0c;&#x4f46;&#x5177;&#x4f53;&#x5230;&#x65b9;&#x6cd5;&#x53ea;&#x4e0e;&#x6bcf;&#x4e2a;&#x9677;&#x9631;&#x7684;&#x7c7b;&#x578b;&#x6709;&#x5173;&#xff0c;setPrototypeOf&#x9677;&#x9631;&#x63a5;&#x53d7;&#x4ee5;&#x4e0b;&#x8fd9;&#x4e9b;&#x53c2;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"295,302"}},{"content":"<pre data-lines=\"303,307\"><code data-lines=\"303,307\"><span class=\"hljs-attribute\">trapTarget</span> &#x63a5;&#x53d7;&#x539f;&#x578b;&#x8bbe;&#x7f6e;&#x7684;&#x5bf9;&#x8c61;(&#x4ee3;&#x7406;&#x7684;&#x76ee;&#x6807;)\nproto &#x4f5c;&#x4e3a;&#x539f;&#x578b;&#x4f7f;&#x7528;&#x7684;&#x5bf9;&#x8c61;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"303,307"}},{"content":"<pre data-lines=\"308,315\"><code>&#x3000;&#x3000;&#x4f20;&#x5165;Object.setPrototypeOf()&#x65b9;&#x6cd5;&#x548c;Reflect.setPrototypeOf()&#x65b9;&#x6cd5;&#x7684;&#x5747;&#x662f;&#x4ee5;&#x4e0a;&#x4e24;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x53e6;&#x4e00;&#x65b9;&#x9762;&#xff0c;getPrototypeOf&#x9677;&#x9631;&#x4e2d;&#x7684;Object.getPrototypeOf()&#x65b9;&#x6cd5;&#x548c;Reflect.getPrototypeOf()&#x65b9;&#x6cd5;&#x53ea;&#x63a5;&#x53d7;&#x53c2;&#x6570;trapTarget\n\n**&#x539f;&#x578b;&#x4ee3;&#x7406;&#x9677;&#x9631;&#x7684;&#x8fd0;&#x884c;&#x673a;&#x5236;**\n\n&#x3000;&#x3000;&#x539f;&#x578b;&#x4ee3;&#x7406;&#x9677;&#x9631;&#x6709;&#x4e00;&#x4e9b;&#x9650;&#x5236;&#x3002;&#x9996;&#x5148;&#xff0c;getPrototypeOf&#x9677;&#x9631;&#x5fc5;&#x987b;&#x8fd4;&#x56de;&#x5bf9;&#x8c61;&#x6216;null&#xff0c;&#x5426;&#x5219;&#x5c06;&#x5bfc;&#x81f4;&#x8fd0;&#x884c;&#x65f6;&#x9519;&#x8bef;&#xff0c;&#x8fd4;&#x56de;&#x503c;&#x68c0;&#x67e5;&#x53ef;&#x4ee5;&#x786e;&#x4fdd;Object.getPrototypeOf()&#x8fd4;&#x56de;&#x7684;&#x603b;&#x662f;&#x9884;&#x671f;&#x7684;&#x503c;&#xff1b;&#x5176;&#x6b21;&#xff0c;&#x5728;setPrototypeOf&#x9677;&#x9631;&#x4e2d;&#xff0c;&#x5982;&#x679c;&#x64cd;&#x4f5c;&#x5931;&#x8d25;&#x5219;&#x8fd4;&#x56de;&#x7684;&#x4e00;&#x5b9a;&#x662f;false&#xff0c;&#x6b64;&#x65f6;Object.setPrototypeOf()&#x4f1a;&#x629b;&#x51fa;&#x9519;&#x8bef;&#xff0c;&#x5982;&#x679c;setPrototypeOf&#x8fd4;&#x56de;&#x4e86;&#x4efb;&#x4f55;&#x4e0d;&#x662f;false&#x7684;&#x503c;&#xff0c;&#x90a3;&#x4e48;Object.setPrototypeOf()&#x4fbf;&#x5047;&#x8bbe;&#x64cd;&#x4f5c;&#x6210;&#x529f;\n\n&#x3000;&#x3000;&#x4ee5;&#x4e0b;&#x793a;&#x4f8b;&#x901a;&#x8fc7;&#x603b;&#x662f;&#x8fd4;&#x56de;null&#xff0c;&#x4e14;&#x4e0d;&#x5141;&#x8bb8;&#x6539;&#x53d8;&#x539f;&#x578b;&#x7684;&#x65b9;&#x5f0f;&#x9690;&#x85cf;&#x4e86;&#x4ee3;&#x7406;&#x7684;&#x539f;&#x578b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"308,315"}},{"content":"<pre data-lines=\"318,338\"><code data-lines=\"318,338\"><span class=\"hljs-keyword\">let</span> target = {};\n<span class=\"hljs-keyword\">let</span> proxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(target, {\n    <span class=\"hljs-title function_\">getPrototypeOf</span>(<span class=\"hljs-params\">trapTarget</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>;\n    },\n    <span class=\"hljs-title function_\">setPrototypeOf</span>(<span class=\"hljs-params\">trapTarget, proto</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;\n    }\n});\n<span class=\"hljs-keyword\">let</span> targetProto = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">getPrototypeOf</span>(target);\n<span class=\"hljs-keyword\">let</span> proxyProto = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">getPrototypeOf</span>(proxy);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(targetProto === <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(proxyProto === <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>); <span class=\"hljs-comment\">// false</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(proxyProto); <span class=\"hljs-comment\">// null</span>\n<span class=\"hljs-comment\">// &#x6210;&#x529f;</span>\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">setPrototypeOf</span>(target, {});\n<span class=\"hljs-comment\">// &#x629b;&#x51fa;&#x9519;&#x8bef;</span>\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">setPrototypeOf</span>(proxy, {});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"318,338"}},{"content":"<pre data-lines=\"341,344\"><code>&#x3000;&#x3000;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x5f3a;&#x8c03;&#x4e86;target&#x548c;proxy&#x7684;&#x884c;&#x4e3a;&#x5dee;&#x5f02;&#x3002;Object.getPrototypeOf()&#x7ed9;target&#x8fd4;&#x56de;&#x7684;&#x662f;&#x503c;&#xff0c;&#x800c;&#x7ed9;proxy&#x8fd4;&#x56de;&#x503c;&#x65f6;&#xff0c;&#x7531;&#x4e8e;getPrototypeOf&#x9677;&#x9631;&#x88ab;&#x8c03;&#x7528;&#xff0c;&#x8fd4;&#x56de;&#x7684;&#x662f;null&#xff1b;&#x540c;&#x6837;&#xff0c;Object.setPrototypeOf()&#x6210;&#x529f;&#x4e3a;target&#x8bbe;&#x7f6e;&#x539f;&#x578b;&#xff0c;&#x800c;&#x7ed9;proxy&#x8bbe;&#x7f6e;&#x539f;&#x578b;&#x65f6;&#xff0c;&#x7531;&#x4e8e;setPrototypeOf&#x9677;&#x9631;&#x88ab;&#x8c03;&#x7528;&#xff0c;&#x6700;&#x7ec8;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;\n\n&#x3000;&#x3000;&#x5982;&#x679c;&#x4f7f;&#x7528;&#x8fd9;&#x4e24;&#x4e2a;&#x9677;&#x9631;&#x7684;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;&#xff0c;&#x5219;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;Reflect&#x4e0a;&#x7684;&#x76f8;&#x5e94;&#x65b9;&#x6cd5;&#x3002;&#x4f8b;&#x5982;&#xff0c;&#x4e0b;&#x9762;&#x7684;&#x4ee3;&#x7801;&#x5b9e;&#x73b0;&#x4e86;getPrototypeOf&#x548c;setPrototypeOf&#x9677;&#x9631;&#x7684;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"341,344"}},{"content":"<pre data-lines=\"347,366\"><code data-lines=\"347,366\"><span class=\"hljs-keyword\">let</span> target = {};\n<span class=\"hljs-keyword\">let</span> proxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(target, {\n    <span class=\"hljs-title function_\">getPrototypeOf</span>(<span class=\"hljs-params\">trapTarget</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">getPrototypeOf</span>(trapTarget);\n    },\n    <span class=\"hljs-title function_\">setPrototypeOf</span>(<span class=\"hljs-params\">trapTarget, proto</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">setPrototypeOf</span>(trapTarget, proto);\n    }\n});\n<span class=\"hljs-keyword\">let</span> targetProto = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">getPrototypeOf</span>(target);\n<span class=\"hljs-keyword\">let</span> proxyProto = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">getPrototypeOf</span>(proxy);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(targetProto === <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(proxyProto === <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-comment\">// &#x6210;&#x529f;</span>\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">setPrototypeOf</span>(target, {});\n<span class=\"hljs-comment\">// &#x540c;&#x6837;&#x6210;&#x529f;</span>\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">setPrototypeOf</span>(proxy, {});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"347,366"}},{"content":"<pre data-lines=\"369,380\"><code>&#x3000;&#x3000;&#x7531;&#x4e8e;&#x672c;&#x793a;&#x4f8b;&#x4e2d;&#x7684;getPrototypeOf&#x9677;&#x9631;&#x548c;setPrototypeOf&#x9677;&#x9631;&#x4ec5;&#x4f7f;&#x7528;&#x4e86;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;&#xff0c;&#x56e0;&#x6b64;&#x53ef;&#x4ee5;&#x4ea4;&#x6362;&#x4f7f;&#x7528;target&#x548c;paro&#xd7;y&#x5e76;&#x5f97;&#x5230;&#x76f8;&#x540c;&#x7ed3;&#x679c;&#x3002;&#x7531;&#x4e8e;Reflect.getPrototypeOf()&#x65b9;&#x6cd5;&#x548c;Reflect.setPrototypeOf()&#x65b9;&#x6cd5;&#x4e0e;Object&#x4e0a;&#x7684;&#x540c;&#x540d;&#x65b9;&#x6cd5;&#x5b58;&#x5728;&#x4e00;&#x4e9b;&#x91cd;&#x8981;&#x5dee;&#x5f02;&#xff0c;&#x56e0;&#x6b64;&#x4f7f;&#x7528;&#x5b83;&#x4eec;&#x662f;&#x5f88;&#x91cd;&#x8981;&#x7684;\n\n**&#x4e3a;&#x4ec0;&#x4e48;&#x6709;&#x4e24;&#x7ec4;&#x65b9;&#x6cd5;**\n\n&#x3000;&#x3000;&#x4ee4;&#x4eba;&#x56f0;&#x60d1;&#x7684;&#x662f;&#xff0c;Reflect.getPrototypeOf()&#x65b9;&#x6cd5;&#x548c;Reflect.setPrototypeOf()&#x65b9;&#x6cd5;&#x7591;&#x4f3c;Object.getPrototypeOf()&#x65b9;&#x6cd5;&#x548c;Object.setPrototypeOf()&#x65b9;&#x6cd5;&#xff0c;&#x5c3d;&#x7ba1;&#x4e24;&#x7ec4;&#x65b9;&#x6cd5;&#x6267;&#x884c;&#x76f8;&#x4f3c;&#x7684;&#x64cd;&#x4f5c;&#xff0c;&#x4f46;&#x4e24;&#x8005;&#x95f4;&#x4ecd;&#x6709;&#x4e00;&#x4e9b;&#x4e0d;&#x540c;&#x4e4b;&#x5904;\n\n&#x3000;&#x3000;Object.getPrototypeOf()&#x548c;Object.setPrototypeOf()&#x662f;&#x7ed9;&#x5f00;&#x53d1;&#x8005;&#x4f7f;&#x7528;&#x7684;&#x9ad8;&#x7ea7;&#x64cd;&#x4f5c;&#xff1b;&#x800c;Reflect.getPrototypeOf()&#x65b9;&#x6cd5;&#x548c;Reflect.setprototypeOf()&#x65b9;&#x6cd5;&#x5219;&#x662f;&#x5e95;&#x5c42;&#x64cd;&#x4f5c;&#xff0c;&#x5176;&#x8d4b;&#x4e88;&#x5f00;&#x53d1;&#x8005;&#x53ef;&#x4ee5;&#x8bbf;&#x95ee;&#x4e4b;&#x524d;&#x53ea;&#x5728;&#x5185;&#x90e8;&#x64cd;&#x4f5c;&#x7684;[[GetPrototypeOf]]&#x548c;[[setPrototypeOf]]&#x7684;&#x6743;&#x9650;\n\n&#x3000;&#x3000;Reflect.getPrototypeOf()&#x65b9;&#x6cd5;&#x662f;&#x5185;&#x90e8;[[GetprototypeOf]]&#x64cd;&#x4f5c;&#x7684;&#x5305;&#x88f9;&#x5668;&#xff0c;Reflect.setPrototypeOf()&#x65b9;&#x6cd5;&#x4e0e;[[setPrototypeOf]]&#x7684;&#x5173;&#x7cfb;&#x4e0e;&#x4e4b;&#x76f8;&#x540c;&#x3002;Object&#x4e0a;&#x76f8;&#x5e94;&#x7684;&#x65b9;&#x6cd5;&#x867d;&#x7136;&#x4e5f;&#x8c03;&#x7528;&#x4e86;[[GetPrototypeOf]]&#x548c;[[Setprototypeof]]&#xff0c;&#x4f46;&#x5728;&#x6b64;&#x4e4b;&#x524d;&#x4f1a;&#x6267;&#x884c;&#x4e00;&#x4e9b;&#x989d;&#x5916;&#x6b65;&#x9aa4;&#xff0c;&#x5e76;&#x901a;&#x8fc7;&#x68c0;&#x67e5;&#x8fd4;&#x56de;&#x503c;&#x6765;&#x51b3;&#x5b9a;&#x4e0b;&#x4e00;&#x6b65;&#x7684;&#x64cd;&#x4f5c;\n\n&#x3000;&#x3000;&#x5982;&#x679c;&#x4f20;&#x5165;&#x7684;&#x53c2;&#x6570;&#x4e0d;&#x662f;&#x5bf9;&#x8c61;&#xff0c;&#x5219;Reflect.getPrototypeOf()&#x65b9;&#x6cd5;&#x4f1a;&#x629b;&#x51fa;&#x9519;&#x8bef;&#xff0c;&#x800c;Object.getPrototypeOf()&#x65b9;&#x6cd5;&#x5219;&#x4f1a;&#x5728;&#x64cd;&#x4f5c;&#x6267;&#x884c;&#x524d;&#x5148;&#x5c06;&#x53c2;&#x6570;&#x5f3a;&#x5236;&#x8f6c;&#x6362;&#x4e3a;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#x3002;&#x7ed9;&#x8fd9;&#x4e24;&#x4e2a;&#x65b9;&#x6cd5;&#x4f20;&#x5165;&#x4e00;&#x4e2a;&#x6570;&#x5b57;&#xff0c;&#x4f1a;&#x5f97;&#x5230;&#x4e0d;&#x540c;&#x7684;&#x7ed3;&#x679c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"369,380"}},{"content":"<pre data-lines=\"381,387\"><code data-lines=\"381,387\"><span class=\"hljs-keyword\">let</span> result1 = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">getPrototypeOf</span>(<span class=\"hljs-number\">1</span>);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(result1 === <span class=\"hljs-title class_\">Number</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-comment\">// &#x629b;&#x51fa;&#x9519;&#x8bef;</span>\n<span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">getPrototypeOf</span>(<span class=\"hljs-number\">1</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"381,387"}},{"content":"<pre data-lines=\"388,393\"><code>&#x3000;&#x3000;Object.getPrototypeOf()&#x65b9;&#x6cd5;&#x4f1a;&#x5f3a;&#x5236;&#x8ba9;&#x6570;&#x5b57;1&#x53d8;&#x4e3a;Number&#x5bf9;&#x8c61;&#xff0c;&#x6240;&#x4ee5;&#x53ef;&#x4ee5;&#x68c0;&#x7d22;&#x5b83;&#x7684;&#x539f;&#x578b;&#x5e76;&#x5f97;&#x5230;&#x8fd4;&#x56de;&#x503c;Number.prototype&#xff1b;&#x800c;&#x7531;&#x4e8e;Reflect.getPrototypeOf()&#x65b9;&#x6cd5;&#x4e0d;&#x5f3a;&#x5236;&#x8f6c;&#x5316;&#x503c;&#x7684;&#x7c7b;&#x578b;&#xff0c;&#x800c;&#x4e14;1&#x53c8;&#x4e0d;&#x662f;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x6545;&#x4f1a;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;\n\n&#x3000;&#x3000;Reflect.setPrototypeOf()&#x65b9;&#x6cd5;&#x4e0e;Object.setPrototypeOf()&#x65b9;&#x6cd5;&#x4e5f;&#x4e0d;&#x5c3d;&#x76f8;&#x540c;&#x3002;&#x5177;&#x4f53;&#x800c;&#x8a00;&#xff0c;Reflect.setPrototypeOf()&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x5e03;&#x5c14;&#x503c;&#x6765;&#x8868;&#x793a;&#x64cd;&#x4f5c;&#x662f;&#x5426;&#x6210;&#x529f;&#xff0c;&#x6210;&#x529f;&#x65f6;&#x8fd4;&#x56de;true&#xff0c;&#x5931;&#x8d25;&#x5219;&#x8fd4;&#x56de;false&#xff1b;&#x800c;Object.setPrototypeOf()&#x65b9;&#x6cd5;&#x4e00;&#x65e6;&#x5931;&#x8d25;&#x5219;&#x4f1a;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;\n\n&#x3000;&#x3000;&#x5f53;setPrototypeOf&#x4ee3;&#x7406;&#x9677;&#x9631;&#x8fd4;&#x56de;false&#x65f6;&#x4f1a;&#x5bfc;&#x81f4;Object.setPrototypeOf()&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#x3002;Object.setPrototypeOf()&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x4f5c;&#x4e3a;&#x5b83;&#x7684;&#x503c;&#xff0c;&#x56e0;&#x6b64;&#x5176;&#x4e0d;&#x9002;&#x5408;&#x7528;&#x4e8e;&#x5b9e;&#x73b0;setPrototypeOf&#x4ee3;&#x7406;&#x9677;&#x9631;&#x7684;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"388,393"}},{"content":"<pre data-lines=\"396,405\"><code data-lines=\"396,405\"><span class=\"hljs-keyword\">let</span> target1 = {};\n<span class=\"hljs-keyword\">let</span> result1 = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">setPrototypeOf</span>(target1, {});\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(result1 === target1); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-keyword\">let</span> target2 = {};\n<span class=\"hljs-keyword\">let</span> result2 = <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">setPrototypeOf</span>(target2, {});\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(result2 === target2); <span class=\"hljs-comment\">// false</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(result2); <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"396,405"}},{"content":"<pre data-lines=\"408,419\"><code>&#x3000;&#x3000;&#x5728;&#x8fd9;&#x4e2a;&#x793a;&#x4f8b;&#x4e2d;&#xff0c;Object.setPrototypeOf()&#x8fd4;&#x56de;target1&#xff0c;&#x4f46;Reflect.setPrototypeOf()&#x8fd4;&#x56de;&#x7684;&#x662f;true&#x3002;&#x8fd9;&#x79cd;&#x5fae;&#x5999;&#x7684;&#x5dee;&#x5f02;&#x975e;&#x5e38;&#x91cd;&#x8981;&#xff0c;&#x5728;object&#x548c;Reflect&#x4e0a;&#x8fd8;&#x6709;&#x66f4;&#x591a;&#x770b;&#x4f3c;&#x91cd;&#x590d;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x4f46;&#x662f;&#x5728;&#x6240;&#x6709;&#x4ee3;&#x7406;&#x9677;&#x9631;&#x4e2d;&#x4e00;&#x5b9a;&#x8981;&#x4f7f;&#x7528;Reflect&#x4e0a;&#x7684;&#x65b9;&#x6cd5;\n\n&#x3010;&#x5bf9;&#x8c61;&#x53ef;&#x6269;&#x5c55;&#x6027;&#x9677;&#x9631;&#x3011;\n\n&#x3000;&#x3000;ES5&#x5df2;&#x7ecf;&#x901a;&#x8fc7;Object.preventExtensions()&#x65b9;&#x6cd5;&#x548c;Object.isExtensible()&#x65b9;&#x6cd5;&#x4fee;&#x6b63;&#x4e86;&#x5bf9;&#x8c61;&#x7684;&#x53ef;&#x6269;&#x5c55;&#x6027;&#xff0c;ES6&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x4ee3;&#x7406;&#x4e2d;&#x7684;preventExtensions&#x548c;isExtensible&#x9677;&#x9631;&#x62e6;&#x622a;&#x8fd9;&#x4e24;&#x4e2a;&#x65b9;&#x6cd5;&#x5e76;&#x8c03;&#x7528;&#x5e95;&#x5c42;&#x5bf9;&#x8c61;&#x3002;&#x4e24;&#x4e2a;&#x9677;&#x9631;&#x90fd;&#x63a5;&#x53d7;&#x552f;&#x4e00;&#x53c2;&#x6570;trapTarget&#x5bf9;&#x8c61;&#xff0c;&#x5e76;&#x8c03;&#x7528;&#x5b83;&#x4e0a;&#x9762;&#x7684;&#x65b9;&#x6cd5;&#x3002;isExtensible&#x9677;&#x9631;&#x8fd4;&#x56de;&#x7684;&#x4e00;&#x5b9a;&#x662f;&#x4e00;&#x4e2a;&#x5e03;&#x5c14;&#x503c;&#xff0c;&#x8868;&#x793a;&#x5bf9;&#x8c61;&#x662f;&#x5426;&#x53ef;&#x6269;&#x5c55;&#xff1b;preventExtensions&#x9677;&#x9631;&#x8fd4;&#x56de;&#x7684;&#x4e5f;&#x4e00;&#x5b9a;&#x662f;&#x5e03;&#x5c14;&#x503c;&#xff0c;&#x8868;&#x793a;&#x64cd;&#x4f5c;&#x662f;&#x5426;&#x6210;&#x529f;\n\n&#x3000;&#x3000;Reflect.preventExtensions()&#x65b9;&#x6cd5;&#x548c; Reflect.IsExtensible()&#x65b9;&#x6cd5;&#x5b9e;&#x73b0;&#x76f8;&#x5e94;&#x9677;&#x9631;&#x4e2d;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;&#xff0c;&#x4e8c;&#x8005;&#x90fd;&#x8fd4;&#x56de;&#x5e03;&#x5c14;&#x503c;\n\n**&#x4e24;&#x4e2a;&#x57fa;&#x7840;&#x793a;&#x4f8b;**\n\n&#x3000;&#x3000;&#x4ee5;&#x4e0b;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x662f;&#x5bf9;&#x8c61;&#x53ef;&#x6269;&#x5c55;&#x6027;&#x9677;&#x9631;&#x7684;&#x5b9e;&#x9645;&#x5e94;&#x7528;&#xff0c;&#x5b9e;&#x73b0;&#x4e86;isExtensible&#x548c;preventExtensions&#x9677;&#x9631;&#x7684;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"408,419"}},{"content":"<pre data-lines=\"422,438\"><code data-lines=\"422,438\"><span class=\"hljs-keyword\">let</span> target = {};\n<span class=\"hljs-keyword\">let</span> proxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(target, {\n    <span class=\"hljs-title function_\">isExtensible</span>(<span class=\"hljs-params\">trapTarget</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">isExtensible</span>(trapTarget);\n    },\n    <span class=\"hljs-title function_\">preventExtensions</span>(<span class=\"hljs-params\">trapTarget</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">preventExtensions</span>(trapTarget);\n    }\n});\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">isExtensible</span>(target)); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">isExtensible</span>(proxy)); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">preventExtensions</span>(proxy);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">isExtensible</span>(target)); <span class=\"hljs-comment\">// false</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">isExtensible</span>(proxy)); <span class=\"hljs-comment\">// false</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"422,438"}},{"content":"<pre data-lines=\"441,442\"><code>&#x3000;&#x3000;&#x6b64;&#x793a;&#x4f8b;&#x5c55;&#x793a;&#x4e86;Object.preventExtensions()&#x65b9;&#x6cd5;&#x548c;Object.isExtensible()&#x65b9;&#x6cd5;&#x76f4;&#x63a5;&#x4ece;proxy&#x4f20;&#x9012;&#x5230;target&#x7684;&#x8fc7;&#x7a0b;&#xff0c;&#x5f53;&#x7136;&#xff0c;&#x53ef;&#x4ee5;&#x6539;&#x53d8;&#x8fd9;&#x79cd;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;&#xff0c;&#x4f8b;&#x5982;&#xff0c;&#x5982;&#x679c;&#x60f3;&#x8ba9;Object.preventExtensions()&#x5bf9;&#x4e8e;proxy&#x5931;&#x6548;&#xff0c;&#x90a3;&#x4e48;&#x53ef;&#x4ee5;&#x5728;preventExtensions&#x9677;&#x9631;&#x4e2d;&#x8fd4;&#x56de;false\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"441,442"}},{"content":"<pre data-lines=\"445,461\"><code data-lines=\"445,461\"><span class=\"hljs-keyword\">let</span> target = {};\n<span class=\"hljs-keyword\">let</span> proxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(target, {\n    <span class=\"hljs-title function_\">isExtensible</span>(<span class=\"hljs-params\">trapTarget</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">isExtensible</span>(trapTarget);\n    },\n    <span class=\"hljs-title function_\">preventExtensions</span>(<span class=\"hljs-params\">trapTarget</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>\n    }\n});\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">isExtensible</span>(target)); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">isExtensible</span>(proxy)); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">preventExtensions</span>(proxy);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">isExtensible</span>(target)); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">isExtensible</span>(proxy)); <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"445,461"}},{"content":"<pre data-lines=\"464,469\"><code>&#x3000;&#x3000;&#x8fd9;&#x91cc;&#x7684;Object.preventExtensions(proxy)&#x8c03;&#x7528;&#x5b9e;&#x9645;&#x4e0a;&#x88ab;&#x5ffd;&#x7565;&#x4e86;&#xff0c;&#x8fd9;&#x662f;&#x56e0;&#x4e3a;preventExtensions&#x9677;&#x9631;&#x8fd4;&#x56de;&#x4e86;false&#xff0c;&#x6240;&#x4ee5;&#x64cd;&#x4f5c;&#x4e0d;&#x4f1a;&#x8f6c;&#x53d1;&#x5230;&#x5e95;&#x5c42;&#x76ee;&#x6807;&#xff0c;Object.isExtensible()&#x6700;&#x7ec8;&#x8fd4;&#x56de;true\n\n&#x3010;&#x91cd;&#x590d;&#x7684;&#x53ef;&#x6269;&#x5c55;&#x6027;&#x65b9;&#x6cd5;&#x3011;\n\n&#x3000;&#x3000;Object.isExtensible()&#x65b9;&#x6cd5;&#x548c;Reflect.isExtensible()&#x65b9;&#x6cd5;&#x975e;&#x5e38;&#x76f8;&#x4f3c;&#xff0c;&#x53ea;&#x6709;&#x5f53;&#x4f20;&#x5165;&#x975e;&#x5bf9;&#x8c61;&#x503c;&#x65f6;&#xff0c;Object.isExtensible()&#x8fd4;&#x56de;false&#xff0c;&#x800c;Reflect.isExtensible()&#x5219;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"464,469"}},{"content":"<pre data-lines=\"470,476\"><code data-lines=\"470,476\"><span class=\"hljs-keyword\">let</span> result1 = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">isExtensible</span>(<span class=\"hljs-number\">2</span>);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(result1); <span class=\"hljs-comment\">// false</span>\n<span class=\"hljs-comment\">// &#x629b;&#x51fa;&#x9519;&#x8bef;</span>\n<span class=\"hljs-keyword\">let</span> result2 = <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">isExtensible</span>(<span class=\"hljs-number\">2</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"470,476"}},{"content":"<pre data-lines=\"477,480\"><code>&#x3000;&#x3000;&#x8fd9;&#x6761;&#x9650;&#x5236;&#x7c7b;&#x4f3c;&#x4e8e;Object.getPrototypeOf()&#x65b9;&#x6cd5;&#x4e0e;Reflect.getPrototypeOf()&#x65b9;&#x6cd5;&#x4e4b;&#x95f4;&#x7684;&#x5dee;&#x5f02;&#xff0c;&#x56e0;&#x4e3a;&#x76f8;&#x6bd4;&#x9ad8;&#x7ea7;&#x529f;&#x80fd;&#x65b9;&#x6cd5;&#x800c;&#x8a00;&#xff0c;&#x5e95;&#x5c42;&#x7684;&#x5177;&#x6709;&#x66f4;&#x4e25;&#x683c;&#x7684;&#x9519;&#x8bef;&#x68c0;&#x67fb;\n\n&#x3000;&#x3000;Object.preventExtensions()&#x65b9;&#x6cd5;&#x548c;Reflect.preventExtensions()&#x65b9;&#x6cd5;&#x540c;&#x6837;&#x975e;&#x5e38;&#x76f8;&#x4f3c;&#x3002;&#x65e0;&#x8bba;&#x4f20;&#x5165;Object.preventExtensions()&#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;&#x662f;&#x5426;&#x4e3a;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x5b83;&#x603b;&#x662f;&#x8fd4;&#x56de;&#x8be5;&#x53c2;&#x6570;&#xff1b;&#x800c;&#x5982;&#x679c;Reflect.preventExtensions()&#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;&#x4e0d;&#x662f;&#x5bf9;&#x8c61;&#x5c31;&#x4f1a;&#x629b;&#x51fa;&#x9519;&#x8bef;&#xff1b;&#x5982;&#x679c;&#x53c2;&#x6570;&#x662f;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x64cd;&#x4f5c;&#x6210;&#x529f;&#x65f6;Reflect.preventExtensions()&#x4f1a;&#x8fd4;&#x56de;true&#xff0c;&#x5426;&#x5219;&#x8fd4;&#x56de;false\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"477,480"}},{"content":"<pre data-lines=\"483,492\"><code data-lines=\"483,492\"><span class=\"hljs-keyword\">let</span> result1 = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">preventExtensions</span>(<span class=\"hljs-number\">2</span>);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(result1); <span class=\"hljs-comment\">// 2</span>\n<span class=\"hljs-keyword\">let</span> target = {};\n<span class=\"hljs-keyword\">let</span> result2 = <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">preventExtensions</span>(target);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(result2); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-comment\">// &#x629b;&#x51fa;&#x9519;&#x8bef;</span>\n<span class=\"hljs-keyword\">let</span> result3 = <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">preventExtensions</span>(<span class=\"hljs-number\">2</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"483,492"}},{"content":"<pre data-lines=\"495,502\"><code>&#x3000;&#x3000;&#x5728;&#x8fd9;&#x91cc;&#xff0c;&#x5373;&#x4f7f;&#x503c;2&#x4e0d;&#x662f;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;Object.preventExtensions()&#x65b9;&#x6cd5;&#x4e5f;&#x5c06;&#x5176;&#x900f;&#x4f20;&#x4f5c;&#x4e3a;&#x8fd4;&#x56de;&#x503c;&#xff0c;&#x800c;Reflect.preventExtensions()&#x65b9;&#x6cd5;&#x5219;&#x4f1a;&#x629b;&#x51fa;&#x9519;&#x8bef;&#xff0c;&#x53ea;&#x6709;&#x5f53;&#x4f20;&#x5165;&#x5bf9;&#x8c61;&#x65f6;&#x5b83;&#x624d;&#x8fd4;&#x56de;true\n\n&#x3010;&#x5c5e;&#x6027;&#x63cf;&#x8ff0;&#x7b26;&#x9677;&#x9631;&#x3011;\n\n&#x3000;&#x3000;ES5&#x6700;&#x91cd;&#x8981;&#x7684;&#x7279;&#x6027;&#x4e4b;&#x4e00;&#x662f;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;Object.defineProperty()&#x65b9;&#x6cd5;&#x5b9a;&#x4e49;&#x5c5e;&#x6027;&#x7279;&#x6027;(property attribute)&#x3002;&#x5728;&#x65e9;&#x671f;&#x7248;&#x672c;&#x7684;JS&#x4e2d;&#x65e0;&#x6cd5;&#x5b9a;&#x4e49;&#x8bbf;&#x95ee;&#x5668;&#x5c5e;&#x6027;&#xff0c;&#x65e0;&#x6cd5;&#x5c06;&#x5c5e;&#x6027;&#x8bbe;&#x7f6e;&#x4e3a;&#x53ea;&#x8bfb;&#x6216;&#x4e0d;&#x53ef;&#x914d;&#x7f6e;&#x3002;&#x76f4;&#x5230;Object.defineProperty()&#x65b9;&#x6cd5;&#x51fa;&#x73b0;&#x4e4b;&#x540e;&#x624d;&#x652f;&#x6301;&#x8fd9;&#x4e9b;&#x529f;&#x80fd;&#xff0c;&#x5e76;&#x4e14;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;Object.getOwnPropertyDescriptor()&#x65b9;&#x6cd5;&#x6765;&#x83b7;&#x53d6;&#x8fd9;&#x4e9b;&#x5c5e;&#x6027;\n\n&#x3000;&#x3000;&#x5728;&#x4ee3;&#x7406;&#x4e2d;&#x53ef;&#x4ee5;&#x5206;&#x522b;&#x7528;defineProperty&#x9677;&#x9631;&#x548c;getOwnPropertyDescriptor&#x9677;&#x9631;&#x62e6;&#x622a; Object.defineProperty()&#x65b9;&#x6cd5;&#x548c;Object.getOwnPropertyDescriptor()&#x65b9;&#x6cd5;&#x7684;&#x8c03;&#x7528;&#x3002;definePropepty&#x9677;&#x9631;&#x63a5;&#x53d7;&#x4ee5;&#x4e0b;&#x53c2;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"495,502"}},{"content":"<pre data-lines=\"503,508\"><code data-lines=\"503,508\">trapTarget &#x8981;&#x5b9a;&#x4e49;&#x5c5e;&#x6027;&#x7684;&#x5bf9;&#x8c61;(&#x4ee3;&#x7406;&#x7684;&#x76ee;&#x6807;)\nkey &#x5c5e;&#x6027;&#x7684;&#x952e;(&#x5b57;&#x7b26;&#x4e32;&#x6216;Symbol)\ndescriptor &#x5c5e;&#x6027;&#x7684;&#x63cf;&#x8ff0;&#x7b26;&#x5bf9;&#x8c61;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"503,508"}},{"content":"<pre data-lines=\"509,510\"><code>&#x3000;&#x3000;defineProperty&#x9677;&#x9631;&#x9700;&#x8981;&#x5728;&#x64cd;&#x4f5c;&#x6210;&#x529f;&#x540e;&#x8fd4;&#x56de;true&#xff0c;&#x5426;&#x5219;&#x8fd4;&#x56de;false&#x3002;getOwnPropertyDescriptor&#x9677;&#x9631;&#x53ea;&#x63a5;&#x53d7;trapTarget&#x548c;key&#x4e24;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x6700;&#x7ec8;&#x8fd4;&#x56de;&#x63cf;&#x8ff0;&#x7b26;&#x3002;Reflect.defineProperty()&#x65b9;&#x6cd5;&#x548c;Reflect.getOwnPropertyDescriptor()&#x65b9;&#x6cd5;&#x4e0e;&#x5bf9;&#x5e94;&#x7684;&#x9677;&#x9631;&#x63a5;&#x53d7;&#x76f8;&#x540c;&#x53c2;&#x6570;&#x3002;&#x8fd9;&#x4e2a;&#x793a;&#x4f8b;&#x5b9e;&#x73b0;&#x7684;&#x662f;&#x6bcf;&#x4e2a;&#x9677;&#x9631;&#x7684;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"509,510"}},{"content":"<pre data-lines=\"513,529\"><code data-lines=\"513,529\"><span class=\"hljs-keyword\">let</span> proxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>({}, {\n    <span class=\"hljs-title function_\">defineProperty</span>(<span class=\"hljs-params\">trapTarget, key, descriptor</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">defineProperty</span>(trapTarget, key, descriptor);\n    },\n    <span class=\"hljs-title function_\">getOwnPropertyDescriptor</span>(<span class=\"hljs-params\">trapTarget, key</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">getOwnPropertyDescriptor</span>(trapTarget, key);\n    }\n});\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperty</span>(proxy, <span class=\"hljs-string\">&quot;name&quot;</span>, {\n    <span class=\"hljs-attr\">value</span>: <span class=\"hljs-string\">&quot;proxy&quot;</span>\n});\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(proxy.<span class=\"hljs-property\">name</span>); <span class=\"hljs-comment\">// &quot;proxy&quot;</span>\n<span class=\"hljs-keyword\">let</span> descriptor = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">getOwnPropertyDescriptor</span>(proxy, <span class=\"hljs-string\">&quot;name&quot;</span>);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(descriptor.<span class=\"hljs-property\">value</span>); <span class=\"hljs-comment\">// &quot;proxy&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"513,529"}},{"content":"<pre data-lines=\"532,547\"><code>&#x3000;&#x3000;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x901a;&#x8fc7;Object.defineProperty()&#x65b9;&#x6cd5;&#x5728;&#x4ee3;&#x7406;&#x4e0a;&#x5b9a;&#x4e49;&#x4e86;&#x5c5e;&#x6027;&quot;name&quot;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x7684;&#x63cf;&#x8ff0;&#x7b26;&#x53ef;&#x901a;&#x8fc7;Object.getOwnPropertyDescriptor()&#x65b9;&#x6cd5;&#x6765;&#x83b7;&#x53d6;\n\n**&#x7ed9;Object.defineProperty()&#x6dfb;&#x52a0;&#x9650;&#x5236;**\n\n&#x3000;&#x3000;defineProperty&#x9677;&#x9631;&#x8fd4;&#x56de;&#x5e03;&#x5c14;&#x503c;&#x6765;&#x8868;&#x793a;&#x64cd;&#x4f5c;&#x662f;&#x5426;&#x6210;&#x529f;&#x3002;&#x8fd4;&#x56de;true&#x65f6;&#xff0c;Object.defineProperty()&#x65b9;&#x6cd5;&#x6210;&#x529f;&#x6267;&#x884c;&#xff1b;&#x8fd4;&#x56de;false&#x65f6;&#xff0c;Object.defineProperty()&#x65b9;&#x6cd5;&#x629b;&#x51fa;&#x9519;&#x8bef;&#x3002;&#x8fd9;&#x4e2a;&#x529f;&#x80fd;&#x53ef;&#x4ee5;&#x7528;&#x6765;&#x9650;&#x5236;Object.defineProperty()&#x65b9;&#x6cd5;&#x53ef;&#x5b9a;&#x4e49;&#x7684;&#x5c5e;&#x6027;&#x7c7b;&#x578b;&#xff0c;&#x4f8b;&#x5982;&#xff0c;&#x5982;&#x679c;&#x5e0c;&#x671b;&#x963b;&#x6b62;Symbol&#x7c7b;&#x578b;&#x7684;&#x5c5e;&#x6027;&#xff0c;&#x5219;&#x53ef;&#x4ee5;&#x5f53;&#x5c5e;&#x6027;&#x952e;&#x4e3a;symbol&#x65f6;&#x8fd4;&#x56de;false\n\n&#x3000;&#x3000;&#x5f53;key&#x662f;Symbol&#x7c7b;&#x578b;&#x65f6;defineProperty&#x4ee3;&#x7406;&#x9677;&#x9631;&#x8fd4;&#x56de;false&#xff0c;&#x5426;&#x5219;&#x6267;&#x884c;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;&#x3002;&#x8c03;&#x7528;Object.defineProperty()&#x5e76;&#x4f20;&#x5165;&quot;name&quot;&#xff0c;&#x56e0;&#x6b64;&#x952e;&#x7684;&#x7c7b;&#x578b;&#x662f;&#x5b57;&#x7b26;&#x4e32;&#x6240;&#x4ee5;&#x65b9;&#x6cd5;&#x6210;&#x529f;&#x6267;&#x884c;&#xff1b;&#x8c03;&#x7528;Object.defineProperty()&#x65b9;&#x6cd5;&#x5e76;&#x4f20;&#x5165;nameSymbol&#xff0c;defineProperty&#x9677;&#x9631;&#x8fd4;&#x56de;false&#x6240;&#x4ee5;&#x629b;&#x51fa;&#x9519;&#x8bef;\n\n&#x3000;&#x3000;[&#x6ce8;&#x610f;]&#x5982;&#x679c;&#x8ba9;&#x9677;&#x9631;&#x8fd4;&#x56de;true&#x5e76;&#x4e14;&#x4e0d;&#x8c03;&#x7528;Reflect.defineProperty()&#x65b9;&#x6cd5;&#xff0c;&#x5219;&#x53ef;&#x4ee5;&#x8ba9;Object.defineProperty()&#x65b9;&#x6cd5;&#x9759;&#x9ed8;&#x5931;&#x6548;&#xff0c;&#x8fd9;&#x65e2;&#x6d88;&#x9664;&#x4e86;&#x9519;&#x8bef;&#x53c8;&#x4e0d;&#x4f1a;&#x771f;&#x6b63;&#x5b9a;&#x4e49;&#x5c5e;&#x6027;\n\n**&#x63cf;&#x8ff0;&#x7b26;&#x5bf9;&#x8c61;&#x9650;&#x5236;**\n\n&#x3000;&#x3000;&#x4e3a;&#x786e;&#x4fdd;Object.defineProperty()&#x65b9;&#x6cd5;&#x548c;Object.getOwnPropertyDescriptor()&#x65b9;&#x6cd5;&#x7684;&#x884c;&#x4e3a;&#x4e00;&#x81f4;&#xff0c;&#x4f20;&#x5165;defineProperty&#x9677;&#x9631;&#x7684;&#x63cf;&#x8ff0;&#x7b26;&#x5bf9;&#x8c61;&#x5df2;&#x89c4;&#x8303;&#x5316;&#x3002;&#x4ece;getOwnPropertyDescriptor&#x9677;&#x9631;&#x8fd4;&#x56de;&#x7684;&#x5bf9;&#x8c61;&#x7531;&#x4e8e;&#x76f8;&#x540c;&#x539f;&#x56e0;&#x88ab;&#x9a8c;&#x8bc1;\n\n&#x3000;&#x3000;&#x65e0;&#x8bba;&#x5c06;&#x4ec0;&#x4e48;&#x5bf9;&#x8c61;&#x4f5c;&#x4e3a;&#x7b2c;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#x4f20;&#x9012;&#x7ed9;Object.defineProperty()&#x65b9;&#x6cd5;&#xff0c;&#x90fd;&#x53ea;&#x6709;&#x5c5e;&#x6027;enumerable&#x3001;configurable&#x3001;value&#x3001;writable&#x3001;get&#x548c;set&#x5c06;&#x51fa;&#x73b0;&#x5728;&#x4f20;&#x9012;&#x7ed9;defineProperty&#x9677;&#x9631;&#x7684;&#x63cf;&#x8ff0;&#x7b26;&#x5bf9;&#x8c61;&#x4e2d;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"532,547"}},{"content":"<pre data-lines=\"550,563\"><code data-lines=\"550,563\"><span class=\"hljs-keyword\">let</span> proxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>({}, {\n    <span class=\"hljs-title function_\">defineProperty</span>(<span class=\"hljs-params\">trapTarget, key, descriptor</span>) {\n        <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(descriptor.<span class=\"hljs-property\">value</span>); <span class=\"hljs-comment\">// &quot;proxy&quot;</span>\n        <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(descriptor.<span class=\"hljs-property\">name</span>); <span class=\"hljs-comment\">// undefined</span>\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">defineProperty</span>(trapTarget, key, descriptor);\n    }\n});\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperty</span>(proxy, <span class=\"hljs-string\">&quot;name&quot;</span>, {\n    <span class=\"hljs-attr\">value</span>: <span class=\"hljs-string\">&quot;proxy&quot;</span>,\n    <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&quot;custom&quot;</span>\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"550,563"}},{"content":"<pre data-lines=\"566,569\"><code>&#x3000;&#x3000;&#x5728;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x8c03;&#x7528;Object.defineProperty()&#x65f6;&#x4f20;&#x5165;&#x5305;&#x542b;&#x975e;&#x6807;&#x51c6;name&#x5c5e;&#x6027;&#x7684;&#x5bf9;&#x8c61;&#x4f5c;&#x4e3a;&#x7b2c;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#x3002;&#x5f53;defineProperty&#x9677;&#x9631;&#x88ab;&#x8c03;&#x7528;&#x65f6;&#xff0c;descriptor&#x5bf9;&#x8c61;&#x6709;value&#x5c5e;&#x6027;&#x5374;&#x6ca1;&#x6709;name&#x5c5e;&#x6027;&#xff0c;&#x8fd9;&#x662f;&#x56e0;&#x4e3a;descriptor&#x4e0d;&#x662f;&#x5b9e;&#x9645;&#x4f20;&#x5165;Object.defineProperty()&#x65b9;&#x6cd5;&#x7684;&#x7b2c;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#x7684;&#x5f15;&#x7528;&#xff0c;&#x800c;&#x662f;&#x4e00;&#x4e2a;&#x53ea;&#x5305;&#x542b;&#x90a3;&#x4e9b;&#x88ab;&#x5141;&#x8bb8;&#x4f7f;&#x7528;&#x7684;&#x5c5e;&#x6027;&#x7684;&#x65b0;&#x5bf9;&#x8c61;&#x3002;Reflect.defineProperty()&#x65b9;&#x6cd5;&#x540c;&#x6837;&#x4e5f;&#x5ffd;&#x7565;&#x4e86;&#x63cf;&#x8ff0;&#x7b26;&#x4e0a;&#x7684;&#x6240;&#x6709;&#x975e;&#x6807;&#x51c6;&#x5c5e;&#x6027;\n\n&#x3000;&#x3000;getOwnPropertyDescriptor&#x9677;&#x9631;&#x7684;&#x9650;&#x5236;&#x6761;&#x4ef6;&#x7a0d;&#x6709;&#x4e0d;&#x540c;&#xff0c;&#x5b83;&#x7684;&#x8fd4;&#x56de;&#x503c;&#x5fc5;&#x987b;&#x662f;null&#x3001;undefined&#x6216;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#x3002;&#x5982;&#x679c;&#x8fd4;&#x56de;&#x5bf9;&#x8c61;&#xff0c;&#x5219;&#x5bf9;&#x8c61;&#x81ea;&#x5df1;&#x7684;&#x5c5e;&#x6027;&#x53ea;&#x80fd;&#x662f;enumepable&#x3001;configurable&#x3001;value&#x3001;writable&#x3001;get&#x548c;set&#xff0c;&#x5728;&#x8fd4;&#x56de;&#x7684;&#x5bf9;&#x8c61;&#x4e2d;&#x4f7f;&#x7528;&#x4e0d;&#x88ab;&#x5141;&#x8bb8;&#x7684;&#x5c5e;&#x6027;&#x4f1a;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"566,569"}},{"content":"<pre data-lines=\"572,583\"><code data-lines=\"572,583\"><span class=\"hljs-keyword\">let</span> proxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>({}, {\n    <span class=\"hljs-title function_\">getOwnPropertyDescriptor</span>(<span class=\"hljs-params\">trapTarget, key</span>) {\n        <span class=\"hljs-keyword\">return</span> {\n            <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&quot;proxy&quot;</span>\n        };\n    }\n});\n<span class=\"hljs-comment\">// &#x629b;&#x51fa;&#x9519;&#x8bef;</span>\n<span class=\"hljs-keyword\">let</span> descriptor = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">getOwnPropertyDescriptor</span>(proxy, <span class=\"hljs-string\">&quot;name&quot;</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"572,583"}},{"content":"<pre data-lines=\"586,593\"><code>&#x3000;&#x3000;&#x5c5e;&#x6027;&#x63cf;&#x8ff0;&#x7b26;&#x4e2d;&#x4e0d;&#x5141;&#x8bb8;&#x6709;name&#x5c5e;&#x6027;&#xff0c;&#x5f53;&#x8c03;&#x7528;Object.getOwnPropertyDescriptor()&#x65f6;&#xff0c;getOwnPropertyDescriptor&#x7684;&#x8fd4;&#x56de;&#x503c;&#x4f1a;&#x89e6;&#x53d1;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#x3002;&#x8fd9;&#x6761;&#x9650;&#x5236;&#x53ef;&#x4ee5;&#x786e;&#x4fdd;&#x65e0;&#x8bba;&#x4ee3;&#x7406;&#x4e2d;&#x4f7f;&#x7528;&#x4e86;&#x4ec0;&#x4e48;&#x65b9;&#x6cd5;&#xff0c;Object.getOwnPropertyDescriptor()&#x8fd4;&#x56de;&#x503c;&#x7684;&#x7ed3;&#x6784;&#x603b;&#x662f;&#x53ef;&#x9760;&#x7684;\n\n**&#x91cd;&#x590d;&#x7684;&#x63cf;&#x8ff0;&#x7b26;&#x65b9;&#x6cd5;**\n\n&#x3000;&#x3000;&#x518d;&#x4e00;&#x6b21;&#x5728;ES6&#x4e2d;&#x770b;&#x5230;&#x8fd9;&#x4e9b;&#x4ee4;&#x4eba;&#x56f0;&#x60d1;&#x7684;&#x76f8;&#x4f3c;&#x65b9;&#x6cd5;&#xff1a;&#x770b;&#x8d77;&#x6765;Object.defineProperty()&#x65b9;&#x6cd5;&#x548c;Object.getOwnPropertyDescriptor()&#x65b9;&#x6cd5;&#x5206;&#x522b;&#x4e0e;Reflect.defineProperty()&#x65b9;&#x6cd5;&#x548c;Reflect.getOwnPropertyDescriptor()&#x65b9;&#x6cd5;&#x505a;&#x4e86;&#x540c;&#x6837;&#x7684;&#x4e8b;&#x60c5;&#x3002;&#x8fd9;4&#x4e2a;&#x65b9;&#x6cd5;&#x4e5f;&#x6709;&#x4e00;&#x4e9b;&#x5fae;&#x5999;&#x4f46;&#x5374;&#x5f88;&#x91cd;&#x8981;&#x7684;&#x5dee;&#x5f02;\n\n&#x3000;&#x3000;Object.defineProperty()&#x65b9;&#x6cd5;&#x548c;Reflect.defineProperty()&#x65b9;&#x6cd5;&#x53ea;&#x6709;&#x8fd4;&#x56de;&#x503c;&#x4e0d;&#x540c;&#xff1a;Object.defineProperty()&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x800c;Reflect.defineProperty()&#x7684;&#x8fd4;&#x56de;&#x503c;&#x4e0e;&#x64cd;&#x4f5c;&#x6709;&#x5173;&#xff0c;&#x6210;&#x529f;&#x5219;&#x8fd4;&#x56de;true&#xff0c;&#x5931;&#x8d25;&#x5219;&#x8fd4;&#x56de;false\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"586,593"}},{"content":"<pre data-lines=\"594,601\"><code data-lines=\"594,601\"><span class=\"hljs-keyword\">let</span> target = {};\n<span class=\"hljs-keyword\">let</span> result1 = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperty</span>(target, <span class=\"hljs-string\">&quot;name&quot;</span>, { <span class=\"hljs-attr\">value</span>: <span class=\"hljs-string\">&quot;target &quot;</span>});\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(target === result1); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-keyword\">let</span> result2 = <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">defineProperty</span>(target, <span class=\"hljs-string\">&quot;name&quot;</span>, { <span class=\"hljs-attr\">value</span>: <span class=\"hljs-string\">&quot;reflect&quot;</span> });\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(result2); <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"594,601"}},{"content":"<pre data-lines=\"602,605\"><code>&#x3000;&#x3000;&#x8c03;&#x7528;Object.defineProperty()&#x65f6;&#x4f20;&#x5165;target&#xff0c;&#x8fd4;&#x56de;&#x503c;&#x662f;target&#xff1b;&#x8c03;&#x7528;Reflect.defineProperty()&#x65f6;&#x4f20;&#x5165;target&#xff0c;&#x8fd4;&#x56de;&#x503c;&#x662f;true&#xff0c;&#x8868;&#x793a;&#x64cd;&#x4f5c;&#x6210;&#x529f;&#x3002;&#x7531;&#x4e8e;defineProperty&#x4ee3;&#x7406;&#x9677;&#x9631;&#x9700;&#x8981;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x5e03;&#x5c14;&#x503c;&#xff0c;&#x56e0;&#x6b64;&#x5fc5;&#x8981;&#x65f6;&#x6700;&#x597d;&#x7528;Reflect.defineProperty()&#x6765;&#x5b9e;&#x73b0;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;\n\n&#x3000;&#x3000;&#x8c03;&#x7528;Object.getOwnPropertyDescriptor()&#x65b9;&#x6cd5;&#x65f6;&#x4f20;&#x5165;&#x539f;&#x59cb;&#x503c;&#x4f5c;&#x4e3a;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x5185;&#x90e8;&#x5c06;&#x8fd9;&#x4e2a;&#x503c;&#x5f3a;&#x5236;&#x8f6c;&#x6362;&#x4e3a;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff1b;&#x53e6;&#x4e00;&#x65b9;&#x9762;&#xff0c;&#x82e5;&#x8c03;&#x7528;Reflect.getOwnPropertyDescriptor()&#x65b9;&#x6cd5;&#x65f6;&#x4f20;&#x5165;&#x539f;&#x59cb;&#x503c;&#x4f5c;&#x4e3a;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x5219;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"602,605"}},{"content":"<pre data-lines=\"606,612\"><code data-lines=\"606,612\"><span class=\"hljs-keyword\">let</span> descriptor1 = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">getOwnPropertyDescriptor</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-string\">&quot;name&quot;</span>);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(descriptor1); <span class=\"hljs-comment\">// undefined</span>\n<span class=\"hljs-comment\">// &#x629b;&#x51fa;&#x9519;&#x8bef;</span>\n<span class=\"hljs-keyword\">let</span> descriptor2 = <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">getOwnPropertyDescriptor</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-string\">&quot;name&quot;</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"606,612"}},{"content":"<pre data-lines=\"613,622\"><code>&#x3000;&#x3000;&#x7531;&#x4e8e;Object.getOwnPropertyDescriptor()&#x65b9;&#x6cd5;&#x5c06;&#x6570;&#x503c;2&#x5f3a;&#x5236;&#x8f6c;&#x6362;&#x4e3a;&#x4e00;&#x4e2a;&#x4e0d;&#x542b;name&#x5c5e;&#x6027;&#x7684;&#x5bf9;&#x8c61;&#xff0c;&#x56e0;&#x6b64;&#x5b83;&#x8fd4;&#x56de;undefined&#xff0c;&#x8fd9;&#x662f;&#x5f53;&#x5bf9;&#x8c61;&#x4e2d;&#x6ca1;&#x6709;&#x6307;&#x5b9a;&#x7684;name&#x5c5e;&#x6027;&#x65f6;&#x7684;&#x6807;&#x51c6;&#x884c;&#x4e3a;&#x3002;&#x7136;&#x800c;&#x5f53;&#x8c03;&#x7528;Reflect.getOwnPropertyDescriptor()&#x65f6;&#x7acb;&#x5373;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#xff0c;&#x56e0;&#x4e3a;&#x8be5;&#x65b9;&#x6cd5;&#x4e0d;&#x63a5;&#x53d7;&#x539f;&#x59cb;&#x503c;&#x4f5c;&#x4e3a;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;\n\n&#x3010;ownKeys&#x9677;&#x9631;&#x3011;\n\n&#x3000;&#x3000;ownKeys&#x4ee3;&#x7406;&#x9677;&#x9631;&#x53ef;&#x4ee5;&#x62e6;&#x622a;&#x5185;&#x90e8;&#x65b9;&#x6cd5;[[OwnPropertyKeys]]&#xff0c;&#x6211;&#x4eec;&#x901a;&#x8fc7;&#x8fd4;&#x56de;&#x4e2a;&#x6570;&#x7ec4;&#x7684;&#x503c;&#x53ef;&#x4ee5;&#x8986;&#x5199;&#x5176;&#x884c;&#x4e3a;&#x3002;&#x8fd9;&#x4e2a;&#x6570;&#x7ec4;&#x88ab;&#x7528;&#x4e8e;Object.keys()&#x3001;Object.getOwnPropertyNames()&#x3001;Object.getOwnPropertySymbols()&#x548c;Object.assign()4&#x4e2a;&#x65b9;&#x6cd5;&#xff0c;Object.assign()&#x65b9;&#x6cd5;&#x7528;&#x6570;&#x7ec4;&#x6765;&#x786e;&#x5b9a;&#x9700;&#x8981;&#x590d;&#x5236;&#x7684;&#x5c5e;&#x6027;\n\n&#x3000;&#x3000;ownKeys&#x9677;&#x9631;&#x901a;&#x8fc7;Reflect.ownKeys()&#x65b9;&#x6cd5;&#x5b9e;&#x73b0;&#x9ed8;&#x8ba4;&#x7684;&#x884c;&#x4e3a;&#xff0c;&#x8fd4;&#x56de;&#x7684;&#x6570;&#x7ec4;&#x4e2d;&#x5305;&#x542b;&#x6240;&#x6709;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#x7684;&#x952e;&#x540d;&#xff0c;&#x5b57;&#x7b26;&#x4e32;&#x7c7b;&#x578b;&#x548c;Symbol&#x7c7b;&#x578b;&#x7684;&#x90fd;&#x5305;&#x542b;&#x5728;&#x5185;&#x3002;Object.getOwnPropertyNames()&#x65b9;&#x6cd5;&#x548c;Object.keys()&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x7684;&#x7ed3;&#x679c;&#x5c06;Symbol&#x7c7b;&#x578b;&#x7684;&#x5c5e;&#x6027;&#x540d;&#x6392;&#x9664;&#x5728;&#x5916;&#xff0c;Object.getOwnPropertySymbols()&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x7684;&#x7ed3;&#x679c;&#x5c06;&#x5b57;&#x7b26;&#x4e32;&#x7c7b;&#x578b;&#x7684;&#x5c5e;&#x6027;&#x540d;&#x6392;&#x9664;&#x5728;&#x5916;&#x3002;Object.assign()&#x65b9;&#x6cd5;&#x652f;&#x6301;&#x5b57;&#x7b26;&#x4e32;&#x548c;Symbol&#x4e24;&#x79cd;&#x7c7b;&#x578b;\n\n&#x3000;&#x3000;ownKeys&#x9677;&#x9631;&#x552f;&#x4e00;&#x63a5;&#x53d7;&#x7684;&#x53c2;&#x6570;&#x662f;&#x64cd;&#x4f5c;&#x7684;&#x76ee;&#x6807;&#xff0c;&#x8fd4;&#x56de;&#x503c;&#x5fc5;&#x987b;&#x662f;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;&#x6216;&#x7c7b;&#x6570;&#x7ec4;&#x5bf9;&#x8c61;&#xff0c;&#x5426;&#x5219;&#x5c31;&#x629b;&#x51fa;&#x9519;&#x8bef;&#x3002;&#x5f53;&#x8c03;&#x7528;Object.keys()&#x3001;Object.getOwnPropertyNames()&#x3001;Object.getOwnPropertySymbols()&#x6216;Object.assign()&#x65b9;&#x6cd5;&#x65f6;&#xff0c;&#x53ef;&#x4ee5;&#x7528;ownKeys&#x9677;&#x9631;&#x6765;&#x8fc7;&#x6ee4;&#x6389;&#x4e0d;&#x60f3;&#x4f7f;&#x7528;&#x7684;&#x5c5e;&#x6027;&#x952e;&#x3002;&#x5047;&#x8bbe;&#x4e0d;&#x60f3;&#x5f15;&#x5165;&#x4efb;&#x4f55;&#x4ee5;&#x4e0b;&#x5212;&#x7ebf;&#x5b57;&#x7b26;(&#x5728;JS&#x4e2d;&#x4e0b;&#x5212;&#x7ebf;&#x7b26;&#x53f7;&#x8868;&#x793a;&#x5b57;&#x6bb5;&#x662f;&#x79c1;&#x6709;&#x7684;)&#x5f00;&#x5934;&#x7684;&#x5c5e;&#x6027;&#x540d;&#x79f0;&#xff0c;&#x5219;&#x53ef;&#x4ee5;&#x7528;ownKeys&#x9677;&#x9631;&#x8fc7;&#x6ee4;&#x6389;&#x90a3;&#x4e9b;&#x952e;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"613,622"}},{"content":"<pre data-lines=\"625,647\"><code data-lines=\"625,647\">let proxy = <span class=\"hljs-keyword\">new</span> Proxy({}, {\n    ownKeys(trapTarget) {\n        <span class=\"hljs-keyword\">return</span> Reflect.ownKeys(trapTarget).<span class=\"hljs-built_in\">filter</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">key</span> =&gt;</span> {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">typeof</span> key !== <span class=\"hljs-string\">&quot;string&quot;</span> || key[<span class=\"hljs-number\">0</span>] !== <span class=\"hljs-string\">&quot;_&quot;</span>;\n        });\n    }\n});\nlet nameSymbol = Symbol(<span class=\"hljs-string\">&quot;name&quot;</span>);\nproxy.name = <span class=\"hljs-string\">&quot;proxy&quot;</span>;\nproxy._name = <span class=\"hljs-string\">&quot;private&quot;</span>;\nproxy[nameSymbol] = <span class=\"hljs-string\">&quot;symbol&quot;</span>;\nlet names = Object.getOwnPropertyNames(proxy),\nkeys = Object.keys(proxy);\nsymbols = Object.getOwnPropertySymbols(proxy);\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(names.<span class=\"hljs-built_in\">length</span>); <span class=\"hljs-comment\">// 1</span>\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(names[<span class=\"hljs-number\">0</span>]); <span class=\"hljs-comment\">// &quot;name&quot;</span>\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(keys.<span class=\"hljs-built_in\">length</span>); <span class=\"hljs-comment\">// 1</span>\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(keys[<span class=\"hljs-number\">0</span>]); <span class=\"hljs-comment\">// &quot;name&quot;</span>\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(symbols.<span class=\"hljs-built_in\">length</span>); <span class=\"hljs-comment\">// 1</span>\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(symbols[<span class=\"hljs-number\">0</span>]); <span class=\"hljs-comment\">// &quot;Symbol(name)&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"625,647"}},{"content":"<pre data-lines=\"650,657\"><code>&#x3000;&#x3000;&#x8fd9;&#x4e2a;&#x793a;&#x4f8b;&#x4f7f;&#x7528;&#x4e86;&#x4e00;&#x4e2a;ownKeys&#x9677;&#x9631;&#xff0c;&#x5b83;&#x9996;&#x5148;&#x8c03;&#x7528;Reflect.ownKeys()&#x83b7;&#x53d6;&#x76ee;&#x6807;&#x7684;&#x9ed8;&#x8ba4;&#x952e;&#x5217;&#x8868;&#xff1b;&#x63a5;&#x4e0b;&#x6765;&#xff0c;&#x7528;filter()&#x8fc7;&#x6ee4;&#x6389;&#x4ee5;&#x4e0b;&#x5212;&#x7ebf;&#x5b57;&#x7b26;&#x5f00;&#x59cb;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#x3002;&#x7136;&#x540e;&#xff0c;&#x5c06;3&#x4e2a;&#x5c5e;&#x6027;&#x6dfb;&#x52a0;&#x5230;proxy&#x5bf9;&#x8c61;&#xff1a;name&#x3001;_name&#x548c;nameSymbol&#x3002;&#x8c03;&#x7528;Object.getOwnPropertyNames()&#x548c;Object.Keys()&#x65f6;&#x4f20;&#x5165;proxy&#xff0c; &#x53ea;&#x8fd4;&#x56de;name&#x5c5e;&#x6027;&#xff1b;&#x540c;&#x6837;&#xff0c;&#x8c03;&#x7528;Object.getOwnPropertySymbols()&#x65f6;&#x4f20;&#x5165;proxy&#xff0c;&#x53ea;&#x8fd4;&#x56de;nameSymbol&#x3002;&#x7531;&#x4e8e;_name&#x5c5e;&#x6027;&#x88ab;&#x8fc7;&#x6ee4;&#x6389;&#x4e86;&#xff0c;&#x56e0;&#x6b64;&#x5b83;&#x4e0d;&#x51fa;&#x73b0;&#x5728;&#x8fd9;&#x4e24;&#x6b21;&#x7ed3;&#x679c;&#x4e2d;\n\n&#x3000;&#x3000;&#x5c3d;&#x7ba1;ownKeys&#x4ee3;&#x7406;&#x9677;&#x9631;&#x53ef;&#x4ee5;&#x4fee;&#x6539;&#x4e00;&#x5c0f;&#x90e8;&#x5206;&#x64cd;&#x4f5c;&#x8fd4;&#x56de;&#x7684;&#x952e;&#xff0c;&#x4f46;&#x4e0d;&#x5f71;&#x54cd;&#x66f4;&#x5e38;&#x7528;&#x7684;&#x64cd;&#x4f5c;&#xff0c;&#x4f8b;&#x5982;for-of&#x5faa;&#x73af;&#x548c;Object.keys()&#x65b9;&#x6cd5;&#xff0c;&#x8fd9;&#x4e9b;&#x4e0d;&#x80fd;&#x4f7f;&#x7528;&#x4ee3;&#x7406;&#x6765;&#x66f4;&#x6539;&#x3002;ownKeys&#x9677;&#x9631;&#x4e5f;&#x4f1a;&#x5f71;&#x54cd;for-in&#x5faa;&#x73af;&#xff0c;&#x5f53;&#x786e;&#x5b9a;&#x5faa;&#x73af;&#x5185;&#x90e8;&#x4f7f;&#x7528;&#x7684;&#x952e;&#x65f6;&#x4f1a;&#x8c03;&#x7528;&#x9677;&#x9631;\n\n&#x3010;&#x51fd;&#x6570;&#x4ee3;&#x7406;&#x4e2d;&#x7684;apply&#x548c;construct&#x9677;&#x9631;&#x3011;\n\n&#x3000;&#x3000;&#x6240;&#x6709;&#x4ee3;&#x7406;&#x9677;&#x9631;&#x4e2d;&#xff0c;&#x53ea;&#x6709;apply&#x548c;construct&#x7684;&#x4ee3;&#x7406;&#x76ee;&#x6807;&#x662f;&#x4e00;&#x4e2a;&#x51fd;&#x6570;&#x3002;&#x51fd;&#x6570;&#x6709;&#x4e24;&#x4e2a;&#x5185;&#x90e8;&#x65b9;&#x6cd5;[[Call]]&#x548c;[[Construct]]&#xff0c;apply&#x9677;&#x9631;&#x548c;construct&#x9677;&#x9631;&#x53ef;&#x4ee5;&#x8986;&#x5199;&#x8fd9;&#x4e9b;&#x5185;&#x90e8;&#x65b9;&#x6cd5;&#x3002;&#x82e5;&#x4f7f;&#x7528;new&#x64cd;&#x4f5c;&#x7b26;&#x8c03;&#x7528;&#x51fd;&#x6570;&#xff0c;&#x5219;&#x6267;&#x884c;[[Construct]]&#x65b9;&#x6cd5;&#xff1b;&#x82e5;&#x4e0d;&#x7528;&#xff0c;&#x5219;&#x6267;&#x884c;[[Construct]&#x65b9;&#x6cd5;&#xff0c;&#x6b64;&#x65f6;&#x4f1a;&#x6267;&#x884c;apply&#x9677;&#x9631;&#xff0c;&#x5b83;&#x548c;Reflect.apply()&#x90fd;&#x63a5;&#x53d7;&#x4ee5;&#x4e0b;&#x53c2;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"650,657"}},{"content":"<pre data-lines=\"658,663\"><code data-lines=\"658,663\">trapTaqget &#x88ab;&#x6267;&#x884c;&#x7684;&#x51fd;&#x6570;(&#x4ee3;&#x7406;&#x7684;&#x76ee;&#x6807;)\nthisArg &#x51fd;&#x6570;&#x88ab;&#x8c03;&#x7528;&#x65f6;&#x5185;&#x90e8;<span class=\"hljs-keyword\">this</span>&#x7684;&#x503c;\nargumentsList &#x4f20;&#x9012;&#x7ed9;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;&#x6570;&#x7ec4;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"658,663"}},{"content":"<pre data-lines=\"664,665\"><code>&#x3000;&#x3000;&#x5f53;&#x4f7f;&#x7528;new&#x8c03;&#x7528;&#x51fd;&#x6570;&#x65f6;&#x8c03;&#x7528;&#x7684;construct&#x9677;&#x9631;&#x63a5;&#x53d7;&#x4ee5;&#x4e0b;&#x53c2;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"664,665"}},{"content":"<pre data-lines=\"666,670\"><code data-lines=\"666,670\"><span class=\"hljs-attribute\">trapTarget</span> &#x88ab;&#x6267;&#x884c;&#x7684;&#x51fd;&#x6570;(&#x4ee3;&#x7406;&#x7684;&#x76ee;&#x6807;)\nargumentsList &#x4f20;&#x9012;&#x7ed9;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;&#x6570;&#x7ec4;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"666,670"}},{"content":"<pre data-lines=\"671,673\"><code>&#x3000;&#x3000;Reflect.construct()&#x65b9;&#x6cd5;&#x4e5f;&#x63a5;&#x53d7;&#x8fd9;&#x4e24;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x5176;&#x8fd8;&#x6709;&#x4e00;&#x4e2a;&#x53ef;&#x9009;&#x7684;&#x7b2c;&#x4e09;&#x4e2a;&#x53c2;&#x6570;newTarget&#x3002;&#x82e5;&#x7ed9;&#x5b9a;&#x8fd9;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x5219;&#x8be5;&#x53c2;&#x6570;&#x7528;&#x4e8e;&#x6307;&#x5b9a;&#x51fd;&#x6570;&#x5185;&#x90e8;new.target&#x7684;&#x503c;\n&#x3000;&#x3000;&#x6709;&#x4e86;apply&#x548c;construct&#x9677;&#x9631;&#xff0c;&#x53ef;&#x4ee5;&#x5b8c;&#x5168;&#x63a7;&#x5236;&#x4efb;&#x4f55;&#x4ee3;&#x7406;&#x76ee;&#x6807;&#x51fd;&#x6570;&#x7684;&#x884c;&#x4e3a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"671,673"}},{"content":"<pre data-lines=\"676,693\"><code data-lines=\"676,693\"><span class=\"hljs-keyword\">let</span> target = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">42</span> },\nproxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(target, {\n    <span class=\"hljs-attr\">apply</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">trapTarget, thisArg, argumentList</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">apply</span>(trapTarget, thisArg, argumentList);\n    },\n    <span class=\"hljs-attr\">construct</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">trapTarget, argumentList</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">construct</span>(trapTarget, argumentList);\n    }\n});\n<span class=\"hljs-comment\">// &#x4f7f;&#x7528;&#x4e86;&#x51fd;&#x6570;&#x7684;&#x4ee3;&#x7406;&#xff0c;&#x5176;&#x76ee;&#x6807;&#x5bf9;&#x8c61;&#x4f1a;&#x88ab;&#x89c6;&#x4e3a;&#x51fd;&#x6570;</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-keyword\">typeof</span> proxy); <span class=\"hljs-comment\">// &quot;function&quot;</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title function_\">proxy</span>()); <span class=\"hljs-comment\">// 42</span>\n<span class=\"hljs-keyword\">var</span> instance = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title function_\">proxy</span>();\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(instance <span class=\"hljs-keyword\">instanceof</span> proxy); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(instance <span class=\"hljs-keyword\">instanceof</span> target); <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"676,693"}},{"content":"<pre data-lines=\"696,701\"><code>&#x3000;&#x3000;&#x5728;&#x8fd9;&#x91cc;&#xff0c;&#x6709;&#x4e00;&#x4e2a;&#x8fd4;&#x56de;&#x6570;&#x5b57;42&#x7684;&#x51fd;&#x6570;&#xff0c;&#x8be5;&#x51fd;&#x6570;&#x7684;&#x4ee3;&#x7406;&#x5206;&#x522b;&#x4f7f;&#x7528;apply&#x9677;&#x9631;&#x548c;construct&#x9677;&#x9631;&#x6765;&#x5c06;&#x90a3;&#x4e9b;&#x884c;&#x4e3a;&#x59d4;&#x6258;&#x7ed9;Reflect.apply()&#x65b9;&#x6cd5;&#x548c;Reflect.construct()&#x65b9;&#x6cd5;&#x3002;&#x6700;&#x7ec8;&#x7ed3;&#x679c;&#x662f;&#x4ee3;&#x7406;&#x51fd;&#x6570;&#x4e0e;&#x76ee;&#x6807;&#x51fd;&#x6570;&#x5b8c;&#x5168;&#x76f8;&#x540c;&#xff0c;&#x5305;&#x62ec;&#x5728;&#x4f7f;&#x7528;typeof&#x65f6;&#x5c06;&#x81ea;&#x5df1;&#x6807;&#x8bc6;&#x4e3a;&#x51fd;&#x6570;&#x3002;&#x4e0d;&#x7528;new&#x8c03;&#x7528;&#x4ee3;&#x7406;&#x65f6;&#x8fd4;&#x56de;42&#xff0c;&#x7528;new&#x8c03;&#x7528;&#x65f6;&#x521b;&#x5efa;&#x4e00;&#x4e2a;instance&#x5bf9;&#x8c61;&#xff0c;&#x5b83;&#x540c;&#x65f6;&#x662f;&#x4ee3;&#x7406;&#x548c;&#x76ee;&#x6807;&#x7684;&#x5b9e;&#x4f8b;&#xff0c;&#x56e0;&#x4e3a;instanceof&#x901a;&#x8fc7;&#x539f;&#x578b;&#x94fe;&#x6765;&#x786e;&#x5b9a;&#x6b64;&#x4fe1;&#x606f;&#xff0c;&#x800c;&#x539f;&#x578b;&#x94fe;&#x67e5;&#x627e;&#x4e0d;&#x53d7;&#x4ee3;&#x7406;&#x5f71;&#x54cd;&#xff0c;&#x8fd9;&#x4e5f;&#x5c31;&#x662f;&#x4ee3;&#x7406;&#x548c;&#x76ee;&#x6807;&#x597d;&#x50cf;&#x6709;&#x76f8;&#x540c;&#x539f;&#x578b;&#x7684;&#x539f;&#x56e0;\n\n**&#x9a8c;&#x8bc1;&#x51fd;&#x6570;&#x53c2;&#x6570;**\n\n&#x3000;&#x3000;apply&#x9677;&#x9631;&#x548c;construct&#x9677;&#x9631;&#x589e;&#x52a0;&#x4e86;&#x4e00;&#x4e9b;&#x53ef;&#x80fd;&#x6539;&#x53d8;&#x51fd;&#x6570;&#x6267;&#x884c;&#x65b9;&#x5f0f;&#x7684;&#x53ef;&#x80fd;&#x6027;&#xff0c;&#x4f8b;&#x5982;&#xff0c;&#x5047;&#x8bbe;&#x9a8c;&#x8bc1;&#x6240;&#x6709;&#x53c2;&#x6570;&#x90fd;&#x5c5e;&#x4e8e;&#x7279;&#x5b9a;&#x7c7b;&#x578b;&#xff0c;&#x5219;&#x53ef;&#x4ee5;&#x5728;apply&#x9677;&#x9631;&#x4e2d;&#x68c0;&#x67e5;&#x53c2;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"696,701"}},{"content":"<pre data-lines=\"704,728\"><code data-lines=\"704,728\"><span class=\"hljs-comment\">// &#x5c06;&#x6240;&#x6709;&#x53c2;&#x6570;&#x76f8;&#x52a0;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">sum</span>(<span class=\"hljs-params\">...values</span>) {\n    <span class=\"hljs-keyword\">return</span> values.<span class=\"hljs-title function_\">reduce</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">previous, current</span>) =&gt;</span> previous + current, <span class=\"hljs-number\">0</span>);\n}\n<span class=\"hljs-keyword\">let</span> sumProxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(sum, {\n    <span class=\"hljs-attr\">apply</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">trapTarget, thisArg, argumentList</span>) {\n        argumentList.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">arg</span>) =&gt;</span> {\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> arg !== <span class=\"hljs-string\">&quot;number&quot;</span>) {\n            <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">TypeError</span>(<span class=\"hljs-string\">&quot;All arguments must be numbers.&quot;</span>);\n        }\n    });\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">apply</span>(trapTarget, thisArg, argumentList);\n    },\n    <span class=\"hljs-attr\">construct</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">trapTarget, argumentList</span>) {\n        <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">TypeError</span>(<span class=\"hljs-string\">&quot;This function can&apos;t be called with new.&quot;</span>);\n    }\n});\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title function_\">sumProxy</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>)); <span class=\"hljs-comment\">// 10</span>\n<span class=\"hljs-comment\">// &#x629b;&#x51fa;&#x9519;&#x8bef;</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title function_\">sumProxy</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">&quot;2&quot;</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>));\n<span class=\"hljs-comment\">// &#x540c;&#x6837;&#x629b;&#x51fa;&#x9519;&#x8bef;</span>\n<span class=\"hljs-keyword\">let</span> result = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title function_\">sumProxy</span>();\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"704,728"}},{"content":"<pre data-lines=\"731,734\"><code>&#x3000;&#x3000;&#x6b64;&#x793a;&#x4f8b;&#x4f7f;&#x7528;apply&#x9677;&#x9631;&#x6765;&#x786e;&#x4fdd;&#x6240;&#x6709;&#x53c2;&#x6570;&#x90fd;&#x662f;&#x6570;&#x5b57;&#xff0c;sum()&#x51fd;&#x6570;&#x5c06;&#x6240;&#x6709;&#x4f20;&#x5165;&#x7684;&#x53c2;&#x6570;&#x76f8;&#x52a0;&#x3002;&#x5982;&#x679c;&#x4f20;&#x5165;&#x975e;&#x6570;&#x5b57;&#x503c;&#xff0c;&#x51fd;&#x6570;&#x4ecd;&#x5c06;&#x5c1d;&#x8bd5;&#x64cd;&#x4f5c;&#xff0c;&#x53ef;&#x80fd;&#x5bfc;&#x81f4;&#x610f;&#x5916;&#x7ed3;&#x679c;&#x53d1;&#x751f;&#x3002;&#x901a;&#x8fc7;&#x5728;sumProxy()&#x4ee3;&#x7406;&#x4e2d;&#x5c01;&#x88c5;sum()&#xff0c;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x62e6;&#x622a;&#x4e86;&#x51fd;&#x6570;&#x8c03;&#x7528;&#xff0c;&#x5e76;&#x786e;&#x4fdd;&#x6bcf;&#x4e2a;&#x53c2;&#x6570;&#x5728;&#x88ab;&#x8c03;&#x7528;&#x524d;&#x4e00;&#x5b9a;&#x662f;&#x6570;&#x5b57;&#x3002;&#x4e3a;&#x4e86;&#x5b89;&#x5168;&#x8d77;&#x89c1;&#xff0c;&#x4ee3;&#x7801;&#x8fd8;&#x4f7f;&#x7528;construct&#x9677;&#x9631;&#x6765;&#x786e;&#x4fdd;&#x51fd;&#x6570;&#x4e0d;&#x4f1a;&#x88ab;new&#x8c03;&#x7528;\n\n&#x3000;&#x3000;&#x8fd8;&#x53ef;&#x4ee5;&#x6267;&#x884c;&#x76f8;&#x53cd;&#x7684;&#x64cd;&#x4f5c;&#xff0c;&#x786e;&#x4fdd;&#x5fc5;&#x987b;&#x7528;new&#x6765;&#x8c03;&#x7528;&#x51fd;&#x6570;&#x5e76;&#x9a8c;&#x8bc1;&#x5176;&#x53c2;&#x6570;&#x4e3a;&#x6570;&#x5b57;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"731,734"}},{"content":"<pre data-lines=\"737,759\"><code data-lines=\"737,759\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Numbers</span><span class=\"hljs-params\">(<span class=\"hljs-rest_arg\">...values</span>)</span> {\n    <span class=\"hljs-keyword\">this</span>.values = values;\n}\nlet NumbersProxy = <span class=\"hljs-keyword\">new</span> Proxy(Numbers, {\n    apply: <span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">(trapTarget, thisArg, argumentList)</span> {\n        <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> TypeError(<span class=\"hljs-string\">&quot;This function must be called with new.&quot;</span>);\n    },\n    construct: <span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">(trapTarget, argumentList)</span> {\n        argumentList.forEach((arg) =&gt; {\n            <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> arg !== <span class=\"hljs-string\">&quot;number&quot;</span>) {\n                <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> TypeError(<span class=\"hljs-string\">&quot;All arguments must be numbers.&quot;</span>);\n            }\n        });\n        <span class=\"hljs-keyword\">return</span> Reflect.construct(trapTarget, argumentList);\n    }\n});\nlet instance = <span class=\"hljs-keyword\">new</span> NumbersProxy(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>);\nconsole.log(instance.values); <span class=\"hljs-comment\">// [1,2,3,4]</span>\n<span class=\"hljs-comment\">// &#x629b;&#x51fa;&#x9519;&#x8bef;</span>\nNumbersProxy(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"737,759"}},{"content":"<pre data-lines=\"762,767\"><code>&#x3000;&#x3000;&#x5728;&#x8fd9;&#x4e2a;&#x793a;&#x4f8b;&#x4e2d;&#xff0c;apply&#x9677;&#x9631;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#xff0c;&#x800c;construct&#x9677;&#x9631;&#x4f7f;&#x7528;Reflect.construct()&#x65b9;&#x6cd5;&#x6765;&#x9a8c;&#x8bc1;&#x8f93;&#x5165;&#x5e76;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x65b0;&#x5b9e;&#x4f8b;&#x3002;&#x5f53;&#x7136;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x4e0d;&#x501f;&#x52a9;&#x4ee3;&#x7406;&#x800c;&#x7528;new.target&#x6765;&#x5b8c;&#x6210;&#x76f8;&#x540c;&#x7684;&#x4e8b;&#x60c5;\n\n**&#x4e0d;&#x7528;new&#x8c03;&#x7528;&#x6784;&#x9020;&#x51fd;&#x6570;**\n\n&#x3000;&#x3000;new.target&#x5143;&#x5c5e;&#x6027;&#x662f;&#x7528;new&#x8c03;&#x7528;&#x51fd;&#x6570;&#x65f6;&#x5bf9;&#x8be5;&#x51fd;&#x6570;&#x7684;&#x5f15;&#x7528;&#xff0c;&#x6240;&#x4ee5;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x68c0;&#x67e5;new.target&#x7684;&#x503c;&#x6765;&#x786e;&#x5b9a;&#x51fd;&#x6570;&#x662f;&#x5426;&#x662f;&#x901a;&#x8fc7;new&#x6765;&#x8c03;&#x7528;&#x7684;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"762,767"}},{"content":"<pre data-lines=\"770,782\"><code data-lines=\"770,782\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Numbers</span><span class=\"hljs-params\">(<span class=\"hljs-rest_arg\">...values</span>)</span> {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> <span class=\"hljs-keyword\">new</span>.target === <span class=\"hljs-string\">&quot;undefined&quot;</span>) {\n        <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> TypeError(<span class=\"hljs-string\">&quot;This function must be called with new.&quot;</span>);\n    }\n    <span class=\"hljs-keyword\">this</span>.values = values;\n}\nlet instance = <span class=\"hljs-keyword\">new</span> Numbers(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>);\nconsole.log(instance.values); <span class=\"hljs-comment\">// [1,2,3,4]</span>\n<span class=\"hljs-comment\">// &#x629b;&#x51fa;&#x9519;&#x8bef;</span>\nNumbers(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"770,782"}},{"content":"<pre data-lines=\"785,788\"><code>&#x3000;&#x3000;&#x5728;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x4e0d;&#x7528;new&#x8c03;&#x7528;Numbers()&#x4f1a;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#x3002;&#x5982;&#x679c;&#x76ee;&#x6807;&#x662f;&#x9632;&#x6b62;&#x7528;new&#x8c03;&#x7528;&#x51fd;&#x6570;&#xff0c;&#x5219;&#x8fd9;&#x6837;&#x7f16;&#x5199;&#x4ee3;&#x7801;&#x6bd4;&#x4f7f;&#x7528;&#x4ee3;&#x7406;&#x7b80;&#x5355;&#x5f97;&#x591a;&#x3002;&#x4f46;&#x6709;&#x65f6;&#x4e0d;&#x80fd;&#x63a7;&#x5236;&#x8981;&#x4fee;&#x6539;&#x884c;&#x4e3a;&#x7684;&#x51fd;&#x6570;&#xff0c;&#x5728;&#x8fd9;&#x79cd;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x4f7f;&#x7528;&#x4ee3;&#x7406;&#x624d;&#x6709;&#x610f;&#x4e49;\n\n&#x3000;&#x3000;&#x5047;&#x8bbe;Numbers()&#x51fd;&#x6570;&#x5b9a;&#x4e49;&#x5728;&#x65e0;&#x6cd5;&#x4fee;&#x6539;&#x7684;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x77e5;&#x9053;&#x4ee3;&#x7801;&#x4f9d;&#x8d56;new.target&#xff0c;&#x5e0c;&#x671b;&#x51fd;&#x6570;&#x907f;&#x514d;&#x68c0;&#x67e5;&#x5374;&#x4ecd;&#x60f3;&#x8c03;&#x7528;&#x51fd;&#x6570;&#x3002;&#x5728;&#x8fd9;&#x79cd;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x7528;new&#x8c03;&#x7528;&#x65f6;&#x7684;&#x884c;&#x4e3a;&#x5df2;&#x88ab;&#x8bbe;&#x5b9a;&#xff0c;&#x6240;&#x4ee5;&#x53ea;&#x80fd;&#x4f7f;&#x7528;apply&#x9677;&#x9631;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"785,788"}},{"content":"<pre data-lines=\"791,806\"><code data-lines=\"791,806\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Numbers</span><span class=\"hljs-params\">(<span class=\"hljs-rest_arg\">...values</span>)</span> {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> <span class=\"hljs-keyword\">new</span>.target === <span class=\"hljs-string\">&quot;undefined&quot;</span>) {\n        <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> TypeError(<span class=\"hljs-string\">&quot;This function must be called with new.&quot;</span>);\n    }\n    <span class=\"hljs-keyword\">this</span>.values = values;\n}\nlet NumbersProxy = <span class=\"hljs-keyword\">new</span> Proxy(Numbers, {\n    apply: <span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">(trapTarget, thisArg, argumentsList)</span> {\n        <span class=\"hljs-keyword\">return</span> Reflect.construct(trapTarget, argumentsList);\n    }\n});\nlet instance = NumbersProxy(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>);\nconsole.log(instance.values); <span class=\"hljs-comment\">// [1,2,3,4]</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"791,806"}},{"content":"<pre data-lines=\"809,814\"><code>&#x3000;&#x3000;apply&#x9677;&#x9631;&#x7528;&#x4f20;&#x5165;&#x7684;&#x53c2;&#x6570;&#x8c03;&#x7528;Reflect.construct()&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x8ba9;Numbersproxy()&#x51fd;&#x6570;&#x65e0;&#x987b;&#x4f7f;&#x7528;new&#x5c31;&#x80fd;&#x5b9e;&#x73b0;&#x7528;new&#x8c03;&#x7528;Numbers()&#x7684;&#x884c;&#x4e3a;&#x3002;Numbers()&#x5185;&#x90e8;&#x7684;new.target&#x7b49;&#x4e8e;Numbers()&#xff0c;&#x6240;&#x4ee5;&#x4e0d;&#x4f1a;&#x6709;&#x9519;&#x8bef;&#x629b;&#x51fa;&#x3002;&#x5c3d;&#x7ba1;&#x8fd9;&#x4e2a;&#x4fee;&#x6539;new.target&#x7684;&#x793a;&#x4f8b;&#x975e;&#x5e38;&#x7b80;&#x5355;&#xff0c;&#x4f46;&#x8fd9;&#x6837;&#x505a;&#x663e;&#x5f97;&#x66f4;&#x52a0;&#x76f4;&#x63a5;\n\n**&#x8986;&#x5199;&#x62bd;&#x8c61;&#x57fa;&#x7c7b;&#x6784;&#x9020;&#x51fd;&#x6570;**\n\n&#x3000;&#x3000;&#x8fdb;&#x4e00;&#x6b65;&#x4fee;&#x6539;new.target&#xff0c;&#x53ef;&#x4ee5;&#x5c06;&#x7b2c;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#x6307;&#x5b9a;&#x4e3a;Reflect.construct()&#x4f5c;&#x4e3a;&#x8d4b;&#x503c;&#x7ed9;new.target&#x7684;&#x7279;&#x5b9a;&#x503c;&#x3002;&#x8fd9;&#x9879;&#x6280;&#x672f;&#x5728;&#x51fd;&#x6570;&#x6839;&#x636e;&#x5df2;&#x77e5;&#x503c;&#x68c0;&#x67e5;new.target&#x65f6;&#x5f88;&#x6709;&#x7528;&#xff0c;&#x4f8b;&#x5982;&#x521b;&#x5efa;&#x62bd;&#x8c61;&#x57fa;&#x7c7b;&#x6784;&#x9020;&#x51fd;&#x6570;&#x3002;&#x5728;&#x4e00;&#x4e2a;&#x62bd;&#x8c61;&#x57fa;&#x7c7b;&#x6784;&#x9020;&#x51fd;&#x6570;&#x4e2d;&#xff0c;new.target&#x7406;&#x5e94;&#x4e0d;&#x540c;&#x4e8e;&#x7c7b;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x5c31;&#x50cf;&#x5728;&#x8fd9;&#x4e2a;&#x793a;&#x4f8b;&#x4e2d;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"809,814"}},{"content":"<pre data-lines=\"817,832\"><code data-lines=\"817,832\"><span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">AbstractNumbers</span> </span>{\n    constructor(...values) {\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">new</span>.target === <span class=\"hljs-type\">AbstractNumbers</span>) {\n            <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">TypeError</span>(<span class=\"hljs-string\">&quot;This function must be inherited from.&quot;</span>);\n        }\n        <span class=\"hljs-keyword\">this</span>.values = values;\n    }\n}\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Numbers</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">AbstractNumbers</span> </span>{}\nlet instance = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">Numbers</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>);\nconsole.log(instance.values); <span class=\"hljs-comment\">// [1,2,3,4]</span>\n<span class=\"hljs-comment\">// &#x629b;&#x51fa;&#x9519;&#x8bef;</span>\n<span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">AbstractNumbers</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"817,832"}},{"content":"<pre data-lines=\"835,836\"><code>&#x3000;&#x3000;&#x5f53;&#x8c03;&#x7528;new AbstractNumbers()&#x65f6;&#xff0c;new.Target&#x7b49;&#x4e8e;AbstractNumbers&#x5e76;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#x3002;&#x8c03;&#x7528;new Numbers()&#x4ecd;&#x7136;&#x6709;&#x6548;&#xff0c;&#x56e0;&#x4e3a;new.target&#x7b49;&#x4e8e;Numbers&#x3002;&#x53ef;&#x4ee5;&#x624b;&#x52a8;&#x7528;&#x4ee3;&#x7406;&#x7ed9;new.target&#x8d4b;&#x503c;&#x6765;&#x7ed5;&#x8fc7;&#x6784;&#x9020;&#x51fd;&#x6570;&#x9650;&#x5236;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"835,836"}},{"content":"<pre data-lines=\"839,856\"><code data-lines=\"839,856\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">AbstractNumbers</span> {\n    <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\">...values</span>) {\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">new</span>.<span class=\"hljs-property\">target</span> === <span class=\"hljs-title class_\">AbstractNumbers</span>) {\n            <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">TypeError</span>(<span class=\"hljs-string\">&quot;This function must be inherited from.&quot;</span>);\n        }\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">values</span> = values;\n    }\n}\n<span class=\"hljs-keyword\">let</span> <span class=\"hljs-title class_\">AbstractNumbersProxy</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(<span class=\"hljs-title class_\">AbstractNumbers</span>, {\n    <span class=\"hljs-attr\">construct</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">trapTarget, argumentList</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">construct</span>(trapTarget, argumentList, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {});\n    }\n});\n<span class=\"hljs-keyword\">let</span> instance = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">AbstractNumbersProxy</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(instance.<span class=\"hljs-property\">values</span>); <span class=\"hljs-comment\">// [1,2,3,4]</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"839,856"}},{"content":"<pre data-lines=\"859,864\"><code>&#x3000;&#x3000;AbstractNumbersProxy&#x4f7f;&#x7528;construct&#x9677;&#x9631;&#x6765;&#x62e6;&#x622a;&#x5bf9;new AbstractNumbersProxy()&#x65b9;&#x6cd5;&#x7684;&#x8c03;&#x7528;&#x3002;&#x7136;&#x540e;&#x4f20;&#x5165;&#x9677;&#x9631;&#x7684;&#x53c2;&#x6570;&#x6765;&#x8c03;&#x7528;Reflect.construct()&#x65b9;&#x6cd5;&#xff0c;&#x5e76;&#x6dfb;&#x52a0;&#x4e00;&#x4e2a;&#x7a7a;&#x51fd;&#x6570;&#x4f5c;&#x4e3a;&#x7b2c;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#x3002;&#x8fd9;&#x4e2a;&#x7a7a;&#x51fd;&#x6570;&#x88ab;&#x7528;&#x4f5c;&#x6784;&#x9020;&#x51fd;&#x6570;&#x5185;&#x90e8;new.target&#x7684;&#x503c;&#x3002;&#x7531;&#x4e8e;new.target&#x4e0d;&#x7b49;&#x4e8e;AbstractNumbers&#xff0c;&#x56e0;&#x6b64;&#x4e0d;&#x4f1a;&#x629b;&#x51fa;&#x9519;&#x8bef;&#xff0c;&#x6784;&#x9020;&#x51fd;&#x6570;&#x53ef;&#x4ee5;&#x5b8c;&#x5168;&#x6267;&#x884c;\n\n**&#x53ef;&#x8c03;&#x7528;&#x7684;&#x7c7b;&#x6784;&#x9020;&#x51fd;&#x6570;**\n\n&#x3000;&#x3000;&#x5fc5;&#x987b;&#x7528;new&#x6765;&#x8c03;&#x7528;&#x7c7b;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x56e0;&#x4e3a;&#x7c7b;&#x6784;&#x9020;&#x51fd;&#x6570;&#x7684;&#x5185;&#x90e8;&#x65b9;&#x6cd5;[[Call]]&#x88ab;&#x6307;&#x5b9a;&#x6765;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#x3002;&#x4f46;&#x662f;&#x4ee3;&#x7406;&#x53ef;&#x4ee5;&#x62e6;&#x622a;&#x5bf9;[[Call]]&#x65b9;&#x6cd5;&#x7684;&#x8c03;&#x7528;&#xff0c;&#x8fd9;&#x610f;&#x5473;&#x7740;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x4f7f;&#x7528;&#x4ee3;&#x7406;&#x6765;&#x6709;&#x6548;&#x5730;&#x521b;&#x5efa;&#x53ef;&#x8c03;&#x7528;&#x7c7b;&#x6784;&#x9020;&#x51fd;&#x6570;&#x3002;&#x4f8b;&#x5982;&#xff0c;&#x5982;&#x679c;&#x5e0c;&#x671b;&#x7c7b;&#x6784;&#x9020;&#x51fd;&#x6570;&#x4e0d;&#x7528;new&#x5c31;&#x53ef;&#x4ee5;&#x8fd0;&#x884c;&#xff0c;&#x90a3;&#x4e48;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;apply&#x9677;&#x9631;&#x6765;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x65b0;&#x5b9e;&#x4f8b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"859,864"}},{"content":"<pre data-lines=\"867,883\"><code data-lines=\"867,883\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Person</span> {\n    <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\">name</span>) {\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">name</span> = name;\n    }\n}\n<span class=\"hljs-keyword\">let</span> <span class=\"hljs-title class_\">PersonProxy</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(<span class=\"hljs-title class_\">Person</span>, {\n    <span class=\"hljs-attr\">apply</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">trapTarget, thisArg, argumentList</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title function_\">trapTarget</span>(...argumentList);\n    }\n});\n<span class=\"hljs-keyword\">let</span> me = <span class=\"hljs-title class_\">PersonProxy</span>(<span class=\"hljs-string\">&quot;huochai&quot;</span>);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(me.<span class=\"hljs-property\">name</span>); <span class=\"hljs-comment\">// &quot;huochai&quot;</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(me <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">Person</span>); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(me <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">PersonProxy</span>); <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"867,883"}},{"content":"<pre data-lines=\"886,887\"><code>&#x3000;&#x3000;PersonProxy&#x5bf9;&#x8c61;&#x662f;Person&#x7c7b;&#x6784;&#x9020;&#x51fd;&#x6570;&#x7684;&#x4ee3;&#x7406;&#xff0c;&#x7c7b;&#x6784;&#x9020;&#x51fd;&#x6570;&#x662f;&#x51fd;&#x6570;&#xff0c;&#x6240;&#x4ee5;&#x5f53;&#x5b83;&#x4eec;&#x88ab;&#x7528;&#x4e8e;&#x4ee3;&#x7406;&#x65f6;&#x5c31;&#x50cf;&#x51fd;&#x6570;&#x4e00;&#x6837;&#x3002;apply&#x9677;&#x9631;&#x8986;&#x5199;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;&#x5e76;&#x8fd4;&#x56de;trapTarget&#x7684;&#x65b0;&#x5b9e;&#x4f8b;&#xff0c;&#x8be5;&#x5b9e;&#x4f8b;&#x4e0e;pepson&#x76f8;&#x7b49;&#x3002;&#x7528;&#x5c55;&#x5f00;&#x8fd0;&#x7b97;&#x7b26;&#x5c06;argumentList&#x4f20;&#x9012;&#x7ed9;trapTarget&#x6765;&#x5206;&#x522b;&#x4f20;&#x9012;&#x6bcf;&#x4e2a;&#x53c2;&#x6570;&#x3002;&#x4e0d;&#x4f7f;&#x7528;new&#x8c03;&#x7528;PersonProxy()&#x53ef;&#x4ee5;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;person&#x7684;&#x5b9e;&#x4f8b;&#xff0c;&#x5982;&#x679c;&#x5c1d;&#x8bd5;&#x4e0d;&#x4f7f;&#x7528;new&#x8c03;&#x7528;person()&#xff0c;&#x5219;&#x6784;&#x9020;&#x51fd;&#x6570;&#x5c06;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#x3002;&#x521b;&#x5efa;&#x53ef;&#x8c03;&#x7528;&#x7c7b;&#x6784;&#x9020;&#x51fd;&#x6570;&#x53ea;&#x80fd;&#x901a;&#x8fc7;&#x4ee3;&#x7406;&#x6765;&#x8fdb;&#x884c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"886,887"}}],"payload":{"tag":"h3","lines":"72,73"}},{"content":"&#x53ef;&#x64a4;&#x9500;&#x4ee3;&#x7406;","children":[{"content":"<pre data-lines=\"892,895\"><code>&#x3000;&#x3000;&#x901a;&#x5e38;&#xff0c;&#x5728;&#x521b;&#x5efa;&#x4ee3;&#x7406;&#x540e;&#xff0c;&#x4ee3;&#x7406;&#x4e0d;&#x80fd;&#x8131;&#x79bb;&#x5176;&#x76ee;&#x6807;&#x3002;&#x4f46;&#x662f;&#x53ef;&#x80fd;&#x5b58;&#x5728;&#x5e0c;&#x671b;&#x64a4;&#x9500;&#x4ee3;&#x7406;&#x7684;&#x60c5;&#x51b5;&#xff0c;&#x7136;&#x540e;&#x4ee3;&#x7406;&#x4fbf;&#x5931;&#x53bb;&#x6548;&#x529b;&#x3002;&#x65e0;&#x8bba;&#x662f;&#x51fa;&#x4e8e;&#x5b89;&#x5168;&#x76ee;&#x7684;&#x901a;&#x8fc7;API&#x63d0;&#x4f9b;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x8fd8;&#x662f;&#x5728;&#x4efb;&#x610f;&#x65f6;&#x95f4;&#x70b9;&#x5207;&#x65ad;&#x8bbf;&#x95ee;&#xff0c;&#x64a4;&#x9500;&#x4ee3;&#x7406;&#x90fd;&#x975e;&#x5e38;&#x6709;&#x7528;\n\n&#x3000;&#x3000;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;proxy.revocable()&#x65b9;&#x6cd5;&#x521b;&#x5efa;&#x53ef;&#x64a4;&#x9500;&#x7684;&#x4ee3;&#x7406;&#xff0c;&#x8be5;&#x65b9;&#x6cd5;&#x91c7;&#x7528;&#x4e0e;Proxy&#x6784;&#x9020;&#x51fd;&#x6570;&#x76f8;&#x540c;&#x7684;&#x53c2;&#x6570;&#xff1a;&#x76ee;&#x6807;&#x5bf9;&#x8c61;&#x548c;&#x4ee3;&#x7406;&#x5904;&#x7406;&#x7a0b;&#x5e8f;&#xff0c;&#x8fd4;&#x56de;&#x503c;&#x662f;&#x5177;&#x6709;&#x4ee5;&#x4e0b;&#x5c5e;&#x6027;&#x7684;&#x5bf9;&#x8c61;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"892,895"}},{"content":"<pre data-lines=\"896,900\"><code data-lines=\"896,900\"><span class=\"hljs-attribute\">proxy</span> &#x53ef;&#x88ab;&#x64a4;&#x9500;&#x7684;&#x4ee3;&#x7406;&#x5bf9;&#x8c61;\nrevoke &#x64a4;&#x9500;&#x4ee3;&#x7406;&#x8981;&#x8c03;&#x7528;&#x7684;&#x51fd;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"896,900"}},{"content":"<pre data-lines=\"901,902\"><code>&#x3000;&#x3000;&#x5f53;&#x8c03;&#x7528;revoke()&#x51fd;&#x6570;&#x65f6;&#xff0c;&#x4e0d;&#x80fd;&#x901a;&#x8fc7;proxy&#x6267;&#x884c;&#x8fdb;&#x4e00;&#x6b65;&#x7684;&#x64cd;&#x4f5c;&#x3002;&#x4efb;&#x4f55;&#x4e0e;&#x4ee3;&#x7406;&#x5bf9;&#x8c61;&#x4ea4;&#x4e92;&#x7684;&#x5c1d;&#x8bd5;&#x90fd;&#x4f1a;&#x89e6;&#x53d1;&#x4ee3;&#x7406;&#x9677;&#x9631;&#x629b;&#x51fa;&#x9519;&#x8bef;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"901,902"}},{"content":"<pre data-lines=\"905,915\"><code data-lines=\"905,915\">let target = {\n    <span class=\"hljs-type\">name</span>: &quot;target&quot;\n};\nlet { proxy, <span class=\"hljs-keyword\">revoke</span> } = Proxy.revocable(target, {});\nconsole.log(proxy.name); // &quot;target&quot;\n<span class=\"hljs-keyword\">revoke</span>();\n// &#x629b;&#x51fa;&#x9519;&#x8bef;\nconsole.log(proxy.name);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"905,915"}},{"content":"<pre data-lines=\"918,919\"><code>&#x3000;&#x3000;&#x6b64;&#x793a;&#x4f8b;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x53ef;&#x64a4;&#x9500;&#x4ee3;&#x7406;&#xff0c;&#x5b83;&#x4f7f;&#x7528;&#x89e3;&#x6784;&#x529f;&#x80fd;&#x5c06;proxy&#x548c;revoke&#x53d8;&#x91cf;&#x8d4b;&#x503c;&#x7ed9;Proxy.revocable()&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x7684;&#x5bf9;&#x8c61;&#x4e0a;&#x7684;&#x540c;&#x540d;&#x5c5e;&#x6027;&#x3002;&#x4e4b;&#x540e;&#xff0c;proxy&#x5bf9;&#x8c61;&#x53ef;&#x4ee5;&#x50cf;&#x4e0d;&#x53ef;&#x64a4;&#x9500;&#x4ee3;&#x7406;&#x5bf9;&#x8c61;&#x4e00;&#x6837;&#x4f7f;&#x7528;&#x3002;&#x56e0;&#x6b64;proxy.name&#x8fd4;&#x56de;&quot;target&quot;&#xff0c;&#x56e0;&#x4e3a;&#x5b83;&#x76f4;&#x63a5;&#x900f;&#x4f20;&#x4e86;target.name&#x7684;&#x503c;&#x3002;&#x7136;&#x800c;&#xff0c;&#x4e00;&#x65e6;revoke()&#x51fd;&#x6570;&#x88ab;&#x8c03;&#x7528;&#xff0c;&#x4ee3;&#x7406;&#x4e0d;&#x518d;&#x662f;&#x51fd;&#x6570;&#xff0c;&#x5c1d;&#x8bd5;&#x8bbf;&#x95ee;proxy.name&#x4f1a;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#xff0c;&#x6b63;&#x5982;&#x4efb;&#x4f55;&#x4f1a;&#x89e6;&#x53d1;&#x4ee3;&#x7406;&#x4e0a;&#x9677;&#x9631;&#x7684;&#x5176;&#x4ed6;&#x64cd;&#x4f5c;&#x4e00;&#x6837;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"918,919"}}],"payload":{"tag":"h3","lines":"890,891"}},{"content":"&#x6a21;&#x4eff;&#x6570;&#x7ec4;","children":[{"content":"<pre data-lines=\"924,925\"><code>&#x3000;&#x3000;&#x5728;ES6&#x51fa;&#x73b0;&#x4ee5;&#x524d;&#xff0c;&#x5f00;&#x53d1;&#x8005;&#x4e0d;&#x80fd;&#x5728;JS&#x4e2d;&#x5b8c;&#x5168;&#x6a21;&#x4eff;&#x6570;&#x7ec4;&#x7684;&#x884c;&#x4e3a;&#x3002;&#x800c;ES6&#x4e2d;&#x7684;&#x4ee3;&#x7406;&#x548c;&#x53cd;&#x5c04;API&#x53ef;&#x4ee5;&#x7528;&#x6765;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x8be5;&#x5bf9;&#x8c61;&#x7684;&#x884c;&#x4e3a;&#x4e0e;&#x6dfb;&#x52a0;&#x548c;&#x5220;&#x9664;&#x5c5e;&#x6027;&#x65f6;&#x5185;&#x5efa;&#x6570;&#x7ec4;&#x7c7b;&#x578b;&#x7684;&#x884c;&#x4e3a;&#x76f8;&#x540c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"924,925"}},{"content":"<pre data-lines=\"928,940\"><code data-lines=\"928,940\">let colors = [<span class=\"hljs-string\">&quot;red&quot;</span>, <span class=\"hljs-string\">&quot;green&quot;</span>, <span class=\"hljs-string\">&quot;blue&quot;</span>];\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(colors.<span class=\"hljs-built_in\">length</span>); <span class=\"hljs-comment\">// 3</span>\ncolors[<span class=\"hljs-number\">3</span>] = <span class=\"hljs-string\">&quot;black&quot;</span>;\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(colors.<span class=\"hljs-built_in\">length</span>); <span class=\"hljs-comment\">// 4</span>\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(colors[<span class=\"hljs-number\">3</span>]); <span class=\"hljs-comment\">// &quot;black&quot;</span>\ncolors.<span class=\"hljs-built_in\">length</span> = <span class=\"hljs-number\">2</span>;\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(colors.<span class=\"hljs-built_in\">length</span>); <span class=\"hljs-comment\">// 2</span>\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(colors[<span class=\"hljs-number\">3</span>]); <span class=\"hljs-comment\">// undefined</span>\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(colors[<span class=\"hljs-number\">2</span>]); <span class=\"hljs-comment\">// undefined</span>\n<span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(colors[<span class=\"hljs-number\">1</span>]); <span class=\"hljs-comment\">// &quot;green&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"928,940"}},{"content":"<pre data-lines=\"943,958\"><code>&#x3000;&#x3000;&#x6b64;&#x793a;&#x4f8b;&#x4e2d;&#x6709;&#x4e24;&#x4e2a;&#x7279;&#x522b;&#x91cd;&#x8981;&#x7684;&#x884c;&#x4e3a;\n\n&#x3000;&#x3000;1&#x3001;&#x5f53;&#x7ed9;colors[3]&#x8d4b;&#x503c;&#x65f6;&#xff0c;length&#x5c5e;&#x6027;&#x7684;&#x503c;&#x589e;&#x52a0;&#x5230;4\n\n&#x3000;&#x3000;2&#x3001;&#x5f53;length&#x5c5e;&#x6027;&#x88ab;&#x8bbe;&#x7f6e;&#x4e3a;2&#x65f6;&#xff0c;&#x6570;&#x7ec4;&#x4e2d;&#x6700;&#x540e;&#x4e24;&#x4e2a;&#x5143;&#x7d20;&#x88ab;&#x5220;&#x9664;\n\n&#x3000;&#x3000;&#x8981;&#x5b8c;&#x5168;&#x91cd;&#x9020;&#x5185;&#x5efa;&#x6570;&#x7ec4;&#xff0c;&#x53ea;&#x9700;&#x6a21;&#x62df;&#x4e0a;&#x8ff0;&#x4e24;&#x79cd;&#x884c;&#x4e3a;&#x3002;&#x4e0b;&#x9762;=&#x5c06;&#x8bb2;&#x89e3;&#x5982;&#x4f55;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x80fd;&#x6b63;&#x786e;&#x6a21;&#x4eff;&#x8fd9;&#x4e9b;&#x884c;&#x4e3a;&#x7684;&#x5bf9;&#x8c61;\n\n&#x3010;&#x68c0;&#x6d4b;&#x6570;&#x7ec4;&#x7d22;&#x5f15;&#x3011;\n\n&#x3000;&#x3000;&#x4e3a;&#x6574;&#x6570;&#x5c5e;&#x6027;&#x952e;&#x8d4b;&#x503c;&#x662f;&#x6570;&#x7ec4;&#x624d;&#x6709;&#x7684;&#x7279;&#x4f8b;&#xff0c;&#x56e0;&#x4e3a;&#x5b83;&#x4eec;&#x4e0e;&#x975e;&#x6574;&#x6570;&#x952e;&#x7684;&#x5904;&#x7406;&#x65b9;&#x5f0f;&#x4e0d;&#x540c;&#x3002;&#x8981;&#x5224;&#x65ad;&#x4e00;&#x4e2a;&#x5c5e;&#x6027;&#x662f;&#x5426;&#x662f;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;&#x7d22;&#x5f15;&#xff0c;&#x53ef;&#x4ee5;&#x53c2;&#x8003;ES6&#x89c4;&#x8303;&#x63d0;&#x4f9b;&#x7684;&#x4ee5;&#x4e0b;&#x8bf4;&#x660e;\n\n&#x3000;&#x3000;&#x5f53;&#x4e14;&#x4ec5;&#x5f53;ToString(ToUint32(P))&#x7b49;&#x4e8e;P&#xff0c;&#x5e76;&#x4e14;ToUint32(P)&#x4e0d;&#x7b49;&#x4e8e;232-1&#x65f6;&#xff0c;&#x5b57;&#x7b26;&#x4e32;&#x5c5e;&#x6027;&#x540d;&#x79f0;P&#x624d;&#x662f;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;&#x7d22;&#x5f15;\n\n&#x3000;&#x3000;&#x6b64;&#x64cd;&#x4f5c;&#x53ef;&#x4ee5;&#x5728;JS&#x4e2d;&#x5b9e;&#x73b0;&#xff0c;&#x5982;&#x4e0b;&#x6240;&#x793a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"943,958"}},{"content":"<pre data-lines=\"961,970\"><code data-lines=\"961,970\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">toUint32</span>(<span class=\"hljs-params\">value</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">floor</span>(<span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">abs</span>(<span class=\"hljs-title class_\">Number</span>(value))) % <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">pow</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">32</span>);\n}\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">isArrayIndex</span>(<span class=\"hljs-params\">key</span>) {\n    <span class=\"hljs-keyword\">let</span> numericKey = <span class=\"hljs-title function_\">toUint32</span>(key);\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">String</span>(numericKey) == key &amp;&amp; numericKey &lt; (<span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">pow</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">32</span>) - <span class=\"hljs-number\">1</span>);\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"961,970"}},{"content":"<pre data-lines=\"973,978\"><code>&#x3000;&#x3000;toUint32()&#x51fd;&#x6570;&#x901a;&#x8fc7;&#x89c4;&#x8303;&#x4e2d;&#x63cf;&#x8ff0;&#x7684;&#x7b97;&#x6cd5;&#x5c06;&#x7ed9;&#x5b9a;&#x7684;&#x503c;&#x8f6c;&#x6362;&#x4e3a;&#x65e0;&#x7b26;&#x53f7;32&#x4f4d;&#x6574;&#x6570;&#xff1b;isArrayIndex()&#x51fd;&#x6570;&#x5148;&#x5c06;&#x952e;&#x8f6c;&#x6362;&#x4e3a;uint32&#x7ed3;&#x6784;&#xff0c;&#x7136;&#x540e;&#x8fdb;&#x884c;&#x4e00;&#x6b21;&#x6bd4;&#x8f83;&#x4ee5;&#x786e;&#x5b9a;&#x8fd9;&#x4e2a;&#x952e;&#x662f;&#x5426;&#x662f;&#x6570;&#x7ec4;&#x7d22;&#x5f15;&#x3002;&#x6709;&#x4e86;&#x8fd9;&#x4e24;&#x4e2a;&#x5b9e;&#x7528;&#x51fd;&#x6570;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x5f00;&#x59cb;&#x5b9e;&#x73b0;&#x4e00;&#x4e2a;&#x6a21;&#x62df;&#x5185;&#x5efa;&#x6570;&#x7ec4;&#x7684;&#x5bf9;&#x8c61;\n\n&#x3010;&#x6dfb;&#x52a0;&#x65b0;&#x5143;&#x7d20;&#x65f6;&#x589e;&#x52a0;length&#x7684;&#x503c;&#x3011;\n\n&#x3000;&#x3000;&#x4e4b;&#x524d;&#x63cf;&#x8ff0;&#x7684;&#x6570;&#x7ec4;&#x884c;&#x4e3a;&#x90fd;&#x4f9d;&#x8d56;&#x5c5e;&#x6027;&#x8d4b;&#x503c;&#xff0c;&#x53ea;&#x9700;&#x7528;set&#x4ee3;&#x7406;&#x9677;&#x9631;&#x5373;&#x53ef;&#x5b9e;&#x73b0;&#x4e4b;&#x524d;&#x63d0;&#x5230;&#x7684;&#x4e24;&#x4e2a;&#x884c;&#x4e3a;&#x3002;&#x8bf7;&#x770b;&#x4ee5;&#x4e0b;&#x8fd9;&#x4e2a;&#x793a;&#x4f8b;&#xff0c;&#x5f53;&#x64cd;&#x4f5c;&#x7684;&#x6570;&#x7ec4;&#x7d22;&#x5f15;&#x5927;&#x4e8e;length-1&#x65f6;&#xff0c;length&#x5c5e;&#x6027;&#x4e5f;&#x4e00;&#x540c;&#x589e;&#x52a0;&#xff0c;&#x8fd9;&#x5b9e;&#x73b0;&#x4e86;&#x4e24;&#x4e2a;&#x7279;&#x6027;&#x4e2d;&#x7684;&#x524d;&#x4e00;&#x4e2a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"973,978"}},{"content":"<pre data-lines=\"981,1015\"><code data-lines=\"981,1015\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">toUint32</span>(<span class=\"hljs-params\">value</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">floor</span>(<span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">abs</span>(<span class=\"hljs-title class_\">Number</span>(value))) % <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">pow</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">32</span>);\n}\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">isArrayIndex</span>(<span class=\"hljs-params\">key</span>) {\n    <span class=\"hljs-keyword\">let</span> numericKey = <span class=\"hljs-title function_\">toUint32</span>(key);\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">String</span>(numericKey) == key &amp;&amp; numericKey &lt; (<span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">pow</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">32</span>) - <span class=\"hljs-number\">1</span>);\n}\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createMyArray</span>(<span class=\"hljs-params\">length=<span class=\"hljs-number\">0</span></span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>({ length }, {\n        <span class=\"hljs-title function_\">set</span>(<span class=\"hljs-params\">trapTarget, key, value</span>) {\n            <span class=\"hljs-keyword\">let</span> currentLength = <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">get</span>(trapTarget, <span class=\"hljs-string\">&quot;length&quot;</span>);\n            <span class=\"hljs-comment\">// &#x7279;&#x6b8a;&#x60c5;&#x51b5;</span>\n            <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isArrayIndex</span>(key)) {\n                <span class=\"hljs-keyword\">let</span> numericKey = <span class=\"hljs-title class_\">Number</span>(key);\n                <span class=\"hljs-keyword\">if</span> (numericKey &gt;= currentLength) {\n                    <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">set</span>(trapTarget, <span class=\"hljs-string\">&quot;length&quot;</span>, numericKey + <span class=\"hljs-number\">1</span>);\n                }\n            }\n            <span class=\"hljs-comment\">// &#x65e0;&#x8bba;&#x952e;&#x7684;&#x7c7b;&#x578b;&#x662f;&#x4ec0;&#x4e48;&#xff0c;&#x90fd;&#x8981;&#x6267;&#x884c;&#x8fd9;&#x884c;&#x4ee3;&#x7801;</span>\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">set</span>(trapTarget, key, value);\n        }\n    });\n}\n<span class=\"hljs-keyword\">let</span> colors = <span class=\"hljs-title function_\">createMyArray</span>(<span class=\"hljs-number\">3</span>);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors.<span class=\"hljs-property\">length</span>); <span class=\"hljs-comment\">// 3</span>\ncolors[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-string\">&quot;red&quot;</span>;\ncolors[<span class=\"hljs-number\">1</span>] = <span class=\"hljs-string\">&quot;green&quot;</span>;\ncolors[<span class=\"hljs-number\">2</span>] = <span class=\"hljs-string\">&quot;blue&quot;</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors.<span class=\"hljs-property\">length</span>); <span class=\"hljs-comment\">// 3</span>\ncolors[<span class=\"hljs-number\">3</span>] = <span class=\"hljs-string\">&quot;black&quot;</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors.<span class=\"hljs-property\">length</span>); <span class=\"hljs-comment\">// 4</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors[<span class=\"hljs-number\">3</span>]); <span class=\"hljs-comment\">// &quot;black&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"981,1015"}},{"content":"<pre data-lines=\"1018,1025\"><code>&#x3000;&#x3000;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x7528;set&#x4ee3;&#x7406;&#x9677;&#x9631;&#x6765;&#x62e6;&#x622a;&#x6570;&#x7ec4;&#x7d22;&#x5f15;&#x7684;&#x8bbe;&#x7f6e;&#x8fc7;&#x7a0b;&#x3002;&#x5982;&#x679c;&#x952e;&#x662f;&#x6570;&#x7ec4;&#x7d22;&#x5f15;&#xff0c;&#x5219;&#x5c06;&#x5176;&#x8f6c;&#x6362;&#x4e3a;&#x6570;&#x5b57;&#xff0c;&#x56e0;&#x4e3a;&#x952e;&#x59cb;&#x7ec8;&#x4f5c;&#x4e3a;&#x5b57;&#x7b26;&#x4e32;&#x4f20;&#x9012;&#x3002;&#x63a5;&#x4e0b;&#x6765;&#xff0c;&#x5982;&#x679c;&#x8be5;&#x6570;&#x503c;&#x5927;&#x4e8e;&#x6216;&#x7b49;&#x4e8e;&#x5f53;&#x524d;&#x957f;&#x5ea6;&#x5c5e;&#x6027;&#xff0c;&#x5219;&#x5c06;length&#x5c5e;&#x6027;&#x66f4;&#x65b0;&#x4e3a;&#x6bd4;&#x6570;&#x5b57;&#x952e;&#x591a;1(&#x8bbe;&#x7f6e;&#x4f4d;&#x7f6e;3&#x610f;&#x5473;&#x7740;length&#x5fc5;&#x987b;&#x662f;4)&#x3002;&#x7136;&#x540e;&#xff0c;&#x7531;&#x4e8e;&#x5e0c;&#x671b;&#x88ab;&#x8bbe;&#x7f6e;&#x7684;&#x5c5e;&#x6027;&#x80fd;&#x591f;&#x63a5;&#x6536;&#x5230;&#x6307;&#x5b9a;&#x7684;&#x503c;&#xff0c;&#x56e0;&#x6b64;&#x8c03;&#x7528;Reflect.set()&#x901a;&#x8fc7;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;&#x6765;&#x8bbe;&#x7f6e;&#x8be5;&#x5c5e;&#x6027;\n\n&#x3000;&#x3000;&#x8c03;&#x7528;createMyArray()&#x5e76;&#x4f20;&#x5165;3&#x4f5c;&#x4e3a;length&#x7684;&#x503c;&#x6765;&#x521b;&#x5efa;&#x6700;&#x521d;&#x7684;&#x81ea;&#x5b9a;&#x4e49;&#x6570;&#x7ec4;&#xff0c;&#x7136;&#x540e;&#x7acb;&#x5373;&#x6dfb;&#x52a0;&#x8fd9;3&#x4e2a;&#x5143;&#x7d20;&#x7684;&#x503c;&#xff0c;&#x5728;&#x6b64;&#x4e4b;&#x524d;length&#x5c5e;&#x6027;&#x4e00;&#x76f4;&#x662f;3&#xff0c;&#x76f4;&#x5230;&#x628a;&#x4f4d;&#x7f6e;3&#x8d4b;&#x503c;&#x4e3a;&#x503c;&quot;black&quot;&#x65f6;&#xff0c;length&#x624d;&#x88ab;&#x8bbe;&#x7f6e;&#x4e3a;4\n\n&#x3010;&#x51cf;&#x5c11;length&#x7684;&#x503c;&#x6765;&#x5220;&#x9664;&#x5143;&#x7d20;&#x3011;\n\n&#x3000;&#x3000;&#x4ec5;&#x5f53;&#x6570;&#x7ec4;&#x7d22;&#x5f15;&#x5927;&#x4e8e;&#x7b49;&#x4e8e;length&#x5c5e;&#x6027;&#x65f6;&#x624d;&#x9700;&#x8981;&#x6a21;&#x62df;&#x7b2c;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;&#x7279;&#x6027;&#xff0c;&#x7b2c;&#x4e8c;&#x4e2a;&#x7279;&#x6027;&#x4e0e;&#x4e4b;&#x76f8;&#x53cd;&#xff0c;&#x5373;&#x5f53;length&#x5c5e;&#x6027;&#x88ab;&#x8bbe;&#x7f6e;&#x4e3a;&#x6bd4;&#x4e4b;&#x524d;&#x8fd8;&#x5c0f;&#x7684;&#x503c;&#x65f6;&#x4f1a;&#x79fb;&#x9664;&#x6570;&#x7ec4;&#x5143;&#x7d20;&#x3002;&#x8fd9;&#x4e0d;&#x4ec5;&#x6d89;&#x53ca;&#x957f;&#x5ea6;&#x5c5e;&#x6027;&#x7684;&#x6539;&#x53d8;&#xff0c;&#x8fd8;&#x8981;&#x5220;&#x9664;&#x539f;&#x672c;&#x53ef;&#x80fd;&#x5b58;&#x5728;&#x7684;&#x5143;&#x7d20;&#x3002;&#x4f8b;&#x5982;&#x6709;&#x4e00;&#x4e2a;&#x957f;&#x5ea6;&#x4e3a;4&#x7684;&#x6570;&#x7ec4;&#xff0c;&#x5982;&#x679c;&#x5c06;length&#x5c5e;&#x6027;&#x8bbe;&#x7f6e;&#x4e3a;2&#xff0c;&#x5219;&#x4f1a;&#x5220;&#x9664;&#x4f4d;&#x7f6e;2&#x548c;3&#x4e2d;&#x7684;&#x5143;&#x7d20;&#x3002;&#x540c;&#x6837;&#x53ef;&#x4ee5;&#x5728;set&#x4ee3;&#x7406;&#x9677;&#x9631;&#x4e2d;&#x5b8c;&#x6210;&#x8fd9;&#x4e2a;&#x64cd;&#x4f5c;&#xff0c;&#x8fd9;&#x4e0d;&#x4f1a;&#x5f71;&#x54cd;&#x5230;&#x7b2c;&#x4e00;&#x4e2a;&#x7279;&#x6027;&#x3002;&#x4ee5;&#x4e0b;&#x793a;&#x4f8b;&#x5728;&#x4e4b;&#x524d;&#x7684;&#x57fa;&#x7840;&#x4e0a;&#x66f4;&#x65b0;&#x4e86;createMyArray&#x65b9;&#x6cd5;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1018,1025"}},{"content":"<pre data-lines=\"1028,1072\"><code data-lines=\"1028,1072\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">toUint32</span>(<span class=\"hljs-params\">value</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">floor</span>(<span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">abs</span>(<span class=\"hljs-title class_\">Number</span>(value))) % <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">pow</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">32</span>);\n}\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">isArrayIndex</span>(<span class=\"hljs-params\">key</span>) {\n    <span class=\"hljs-keyword\">let</span> numericKey = <span class=\"hljs-title function_\">toUint32</span>(key);\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">String</span>(numericKey) == key &amp;&amp; numericKey &lt; (<span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">pow</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">32</span>) - <span class=\"hljs-number\">1</span>);\n}\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createMyArray</span>(<span class=\"hljs-params\">length=<span class=\"hljs-number\">0</span></span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>({ length }, {\n        <span class=\"hljs-title function_\">set</span>(<span class=\"hljs-params\">trapTarget, key, value</span>) {\n            <span class=\"hljs-keyword\">let</span> currentLength = <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">get</span>(trapTarget, <span class=\"hljs-string\">&quot;length&quot;</span>);\n            <span class=\"hljs-comment\">// &#x7279;&#x6b8a;&#x60c5;&#x51b5;</span>\n            <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isArrayIndex</span>(key)) {\n                <span class=\"hljs-keyword\">let</span> numericKey = <span class=\"hljs-title class_\">Number</span>(key);\n                <span class=\"hljs-keyword\">if</span> (numericKey &gt;= currentLength) {\n                    <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">set</span>(trapTarget, <span class=\"hljs-string\">&quot;length&quot;</span>, numericKey + <span class=\"hljs-number\">1</span>);\n                }\n            } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (key === <span class=\"hljs-string\">&quot;length&quot;</span>) {\n                <span class=\"hljs-keyword\">if</span> (value &lt; currentLength) {\n                    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> index = currentLength - <span class=\"hljs-number\">1</span>; index &gt;= value; index--) {\n                        <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">deleteProperty</span>(trapTarget, index);\n                    }\n                }\n            }\n            <span class=\"hljs-comment\">// &#x65e0;&#x8bba;&#x952e;&#x7684;&#x7c7b;&#x578b;&#x662f;&#x4ec0;&#x4e48;&#xff0c;&#x90fd;&#x8981;&#x6267;&#x884c;&#x8fd9;&#x884c;&#x4ee3;&#x7801;</span>\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">set</span>(trapTarget, key, value);\n        }\n    });\n}\n<span class=\"hljs-keyword\">let</span> colors = <span class=\"hljs-title function_\">createMyArray</span>(<span class=\"hljs-number\">3</span>);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors.<span class=\"hljs-property\">length</span>); <span class=\"hljs-comment\">// 3</span>\ncolors[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-string\">&quot;red&quot;</span>;\ncolors[<span class=\"hljs-number\">1</span>] = <span class=\"hljs-string\">&quot;green&quot;</span>;\ncolors[<span class=\"hljs-number\">2</span>] = <span class=\"hljs-string\">&quot;blue&quot;</span>;\ncolors[<span class=\"hljs-number\">3</span>] = <span class=\"hljs-string\">&quot;black&quot;</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors.<span class=\"hljs-property\">length</span>); <span class=\"hljs-comment\">// 4</span>\ncolors.<span class=\"hljs-property\">length</span> = <span class=\"hljs-number\">2</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors.<span class=\"hljs-property\">length</span>); <span class=\"hljs-comment\">// 2</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors[<span class=\"hljs-number\">3</span>]); <span class=\"hljs-comment\">// undefined</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors[<span class=\"hljs-number\">2</span>]); <span class=\"hljs-comment\">// undefined</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors[<span class=\"hljs-number\">1</span>]); <span class=\"hljs-comment\">// &quot;green&quot;</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors[<span class=\"hljs-number\">0</span>]); <span class=\"hljs-comment\">// &quot;red&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1028,1072"}},{"content":"<pre data-lines=\"1075,1086\"><code>&#x3000;&#x3000;&#x8be5;&#x4ee3;&#x7801;&#x4e2d;&#x7684;set&#x4ee3;&#x7406;&#x9677;&#x9631;&#x68c0;&#x67e5;key&#x662f;&#x5426;&#x4e3a;&quot;length&quot;&#xff0c;&#x4ee5;&#x4fbf;&#x6b63;&#x786e;&#x8c03;&#x6574;&#x5bf9;&#x8c61;&#x7684;&#x5176;&#x4f59;&#x90e8;&#x5206;&#x3002;&#x5f53;&#x5f00;&#x59cb;&#x68c0;&#x67e5;&#x65f6;&#xff0c;&#x9996;&#x5148;&#x7528;Reflect.get()&#x83b7;&#x53d6;&#x5f53;&#x524d;&#x957f;&#x5ea6;&#x503c;&#xff0c;&#x7136;&#x540e;&#x4e0e;&#x65b0;&#x7684;&#x503c;&#x8fdb;&#x884c;&#x6bd4;&#x8f83;&#xff0c;&#x5982;&#x679c;&#x65b0;&#x503c;&#x6bd4;&#x5f53;&#x524d;&#x957f;&#x5ea6;&#x5c0f;&#xff0c;&#x5219;&#x901a;&#x8fc7;&#x4e00;&#x4e2a;for&#x5faa;&#x73af;&#x5220;&#x9664;&#x76ee;&#x6807;&#x4e0a;&#x6240;&#x6709;&#x4e0d;&#x518d;&#x53ef;&#x7528;&#x7684;&#x5c5e;&#x6027;&#xff0c;fop&#x5faa;&#x73af;&#x4ece;&#x540e;&#x5f80;&#x524d;&#x4ece;&#x5f53;&#x524d;&#x6570;&#x7ec4;&#x957f;&#x5ea6;(current Length)&#x5904;&#x5f00;&#x59cb;&#x5220;&#x9664;&#x6bcf;&#x4e2a;&#x5c5e;&#x6027;&#xff0c;&#x76f4;&#x5230;&#x5230;&#x8fbe;&#x65b0;&#x7684;&#x6570;&#x7ec4;&#x957f;&#x5ea6;(value)&#x4e3a;&#x6b62;\n\n&#x3000;&#x3000;&#x6b64;&#x793a;&#x4f8b;&#x4e3a;colors&#x6dfb;&#x52a0;&#x4e86;4&#x79cd;&#x989c;&#x8272;&#xff0c;&#x7136;&#x540e;&#x5c06;&#x5b83;&#x7684;length&#x5c5e;&#x6027;&#x8bbe;&#x7f6e;&#x4e3a;2&#xff0c;&#x4f4d;&#x4e8e;&#x4f4d;&#x7f6e;2&#x548c;3&#x7684;&#x5143;&#x7d20;&#x88ab;&#x79fb;&#x9664;&#xff0c;&#x56e0;&#x6b64;&#x5c1d;&#x8bd5;&#x8bbf;&#x95ee;&#x5b83;&#x4eec;&#x65f6;&#x8fd4;&#x56de;&#x7684;&#x662f;undefined&#x3002;length&#x5c5e;&#x6027;&#x88ab;&#x6b63;&#x786e;&#x8bbe;&#x7f6e;&#x4e3a;2&#xff0c;&#x4f4d;&#x7f6e;0&#x548c;1&#x4e2d;&#x7684;&#x5143;&#x7d20;&#x4ecd;&#x53ef;&#x8bbf;&#x95ee;\n\n&#x3000;&#x3000;&#x5b9e;&#x73b0;&#x4e86;&#x8fd9;&#x4e24;&#x4e2a;&#x7279;&#x6027;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x5f88;&#x8f7b;&#x677e;&#x5730;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x6a21;&#x4eff;&#x5185;&#x5efa;&#x6570;&#x7ec4;&#x7279;&#x6027;&#x7684;&#x5bf9;&#x8c61;&#x4e86;&#x3002;&#x4f46;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x7c7b;&#x6765;&#x5c01;&#x88c5;&#x8fd9;&#x4e9b;&#x7279;&#x6027;&#x662f;&#x66f4;&#x597d;&#x7684;&#x9009;&#x62e9;&#xff0c;&#x6240;&#x4ee5;&#x4e0b;&#x4e00;&#x6b65;&#x7528;&#x4e00;&#x4e2a;&#x7c7b;&#x6765;&#x5b9e;&#x73b0;&#x8fd9;&#x4e2a;&#x529f;&#x80fd;\n\n&#x3010;&#x5b9e;&#x73b0;MyArray&#x7c7b;&#x3011;\n\n&#x3000;&#x3000;&#x60f3;&#x8981;&#x521b;&#x5efa;&#x4f7f;&#x7528;&#x4ee3;&#x7406;&#x7684;&#x7c7b;&#xff0c;&#x6700;&#x7b80;&#x5355;&#x7684;&#x65b9;&#x6cd5;&#x662f;&#x50cf;&#x5f80;&#x5e38;&#x4e00;&#x6837;&#x5b9a;&#x4e49;&#x7c7b;&#xff0c;&#x7136;&#x540e;&#x5728;&#x6784;&#x9020;&#x51fd;&#x6570;&#x4e2d;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x4ee3;&#x7406;&#xff0c;&#x90a3;&#x6837;&#x7684;&#x8bdd;&#xff0c;&#x5f53;&#x7c7b;&#x5b9e;&#x4f8b;&#x5316;&#x65f6;&#x8fd4;&#x56de;&#x7684;&#x5bf9;&#x8c61;&#x662f;&#x4ee3;&#x7406;&#x800c;&#x4e0d;&#x662f;&#x5b9e;&#x4f8b;(&#x6784;&#x9020;&#x51fd;&#x6570;&#x4e2d;this&#x7684;&#x503c;&#x662f;&#x8be5;&#x5b9e;&#x4f8b;)&#x3002;&#x5b9e;&#x4f8b;&#x6210;&#x4e3a;&#x4ee3;&#x7406;&#x7684;&#x76ee;&#x6807;&#xff0c;&#x4ee3;&#x7406;&#x5219;&#x50cf;&#x539f;&#x672c;&#x7684;&#x5b9e;&#x4f8b;&#x90a3;&#x6837;&#x88ab;&#x8fd4;&#x56de;&#x3002;&#x5b9e;&#x4f8b;&#x5b8c;&#x5168;&#x79c1;&#x6709;&#x5316;&#xff0c;&#x9664;&#x4e86;&#x901a;&#x8fc7;&#x4ee3;&#x7406;&#x95f4;&#x63a5;&#x8bbf;&#x95ee;&#x5916;&#xff0c;&#x65e0;&#x6cd5;&#x76f4;&#x63a5;&#x8bbf;&#x95ee;&#x5b83;\n\n&#x3000;&#x3000;&#x4e0b;&#x9762;&#x662f;&#x4ece;&#x4e00;&#x4e2a;&#x7c7b;&#x6784;&#x9020;&#x51fd;&#x6570;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x4ee3;&#x7406;&#x7684;&#x7b80;&#x5355;&#x793a;&#x4f8b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1075,1086"}},{"content":"<pre data-lines=\"1089,1098\"><code data-lines=\"1089,1098\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Thing</span> {\n    <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\"></span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(<span class=\"hljs-variable language_\">this</span>, {});\n    }\n}\n<span class=\"hljs-keyword\">let</span> myThing = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thing</span>();\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(myThing <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">Thing</span>); <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1089,1098"}},{"content":"<pre data-lines=\"1101,1104\"><code>&#x3000;&#x3000;&#x5728;&#x8fd9;&#x4e2a;&#x793a;&#x4f8b;&#x4e2d;&#xff0c;&#x7c7b;Thing&#x4ece;&#x5b83;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#x4e2d;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x4ee3;&#x7406;&#xff0c;&#x4ee3;&#x7406;&#x7684;&#x76ee;&#x6807;&#x662f;this&#xff0c;&#x6240;&#x4ee5;&#x5373;&#x4f7f;myThing&#x662f;&#x901a;&#x8fc7;&#x8c03;&#x7528;Thing&#x6784;&#x9020;&#x51fd;&#x6570;&#x521b;&#x5efa;&#x7684;&#xff0c;&#x4f46;&#x5b83;&#x5b9e;&#x9645;&#x4e0a;&#x662f;&#x4e00;&#x4e2a;&#x4ee3;&#x7406;&#x3002;&#x7531;&#x4e8e;&#x4ee3;&#x7406;&#x4f1a;&#x5c06;&#x5b83;&#x4eec;&#x7684;&#x7279;&#x6027;&#x900f;&#x4f20;&#x7ed9;&#x76ee;&#x6807;&#xff0c;&#x56e0;&#x6b64;myThing&#x4ecd;&#x7136;&#x88ab;&#x8ba4;&#x4e3a;&#x662f;Thing&#x7684;&#x4e00;&#x4e2a;&#x5b9e;&#x4f8b;&#xff0c;&#x6545;&#x5bf9;&#x4efb;&#x4f55;&#x4f7f;&#x7528;Thing&#x7c7b;&#x7684;&#x4eba;&#x6765;&#x8bf4;&#x4ee3;&#x7406;&#x662f;&#x5b8c;&#x5168;&#x900f;&#x660e;&#x7684;\n\n&#x3000;&#x3000;&#x4ece;&#x6784;&#x9020;&#x51fd;&#x6570;&#x4e2d;&#x53ef;&#x4ee5;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x4ee3;&#x7406;&#xff0c;&#x7406;&#x89e3;&#x8fd9;&#x4e2a;&#x6982;&#x5ff5;&#x540e;&#xff0c;&#x7528;&#x4ee3;&#x7406;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x81ea;&#x5b9a;&#x4e49;&#x6570;&#x7ec4;&#x7c7b;&#x5c31;&#x76f8;&#x5bf9;&#x7b80;&#x5355;&#x4e86;&#x3002;&#x5176;&#x4ee3;&#x7801;&#x4e0e;&#x4e4b;&#x524d;&quot;&#x51cf;&#x5c11;length&#x7684;&#x503c;&#x6765;&#x5220;&#x9664;&#x5143;&#x7d20;&quot;&#x7684;&#x4ee3;&#x7801;&#x5927;&#x90e8;&#x5206;&#x662f;&#x4e00;&#x6837;&#x7684;&#xff0c;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x76f8;&#x540c;&#x7684;&#x4ee3;&#x7406;&#x4ee3;&#x7801;&#xff0c;&#x4f46;&#x8fd9;&#x6b21;&#x9700;&#x8981;&#x628a;&#x5b83;&#x653e;&#x5728;&#x4e00;&#x4e2a;&#x7c7b;&#x6784;&#x9020;&#x51fd;&#x6570;&#x4e2d;&#x3002;&#x4e0b;&#x9762;&#x662f;&#x5b8c;&#x6574;&#x7684;&#x793a;&#x4f8b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1101,1104"}},{"content":"<pre data-lines=\"1107,1155\"><code data-lines=\"1107,1155\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">toUint32</span>(<span class=\"hljs-params\">value</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">floor</span>(<span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">abs</span>(<span class=\"hljs-title class_\">Number</span>(value))) % <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">pow</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">32</span>);\n}\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">isArrayIndex</span>(<span class=\"hljs-params\">key</span>) {\n    <span class=\"hljs-keyword\">let</span> numericKey = <span class=\"hljs-title function_\">toUint32</span>(key);\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">String</span>(numericKey) == key &amp;&amp; numericKey &lt; (<span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">pow</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">32</span>) - <span class=\"hljs-number\">1</span>);\n}\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyArray</span> {\n    <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\">length=<span class=\"hljs-number\">0</span></span>) {\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">length</span> = length;\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(<span class=\"hljs-variable language_\">this</span>, {\n            <span class=\"hljs-title function_\">set</span>(<span class=\"hljs-params\">trapTarget, key, value</span>) {\n                <span class=\"hljs-keyword\">let</span> currentLength = <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">get</span>(trapTarget, <span class=\"hljs-string\">&quot;length&quot;</span>);\n                <span class=\"hljs-comment\">// &#x7279;&#x6b8a;&#x60c5;&#x51b5;</span>\n                <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isArrayIndex</span>(key)) {\n                    <span class=\"hljs-keyword\">let</span> numericKey = <span class=\"hljs-title class_\">Number</span>(key);\n                    <span class=\"hljs-keyword\">if</span> (numericKey &gt;= currentLength) {\n                        <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">set</span>(trapTarget, <span class=\"hljs-string\">&quot;length&quot;</span>, numericKey + <span class=\"hljs-number\">1</span>);\n                    }\n                } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (key === <span class=\"hljs-string\">&quot;length&quot;</span>) {\n                    <span class=\"hljs-keyword\">if</span> (value &lt; currentLength) {\n                        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> index = currentLength - <span class=\"hljs-number\">1</span>; index &gt;= value; index--) {\n                            <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">deleteProperty</span>(trapTarget, index);\n                        }\n                    }\n                }\n                <span class=\"hljs-comment\">// &#x65e0;&#x8bba;&#x952e;&#x7684;&#x7c7b;&#x578b;&#x662f;&#x4ec0;&#x4e48;&#xff0c;&#x90fd;&#x8981;&#x6267;&#x884c;&#x8fd9;&#x884c;&#x4ee3;&#x7801;</span>\n                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">set</span>(trapTarget, key, value);\n            }\n        });\n    }\n}\n<span class=\"hljs-keyword\">let</span> colors = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">MyArray</span>(<span class=\"hljs-number\">3</span>);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">MyArray</span>); <span class=\"hljs-comment\">// true</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors.<span class=\"hljs-property\">length</span>); <span class=\"hljs-comment\">// 3</span>\ncolors[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-string\">&quot;red&quot;</span>;\ncolors[<span class=\"hljs-number\">1</span>] = <span class=\"hljs-string\">&quot;green&quot;</span>;\ncolors[<span class=\"hljs-number\">2</span>] = <span class=\"hljs-string\">&quot;blue&quot;</span>;\ncolors[<span class=\"hljs-number\">3</span>] = <span class=\"hljs-string\">&quot;black&quot;</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors.<span class=\"hljs-property\">length</span>); <span class=\"hljs-comment\">// 4</span>\ncolors.<span class=\"hljs-property\">length</span> = <span class=\"hljs-number\">2</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors.<span class=\"hljs-property\">length</span>); <span class=\"hljs-comment\">// 2</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors[<span class=\"hljs-number\">3</span>]); <span class=\"hljs-comment\">// undefined</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors[<span class=\"hljs-number\">2</span>]); <span class=\"hljs-comment\">// undefined</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors[<span class=\"hljs-number\">1</span>]); <span class=\"hljs-comment\">// &quot;green&quot;</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(colors[<span class=\"hljs-number\">0</span>]); <span class=\"hljs-comment\">// &quot;red&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1107,1155"}},{"content":"<pre data-lines=\"1158,1161\"><code>&#x3000;&#x3000;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x521b;&#x5efa;&#x4e86;&#x4e00;&#x4e2a;MyArray&#x7c7b;&#xff0c;&#x4ece;&#x5b83;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x4ee3;&#x7406;&#x3002;length&#x5c5e;&#x6027;&#x88ab;&#x6dfb;&#x52a0;&#x5230;&#x6784;&#x9020;&#x51fd;&#x6570;&#x4e2d;&#xff0c;&#x521d;&#x59cb;&#x5316;&#x4e3a;&#x4f20;&#x5165;&#x7684;&#x503c;&#x6216;&#x9ed8;&#x8ba4;&#x503c;0&#xff0c;&#x7136;&#x540e;&#x521b;&#x5efa;&#x4ee3;&#x7406;&#x5e76;&#x8fd4;&#x56de;&#x3002;colors&#x53d8;&#x91cf;&#x770b;&#x8d77;&#x6765;&#x597d;&#x50cf;&#x53ea;&#x662f;MyArray&#x7684;&#x4e00;&#x4e2a;&#x5b9e;&#x4f8b;&#xff0c;&#x5e76;&#x5b9e;&#x73b0;&#x4e86;&#x6570;&#x7ec4;&#x7684;&#x4e24;&#x4e2a;&#x5173;&#x952e;&#x7279;&#x6027;\n\n&#x3000;&#x3000;&#x867d;&#x7136;&#x4ece;&#x7c7b;&#x6784;&#x9020;&#x51fd;&#x6570;&#x8fd4;&#x56de;&#x4ee3;&#x7406;&#x5f88;&#x5bb9;&#x6613;&#xff0c;&#x4f46;&#x8fd9;&#x4e5f;&#x610f;&#x5473;&#x7740;&#x6bcf;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x5b9e;&#x4f8b;&#x90fd;&#x8981;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x65b0;&#x4ee3;&#x7406;&#x3002;&#x7136;&#x800c;&#xff0c;&#x6709;&#x4e00;&#x79cd;&#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x8ba9;&#x6240;&#x6709;&#x5b9e;&#x4f8b;&#x5171;&#x4eab;&#x4e00;&#x4e2a;&#x4ee3;&#x7406;&#xff1a;&#x5c06;&#x4ee3;&#x7406;&#x7528;&#x4f5c;&#x539f;&#x578b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1158,1161"}}],"payload":{"tag":"h3","lines":"922,923"}},{"content":"&#x5c06;&#x4ee3;&#x7406;&#x7528;&#x4f5c;&#x539f;&#x578b;","children":[{"content":"<pre data-lines=\"1166,1167\"><code>&#x3000;&#x3000;&#x5982;&#x679c;&#x4ee3;&#x7406;&#x662f;&#x539f;&#x578b;&#xff0c;&#x4ec5;&#x5f53;&#x9ed8;&#x8ba4;&#x64cd;&#x4f5c;&#x7ee7;&#x7eed;&#x6267;&#x884c;&#x5230;&#x539f;&#x578b;&#x4e0a;&#x65f6;&#x624d;&#x4f1a;&#x8c03;&#x7528;&#x4ee3;&#x7406;&#x9677;&#x9631;&#xff0c;&#x8fd9;&#x4f1a;&#x9650;&#x5236;&#x4ee3;&#x7406;&#x4f5c;&#x4e3a;&#x539f;&#x578b;&#x7684;&#x80fd;&#x529b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1166,1167"}},{"content":"<pre data-lines=\"1170,1185\"><code data-lines=\"1170,1185\"><span class=\"hljs-keyword\">let</span> target = {};\n<span class=\"hljs-keyword\">let</span> newTarget = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(target, {\n    <span class=\"hljs-comment\">// &#x6c38;&#x8fdc;&#x4e0d;&#x4f1a;&#x88ab;&#x8c03;&#x7528;</span>\n    <span class=\"hljs-title function_\">defineProperty</span>(<span class=\"hljs-params\">trapTarget, name, descriptor</span>) {\n        <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x88ab;&#x8c03;&#x7528;&#x5c31;&#x4f1a;&#x5f15;&#x53d1;&#x9519;&#x8bef;</span>\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;\n    }\n}));\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperty</span>(newTarget, <span class=\"hljs-string\">&quot;name&quot;</span>, {\n    <span class=\"hljs-attr\">value</span>: <span class=\"hljs-string\">&quot;newTarget&quot;</span>\n});\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(newTarget.<span class=\"hljs-property\">name</span>); <span class=\"hljs-comment\">// &quot;newTarget&quot;</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(newTarget.<span class=\"hljs-title function_\">hasOwnProperty</span>(<span class=\"hljs-string\">&quot;name&quot;</span>)); <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1170,1185"}},{"content":"<pre data-lines=\"1188,1199\"><code>&#x3000;&#x3000;&#x521b;&#x5efa;newTarget&#x5bf9;&#x8c61;&#xff0c;&#x5b83;&#x7684;&#x539f;&#x578b;&#x662f;&#x4e00;&#x4e2a;&#x4ee3;&#x7406;&#x3002;&#x7531;&#x4e8e;&#x4ee3;&#x7406;&#x662f;&#x900f;&#x660e;&#x7684;&#xff0c;&#x7528;target&#x4f5c;&#x4e3a;&#x4ee3;&#x7406;&#x7684;&#x76ee;&#x6807;&#x5b9e;&#x9645;&#x4e0a;&#x8ba9;target&#x6210;&#x4e3a;newTarget&#x7684;&#x539f;&#x578b;&#x3002;&#x73b0;&#x5728;&#xff0c;&#x4ec5;&#x5f53;newTarget&#x4e0a;&#x7684;&#x64cd;&#x4f5c;&#x88ab;&#x900f;&#x4f20;&#x7ed9;&#x76ee;&#x6807;&#x65f6;&#x624d;&#x4f1a;&#x8c03;&#x7528;&#x4ee3;&#x7406;&#x9677;&#x9631;\n\n&#x3000;&#x3000;&#x8c03;&#x7528;Object.defineProperty()&#x65b9;&#x6cd5;&#x5e76;&#x4f20;&#x5165;newTarget&#x6765;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x540d;&#x4e3a;name&#x7684;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#x3002;&#x5728;&#x5bf9;&#x8c61;&#x4e0a;&#x5b9a;&#x4e49;&#x5c5e;&#x6027;&#x7684;&#x64cd;&#x4f5c;&#x4e0d;&#x9700;&#x8981;&#x64cd;&#x4f5c;&#x5bf9;&#x8c61;&#x539f;&#x578b;&#xff0c;&#x6240;&#x4ee5;&#x4ee3;&#x7406;&#x4e2d;&#x7684;defineProperty&#x9677;&#x9631;&#x6c38;&#x8fdc;&#x4e0d;&#x4f1a;&#x88ab;&#x8c03;&#x7528;&#xff0c;name&#x4f5c;&#x4e3a;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#x88ab;&#x6dfb;&#x52a0;&#x5230;newTarget&#x4e0a;\n\n&#x3000;&#x3000;&#x5c3d;&#x7ba1;&#x4ee3;&#x7406;&#x4f5c;&#x4e3a;&#x539f;&#x578b;&#x4f7f;&#x7528;&#x65f6;&#x6781;&#x5176;&#x53d7;&#x9650;&#xff0c;&#x4f46;&#x6709;&#x51e0;&#x4e2a;&#x9677;&#x9631;&#x5374;&#x4ecd;&#x7136;&#x6709;&#x7528;\n\n&#x3010;&#x5728;&#x539f;&#x578b;&#x4e0a;&#x4f7f;&#x7528;get&#x9677;&#x9631;&#x3011;\n\n&#x3000;&#x3000;&#x8c03;&#x7528;&#x5185;&#x90e8;&#x65b9;&#x6cd5;[[Get]]&#x8bfb;&#x53d6;&#x5c5e;&#x6027;&#x7684;&#x64cd;&#x4f5c;&#x5148;&#x67e5;&#x627e;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#xff0c;&#x5982;&#x679c;&#x672a;&#x627e;&#x5230;&#x6307;&#x5b9a;&#x540d;&#x79f0;&#x7684;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#xff0c;&#x5219;&#x7ee7;&#x7eed;&#x5230;&#x539f;&#x578b;&#x4e2d;&#x67e5;&#x627e;&#xff0c;&#x76f4;&#x5230;&#x6ca1;&#x6709;&#x66f4;&#x591a;&#x53ef;&#x4ee5;&#x67e5;&#x627e;&#x7684;&#x539f;&#x578b;&#x8fc7;&#x7a0b;&#x7ed3;&#x675f;\n\n&#x3000;&#x3000;&#x5982;&#x679c;&#x8bbe;&#x7f6e;&#x4e00;&#x4e2a;get&#x4ee3;&#x7406;&#x9677;&#x9631;&#xff0c;&#x5219;&#x6bcf;&#x5f53;&#x6307;&#x5b9a;&#x540d;&#x79f0;&#x7684;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#x4e0d;&#x5b58;&#x5728;&#x65f6;&#xff0c;&#x53c8;&#x7531;&#x4e8e;&#x5b58;&#x5728;&#x4ee5;&#x4e0a;&#x8fc7;&#x7a0b;&#xff0c;&#x5f80;&#x5f80;&#x4f1a;&#x8c03;&#x7528;&#x539f;&#x578b;&#x4e0a;&#x7684;&#x9677;&#x9631;&#x3002;&#x5f53;&#x8bbf;&#x95ee;&#x6211;&#x4eec;&#x4e0d;&#x80fd;&#x4fdd;&#x8bc1;&#x5b58;&#x5728;&#x7684;&#x5c5e;&#x6027;&#x65f6;&#xff0c;&#x5219;&#x53ef;&#x4ee5;&#x7528;get&#x9677;&#x9631;&#x6765;&#x9884;&#x9632;&#x610f;&#x5916;&#x7684;&#x884c;&#x4e3a;&#x3002;&#x53ea;&#x9700;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x5728;&#x5c1d;&#x8bd5;&#x8bbf;&#x95ee;&#x4e0d;&#x5b58;&#x5728;&#x7684;&#x5c5e;&#x6027;&#x65f6;&#x629b;&#x51fa;&#x9519;&#x8bef;&#x5373;&#x53ef;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1188,1199"}},{"content":"<pre data-lines=\"1202,1214\"><code data-lines=\"1202,1214\"><span class=\"hljs-keyword\">let</span> target = {};\n<span class=\"hljs-keyword\">let</span> thing = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(target, {\n    <span class=\"hljs-title function_\">get</span>(<span class=\"hljs-params\">trapTarget, key, receiver</span>) {\n        <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ReferenceError</span>(<span class=\"hljs-string\">`<span class=\"hljs-subst\">&#x24;{key}</span> doesn&apos;t exist`</span>);\n    }\n}));\nthing.<span class=\"hljs-property\">name</span> = <span class=\"hljs-string\">&quot;thing&quot;</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(thing.<span class=\"hljs-property\">name</span>); <span class=\"hljs-comment\">// &quot;thing&quot;</span>\n<span class=\"hljs-comment\">// &#x629b;&#x51fa;&#x9519;&#x8bef;</span>\n<span class=\"hljs-keyword\">let</span> <span class=\"hljs-built_in\">unknown</span> = thing.<span class=\"hljs-property\">unknown</span>;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1202,1214"}},{"content":"<pre data-lines=\"1217,1226\"><code>&#x3000;&#x3000;&#x5728;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x7528;&#x4e00;&#x4e2a;&#x4ee3;&#x7406;&#x4f5c;&#x4e3a;&#x539f;&#x578b;&#x521b;&#x5efa;&#x4e86;thing&#x5bf9;&#x8c61;&#xff0c;&#x5f53;&#x8c03;&#x7528;&#x5b83;&#x65f6;&#xff0c;&#x5982;&#x679c;&#x5176;&#x4e0a;&#x4e0d;&#x5b58;&#x5728;&#x7ed9;&#x5b9a;&#x7684;&#x952e;&#xff0c;&#x90a3;&#x4e48;get&#x9677;&#x9631;&#x4f1a;&#x629b;&#x51fa;&#x9519;&#x8bef;&#x3002;&#x7531;&#x4e8e;thing.name&#x5c5e;&#x6027;&#x5b58;&#x5728;&#xff0c;&#x6545;&#x8bfb;&#x53d6;&#x5b83;&#x7684;&#x64cd;&#x4f5c;&#x4e0d;&#x4f1a;&#x8c03;&#x7528;&#x539f;&#x578b;&#x4e0a;&#x7684;get&#x9677;&#x9631;&#xff0c;&#x53ea;&#x6709;&#x5f53;&#x8bbf;&#x95ee;&#x4e0d;&#x5b58;&#x5728;&#x7684;thing.unknown&#x5c5e;&#x6027;&#x65f6;&#x624d;&#x4f1a;&#x8c03;&#x7528;\n\n&#x3000;&#x3000;&#x5f53;&#x6267;&#x884c;&#x6700;&#x540e;&#x4e00;&#x884c;&#x65f6;&#xff0c;&#x7531;&#x4e8e;unknown&#x4e0d;&#x662f;thing&#x7684;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#xff0c;&#x56e0;&#x6b64;&#x8be5;&#x64cd;&#x4f5c;&#x7ee7;&#x7eed;&#x5728;&#x539f;&#x578b;&#x4e0a;&#x67e5;&#x627e;&#xff0c;&#x4e4b;&#x540e;get&#x9677;&#x9631;&#x4f1a;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#x3002;&#x5728;JS&#x4e2d;&#xff0c;&#x8bbf;&#x95ee;&#x672a;&#x77e5;&#x5c5e;&#x6027;&#x901a;&#x5e38;&#x4f1a;&#x9759;&#x9ed8;&#x8fd4;&#x56de;undefined&#xff0c;&#x8fd9;&#x79cd;&#x629b;&#x51fa;&#x9519;&#x8bef;&#x7684;&#x7279;&#x6027;(&#x5176;&#x4ed6;&#x8bed;&#x8a00;&#x4e2d;&#x7684;&#x505a;&#x6cd5;)&#x975e;&#x5e38;&#x6709;&#x7528;\n\n&#x3000;&#x3000;&#x8981;&#x660e;&#x767d;&#xff0c;&#x5728;&#x8fd9;&#x4e2a;&#x793a;&#x4f8b;&#x4e2d;&#xff0c;&#x7406;&#x89e3;trapTarget&#x548c;receiver&#x662f;&#x4e0d;&#x540c;&#x7684;&#x5bf9;&#x8c61;&#x5f88;&#x91cd;&#x8981;&#x3002;&#x5f53;&#x4ee3;&#x7406;&#x88ab;&#x7528;&#x4f5c;&#x539f;&#x578b;&#x65f6;&#xff0c;trapTarget&#x662f;&#x539f;&#x578b;&#x5bf9;&#x8c61;&#xff0c;receiver&#x662f;&#x5b9e;&#x4f8b;&#x5bf9;&#x8c61;&#x3002;&#x5728;&#x8fd9;&#x79cd;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;trapTarget&#x4e0e;target&#x76f8;&#x7b49;&#xff0c;receiver&#x4e0e;thing&#x76f8;&#x7b49;&#xff0c;&#x6240;&#x4ee5;&#x53ef;&#x4ee5;&#x8bbf;&#x95ee;&#x4ee3;&#x7406;&#x7684;&#x539f;&#x59cb;&#x76ee;&#x6807;&#x548c;&#x8981;&#x64cd;&#x4f5c;&#x7684;&#x76ee;&#x6807;\n\n&#x3010;&#x5728;&#x539f;&#x578b;&#x4e0a;&#x4f7f;&#x7528;set&#x9677;&#x9631;&#x3011;\n\n&#x3000;&#x3000;&#x5185;&#x90e8;&#x65b9;&#x6cd5;[[Set]]&#x540c;&#x6837;&#x4f1a;&#x68c0;&#x67e5;&#x76ee;&#x6807;&#x5bf9;&#x8c61;&#x4e2d;&#x662f;&#x5426;&#x542b;&#x6709;&#x67d0;&#x4e2a;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#xff0c;&#x5982;&#x679c;&#x4e0d;&#x5b58;&#x5728;&#x5219;&#x7ee7;&#x7eed;&#x67e5;&#x627e;&#x539f;&#x578b;&#x3002;&#x5f53;&#x7ed9;&#x5bf9;&#x8c61;&#x5c5e;&#x6027;&#x8d4b;&#x503c;&#x65f6;&#xff0c;&#x5982;&#x679c;&#x5b58;&#x5728;&#x540c;&#x540d;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#x5219;&#x8d4b;&#x503c;&#x7ed9;&#x5b83;&#xff1b;&#x5982;&#x679c;&#x4e0d;&#x5b58;&#x5728;&#x7ed9;&#x5b9a;&#x540d;&#x79f0;&#xff0c;&#x5219;&#x7ee7;&#x7eed;&#x5728;&#x539f;&#x578b;&#x4e0a;&#x67e5;&#x627e;&#x3002;&#x6700;&#x68d8;&#x624b;&#x7684;&#x662f;&#xff0c;&#x65e0;&#x8bba;&#x539f;&#x578b;&#x4e0a;&#x662f;&#x5426;&#x5b58;&#x5728;&#x540c;&#x540d;&#x5c5e;&#x6027;&#xff0c;&#x7ed9;&#x8be5;&#x5c5e;&#x6027;&#x8d4b;&#x503c;&#x65f6;&#x90fd;&#x5c06;&#x9ed8;&#x8ba4;&#x5728;&#x5b9e;&#x4f8b;(&#x4e0d;&#x662f;&#x539f;&#x578b;)&#x4e2d;&#x521b;&#x5efa;&#x8be5;&#x5c5e;&#x6027;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1217,1226"}},{"content":"<pre data-lines=\"1229,1245\"><code data-lines=\"1229,1245\">let target = {};\nlet thing = <span class=\"hljs-keyword\">Object</span>.<span class=\"hljs-keyword\">create</span>(<span class=\"hljs-built_in\">new</span> Proxy(target, {\n    <span class=\"hljs-keyword\">set</span>(trapTarget, key, <span class=\"hljs-keyword\">value</span>, receiver) {\n        <span class=\"hljs-keyword\">return</span> Reflect.<span class=\"hljs-keyword\">set</span>(trapTarget, key, <span class=\"hljs-keyword\">value</span>, receiver);\n    }\n}));\nconsole.log(thing.hasOwnProperty(&quot;name&quot;)); // <span class=\"hljs-keyword\">false</span>\n// &#x89e6;&#x53d1;&#x4e86; `<span class=\"hljs-keyword\">set</span>` &#x4ee3;&#x7406;&#x9677;&#x9631;\nthing.name = &quot;thing&quot;;\nconsole.log(thing.name); // &quot;thing&quot;\nconsole.log(thing.hasOwnProperty(&quot;name&quot;)); // <span class=\"hljs-keyword\">true</span>\n// &#x6ca1;&#x6709;&#x89e6;&#x53d1; `<span class=\"hljs-keyword\">set</span>` &#x4ee3;&#x7406;&#x9677;&#x9631;\nthing.name = &quot;boo&quot;;\nconsole.log(thing.name); // &quot;boo&quot;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1229,1245"}},{"content":"<pre data-lines=\"1248,1257\"><code>&#x3000;&#x3000;&#x5728;&#x8fd9;&#x4e2a;&#x793a;&#x4f8b;&#x4e2d;&#xff0c;target&#x4e00;&#x5f00;&#x59cb;&#x6ca1;&#x6709;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#xff0c;&#x5bf9;&#x8c61;thing&#x7684;&#x539f;&#x578b;&#x662f;&#x4e00;&#x4e2a;&#x4ee3;&#x7406;&#xff0c;&#x5176;&#x5b9a;&#x4e49;&#x4e86;&#x4e00;&#x4e2a;set&#x9677;&#x9631;&#x6765;&#x6355;&#x83b7;&#x4efb;&#x4f55;&#x65b0;&#x5c5e;&#x6027;&#x7684;&#x521b;&#x5efa;&#x3002;&#x5f53;thing.name&#x88ab;&#x8d4b;&#x503c;&#x4e3a;&quot;thing&quot;&#x65f6;&#xff0c;&#x7531;&#x4e8e;name&#x4e0d;&#x662f;thing&#x7684;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#xff0c;&#x6545;set&#x4ee3;&#x7406;&#x9677;&#x9631;&#x4f1a;&#x88ab;&#x8c03;&#x7528;&#x3002;&#x5728;&#x9677;&#x9631;&#x4e2d;&#xff0c;trapTarget&#x7b49;&#x4e8e;target&#xff0c;receiver&#x7b49;&#x4e8e;thing&#x3002;&#x6700;&#x7ec8;&#x8be5;&#x64cd;&#x4f5c;&#x4f1a;&#x5728;thing&#x4e0a;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x65b0;&#x5c5e;&#x6027;&#xff0c;&#x5f88;&#x5e78;&#x8fd0;&#xff0c;&#x5982;&#x679c;&#x4f20;&#x5165;receiver&#x4f5c;&#x4e3a;&#x7b2c;4&#x4e2a;&#x53c2;&#x6570;&#xff0c;Reflect.set()&#x5c31;&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#x8fd9;&#x4e2a;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;\n\n&#x3000;&#x3000;&#x4e00;&#x65e6;&#x5728;thing&#x4e0a;&#x521b;&#x5efa;&#x4e86;name&#x5c5e;&#x6027;&#xff0c;&#x90a3;&#x4e48;&#x5728;thing.name&#x88ab;&#x8bbe;&#x7f6e;&#x4e3a;&#x5176;&#x4ed6;&#x503c;&#x65f6;&#x4e0d;&#x518d;&#x8c03;&#x7528;set&#x4ee3;&#x7406;&#x9677;&#x9631;&#xff0c;&#x6b64;&#x65f6;name&#x662f;&#x4e00;&#x4e2a;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#xff0c;&#x6240;&#x4ee5;[[Set]&#x64cd;&#x4f5c;&#x4e0d;&#x4f1a;&#x7ee7;&#x7eed;&#x5728;&#x539f;&#x578b;&#x4e0a;&#x67e5;&#x627e;\n\n&#x3010;&#x5728;&#x539f;&#x578b;&#x4e0a;&#x4f7f;&#x7528;has&#x9677;&#x9631;&#x3011;\n\n&#x3000;&#x3000;&#x56de;&#x60f3;&#x4e00;&#x4e0b;has&#x9677;&#x9631;&#xff0c;&#x5b83;&#x53ef;&#x4ee5;&#x62e6;&#x622a;&#x5bf9;&#x8c61;&#x4e2d;&#x7684;in&#x64cd;&#x4f5c;&#x7b26;&#x3002;in&#x64cd;&#x4f5c;&#x7b26;&#x5148;&#x6839;&#x636e;&#x7ed9;&#x5b9a;&#x540d;&#x79f0;&#x641c;&#x7d22;&#x5bf9;&#x8c61;&#x7684;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#xff0c;&#x5982;&#x679c;&#x4e0d;&#x5b58;&#x5728;&#xff0c;&#x5219;&#x6cbf;&#x7740;&#x539f;&#x578b;&#x94fe;&#x4f9d;&#x6b21;&#x641c;&#x7d22;&#x540e;&#x7eed;&#x5bf9;&#x8c61;&#x7684;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#xff0c;&#x76f4;&#x5230;&#x627e;&#x5230;&#x7ed9;&#x5b9a;&#x7684;&#x540d;&#x79f0;&#x6216;&#x65e0;&#x66f4;&#x591a;&#x539f;&#x578b;&#x4e3a;&#x6b62;\n\n&#x3000;&#x3000;&#x56e0;&#x6b64;&#xff0c;&#x53ea;&#x6709;&#x5728;&#x641c;&#x7d22;&#x539f;&#x578b;&#x94fe;&#x4e0a;&#x7684;&#x4ee3;&#x7406;&#x5bf9;&#x8c61;&#x65f6;&#x624d;&#x4f1a;&#x8c03;&#x7528;has&#x9677;&#x9631;&#xff0c;&#x800c;&#x7528;&#x4ee3;&#x7406;&#x4f5c;&#x4e3a;&#x539f;&#x578b;&#x65f6;&#xff0c;&#x53ea;&#x6709;&#x5f53;&#x6307;&#x5b9a;&#x540d;&#x79f0;&#x6ca1;&#x6709;&#x5bf9;&#x5e94;&#x7684;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#x65f6;&#x624d;&#x4f1a;&#x8c03;&#x7528;has&#x9677;&#x9631;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1248,1257"}},{"content":"<pre data-lines=\"1260,1273\"><code data-lines=\"1260,1273\"><span class=\"hljs-keyword\">let</span> target = {};\n<span class=\"hljs-keyword\">let</span> thing = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(target, {\n    <span class=\"hljs-title function_\">has</span>(<span class=\"hljs-params\">trapTarget, key</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">has</span>(trapTarget, key);\n    }\n}));\n<span class=\"hljs-comment\">// &#x89e6;&#x53d1;&#x4e86; `has` &#x4ee3;&#x7406;&#x9677;&#x9631;</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;name&quot;</span> <span class=\"hljs-keyword\">in</span> thing); <span class=\"hljs-comment\">// false</span>\nthing.<span class=\"hljs-property\">name</span> = <span class=\"hljs-string\">&quot;thing&quot;</span>;\n<span class=\"hljs-comment\">// &#x6ca1;&#x6709;&#x89e6;&#x53d1; `has` &#x4ee3;&#x7406;&#x9677;&#x9631;</span>\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;name&quot;</span> <span class=\"hljs-keyword\">in</span> thing); <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1260,1273"}},{"content":"<pre data-lines=\"1276,1281\"><code>&#x3000;&#x3000;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x5728;thing&#x7684;&#x539f;&#x578b;&#x4e0a;&#x521b;&#x5efa;&#x4e86;&#x4e00;&#x4e2a;has&#x4ee3;&#x7406;&#x9677;&#x9631;&#xff0c;&#x7531;&#x4e8e;&#x4f7f;&#x7528;in&#x64cd;&#x4f5c;&#x7b26;&#x65f6;&#x4f1a;&#x81ea;&#x52a8;&#x641c;&#x7d22;&#x539f;&#x578b;&#xff0c;&#x56e0;&#x6b64;&#x8fd9;&#x4e2a;has&#x9677;&#x9631;&#x4e0d;&#x50cf;get&#x9677;&#x9631;&#x548c;set&#x9677;&#x9631;&#x4e00;&#x6837;&#x518d;&#x4f20;&#x9012;&#x4e00;&#x4e2a;receiver&#x5bf9;&#x8c61;&#xff0c;&#x5b83;&#x53ea;&#x64cd;&#x4f5c;&#x4e0e;target&#x76f8;&#x7b49;&#x7684;trapTarget&#x3002;&#x5728;&#x6b64;&#x793a;&#x4f8b;&#x4e2d;&#xff0c;&#x7b2c;&#x4e00;&#x6b21;&#x4f7f;&#x7528;in&#x64cd;&#x4f5c;&#x7b26;&#x65f6;&#x4f1a;&#x8c03;&#x7528;has&#x9677;&#x9631;&#xff0c;&#x56e0;&#x4e3a;&#x5c5e;&#x6027;name&#x4e0d;&#x662f;thing&#x7684;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#xff1b;&#x800c;&#x7ed9;thing.name&#x8d4b;&#x503c;&#x65f6;&#x4f1a;&#x518d;&#x6b21;&#x4f7f;&#x7528;in&#x64cd;&#x4f5c;&#x7b26;&#xff0c;&#x8fd9;&#x4e00;&#x6b21;&#x4e0d;&#x4f1a;&#x8c03;&#x7528;has&#x9677;&#x9631;&#xff0c;&#x56e0;&#x4e3a;name&#x5df2;&#x7ecf;&#x662f;thing&#x7684;&#x81ea;&#x6709;&#x5c5e;&#x6027;&#x4e86;&#xff0c;&#x6545;&#x4e0d;&#x4f1a;&#x7ee7;&#x7eed;&#x5728;&#x539f;&#x578b;&#x4e2d;&#x67e5;&#x627e;\n\n&#x3010;&#x5c06;&#x4ee3;&#x7406;&#x7528;&#x4f5c;&#x7c7b;&#x7684;&#x539f;&#x578b;&#x3011;\n\n&#x3000;&#x3000;&#x7531;&#x4e8e;&#x7c7b;&#x7684;prototype&#x5c5e;&#x6027;&#x662f;&#x4e0d;&#x53ef;&#x5199;&#x7684;&#xff0c;&#x56e0;&#x6b64;&#x4e0d;&#x80fd;&#x76f4;&#x63a5;&#x4fee;&#x6539;&#x7c7b;&#x6765;&#x4f7f;&#x7528;&#x4ee3;&#x7406;&#x4f5c;&#x4e3a;&#x7c7b;&#x7684;&#x539f;&#x578b;&#x3002;&#x7136;&#x800c;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x7ee7;&#x627f;&#x7684;&#x65b9;&#x6cd5;&#x6765;&#x8ba9;&#x7c7b;&#x8bef;&#x4ee5;&#x4e3a;&#x81ea;&#x5df1;&#x53ef;&#x4ee5;&#x5c06;&#x4ee3;&#x7406;&#x7528;&#x4f5c;&#x81ea;&#x5df1;&#x7684;&#x539f;&#x578b;&#x3002;&#x9996;&#x5148;&#xff0c;&#x9700;&#x8981;&#x7528;&#x6784;&#x9020;&#x51fd;&#x6570;&#x521b;&#x5efa;&#x4e00;&#x4e2a;ES5&#x98ce;&#x683c;&#x7684;&#x7c7b;&#x578b;&#x5b9a;&#x4e49;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1276,1281"}},{"content":"<pre data-lines=\"1284,1297\"><code data-lines=\"1284,1297\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">NoSuchProperty</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-comment\">// empty</span>\n}\n<span class=\"hljs-title class_\">NoSuchProperty</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>({}, {\n    <span class=\"hljs-title function_\">get</span>(<span class=\"hljs-params\">trapTarget, key, receiver</span>) {\n        <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ReferenceError</span>(<span class=\"hljs-string\">`<span class=\"hljs-subst\">&#x24;{key}</span> doesn&apos;t exist`</span>);\n    }\n});\n<span class=\"hljs-keyword\">let</span> thing = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">NoSuchProperty</span>();\n<span class=\"hljs-comment\">// &#x7531;&#x4e8e; `get` &#x4ee3;&#x7406;&#x9677;&#x9631;&#x800c;&#x629b;&#x51fa;&#x4e86;&#x9519;&#x8bef;</span>\n<span class=\"hljs-keyword\">let</span> result = thing.<span class=\"hljs-property\">name</span>;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1284,1297"}},{"content":"<pre data-lines=\"1300,1303\"><code>&#x3000;&#x3000;NoSuchProperty&#x8868;&#x793a;&#x7c7b;&#x5c06;&#x7ee7;&#x627f;&#x7684;&#x57fa;&#x7c7b;&#xff0c;&#x51fd;&#x6570;&#x7684;prototype&#x5c5e;&#x6027;&#x6ca1;&#x6709;&#x9650;&#x5236;&#xff0c;&#x4e8e;&#x662f;&#x53ef;&#x4ee5;&#x7528;&#x4ee3;&#x7406;&#x5c06;&#x5b83;&#x91cd;&#x5199;&#x3002;&#x5f53;&#x5c5e;&#x6027;&#x4e0d;&#x5b58;&#x5728;&#x65f6;&#x4f1a;&#x901a;&#x8fc7;get&#x9677;&#x9631;&#x6765;&#x629b;&#x51fa;&#x9519;&#x8bef;&#xff0c;thing&#x5bf9;&#x8c61;&#x4f5c;&#x4e3a;NoSuchProperty&#x7684;&#x5b9e;&#x4f8b;&#x88ab;&#x521b;&#x5efa;&#xff0c;&#x88ab;&#x8bbf;&#x95ee;&#x7684;&#x5c5e;&#x6027;name&#x4e0d;&#x5b58;&#x5728;&#x4e8e;&#x662f;&#x629b;&#x51fa;&#x9519;&#x8bef;\n\n&#x3000;&#x3000;&#x4e0b;&#x4e00;&#x6b65;&#x662f;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x4ece;NoSuchProperty&#x7ee7;&#x627f;&#x7684;&#x7c7b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1300,1303"}},{"content":"<pre data-lines=\"1306,1328\"><code data-lines=\"1306,1328\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">NoSuchProperty</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-comment\">// empty</span>\n}\n<span class=\"hljs-title class_\">NoSuchProperty</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>({}, {\n    <span class=\"hljs-title function_\">get</span>(<span class=\"hljs-params\">trapTarget, key, receiver</span>) {\n        <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ReferenceError</span>(<span class=\"hljs-string\">`<span class=\"hljs-subst\">&#x24;{key}</span> doesn&apos;t exist`</span>);\n    }\n});\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Square</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">NoSuchProperty</span> {\n    <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\">length, width</span>) {\n        <span class=\"hljs-variable language_\">super</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">length</span> = length;\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">width</span> = width;\n    }\n}\n<span class=\"hljs-keyword\">let</span> shape = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Square</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">6</span>);\n<span class=\"hljs-keyword\">let</span> area1 = shape.<span class=\"hljs-property\">length</span> * shape.<span class=\"hljs-property\">width</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(area1); <span class=\"hljs-comment\">// 12</span>\n<span class=\"hljs-comment\">// &#x7531;&#x4e8e; &quot;wdth&quot; &#x4e0d;&#x5b58;&#x5728;&#x800c;&#x629b;&#x51fa;&#x4e86;&#x9519;&#x8bef;</span>\n<span class=\"hljs-keyword\">let</span> area2 = shape.<span class=\"hljs-property\">length</span> * shape.<span class=\"hljs-property\">wdth</span>;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1306,1328"}},{"content":"<pre data-lines=\"1331,1332\"><code>&#x3000;&#x3000;Square&#x7c7b;&#x7ee7;&#x627f;&#x81ea;NoSuchProperty&#xff0c;&#x6240;&#x4ee5;&#x5b83;&#x7684;&#x539f;&#x578b;&#x94fe;&#x4e2d;&#x5305;&#x542b;&#x4ee3;&#x7406;&#x3002;&#x4e4b;&#x540e;&#x521b;&#x5efa;&#x7684;shape&#x5bf9;&#x8c61;&#x662f;Square&#x7684;&#x65b0;&#x5b9e;&#x4f8b;&#xff0c;&#x5b83;&#x6709;&#x4e24;&#x4e2a;&#x81ea;&#x6709;&#x5c5e;&#x6027;length&#x548c;width&#x3002;&#x8bfb;&#x53d6;&#x8fd9;&#x4e24;&#x4e2a;&#x5c5e;&#x6027;&#x7684;&#x503c;&#x65f6;&#x4e0d;&#x4f1a;&#x8c03;&#x7528;get&#x4ee3;&#x7406;&#x9677;&#x9631;&#xff0c;&#x53ea;&#x6709;&#x5f53;&#x8bbf;&#x95ee;shape&#x5bf9;&#x8c61;&#x4e0a;&#x4e0d;&#x5b58;&#x5728;&#x7684;&#x5c5e;&#x6027;&#x65f6;(&#x4f8b;&#x5982;shape.wdth&#xff0c;&#x5f88;&#x660e;&#x663e;&#x8fd9;&#x662f;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#x62fc;&#x5199;)&#x624d;&#x4f1a;&#x89e6;&#x53d1;get&#x4ee3;&#x7406;&#x9677;&#x9631;&#x5e76;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#x3002;&#x53e6;&#x4e00;&#x65b9;&#x9762;&#x8fd9;&#x4e5f;&#x8bf4;&#x660e;&#x4ee3;&#x7406;&#x786e;&#x5b9e;&#x5728;shape&#x5bf9;&#x8c61;&#x7684;&#x539f;&#x578b;&#x94fe;&#x4e2d;&#x3002;&#x4f46;&#x662f;&#x6709;&#x4e00;&#x70b9;&#x4e0d;&#x592a;&#x660e;&#x663e;&#x7684;&#x662f;&#xff0c;&#x4ee3;&#x7406;&#x4e0d;&#x662f;shape&#x5bf9;&#x8c61;&#x7684;&#x76f4;&#x63a5;&#x539f;&#x578b;&#xff0c;&#x5b9e;&#x9645;&#x4e0a;&#x5b83;&#x4f4d;&#x4e8e;shape&#x5bf9;&#x8c61;&#x7684;&#x539f;&#x578b;&#x94fe;&#x4e2d;&#xff0c;&#x9700;&#x8981;&#x51e0;&#x4e2a;&#x6b65;&#x9aa4;&#x624d;&#x80fd;&#x5230;&#x8fbe;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1331,1332"}},{"content":"<pre data-lines=\"1335,1359\"><code data-lines=\"1335,1359\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">NoSuchProperty</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-comment\">// empty</span>\n}\n<span class=\"hljs-comment\">// &#x5bf9;&#x4e8e;&#x5c06;&#x8981;&#x7528;&#x4f5c;&#x539f;&#x578b;&#x7684;&#x4ee3;&#x7406;&#xff0c;&#x5b58;&#x50a8;&#x5bf9;&#x5176;&#x7684;&#x4e00;&#x4e2a;&#x5f15;&#x7528;</span>\n<span class=\"hljs-keyword\">let</span> proxy = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>({}, {\n    <span class=\"hljs-title function_\">get</span>(<span class=\"hljs-params\">trapTarget, key, receiver</span>) {\n        <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ReferenceError</span>(<span class=\"hljs-string\">`<span class=\"hljs-subst\">&#x24;{key}</span> doesn&apos;t exist`</span>);\n    }\n});\n<span class=\"hljs-title class_\">NoSuchProperty</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span> = proxy;\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Square</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">NoSuchProperty</span> {\n    <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\">length, width</span>) {\n        <span class=\"hljs-variable language_\">super</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">length</span> = length;\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">width</span> = width;\n    }\n}\n<span class=\"hljs-keyword\">let</span> shape = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Square</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">6</span>);\n<span class=\"hljs-keyword\">let</span> shapeProto = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">getPrototypeOf</span>(shape);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(shapeProto === proxy); <span class=\"hljs-comment\">// false</span>\n<span class=\"hljs-keyword\">let</span> secondLevelProto = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">getPrototypeOf</span>(shapeProto);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(secondLevelProto === proxy); <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1335,1359"}},{"content":"<pre data-lines=\"1362,1365\"><code>&#x3000;&#x3000;&#x5728;&#x8fd9;&#x4e00;&#x7248;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x4e3a;&#x4e86;&#x4fbf;&#x4e8e;&#x540e;&#x7eed;&#x8bc6;&#x522b;&#xff0c;&#x4ee3;&#x7406;&#x88ab;&#x5b58;&#x50a8;&#x5728;&#x53d8;&#x91cf;proxy&#x4e2d;&#x3002;shape&#x7684;&#x539f;&#x578b;Shape.prototype&#x4e0d;&#x662f;&#x4e00;&#x4e2a;&#x4ee3;&#x7406;&#xff0c;&#x4f46;&#x662f;shape.prototype&#x7684;&#x539f;&#x578b;&#x662f;&#x7ee7;&#x627f;&#x81ea;NoSuchProperty&#x7684;&#x4ee3;&#x7406;\n\n&#x3000;&#x3000;&#x901a;&#x8fc7;&#x7ee7;&#x627f;&#x5728;&#x539f;&#x578b;&#x94fe;&#x4e2d;&#x989d;&#x5916;&#x589e;&#x52a0;&#x53e6;&#x4e00;&#x4e2a;&#x6b65;&#x9aa4;&#x975e;&#x5e38;&#x91cd;&#x8981;&#xff0c;&#x56e0;&#x4e3a;&#x9700;&#x8981;&#x7ecf;&#x8fc7;&#x989d;&#x5916;&#x7684;&#x4e00;&#x6b65;&#x624d;&#x80fd;&#x89e6;&#x53d1;&#x4ee3;&#x7406;&#x4e2d;&#x7684;get&#x9677;&#x9631;&#x3002;&#x5982;&#x679c;Shape.prototype&#x6709;&#x4e00;&#x4e2a;&#x5c5e;&#x6027;&#xff0c;&#x5c06;&#x4f1a;&#x963b;&#x6b62;get&#x4ee3;&#x7406;&#x9677;&#x9631;&#x88ab;&#x8c03;&#x7528;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1362,1365"}},{"content":"<pre data-lines=\"1368,1395\"><code data-lines=\"1368,1395\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">NoSuchProperty</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-comment\">// empty</span>\n}\n<span class=\"hljs-title class_\">NoSuchProperty</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>({}, {\n    <span class=\"hljs-title function_\">get</span>(<span class=\"hljs-params\">trapTarget, key, receiver</span>) {\n        <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ReferenceError</span>(<span class=\"hljs-string\">`<span class=\"hljs-subst\">&#x24;{key}</span> doesn&apos;t exist`</span>);\n    }\n});\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Square</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_ inherited__\">NoSuchProperty</span> {\n    <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\">length, width</span>) {\n        <span class=\"hljs-variable language_\">super</span>();\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">length</span> = length;\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">width</span> = width;\n    }\n    <span class=\"hljs-title function_\">getArea</span>(<span class=\"hljs-params\"></span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">length</span> * <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">width</span>;\n    }\n}\n<span class=\"hljs-keyword\">let</span> shape = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Square</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">6</span>);\n<span class=\"hljs-keyword\">let</span> area1 = shape.<span class=\"hljs-property\">length</span> * shape.<span class=\"hljs-property\">width</span>;\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(area1); <span class=\"hljs-comment\">// 12</span>\n<span class=\"hljs-keyword\">let</span> area2 = shape.<span class=\"hljs-title function_\">getArea</span>();\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(area2); <span class=\"hljs-comment\">// 12</span>\n<span class=\"hljs-comment\">// &#x7531;&#x4e8e; &quot;wdth&quot; &#x4e0d;&#x5b58;&#x5728;&#x800c;&#x629b;&#x51fa;&#x4e86;&#x9519;&#x8bef;</span>\n<span class=\"hljs-keyword\">let</span> area3 = shape.<span class=\"hljs-property\">length</span> * shape.<span class=\"hljs-property\">wdth</span>;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1368,1395"}},{"content":"<pre data-lines=\"1398,1399\"><code>&#x3000;&#x3000;&#x5728;&#x8fd9;&#x91cc;&#xff0c;Square&#x7c7b;&#x6709;&#x4e00;&#x4e2a;getArea()&#x65b9;&#x6cd5;&#xff0c;&#x8fd9;&#x4e2a;&#x65b9;&#x6cd5;&#x88ab;&#x81ea;&#x52a8;&#x5730;&#x6dfb;&#x52a0;&#x5230;Square.prototype&#xff0c;&#x6240;&#x4ee5;&#x5f53;&#x8c03;&#x7528;shape.getArea()&#x65f6;&#xff0c;&#x4f1a;&#x5148;&#x5728;shape&#x5b9e;&#x4f8b;&#x641c;&#x7d22;getArea()&#x65b9;&#x6cd5;&#x7136;&#x540e;&#x518d;&#x7ee7;&#x7eed;&#x5728;&#x5b83;&#x7684;&#x539f;&#x578b;&#x4e2d;&#x641c;&#x7d22;&#x3002;&#x7531;&#x4e8e;getArea()&#x662f;&#x5728;&#x539f;&#x578b;&#x4e2d;&#x627e;&#x5230;&#x7684;&#xff0c;&#x641c;&#x7d22;&#x7ed3;&#x675f;&#xff0c;&#x4ee3;&#x7406;&#x6ca1;&#x6709;&#x88ab;&#x8c03;&#x7528;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1398,1399"}}],"payload":{"tag":"h3","lines":"1164,1165"}}],"payload":{"tag":"h2","lines":"2,3"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
