<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Express&#x6846;&#x67b6;","children":[{"content":"&#x8ba4;&#x8bc6;","children":[{"content":"<pre data-lines=\"3,35\"><code data-lines=\"3,35\">&#x76ee;&#x5f55;\n&#x6982;&#x8ff0;\n&#x8fd0;&#x884c;&#x539f;&#x7406;\n    &#x5e95;&#x5c42;&#xff1a;http&#x6a21;&#x5757;\n    &#x4ec0;&#x4e48;&#x662f;&#x4e2d;&#x95f4;&#x4ef6;\n    use&#x65b9;&#x6cd5;\nExpress&#x7684;&#x65b9;&#x6cd5;\n    <span class=\"hljs-literal\">all</span>&#x65b9;&#x6cd5;&#x548c;HTTP&#x52a8;&#x8bcd;&#x65b9;&#x6cd5;\n    <span class=\"hljs-built_in\">set</span>&#x65b9;&#x6cd5;\n    response&#x5bf9;&#x8c61;\n    requst&#x5bf9;&#x8c61;\n    &#x642d;&#x5efa;HTTPs&#x670d;&#x52a1;&#x5668;\n&#x9879;&#x76ee;&#x5f00;&#x53d1;&#x5b9e;&#x4f8b;\n    &#x7f16;&#x5199;&#x542f;&#x52a8;&#x811a;&#x672c;\n    &#x914d;&#x7f6e;&#x8def;&#x7531;\n    &#x9759;&#x6001;&#x7f51;&#x9875;&#x6a21;&#x677f;\n&#x52a8;&#x6001;&#x7f51;&#x9875;&#x6a21;&#x677f;\n    &#x5b89;&#x88c5;&#x6a21;&#x677f;&#x5f15;&#x64ce;\n    &#x65b0;&#x5efa;&#x6570;&#x636e;&#x811a;&#x672c;\n    &#x65b0;&#x5efa;&#x7f51;&#x9875;&#x6a21;&#x677f;\n    &#x6e32;&#x67d3;&#x6a21;&#x677f;\n    &#x6307;&#x5b9a;&#x9759;&#x6001;&#x6587;&#x4ef6;&#x76ee;&#x5f55;\nExpress.Router&#x7528;&#x6cd5;\n    &#x57fa;&#x672c;&#x7528;&#x6cd5;\n    router.<span class=\"hljs-keyword\">route</span>&#x65b9;&#x6cd5;\n    router&#x4e2d;&#x95f4;&#x4ef6;\n    &#x5bf9;&#x8def;&#x5f84;&#x53c2;&#x6570;&#x7684;&#x5904;&#x7406;\n    app.<span class=\"hljs-keyword\">route</span>\n&#x4e0a;&#x4f20;&#x6587;&#x4ef6;\n&#x53c2;&#x8003;&#x94fe;&#x63a5;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3,35"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"&#x6982;&#x8ff0;","children":[{"content":"<pre data-lines=\"38,41\"><code>Express&#x662f;&#x76ee;&#x524d;&#x6700;&#x6d41;&#x884c;&#x7684;&#x57fa;&#x4e8e;Node.js&#x7684;Web&#x5f00;&#x53d1;&#x6846;&#x67b6;&#xff0c;&#x53ef;&#x4ee5;&#x5feb;&#x901f;&#x5730;&#x642d;&#x5efa;&#x4e00;&#x4e2a;&#x5b8c;&#x6574;&#x529f;&#x80fd;&#x7684;&#x7f51;&#x7ad9;&#x3002;\n\nExpress&#x4e0a;&#x624b;&#x975e;&#x5e38;&#x7b80;&#x5355;&#xff0c;&#x9996;&#x5148;&#x65b0;&#x5efa;&#x4e00;&#x4e2a;&#x9879;&#x76ee;&#x76ee;&#x5f55;&#xff0c;&#x5047;&#x5b9a;&#x53eb;&#x505a;hello-world&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"38,41"}},{"content":"<pre data-lines=\"42,45\"><code class=\"language-bash\">&#x24; <span class=\"hljs-built_in\">mkdir</span> hello-world\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"42,45"}},{"content":"<pre data-lines=\"46,47\"><code>&#x8fdb;&#x5165;&#x8be5;&#x76ee;&#x5f55;&#xff0c;&#x65b0;&#x5efa;&#x4e00;&#x4e2a;package.json&#x6587;&#x4ef6;&#xff0c;&#x5185;&#x5bb9;&#x5982;&#x4e0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"46,47"}},{"content":"<pre data-lines=\"48,59\"><code class=\"language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">&quot;name&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;hello-world&quot;</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">&quot;description&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;hello world test app&quot;</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">&quot;version&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;0.0.1&quot;</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">&quot;private&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\"><span class=\"hljs-keyword\">true</span></span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">&quot;dependencies&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">&quot;express&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;4.x&quot;</span>\n  <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"48,59"}},{"content":"<pre data-lines=\"60,63\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5b9a;&#x4e49;&#x4e86;&#x9879;&#x76ee;&#x7684;&#x540d;&#x79f0;&#x3001;&#x63cf;&#x8ff0;&#x3001;&#x7248;&#x672c;&#x7b49;&#xff0c;&#x5e76;&#x4e14;&#x6307;&#x5b9a;&#x9700;&#x8981;4.0&#x7248;&#x672c;&#x4ee5;&#x4e0a;&#x7684;Express&#x3002;\n\n&#x7136;&#x540e;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x5b89;&#x88c5;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"60,63"}},{"content":"<pre data-lines=\"64,67\"><code class=\"language-bash\">&#x24; npm install\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"64,67"}},{"content":"<pre data-lines=\"68,69\"><code>&#x6267;&#x884c;&#x4e0a;&#x9762;&#x7684;&#x547d;&#x4ee4;&#x4ee5;&#x540e;&#xff0c;&#x5728;&#x9879;&#x76ee;&#x6839;&#x76ee;&#x5f55;&#x4e0b;&#xff0c;&#x65b0;&#x5efa;&#x4e00;&#x4e2a;&#x542f;&#x52a8;&#x6587;&#x4ef6;&#xff0c;&#x5047;&#x5b9a;&#x53eb;&#x505a;index.js&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"68,69"}},{"content":"<pre data-lines=\"70,78\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;express&apos;</span>);\n<span class=\"hljs-keyword\">var</span> app = <span class=\"hljs-title function_\">express</span>();\n\napp.<span class=\"hljs-title function_\">use</span>(express.<span class=\"hljs-title function_\">static</span>(__dirname + <span class=\"hljs-string\">&apos;/public&apos;</span>));\n\napp.<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">8080</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"70,78"}},{"content":"<pre data-lines=\"79,80\"><code>&#x7136;&#x540e;&#xff0c;&#x8fd0;&#x884c;&#x4e0a;&#x9762;&#x7684;&#x542f;&#x52a8;&#x811a;&#x672c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"79,80"}},{"content":"<pre data-lines=\"81,84\"><code class=\"language-bash\">&#x24; node index\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"81,84"}},{"content":"<pre data-lines=\"85,88\"><code>&#x73b0;&#x5728;&#x5c31;&#x53ef;&#x4ee5;&#x8bbf;&#x95ee;http://localhost:8080&#xff0c;&#x5b83;&#x4f1a;&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x4e2d;&#x6253;&#x5f00;&#x5f53;&#x524d;&#x76ee;&#x5f55;&#x7684;public&#x5b50;&#x76ee;&#x5f55;&#xff08;&#x4e25;&#x683c;&#x6765;&#x8bf4;&#xff0c;&#x662f;&#x6253;&#x5f00;public&#x76ee;&#x5f55;&#x7684;index.html&#x6587;&#x4ef6;&#xff09;&#x3002;&#x5982;&#x679c;public&#x76ee;&#x5f55;&#x4e4b;&#x4e2d;&#x6709;&#x4e00;&#x4e2a;&#x56fe;&#x7247;&#x6587;&#x4ef6;my_image.png&#xff0c;&#x90a3;&#x4e48;&#x53ef;&#x4ee5;&#x7528;http://localhost:8080/my_image.png&#x8bbf;&#x95ee;&#x8be5;&#x6587;&#x4ef6;&#x3002;\n\n&#x4f60;&#x4e5f;&#x53ef;&#x4ee5;&#x5728;index.js&#x4e4b;&#x4e2d;&#xff0c;&#x751f;&#x6210;&#x52a8;&#x6001;&#x7f51;&#x9875;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"85,88"}},{"content":"<pre data-lines=\"89,99\"><code class=\"language-js\"><span class=\"hljs-comment\">// index.js</span>\n\n<span class=\"hljs-keyword\">var</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;express&apos;</span>);\n<span class=\"hljs-keyword\">var</span> app = <span class=\"hljs-title function_\">express</span>();\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">req, res</span>) {\n  res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;Hello world!&apos;</span>);\n});\napp.<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">3000</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"89,99"}},{"content":"<pre data-lines=\"100,101\"><code>&#x7136;&#x540e;&#xff0c;&#x5728;&#x547d;&#x4ee4;&#x884c;&#x4e0b;&#x8fd0;&#x884c;&#x542f;&#x52a8;&#x811a;&#x672c;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x4e2d;&#x8bbf;&#x95ee;&#x9879;&#x76ee;&#x7f51;&#x7ad9;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"100,101"}},{"content":"<pre data-lines=\"102,105\"><code class=\"language-js\">&#x24; node index\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"102,105"}},{"content":"<pre data-lines=\"106,109\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4f1a;&#x5728;&#x672c;&#x673a;&#x7684;3000&#x7aef;&#x53e3;&#x542f;&#x52a8;&#x4e00;&#x4e2a;&#x7f51;&#x7ad9;&#xff0c;&#x7f51;&#x9875;&#x663e;&#x793a;Hello World&#x3002;\n\n&#x542f;&#x52a8;&#x811a;&#x672c;index.js&#x7684;app.get&#x65b9;&#x6cd5;&#xff0c;&#x7528;&#x4e8e;&#x6307;&#x5b9a;&#x4e0d;&#x540c;&#x7684;&#x8bbf;&#x95ee;&#x8def;&#x5f84;&#x6240;&#x5bf9;&#x5e94;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x8fd9;&#x53eb;&#x505a;&#x201c;&#x8def;&#x7531;&#x201d;&#xff08;routing&#xff09;&#x3002;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x53ea;&#x6307;&#x5b9a;&#x4e86;&#x6839;&#x76ee;&#x5f55;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x56e0;&#x6b64;&#x53ea;&#x6709;&#x4e00;&#x4e2a;&#x8def;&#x7531;&#x8bb0;&#x5f55;&#x3002;&#x5b9e;&#x9645;&#x5e94;&#x7528;&#x4e2d;&#xff0c;&#x53ef;&#x80fd;&#x6709;&#x591a;&#x4e2a;&#x8def;&#x7531;&#x8bb0;&#x5f55;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"106,109"}},{"content":"<pre data-lines=\"110,128\"><code class=\"language-js\"><span class=\"hljs-comment\">// index.js</span>\n\n<span class=\"hljs-keyword\">var</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;express&apos;</span>);\n<span class=\"hljs-keyword\">var</span> app = <span class=\"hljs-title function_\">express</span>();\n\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">req, res</span>) {\n  res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;Hello world!&apos;</span>);\n});\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/customer&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>){\n  res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;customer page&apos;</span>);\n});\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/admin&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>){\n  res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;admin page&apos;</span>);\n});\n\napp.<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">3000</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"110,128"}},{"content":"<pre data-lines=\"129,130\"><code>&#x8fd9;&#x65f6;&#xff0c;&#x6700;&#x597d;&#x5c31;&#x628a;&#x8def;&#x7531;&#x653e;&#x5230;&#x4e00;&#x4e2a;&#x5355;&#x72ec;&#x7684;&#x6587;&#x4ef6;&#x4e2d;&#xff0c;&#x6bd4;&#x5982;&#x65b0;&#x5efa;&#x4e00;&#x4e2a;routes&#x5b50;&#x76ee;&#x5f55;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"129,130"}},{"content":"<pre data-lines=\"131,146\"><code class=\"language-js\"><span class=\"hljs-comment\">// routes/index.js</span>\n\n<span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">app</span>) {\n  app.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">req, res</span>) {\n    res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;Hello world&apos;</span>);\n  });\n  app.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/customer&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>){\n    res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;customer page&apos;</span>);\n  });\n  app.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/admin&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>){\n    res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;admin page&apos;</span>);\n  });\n};\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"131,146"}},{"content":"<pre data-lines=\"147,148\"><code>&#x7136;&#x540e;&#xff0c;&#x539f;&#x6765;&#x7684;index.js&#x5c31;&#x53d8;&#x6210;&#x4e0b;&#x9762;&#x8fd9;&#x6837;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"147,148"}},{"content":"<pre data-lines=\"149,156\"><code class=\"language-js\"><span class=\"hljs-comment\">// index.js</span>\n<span class=\"hljs-keyword\">var</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;express&apos;</span>);\n<span class=\"hljs-keyword\">var</span> app = <span class=\"hljs-title function_\">express</span>();\n<span class=\"hljs-keyword\">var</span> routes = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;./routes&apos;</span>)(app);\napp.<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">3000</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"149,156"}}],"payload":{"tag":"h2","lines":"36,37"}},{"content":"&#x8fd0;&#x884c;&#x539f;&#x7406;","children":[{"content":"&#x5e95;&#x5c42;&#xff1a;http&#x6a21;&#x5757;","children":[{"content":"<pre data-lines=\"161,162\"><code>Express&#x6846;&#x67b6;&#x5efa;&#x7acb;&#x5728;node.js&#x5185;&#x7f6e;&#x7684;http&#x6a21;&#x5757;&#x4e0a;&#x3002;http&#x6a21;&#x5757;&#x751f;&#x6210;&#x670d;&#x52a1;&#x5668;&#x7684;&#x539f;&#x59cb;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"161,162"}},{"content":"<pre data-lines=\"163,173\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> http = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;http&quot;</span>);\n\n<span class=\"hljs-keyword\">var</span> app = http.<span class=\"hljs-title function_\">createServer</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request, response</span>) {\n  response.<span class=\"hljs-title function_\">writeHead</span>(<span class=\"hljs-number\">200</span>, {<span class=\"hljs-string\">&quot;Content-Type&quot;</span>: <span class=\"hljs-string\">&quot;text/plain&quot;</span>});\n  response.<span class=\"hljs-title function_\">end</span>(<span class=\"hljs-string\">&quot;Hello world!&quot;</span>);\n});\n\napp.<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">3000</span>, <span class=\"hljs-string\">&quot;localhost&quot;</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"163,173"}},{"content":"<pre data-lines=\"174,177\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;&#x5173;&#x952e;&#x662f;http&#x6a21;&#x5757;&#x7684;createServer&#x65b9;&#x6cd5;&#xff0c;&#x8868;&#x793a;&#x751f;&#x6210;&#x4e00;&#x4e2a;HTTP&#x670d;&#x52a1;&#x5668;&#x5b9e;&#x4f8b;&#x3002;&#x8be5;&#x65b9;&#x6cd5;&#x63a5;&#x53d7;&#x4e00;&#x4e2a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x8be5;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x5206;&#x522b;&#x4e3a;&#x4ee3;&#x8868;HTTP&#x8bf7;&#x6c42;&#x548c;HTTP&#x56de;&#x5e94;&#x7684;request&#x5bf9;&#x8c61;&#x548c;response&#x5bf9;&#x8c61;&#x3002;\n\nExpress&#x6846;&#x67b6;&#x7684;&#x6838;&#x5fc3;&#x662f;&#x5bf9;http&#x6a21;&#x5757;&#x7684;&#x518d;&#x5305;&#x88c5;&#x3002;&#x4e0a;&#x9762;&#x7684;&#x4ee3;&#x7801;&#x7528;Express&#x6539;&#x5199;&#x5982;&#x4e0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"174,177"}},{"content":"<pre data-lines=\"178,188\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;express&apos;</span>);\n<span class=\"hljs-keyword\">var</span> app = <span class=\"hljs-title function_\">express</span>();\n\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">req, res</span>) {\n  res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;Hello world!&apos;</span>);\n});\n\napp.<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">3000</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"178,188"}},{"content":"<pre data-lines=\"189,190\"><code>&#x6bd4;&#x8f83;&#x4e24;&#x6bb5;&#x4ee3;&#x7801;&#xff0c;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#x5b83;&#x4eec;&#x975e;&#x5e38;&#x63a5;&#x8fd1;&#x3002;&#x539f;&#x6765;&#x662f;&#x7528;http.createServer&#x65b9;&#x6cd5;&#x65b0;&#x5efa;&#x4e00;&#x4e2a;app&#x5b9e;&#x4f8b;&#xff0c;&#x73b0;&#x5728;&#x5219;&#x662f;&#x7528;Express&#x7684;&#x6784;&#x9020;&#x65b9;&#x6cd5;&#xff0c;&#x751f;&#x6210;&#x4e00;&#x4e2a;Epress&#x5b9e;&#x4f8b;&#x3002;&#x4e24;&#x8005;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x90fd;&#x662f;&#x76f8;&#x540c;&#x7684;&#x3002;Express&#x6846;&#x67b6;&#x7b49;&#x4e8e;&#x5728;http&#x6a21;&#x5757;&#x4e4b;&#x4e0a;&#xff0c;&#x52a0;&#x4e86;&#x4e00;&#x4e2a;&#x4e2d;&#x95f4;&#x5c42;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"189,190"}}],"payload":{"tag":"h3","lines":"159,160"}},{"content":"&#x4ec0;&#x4e48;&#x662f;&#x4e2d;&#x95f4;&#x4ef6;","children":[{"content":"<pre data-lines=\"193,198\"><code>&#x7b80;&#x5355;&#x8bf4;&#xff0c;&#x4e2d;&#x95f4;&#x4ef6;&#xff08;middleware&#xff09;&#x5c31;&#x662f;&#x5904;&#x7406;HTTP&#x8bf7;&#x6c42;&#x7684;&#x51fd;&#x6570;&#x3002;&#x5b83;&#x6700;&#x5927;&#x7684;&#x7279;&#x70b9;&#x5c31;&#x662f;&#xff0c;&#x4e00;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x5904;&#x7406;&#x5b8c;&#xff0c;&#x518d;&#x4f20;&#x9012;&#x7ed9;&#x4e0b;&#x4e00;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x3002;App&#x5b9e;&#x4f8b;&#x5728;&#x8fd0;&#x884c;&#x8fc7;&#x7a0b;&#x4e2d;&#xff0c;&#x4f1a;&#x8c03;&#x7528;&#x4e00;&#x7cfb;&#x5217;&#x7684;&#x4e2d;&#x95f4;&#x4ef6;&#x3002;\n\n&#x6bcf;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x53ef;&#x4ee5;&#x4ece;App&#x5b9e;&#x4f8b;&#xff0c;&#x63a5;&#x6536;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x4f9d;&#x6b21;&#x4e3a;request&#x5bf9;&#x8c61;&#xff08;&#x4ee3;&#x8868;HTTP&#x8bf7;&#x6c42;&#xff09;&#x3001;response&#x5bf9;&#x8c61;&#xff08;&#x4ee3;&#x8868;HTTP&#x56de;&#x5e94;&#xff09;&#xff0c;next&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff08;&#x4ee3;&#x8868;&#x4e0b;&#x4e00;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#xff09;&#x3002;&#x6bcf;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x90fd;&#x53ef;&#x4ee5;&#x5bf9;HTTP&#x8bf7;&#x6c42;&#xff08;request&#x5bf9;&#x8c61;&#xff09;&#x8fdb;&#x884c;&#x52a0;&#x5de5;&#xff0c;&#x5e76;&#x4e14;&#x51b3;&#x5b9a;&#x662f;&#x5426;&#x8c03;&#x7528;next&#x65b9;&#x6cd5;&#xff0c;&#x5c06;request&#x5bf9;&#x8c61;&#x518d;&#x4f20;&#x7ed9;&#x4e0b;&#x4e00;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x3002;\n\n&#x4e00;&#x4e2a;&#x4e0d;&#x8fdb;&#x884c;&#x4efb;&#x4f55;&#x64cd;&#x4f5c;&#x3001;&#x53ea;&#x4f20;&#x9012;request&#x5bf9;&#x8c61;&#x7684;&#x4e2d;&#x95f4;&#x4ef6;&#xff0c;&#x5c31;&#x662f;&#x4e0b;&#x9762;&#x8fd9;&#x6837;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"193,198"}},{"content":"<pre data-lines=\"199,204\"><code class=\"language-js\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">uselessMiddleware</span>(<span class=\"hljs-params\">req, res, next</span>) {\n  <span class=\"hljs-title function_\">next</span>();\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"199,204"}},{"content":"<pre data-lines=\"205,206\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;next&#x5c31;&#x662f;&#x4e0b;&#x4e00;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x3002;&#x5982;&#x679c;&#x5b83;&#x5e26;&#x6709;&#x53c2;&#x6570;&#xff0c;&#x5219;&#x4ee3;&#x8868;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#xff0c;&#x53c2;&#x6570;&#x4e3a;&#x9519;&#x8bef;&#x6587;&#x672c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"205,206"}},{"content":"<pre data-lines=\"207,212\"><code class=\"language-js\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">uselessMiddleware</span>(<span class=\"hljs-params\">req, res, next</span>) {\n  <span class=\"hljs-title function_\">next</span>(<span class=\"hljs-string\">&apos;&#x51fa;&#x9519;&#x4e86;&#xff01;&apos;</span>);\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"207,212"}},{"content":"<pre data-lines=\"213,214\"><code>&#x629b;&#x51fa;&#x9519;&#x8bef;&#x4ee5;&#x540e;&#xff0c;&#x540e;&#x9762;&#x7684;&#x4e2d;&#x95f4;&#x4ef6;&#x5c06;&#x4e0d;&#x518d;&#x6267;&#x884c;&#xff0c;&#x76f4;&#x5230;&#x53d1;&#x73b0;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#x5904;&#x7406;&#x51fd;&#x6570;&#x4e3a;&#x6b62;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"213,214"}}],"payload":{"tag":"h3","lines":"191,192"}},{"content":"use&#x65b9;&#x6cd5;","children":[{"content":"<pre data-lines=\"217,218\"><code>use&#x662f;express&#x6ce8;&#x518c;&#x4e2d;&#x95f4;&#x4ef6;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x5b83;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x51fd;&#x6570;&#x3002;&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x8fde;&#x7eed;&#x8c03;&#x7528;&#x4e24;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"217,218"}},{"content":"<pre data-lines=\"219,237\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;express&quot;</span>);\n<span class=\"hljs-keyword\">var</span> http = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;http&quot;</span>);\n\n<span class=\"hljs-keyword\">var</span> app = <span class=\"hljs-title function_\">express</span>();\n\napp.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request, response, next</span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;In comes a &quot;</span> + request.<span class=\"hljs-property\">method</span> + <span class=\"hljs-string\">&quot; to &quot;</span> + request.<span class=\"hljs-property\">url</span>);\n  <span class=\"hljs-title function_\">next</span>();\n});\n\napp.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request, response</span>) {\n  response.<span class=\"hljs-title function_\">writeHead</span>(<span class=\"hljs-number\">200</span>, { <span class=\"hljs-string\">&quot;Content-Type&quot;</span>: <span class=\"hljs-string\">&quot;text/plain&quot;</span> });\n  response.<span class=\"hljs-title function_\">end</span>(<span class=\"hljs-string\">&quot;Hello world!\\n&quot;</span>);\n});\n\nhttp.<span class=\"hljs-title function_\">createServer</span>(app).<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">1337</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"219,237"}},{"content":"<pre data-lines=\"238,241\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4f7f;&#x7528;app.use&#x65b9;&#x6cd5;&#xff0c;&#x6ce8;&#x518c;&#x4e86;&#x4e24;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x3002;&#x6536;&#x5230;HTTP&#x8bf7;&#x6c42;&#x540e;&#xff0c;&#x5148;&#x8c03;&#x7528;&#x7b2c;&#x4e00;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#xff0c;&#x5728;&#x63a7;&#x5236;&#x53f0;&#x8f93;&#x51fa;&#x4e00;&#x884c;&#x4fe1;&#x606f;&#xff0c;&#x7136;&#x540e;&#x901a;&#x8fc7;next&#x65b9;&#x6cd5;&#xff0c;&#x5c06;&#x6267;&#x884c;&#x6743;&#x4f20;&#x7ed9;&#x7b2c;&#x4e8c;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#xff0c;&#x8f93;&#x51fa;HTTP&#x56de;&#x5e94;&#x3002;&#x7531;&#x4e8e;&#x7b2c;&#x4e8c;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x6ca1;&#x6709;&#x8c03;&#x7528;next&#x65b9;&#x6cd5;&#xff0c;&#x6240;&#x4ee5;request&#x5bf9;&#x8c61;&#x5c31;&#x4e0d;&#x518d;&#x5411;&#x540e;&#x4f20;&#x9012;&#x4e86;&#x3002;\n\nuse&#x65b9;&#x6cd5;&#x5185;&#x90e8;&#x53ef;&#x4ee5;&#x5bf9;&#x8bbf;&#x95ee;&#x8def;&#x5f84;&#x8fdb;&#x884c;&#x5224;&#x65ad;&#xff0c;&#x636e;&#x6b64;&#x5c31;&#x80fd;&#x5b9e;&#x73b0;&#x7b80;&#x5355;&#x7684;&#x8def;&#x7531;&#xff0c;&#x6839;&#x636e;&#x4e0d;&#x540c;&#x7684;&#x8bf7;&#x6c42;&#x7f51;&#x5740;&#xff0c;&#x8fd4;&#x56de;&#x4e0d;&#x540c;&#x7684;&#x7f51;&#x9875;&#x5185;&#x5bb9;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"238,241"}},{"content":"<pre data-lines=\"242,272\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;express&quot;</span>);\n<span class=\"hljs-keyword\">var</span> http = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;http&quot;</span>);\n\n<span class=\"hljs-keyword\">var</span> app = <span class=\"hljs-title function_\">express</span>();\n\napp.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request, response, next</span>) {\n  <span class=\"hljs-keyword\">if</span> (request.<span class=\"hljs-property\">url</span> == <span class=\"hljs-string\">&quot;/&quot;</span>) {\n    response.<span class=\"hljs-title function_\">writeHead</span>(<span class=\"hljs-number\">200</span>, { <span class=\"hljs-string\">&quot;Content-Type&quot;</span>: <span class=\"hljs-string\">&quot;text/plain&quot;</span> });\n    response.<span class=\"hljs-title function_\">end</span>(<span class=\"hljs-string\">&quot;Welcome to the homepage!\\n&quot;</span>);\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-title function_\">next</span>();\n  }\n});\n\napp.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request, response, next</span>) {\n  <span class=\"hljs-keyword\">if</span> (request.<span class=\"hljs-property\">url</span> == <span class=\"hljs-string\">&quot;/about&quot;</span>) {\n    response.<span class=\"hljs-title function_\">writeHead</span>(<span class=\"hljs-number\">200</span>, { <span class=\"hljs-string\">&quot;Content-Type&quot;</span>: <span class=\"hljs-string\">&quot;text/plain&quot;</span> });\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-title function_\">next</span>();\n  }\n});\n\napp.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request, response</span>) {\n  response.<span class=\"hljs-title function_\">writeHead</span>(<span class=\"hljs-number\">404</span>, { <span class=\"hljs-string\">&quot;Content-Type&quot;</span>: <span class=\"hljs-string\">&quot;text/plain&quot;</span> });\n  response.<span class=\"hljs-title function_\">end</span>(<span class=\"hljs-string\">&quot;404 error!\\n&quot;</span>);\n});\n\nhttp.<span class=\"hljs-title function_\">createServer</span>(app).<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">1337</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"242,272"}},{"content":"<pre data-lines=\"273,281\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x901a;&#x8fc7;request.url&#x5c5e;&#x6027;&#xff0c;&#x5224;&#x65ad;&#x8bf7;&#x6c42;&#x7684;&#x7f51;&#x5740;&#xff0c;&#x4ece;&#x800c;&#x8fd4;&#x56de;&#x4e0d;&#x540c;&#x7684;&#x5185;&#x5bb9;&#x3002;&#x6ce8;&#x610f;&#xff0c;app.use&#x65b9;&#x6cd5;&#x4e00;&#x5171;&#x767b;&#x8bb0;&#x4e86;&#x4e09;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#xff0c;&#x53ea;&#x8981;&#x8bf7;&#x6c42;&#x8def;&#x5f84;&#x5339;&#x914d;&#xff0c;&#x5c31;&#x4e0d;&#x4f1a;&#x5c06;&#x6267;&#x884c;&#x6743;&#x4ea4;&#x7ed9;&#x4e0b;&#x4e00;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x3002;&#x56e0;&#x6b64;&#xff0c;&#x6700;&#x540e;&#x4e00;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x4f1a;&#x8fd4;&#x56de;404&#x9519;&#x8bef;&#xff0c;&#x5373;&#x524d;&#x9762;&#x7684;&#x4e2d;&#x95f4;&#x4ef6;&#x90fd;&#x6ca1;&#x5339;&#x914d;&#x8bf7;&#x6c42;&#x8def;&#x5f84;&#xff0c;&#x627e;&#x4e0d;&#x5230;&#x6240;&#x8981;&#x8bf7;&#x6c42;&#x7684;&#x8d44;&#x6e90;&#x3002;\n\n&#x9664;&#x4e86;&#x5728;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x5185;&#x90e8;&#x5224;&#x65ad;&#x8bf7;&#x6c42;&#x7684;&#x7f51;&#x5740;&#xff0c;use&#x65b9;&#x6cd5;&#x4e5f;&#x5141;&#x8bb8;&#x5c06;&#x8bf7;&#x6c42;&#x7f51;&#x5740;&#x5199;&#x5728;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x3002;&#x8fd9;&#x4ee3;&#x8868;&#xff0c;&#x53ea;&#x6709;&#x8bf7;&#x6c42;&#x8def;&#x5f84;&#x5339;&#x914d;&#x8fd9;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x540e;&#x9762;&#x7684;&#x4e2d;&#x95f4;&#x4ef6;&#x624d;&#x4f1a;&#x751f;&#x6548;&#x3002;&#x65e0;&#x7591;&#xff0c;&#x8fd9;&#x6837;&#x5199;&#x66f4;&#x52a0;&#x6e05;&#x6670;&#x548c;&#x65b9;&#x4fbf;&#x3002;\n\napp.use(&apos;/path&apos;, someMiddleware);\n&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x8868;&#x793a;&#xff0c;&#x53ea;&#x5bf9;&#x6839;&#x76ee;&#x5f55;&#x7684;&#x8bf7;&#x6c42;&#xff0c;&#x8c03;&#x7528;&#x67d0;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x3002;\n\n&#x56e0;&#x6b64;&#xff0c;&#x4e0a;&#x9762;&#x7684;&#x4ee3;&#x7801;&#x53ef;&#x4ee5;&#x5199;&#x6210;&#x4e0b;&#x9762;&#x7684;&#x6837;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"273,281"}},{"content":"<pre data-lines=\"282,305\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;express&quot;</span>);\n<span class=\"hljs-keyword\">var</span> http = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;http&quot;</span>);\n\n<span class=\"hljs-keyword\">var</span> app = <span class=\"hljs-title function_\">express</span>();\n\napp.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-string\">&quot;/home&quot;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request, response, next</span>) {\n  response.<span class=\"hljs-title function_\">writeHead</span>(<span class=\"hljs-number\">200</span>, { <span class=\"hljs-string\">&quot;Content-Type&quot;</span>: <span class=\"hljs-string\">&quot;text/plain&quot;</span> });\n  response.<span class=\"hljs-title function_\">end</span>(<span class=\"hljs-string\">&quot;Welcome to the homepage!\\n&quot;</span>);\n});\n\napp.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-string\">&quot;/about&quot;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request, response, next</span>) {\n  response.<span class=\"hljs-title function_\">writeHead</span>(<span class=\"hljs-number\">200</span>, { <span class=\"hljs-string\">&quot;Content-Type&quot;</span>: <span class=\"hljs-string\">&quot;text/plain&quot;</span> });\n  response.<span class=\"hljs-title function_\">end</span>(<span class=\"hljs-string\">&quot;Welcome to the about page!\\n&quot;</span>);\n});\n\napp.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request, response</span>) {\n  response.<span class=\"hljs-title function_\">writeHead</span>(<span class=\"hljs-number\">404</span>, { <span class=\"hljs-string\">&quot;Content-Type&quot;</span>: <span class=\"hljs-string\">&quot;text/plain&quot;</span> });\n  response.<span class=\"hljs-title function_\">end</span>(<span class=\"hljs-string\">&quot;404 error!\\n&quot;</span>);\n});\n\nhttp.<span class=\"hljs-title function_\">createServer</span>(app).<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">1337</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"282,305"}}],"payload":{"tag":"h3","lines":"215,216"}}],"payload":{"tag":"h2","lines":"157,158"}},{"content":"Express&#x7684;&#x65b9;&#x6cd5;","children":[{"content":"all&#x65b9;&#x6cd5;&#x548c;HTTP&#x52a8;&#x8bcd;&#x65b9;&#x6cd5;","children":[{"content":"<pre data-lines=\"310,311\"><code>&#x9488;&#x5bf9;&#x4e0d;&#x540c;&#x7684;&#x8bf7;&#x6c42;&#xff0c;Express&#x63d0;&#x4f9b;&#x4e86;use&#x65b9;&#x6cd5;&#x7684;&#x4e00;&#x4e9b;&#x522b;&#x540d;&#x3002;&#x6bd4;&#x5982;&#xff0c;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e5f;&#x53ef;&#x4ee5;&#x7528;&#x522b;&#x540d;&#x7684;&#x5f62;&#x5f0f;&#x6765;&#x5199;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"310,311"}},{"content":"<pre data-lines=\"312,336\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;express&quot;</span>);\n<span class=\"hljs-keyword\">var</span> http = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;http&quot;</span>);\n<span class=\"hljs-keyword\">var</span> app = <span class=\"hljs-title function_\">express</span>();\n\napp.<span class=\"hljs-title function_\">all</span>(<span class=\"hljs-string\">&quot;*&quot;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request, response, next</span>) {\n  response.<span class=\"hljs-title function_\">writeHead</span>(<span class=\"hljs-number\">200</span>, { <span class=\"hljs-string\">&quot;Content-Type&quot;</span>: <span class=\"hljs-string\">&quot;text/plain&quot;</span> });\n  <span class=\"hljs-title function_\">next</span>();\n});\n\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&quot;/&quot;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request, response</span>) {\n  response.<span class=\"hljs-title function_\">end</span>(<span class=\"hljs-string\">&quot;Welcome to the homepage!&quot;</span>);\n});\n\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&quot;/about&quot;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request, response</span>) {\n  response.<span class=\"hljs-title function_\">end</span>(<span class=\"hljs-string\">&quot;Welcome to the about page!&quot;</span>);\n});\n\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&quot;*&quot;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request, response</span>) {\n  response.<span class=\"hljs-title function_\">end</span>(<span class=\"hljs-string\">&quot;404!&quot;</span>);\n});\n\nhttp.<span class=\"hljs-title function_\">createServer</span>(app).<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">1337</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"312,336"}},{"content":"<pre data-lines=\"337,342\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;all&#x65b9;&#x6cd5;&#x8868;&#x793a;&#xff0c;&#x6240;&#x6709;&#x8bf7;&#x6c42;&#x90fd;&#x5fc5;&#x987b;&#x901a;&#x8fc7;&#x8be5;&#x4e2d;&#x95f4;&#x4ef6;&#xff0c;&#x53c2;&#x6570;&#x4e2d;&#x7684;&#x201c;*&#x201d;&#x8868;&#x793a;&#x5bf9;&#x6240;&#x6709;&#x8def;&#x5f84;&#x6709;&#x6548;&#x3002;get&#x65b9;&#x6cd5;&#x5219;&#x662f;&#x53ea;&#x6709;GET&#x52a8;&#x8bcd;&#x7684;HTTP&#x8bf7;&#x6c42;&#x901a;&#x8fc7;&#x8be5;&#x4e2d;&#x95f4;&#x4ef6;&#xff0c;&#x5b83;&#x7684;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x8bf7;&#x6c42;&#x7684;&#x8def;&#x5f84;&#x3002;&#x7531;&#x4e8e;get&#x65b9;&#x6cd5;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x6ca1;&#x6709;&#x8c03;&#x7528;next&#x65b9;&#x6cd5;&#xff0c;&#x6240;&#x4ee5;&#x53ea;&#x8981;&#x6709;&#x4e00;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x88ab;&#x8c03;&#x7528;&#x4e86;&#xff0c;&#x540e;&#x9762;&#x7684;&#x4e2d;&#x95f4;&#x4ef6;&#x5c31;&#x4e0d;&#x4f1a;&#x518d;&#x88ab;&#x8c03;&#x7528;&#x4e86;&#x3002;\n\n&#x9664;&#x4e86;get&#x65b9;&#x6cd5;&#x4ee5;&#x5916;&#xff0c;Express&#x8fd8;&#x63d0;&#x4f9b;post&#x3001;put&#x3001;delete&#x65b9;&#x6cd5;&#xff0c;&#x5373;HTTP&#x52a8;&#x8bcd;&#x90fd;&#x662f;Express&#x7684;&#x65b9;&#x6cd5;&#x3002;\n\n&#x8fd9;&#x4e9b;&#x65b9;&#x6cd5;&#x7684;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x90fd;&#x662f;&#x8bf7;&#x6c42;&#x7684;&#x8def;&#x5f84;&#x3002;&#x9664;&#x4e86;&#x7edd;&#x5bf9;&#x5339;&#x914d;&#x4ee5;&#x5916;&#xff0c;Express&#x5141;&#x8bb8;&#x6a21;&#x5f0f;&#x5339;&#x914d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"337,342"}},{"content":"<pre data-lines=\"343,348\"><code class=\"language-js\">app.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&quot;/hello/:who&quot;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>) {\n  res.<span class=\"hljs-title function_\">end</span>(<span class=\"hljs-string\">&quot;Hello, &quot;</span> + req.<span class=\"hljs-property\">params</span>.<span class=\"hljs-property\">who</span> + <span class=\"hljs-string\">&quot;.&quot;</span>);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"343,348"}},{"content":"<pre data-lines=\"349,352\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5c06;&#x5339;&#x914d;&#x201c;/hello/alice&#x201d;&#x7f51;&#x5740;&#xff0c;&#x7f51;&#x5740;&#x4e2d;&#x7684;alice&#x5c06;&#x88ab;&#x6355;&#x83b7;&#xff0c;&#x4f5c;&#x4e3a;req.params.who&#x5c5e;&#x6027;&#x7684;&#x503c;&#x3002;&#x9700;&#x8981;&#x6ce8;&#x610f;&#x7684;&#x662f;&#xff0c;&#x6355;&#x83b7;&#x540e;&#x9700;&#x8981;&#x5bf9;&#x7f51;&#x5740;&#x8fdb;&#x884c;&#x68c0;&#x67e5;&#xff0c;&#x8fc7;&#x6ee4;&#x4e0d;&#x5b89;&#x5168;&#x5b57;&#x7b26;&#xff0c;&#x4e0a;&#x9762;&#x7684;&#x5199;&#x6cd5;&#x53ea;&#x662f;&#x4e3a;&#x4e86;&#x6f14;&#x793a;&#xff0c;&#x751f;&#x4ea7;&#x4e2d;&#x4e0d;&#x5e94;&#x8fd9;&#x6837;&#x76f4;&#x63a5;&#x4f7f;&#x7528;&#x7528;&#x6237;&#x63d0;&#x4f9b;&#x7684;&#x503c;&#x3002;\n\n&#x5982;&#x679c;&#x5728;&#x6a21;&#x5f0f;&#x53c2;&#x6570;&#x540e;&#x9762;&#x52a0;&#x4e0a;&#x95ee;&#x53f7;&#xff0c;&#x8868;&#x793a;&#x8be5;&#x53c2;&#x6570;&#x53ef;&#x9009;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"349,352"}},{"content":"<pre data-lines=\"353,363\"><code class=\"language-js\">app.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/hello/:who?&apos;</span>,<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req,res</span>) {\n\t<span class=\"hljs-keyword\">if</span>(req.<span class=\"hljs-property\">params</span>.<span class=\"hljs-property\">id</span>) {\n    \tres.<span class=\"hljs-title function_\">end</span>(<span class=\"hljs-string\">&quot;Hello, &quot;</span> + req.<span class=\"hljs-property\">params</span>.<span class=\"hljs-property\">who</span> + <span class=\"hljs-string\">&quot;.&quot;</span>);\n\t}\n    <span class=\"hljs-keyword\">else</span> {\n    \tres.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&quot;Hello, Guest.&quot;</span>);\n\t}\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"353,363"}},{"content":"<pre data-lines=\"364,365\"><code>&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e9b;&#x66f4;&#x590d;&#x6742;&#x7684;&#x6a21;&#x5f0f;&#x5339;&#x914d;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"364,365"}},{"content":"<pre data-lines=\"366,377\"><code class=\"language-js\">app.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/forum/:fid/thread/:tid&apos;</span>, middleware)\n\n<span class=\"hljs-comment\">// &#x5339;&#x914d;/commits/71dbb9c</span>\n<span class=\"hljs-comment\">// &#x6216;/commits/71dbb9c..4c084f9&#x8fd9;&#x6837;&#x7684;git&#x683c;&#x5f0f;&#x7684;&#x7f51;&#x5740;</span>\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-regexp\">/^\\/commits\\/(\\w+)(?:\\.\\.(\\w+))?&#x24;/</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>){\n  <span class=\"hljs-keyword\">var</span> <span class=\"hljs-keyword\">from</span> = req.<span class=\"hljs-property\">params</span>[<span class=\"hljs-number\">0</span>];\n  <span class=\"hljs-keyword\">var</span> to = req.<span class=\"hljs-property\">params</span>[<span class=\"hljs-number\">1</span>] || <span class=\"hljs-string\">&apos;HEAD&apos;</span>;\n  res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;commit range &apos;</span> + <span class=\"hljs-keyword\">from</span> + <span class=\"hljs-string\">&apos;..&apos;</span> + to);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"366,377"}}],"payload":{"tag":"h3","lines":"308,309"}},{"content":"set&#x65b9;&#x6cd5;","children":[{"content":"<pre data-lines=\"380,381\"><code>set&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x6307;&#x5b9a;&#x53d8;&#x91cf;&#x7684;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"380,381"}},{"content":"<pre data-lines=\"382,387\"><code class=\"language-js\">app.<span class=\"hljs-title function_\">set</span>(<span class=\"hljs-string\">&quot;views&quot;</span>, __dirname + <span class=\"hljs-string\">&quot;/views&quot;</span>);\n\napp.<span class=\"hljs-title function_\">set</span>(<span class=\"hljs-string\">&quot;view engine&quot;</span>, <span class=\"hljs-string\">&quot;jade&quot;</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"382,387"}},{"content":"<pre data-lines=\"388,389\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4f7f;&#x7528;set&#x65b9;&#x6cd5;&#xff0c;&#x4e3a;&#x7cfb;&#x7edf;&#x53d8;&#x91cf;&#x201c;views&#x201d;&#x548c;&#x201c;view engine&#x201d;&#x6307;&#x5b9a;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"388,389"}}],"payload":{"tag":"h3","lines":"378,379"}},{"content":"response&#x5bf9;&#x8c61;","children":[{"content":"<pre data-lines=\"392,414\"><code>**&#xff08;1&#xff09;response.redirect&#x65b9;&#x6cd5;**\n\nresponse.redirect&#x65b9;&#x6cd5;&#x5141;&#x8bb8;&#x7f51;&#x5740;&#x7684;&#x91cd;&#x5b9a;&#x5411;&#x3002;\n\nresponse.redirect(&quot;/hello/anime&quot;);\nresponse.redirect(&quot;http://www.example.com&quot;);\nresponse.redirect(301, &quot;http://www.example.com&quot;);\n\n**&#xff08;2&#xff09;response.sendFile&#x65b9;&#x6cd5;**\n\nresponse.sendFile&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x53d1;&#x9001;&#x6587;&#x4ef6;&#x3002;\n\nresponse.sendFile(&quot;/path/to/anime.mp4&quot;);\n\n**&#xff08;3&#xff09;response.render&#x65b9;&#x6cd5;**\n\nresponse.render&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x6e32;&#x67d3;&#x7f51;&#x9875;&#x6a21;&#x677f;&#x3002;\n\napp.get(&quot;/&quot;, function(request, response) {\nresponse.render(&quot;index&quot;, { message: &quot;Hello World&quot; });\n});\n&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4f7f;&#x7528;render&#x65b9;&#x6cd5;&#xff0c;&#x5c06;message&#x53d8;&#x91cf;&#x4f20;&#x5165;index&#x6a21;&#x677f;&#xff0c;&#x6e32;&#x67d3;&#x6210;HTML&#x7f51;&#x9875;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"392,414"}}],"payload":{"tag":"h3","lines":"390,391"}},{"content":"requst&#x5bf9;&#x8c61;","children":[{"content":"<pre data-lines=\"417,424\"><code>**&#xff08;1&#xff09;request.ip**\n\nrequest.ip&#x5c5e;&#x6027;&#x7528;&#x4e8e;&#x83b7;&#x5f97;HTTP&#x8bf7;&#x6c42;&#x7684;IP&#x5730;&#x5740;&#x3002;\n\n**&#xff08;2&#xff09;request.files**\n\nrequest.files&#x7528;&#x4e8e;&#x83b7;&#x53d6;&#x4e0a;&#x4f20;&#x7684;&#x6587;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"417,424"}}],"payload":{"tag":"h3","lines":"415,416"}},{"content":"&#x642d;&#x5efa;HTTPs&#x670d;&#x52a1;&#x5668;","children":[{"content":"<pre data-lines=\"427,428\"><code>&#x4f7f;&#x7528;Express&#x642d;&#x5efa;HTTPs&#x52a0;&#x5bc6;&#x670d;&#x52a1;&#x5668;&#xff0c;&#x4e5f;&#x5f88;&#x7b80;&#x5355;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"427,428"}},{"content":"<pre data-lines=\"429,449\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> fs = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;fs&apos;</span>);\n<span class=\"hljs-keyword\">var</span> options = {\n  <span class=\"hljs-attr\">key</span>: fs.<span class=\"hljs-title function_\">readFileSync</span>(<span class=\"hljs-string\">&apos;E:/ssl/myserver.key&apos;</span>),\n  <span class=\"hljs-attr\">cert</span>: fs.<span class=\"hljs-title function_\">readFileSync</span>(<span class=\"hljs-string\">&apos;E:/ssl/myserver.crt&apos;</span>),\n  <span class=\"hljs-attr\">passphrase</span>: <span class=\"hljs-string\">&apos;1234&apos;</span>\n};\n\n<span class=\"hljs-keyword\">var</span> https = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;https&apos;</span>);\n<span class=\"hljs-keyword\">var</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;express&apos;</span>);\n<span class=\"hljs-keyword\">var</span> app = <span class=\"hljs-title function_\">express</span>();\n\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>){\n  res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;Hello World Expressjs&apos;</span>);\n});\n\n<span class=\"hljs-keyword\">var</span> server = https.<span class=\"hljs-title function_\">createServer</span>(options, app);\nserver.<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">8084</span>);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Server is running on port 8084&apos;</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"429,449"}}],"payload":{"tag":"h3","lines":"425,426"}}],"payload":{"tag":"h2","lines":"306,307"}},{"content":"&#x9879;&#x76ee;&#x5f00;&#x53d1;&#x5b9e;&#x4f8b;","children":[{"content":"&#x7f16;&#x5199;&#x542f;&#x52a8;&#x811a;&#x672c;","children":[{"content":"<pre data-lines=\"454,457\"><code>&#x4e0a;&#x4e00;&#x8282;&#x4f7f;&#x7528;express&#x547d;&#x4ee4;&#x81ea;&#x52a8;&#x5efa;&#x7acb;&#x9879;&#x76ee;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x4e0d;&#x4f7f;&#x7528;&#x8fd9;&#x4e2a;&#x547d;&#x4ee4;&#xff0c;&#x624b;&#x52a8;&#x65b0;&#x5efa;&#x6240;&#x6709;&#x6587;&#x4ef6;&#x3002;\n\n&#x5148;&#x5efa;&#x7acb;&#x4e00;&#x4e2a;&#x9879;&#x76ee;&#x76ee;&#x5f55;&#xff08;&#x5047;&#x5b9a;&#x8fd9;&#x4e2a;&#x76ee;&#x5f55;&#x53eb;&#x505a;demo&#xff09;&#x3002;&#x8fdb;&#x5165;&#x8be5;&#x76ee;&#x5f55;&#xff0c;&#x65b0;&#x5efa;&#x4e00;&#x4e2a;package.json&#x6587;&#x4ef6;&#xff0c;&#x5199;&#x5165;&#x9879;&#x76ee;&#x7684;&#x914d;&#x7f6e;&#x4fe1;&#x606f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"454,457"}},{"content":"<pre data-lines=\"458,468\"><code class=\"language-json\"><span class=\"hljs-punctuation\">{</span>\n   <span class=\"hljs-attr\">&quot;name&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;demo&quot;</span><span class=\"hljs-punctuation\">,</span>\n   <span class=\"hljs-attr\">&quot;description&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;My First Express App&quot;</span><span class=\"hljs-punctuation\">,</span>\n   <span class=\"hljs-attr\">&quot;version&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;0.0.1&quot;</span><span class=\"hljs-punctuation\">,</span>\n   <span class=\"hljs-attr\">&quot;dependencies&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">&quot;express&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;3.x&quot;</span>\n   <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"458,468"}},{"content":"<pre data-lines=\"469,470\"><code>&#x5728;&#x9879;&#x76ee;&#x76ee;&#x5f55;&#x4e2d;&#xff0c;&#x65b0;&#x5efa;&#x6587;&#x4ef6;app.js&#x3002;&#x9879;&#x76ee;&#x7684;&#x4ee3;&#x7801;&#x5c31;&#x653e;&#x5728;&#x8fd9;&#x4e2a;&#x6587;&#x4ef6;&#x91cc;&#x9762;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"469,470"}},{"content":"<pre data-lines=\"471,475\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;express&apos;</span>);\n<span class=\"hljs-keyword\">var</span> app = <span class=\"hljs-title function_\">express</span>();\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"471,475"}},{"content":"<pre data-lines=\"476,479\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x9996;&#x5148;&#x52a0;&#x8f7d;express&#x6a21;&#x5757;&#xff0c;&#x8d4b;&#x7ed9;&#x53d8;&#x91cf;express&#x3002;&#x7136;&#x540e;&#xff0c;&#x751f;&#x6210;express&#x5b9e;&#x4f8b;&#xff0c;&#x8d4b;&#x7ed9;&#x53d8;&#x91cf;app&#x3002;\n\n&#x63a5;&#x7740;&#xff0c;&#x8bbe;&#x5b9a;express&#x5b9e;&#x4f8b;&#x7684;&#x53c2;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"476,479"}},{"content":"<pre data-lines=\"480,501\"><code class=\"language-js\"><span class=\"hljs-comment\">// &#x8bbe;&#x5b9a;port&#x53d8;&#x91cf;&#xff0c;&#x610f;&#x4e3a;&#x8bbf;&#x95ee;&#x7aef;&#x53e3;</span>\napp.<span class=\"hljs-title function_\">set</span>(<span class=\"hljs-string\">&apos;port&apos;</span>, process.<span class=\"hljs-property\">env</span>.<span class=\"hljs-property\">PORT</span> || <span class=\"hljs-number\">3000</span>);\n\n<span class=\"hljs-comment\">// &#x8bbe;&#x5b9a;views&#x53d8;&#x91cf;&#xff0c;&#x610f;&#x4e3a;&#x89c6;&#x56fe;&#x5b58;&#x653e;&#x7684;&#x76ee;&#x5f55;</span>\napp.<span class=\"hljs-title function_\">set</span>(<span class=\"hljs-string\">&apos;views&apos;</span>, path.<span class=\"hljs-title function_\">join</span>(__dirname, <span class=\"hljs-string\">&apos;views&apos;</span>));\n\n<span class=\"hljs-comment\">// &#x8bbe;&#x5b9a;view engine&#x53d8;&#x91cf;&#xff0c;&#x610f;&#x4e3a;&#x7f51;&#x9875;&#x6a21;&#x677f;&#x5f15;&#x64ce;</span>\napp.<span class=\"hljs-title function_\">set</span>(<span class=\"hljs-string\">&apos;view engine&apos;</span>, <span class=\"hljs-string\">&apos;jade&apos;</span>);\n\napp.<span class=\"hljs-title function_\">use</span>(express.<span class=\"hljs-title function_\">favicon</span>());\napp.<span class=\"hljs-title function_\">use</span>(express.<span class=\"hljs-title function_\">logger</span>(<span class=\"hljs-string\">&apos;dev&apos;</span>));\napp.<span class=\"hljs-title function_\">use</span>(express.<span class=\"hljs-title function_\">bodyParser</span>());\napp.<span class=\"hljs-title function_\">use</span>(express.<span class=\"hljs-title function_\">methodOverride</span>());\napp.<span class=\"hljs-title function_\">use</span>(app.<span class=\"hljs-property\">router</span>);\n\n<span class=\"hljs-comment\">// &#x8bbe;&#x5b9a;&#x9759;&#x6001;&#x6587;&#x4ef6;&#x76ee;&#x5f55;&#xff0c;&#x6bd4;&#x5982;&#x672c;&#x5730;&#x6587;&#x4ef6;</span>\n<span class=\"hljs-comment\">// &#x76ee;&#x5f55;&#x4e3a;demo/public/images&#xff0c;&#x8bbf;&#x95ee;</span>\n<span class=\"hljs-comment\">// &#x7f51;&#x5740;&#x5219;&#x663e;&#x793a;&#x4e3a;http://localhost:3000/images</span>\napp.<span class=\"hljs-title function_\">use</span>(express.<span class=\"hljs-title function_\">static</span>(path.<span class=\"hljs-title function_\">join</span>(__dirname, <span class=\"hljs-string\">&apos;public&apos;</span>)));\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"480,501"}},{"content":"<pre data-lines=\"502,505\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#x7684;set&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x8bbe;&#x5b9a;&#x5185;&#x90e8;&#x53d8;&#x91cf;&#xff0c;use&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x8c03;&#x7528;express&#x7684;&#x4e2d;&#x95f4;&#x4ef6;&#x3002;\n\n&#x6700;&#x540e;&#xff0c;&#x8c03;&#x7528;&#x5b9e;&#x4f8b;&#x65b9;&#x6cd5;listen&#xff0c;&#x8ba9;&#x5176;&#x76d1;&#x542c;&#x4e8b;&#x5148;&#x8bbe;&#x5b9a;&#x7684;&#x7aef;&#x53e3;&#xff08;3000&#xff09;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"502,505"}},{"content":"<pre data-lines=\"506,509\"><code class=\"language-js\">app.<span class=\"hljs-title function_\">listen</span>(app.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;port&apos;</span>));\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"506,509"}},{"content":"<pre data-lines=\"510,511\"><code>&#x8fd9;&#x65f6;&#xff0c;&#x8fd0;&#x884c;&#x4e0b;&#x9762;&#x7684;&#x547d;&#x4ee4;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x8bbf;&#x95ee;http://127.0.0.1:3000&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"510,511"}},{"content":"<pre data-lines=\"512,515\"><code class=\"language-js\">node app.js\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"512,515"}},{"content":"<pre data-lines=\"516,517\"><code>&#x7f51;&#x9875;&#x63d0;&#x793a;&#x201c;Cannot GET /&#x201d;&#xff0c;&#x8868;&#x793a;&#x6ca1;&#x6709;&#x4e3a;&#x7f51;&#x7ad9;&#x7684;&#x6839;&#x8def;&#x5f84;&#x6307;&#x5b9a;&#x53ef;&#x4ee5;&#x663e;&#x793a;&#x7684;&#x5185;&#x5bb9;&#x3002;&#x6240;&#x4ee5;&#xff0c;&#x4e0b;&#x4e00;&#x6b65;&#x5c31;&#x662f;&#x914d;&#x7f6e;&#x8def;&#x7531;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"516,517"}}],"payload":{"tag":"h3","lines":"452,453"}},{"content":"&#x914d;&#x7f6e;&#x8def;&#x7531;","children":[{"content":"<pre data-lines=\"520,525\"><code>&#x6240;&#x8c13;&#x201c;&#x8def;&#x7531;&#x201d;&#xff0c;&#x5c31;&#x662f;&#x6307;&#x4e3a;&#x4e0d;&#x540c;&#x7684;&#x8bbf;&#x95ee;&#x8def;&#x5f84;&#xff0c;&#x6307;&#x5b9a;&#x4e0d;&#x540c;&#x7684;&#x5904;&#x7406;&#x65b9;&#x6cd5;&#x3002;\n\n&#xff08;1&#xff09;&#x6307;&#x5b9a;&#x6839;&#x8def;&#x5f84;\n\n&#x5728;app.js&#x4e4b;&#x4e2d;&#xff0c;&#x5148;&#x6307;&#x5b9a;&#x6839;&#x8def;&#x5f84;&#x7684;&#x5904;&#x7406;&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"520,525"}},{"content":"<pre data-lines=\"526,531\"><code class=\"language-js\">app.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>) {\n   res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;Hello World&apos;</span>);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"526,531"}},{"content":"<pre data-lines=\"532,535\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;get&#x65b9;&#x6cd5;&#xff0c;&#x8868;&#x793a;&#x5904;&#x7406;&#x5ba2;&#x6237;&#x7aef;&#x53d1;&#x51fa;&#x7684;GET&#x8bf7;&#x6c42;&#x3002;&#x76f8;&#x5e94;&#x7684;&#xff0c;&#x8fd8;&#x6709;app.post&#x3001;app.put&#x3001;app.del&#xff08;delete&#x662f;JavaScript&#x4fdd;&#x7559;&#x5b57;&#xff0c;&#x6240;&#x4ee5;&#x6539;&#x53eb;del&#xff09;&#x65b9;&#x6cd5;&#x3002;\n\nget&#x65b9;&#x6cd5;&#x7684;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x8bbf;&#x95ee;&#x8def;&#x5f84;&#xff0c;&#x6b63;&#x659c;&#x6760;&#xff08;/&#xff09;&#x5c31;&#x4ee3;&#x8868;&#x6839;&#x8def;&#x5f84;&#xff1b;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x5b83;&#x7684;req&#x53c2;&#x6570;&#x8868;&#x793a;&#x5ba2;&#x6237;&#x7aef;&#x53d1;&#x6765;&#x7684;HTTP&#x8bf7;&#x6c42;&#xff0c;res&#x53c2;&#x6570;&#x4ee3;&#x8868;&#x53d1;&#x5411;&#x5ba2;&#x6237;&#x7aef;&#x7684;HTTP&#x56de;&#x5e94;&#xff0c;&#x8fd9;&#x4e24;&#x4e2a;&#x53c2;&#x6570;&#x90fd;&#x662f;&#x5bf9;&#x8c61;&#x3002;&#x5728;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x5185;&#x90e8;&#xff0c;&#x4f7f;&#x7528;HTTP&#x56de;&#x5e94;&#x7684;send&#x65b9;&#x6cd5;&#xff0c;&#x8868;&#x793a;&#x5411;&#x6d4f;&#x89c8;&#x5668;&#x53d1;&#x9001;&#x4e00;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#x3002;&#x7136;&#x540e;&#xff0c;&#x8fd0;&#x884c;&#x4e0b;&#x9762;&#x7684;&#x547d;&#x4ee4;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"532,535"}},{"content":"<pre data-lines=\"536,539\"><code class=\"language-js\">node app.js\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"536,539"}},{"content":"<pre data-lines=\"540,543\"><code>&#x6b64;&#x65f6;&#xff0c;&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x4e2d;&#x8bbf;&#x95ee;http://127.0.0.1:3000&#xff0c;&#x7f51;&#x9875;&#x5c31;&#x4f1a;&#x663e;&#x793a;&#x201c;Hello World&#x201d;&#x3002;\n\n&#x5982;&#x679c;&#x9700;&#x8981;&#x6307;&#x5b9a;HTTP&#x5934;&#x4fe1;&#x606f;&#xff0c;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x5c31;&#x5fc5;&#x987b;&#x6362;&#x4e00;&#x79cd;&#x5199;&#x6cd5;&#xff0c;&#x8981;&#x4f7f;&#x7528;setHeader&#x65b9;&#x6cd5;&#x4e0e;end&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"540,543"}},{"content":"<pre data-lines=\"544,552\"><code class=\"language-js\">app.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>){\n  <span class=\"hljs-keyword\">var</span> body = <span class=\"hljs-string\">&apos;Hello World&apos;</span>;\n  res.<span class=\"hljs-title function_\">setHeader</span>(<span class=\"hljs-string\">&apos;Content-Type&apos;</span>, <span class=\"hljs-string\">&apos;text/plain&apos;</span>);\n  res.<span class=\"hljs-title function_\">setHeader</span>(<span class=\"hljs-string\">&apos;Content-Length&apos;</span>, body.<span class=\"hljs-property\">length</span>);\n  res.<span class=\"hljs-title function_\">end</span>(body);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"544,552"}},{"content":"<pre data-lines=\"553,556\"><code>&#xff08;2&#xff09;&#x6307;&#x5b9a;&#x7279;&#x5b9a;&#x8def;&#x5f84;\n\n&#x4e0a;&#x9762;&#x662f;&#x5904;&#x7406;&#x6839;&#x76ee;&#x5f55;&#x7684;&#x60c5;&#x51b5;&#xff0c;&#x4e0b;&#x9762;&#x518d;&#x4e3e;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;&#x5047;&#x5b9a;&#x7528;&#x6237;&#x8bbf;&#x95ee;/api&#x8def;&#x5f84;&#xff0c;&#x5e0c;&#x671b;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;JSON&#x5b57;&#x7b26;&#x4e32;&#x3002;&#x8fd9;&#x65f6;&#xff0c;get&#x53ef;&#x4ee5;&#x8fd9;&#x6837;&#x5199;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"553,556"}},{"content":"<pre data-lines=\"557,562\"><code class=\"language-js\">app.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/api&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">request, response</span>) {\n   response.<span class=\"hljs-title function_\">send</span>({<span class=\"hljs-attr\">name</span>:<span class=\"hljs-string\">&quot;&#x5f20;&#x4e09;&quot;</span>,<span class=\"hljs-attr\">age</span>:<span class=\"hljs-number\">40</span>});\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"557,562"}},{"content":"<pre data-lines=\"563,564\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x8868;&#x793a;&#xff0c;&#x9664;&#x4e86;&#x53d1;&#x9001;&#x5b57;&#x7b26;&#x4e32;&#xff0c;send&#x65b9;&#x6cd5;&#x8fd8;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x53d1;&#x9001;&#x5bf9;&#x8c61;&#x3002;&#x91cd;&#x65b0;&#x542f;&#x52a8;node&#x4ee5;&#x540e;&#xff0c;&#x518d;&#x8bbf;&#x95ee;&#x8def;&#x5f84;/api&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x5c31;&#x4f1a;&#x663e;&#x793a;&#x4e00;&#x4e2a;JSON&#x5bf9;&#x8c61;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"563,564"}},{"content":"<pre data-lines=\"565,571\"><code class=\"language-js\">{\n  <span class=\"hljs-string\">&quot;name&quot;</span>: <span class=\"hljs-string\">&quot;&#x5f20;&#x4e09;&quot;</span>,\n  <span class=\"hljs-string\">&quot;age&quot;</span>: <span class=\"hljs-number\">40</span>\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"565,571"}},{"content":"<pre data-lines=\"572,573\"><code>&#x6211;&#x4eec;&#x4e5f;&#x53ef;&#x4ee5;&#x628a;app.get&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x5c01;&#x88c5;&#x6210;&#x6a21;&#x5757;&#x3002;&#x5148;&#x5728;routes&#x76ee;&#x5f55;&#x4e0b;&#x9762;&#x5efa;&#x7acb;&#x4e00;&#x4e2a;api.js&#x6587;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"572,573"}},{"content":"<pre data-lines=\"574,581\"><code class=\"language-js\"><span class=\"hljs-comment\">// routes/api.js</span>\n\n<span class=\"hljs-built_in\">exports</span>.<span class=\"hljs-property\">index</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">req, res</span>){\n  res.<span class=\"hljs-title function_\">json</span>(<span class=\"hljs-number\">200</span>, {<span class=\"hljs-attr\">name</span>:<span class=\"hljs-string\">&quot;&#x5f20;&#x4e09;&quot;</span>,<span class=\"hljs-attr\">age</span>:<span class=\"hljs-number\">40</span>});\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"574,581"}},{"content":"<pre data-lines=\"582,583\"><code>&#x7136;&#x540e;&#xff0c;&#x5728;app.js&#x4e2d;&#x52a0;&#x8f7d;&#x8fd9;&#x4e2a;&#x6a21;&#x5757;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"582,583"}},{"content":"<pre data-lines=\"584,590\"><code class=\"language-js\"><span class=\"hljs-comment\">// app.js</span>\n\n<span class=\"hljs-keyword\">var</span> api = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;./routes/api&apos;</span>);\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/api&apos;</span>, api.<span class=\"hljs-property\">index</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"584,590"}},{"content":"<pre data-lines=\"591,594\"><code>&#x73b0;&#x5728;&#x8bbf;&#x95ee;&#x65f6;&#xff0c;&#x5c31;&#x4f1a;&#x663e;&#x793a;&#x4e0e;&#x4e0a;&#x4e00;&#x6b21;&#x540c;&#x6837;&#x7684;&#x7ed3;&#x679c;&#x3002;\n\n&#x5982;&#x679c;&#x53ea;&#x5411;&#x6d4f;&#x89c8;&#x5668;&#x53d1;&#x9001;&#x7b80;&#x5355;&#x7684;&#x6587;&#x672c;&#x4fe1;&#x606f;&#xff0c;&#x4e0a;&#x9762;&#x7684;&#x65b9;&#x6cd5;&#x5df2;&#x7ecf;&#x591f;&#x7528;&#xff1b;&#x4f46;&#x662f;&#x5982;&#x679c;&#x8981;&#x5411;&#x6d4f;&#x89c8;&#x5668;&#x53d1;&#x9001;&#x590d;&#x6742;&#x7684;&#x5185;&#x5bb9;&#xff0c;&#x8fd8;&#x662f;&#x5e94;&#x8be5;&#x4f7f;&#x7528;&#x7f51;&#x9875;&#x6a21;&#x677f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"591,594"}}],"payload":{"tag":"h3","lines":"518,519"}},{"content":"&#x9759;&#x6001;&#x7f51;&#x9875;&#x6a21;&#x677f;","children":[{"content":"<pre data-lines=\"597,600\"><code>&#x5728;&#x9879;&#x76ee;&#x76ee;&#x5f55;&#x4e4b;&#x4e2d;&#xff0c;&#x5efa;&#x7acb;&#x4e00;&#x4e2a;&#x5b50;&#x76ee;&#x5f55;views&#xff0c;&#x7528;&#x4e8e;&#x5b58;&#x653e;&#x7f51;&#x9875;&#x6a21;&#x677f;&#x3002;\n\n&#x5047;&#x5b9a;&#x8fd9;&#x4e2a;&#x9879;&#x76ee;&#x6709;&#x4e09;&#x4e2a;&#x8def;&#x5f84;&#xff1a;&#x6839;&#x8def;&#x5f84;&#xff08;/&#xff09;&#x3001;&#x81ea;&#x6211;&#x4ecb;&#x7ecd;&#xff08;/about&#xff09;&#x548c;&#x6587;&#x7ae0;&#xff08;/article&#xff09;&#x3002;&#x90a3;&#x4e48;&#xff0c;app.js&#x53ef;&#x4ee5;&#x8fd9;&#x6837;&#x5199;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"597,600"}},{"content":"<pre data-lines=\"601,619\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;express&apos;</span>);\n<span class=\"hljs-keyword\">var</span> app = <span class=\"hljs-title function_\">express</span>();\n\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">req, res</span>) {\n    res.<span class=\"hljs-title function_\">sendFile</span>(__dirname + <span class=\"hljs-string\">&apos;/views/index.html&apos;</span>);\n});\n\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/about&apos;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">req, res</span>) =&gt;</span> {\n    res.<span class=\"hljs-title function_\">sendFile</span>(__dirname + <span class=\"hljs-string\">&apos;/views/about.html&apos;</span>);\n});\n\napp.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/article&apos;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">req, res</span>) =&gt;</span> {\n    res.<span class=\"hljs-title function_\">sendFile</span>(__dirname + <span class=\"hljs-string\">&apos;/views/article.html&apos;</span>);\n});\n\napp.<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">3000</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"601,619"}},{"content":"<pre data-lines=\"620,623\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x8868;&#x793a;&#xff0c;&#x4e09;&#x4e2a;&#x8def;&#x5f84;&#x5206;&#x522b;&#x5bf9;&#x5e94;views&#x76ee;&#x5f55;&#x4e2d;&#x7684;&#x4e09;&#x4e2a;&#x6a21;&#x677f;&#xff1a;index.html&#x3001;about.html&#x548c;article.html&#x3002;&#x53e6;&#x5916;&#xff0c;&#x5411;&#x670d;&#x52a1;&#x5668;&#x53d1;&#x9001;&#x4fe1;&#x606f;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x4ece;send&#x53d8;&#x6210;&#x4e86;sendfile&#xff0c;&#x540e;&#x8005;&#x4e13;&#x95e8;&#x7528;&#x4e8e;&#x53d1;&#x9001;&#x6587;&#x4ef6;&#x3002;\n\n&#x5047;&#x5b9a;index.html&#x7684;&#x5185;&#x5bb9;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"620,623"}},{"content":"<pre data-lines=\"624,642\"><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">html</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">head</span>&gt;</span>\n   <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">title</span>&gt;</span>&#x9996;&#x9875;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">title</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">head</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">body</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>Express Demo<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">footer</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span>&gt;</span>\n   <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;/&quot;</span>&gt;</span>&#x9996;&#x9875;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span> - <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;/about&quot;</span>&gt;</span>&#x81ea;&#x6211;&#x4ecb;&#x7ecd;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span> - <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;/article&quot;</span>&gt;</span>&#x6587;&#x7ae0;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">footer</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">html</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"624,642"}},{"content":"<pre data-lines=\"643,644\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x662f;&#x4e00;&#x4e2a;&#x9759;&#x6001;&#x7f51;&#x9875;&#x3002;&#x5982;&#x679c;&#x60f3;&#x8981;&#x5c55;&#x793a;&#x52a8;&#x6001;&#x5185;&#x5bb9;&#xff0c;&#x5c31;&#x5fc5;&#x987b;&#x4f7f;&#x7528;&#x52a8;&#x6001;&#x7f51;&#x9875;&#x6a21;&#x677f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"643,644"}}],"payload":{"tag":"h3","lines":"595,596"}}],"payload":{"tag":"h2","lines":"450,451"}},{"content":"&#x52a8;&#x6001;&#x7f51;&#x9875;&#x6a21;&#x677f;","children":[{"content":"&#x6307;&#x5b9a;&#x9759;&#x6001;&#x6587;&#x4ef6;&#x76ee;&#x5f55;","children":[{"content":"<pre data-lines=\"845,846\"><code>&#x6a21;&#x677f;&#x6587;&#x4ef6;&#x9ed8;&#x8ba4;&#x5b58;&#x653e;&#x5728;views&#x5b50;&#x76ee;&#x5f55;&#x3002;&#x8fd9;&#x65f6;&#xff0c;&#x5982;&#x679c;&#x8981;&#x5728;&#x7f51;&#x9875;&#x4e2d;&#x52a0;&#x8f7d;&#x9759;&#x6001;&#x6587;&#x4ef6;&#xff08;&#x6bd4;&#x5982;&#x6837;&#x5f0f;&#x8868;&#x3001;&#x56fe;&#x7247;&#x7b49;&#xff09;&#xff0c;&#x5c31;&#x9700;&#x8981;&#x53e6;&#x5916;&#x6307;&#x5b9a;&#x4e00;&#x4e2a;&#x5b58;&#x653e;&#x9759;&#x6001;&#x6587;&#x4ef6;&#x7684;&#x76ee;&#x5f55;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"845,846"}},{"content":"<pre data-lines=\"847,850\"><code class=\"language-js\">app.<span class=\"hljs-title function_\">use</span>(express.<span class=\"hljs-title function_\">static</span>(<span class=\"hljs-string\">&apos;public&apos;</span>));\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"847,850"}},{"content":"<pre data-lines=\"851,852\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5728;&#x6587;&#x4ef6;app.js&#x4e4b;&#x4e2d;&#xff0c;&#x6307;&#x5b9a;&#x9759;&#x6001;&#x6587;&#x4ef6;&#x5b58;&#x653e;&#x7684;&#x76ee;&#x5f55;&#x662f;public&#x3002;&#x4e8e;&#x662f;&#xff0c;&#x5f53;&#x6d4f;&#x89c8;&#x5668;&#x53d1;&#x51fa;&#x975e;HTML&#x6587;&#x4ef6;&#x8bf7;&#x6c42;&#x65f6;&#xff0c;&#x670d;&#x52a1;&#x5668;&#x7aef;&#x5c31;&#x5230;public&#x76ee;&#x5f55;&#x5bfb;&#x627e;&#x8fd9;&#x4e2a;&#x6587;&#x4ef6;&#x3002;&#x6bd4;&#x5982;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x53d1;&#x51fa;&#x5982;&#x4e0b;&#x7684;&#x6837;&#x5f0f;&#x8868;&#x8bf7;&#x6c42;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"851,852"}},{"content":"<pre data-lines=\"853,856\"><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;/bootstrap/css/bootstrap.css&quot;</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">&quot;stylesheet&quot;</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"853,856"}},{"content":"<pre data-lines=\"857,858\"><code>&#x670d;&#x52a1;&#x5668;&#x7aef;&#x5c31;&#x5230;public/bootstrap/css/&#x76ee;&#x5f55;&#x4e2d;&#x5bfb;&#x627e;bootstrap.css&#x6587;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"857,858"}}],"payload":{"tag":"h3","lines":"843,844"}}],"payload":{"tag":"h2","lines":"647,648"}},{"content":"Express.Router&#x7528;&#x6cd5;","children":[{"content":"&#x57fa;&#x672c;&#x7528;&#x6cd5;","children":[{"content":"<pre data-lines=\"865,866\"><code>&#x9996;&#x5148;&#xff0c;Express.Router&#x662f;&#x4e00;&#x4e2a;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x8c03;&#x7528;&#x540e;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x8def;&#x7531;&#x5668;&#x5b9e;&#x4f8b;&#x3002;&#x7136;&#x540e;&#xff0c;&#x4f7f;&#x7528;&#x8be5;&#x5b9e;&#x4f8b;&#x7684;HTTP&#x52a8;&#x8bcd;&#x65b9;&#x6cd5;&#xff0c;&#x4e3a;&#x4e0d;&#x540c;&#x7684;&#x8bbf;&#x95ee;&#x8def;&#x5f84;&#xff0c;&#x6307;&#x5b9a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff1b;&#x6700;&#x540e;&#xff0c;&#x6302;&#x8f7d;&#x5230;&#x67d0;&#x4e2a;&#x8def;&#x5f84;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"865,866"}},{"content":"<pre data-lines=\"867,880\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> router = express.<span class=\"hljs-title class_\">Router</span>();\n\nrouter.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>) {\n  res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;&#x9996;&#x9875;&apos;</span>);\n});\n\nrouter.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/about&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>) {\n  res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;&#x5173;&#x4e8e;&apos;</span>);\n});\n\napp.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-string\">&apos;/&apos;</span>, router);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"867,880"}},{"content":"<pre data-lines=\"881,884\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5148;&#x5b9a;&#x4e49;&#x4e86;&#x4e24;&#x4e2a;&#x8bbf;&#x95ee;&#x8def;&#x5f84;&#xff0c;&#x7136;&#x540e;&#x5c06;&#x5b83;&#x4eec;&#x6302;&#x8f7d;&#x5230;&#x6839;&#x76ee;&#x5f55;&#x3002;&#x5982;&#x679c;&#x6700;&#x540e;&#x4e00;&#x884c;&#x6539;&#x4e3a;app.use(&#x2018;/app&#x2019;, router)&#xff0c;&#x5219;&#x76f8;&#x5f53;&#x4e8e;&#x4e3a;/app&#x548c;/app/about&#x8fd9;&#x4e24;&#x4e2a;&#x8def;&#x5f84;&#xff0c;&#x6307;&#x5b9a;&#x4e86;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x3002;\n\n&#x8fd9;&#x79cd;&#x8def;&#x7531;&#x5668;&#x53ef;&#x4ee5;&#x81ea;&#x7531;&#x6302;&#x8f7d;&#x7684;&#x505a;&#x6cd5;&#xff0c;&#x4e3a;&#x7a0b;&#x5e8f;&#x5e26;&#x6765;&#x4e86;&#x66f4;&#x5927;&#x7684;&#x7075;&#x6d3b;&#x6027;&#xff0c;&#x65e2;&#x53ef;&#x4ee5;&#x5b9a;&#x4e49;&#x591a;&#x4e2a;&#x8def;&#x7531;&#x5668;&#x5b9e;&#x4f8b;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x4e3a;&#x5c06;&#x540c;&#x4e00;&#x4e2a;&#x8def;&#x7531;&#x5668;&#x5b9e;&#x4f8b;&#x6302;&#x8f7d;&#x5230;&#x591a;&#x4e2a;&#x8def;&#x5f84;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"881,884"}}],"payload":{"tag":"h3","lines":"863,864"}},{"content":"router.route&#x65b9;&#x6cd5;","children":[{"content":"<pre data-lines=\"887,888\"><code>router&#x5b9e;&#x4f8b;&#x5bf9;&#x8c61;&#x7684;route&#x65b9;&#x6cd5;&#xff0c;&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#x8bbf;&#x95ee;&#x8def;&#x5f84;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"887,888"}},{"content":"<pre data-lines=\"889,905\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> router = express.<span class=\"hljs-title class_\">Router</span>();\n\nrouter.<span class=\"hljs-title function_\">route</span>(<span class=\"hljs-string\">&apos;/api&apos;</span>)\n\t.<span class=\"hljs-title function_\">post</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>) {\n\t\t<span class=\"hljs-comment\">// ...</span>\n\t})\n\t.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>) {\n\t\t<span class=\"hljs-title class_\">Bear</span>.<span class=\"hljs-title function_\">find</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">err, bears</span>) {\n\t\t\t<span class=\"hljs-keyword\">if</span> (err) res.<span class=\"hljs-title function_\">send</span>(err);\n\t\t\tres.<span class=\"hljs-title function_\">json</span>(bears);\n\t\t});\n\t});\n\napp.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-string\">&apos;/&apos;</span>, router);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"889,905"}}],"payload":{"tag":"h3","lines":"885,886"}},{"content":"router&#x4e2d;&#x95f4;&#x4ef6;","children":[{"content":"<pre data-lines=\"908,909\"><code>use&#x65b9;&#x6cd5;&#x4e3a;router&#x5bf9;&#x8c61;&#x6307;&#x5b9a;&#x4e2d;&#x95f4;&#x4ef6;&#xff0c;&#x5373;&#x5728;&#x6570;&#x636e;&#x6b63;&#x5f0f;&#x53d1;&#x7ed9;&#x7528;&#x6237;&#x4e4b;&#x524d;&#xff0c;&#x5bf9;&#x6570;&#x636e;&#x8fdb;&#x884c;&#x5904;&#x7406;&#x3002;&#x4e0b;&#x9762;&#x5c31;&#x662f;&#x4e00;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"908,909"}},{"content":"<pre data-lines=\"910,916\"><code class=\"language-js\">router.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res, next</span>) {\n\t<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(req.<span class=\"hljs-property\">method</span>, req.<span class=\"hljs-property\">url</span>);\n\t<span class=\"hljs-title function_\">next</span>();\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"910,916"}},{"content":"<pre data-lines=\"917,923\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x7684;next&#x53c2;&#x6570;&#xff0c;&#x8868;&#x793a;&#x63a5;&#x53d7;&#x5176;&#x4ed6;&#x4e2d;&#x95f4;&#x4ef6;&#x7684;&#x8c03;&#x7528;&#x3002;&#x51fd;&#x6570;&#x4f53;&#x4e2d;&#x7684;next()&#xff0c;&#x8868;&#x793a;&#x5c06;&#x6570;&#x636e;&#x4f20;&#x9012;&#x7ed9;&#x4e0b;&#x4e00;&#x4e2a;&#x4e2d;&#x95f4;&#x4ef6;&#x3002;\n\n&#x6ce8;&#x610f;&#xff0c;&#x4e2d;&#x95f4;&#x4ef6;&#x7684;&#x653e;&#x7f6e;&#x987a;&#x5e8f;&#x5f88;&#x91cd;&#x8981;&#xff0c;&#x7b49;&#x540c;&#x4e8e;&#x6267;&#x884c;&#x987a;&#x5e8f;&#x3002;&#x800c;&#x4e14;&#xff0c;&#x4e2d;&#x95f4;&#x4ef6;&#x5fc5;&#x987b;&#x653e;&#x5728;HTTP&#x52a8;&#x8bcd;&#x65b9;&#x6cd5;&#x4e4b;&#x524d;&#xff0c;&#x5426;&#x5219;&#x4e0d;&#x4f1a;&#x6267;&#x884c;&#x3002;\n\n&#x5bf9;&#x8def;&#x5f84;&#x53c2;&#x6570;&#x7684;&#x5904;&#x7406;\nrouter&#x5bf9;&#x8c61;&#x7684;param&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x8def;&#x5f84;&#x53c2;&#x6570;&#x7684;&#x5904;&#x7406;&#xff0c;&#x53ef;&#x4ee5;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"917,923"}},{"content":"<pre data-lines=\"924,936\"><code class=\"language-js\">router.<span class=\"hljs-title function_\">param</span>(<span class=\"hljs-string\">&apos;name&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res, next, name</span>) {\n\t<span class=\"hljs-comment\">// &#x5bf9;name&#x8fdb;&#x884c;&#x9a8c;&#x8bc1;&#x6216;&#x5176;&#x4ed6;&#x5904;&#x7406;&#x2026;&#x2026;</span>\n\t<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(name);\n\treq.<span class=\"hljs-property\">name</span> = name;\n\t<span class=\"hljs-title function_\">next</span>();\n});\n\nrouter.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/hello/:name&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>) {\n\tres.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;hello &apos;</span> + req.<span class=\"hljs-property\">name</span> + <span class=\"hljs-string\">&apos;!&apos;</span>);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"924,936"}},{"content":"<pre data-lines=\"937,938\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;get&#x65b9;&#x6cd5;&#x4e3a;&#x8bbf;&#x95ee;&#x8def;&#x5f84;&#x6307;&#x5b9a;&#x4e86;name&#x53c2;&#x6570;&#xff0c;param&#x65b9;&#x6cd5;&#x5219;&#x662f;&#x5bf9;name&#x53c2;&#x6570;&#x8fdb;&#x884c;&#x5904;&#x7406;&#x3002;&#x6ce8;&#x610f;&#xff0c;param&#x65b9;&#x6cd5;&#x5fc5;&#x987b;&#x653e;&#x5728;HTTP&#x52a8;&#x8bcd;&#x65b9;&#x6cd5;&#x4e4b;&#x524d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"937,938"}}],"payload":{"tag":"h3","lines":"906,907"}},{"content":"app.route","children":[{"content":"<pre data-lines=\"941,942\"><code>&#x5047;&#x5b9a;app&#x662f;Express&#x7684;&#x5b9e;&#x4f8b;&#x5bf9;&#x8c61;&#xff0c;Express 4.0&#x4e3a;&#x8be5;&#x5bf9;&#x8c61;&#x63d0;&#x4f9b;&#x4e86;&#x4e00;&#x4e2a;route&#x5c5e;&#x6027;&#x3002;app.route&#x5b9e;&#x9645;&#x4e0a;&#x662f;express.Router()&#x7684;&#x7f29;&#x5199;&#x5f62;&#x5f0f;&#xff0c;&#x9664;&#x4e86;&#x76f4;&#x63a5;&#x6302;&#x8f7d;&#x5230;&#x6839;&#x8def;&#x5f84;&#x3002;&#x56e0;&#x6b64;&#xff0c;&#x5bf9;&#x540c;&#x4e00;&#x4e2a;&#x8def;&#x5f84;&#x6307;&#x5b9a;get&#x548c;post&#x65b9;&#x6cd5;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x53ef;&#x4ee5;&#x5199;&#x6210;&#x94fe;&#x5f0f;&#x5f62;&#x5f0f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"941,942"}},{"content":"<pre data-lines=\"943,953\"><code class=\"language-js\">app.<span class=\"hljs-title function_\">route</span>(<span class=\"hljs-string\">&apos;/login&apos;</span>)\n\t.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>) {\n\t\tres.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;this is the login form&apos;</span>);\n\t})\n\t.<span class=\"hljs-title function_\">post</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>) {\n\t\t<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;processing&apos;</span>);\n\t\tres.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;processing the login form!&apos;</span>);\n\t});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"943,953"}},{"content":"<pre data-lines=\"954,955\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;&#x8fd9;&#x79cd;&#x5199;&#x6cd5;&#xff0c;&#x663e;&#x7136;&#x975e;&#x5e38;&#x7b80;&#x6d01;&#x6e05;&#x6670;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"954,955"}}],"payload":{"tag":"h3","lines":"939,940"}}],"payload":{"tag":"h2","lines":"859,860"}},{"content":"&#x4e0a;&#x4f20;&#x6587;&#x4ef6;","children":[{"content":"<pre data-lines=\"958,959\"><code>&#x9996;&#x5148;&#xff0c;&#x5728;&#x7f51;&#x9875;&#x63d2;&#x5165;&#x4e0a;&#x4f20;&#x6587;&#x4ef6;&#x7684;&#x8868;&#x5355;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"958,959"}},{"content":"<pre data-lines=\"960,967\"><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">form</span> <span class=\"hljs-attr\">action</span>=<span class=\"hljs-string\">&quot;/pictures/upload&quot;</span> <span class=\"hljs-attr\">method</span>=<span class=\"hljs-string\">&quot;POST&quot;</span> <span class=\"hljs-attr\">enctype</span>=<span class=\"hljs-string\">&quot;multipart/form-data&quot;</span>&gt;</span>\n  Select an image to upload:\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;file&quot;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;image&quot;</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;submit&quot;</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">&quot;Upload Image&quot;</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">form</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"960,967"}},{"content":"<pre data-lines=\"968,969\"><code>&#x7136;&#x540e;&#xff0c;&#x670d;&#x52a1;&#x5668;&#x811a;&#x672c;&#x5efa;&#x7acb;&#x6307;&#x5411;/upload&#x76ee;&#x5f55;&#x7684;&#x8def;&#x7531;&#x3002;&#x8fd9;&#x65f6;&#x53ef;&#x4ee5;&#x5b89;&#x88c5;multer&#x6a21;&#x5757;&#xff0c;&#x5b83;&#x63d0;&#x4f9b;&#x4e86;&#x4e0a;&#x4f20;&#x6587;&#x4ef6;&#x7684;&#x8bb8;&#x591a;&#x529f;&#x80fd;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"968,969"}},{"content":"<pre data-lines=\"970,987\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;express&apos;</span>);\n<span class=\"hljs-keyword\">var</span> router = express.<span class=\"hljs-title class_\">Router</span>();\n<span class=\"hljs-keyword\">var</span> multer = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;multer&apos;</span>);\n\n<span class=\"hljs-keyword\">var</span> uploading = <span class=\"hljs-title function_\">multer</span>({\n  <span class=\"hljs-attr\">dest</span>: __dirname + <span class=\"hljs-string\">&apos;../public/uploads/&apos;</span>,\n  <span class=\"hljs-comment\">// &#x8bbe;&#x5b9a;&#x9650;&#x5236;&#xff0c;&#x6bcf;&#x6b21;&#x6700;&#x591a;&#x4e0a;&#x4f20;1&#x4e2a;&#x6587;&#x4ef6;&#xff0c;&#x6587;&#x4ef6;&#x5927;&#x5c0f;&#x4e0d;&#x8d85;&#x8fc7;1MB</span>\n  <span class=\"hljs-attr\">limits</span>: {<span class=\"hljs-attr\">fileSize</span>: <span class=\"hljs-number\">1000000</span>, <span class=\"hljs-attr\">files</span>:<span class=\"hljs-number\">1</span>},\n})\n\nrouter.<span class=\"hljs-title function_\">post</span>(<span class=\"hljs-string\">&apos;/upload&apos;</span>, uploading, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>) {\n\n})\n\n<span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = router\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"970,987"}},{"content":"<pre data-lines=\"988,991\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x662f;&#x4e0a;&#x4f20;&#x6587;&#x4ef6;&#x5230;&#x672c;&#x5730;&#x76ee;&#x5f55;&#x3002;&#x4e0b;&#x9762;&#x662f;&#x4e0a;&#x4f20;&#x5230;Amazon S3&#x7684;&#x4f8b;&#x5b50;&#x3002;\n\n&#x9996;&#x5148;&#xff0c;&#x5728;S3&#x4e0a;&#x9762;&#x65b0;&#x589e;CORS&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"988,991"}},{"content":"<pre data-lines=\"992,1004\"><code class=\"language-xml\"><span class=\"hljs-meta\">&lt;?xml version=<span class=\"hljs-string\">&quot;1.0&quot;</span> encoding=<span class=\"hljs-string\">&quot;UTF-8&quot;</span>?&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">CORSConfiguration</span> <span class=\"hljs-attr\">xmlns</span>=<span class=\"hljs-string\">&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">CORSRule</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">AllowedOrigin</span>&gt;</span>*<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">AllowedOrigin</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">AllowedMethod</span>&gt;</span>GET<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">AllowedMethod</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">AllowedMethod</span>&gt;</span>POST<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">AllowedMethod</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">AllowedMethod</span>&gt;</span>PUT<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">AllowedMethod</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">AllowedHeader</span>&gt;</span>*<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">AllowedHeader</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">CORSRule</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">CORSConfiguration</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"992,1004"}},{"content":"<pre data-lines=\"1005,1008\"><code>&#x4e0a;&#x9762;&#x7684;&#x914d;&#x7f6e;&#x5141;&#x8bb8;&#x4efb;&#x610f;&#x7535;&#x8111;&#x5411;&#x4f60;&#x7684;bucket&#x53d1;&#x9001;HTTP&#x8bf7;&#x6c42;&#x3002;\n\n&#x7136;&#x540e;&#xff0c;&#x5b89;&#x88c5;aws-sdk&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1005,1008"}},{"content":"<pre data-lines=\"1009,1012\"><code class=\"language-bash\">&#x24; npm install aws-sdk --save\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1009,1012"}},{"content":"<pre data-lines=\"1013,1014\"><code>&#x4e0b;&#x9762;&#x662f;&#x670d;&#x52a1;&#x5668;&#x811a;&#x672c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1013,1014"}},{"content":"<pre data-lines=\"1015,1052\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> express = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;express&apos;</span>);\n<span class=\"hljs-keyword\">var</span> router = express.<span class=\"hljs-title class_\">Router</span>();\n<span class=\"hljs-keyword\">var</span> aws = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;aws-sdk&apos;</span>);\n\nrouter.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>) {\n  res.<span class=\"hljs-title function_\">render</span>(<span class=\"hljs-string\">&apos;index&apos;</span>)\n})\n\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-variable constant_\">AWS_ACCESS_KEY</span> = <span class=\"hljs-string\">&apos;your_AWS_access_key&apos;</span>\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-variable constant_\">AWS_SECRET_KEY</span> = <span class=\"hljs-string\">&apos;your_AWS_secret_key&apos;</span>\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-variable constant_\">S3_BUCKET</span> = <span class=\"hljs-string\">&apos;images_upload&apos;</span>\n\nrouter.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&apos;/sign&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>) {\n  aws.<span class=\"hljs-property\">config</span>.<span class=\"hljs-title function_\">update</span>({<span class=\"hljs-attr\">accessKeyId</span>: <span class=\"hljs-variable constant_\">AWS_ACCESS_KEY</span>, <span class=\"hljs-attr\">secretAccessKey</span>: <span class=\"hljs-variable constant_\">AWS_SECRET_KEY</span>});\n\n  <span class=\"hljs-keyword\">var</span> s3 = <span class=\"hljs-keyword\">new</span> aws.<span class=\"hljs-title function_\">S3</span>()\n  <span class=\"hljs-keyword\">var</span> options = {\n    <span class=\"hljs-title class_\">Bucket</span>: <span class=\"hljs-variable constant_\">S3_BUCKET</span>,\n    <span class=\"hljs-title class_\">Key</span>: req.<span class=\"hljs-property\">query</span>.<span class=\"hljs-property\">file_name</span>,\n    <span class=\"hljs-title class_\">Expires</span>: <span class=\"hljs-number\">60</span>,\n    <span class=\"hljs-title class_\">ContentType</span>: req.<span class=\"hljs-property\">query</span>.<span class=\"hljs-property\">file_type</span>,\n    <span class=\"hljs-attr\">ACL</span>: <span class=\"hljs-string\">&apos;public-read&apos;</span>\n  }\n\n  s3.<span class=\"hljs-title function_\">getSignedUrl</span>(<span class=\"hljs-string\">&apos;putObject&apos;</span>, options, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">err, data</span>){\n    <span class=\"hljs-keyword\">if</span>(err) <span class=\"hljs-keyword\">return</span> res.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;Error with S3&apos;</span>)\n\n    res.<span class=\"hljs-title function_\">json</span>({\n      <span class=\"hljs-attr\">signed_request</span>: data,\n      <span class=\"hljs-attr\">url</span>: <span class=\"hljs-string\">&apos;https://s3.amazonaws.com/&apos;</span> + <span class=\"hljs-variable constant_\">S3_BUCKET</span> + <span class=\"hljs-string\">&apos;/&apos;</span> + req.<span class=\"hljs-property\">query</span>.<span class=\"hljs-property\">file_name</span>\n    })\n  })\n})\n\n<span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = router\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1015,1052"}},{"content":"<pre data-lines=\"1053,1056\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x7528;&#x6237;&#x8bbf;&#x95ee;/sign&#x8def;&#x5f84;&#xff0c;&#x6b63;&#x786e;&#x767b;&#x5f55;&#x540e;&#xff0c;&#x4f1a;&#x6536;&#x5230;&#x4e00;&#x4e2a;JSON&#x5bf9;&#x8c61;&#xff0c;&#x91cc;&#x9762;&#x662f;S3&#x8fd4;&#x56de;&#x7684;&#x6570;&#x636e;&#x548c;&#x4e00;&#x4e2a;&#x6682;&#x65f6;&#x7528;&#x6765;&#x63a5;&#x6536;&#x4e0a;&#x4f20;&#x6587;&#x4ef6;&#x7684;URL&#xff0c;&#x6709;&#x6548;&#x671f;&#x53ea;&#x6709;60&#x79d2;&#x3002;\n\n&#x6d4f;&#x89c8;&#x5668;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1053,1056"}},{"content":"<pre data-lines=\"1057,1101\"><code class=\"language-js\"><span class=\"hljs-comment\">// HTML&#x4ee3;&#x7801;&#x4e3a;</span>\n<span class=\"hljs-comment\">// &lt;br&gt;Please select an image</span>\n<span class=\"hljs-comment\">// &lt;input type=&quot;file&quot; id=&quot;image&quot;&gt;</span>\n<span class=\"hljs-comment\">// &lt;br&gt;</span>\n<span class=\"hljs-comment\">// &lt;img id=&quot;preview&quot;&gt;</span>\n\n<span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&quot;image&quot;</span>).<span class=\"hljs-property\">onchange</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">var</span> file = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&quot;image&quot;</span>).<span class=\"hljs-property\">files</span>[<span class=\"hljs-number\">0</span>]\n  <span class=\"hljs-keyword\">if</span> (!file) <span class=\"hljs-keyword\">return</span>\n\n  <span class=\"hljs-title function_\">sign_request</span>(file, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">response</span>) {\n    <span class=\"hljs-title function_\">upload</span>(file, response.<span class=\"hljs-property\">signed_request</span>, response.<span class=\"hljs-property\">url</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n      <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&quot;preview&quot;</span>).<span class=\"hljs-property\">src</span> = response.<span class=\"hljs-property\">url</span>\n    })\n  })\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">sign_request</span>(<span class=\"hljs-params\">file, done</span>) {\n  <span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>()\n  xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&quot;GET&quot;</span>, <span class=\"hljs-string\">&quot;/sign?file_name=&quot;</span> + file.<span class=\"hljs-property\">name</span> + <span class=\"hljs-string\">&quot;&amp;file_type=&quot;</span> + file.<span class=\"hljs-property\">type</span>)\n\n  xhr.<span class=\"hljs-property\">onreadystatechange</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-keyword\">if</span>(xhr.<span class=\"hljs-property\">readyState</span> === <span class=\"hljs-number\">4</span> &amp;&amp; xhr.<span class=\"hljs-property\">status</span> === <span class=\"hljs-number\">200</span>) {\n      <span class=\"hljs-keyword\">var</span> response = <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">parse</span>(xhr.<span class=\"hljs-property\">responseText</span>)\n      <span class=\"hljs-title function_\">done</span>(response)\n    }\n  }\n  xhr.<span class=\"hljs-title function_\">send</span>()\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">upload</span>(<span class=\"hljs-params\">file, signed_request, url, done</span>) {\n  <span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>()\n  xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&quot;PUT&quot;</span>, signed_request)\n  xhr.<span class=\"hljs-title function_\">setRequestHeader</span>(<span class=\"hljs-string\">&apos;x-amz-acl&apos;</span>, <span class=\"hljs-string\">&apos;public-read&apos;</span>)\n  xhr.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-keyword\">if</span> (xhr.<span class=\"hljs-property\">status</span> === <span class=\"hljs-number\">200</span>) {\n      <span class=\"hljs-title function_\">done</span>()\n    }\n  }\n\n  xhr.<span class=\"hljs-title function_\">send</span>(file)\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1057,1101"}},{"content":"<pre data-lines=\"1102,1103\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x9996;&#x5148;&#x76d1;&#x542c;file&#x63a7;&#x4ef6;&#x7684;change&#x4e8b;&#x4ef6;&#xff0c;&#x4e00;&#x65e6;&#x6709;&#x53d8;&#x5316;&#xff0c;&#x5c31;&#x5148;&#x5411;&#x670d;&#x52a1;&#x5668;&#x8981;&#x6c42;&#x4e00;&#x4e2a;&#x4e34;&#x65f6;&#x7684;&#x4e0a;&#x4f20;URL&#xff0c;&#x7136;&#x540e;&#x5411;&#x8be5;URL&#x4e0a;&#x4f20;&#x6587;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1102,1103"}},{"content":"<pre data-lines=\"1105,1137\"><code data-lines=\"1105,1137\">&#x76ee;&#x5f55;\n&#x6982;&#x8ff0;\n&#x8fd0;&#x884c;&#x539f;&#x7406;\n    &#x5e95;&#x5c42;&#xff1a;http&#x6a21;&#x5757;\n    &#x4ec0;&#x4e48;&#x662f;&#x4e2d;&#x95f4;&#x4ef6;\n    use&#x65b9;&#x6cd5;\nExpress&#x7684;&#x65b9;&#x6cd5;\n    <span class=\"hljs-literal\">all</span>&#x65b9;&#x6cd5;&#x548c;HTTP&#x52a8;&#x8bcd;&#x65b9;&#x6cd5;\n    <span class=\"hljs-built_in\">set</span>&#x65b9;&#x6cd5;\n    response&#x5bf9;&#x8c61;\n    requst&#x5bf9;&#x8c61;\n    &#x642d;&#x5efa;HTTPs&#x670d;&#x52a1;&#x5668;\n&#x9879;&#x76ee;&#x5f00;&#x53d1;&#x5b9e;&#x4f8b;\n    &#x7f16;&#x5199;&#x542f;&#x52a8;&#x811a;&#x672c;\n    &#x914d;&#x7f6e;&#x8def;&#x7531;\n    &#x9759;&#x6001;&#x7f51;&#x9875;&#x6a21;&#x677f;\n&#x52a8;&#x6001;&#x7f51;&#x9875;&#x6a21;&#x677f;\n    &#x5b89;&#x88c5;&#x6a21;&#x677f;&#x5f15;&#x64ce;\n    &#x65b0;&#x5efa;&#x6570;&#x636e;&#x811a;&#x672c;\n    &#x65b0;&#x5efa;&#x7f51;&#x9875;&#x6a21;&#x677f;\n    &#x6e32;&#x67d3;&#x6a21;&#x677f;\n    &#x6307;&#x5b9a;&#x9759;&#x6001;&#x6587;&#x4ef6;&#x76ee;&#x5f55;\nExpress.Router&#x7528;&#x6cd5;\n    &#x57fa;&#x672c;&#x7528;&#x6cd5;\n    router.<span class=\"hljs-keyword\">route</span>&#x65b9;&#x6cd5;\n    router&#x4e2d;&#x95f4;&#x4ef6;\n    &#x5bf9;&#x8def;&#x5f84;&#x53c2;&#x6570;&#x7684;&#x5904;&#x7406;\n    app.<span class=\"hljs-keyword\">route</span>\n&#x4e0a;&#x4f20;&#x6587;&#x4ef6;\n&#x53c2;&#x8003;&#x94fe;&#x63a5;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1105,1137"}}],"payload":{"tag":"h2","lines":"956,957"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
