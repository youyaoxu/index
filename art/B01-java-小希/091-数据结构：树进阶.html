<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x6570;&#x636e;&#x7ed3;&#x6784;&#xff1a;&#x6811;&#x8fdb;&#x9636;","children":[{"content":"1.1&#x3001;&#x5e76;&#x67e5;&#x96c6;&#x7684;&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"7,11\"><code>&#x5e76;&#x67e5;&#x96c6;&#xff08;Union-Find Sets&#xff09;&#x662f;&#x4e00;&#x79cd;&#x6811;&#x578b;&#x7684;&#x6570;&#x636e;&#x7ed3;&#x6784; &#xff0c;&#x5e76;&#x67e5;&#x96c6;&#x53ef;&#x4ee5;&#x9ad8;&#x6548;&#x5730;&#x8fdb;&#x884c;&#x5982;&#x4e0b;&#x64cd;&#x4f5c;&#xff1a;\n\n*   &#x67e5;&#x8be2;&#x5143;&#x7d20;p&#x548c;&#x5143;&#x7d20;q&#x662f;&#x5426;&#x5c5e;&#x4e8e;&#x540c;&#x4e00;&#x7ec4;\n*   &#x5408;&#x5e76;&#x5143;&#x7d20;p&#x548c;&#x5143;&#x7d20;q&#x6240;&#x5728;&#x7ec4;&#x4e3a;&#x540c;&#x4e00;&#x7ec4;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"7,11"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/cf257304cb328e74837c5a060f96f926.png\" alt>","children":[],"payload":{"tag":"img","lines":"12,13"}}],"payload":{"tag":"h2","lines":"4,6"}},{"content":"1.2&#x3001;&#x5e76;&#x67e5;&#x96c6;&#x7684;&#x7ed3;&#x6784;","children":[{"content":"<pre data-lines=\"17,23\"><code>&#x5e76;&#x67e5;&#x96c6;&#x4e5f;&#x662f;&#x4e00;&#x79cd;&#x6811;&#x578b;&#x7ed3;&#x6784;&#xff0c;&#x4f46;&#x8fd9;&#x68f5;&#x6811;&#x8ddf;&#x6211;&#x4eec;&#x4e4b;&#x524d;&#x8bb2;&#x7684;[&#x4e8c;&#x53c9;&#x6811;](https://so.csdn.net/so/search?q=%E4%BA%8C%E5%8F%89%E6%A0%91&amp;spm=1001.2101.3001.7020)&#x3001;&#x7ea2;&#x9ed1;&#x6811;&#x7b49;&#x90fd;&#x4e0d;&#x4e00;&#x6837;&#xff0c;&#x8fd9;&#x79cd;&#x6811;&#x7684;&#x8981;&#x6c42;&#x6bd4;&#x8f83;&#x7b80;&#x5355;&#xff1a;\n\n1.  &#x6bcf;&#x4e2a;&#x5143;&#x7d20;&#x90fd;&#x552f;&#x4e00;&#x7684;&#x5bf9;&#x5e94;&#x4e00;&#x4e2a;&#x7ed3;&#x70b9;&#xff1b;\n2.  &#x6bcf;&#x4e00;&#x7ec4;&#x6570;&#x636e;&#x4e2d;&#x7684;&#x591a;&#x4e2a;&#x5143;&#x7d20;&#x90fd;&#x5728;&#x540c;&#x4e00;&#x9897;&#x6811;&#x4e2d;&#xff1b;\n3.  &#x4e00;&#x4e2a;&#x7ec4;&#x4e2d;&#x7684;&#x6570;&#x636e;&#x5bf9;&#x5e94;&#x7684;&#x6811;&#x548c;&#x53e6;&#x5916;&#x4e00;&#x4e2a;&#x7ec4;&#x4e2d;&#x7684;&#x6570;&#x636e;&#x5bf9;&#x5e94;&#x7684;&#x6811;&#x4e4b;&#x95f4;&#x6ca1;&#x6709;&#x4efb;&#x4f55;&#x8054;&#x7cfb;&#xff1b;\n4.  &#x5143;&#x7d20;&#x5728;&#x6811;&#x4e2d;&#x5e76;&#x6ca1;&#x6709;&#x5b50;&#x7236;&#x7ea7;&#x5173;&#x7cfb;&#x7684;&#x786c;&#x6027;&#x8981;&#x6c42;&#xff1b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"17,23"}}],"payload":{"tag":"h2","lines":"14,16"}},{"content":"1.3&#x3001;&#x5e76;&#x67e5;&#x96c6;&#x7684;&#x5b9e;&#x73b0;1","children":[{"content":"<pre data-lines=\"27,35\"><code>**&#x5b9e;&#x73b0;&#x601d;&#x60f3;&#xff1a;** \n\n*   &#x5173;&#x4e8e;&#x521d;&#x59cb;&#x5316;&#xff1a;\n\n1.  &#x521d;&#x59cb;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x6bcf;&#x4e2a;&#x5143;&#x7d20;&#x90fd;&#x5728;&#x4e00;&#x4e2a;&#x72ec;&#x7acb;&#x7684;&#x5206;&#x7ec4;&#x4e2d;&#xff0c;&#x6240;&#x4ee5;&#xff0c;&#x521d;&#x59cb;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x7684;&#x6570;&#x636e;&#x9ed8;&#x8ba4;&#x5206;&#x4e3a;N&#x4e2a;&#x7ec4;&#xff1b;\n2.  &#x521d;&#x59cb;&#x5316;&#x6570;&#x7ec4;eleAndGroup&#xff1b;\n3.  &#x628a;eleAndGroup&#x6570;&#x7ec4;&#x7684;&#x7d22;&#x5f15;&#x770b;&#x505a;&#x662f;&#x6bcf;&#x4e2a;&#x7ed3;&#x70b9;&#x5b58;&#x50a8;&#x7684;&#x5143;&#x7d20;&#xff0c;&#x628a;eleAndGroup&#x6570;&#x7ec4;&#x6bcf;&#x4e2a;&#x7d22;&#x5f15;&#x5904;&#x7684;&#x503c;&#x770b;&#x505a;&#x662f;&#x8be5;&#x7ed3;&#x70b9;  \n    &#x6240;&#x5728;&#x7684;&#x5206;&#x7ec4;&#xff0c;&#x90a3;&#x4e48;&#x521d;&#x59cb;&#x5316;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;i&#x7d22;&#x5f15;&#x5904;&#x5b58;&#x50a8;&#x7684;&#x503c;&#x5c31;&#x662f;i&#xff1b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"27,35"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/c0098d35caf6f9d0cc2bcf80e66e3f56.png\" alt>","children":[],"payload":{"tag":"img","lines":"36,37"}},{"content":"<pre data-lines=\"38,47\"><code>*   &#x5173;&#x4e8e;&#x7ed3;&#x70b9;&#x67e5;&#x627e;&#xff1a;\n\n1.  &#x76f4;&#x63a5;&#x8fd4;&#x56de;&#x8be5;&#x5143;&#x7d20;&#x6240;&#x5728;&#x7ec4;&#x7684;&#x6807;&#x8bc6; eleAndGroup\\[p\\]&#xff1b;\n\n*   &#x5173;&#x4e8e;&#x5408;&#x5e76;&#x5206;&#x7ec4;&#xff1a;\n\n1.  &#x5982;&#x679c;p&#x548c;q&#x5df2;&#x7ecf;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x5206;&#x7ec4;&#x4e2d;&#xff0c;&#x5219;&#x65e0;&#x9700;&#x5408;&#x5e76;&#xff1b;\n2.  &#x5982;&#x679c;p&#x548c;q&#x4e0d;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x5206;&#x7ec4;&#xff0c;&#x5219;&#x53ea;&#x9700;&#x8981;&#x5c06;p&#x5143;&#x7d20;&#x6240;&#x5728;&#x7ec4;&#x7684;&#x6240;&#x6709;&#x7684;&#x5143;&#x7d20;&#x7684;&#x7ec4;&#x6807;&#x8bc6;&#x7b26;&#x4fee;&#x6539;&#x4e3a;q&#x5143;&#x7d20;&#x6240;&#x5728;&#x7ec4;&#x7684;&#x6807;&#x8bc6;&#x7b26;&#xff1b;\n3.  &#x5206;&#x7ec4;&#x6570;&#x91cf;-1&#xff1b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"38,47"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/801175515d92ce8129990be45d62230b.png\" alt>","children":[],"payload":{"tag":"img","lines":"48,49"}},{"content":"<pre data-lines=\"50,51\"><code>**&#x5b9e;&#x73b0;&#x4ee3;&#x7801;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"50,51"}},{"content":"<pre data-lines=\"52,97\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UnionFindSets</span> {\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span>[] eleAndGroup;      \n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> count;              \n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">UnionFindSets</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> N)</span> {\n        <span class=\"hljs-built_in\">this</span>.count = N;\n        <span class=\"hljs-built_in\">this</span>.eleAndGroup = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">int</span>[N];\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; eleAndGroup.length; i++) {\n            eleAndGroup[i] = i;\n        }\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">count</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> count;\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">find</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> p)</span> {\n        <span class=\"hljs-keyword\">return</span> eleAndGroup[p];\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">boolean</span> <span class=\"hljs-title function_\">connected</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> p, <span class=\"hljs-type\">int</span> q)</span> {\n        <span class=\"hljs-keyword\">return</span> find(p) == find(q);\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">union</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> p, <span class=\"hljs-type\">int</span> q)</span> {\n        <span class=\"hljs-keyword\">if</span> (connected(p, q)) {\n            <span class=\"hljs-keyword\">return</span>;\n        }\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">pGroup</span> <span class=\"hljs-operator\">=</span> find(p);\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">qGroup</span> <span class=\"hljs-operator\">=</span> find(q);\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; eleAndGroup.length; i++) {\n            <span class=\"hljs-keyword\">if</span> (eleAndGroup[i] == pGroup) {\n                eleAndGroup[i] = qGroup;\n            }\n        }\n        <span class=\"hljs-built_in\">this</span>.count--;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"52,97"}},{"content":"<pre data-lines=\"98,99\"><code>**&#x6d4b;&#x8bd5;&#x4ee3;&#x7801;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"98,99"}},{"content":"<pre data-lines=\"100,123\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UnionFindSetsTest</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        <span class=\"hljs-type\">UnionFindSets</span> <span class=\"hljs-variable\">ufs</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">UnionFindSets</span>(<span class=\"hljs-number\">4</span>);\n        System.out.println(<span class=\"hljs-string\">&quot;&#x521d;&#x59cb;&#x5316;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x6709;&#xff1a;&quot;</span> + ufs.count() + <span class=\"hljs-string\">&quot;&#x4e2a;&#x5206;&#x7ec4;&quot;</span>);\n        <span class=\"hljs-type\">Scanner</span> <span class=\"hljs-variable\">sc</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Scanner</span>(System.in);\n        <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n            System.out.print(<span class=\"hljs-string\">&quot;&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;&quot;</span>);\n            <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">p</span> <span class=\"hljs-operator\">=</span> sc.nextInt();\n            System.out.print(<span class=\"hljs-string\">&quot;&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;&quot;</span>);\n            <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">q</span> <span class=\"hljs-operator\">=</span> sc.nextInt();\n            <span class=\"hljs-keyword\">if</span> (ufs.connected(p, q)) {\n                System.out.println(p + <span class=\"hljs-string\">&quot;&#x5143;&#x7d20;&#x548c;&quot;</span> + q + <span class=\"hljs-string\">&quot;&#x5143;&#x7d20;&#x5df2;&#x7ecf;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x7ec4;&#x4e2d;&#x4e86;&quot;</span>);\n                <span class=\"hljs-keyword\">continue</span>;\n            } <span class=\"hljs-keyword\">else</span> {\n                ufs.union(p, q);\n                System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x8fd8;&#x6709;&#xff1a;&quot;</span> + ufs.count() + <span class=\"hljs-string\">&quot;&#x4e2a;&#x5206;&#x7ec4;&quot;</span>);\n            }\n        }\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"100,123"}},{"content":"<pre data-lines=\"124,146\"><code class=\"language-java\">&#x521d;&#x59cb;&#x5316;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x6709;&#xff1a;4&#x4e2a;&#x5206;&#x7ec4;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;0\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;1\n&#x5f53;&#x524d;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x8fd8;&#x6709;&#xff1a;3&#x4e2a;&#x5206;&#x7ec4;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;1\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;2\n&#x5f53;&#x524d;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x8fd8;&#x6709;&#xff1a;2&#x4e2a;&#x5206;&#x7ec4;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;2\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;3\n&#x5f53;&#x524d;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x8fd8;&#x6709;&#xff1a;1&#x4e2a;&#x5206;&#x7ec4;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;0\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;1\n0&#x5143;&#x7d20;&#x548c;1&#x5143;&#x7d20;&#x5df2;&#x7ecf;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x7ec4;&#x4e2d;&#x4e86;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;1\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;2\n1&#x5143;&#x7d20;&#x548c;2&#x5143;&#x7d20;&#x5df2;&#x7ecf;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x7ec4;&#x4e2d;&#x4e86;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;2\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;3\n2&#x5143;&#x7d20;&#x548c;3&#x5143;&#x7d20;&#x5df2;&#x7ecf;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x7ec4;&#x4e2d;&#x4e86;\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"124,146"}}],"payload":{"tag":"h2","lines":"24,26"}},{"content":"1.4&#x3001;&#x5e76;&#x67e5;&#x96c6;&#x7684;&#x5b9e;&#x73b0;2","children":[{"content":"<pre data-lines=\"150,162\"><code>**&#x5b9e;&#x73b0;&#x601d;&#x60f3;&#xff1a;** \n\n*   &#x5173;&#x4e8e;&#x521d;&#x59cb;&#x5316;&#xff1a;\n\n&#x5982;&#x679c;&#x6211;&#x4eec;&#x5e76;&#x67e5;&#x96c6;&#x5b58;&#x50a8;&#x7684;&#x6bcf;&#x4e00;&#x4e2a;&#x6574;&#x6570;&#x8868;&#x793a;&#x7684;&#x662f;&#x4e00;&#x4e2a;&#x5927;&#x578b;&#x8ba1;&#x7b97;&#x673a;&#x7f51;&#x7edc;&#x4e2d;&#x7684;&#x8ba1;&#x7b97;&#x673a;&#xff0c;&#x5219;&#x6211;&#x4eec;&#x5c31;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;connected(int p,int q)&#x6765;&#x68c0;&#x6d4b;&#xff0c;&#x8be5;&#x7f51;&#x7edc;&#x4e2d;&#x7684;&#x67d0;&#x4e24;&#x53f0;&#x8ba1;&#x7b97;&#x673a;&#x4e4b;&#x95f4;&#x662f;&#x5426;&#x8fde;&#x901a;&#xff1f;&#x5982;&#x679c;&#x8fde;&#x901a;&#xff0c;&#x5219;&#x4ed6;&#x4eec;&#x4e4b;&#x95f4;&#x53ef;&#x4ee5;&#x901a;&#x4fe1;&#xff0c;&#x5982;&#x679c;&#x4e0d;&#x8fde;&#x901a;&#xff0c;&#x5219;&#x4e0d;&#x80fd;&#x901a;&#x4fe1;&#xff0c;&#x6b64;&#x65f6;&#x6211;&#x4eec;&#x53c8;&#x53ef;&#x4ee5;&#x8c03;&#x7528;union(int p,int q)&#x4f7f;&#x5f97;p&#x548c;q&#x4e4b;&#x95f4;&#x8fde;&#x901a;&#xff0c;&#x8fd9;&#x6837;&#x4e24;&#x53f0;&#x8ba1;&#x7b97;&#x673a;&#x4e4b;&#x95f4;&#x5c31;&#x53ef;&#x4ee5;&#x901a;&#x4fe1;&#x4e86;&#x3002;\n\n&#x4e00;&#x822c;&#x50cf;&#x8ba1;&#x7b97;&#x673a;&#x8fd9;&#x6837;&#x7f51;&#x7edc;&#x578b;&#x7684;&#x6570;&#x636e;&#xff0c;&#x6211;&#x4eec;&#x8981;&#x6c42;&#x7f51;&#x7edc;&#x4e2d;&#x7684;&#x6bcf;&#x4e24;&#x4e2a;&#x6570;&#x636e;&#x4e4b;&#x95f4;&#x90fd;&#x662f;&#x76f8;&#x8fde;&#x901a;&#x7684;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x6211;&#x4eec;&#x9700;&#x8981;&#x8c03;&#x7528;&#x5f88;&#x591a;&#x6b21;union&#x65b9;&#x6cd5;&#xff0c;&#x4f7f;&#x5f97;&#x7f51;&#x7edc;&#x4e2d;&#x6240;&#x6709;&#x6570;&#x636e;&#x76f8;&#x8fde;&#xff0c;&#x5176;&#x5b9e;&#x6211;&#x4eec;&#x5f88;&#x5bb9;&#x6613;&#x53ef;&#x4ee5;&#x5f97;&#x51fa;&#xff0c;&#x5982;&#x679c;&#x8981;&#x8ba9;&#x7f51;&#x7edc;&#x4e2d;&#x7684;&#x6570;&#x636e;&#x90fd;&#x76f8;&#x8fde;&#xff0c;&#x5219;&#x6211;&#x4eec;&#x81f3;&#x5c11;&#x8981;&#x8c03;&#x7528;N-1&#x6b21;union&#x65b9;&#x6cd5;&#x624d;&#x53ef;&#x4ee5;&#xff0c;&#x4f46;&#x7531;&#x4e8e;&#x6211;&#x4eec;&#x7684;union&#x65b9;&#x6cd5;&#x4e2d;&#x4f7f;&#x7528;for&#x5faa;&#x73af;&#x904d;&#x5386;&#x4e86;&#x6240;&#x6709;&#x7684;&#x5143;&#x7d20;&#xff0c;&#x6240;&#x4ee5;&#x5f88;&#x660e;&#x663e;&#xff0c;&#x6211;&#x4eec;&#x4e4b;&#x524d;&#x5b9e;&#x73b0;&#x7684;&#x5408;&#x5e76;&#x7b97;&#x6cd5;&#x7684;&#x65f6;&#x95f4;&#x590d;&#x6742;&#x5ea6;&#x662f;O(N2)&#xff0c;&#x5982;&#x679c;&#x8981;&#x89e3;&#x51b3;&#x5927;&#x89c4;&#x6a21;&#x95ee;&#x9898;&#xff0c;&#x4ed6;&#x662f;&#x4e0d;&#x5408;&#x9002;&#x7684;&#xff0c;&#x6240;&#x4ee5;&#x6211;&#x4eec;&#x9700;&#x8981;&#x5bf9;&#x7b97;&#x6cd5;&#x8fdb;&#x884c;&#x4f18;&#x5316;&#x3002;\n\n&#x4e3a;&#x4e86;&#x63d0;&#x5347;union&#x7b97;&#x6cd5;&#x7684;&#x6027;&#x80fd;&#xff0c;&#x6211;&#x4eec;&#x9700;&#x8981;&#x91cd;&#x65b0;&#x8bbe;&#x8ba1;find&#x65b9;&#x6cd5;&#x548c;union&#x65b9;&#x6cd5;&#x7684;&#x5b9e;&#x73b0;&#xff0c;&#x6b64;&#x65f6;&#x6211;&#x4eec;&#x5148;&#x9700;&#x8981;&#x5bf9;&#x6211;&#x4eec;&#x7684;&#x4e4b;&#x524d;&#x6570;&#x636e;&#x7ed3;&#x6784;&#x4e2d;&#x7684;eleAndGourp&#x6570;&#x7ec4;&#x7684;&#x542b;&#x4e49;&#x8fdb;&#x884c;&#x91cd;&#x65b0;&#x8bbe;&#x5b9a;&#xff1a;\n\n1.  &#x6211;&#x4eec;&#x4ecd;&#x7136;&#x8ba9;eleAndGroup&#x6570;&#x7ec4;&#x7684;&#x7d22;&#x5f15;&#x4f5c;&#x4e3a;&#x67d0;&#x4e2a;&#x7ed3;&#x70b9;&#x7684;&#x5143;&#x7d20;&#xff1b;\n2.  eleAndGroup\\[i\\]&#x7684;&#x503c;&#x4e0d;&#x518d;&#x662f;&#x5f53;&#x524d;&#x7ed3;&#x70b9;&#x6240;&#x5728;&#x7684;&#x5206;&#x7ec4;&#x6807;&#x8bc6;&#xff0c;&#x800c;&#x662f;&#x8be5;&#x7ed3;&#x70b9;&#x7684;&#x7236;&#x7ed3;&#x70b9;&#xff1b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"150,162"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/4769a42186ff679650d3d41f948493a4.png\" alt>","children":[],"payload":{"tag":"img","lines":"163,164"}},{"content":"<pre data-lines=\"165,169\"><code>*   &#x5173;&#x4e8e;&#x7ed3;&#x70b9;&#x67e5;&#x627e;&#xff1a;\n\n1.  &#x5224;&#x65ad;&#x5f53;&#x524d;&#x5143;&#x7d20;p&#x7684;&#x7236;&#x7ed3;&#x70b9;eleAndGroup\\[p\\]&#x662f;&#x4e0d;&#x662f;&#x81ea;&#x5df1;&#xff0c;&#x5982;&#x679c;&#x662f;&#x81ea;&#x5df1;&#x5219;&#x8bc1;&#x660e;&#x5df2;&#x7ecf;&#x662f;&#x6839;&#x7ed3;&#x70b9;&#x4e86;&#xff1b;\n2.  &#x5982;&#x679c;&#x5f53;&#x524d;&#x5143;&#x7d20;p&#x7684;&#x7236;&#x7ed3;&#x70b9;&#x4e0d;&#x662f;&#x81ea;&#x5df1;&#xff0c;&#x5219;&#x8ba9;p=eleAndGroup\\[p\\]&#xff0c;&#x7ee7;&#x7eed;&#x627e;&#x7236;&#x7ed3;&#x70b9;&#x7684;&#x7236;&#x7ed3;&#x70b9;&#xff0c;&#x76f4;&#x5230;&#x627e;&#x5230;&#x6839;&#x7ed3;&#x70b9;&#x4e3a;&#x6b62;&#xff1b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"165,169"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/b0a73782c884df0f10245b3d5f9189a8.png\" alt>","children":[],"payload":{"tag":"img","lines":"170,171"}},{"content":"<pre data-lines=\"172,179\"><code>*   &#x5173;&#x4e8e;&#x5408;&#x5e76;&#x5206;&#x7ec4;&#xff1a;\n\n1.  &#x627e;&#x5230;p&#x5143;&#x7d20;&#x6240;&#x5728;&#x6811;&#x7684;&#x6839;&#x7ed3;&#x70b9;&#xff1b;\n2.  &#x627e;&#x5230;q&#x5143;&#x7d20;&#x6240;&#x5728;&#x6811;&#x7684;&#x6839;&#x7ed3;&#x70b9;&#xff1b;\n3.  &#x5982;&#x679c;p&#x548c;q&#x5df2;&#x7ecf;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x6811;&#x4e2d;&#xff0c;&#x5219;&#x65e0;&#x9700;&#x5408;&#x5e76;&#xff1b;\n4.  &#x5982;&#x679c;p&#x548c;q&#x4e0d;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x5206;&#x7ec4;&#x4e2d;&#xff0c;&#x5219;&#x53ea;&#x9700;&#x8981;&#x5c06;p&#x5143;&#x7d20;&#x6240;&#x5728;&#x6811;&#x6839;&#x7ed3;&#x70b9;&#x7684;&#x7236;&#x7ed3;&#x70b9;&#x8bbe;&#x7f6e;&#x4e3a;q&#x5143;&#x7d20;&#x7684;&#x6839;&#x7ed3;&#x70b9;&#x5373;&#x53ef;&#xff1b;\n5.  &#x5206;&#x7ec4;&#x6570;&#x91cf;-1&#xff1b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"172,179"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/77c7288cf4f54e2cdf4a083333be7f14.png\" alt>","children":[],"payload":{"tag":"img","lines":"180,181"}},{"content":"<pre data-lines=\"182,183\"><code>**&#x5b9e;&#x73b0;&#x4ee3;&#x7801;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"182,183"}},{"content":"<pre data-lines=\"184,234\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UnionFindSets</span> {\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span>[] eleAndGroup;      \n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> count;              \n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">UnionFindSets</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> N)</span> {\n        <span class=\"hljs-built_in\">this</span>.count = N;\n        <span class=\"hljs-built_in\">this</span>.eleAndGroup = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">int</span>[N];\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; eleAndGroup.length; i++) {\n            eleAndGroup[i] = i;\n        }\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">count</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> count;\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">find</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> p)</span> {\n        <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n            <span class=\"hljs-keyword\">if</span> (p == eleAndGroup[p]) {\n                <span class=\"hljs-keyword\">return</span> p;\n            }\n            p = eleAndGroup[p];\n        }\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">boolean</span> <span class=\"hljs-title function_\">connected</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> p, <span class=\"hljs-type\">int</span> q)</span> {\n        <span class=\"hljs-keyword\">return</span> find(p) == find(q);\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">union</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> p, <span class=\"hljs-type\">int</span> q)</span> {\n        \n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">pRoot</span> <span class=\"hljs-operator\">=</span> find(p);\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">qRoot</span> <span class=\"hljs-operator\">=</span> find(q);\n        \n        <span class=\"hljs-keyword\">if</span> (pRoot == qRoot) {\n            <span class=\"hljs-keyword\">return</span>;\n        }\n        \n        eleAndGroup[pRoot] = qRoot;\n        \n        <span class=\"hljs-built_in\">this</span>.count--;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"184,234"}},{"content":"<pre data-lines=\"235,236\"><code>**&#x6d4b;&#x8bd5;&#x4ee3;&#x7801;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"235,236"}},{"content":"<pre data-lines=\"237,260\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UnionFindSetsTest</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        <span class=\"hljs-type\">UnionFindSets</span> <span class=\"hljs-variable\">ufs</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">UnionFindSets</span>(<span class=\"hljs-number\">4</span>);\n        System.out.println(<span class=\"hljs-string\">&quot;&#x521d;&#x59cb;&#x5316;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x6709;&#xff1a;&quot;</span> + ufs.count() + <span class=\"hljs-string\">&quot;&#x4e2a;&#x5206;&#x7ec4;&quot;</span>);\n        <span class=\"hljs-type\">Scanner</span> <span class=\"hljs-variable\">sc</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Scanner</span>(System.in);\n        <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n            System.out.print(<span class=\"hljs-string\">&quot;&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;&quot;</span>);\n            <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">p</span> <span class=\"hljs-operator\">=</span> sc.nextInt();\n            System.out.print(<span class=\"hljs-string\">&quot;&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;&quot;</span>);\n            <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">q</span> <span class=\"hljs-operator\">=</span> sc.nextInt();\n            <span class=\"hljs-keyword\">if</span> (ufs.connected(p, q)) {\n                System.out.println(p + <span class=\"hljs-string\">&quot;&#x5143;&#x7d20;&#x548c;&quot;</span> + q + <span class=\"hljs-string\">&quot;&#x5143;&#x7d20;&#x5df2;&#x7ecf;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x7ec4;&#x4e2d;&#x4e86;&quot;</span>);\n                <span class=\"hljs-keyword\">continue</span>;\n            } <span class=\"hljs-keyword\">else</span> {\n                ufs.union(p, q);\n                System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x8fd8;&#x6709;&#xff1a;&quot;</span> + ufs.count() + <span class=\"hljs-string\">&quot;&#x4e2a;&#x5206;&#x7ec4;&quot;</span>);\n            }\n        }\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"237,260"}},{"content":"<pre data-lines=\"261,283\"><code class=\"language-java\">&#x521d;&#x59cb;&#x5316;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x6709;&#xff1a;4&#x4e2a;&#x5206;&#x7ec4;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;0\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;1\n&#x5f53;&#x524d;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x8fd8;&#x6709;&#xff1a;3&#x4e2a;&#x5206;&#x7ec4;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;1\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;2\n&#x5f53;&#x524d;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x8fd8;&#x6709;&#xff1a;2&#x4e2a;&#x5206;&#x7ec4;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;2\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;3\n&#x5f53;&#x524d;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x8fd8;&#x6709;&#xff1a;1&#x4e2a;&#x5206;&#x7ec4;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;0\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;1\n0&#x5143;&#x7d20;&#x548c;1&#x5143;&#x7d20;&#x5df2;&#x7ecf;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x7ec4;&#x4e2d;&#x4e86;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;1\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;2\n1&#x5143;&#x7d20;&#x548c;2&#x5143;&#x7d20;&#x5df2;&#x7ecf;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x7ec4;&#x4e2d;&#x4e86;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;2\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;3\n2&#x5143;&#x7d20;&#x548c;3&#x5143;&#x7d20;&#x5df2;&#x7ecf;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x7ec4;&#x4e2d;&#x4e86;\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"261,283"}}],"payload":{"tag":"h2","lines":"147,149"}},{"content":"1.5&#x3001;&#x5e76;&#x67e5;&#x96c6;&#x7684;&#x5b9e;&#x73b0;3","children":[{"content":"<pre data-lines=\"287,290\"><code>**&#x5b9e;&#x73b0;&#x601d;&#x60f3;&#xff1a;** \n\n&#x6211;&#x4eec;&#x4f18;&#x5316;&#x540e;&#x7684;&#x7b97;&#x6cd5;union&#xff0c;&#x5982;&#x679c;&#x8981;&#x628a;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x6240;&#x6709;&#x7684;&#x6570;&#x636e;&#x8fde;&#x901a;&#xff0c;&#x4ecd;&#x7136;&#x81f3;&#x5c11;&#x8981;&#x8c03;&#x7528;N-1&#x6b21;union&#x65b9;&#x6cd5;&#xff0c;&#x4f46;&#x662f;&#xff0c;&#x6211;&#x4eec;&#x53d1;&#x73b0;union&#x65b9;&#x6cd5;&#x4e2d;&#x5df2;&#x7ecf;&#x6ca1;&#x6709;&#x4e86;for&#x5faa;&#x73af;&#xff0c;&#x6240;&#x4ee5;union&#x7b97;&#x6cd5;&#x7684;&#x65f6;&#x95f4;&#x590d;&#x6742;&#x5ea6;&#x7531;O(N2)&#x53d8;&#x4e3a;&#x4e86;O(N)&#x3002;&#x4f46;&#x662f;&#x8fd9;&#x4e2a;&#x7b97;&#x6cd5;&#x4ecd;&#x7136;&#x6709;&#x95ee;&#x9898;&#xff0c;&#x56e0;&#x4e3a;&#x6211;&#x4eec;&#x4e4b;&#x524d;&#x4e0d;&#x4ec5;&#x4fee;&#x6539;&#x4e86;union&#x7b97;&#x6cd5;&#xff0c;&#x8fd8;&#x4fee;&#x6539;&#x4e86;find&#x7b97;&#x6cd5;&#x3002;&#x6211;&#x4eec;&#x4fee;&#x6539;&#x524d;&#x7684;find&#x7b97;&#x6cd5;&#x7684;&#x65f6;&#x95f4;&#x590d;&#x6742;&#x5ea6;&#x5728;&#x4efb;&#x4f55;&#x60c5;&#x51b5;&#x4e0b;&#x90fd;&#x4e3a;O(1)&#xff0c;&#x4f46;&#x4fee;&#x6539;&#x540e;&#x7684;find&#x7b97;&#x6cd5;&#x5728;&#x6700;&#x574f;&#x60c5;&#x51b5;&#x4e0b;&#x662f;O(N)&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"287,290"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/94414cb0a84e99cfa520a7932bbd5aea.png\" alt>","children":[],"payload":{"tag":"img","lines":"291,292"}},{"content":"<pre data-lines=\"293,294\"><code>&#x5728;union&#x65b9;&#x6cd5;&#x4e2d;&#x8c03;&#x7528;&#x4e86;find&#x65b9;&#x6cd5;&#xff0c;&#x6240;&#x4ee5;&#x5728;&#x6700;&#x574f;&#x60c5;&#x51b5;&#x4e0b;union&#x7b97;&#x6cd5;&#x7684;&#x65f6;&#x95f4;&#x590d;&#x6742;&#x5ea6;&#x4ecd;&#x7136;&#x4e3a;O(N2)&#x3002;&#x5176;&#x6700;&#x4e3b;&#x8981;&#x7684;&#x95ee;&#x9898;&#x5728;&#x4e8e;&#x6700;&#x574f;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x6811;&#x7684;&#x6df1;&#x5ea6;&#x548c;&#x6570;&#x7ec4;&#x7684;&#x5927;&#x5c0f;&#x4e00;&#x6837;&#xff0c;&#x5982;&#x679c;&#x6211;&#x4eec;&#x80fd;&#x591f;&#x901a;&#x8fc7;&#x4e00;&#x4e9b;&#x7b97;&#x6cd5;&#x8ba9;&#x5408;&#x5e76;&#x65f6;&#xff0c;&#x751f;&#x6210;&#x7684;&#x6811;&#x7684;&#x6df1;&#x5ea6;&#x5c3d;&#x53ef;&#x80fd;&#x7684;&#x5c0f;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x4f18;&#x5316;find&#x65b9;&#x6cd5;&#x3002;&#x4e4b;&#x524d;&#x6211;&#x4eec;&#x5728;union&#x7b97;&#x6cd5;&#x4e2d;&#xff0c;&#x5408;&#x5e76;&#x6811;&#x7684;&#x65f6;&#x5019;&#x5c06;&#x4efb;&#x610f;&#x7684;&#x4e00;&#x68f5;&#x6811;&#x8fde;&#x63a5;&#x5230;&#x4e86;&#x53e6;&#x5916;&#x4e00;&#x68f5;&#x6811;&#xff0c;&#x8fd9;&#x79cd;&#x5408;&#x5e76;&#x65b9;&#x6cd5;&#x662f;&#x6bd4;&#x8f83;&#x66b4;&#x529b;&#x7684;&#xff0c;&#x5982;&#x679c;&#x6211;&#x4eec;&#x628a;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x6bcf;&#x4e00;&#x68f5;&#x6811;&#x7684;&#x5927;&#x5c0f;&#x8bb0;&#x5f55;&#x4e0b;&#x6765;&#xff0c;&#x7136;&#x540e;&#x5728;&#x6bcf;&#x6b21;&#x5408;&#x5e76;&#x6811;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x628a;&#x8f83;&#x5c0f;&#x7684;&#x6811;&#x8fde;&#x63a5;&#x5230;&#x8f83;&#x5927;&#x7684;&#x6811;&#x4e0a;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x51cf;&#x5c0f;&#x6811;&#x7684;&#x6df1;&#x5ea6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"293,294"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a982367eeab8808585d5e7e60e2c4073.png\" alt>","children":[],"payload":{"tag":"img","lines":"295,296"}},{"content":"<pre data-lines=\"297,300\"><code>&#x53ea;&#x8981;&#x6211;&#x4eec;&#x4fdd;&#x8bc1;&#x6bcf;&#x6b21;&#x5408;&#x5e76;&#xff0c;&#x90fd;&#x80fd;&#x628a;&#x5c0f;&#x6811;&#x5408;&#x5e76;&#x5230;&#x5927;&#x6811;&#x4e0a;&#xff0c;&#x5c31;&#x80fd;&#x591f;&#x538b;&#x7f29;&#x5408;&#x5e76;&#x540e;&#x65b0;&#x6811;&#x7684;&#x8def;&#x5f84;&#xff0c;&#x8fd9;&#x6837;&#x5c31;&#x80fd;&#x63d0;&#x9ad8;find&#x65b9;&#x6cd5;&#x7684;&#x6548;&#x7387;&#x3002;&#x4e3a;&#x4e86;&#x5b8c;&#x6210;&#x8fd9;&#x4e2a;&#x9700;&#x6c42;&#xff0c;&#x6211;&#x4eec;&#x9700;&#x8981;&#x53e6;&#x5916;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;&#x6765;&#x8bb0;&#x5f55;&#x5b58;&#x50a8;&#x6bcf;&#x4e2a;&#x6839;&#x7ed3;&#x70b9;&#x5bf9;&#x5e94;&#x7684;&#x6811;&#x4e2d;&#x5143;&#x7d20;&#x7684;&#x4e2a;&#x6570;&#xff0c;&#x5e76;&#x4e14;&#x9700;&#x8981;&#x4e00;&#x4e9b;&#x4ee3;&#x7801;&#x8c03;&#x6574;&#x6570;&#x7ec4;&#x4e2d;&#x7684;&#x503c;&#x3002;\n\n**&#x5b9e;&#x73b0;&#x4ee3;&#x7801;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"297,300"}},{"content":"<pre data-lines=\"301,361\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UnionFindSets</span> {\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span>[] eleAndGroup;\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> count;\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span>[] eleAndCount;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">UnionFindSets</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> N)</span> {\n        <span class=\"hljs-built_in\">this</span>.count = N;\n        <span class=\"hljs-built_in\">this</span>.eleAndGroup = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">int</span>[N];\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; eleAndGroup.length; i++) {\n            eleAndGroup[i] = i;\n        }\n        <span class=\"hljs-built_in\">this</span>.eleAndCount = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">int</span>[N];\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; eleAndCount.length; i++) {\n            eleAndCount[i] = <span class=\"hljs-number\">1</span>;\n        }\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">count</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> count;\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">find</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> p)</span> {\n        <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n            <span class=\"hljs-keyword\">if</span> (p == eleAndGroup[p]) {\n                <span class=\"hljs-keyword\">return</span> p;\n            }\n            p = eleAndGroup[p];\n        }\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">boolean</span> <span class=\"hljs-title function_\">connected</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> p, <span class=\"hljs-type\">int</span> q)</span> {\n        <span class=\"hljs-keyword\">return</span> find(p) == find(q);\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">union</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> p, <span class=\"hljs-type\">int</span> q)</span> {\n        \n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">pRoot</span> <span class=\"hljs-operator\">=</span> find(p);\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">qRoot</span> <span class=\"hljs-operator\">=</span> find(q);\n        \n        <span class=\"hljs-keyword\">if</span> (pRoot == qRoot) {\n            <span class=\"hljs-keyword\">return</span>;\n        }\n        \n        <span class=\"hljs-keyword\">if</span> (eleAndCount[pRoot] &lt; eleAndCount[qRoot]) {\n            eleAndGroup[pRoot] = qRoot;\n            eleAndCount[qRoot] += eleAndCount[pRoot];\n        } <span class=\"hljs-keyword\">else</span> {\n            eleAndGroup[qRoot] = pRoot;\n            eleAndCount[pRoot] += eleAndCount[qRoot];\n        }\n        \n        <span class=\"hljs-built_in\">this</span>.count--;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"301,361"}},{"content":"<pre data-lines=\"362,363\"><code>**&#x6d4b;&#x8bd5;&#x4ee3;&#x7801;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"362,363"}},{"content":"<pre data-lines=\"364,387\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UnionFindSetsTest</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        <span class=\"hljs-type\">UnionFindSets</span> <span class=\"hljs-variable\">ufs</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">UnionFindSets</span>(<span class=\"hljs-number\">4</span>);\n        System.out.println(<span class=\"hljs-string\">&quot;&#x521d;&#x59cb;&#x5316;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x6709;&#xff1a;&quot;</span> + ufs.count() + <span class=\"hljs-string\">&quot;&#x4e2a;&#x5206;&#x7ec4;&quot;</span>);\n        <span class=\"hljs-type\">Scanner</span> <span class=\"hljs-variable\">sc</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Scanner</span>(System.in);\n        <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n            System.out.print(<span class=\"hljs-string\">&quot;&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;&quot;</span>);\n            <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">p</span> <span class=\"hljs-operator\">=</span> sc.nextInt();\n            System.out.print(<span class=\"hljs-string\">&quot;&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;&quot;</span>);\n            <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">q</span> <span class=\"hljs-operator\">=</span> sc.nextInt();\n            <span class=\"hljs-keyword\">if</span> (ufs.connected(p, q)) {\n                System.out.println(p + <span class=\"hljs-string\">&quot;&#x5143;&#x7d20;&#x548c;&quot;</span> + q + <span class=\"hljs-string\">&quot;&#x5143;&#x7d20;&#x5df2;&#x7ecf;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x7ec4;&#x4e2d;&#x4e86;&quot;</span>);\n                <span class=\"hljs-keyword\">continue</span>;\n            } <span class=\"hljs-keyword\">else</span> {\n                ufs.union(p, q);\n                System.out.println(<span class=\"hljs-string\">&quot;&#x5f53;&#x524d;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x8fd8;&#x6709;&#xff1a;&quot;</span> + ufs.count() + <span class=\"hljs-string\">&quot;&#x4e2a;&#x5206;&#x7ec4;&quot;</span>);\n            }\n        }\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"364,387"}},{"content":"<pre data-lines=\"388,410\"><code class=\"language-java\">&#x521d;&#x59cb;&#x5316;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x6709;&#xff1a;4&#x4e2a;&#x5206;&#x7ec4;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;0\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;1\n&#x5f53;&#x524d;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x8fd8;&#x6709;&#xff1a;3&#x4e2a;&#x5206;&#x7ec4;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;1\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;2\n&#x5f53;&#x524d;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x8fd8;&#x6709;&#xff1a;2&#x4e2a;&#x5206;&#x7ec4;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;2\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;3\n&#x5f53;&#x524d;&#x5e76;&#x67e5;&#x96c6;&#x4e2d;&#x8fd8;&#x6709;&#xff1a;1&#x4e2a;&#x5206;&#x7ec4;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;0\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;1\n0&#x5143;&#x7d20;&#x548c;1&#x5143;&#x7d20;&#x5df2;&#x7ecf;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x7ec4;&#x4e2d;&#x4e86;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;1\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;2\n1&#x5143;&#x7d20;&#x548c;2&#x5143;&#x7d20;&#x5df2;&#x7ecf;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x7ec4;&#x4e2d;&#x4e86;\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e00;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;2\n&#x8bf7;&#x8f93;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x8981;&#x5408;&#x5e76;&#x7684;&#x5143;&#x7d20;&#xff1a;3\n2&#x5143;&#x7d20;&#x548c;3&#x5143;&#x7d20;&#x5df2;&#x7ecf;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x7ec4;&#x4e2d;&#x4e86;\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"388,410"}}],"payload":{"tag":"h2","lines":"284,286"}},{"content":"2.1&#x3001;&#x4e8c;&#x53c9;&#x5806;&#x7684;&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"414,427\"><code>&#x5806;&#xff08;Heap&#xff09;&#x4e5f;&#x662f;&#x4e00;&#x79cd;&#x6811;&#x72b6;&#x7684;&#x6570;&#x636e;&#x7ed3;&#x6784;&#xff0c;&#x4ed6;&#x4e0e;&#x5185;&#x5b58;&#x6a21;&#x578b;&#x4e2d;&#x7684;&#x201c;&#x5806;&#x7a7a;&#x95f4;&#x201d;&#x5e76;&#x4e0d;&#x662f;&#x4e00;&#x4e2a;&#x6982;&#x5ff5;&#xff0c;&#x5e38;&#x89c1;&#x7684;&#x5806;&#x5b9e;&#x73b0;&#x6709;&#xff1a;\n\n*   **&#x4e8c;&#x53c9;&#x5806;&#xff08;Binary Heap&#xff0c;&#x5b8c;&#x5168;&#x4e8c;&#x53c9;&#x5806;&#xff09;**\n*   &#x591a;&#x53c9;&#x5806;&#xff08;D-heap&#x3001;D-ary Heap&#xff09;\n*   &#x7d22;&#x5f15;&#x5806;&#xff08;Index Heap&#xff09;\n*   &#x4e8c;&#x9879;&#x5806;&#xff08;Binomial Heap&#xff09;\n*   &#x6590;&#x6ce2;&#x90a3;&#x5951;&#x5806;&#xff08;Fibonacci Heap&#xff09;\n*   &#x5de6;&#x503e;&#x5806;&#xff08;Leftist Heap&#xff09;\n*   &#x659c;&#x5806;&#xff08;Skew Heap&#xff09;\n\n&#x4e8c;&#x53c9;&#x5806;&#x7684;&#x4e00;&#x4e2a;&#x91cd;&#x8981;&#x6027;&#x8d28;&#x5c31;&#x662f;&#x4efb;&#x610f;&#x7ed3;&#x70b9;&#x7684;&#x503c;&#x603b;&#x662f; &#x2265; &#xff08; &#x2264; &#xff09;&#x5b50;&#x7ed3;&#x70b9;&#x7684;&#x503c;&#xff0c;&#x5e38;&#x89c1;&#x7684;&#x4e8c;&#x53c9;&#x5806;&#x6709;&#xff1a;\n\n*   &#x5982;&#x679c;&#x4efb;&#x610f;&#x7ed3;&#x70b9;&#x7684;&#x503c;&#x603b;&#x662f; &#x2265; &#x5b50;&#x7ed3;&#x70b9;&#x7684;&#x503c;&#xff0c;&#x79f0;&#x4e3a;&#xff1a;&#x6700;&#x5927;&#x5806;&#x3001;&#x5927;&#x6839;&#x5806;&#x3001;&#x5927;&#x9876;&#x5806;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"414,427"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f20fc31776a5399170e3701b113378d3.png\" alt>","children":[],"payload":{"tag":"img","lines":"428,429"}},{"content":"<pre data-lines=\"430,431\"><code>*   &#x5982;&#x679c;&#x4efb;&#x610f;&#x7ed3;&#x70b9;&#x7684;&#x503c;&#x603b;&#x662f; &#x2264; &#x5b50;&#x7ed3;&#x70b9;&#x7684;&#x503c;&#xff0c;&#x79f0;&#x4e3a;&#xff1a;&#x6700;&#x5c0f;&#x5806;&#x3001;&#x5c0f;&#x6839;&#x5806;&#x3001;&#x5c0f;&#x9876;&#x5806;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"430,431"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/25286f364391e7e58458836d0a8c4ad4.png\" alt>","children":[],"payload":{"tag":"img","lines":"432,433"}},{"content":"<pre data-lines=\"434,435\"><code>&#x4e8c;&#x53c9;&#x5806;&#x7684;&#x903b;&#x8f91;&#x7ed3;&#x6784;&#x5c31;&#x662f;&#x4e00;&#x68f5;&#x5b8c;&#x5168;&#x4e8c;&#x53c9;&#x6811;&#xff0c;&#x6240;&#x4ee5;&#x4e5f;&#x53eb;&#x5b8c;&#x5168;&#x4e8c;&#x53c9;&#x5806;&#xff0c;&#x9274;&#x4e8e;&#x5b8c;&#x5168;&#x4e8c;&#x53c9;&#x6811;&#x7684;&#x4e00;&#x4e9b;&#x7279;&#x6027;&#xff0c;&#x4e8c;&#x53c9;&#x5806;&#x7684;&#x5e95;&#x5c42;&#xff08;&#x7269;&#x7406;&#x7ed3;&#x6784;&#xff09;&#x4e00;&#x822c;&#x7528;&#x6570;&#x7ec4;&#x5b9e;&#x73b0;&#x5373;&#x53ef;&#xff0c;n &#x662f;&#x5143;&#x7d20;&#x6570;&#x91cf;&#xff0c;&#x5219;&#x7d22;&#x5f15; i &#x7684;&#x89c4;&#x5f8b;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"434,435"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/c2cfffdb9ed768092333bb8345942fe6.png\" alt>","children":[],"payload":{"tag":"img","lines":"436,437"}},{"content":"<pre data-lines=\"438,443\"><code>*   &#x5982;&#x679c; i &gt; 0 &#xff0c;&#x4ed6;&#x7684;&#x7236;&#x7ed3;&#x70b9;&#x7684;&#x7d22;&#x5f15;&#x4e3a; floor( (i &#x2013; 1) / 2 )\n*   &#x5982;&#x679c; 2i + 1 &#x2264; n &#x2013; 1&#xff0c;&#x4ed6;&#x7684;&#x5de6;&#x5b50;&#x7ed3;&#x70b9;&#x7684;&#x7d22;&#x5f15;&#x4e3a; 2i + 1  \n    &#x5982;&#x679c; 2i + 1 &gt; n &#x2013; 1&#xff0c;&#x4ed6;&#x65e0;&#x5de6;&#x5b50;&#x7ed3;&#x70b9;\n*   &#x5982;&#x679c; 2i + 2 &#x2264; n &#x2013; 1&#xff0c;&#x4ed6;&#x7684;&#x53f3;&#x5b50;&#x7ed3;&#x70b9;&#x7684;&#x7d22;&#x5f15;&#x4e3a; 2i + 2  \n    &#x5982;&#x679c; 2i + 2 &gt; n &#x2013; 1&#xff0c;&#x4ed6;&#x65e0;&#x53f3;&#x5b50;&#x7ed3;&#x70b9;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"438,443"}}],"payload":{"tag":"h2","lines":"411,413"}},{"content":"2.2&#x3001;&#x4e8c;&#x53c9;&#x5806;&#x7684;&#x7ed3;&#x6784;","children":[{"content":"<pre data-lines=\"447,536\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BinaryHeap</span>&lt;E&gt; {\n    <span class=\"hljs-keyword\">private</span> E[] elements;                               \n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> size;                                   \n    <span class=\"hljs-keyword\">private</span> Comparator&lt;E&gt; comparator;                   \n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">final</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">DEFAULT_CAPACITY</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">16</span>;     \n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">BinaryHeap</span><span class=\"hljs-params\">(E[] elements, Comparator&lt;E&gt; comparator)</span> {\n        <span class=\"hljs-keyword\">if</span> (elements == <span class=\"hljs-literal\">null</span>) {\n            <span class=\"hljs-built_in\">this</span>.size = <span class=\"hljs-number\">0</span>;\n            <span class=\"hljs-built_in\">this</span>.elements = (E[]) <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Object</span>[DEFAULT_CAPACITY];\n            <span class=\"hljs-built_in\">this</span>.comparator = comparator;\n        }\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">BinaryHeap</span><span class=\"hljs-params\">(E[] elements)</span> {\n        <span class=\"hljs-built_in\">this</span>(elements, <span class=\"hljs-literal\">null</span>);\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">BinaryHeap</span><span class=\"hljs-params\">(Comparator&lt;E&gt; comparator)</span> {\n        <span class=\"hljs-built_in\">this</span>(<span class=\"hljs-literal\">null</span>, comparator);\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">BinaryHeap</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-built_in\">this</span>(<span class=\"hljs-literal\">null</span>, <span class=\"hljs-literal\">null</span>);\n    }\n\n    \n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">ensureCapacity</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> capacity)</span> {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">oldCapacity</span> <span class=\"hljs-operator\">=</span> elements.length;\n        <span class=\"hljs-keyword\">if</span> (oldCapacity &gt;= capacity) <span class=\"hljs-keyword\">return</span>;\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">newCapacity</span> <span class=\"hljs-operator\">=</span> oldCapacity + (oldCapacity / <span class=\"hljs-number\">2</span>);\n        E[] newElements = (E[]) <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Object</span>[newCapacity];\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; size; i++) {\n            newElements[i] = elements[i];\n        }\n        elements = newElements;\n    }\n\n    \n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">compare</span><span class=\"hljs-params\">(E e1, E e2)</span> {\n        <span class=\"hljs-keyword\">return</span> comparator != <span class=\"hljs-literal\">null</span> ? comparator.compare(e1, e2) : ((Comparable&lt;E&gt;) e1).compareTo(e2);\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">size</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> size;\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">boolean</span> <span class=\"hljs-title function_\">isEmpty</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> size == <span class=\"hljs-number\">0</span>;\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">clear</span><span class=\"hljs-params\">()</span> {\n        \n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; size; i++) {\n            elements[i] = <span class=\"hljs-literal\">null</span>;\n        }\n        size = <span class=\"hljs-number\">0</span>;\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> E <span class=\"hljs-title function_\">get</span><span class=\"hljs-params\">()</span> {\n        \n        <span class=\"hljs-keyword\">if</span> (isEmpty()) {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>;\n        }\n        <span class=\"hljs-keyword\">return</span> elements[<span class=\"hljs-number\">0</span>];\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">toString</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">s</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&quot;&quot;</span>;\n        <span class=\"hljs-type\">StringBuilder</span> <span class=\"hljs-variable\">sb</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">StringBuilder</span>();\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; size; i++) {\n            sb.append(elements[i] + <span class=\"hljs-string\">&quot;, &quot;</span>);\n        }\n        <span class=\"hljs-keyword\">if</span> (!isEmpty()) {\n            s = sb.substring(<span class=\"hljs-number\">0</span>, sb.length() - <span class=\"hljs-number\">2</span>);\n        }\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;BinaryHeap{elements=[&quot;</span> + s + <span class=\"hljs-string\">&quot;]}&quot;</span>;\n    }\n\n    \n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"447,536"}}],"payload":{"tag":"h2","lines":"444,446"}},{"content":"2.3&#x3001;&#x6700;&#x5927;&#x5806;&#x7684;&#x5b9e;&#x73b0;","children":[{"content":"<pre data-lines=\"540,546\"><code>**&#x6dfb;&#x52a0;&#x64cd;&#x4f5c;**\n\n&#x5faa;&#x73af;&#x6267;&#x884c;&#x4ee5;&#x4e0b;&#x64cd;&#x4f5c;&#xff08;&#x56fe;&#x4e2d;&#x7684; 80 &#x7b80;&#x79f0;&#x4e3a; node&#xff09;&#xff0c;&#x8fd9;&#x4e2a;&#x8fc7;&#x7a0b;&#x53eb;&#x505a;&#x4e0a;&#x6ee4;&#xff08;Sift Up&#xff09;&#xff0c;&#x65f6;&#x95f4;&#x590d;&#x6742;&#x5ea6;&#xff1a;O(logn)\n\n*   &#x5982;&#x679c; node &gt; &#x7236;&#x7ed3;&#x70b9;&#xff0c;&#x4e0e;&#x7236;&#x7ed3;&#x70b9;&#x4ea4;&#x6362;&#x4f4d;&#x7f6e;&#xff1b;\n*   &#x5982;&#x679c; node &#x2264; &#x7236;&#x7ed3;&#x70b9;&#xff0c;&#x6216;&#x8005; node &#x6ca1;&#x6709;&#x7236;&#x7ed3;&#x70b9;&#xff0c;&#x9000;&#x51fa;&#x5faa;&#x73af;&#xff1b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"540,546"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/e52bf30f484922312b805e34e94c8115.png\" alt>","children":[],"payload":{"tag":"img","lines":"547,548"}},{"content":"<pre data-lines=\"549,575\"><code class=\"language-java\">\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">add</span><span class=\"hljs-params\">(E e)</span> {\n    \n    ensureCapacity(size + <span class=\"hljs-number\">1</span>);\n    \n    elements[size++] = e;\n    \n    siftUp(size - <span class=\"hljs-number\">1</span>);\n}\n\n<span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">siftUp</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> index)</span> {\n    <span class=\"hljs-keyword\">while</span> (index &gt; <span class=\"hljs-number\">0</span>) {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">parentIndex</span> <span class=\"hljs-operator\">=</span> (index - <span class=\"hljs-number\">1</span>) / <span class=\"hljs-number\">2</span>;\n        <span class=\"hljs-keyword\">if</span> (compare(elements[index], elements[parentIndex]) &gt; <span class=\"hljs-number\">0</span>) {\n            <span class=\"hljs-type\">E</span> <span class=\"hljs-variable\">temp</span> <span class=\"hljs-operator\">=</span> elements[index];\n            elements[index] = elements[parentIndex];\n            elements[parentIndex] = temp;\n        } <span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-keyword\">break</span>;\n        }\n        index = parentIndex;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"549,575"}},{"content":"<pre data-lines=\"576,577\"><code>&#x5b9e;&#x9645;&#x4e0a;&#xff0c;&#x6211;&#x4eec;&#x5e76;&#x4e0d;&#x9700;&#x8981;&#x6bcf;&#x4e00;&#x6b21;&#x90fd;&#x4ea4;&#x6362; node &#x548c;&#x7236;&#x7ed3;&#x70b9;&#xff0c;&#x53ea;&#x9700;&#x8981;&#x627e;&#x5230;&#x6700;&#x7ec8; node &#x5b58;&#x653e;&#x7684;&#x4f4d;&#x7f6e;&#xff0c;&#x7136;&#x540e;&#x518d;&#x628a; node &#x7684;&#x503c;&#x653e;&#x5230;&#x6700;&#x7ec8;&#x4f4d;&#x7f6e;&#x53bb;&#x5373;&#x53ef;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"576,577"}},{"content":"<pre data-lines=\"578,604\"><code class=\"language-java\">\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">add</span><span class=\"hljs-params\">(E e)</span> {\n    \n    ensureCapacity(size + <span class=\"hljs-number\">1</span>);\n    \n    elements[size++] = e;\n    \n    siftUp2(size - <span class=\"hljs-number\">1</span>);\n}\n\n<span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">siftUp2</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> index)</span> {\n    <span class=\"hljs-type\">E</span> <span class=\"hljs-variable\">node</span> <span class=\"hljs-operator\">=</span> elements[index];\n    <span class=\"hljs-keyword\">while</span> (index &gt; <span class=\"hljs-number\">0</span>) {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">parentIndex</span> <span class=\"hljs-operator\">=</span> (index - <span class=\"hljs-number\">1</span>) / <span class=\"hljs-number\">2</span>;\n        <span class=\"hljs-keyword\">if</span> (compare(node, elements[parentIndex]) &gt; <span class=\"hljs-number\">0</span>) {\n            elements[index] = elements[parentIndex];\n            index = parentIndex;\n        } <span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-keyword\">break</span>;\n        }\n    }\n    elements[index] = node;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"578,604"}},{"content":"<pre data-lines=\"605,606\"><code>&#x6dfb;&#x52a0;&#x6d4b;&#x8bd5;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"605,606"}},{"content":"<pre data-lines=\"607,627\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BinaryHeapTest</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        BinaryHeap&lt;Integer&gt; bh = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BinaryHeap</span>&lt;&gt;();\n\n        bh.add(<span class=\"hljs-number\">72</span>);\n        bh.add(<span class=\"hljs-number\">68</span>);\n        bh.add(<span class=\"hljs-number\">50</span>);\n        bh.add(<span class=\"hljs-number\">43</span>);\n        bh.add(<span class=\"hljs-number\">38</span>);\n        bh.add(<span class=\"hljs-number\">47</span>);\n        bh.add(<span class=\"hljs-number\">21</span>);\n        bh.add(<span class=\"hljs-number\">14</span>);\n        bh.add(<span class=\"hljs-number\">80</span>);\n\n        System.out.println(bh);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"607,627"}},{"content":"<pre data-lines=\"628,632\"><code class=\"language-java\">BinaryHeap{elements=[80, 72, 50, 68, 38, 47, 21, 14, 43]}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"628,632"}},{"content":"<pre data-lines=\"633,641\"><code>**&#x5220;&#x9664;&#x64cd;&#x4f5c;**\n\n&#x5220;&#x9664;&#x6307;&#x7684;&#x662f;&#x5220;&#x9664;&#x6839;&#x7ed3;&#x70b9;&#xff0c;&#x7528;&#x6700;&#x540e;&#x4e00;&#x4e2a;&#x7ed3;&#x70b9;&#x8986;&#x76d6;&#x6839;&#x7ed3;&#x70b9;&#xff0c;&#x7136;&#x540e;&#x5220;&#x9664;&#x6700;&#x540e;&#x4e00;&#x4e2a;&#x7ed3;&#x70b9;&#xff0c;&#x518d;&#x5bf9;&#x65b0;&#x7684;&#x6839;&#x7ed3;&#x70b9;&#x8fdb;&#x884c;&#x4e0b;&#x6ee4;&#x64cd;&#x4f5c;&#x3002;\n\n&#x5faa;&#x73af;&#x6267;&#x884c;&#x4ee5;&#x4e0b;&#x64cd;&#x4f5c;&#xff08;&#x56fe;&#x4e2d;&#x7684; 80 &#x7b80;&#x79f0;&#x4e3a; node&#xff09;&#xff0c;&#x8fd9;&#x4e2a;&#x8fc7;&#x7a0b;&#x53eb;&#x505a;&#x4e0b;&#x6ee4;&#xff08;Sift Down&#xff09;&#xff0c;&#x65f6;&#x95f4;&#x590d;&#x6742;&#x5ea6;&#xff1a;O(logn)\n\n*   &#x5982;&#x679c; node &lt; &#x6700;&#x5927;&#x7684;&#x5b50;&#x7ed3;&#x70b9;&#xff0c;&#x4e0e;&#x6700;&#x5927;&#x7684;&#x5b50;&#x7ed3;&#x70b9;&#x4ea4;&#x6362;&#x4f4d;&#x7f6e;&#xff1b;\n*   &#x5982;&#x679c; node &#x2265; &#x6700;&#x5927;&#x7684;&#x5b50;&#x7ed3;&#x70b9;&#xff0c; &#x6216;&#x8005; node &#x6ca1;&#x6709;&#x5b50;&#x7ed3;&#x70b9;&#xff0c;&#x9000;&#x51fa;&#x5faa;&#x73af;&#xff1b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"633,641"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/c0e91b78bafe8c0b120bf6ce9bcf6f31.png\" alt>","children":[],"payload":{"tag":"img","lines":"642,643"}},{"content":"<pre data-lines=\"644,690\"><code class=\"language-java\">\n<span class=\"hljs-keyword\">public</span> E <span class=\"hljs-title function_\">remove</span><span class=\"hljs-params\">()</span> {\n    \n    <span class=\"hljs-keyword\">if</span> (isEmpty()) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>;\n    }\n    \n    <span class=\"hljs-type\">E</span> <span class=\"hljs-variable\">root</span> <span class=\"hljs-operator\">=</span> elements[<span class=\"hljs-number\">0</span>];\n    \n    <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">lastIndex</span> <span class=\"hljs-operator\">=</span> --size;\n    \n    elements[<span class=\"hljs-number\">0</span>] = elements[lastIndex];\n    \n    elements[lastIndex] = <span class=\"hljs-literal\">null</span>;\n    \n    siftDown(<span class=\"hljs-number\">0</span>);\n    \n    <span class=\"hljs-keyword\">return</span> root;\n}\n\n<span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">siftDown</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> index)</span> {\n    \n    <span class=\"hljs-keyword\">while</span> (index &lt; (size / <span class=\"hljs-number\">2</span>)) {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">leftChildIndex</span> <span class=\"hljs-operator\">=</span> (index * <span class=\"hljs-number\">2</span>) + <span class=\"hljs-number\">1</span>;   \n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">rightChildIndex</span> <span class=\"hljs-operator\">=</span> (index * <span class=\"hljs-number\">2</span>) + <span class=\"hljs-number\">2</span>;  \n\n        \n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">childIndex</span> <span class=\"hljs-operator\">=</span> leftChildIndex;\n        <span class=\"hljs-keyword\">if</span> (rightChildIndex&lt;size &amp;&amp; compare(elements[rightChildIndex], elements[leftChildIndex]) &gt; <span class=\"hljs-number\">0</span>) {\n            childIndex = rightChildIndex;\n        }\n\n        \n        <span class=\"hljs-keyword\">if</span> (compare(elements[index], elements[childIndex]) &lt; <span class=\"hljs-number\">0</span>) {\n            <span class=\"hljs-type\">E</span> <span class=\"hljs-variable\">temp</span> <span class=\"hljs-operator\">=</span> elements[index];\n            elements[index] = elements[childIndex];\n            elements[childIndex] = temp;\n            index = childIndex;\n        } <span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-keyword\">break</span>;\n        }\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"644,690"}},{"content":"<pre data-lines=\"691,692\"><code>&#x5b9e;&#x9645;&#x4e0a;&#xff0c;&#x6211;&#x4eec;&#x5e76;&#x4e0d;&#x9700;&#x8981;&#x6bcf;&#x4e00;&#x6b21;&#x90fd;&#x4ea4;&#x6362; node &#x548c;&#x5b50;&#x7ed3;&#x70b9;&#xff0c;&#x53ea;&#x9700;&#x8981;&#x627e;&#x5230;&#x6700;&#x7ec8; node &#x5b58;&#x653e;&#x7684;&#x4f4d;&#x7f6e;&#xff0c;&#x7136;&#x540e;&#x518d;&#x628a; node &#x7684;&#x503c;&#x653e;&#x5230;&#x6700;&#x7ec8;&#x4f4d;&#x7f6e;&#x53bb;&#x5373;&#x53ef;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"691,692"}},{"content":"<pre data-lines=\"693,739\"><code class=\"language-java\">\n<span class=\"hljs-keyword\">public</span> E <span class=\"hljs-title function_\">remove</span><span class=\"hljs-params\">()</span> {\n    \n    <span class=\"hljs-keyword\">if</span> (isEmpty()) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>;\n    }\n    \n    <span class=\"hljs-type\">E</span> <span class=\"hljs-variable\">root</span> <span class=\"hljs-operator\">=</span> elements[<span class=\"hljs-number\">0</span>];\n    \n    <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">lastIndex</span> <span class=\"hljs-operator\">=</span> --size;\n    \n    elements[<span class=\"hljs-number\">0</span>] = elements[lastIndex];\n    \n    elements[lastIndex] = <span class=\"hljs-literal\">null</span>;\n    \n    siftDown2(<span class=\"hljs-number\">0</span>);\n    \n    <span class=\"hljs-keyword\">return</span> root;\n}\n\n<span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">siftDown2</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> index)</span> {\n    <span class=\"hljs-type\">E</span> <span class=\"hljs-variable\">node</span> <span class=\"hljs-operator\">=</span> elements[index];\n    \n    <span class=\"hljs-keyword\">while</span> (index &lt; (size / <span class=\"hljs-number\">2</span>)) {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">leftChildIndex</span> <span class=\"hljs-operator\">=</span> (index * <span class=\"hljs-number\">2</span>) + <span class=\"hljs-number\">1</span>;   \n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">rightChildIndex</span> <span class=\"hljs-operator\">=</span> (index * <span class=\"hljs-number\">2</span>) + <span class=\"hljs-number\">2</span>;  \n\n        \n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">childIndex</span> <span class=\"hljs-operator\">=</span> leftChildIndex;\n        <span class=\"hljs-keyword\">if</span> (rightChildIndex&lt;size &amp;&amp; compare(elements[rightChildIndex], elements[leftChildIndex]) &gt; <span class=\"hljs-number\">0</span>) {\n            childIndex = rightChildIndex;\n        }\n\n        \n        <span class=\"hljs-keyword\">if</span> (compare(node, elements[childIndex]) &lt; <span class=\"hljs-number\">0</span>) {\n            elements[index] = elements[childIndex];\n            index = childIndex;\n        } <span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-keyword\">break</span>;\n        }\n    }\n    elements[index] = node;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"693,739"}},{"content":"<pre data-lines=\"740,741\"><code>&#x5220;&#x9664;&#x6d4b;&#x8bd5;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"740,741"}},{"content":"<pre data-lines=\"742,766\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BinaryHeapTest</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        BinaryHeap&lt;Integer&gt; bh = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BinaryHeap</span>&lt;&gt;();\n\n        bh.add(<span class=\"hljs-number\">72</span>);\n        bh.add(<span class=\"hljs-number\">68</span>);\n        bh.add(<span class=\"hljs-number\">50</span>);\n        bh.add(<span class=\"hljs-number\">43</span>);\n        bh.add(<span class=\"hljs-number\">38</span>);\n        bh.add(<span class=\"hljs-number\">47</span>);\n        bh.add(<span class=\"hljs-number\">21</span>);\n        bh.add(<span class=\"hljs-number\">14</span>);\n        bh.add(<span class=\"hljs-number\">80</span>);\n\n        System.out.println(bh);\n\n        bh.remove();\n\n        System.out.println(bh);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"742,766"}},{"content":"<pre data-lines=\"767,772\"><code class=\"language-java\">BinaryHeap{elements=[80, 72, 50, 68, 38, 47, 21, 14, 43]}\nBinaryHeap{elements=[72, 68, 50, 43, 38, 47, 21, 14]}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"767,772"}},{"content":"<pre data-lines=\"773,774\"><code>**&#x66ff;&#x6362;&#x64cd;&#x4f5c;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"773,774"}},{"content":"<pre data-lines=\"775,792\"><code class=\"language-java\">\n<span class=\"hljs-keyword\">public</span> E <span class=\"hljs-title function_\">replace</span><span class=\"hljs-params\">(E element)</span> {\n    <span class=\"hljs-type\">E</span> <span class=\"hljs-variable\">root</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-literal\">null</span>;\n    <span class=\"hljs-keyword\">if</span> (size == <span class=\"hljs-number\">0</span>) {\n        root = element;         \n        elements[<span class=\"hljs-number\">0</span>] = element;  \n        size++;                 \n    } <span class=\"hljs-keyword\">else</span> {\n        root = elements[<span class=\"hljs-number\">0</span>];     \n        elements[<span class=\"hljs-number\">0</span>] = element;  \n        siftDown(<span class=\"hljs-number\">0</span>);            \n    }\n    <span class=\"hljs-keyword\">return</span> root;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"775,792"}},{"content":"<pre data-lines=\"793,794\"><code>&#x66ff;&#x6362;&#x6d4b;&#x8bd5;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"793,794"}},{"content":"<pre data-lines=\"795,819\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BinaryHeapTest</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        BinaryHeap&lt;Integer&gt; bh = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BinaryHeap</span>&lt;&gt;();\n\n        bh.add(<span class=\"hljs-number\">72</span>);\n        bh.add(<span class=\"hljs-number\">68</span>);\n        bh.add(<span class=\"hljs-number\">50</span>);\n        bh.add(<span class=\"hljs-number\">43</span>);\n        bh.add(<span class=\"hljs-number\">38</span>);\n        bh.add(<span class=\"hljs-number\">47</span>);\n        bh.add(<span class=\"hljs-number\">21</span>);\n        bh.add(<span class=\"hljs-number\">14</span>);\n        bh.add(<span class=\"hljs-number\">80</span>);\n\n        System.out.println(bh);\n\n        bh.replace(<span class=\"hljs-number\">11</span>);\n\n        System.out.println(bh);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"795,819"}},{"content":"<pre data-lines=\"820,825\"><code class=\"language-java\">BinaryHeap{elements=[80, 72, 50, 68, 38, 47, 21, 14, 43]}\nBinaryHeap{elements=[72, 68, 50, 43, 38, 47, 21, 14, 11]}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"820,825"}}],"payload":{"tag":"h2","lines":"537,539"}},{"content":"2.4&#x3001;&#x6700;&#x5c0f;&#x5806;&#x7684;&#x5b9e;&#x73b0;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/940ea97f88a1f9b9b00896f642a3c050.png\" alt>","children":[],"payload":{"tag":"img","lines":"829,830"}},{"content":"<pre data-lines=\"831,856\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BinaryHeapTest</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        BinaryHeap&lt;Integer&gt; bh = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BinaryHeap</span>&lt;&gt;(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Comparator</span>&lt;Integer&gt;() {\n            <span class=\"hljs-meta\">@Override</span>\n            <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">compare</span><span class=\"hljs-params\">(Integer o1, Integer o2)</span> {\n                <span class=\"hljs-keyword\">return</span> o2 - o1;\n            }\n        });\n\n        bh.add(<span class=\"hljs-number\">72</span>);\n        bh.add(<span class=\"hljs-number\">68</span>);\n        bh.add(<span class=\"hljs-number\">50</span>);\n        bh.add(<span class=\"hljs-number\">43</span>);\n        bh.add(<span class=\"hljs-number\">38</span>);\n        bh.add(<span class=\"hljs-number\">47</span>);\n        bh.add(<span class=\"hljs-number\">21</span>);\n        bh.add(<span class=\"hljs-number\">14</span>);\n        bh.add(<span class=\"hljs-number\">80</span>);\n\n        System.out.println(bh);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"831,856"}},{"content":"<pre data-lines=\"857,861\"><code class=\"language-java\">BinaryHeap{elements=[14, 21, 38, 43, 50, 68, 47, 72, 80]}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"857,861"}}],"payload":{"tag":"h2","lines":"826,828"}},{"content":"2.5&#x3001;&#x6279;&#x91cf;&#x5efa;&#x5806;&#x5b9e;&#x73b0;","children":[{"content":"<pre data-lines=\"865,866\"><code>&#x7b2c;&#x4e00;&#x6b65;&#xff1a;&#x4fee;&#x6539; `public BinaryHeap(E[] elements, Comparator&lt;E&gt; comparator)`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"865,866"}},{"content":"<pre data-lines=\"867,885\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">BinaryHeap</span><span class=\"hljs-params\">(E[] elements, Comparator&lt;E&gt; comparator)</span> {\n    <span class=\"hljs-keyword\">if</span> (elements == <span class=\"hljs-literal\">null</span>) {\n        <span class=\"hljs-built_in\">this</span>.size = <span class=\"hljs-number\">0</span>;\n        <span class=\"hljs-built_in\">this</span>.elements = (E[]) <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Object</span>[DEFAULT_CAPACITY];\n        <span class=\"hljs-built_in\">this</span>.comparator = comparator;\n    } <span class=\"hljs-keyword\">else</span> {\n        <span class=\"hljs-built_in\">this</span>.size = elements.length;\n        <span class=\"hljs-built_in\">this</span>.elements = (E[]) <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Object</span>[Math.max(elements.length, DEFAULT_CAPACITY)];\n        <span class=\"hljs-built_in\">this</span>.comparator = comparator;\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; elements.length; i++) {\n            <span class=\"hljs-built_in\">this</span>.elements[i] = elements[i];\n        }\n        heapify();\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"867,885"}},{"content":"<pre data-lines=\"886,887\"><code>&#x7b2c;&#x4e8c;&#x6b65;&#xff1a;&#x5806;&#x5316; `private void heapify()`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"886,887"}},{"content":"<pre data-lines=\"888,904\"><code class=\"language-java\">\n<span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">heapify</span><span class=\"hljs-params\">()</span> {\n    \n    \n    \n    \n\n    \n    \n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> (size / <span class=\"hljs-number\">2</span>) - <span class=\"hljs-number\">1</span>; i &gt;= <span class=\"hljs-number\">0</span>; i--) {\n        siftDown(i);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"888,904"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a5a93431ed3974f57db96e4a3f659851.png\" alt>","children":[],"payload":{"tag":"img","lines":"905,906"}},{"content":"<pre data-lines=\"907,908\"><code>&#x7b2c;&#x4e09;&#x6b65;&#xff1a;&#x6d4b;&#x8bd5;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"907,908"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/fd39f63c9a01ade7a27e9f341b02a891.png\" alt>","children":[],"payload":{"tag":"img","lines":"909,910"}},{"content":"<pre data-lines=\"911,921\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BinaryHeapTest</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        Integer[] data = {<span class=\"hljs-number\">72</span>, <span class=\"hljs-number\">68</span>, <span class=\"hljs-number\">50</span>, <span class=\"hljs-number\">43</span>, <span class=\"hljs-number\">38</span>, <span class=\"hljs-number\">47</span>, <span class=\"hljs-number\">21</span>, <span class=\"hljs-number\">14</span>, <span class=\"hljs-number\">80</span>};\n        BinaryHeap&lt;Integer&gt; bh = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BinaryHeap</span>&lt;&gt;(data);\n        System.out.println(bh);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"911,921"}},{"content":"<pre data-lines=\"922,926\"><code class=\"language-java\">BinaryHeap{elements=[80, 72, 50, 68, 38, 47, 21, 14, 43]}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"922,926"}}],"payload":{"tag":"h2","lines":"862,864"}},{"content":"3.1&#x3001;&#x54c8;&#x592b;&#x66fc;&#x6811;&#x7684;&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"930,945\"><code>&#x7ed9;&#x5b9a;N&#x4e2a;&#x6743;&#x503c;&#x4f5c;&#x4e3a;N&#x4e2a;&#x53f6;&#x5b50;&#x7ed3;&#x70b9;&#xff0c;&#x6784;&#x9020;&#x4e00;&#x68f5;&#x4e8c;&#x53c9;&#x6811;&#xff0c;&#x82e5;&#x8be5;&#x6811;&#x7684;&#x5e26;&#x6743;&#x8def;&#x5f84;&#x957f;&#x5ea6;&#x8fbe;&#x5230;&#x6700;&#x5c0f;&#xff0c;&#x79f0;&#x8fd9;&#x6837;&#x7684;&#x4e8c;&#x53c9;&#x6811;&#x4e3a;&#x6700;&#x4f18;&#x4e8c;&#x53c9;&#x6811;&#xff0c;&#x4e5f;&#x79f0;&#x4e3a;&#x54c8;&#x592b;&#x66fc;&#x6811;(Huffman Tree)&#x3002;\n\n**1&#x3001;&#x8def;&#x5f84;&#x548c;&#x8def;&#x5f84;&#x957f;&#x5ea6;**\n\n&#x5728;&#x4e00;&#x68f5;&#x6811;&#x4e2d;&#xff0c;&#x4ece;&#x4e00;&#x4e2a;&#x7ed3;&#x70b9;&#x5f80;&#x4e0b;&#x53ef;&#x4ee5;&#x8fbe;&#x5230;&#x7684;&#x5b69;&#x5b50;&#x6216;&#x5b59;&#x5b50;&#x7ed3;&#x70b9;&#x4e4b;&#x95f4;&#x7684;&#x901a;&#x8def;&#xff0c;&#x79f0;&#x4e3a;&#x8def;&#x5f84;&#x3002;&#x901a;&#x8def;&#x4e2d;&#x5206;&#x652f;&#x7684;&#x6570;&#x76ee;&#x79f0;&#x4e3a;&#x8def;&#x5f84;&#x957f;&#x5ea6;&#x3002;&#x82e5;&#x89c4;&#x5b9a;&#x6839;&#x7ed3;&#x70b9;&#x7684;&#x5c42;&#x6570;&#x4e3a;1&#xff0c;&#x5219;&#x4ece;&#x6839;&#x7ed3;&#x70b9;&#x5230;&#x7b2c;L&#x5c42;&#x7ed3;&#x70b9;&#x7684;&#x8def;&#x5f84;&#x957f;&#x5ea6;&#x4e3a;L-1&#x3002;\n\n**2&#x3001;&#x7ed3;&#x70b9;&#x7684;&#x6743;&#x53ca;&#x5e26;&#x6743;&#x8def;&#x5f84;&#x957f;&#x5ea6;**\n\n&#x82e5;&#x5c06;&#x6811;&#x4e2d;&#x7ed3;&#x70b9;&#x8d4b;&#x7ed9;&#x4e00;&#x4e2a;&#x6709;&#x7740;&#x67d0;&#x79cd;&#x542b;&#x4e49;&#x7684;&#x6570;&#x503c;&#xff0c;&#x5219;&#x8fd9;&#x4e2a;&#x6570;&#x503c;&#x79f0;&#x4e3a;&#x8be5;&#x7ed3;&#x70b9;&#x7684;&#x6743;&#x3002;&#x7ed3;&#x70b9;&#x7684;&#x5e26;&#x6743;&#x8def;&#x5f84;&#x957f;&#x5ea6;&#x4e3a;&#xff1a;&#x4ece;&#x6839;&#x7ed3;&#x70b9;&#x5230;&#x8be5;&#x7ed3;&#x70b9;&#x4e4b;&#x95f4;&#x7684;&#x8def;&#x5f84;&#x957f;&#x5ea6;&#x4e0e;&#x8be5;&#x7ed3;&#x70b9;&#x7684;&#x6743;&#x7684;&#x4e58;&#x79ef;&#x3002;\n\n**3&#x3001;&#x6811;&#x7684;&#x5e26;&#x6743;&#x8def;&#x5f84;&#x957f;&#x5ea6;**\n\n&#x6811;&#x7684;&#x5e26;&#x6743;&#x8def;&#x5f84;&#x957f;&#x5ea6;&#x89c4;&#x5b9a;&#x4e3a;&#x6240;&#x6709;&#x53f6;&#x5b50;&#x7ed3;&#x70b9;&#x7684;&#x5e26;&#x6743;&#x8def;&#x5f84;&#x957f;&#x5ea6;&#x4e4b;&#x548c;&#xff0c;&#x8bb0;&#x4e3a;WPL&#x3002;&#x4e0b;&#x56fe;&#x4e2d;&#x7b2c;&#x4e8c;&#x5e45;&#x56fe;&#x5c31;&#x662f;&#x4e00;&#x68f5;&#x54c8;&#x592b;&#x66fc;&#x6811;&#x3002;\n\n&#x54c8;&#x592b;&#x66fc;&#x6811;&#x662f;&#x5e26;&#x6743;&#x8def;&#x5f84;&#x957f;&#x5ea6;&#x6700;&#x77ed;&#x7684;&#x6811;&#xff0c;&#x6743;&#x503c;&#x8f83;&#x5927;&#x7684;&#x7ed3;&#x70b9;&#x79bb;&#x6839;&#x8f83;&#x8fd1;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"930,945"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a27e3ccb2c2c90a20872a63c4e997011.png\" alt>","children":[],"payload":{"tag":"img","lines":"946,947"}}],"payload":{"tag":"h2","lines":"927,929"}},{"content":"3.2&#x3001;&#x54c8;&#x592b;&#x66fc;&#x6811;&#x7684;&#x7ed3;&#x6784;","children":[{"content":"<pre data-lines=\"951,954\"><code>&#x7ed9;&#x5b9a;&#x4e00;&#x7ec4;&#x7ed3;&#x70b9;&#xff0c;&#x8fd9;&#x7ec4;&#x7ed3;&#x70b9;&#x4e2d;&#x6bcf;&#x4e2a;&#x7ed3;&#x70b9;&#x90fd;&#x6709;&#x81ea;&#x5df1;&#x7684;&#x6743;&#x91cd;&#xff0c;&#x8fd9;&#x91cc;&#x4ee5;&#x6574;&#x578b;&#x6570;&#x7ec4;&#x6a21;&#x62df;&#x7ed3;&#x70b9;&#x96c6;&#x5408;&#xff1a;`[13, 7, 8, 3, 29, 6, 1]`\n\n1&#x3001;&#x6392;&#x5e8f;&#x540e;`[1, 3, 6, 7, 8, 13, 29]`&#xff0c;&#x53d6;&#x51fa;&#x7b2c;&#x4e00;&#x5c0f;&#x7684;&#x7ed3;&#x70b9;`1`&#xff0c;&#x53d6;&#x51fa;&#x7b2c;&#x4e8c;&#x5c0f;&#x7684;&#x7ed3;&#x70b9;`3`&#xff0c;&#x6784;&#x9020;&#x4e00;&#x68f5;&#x65b0;&#x7ed3;&#x70b9;&#x5e76;&#x52a0;&#x5165;&#x96c6;&#x5408;&#xff0c;&#x5220;&#x9664;&#x65e0;&#x6548;&#x7ed3;&#x70b9;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"951,954"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/02bce33b290bd476f7bf3997084f76fb.png\" alt>","children":[],"payload":{"tag":"img","lines":"955,956"}},{"content":"<pre data-lines=\"957,958\"><code>2&#x3001;&#x6392;&#x5e8f;&#x540e;`[4, 6, 7, 8, 13, 29]`&#xff0c;&#x53d6;&#x51fa;&#x7b2c;&#x4e00;&#x5c0f;&#x7684;&#x7ed3;&#x70b9;`4`&#xff0c;&#x53d6;&#x51fa;&#x7b2c;&#x4e8c;&#x5c0f;&#x7684;&#x7ed3;&#x70b9;`6`&#xff0c;&#x6784;&#x9020;&#x4e00;&#x68f5;&#x65b0;&#x7ed3;&#x70b9;&#x5e76;&#x52a0;&#x5165;&#x96c6;&#x5408;&#xff0c;&#x5220;&#x9664;&#x65e0;&#x6548;&#x7ed3;&#x70b9;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"957,958"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/334e46116630ef545a1d2b26cb0d6e81.png\" alt>","children":[],"payload":{"tag":"img","lines":"959,960"}},{"content":"<pre data-lines=\"961,962\"><code>3&#x3001;&#x6392;&#x5e8f;&#x540e;`[7, 8, 10, 13, 29]`&#xff0c;&#x53d6;&#x51fa;&#x7b2c;&#x4e00;&#x5c0f;&#x7684;&#x7ed3;&#x70b9;`7`&#xff0c;&#x53d6;&#x51fa;&#x7b2c;&#x4e8c;&#x5c0f;&#x7684;&#x7ed3;&#x70b9;`8`&#xff0c;&#x6784;&#x9020;&#x4e00;&#x68f5;&#x65b0;&#x7ed3;&#x70b9;&#x5e76;&#x52a0;&#x5165;&#x96c6;&#x5408;&#xff0c;&#x5220;&#x9664;&#x65e0;&#x6548;&#x7ed3;&#x70b9;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"961,962"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a18c41fde8e7c22879d2a58e5f215ce2.png\" alt>","children":[],"payload":{"tag":"img","lines":"963,964"}},{"content":"<pre data-lines=\"965,966\"><code>4&#x3001;&#x6392;&#x5e8f;&#x540e;`[10, 13, 15, 29]`&#xff0c;&#x53d6;&#x51fa;&#x7b2c;&#x4e00;&#x5c0f;&#x7684;&#x7ed3;&#x70b9;`10`&#xff0c;&#x53d6;&#x51fa;&#x7b2c;&#x4e8c;&#x5c0f;&#x7684;&#x7ed3;&#x70b9;`13`&#xff0c;&#x6784;&#x9020;&#x4e00;&#x68f5;&#x65b0;&#x7ed3;&#x70b9;&#x5e76;&#x52a0;&#x5165;&#x96c6;&#x5408;&#xff0c;&#x5220;&#x9664;&#x65e0;&#x6548;&#x7ed3;&#x70b9;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"965,966"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a91832bc32b36ad73b2cf140a9a13a86.png\" alt>","children":[],"payload":{"tag":"img","lines":"967,968"}},{"content":"<pre data-lines=\"969,970\"><code>5&#x3001;&#x6392;&#x5e8f;&#x540e;`[15, 23, 29]`&#xff0c;&#x53d6;&#x51fa;&#x7b2c;&#x4e00;&#x5c0f;&#x7684;&#x7ed3;&#x70b9;`15`&#xff0c;&#x53d6;&#x51fa;&#x7b2c;&#x4e8c;&#x5c0f;&#x7684;&#x7ed3;&#x70b9;`23`&#xff0c;&#x6784;&#x9020;&#x4e00;&#x68f5;&#x65b0;&#x7ed3;&#x70b9;&#x5e76;&#x52a0;&#x5165;&#x96c6;&#x5408;&#xff0c;&#x5220;&#x9664;&#x65e0;&#x6548;&#x7ed3;&#x70b9;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"969,970"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/6864c45fd1c34980ebf80a40cdb40752.png\" alt>","children":[],"payload":{"tag":"img","lines":"971,972"}},{"content":"<pre data-lines=\"973,974\"><code>6&#x3001;&#x6392;&#x5e8f;&#x540e;`[29, 38]`&#xff0c;&#x53d6;&#x51fa;&#x7b2c;&#x4e00;&#x5c0f;&#x7684;&#x7ed3;&#x70b9;`29`&#xff0c;&#x53d6;&#x51fa;&#x7b2c;&#x4e8c;&#x5c0f;&#x7684;&#x7ed3;&#x70b9;`38`&#xff0c;&#x6784;&#x9020;&#x4e00;&#x68f5;&#x65b0;&#x7ed3;&#x70b9;&#x5e76;&#x52a0;&#x5165;&#x96c6;&#x5408;&#xff0c;&#x5220;&#x9664;&#x65e0;&#x6548;&#x7ed3;&#x70b9;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"973,974"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/af385e87796e975c8a8ca7cffa8faf2c.png\" alt>","children":[],"payload":{"tag":"img","lines":"975,976"}},{"content":"<pre data-lines=\"977,980\"><code>7&#x3001;&#x96c6;&#x5408;&#x4e2d;`[67]`&#x6b64;&#x65f6;&#x53ea;&#x6709;&#x4e00;&#x4e2a;&#x7ed3;&#x70b9;&#xff0c;&#x90a3;&#x4e48;&#x8fd9;&#x4e2a;&#x7ed3;&#x70b9;&#x5c31;&#x662f;&#x54c8;&#x592b;&#x66fc;&#x6811;&#x7684;&#x6839;&#x7ed3;&#x70b9;&#xff0c;&#x6211;&#x4eec;&#x6700;&#x7ec8;&#x5c31;&#x6784;&#x5efa;&#x51fa;&#x4e00;&#x68f5;&#x54c8;&#x592b;&#x66fc;&#x6811;&#x3002;\n\n&gt; ps&#xff1a;&#x5728;&#x8fd9;&#x91cc;&#x8981;&#x8bf4;&#x660e;&#x4e00;&#x70b9;&#xff0c;&#x540c;&#x6837;&#x7684;&#x7ed3;&#x70b9;&#x96c6;&#x5408;&#xff0c;&#x53ef;&#x4ee5;&#x6784;&#x9020;&#x51fa;&#x4e0d;&#x540c;&#x7ed3;&#x6784;&#x7684;&#x54c8;&#x592b;&#x66fc;&#x6811;&#xff0c;&#x4f46;&#x6700;&#x7ec8;&#x5f97;&#x5230;&#x7684;&#x7ed3;&#x679c;&#x662f;&#x4e00;&#x6837;&#x7684;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"977,980"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/8398c922f47b286383c1aed54302aff3.png\" alt>","children":[],"payload":{"tag":"img","lines":"981,982"}}],"payload":{"tag":"h2","lines":"948,950"}},{"content":"3.3&#x3001;&#x54c8;&#x592b;&#x66fc;&#x6811;&#x7684;&#x5b9e;&#x73b0;","children":[{"content":"<pre data-lines=\"986,989\"><code>**&#x5b9e;&#x73b0;&#x4ee3;&#x7801;&#xff1a;** \n\nHuffmanNode\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"986,989"}},{"content":"<pre data-lines=\"990,1022\"><code class=\"language-java\">\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Node</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Comparable</span>&lt;Node&gt; {\n    <span class=\"hljs-keyword\">public</span> Byte data;      \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> weight;     \n    <span class=\"hljs-keyword\">public</span> Node left;      \n    <span class=\"hljs-keyword\">public</span> Node right;     \n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">Node</span><span class=\"hljs-params\">(Byte data, <span class=\"hljs-type\">int</span> weight)</span> {\n        <span class=\"hljs-built_in\">this</span>.data = data;\n        <span class=\"hljs-built_in\">this</span>.weight = weight;\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">boolean</span> <span class=\"hljs-title function_\">isLeaf</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">this</span>.left == <span class=\"hljs-literal\">null</span> &amp;&amp; <span class=\"hljs-built_in\">this</span>.right == <span class=\"hljs-literal\">null</span>;\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">compareTo</span><span class=\"hljs-params\">(Node that)</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">this</span>.weight - that.weight;\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">toString</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">d</span> <span class=\"hljs-operator\">=</span> data == <span class=\"hljs-literal\">null</span> ? <span class=\"hljs-string\">&quot;null&quot;</span> : <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">String</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">byte</span>[]{data});\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;Node{data=&quot;</span> + d + <span class=\"hljs-string\">&quot;, weight=&quot;</span> + weight + <span class=\"hljs-string\">&quot;}&quot;</span>;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"990,1022"}},{"content":"<pre data-lines=\"1023,1024\"><code>HuffmanTree\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1023,1024"}},{"content":"<pre data-lines=\"1025,1130\"><code class=\"language-java\">\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">HuffmanTree</span> {\n    \n    <span class=\"hljs-keyword\">private</span> Node root;\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">HuffmanTree</span><span class=\"hljs-params\">(List&lt;Node&gt; nodes)</span> {\n        root = buildHuffmanTree(nodes);\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">HuffmanTree</span><span class=\"hljs-params\">(<span class=\"hljs-type\">byte</span>[] sourceBytes)</span> {\n        root = buildHuffmanTree(getNodes(sourceBytes));\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> List&lt;Node&gt; <span class=\"hljs-title function_\">getNodes</span><span class=\"hljs-params\">(<span class=\"hljs-type\">byte</span>[] sourceBytes)</span> {\n        List&lt;Node&gt; nodes = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ArrayList</span>&lt;Node&gt;();\n        Map&lt;Byte, Integer&gt; counts = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">HashMap</span>&lt;&gt;();\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">byte</span> sourceByte : sourceBytes) {\n            <span class=\"hljs-type\">Integer</span> <span class=\"hljs-variable\">count</span> <span class=\"hljs-operator\">=</span> counts.get(sourceByte);\n            <span class=\"hljs-keyword\">if</span> (count == <span class=\"hljs-literal\">null</span>) {\n                counts.put(sourceByte, <span class=\"hljs-number\">1</span>);\n            } <span class=\"hljs-keyword\">else</span> {\n                counts.put(sourceByte, count + <span class=\"hljs-number\">1</span>);\n            }\n        }\n        <span class=\"hljs-keyword\">for</span> (Map.Entry&lt;Byte, Integer&gt; entry : counts.entrySet()) {\n            nodes.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Node</span>(entry.getKey(), entry.getValue()));\n        }\n        <span class=\"hljs-keyword\">return</span> nodes;\n    }\n\n    \n    <span class=\"hljs-keyword\">private</span> Node <span class=\"hljs-title function_\">buildHuffmanTree</span><span class=\"hljs-params\">(List&lt;Node&gt; nodes)</span> {\n        \n        <span class=\"hljs-keyword\">if</span> (nodes.isEmpty()) {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>;\n        }\n        \n        <span class=\"hljs-keyword\">if</span> (nodes.size() == <span class=\"hljs-number\">1</span>) {\n            <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">node</span> <span class=\"hljs-operator\">=</span> nodes.get(<span class=\"hljs-number\">0</span>);\n            <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">root</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Node</span>(<span class=\"hljs-literal\">null</span>, node.weight);\n            root.left = node;\n            root.right = node;\n            <span class=\"hljs-keyword\">return</span> root;\n        }\n        \n        <span class=\"hljs-keyword\">while</span> (nodes.size() &gt; <span class=\"hljs-number\">1</span>) {\n            \n            Collections.sort(nodes);\n            \n            <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">lNode</span> <span class=\"hljs-operator\">=</span> nodes.get(<span class=\"hljs-number\">0</span>);\n            \n            <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">rNode</span> <span class=\"hljs-operator\">=</span> nodes.get(<span class=\"hljs-number\">1</span>);\n            \n            <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">parent</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Node</span>(<span class=\"hljs-literal\">null</span>, lNode.weight + rNode.weight);\n            parent.left = lNode;\n            parent.right = rNode;\n            \n            nodes.remove(lNode);\n            nodes.remove(rNode);\n            \n            nodes.add(parent);\n        }\n        <span class=\"hljs-keyword\">return</span> nodes.get(<span class=\"hljs-number\">0</span>);\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> Node <span class=\"hljs-title function_\">getRoot</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> root;\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">layerErgodic</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">if</span> (root != <span class=\"hljs-literal\">null</span>) {\n            layerErgodic(root);\n        }\n    }\n\n    \n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">layerErgodic</span><span class=\"hljs-params\">(Node x)</span> {\n        \n        Queue&lt;Node&gt; nodes = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LinkedList</span>&lt;&gt;();\n        \n        nodes.offer(x);\n        \n        <span class=\"hljs-keyword\">while</span> (!nodes.isEmpty()) {\n            \n            <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">n</span> <span class=\"hljs-operator\">=</span> nodes.poll();\n            System.out.println(n);\n            \n            <span class=\"hljs-keyword\">if</span> (n.left != <span class=\"hljs-literal\">null</span>) {\n                nodes.offer(n.left);\n            }\n            \n            <span class=\"hljs-keyword\">if</span> (n.right != <span class=\"hljs-literal\">null</span>) {\n                nodes.offer(n.right);\n            }\n        }\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1025,1130"}},{"content":"<pre data-lines=\"1131,1134\"><code>**&#x6d4b;&#x8bd5;&#x4ee3;&#x7801;&#xff1a;** \n\nHuffmanTreeTest\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1131,1134"}},{"content":"<pre data-lines=\"1135,1154\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">HuffmanTreeTest</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        List&lt;Node&gt; nodes = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ArrayList</span>&lt;&gt;();\n\n        nodes.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Node</span>((<span class=\"hljs-type\">byte</span>) <span class=\"hljs-string\">&apos;a&apos;</span>, <span class=\"hljs-number\">13</span>));\n        nodes.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Node</span>((<span class=\"hljs-type\">byte</span>) <span class=\"hljs-string\">&apos;b&apos;</span>, <span class=\"hljs-number\">7</span>));\n        nodes.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Node</span>((<span class=\"hljs-type\">byte</span>) <span class=\"hljs-string\">&apos;c&apos;</span>, <span class=\"hljs-number\">8</span>));\n        nodes.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Node</span>((<span class=\"hljs-type\">byte</span>) <span class=\"hljs-string\">&apos;d&apos;</span>, <span class=\"hljs-number\">3</span>));\n        nodes.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Node</span>((<span class=\"hljs-type\">byte</span>) <span class=\"hljs-string\">&apos;e&apos;</span>, <span class=\"hljs-number\">29</span>));\n        nodes.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Node</span>((<span class=\"hljs-type\">byte</span>) <span class=\"hljs-string\">&apos;f&apos;</span>, <span class=\"hljs-number\">6</span>));\n        nodes.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Node</span>((<span class=\"hljs-type\">byte</span>) <span class=\"hljs-string\">&apos;g&apos;</span>, <span class=\"hljs-number\">1</span>));\n\n        <span class=\"hljs-type\">HuffmanTree</span> <span class=\"hljs-variable\">huffmanTree</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">HuffmanTree</span>(nodes);\n        huffmanTree.layerErgodic();\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1135,1154"}},{"content":"<pre data-lines=\"1155,1156\"><code>**&#x8fd0;&#x884c;&#x6548;&#x679c;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1155,1156"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/4083e134a9aff34025e47cf97fd3dd8d.png\" alt>","children":[],"payload":{"tag":"img","lines":"1157,1158"}}],"payload":{"tag":"h2","lines":"983,985"}},{"content":"3.4&#x3001;&#x54c8;&#x592b;&#x66fc;&#x7f16;&#x7801;&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"1162,1191\"><code>*   **&#x901a;&#x4fe1;&#x9886;&#x57df;&#x4e2d;&#x4fe1;&#x606f;&#x7684;&#x5904;&#x7406;&#x65b9;&#x5f0f;1-&#x5b9a;&#x957f;&#x7f16;&#x7801;&#xff0c;&#x5982;&#x679c;&#x8981;&#x4f20;&#x8f93;`i like like like java do you like a java`&#x5171;40&#x4e2a;&#x5b57;&#x7b26;(&#x5305;&#x62ec;&#x7a7a;&#x683c;) &#x3002;** \n\n&#x5bf9;&#x5e94;ASCII&#x7801;&#xff1a;`105 32 108 105 107 101 32 108 105 107 101 32 108 105 107 101 32 106 97 118 97 32 100 111 32 121 111 117 32 108 105 107 101 32 97 32 106 97 118 97`\n\n&#x5bf9;&#x5e94;&#x4e8c;&#x8fdb;&#x5236;&#xff1a;`01101001 00100000 01101100 01101001 01101011 01100101 00100000 01101100 01101001 01101011 01100101 00100000 01101100 01101001 01101011 01100101 00100000 01101010 01100001 01110110 01100001 00100000 01100100 01101111 00100000 01111001 01101111 01110101 00100000 01101100 01101001 01101011 01100101 00100000 01100001 00100000 01101010 01100001 01110110 01100001`\n\n&#x6309;&#x7167;&#x4e8c;&#x8fdb;&#x5236;&#x6765;&#x4f20;&#x9012;&#x4fe1;&#x606f;&#xff0c;&#x603b;&#x7684;&#x957f;&#x5ea6;&#x662f; 359 (&#x5305;&#x62ec;&#x7a7a;&#x683c;)&#x3002;&#x8fd9;&#x79cd;&#x65b9;&#x5f0f;&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#x6570;&#x636e;&#x4f20;&#x8f93;&#xff0c;&#x4f46;&#x662f;&#x9700;&#x8981;&#x4f20;&#x8f93;&#x7684;&#x6570;&#x636e;&#x91cf;&#x5374;&#x5f88;&#x5927;&#x3002;\n\n*   **&#x901a;&#x4fe1;&#x9886;&#x57df;&#x4e2d;&#x4fe1;&#x606f;&#x7684;&#x5904;&#x7406;&#x65b9;&#x5f0f;2-&#x53d8;&#x957f;&#x7f16;&#x7801;&#xff0c;&#x5982;&#x679c;&#x8981;&#x4f20;&#x8f93;`i like like like java do you like a java`&#x5171;40&#x4e2a;&#x5b57;&#x7b26;(&#x5305;&#x62ec;&#x7a7a;&#x683c;) &#x3002;** \n\n&#x5b57;&#x7b26;&#x4e2a;&#x6570;&#x5bf9;&#x5e94;&#xff1a;`d:1 y:1 u:1 j:2 v:2 o:2 l:4 k:4 e:4 i:5 a:5 :9`\n\n&#x6309;&#x7167;&#x5404;&#x4e2a;&#x5b57;&#x7b26;&#x51fa;&#x73b0;&#x7684;&#x6b21;&#x6570;&#x8fdb;&#x884c;&#x7f16;&#x7801;&#xff0c;&#x539f;&#x5219;&#x662f;&#x51fa;&#x73b0;&#x6b21;&#x6570;&#x8d8a;&#x591a;&#x7684;&#xff0c;&#x5219;&#x7f16;&#x7801;&#x8d8a;&#x5c0f;&#xff0c;&#x6bd4;&#x5982; **&#x7a7a;&#x683c;** &#x51fa;&#x73b0;&#x4e86;9 &#x6b21;&#xff0c; &#x7f16;&#x7801;&#x4e3a;0&#xff0c;&#x5176;&#x4ed6;&#x4f9d;&#x6b21;&#x7c7b;&#x63a8;&#x3002;\n\n&#x8fdb;&#x884c;&#x5b57;&#x7b26;&#x7f16;&#x7801;&#xff1a;`0= , 1=a, 10=i, 11=e, 100=k, 101=l, 110=o, 111=v, 1000=j, 1001=u, 1010=y, 1011=d`\n\n&#x6309;&#x7167;&#x4e0a;&#x9762;&#x7ed9;&#x5404;&#x4e2a;&#x5b57;&#x7b26;&#x89c4;&#x5b9a;&#x7684;&#x7f16;&#x7801;&#xff0c;&#x5219;&#x6211;&#x4eec;&#x5728;&#x4f20;&#x8f93; &#x201c;i like like like java do you like a java&#x201d; &#x6570;&#x636e;&#x65f6;&#xff0c;&#x7f16;&#x7801;&#x5c31;&#x662f;`10010110100...`&#x3002;\n\n&#x4f46;&#x662f;&#x6211;&#x4eec;&#x5728;&#x63a5;&#x6536;&#x8fd9;&#x4e00;&#x4e32;&#x7f16;&#x7801;`10010110100...`&#x7684;&#x65f6;&#x5019;&#x5374;&#x65e0;&#x6cd5;&#x89e3;&#x6790;&#xff0c;&#x56e0;&#x4e3a;&#x90e8;&#x5206;&#x5b57;&#x7b26;&#x7f16;&#x7801;&#x662f;&#x5176;&#x4ed6;&#x5b57;&#x7b26;&#x7f16;&#x7801;&#x7684;&#x524d;&#x7f00;&#xff0c;&#x8fd9;&#x5bfc;&#x81f4;&#x7a0b;&#x5e8f;&#x65e0;&#x6cd5;&#x533a;&#x5206;&#x3002;\n\n&#x5b57;&#x7b26;&#x7684;&#x7f16;&#x7801;&#x90fd;&#x4e0d;&#x80fd;&#x662f;&#x5176;&#x4ed6;&#x5b57;&#x7b26;&#x7f16;&#x7801;&#x7684;&#x524d;&#x7f00;&#xff0c;&#x7b26;&#x5408;&#x6b64;&#x8981;&#x6c42;&#x7684;&#x7f16;&#x7801;&#x53eb;&#x505a;&#x524d;&#x7f00;&#x7f16;&#x7801;&#xff0c;&#x800c;&#x54c8;&#x592b;&#x66fc;&#x7f16;&#x7801;&#x5374;&#x662f;&#x4e00;&#x79cd;&#x524d;&#x7f00;&#x7f16;&#x7801;&#x3002;\n\n*   **&#x901a;&#x4fe1;&#x9886;&#x57df;&#x4e2d;&#x4fe1;&#x606f;&#x7684;&#x5904;&#x7406;&#x65b9;&#x5f0f;3-&#x54c8;&#x592b;&#x66fc;&#x7f16;&#x7801;&#xff0c;&#x5982;&#x679c;&#x8981;&#x4f20;&#x8f93;`i like like like java do you like a java`&#x5171;40&#x4e2a;&#x5b57;&#x7b26;(&#x5305;&#x62ec;&#x7a7a;&#x683c;) &#x3002;** \n\n&#x5b57;&#x7b26;&#x4e2a;&#x6570;&#x5bf9;&#x5e94;&#xff1a;`d:1 y:1 u:1 j:2 v:2 o:2 l:4 k:4 e:4 i:5 a:5 :9`\n\n&#x6309;&#x7167;&#x5404;&#x4e2a;&#x5b57;&#x7b26;&#x51fa;&#x73b0;&#x7684;&#x6b21;&#x6570;&#x8fdb;&#x884c;&#x7f16;&#x7801;&#xff0c;&#x539f;&#x5219;&#x662f;&#x51fa;&#x73b0;&#x6b21;&#x6570;&#x8d8a;&#x591a;&#x7684;&#xff0c;&#x5219;&#x7f16;&#x7801;&#x8d8a;&#x5c0f;&#xff0c;&#x6bd4;&#x5982; **&#x7a7a;&#x683c;** &#x51fa;&#x73b0;&#x4e86;9&#x6b21;&#xff0c;&#x7f16;&#x7801;&#x4e3a;0&#xff0c;&#x5176;&#x4ed6;&#x4f9d;&#x6b21;&#x7c7b;&#x63a8;&#x3002;\n\n&#x6309;&#x7167;&#x4e0a;&#x9762;&#x5b57;&#x7b26;&#x51fa;&#x73b0;&#x7684;&#x6b21;&#x6570;&#x6784;&#x5efa;&#x4e00;&#x68f5;&#x54c8;&#x592b;&#x66fc;&#x6811;&#xff0c;&#x5b57;&#x7b26;&#x4f5c;&#x4e3a;&#x6570;&#x636e;&#xff0c;&#x5b57;&#x7b26;&#x51fa;&#x73b0;&#x7684;&#x6b21;&#x6570;&#x4f5c;&#x4e3a;&#x6743;&#x503c;&#x3002;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1162,1191"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/913eab46c8613bc289347723be20f354.png\" alt>","children":[],"payload":{"tag":"img","lines":"1192,1193"}},{"content":"<pre data-lines=\"1194,1216\"><code>&#x6839;&#x636e;&#x4e0a;&#x56fe;&#x54c8;&#x592b;&#x66fc;&#x6811;&#xff0c;&#x7ed9;&#x5404;&#x4e2a;&#x5b57;&#x7b26;&#x89c4;&#x5b9a;&#x7f16;&#x7801;&#xff0c;&#x5411;&#x5de6;&#x7684;&#x8def;&#x5f84;&#x4e3a;0&#xff0c;&#x5411;&#x53f3;&#x7684;&#x8def;&#x5f84;&#x4e3a;1&#xff0c;&#x7f16;&#x7801;&#x5982;&#x4e0b;:\n\n*   `&#x7a7a;&#x683c;=01`\n*   `a=101`\n*   `d=11000`\n*   `e=000`\n*   `u=11010`\n*   `v=0010`\n*   `i=100`\n*   `y=11001`\n*   `j=11011`\n*   `k=1111`\n*   `l=1110`\n*   `o=0011`\n\n&#x6309;&#x7167;&#x4e0a;&#x9762;&#x7684;&#x54c8;&#x592b;&#x66fc;&#x7f16;&#x7801;&#xff0c;&#x6211;&#x4eec;&#x4e3a; &#x201c;i like like like java do you like a java&#x201d; &#x5b57;&#x7b26;&#x4e32;&#x8fdb;&#x884c;&#x7f16;&#x7801;&#xff0c;&#x7f16;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n\n`1000111101001111000011110100111100001111010011110000111011101001010101110000011011100100111101001111010011110000110101110111010010101`\n\n&#x5f53;&#x524d;&#x7f16;&#x7801;&#x540e;&#x7684;&#x957f;&#x5ea6;&#x4e3a;133&#xff0c;&#x539f;&#x6765;&#x4e8c;&#x8fdb;&#x5236;&#x7684;&#x957f;&#x5ea6;&#x662f; 359 (&#x5305;&#x62ec;&#x7a7a;&#x683c;)&#xff0c;&#x538b;&#x7f29;&#x4e86;`(359-133) / 359 = 62.9%`&#x3002;\n\n&#x6b64;&#x7f16;&#x7801;&#x6ee1;&#x8db3;&#x524d;&#x7f00;&#x7f16;&#x7801;&#xff0c;&#x5373;&#x5b57;&#x7b26;&#x7684;&#x7f16;&#x7801;&#x90fd;&#x4e0d;&#x80fd;&#x662f;&#x5176;&#x4ed6;&#x5b57;&#x7b26;&#x7f16;&#x7801;&#x7684;&#x524d;&#x7f00;&#xff0c;&#x4e0d;&#x4f1a;&#x9020;&#x6210;&#x5339;&#x914d;&#x7684;&#x591a;&#x4e49;&#x6027;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1194,1216"}}],"payload":{"tag":"h2","lines":"1159,1161"}},{"content":"3.5&#x3001;&#x54c8;&#x592b;&#x66fc;&#x7f16;&#x7801;&#x5b9e;&#x73b0;","children":[{"content":"<pre data-lines=\"1220,1221\"><code>**&#x5b9e;&#x73b0;&#x4ee3;&#x7801;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1220,1221"}},{"content":"<pre data-lines=\"1224,1345\"><code class=\"language-java\">\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">HuffmanCode</span> {\n    \n    <span class=\"hljs-keyword\">private</span> Node root;\n    \n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> lastByteBits;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">HuffmanCode</span><span class=\"hljs-params\">(HuffmanTree huffmanTree)</span> {\n        <span class=\"hljs-built_in\">this</span>.root = huffmanTree.getRoot();\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> Map&lt;Byte, String&gt; <span class=\"hljs-title function_\">buildHuffmanCode</span><span class=\"hljs-params\">()</span> {\n        Map&lt;Byte, String&gt; huffmanCodes = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">HashMap</span>&lt;&gt;();\n        buildHuffmanCode(huffmanCodes, root, <span class=\"hljs-string\">&quot;&quot;</span>);\n        <span class=\"hljs-keyword\">return</span> huffmanCodes;\n    }\n\n    \n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">buildHuffmanCode</span><span class=\"hljs-params\">(Map&lt;Byte, String&gt; huffmanCodes, Node node, String s)</span> {\n        <span class=\"hljs-keyword\">if</span> (node.isLeaf()) {\n            huffmanCodes.put(node.data, s);\n            <span class=\"hljs-keyword\">return</span>;\n        }\n        buildHuffmanCode(huffmanCodes, node.left, s + <span class=\"hljs-string\">&quot;0&quot;</span>);\n        buildHuffmanCode(huffmanCodes, node.right, s + <span class=\"hljs-string\">&quot;1&quot;</span>);\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">buildHuffmanCodeString</span><span class=\"hljs-params\">(<span class=\"hljs-type\">byte</span>[] bytes, Map&lt;Byte, String&gt; huffmanCodes)</span> {\n        <span class=\"hljs-type\">StringBuilder</span> <span class=\"hljs-variable\">huffmanCodeString</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">StringBuilder</span>();\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">byte</span> data : bytes) {\n            huffmanCodeString.append(huffmanCodes.get(data));\n        }\n        <span class=\"hljs-keyword\">return</span> huffmanCodeString.toString();\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">byte</span>[] buildHuffmanCodeBytes(String huffmanCodeString) {\n        lastByteBits = huffmanCodeString.length() % <span class=\"hljs-number\">8</span> == <span class=\"hljs-number\">0</span> ? <span class=\"hljs-number\">8</span> : huffmanCodeString.length() % <span class=\"hljs-number\">8</span>;\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">len</span> <span class=\"hljs-operator\">=</span> (huffmanCodeString.length() + <span class=\"hljs-number\">7</span>) / <span class=\"hljs-number\">8</span>;\n        <span class=\"hljs-type\">byte</span>[] huffmanCodeBytes = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">byte</span>[len];\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">index</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>;\n        String element;\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; huffmanCodeString.length(); i += <span class=\"hljs-number\">8</span>) {\n            <span class=\"hljs-keyword\">if</span> (i + <span class=\"hljs-number\">8</span> &gt; huffmanCodeString.length()) {\n                element = huffmanCodeString.substring(i);\n            } <span class=\"hljs-keyword\">else</span> {\n                element = huffmanCodeString.substring(i, i + <span class=\"hljs-number\">8</span>);\n            }\n            huffmanCodeBytes[index++] = (<span class=\"hljs-type\">byte</span>) Integer.parseInt(element, <span class=\"hljs-number\">2</span>);\n        }\n        <span class=\"hljs-keyword\">return</span> huffmanCodeBytes;\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">byte</span>[] encode(<span class=\"hljs-type\">byte</span>[] sourceBytes, Map&lt;Byte, String&gt; huffmanCodes) {\n     <span class=\"hljs-keyword\">return</span> buildHuffmanCodeBytes(buildHuffmanCodeString(sourceBytes, huffmanCodes));\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">byte</span>[] decode(<span class=\"hljs-type\">byte</span>[] targetBytes) {\n     <span class=\"hljs-keyword\">return</span> rebuildHuffmanCodeStringToSourceBytes(rebuildHuffmanCodeTargetBytesToString(targetBytes));\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">rebuildHuffmanCodeTargetBytesToString</span><span class=\"hljs-params\">(<span class=\"hljs-type\">byte</span>[] huffmanCodeBytes)</span> {\n        String binaryString;\n        <span class=\"hljs-type\">StringBuilder</span> <span class=\"hljs-variable\">huffmanCodeString</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">StringBuilder</span>();\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; huffmanCodeBytes.length; i++) {\n            <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">element</span> <span class=\"hljs-operator\">=</span> huffmanCodeBytes[i];\n            <span class=\"hljs-keyword\">if</span> (i == huffmanCodeBytes.length - <span class=\"hljs-number\">1</span>) {\n                <span class=\"hljs-keyword\">if</span> (element &gt; <span class=\"hljs-number\">0</span>) {\n                    element |= <span class=\"hljs-number\">256</span>;\n                    binaryString = Integer.toBinaryString(element);\n                    binaryString = binaryString.substring(binaryString.length() - lastByteBits);\n                } <span class=\"hljs-keyword\">else</span> {\n                    binaryString = Integer.toBinaryString(element);\n                }\n            } <span class=\"hljs-keyword\">else</span> {\n                <span class=\"hljs-keyword\">if</span> (element &gt; <span class=\"hljs-number\">0</span>) {\n                    element |= <span class=\"hljs-number\">256</span>;\n                    binaryString = Integer.toBinaryString(element);\n                    binaryString = binaryString.substring(binaryString.length() - <span class=\"hljs-number\">8</span>);\n                } <span class=\"hljs-keyword\">else</span> {\n                    binaryString = Integer.toBinaryString(element);\n                    binaryString = binaryString.substring(binaryString.length() - <span class=\"hljs-number\">8</span>);\n                }\n            }\n            huffmanCodeString.append(binaryString);\n        }\n        <span class=\"hljs-keyword\">return</span> huffmanCodeString.toString();\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">byte</span>[] rebuildHuffmanCodeStringToSourceBytes(String huffmanCodeString) {\n        List&lt;Byte&gt; datas = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ArrayList</span>&lt;&gt;();\n        <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">node</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-built_in\">this</span>.root;\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; huffmanCodeString.length(); i++) {\n            <span class=\"hljs-type\">char</span> <span class=\"hljs-variable\">flag</span> <span class=\"hljs-operator\">=</span> huffmanCodeString.charAt(i);\n            <span class=\"hljs-keyword\">if</span> (flag == <span class=\"hljs-number\">48</span>) {       \n                node = node.left;\n            }\n            <span class=\"hljs-keyword\">if</span> (flag == <span class=\"hljs-number\">49</span>) {       \n                node = node.right;\n            }\n            <span class=\"hljs-keyword\">if</span> (node.isLeaf()) {    \n                datas.add(node.data);\n                node = <span class=\"hljs-built_in\">this</span>.root;\n            }\n        }\n        <span class=\"hljs-type\">byte</span>[] huffmanCodeBytes = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">byte</span>[datas.size()];\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; datas.size(); i++) {\n            huffmanCodeBytes[i] = datas.get(i);\n        }\n        <span class=\"hljs-keyword\">return</span> huffmanCodeBytes;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1224,1345"}},{"content":"<pre data-lines=\"1346,1349\"><code>**&#x6d4b;&#x8bd5;&#x4ee3;&#x7801;&#xff1a;** \n\nHuffmanCodeTest\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1346,1349"}},{"content":"<pre data-lines=\"1350,1376\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">HuffmanCodeTest</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">src</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&quot;i like java&quot;</span>;\n        <span class=\"hljs-type\">byte</span>[] sourceBytes = src.getBytes();\n\n        System.out.println(<span class=\"hljs-string\">&quot;&#x89e3;&#x538b;&#x524d;&#x663e;&#x793a;&#x6570;&#x636e;&#xff1a;&quot;</span> + src);\n        System.out.println(<span class=\"hljs-string\">&quot;&#x89e3;&#x538b;&#x524d;&#x5b57;&#x8282;&#x6570;&#x7ec4;&#xff1a;&quot;</span> + Arrays.toString(sourceBytes));\n\n        <span class=\"hljs-type\">HuffmanTree</span> <span class=\"hljs-variable\">huffmanTree</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">HuffmanTree</span>(sourceBytes);\n        <span class=\"hljs-type\">HuffmanCode</span> <span class=\"hljs-variable\">huffmanCode</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">HuffmanCode</span>(huffmanTree);\n        Map&lt;Byte, String&gt; huffmanCodes = huffmanCode.buildHuffmanCode();\n\n        <span class=\"hljs-type\">byte</span>[] targetBytes = huffmanCode.encode(sourceBytes, huffmanCodes);\n        System.out.println(<span class=\"hljs-string\">&quot;&#x538b;&#x7f29;&#x540e;&#x5b57;&#x8282;&#x6570;&#x7ec4;&#xff1a;&quot;</span> + Arrays.toString(targetBytes));\n        sourceBytes = huffmanCode.decode(targetBytes);\n        System.out.println(<span class=\"hljs-string\">&quot;&#x89e3;&#x538b;&#x540e;&#x5b57;&#x8282;&#x6570;&#x7ec4;&#xff1a;&quot;</span> + Arrays.toString(sourceBytes));\n\n        System.out.print(<span class=\"hljs-string\">&quot;&#x89e3;&#x538b;&#x540e;&#x663e;&#x793a;&#x6570;&#x636e;&#xff1a;&quot;</span>);\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">byte</span> sourceByte : sourceBytes) {\n            System.out.print(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">String</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">byte</span>[]{sourceByte}));\n        }\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1350,1376"}},{"content":"<pre data-lines=\"1377,1385\"><code class=\"language-java\">&#x89e3;&#x538b;&#x524d;&#x663e;&#x793a;&#x6570;&#x636e;&#xff1a;i like java\n&#x89e3;&#x538b;&#x524d;&#x5b57;&#x8282;&#x6570;&#x7ec4;&#xff1a;[105, 32, 108, 105, 107, 101, 32, 106, 97, 118, 97]\n&#x538b;&#x7f29;&#x540e;&#x5b57;&#x8282;&#x6570;&#x7ec4;&#xff1a;[-10, 118, 42, -57, 0]\n&#x89e3;&#x538b;&#x540e;&#x5b57;&#x8282;&#x6570;&#x7ec4;&#xff1a;[105, 32, 108, 105, 107, 101, 32, 106, 97, 118, 97]\n&#x89e3;&#x538b;&#x540e;&#x663e;&#x793a;&#x6570;&#x636e;&#xff1a;i like java\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1377,1385"}},{"content":"<pre data-lines=\"1386,1387\"><code>&gt; ps&#xff1a;src&#x7684;&#x957f;&#x5ea6;&#x5fc5;&#x987b;&#x5927;&#x4e8e;0&#xff0c;&#x5982;&#x679c;&#x89e3;&#x538b;&#x540e;&#x663e;&#x793a;&#x6570;&#x636e;&#x6709;&#x4e2d;&#x6587;&#xff0c;&#x5219;&#x9700;&#x8981;&#x4f7f;&#x7528;`new String(sourceBytes,&quot;UTF-8&quot;)`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1386,1387"}}],"payload":{"tag":"h2","lines":"1217,1219"}},{"content":"4.1&#x3001;&#x5355;&#x8bcd;&#x67e5;&#x627e;&#x6811;&#x7684;&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"1391,1392\"><code>Trie&#x6811;&#x53c8;&#x79f0;&#x5355;&#x8bcd;&#x67e5;&#x627e;&#x6811;&#xff0c;&#x662f;&#x4e00;&#x79cd;&#x6811;&#x5f62;&#x7ed3;&#x6784;&#xff0c;&#x7528;&#x4e8e;&#x7edf;&#x8ba1;&#xff0c;&#x6392;&#x5e8f;&#x548c;&#x4fdd;&#x5b58;&#x5927;&#x91cf;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#xff08;&#x4f46;&#x4e0d;&#x4ec5;&#x9650;&#x4e8e;&#x5b57;&#x7b26;&#x4e32;&#xff09;&#xff0c;&#x6240;&#x4ee5;&#x7ecf;&#x5e38;&#x88ab;&#x641c;&#x7d22;&#x5f15;&#x64ce;&#x7cfb;&#x7edf;&#x7528;&#x4e8e;&#x6587;&#x672c;&#x8bcd;&#x9891;&#x7edf;&#x8ba1;&#x3002;&#x4ed6;&#x7684;&#x4f18;&#x70b9;&#x662f;&#xff1a;&#x5229;&#x7528;&#x5b57;&#x7b26;&#x4e32;&#x7684;&#x516c;&#x5171;&#x524d;&#x7f00;&#x6765;&#x51cf;&#x5c11;&#x67e5;&#x8be2;&#x65f6;&#x95f4;&#xff0c;&#x6700;&#x5927;&#x9650;&#x5ea6;&#x5730;&#x51cf;&#x5c11;&#x65e0;&#x8c13;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#x6bd4;&#x8f83;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1391,1392"}}],"payload":{"tag":"h2","lines":"1388,1390"}},{"content":"4.2&#x3001;&#x5355;&#x8bcd;&#x67e5;&#x627e;&#x6811;&#x7684;&#x7ed3;&#x6784;","children":[{"content":"<pre data-lines=\"1396,1397\"><code>&#x5047;&#x8bbe;&#x4f7f;&#x7528; Trie &#x5b58;&#x50a8; cat&#x3001;dog&#x3001;doggy&#x3001;does&#x3001;cast&#x3001;add &#x516d;&#x4e2a;&#x5355;&#x8bcd;&#xff0c;&#x5219;&#x6784;&#x5efa;&#x6811;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1396,1397"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/38ce449a1f85132798202a8f4c3c685f.png\" alt>","children":[],"payload":{"tag":"img","lines":"1398,1399"}},{"content":"<pre data-lines=\"1400,1403\"><code>&#x73b0;&#x5728;&#x9488;&#x5bf9;&#x4ee5;&#x4e0a;&#x5355;&#x8bcd;&#x67e5;&#x627e;&#x6811;&#x7684;&#x7ed3;&#x6784;&#x56fe;&#xff0c;&#x6211;&#x4eec;&#x5b9a;&#x4e49;&#x7ed3;&#x70b9;&#x7c7b;&#xff0c;&#x5e76;&#x7ed9;&#x51fa;&#x6700;&#x5e38;&#x89c1;&#x7684;&#x4e00;&#x4e9b;&#x65b9;&#x6cd5;&#x3002;\n\nTrie\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1400,1403"}},{"content":"<pre data-lines=\"1404,1449\"><code class=\"language-java\">\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Trie</span>&lt;E&gt; {\n    \n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Node</span> {\n        <span class=\"hljs-keyword\">public</span> Node parent;                     \n        <span class=\"hljs-keyword\">public</span> Map&lt;Character, Node&gt; children;   \n        <span class=\"hljs-keyword\">public</span> Character character;             \n        <span class=\"hljs-keyword\">public</span> E value;                         \n        <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">boolean</span> isWord;                  \n    }\n\n    <span class=\"hljs-keyword\">private</span> Node root;                          \n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> size;                           \n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">Trie</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-built_in\">this</span>.root = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Node</span>();\n        <span class=\"hljs-built_in\">this</span>.root.children = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">HashMap</span>&lt;&gt;();\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> Node <span class=\"hljs-title function_\">getRoot</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> root;\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">size</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> size;\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">boolean</span> <span class=\"hljs-title function_\">isEmpty</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> size == <span class=\"hljs-number\">0</span>;\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">clear</span><span class=\"hljs-params\">()</span> {\n        size = <span class=\"hljs-number\">0</span>;\n        root = <span class=\"hljs-literal\">null</span>;\n    }\n\n    \n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1404,1449"}}],"payload":{"tag":"h2","lines":"1393,1395"}},{"content":"4.3&#x3001;&#x5355;&#x8bcd;&#x67e5;&#x627e;&#x6811;&#x7684;&#x5b9e;&#x73b0;","children":[{"content":"<pre data-lines=\"1453,1454\"><code>**&#x6dfb;&#x52a0;&#x64cd;&#x4f5c;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1453,1454"}},{"content":"<pre data-lines=\"1455,1489\"><code class=\"language-java\">\n<span class=\"hljs-keyword\">public</span> E <span class=\"hljs-title function_\">add</span><span class=\"hljs-params\">(String key, E value)</span> {\n    <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">parent</span> <span class=\"hljs-operator\">=</span> root;\n    \n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; key.length(); i++) {\n        <span class=\"hljs-type\">Character</span> <span class=\"hljs-variable\">character</span> <span class=\"hljs-operator\">=</span> key.charAt(i);\n        <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">child</span> <span class=\"hljs-operator\">=</span> parent.children.get(character);\n        <span class=\"hljs-keyword\">if</span> (child == <span class=\"hljs-literal\">null</span>) {\n            child = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Node</span>();\n            child.parent = parent;\n            child.children = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">HashMap</span>&lt;&gt;();\n            child.character = character;\n            child.value = value;\n            child.isWord = <span class=\"hljs-literal\">false</span>;\n\n            parent.children.put(character, child);\n        }\n        parent = child;\n    }\n    \n    <span class=\"hljs-keyword\">if</span> (parent.isWord) {\n        <span class=\"hljs-type\">E</span> <span class=\"hljs-variable\">oldValue</span> <span class=\"hljs-operator\">=</span> parent.value;\n        parent.value = value;\n        <span class=\"hljs-keyword\">return</span> oldValue;\n    }\n    \n    parent.isWord = <span class=\"hljs-literal\">true</span>;\n    parent.value = value;\n    size++;\n    <span class=\"hljs-keyword\">return</span> value;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1455,1489"}},{"content":"<pre data-lines=\"1490,1510\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">TrieTest</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        Trie&lt;String&gt; trie = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Trie</span>&lt;&gt;();\n\n        trie.add(<span class=\"hljs-string\">&quot;tom&quot;</span>, <span class=\"hljs-string\">&quot;tom@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;lucy&quot;</span>, <span class=\"hljs-string\">&quot;lucy@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;mark&quot;</span>, <span class=\"hljs-string\">&quot;mark@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;bill&quot;</span>, <span class=\"hljs-string\">&quot;bill@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;james&quot;</span>, <span class=\"hljs-string\">&quot;james@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;alan&quot;</span>, <span class=\"hljs-string\">&quot;alan@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;jack&quot;</span>, <span class=\"hljs-string\">&quot;jack@qq.com&quot;</span>);\n\n        System.out.println(trie.size());\n        System.out.println(trie.add(<span class=\"hljs-string\">&quot;tom&quot;</span>, <span class=\"hljs-string\">&quot;123@qq.com&quot;</span>));\n        System.out.println(trie.add(<span class=\"hljs-string\">&quot;tom&quot;</span>, <span class=\"hljs-string\">&quot;abc@qq.com&quot;</span>));\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1490,1510"}},{"content":"<pre data-lines=\"1511,1517\"><code class=\"language-java\"><span class=\"hljs-number\">7</span>\ntom<span class=\"hljs-meta\">@qq</span>.com\n<span class=\"hljs-number\">123</span><span class=\"hljs-meta\">@qq</span>.com\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1511,1517"}},{"content":"<pre data-lines=\"1518,1519\"><code>**&#x83b7;&#x53d6;&#x64cd;&#x4f5c;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1518,1519"}},{"content":"<pre data-lines=\"1520,1553\"><code class=\"language-java\">\n<span class=\"hljs-keyword\">private</span> Node <span class=\"hljs-title function_\">getNode</span><span class=\"hljs-params\">(String key)</span> {\n    <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">parent</span> <span class=\"hljs-operator\">=</span> root;\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; key.length(); i++) {\n        <span class=\"hljs-keyword\">if</span> (parent == <span class=\"hljs-literal\">null</span>)             <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>;\n        <span class=\"hljs-keyword\">if</span> (parent.children == <span class=\"hljs-literal\">null</span>)    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>;\n        <span class=\"hljs-keyword\">if</span> (parent.children.isEmpty())  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>;\n        <span class=\"hljs-type\">Character</span> <span class=\"hljs-variable\">character</span> <span class=\"hljs-operator\">=</span> key.charAt(i);\n        <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">child</span> <span class=\"hljs-operator\">=</span> parent.children.get(character);\n        parent = child;\n    }\n    <span class=\"hljs-keyword\">return</span> parent;\n}\n\n\n<span class=\"hljs-keyword\">public</span> E <span class=\"hljs-title function_\">get</span><span class=\"hljs-params\">(String key)</span> {\n    <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">node</span> <span class=\"hljs-operator\">=</span> getNode(key);\n    <span class=\"hljs-keyword\">return</span> (node != <span class=\"hljs-literal\">null</span> &amp;&amp; node.isWord) ? node.value : <span class=\"hljs-literal\">null</span>;\n}\n\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">boolean</span> <span class=\"hljs-title function_\">contains</span><span class=\"hljs-params\">(String key)</span> {\n    <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">node</span> <span class=\"hljs-operator\">=</span> getNode(key);\n    <span class=\"hljs-keyword\">return</span> (node != <span class=\"hljs-literal\">null</span> &amp;&amp; node.isWord);\n}\n\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">boolean</span> <span class=\"hljs-title function_\">startsWith</span><span class=\"hljs-params\">(String prefix)</span> {\n    <span class=\"hljs-keyword\">return</span> getNode(prefix) != <span class=\"hljs-literal\">null</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1520,1553"}},{"content":"<pre data-lines=\"1554,1580\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">TrieTest</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        Trie&lt;String&gt; trie = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Trie</span>&lt;&gt;();\n\n        trie.add(<span class=\"hljs-string\">&quot;tom&quot;</span>, <span class=\"hljs-string\">&quot;tom@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;lucy&quot;</span>, <span class=\"hljs-string\">&quot;lucy@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;mark&quot;</span>, <span class=\"hljs-string\">&quot;mark@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;bill&quot;</span>, <span class=\"hljs-string\">&quot;bill@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;james&quot;</span>, <span class=\"hljs-string\">&quot;james@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;alan&quot;</span>, <span class=\"hljs-string\">&quot;alan@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;jack&quot;</span>, <span class=\"hljs-string\">&quot;jack@qq.com&quot;</span>);\n\n        System.out.println(trie.get(<span class=\"hljs-string\">&quot;james&quot;</span>));\n        System.out.println(trie.contains(<span class=\"hljs-string\">&quot;james&quot;</span>));\n        System.out.println(trie.startsWith(<span class=\"hljs-string\">&quot;ja&quot;</span>));\n\n        System.out.println(<span class=\"hljs-string\">&quot;====================&quot;</span>);\n\n        System.out.println(trie.get(<span class=\"hljs-string\">&quot;123&quot;</span>));\n        System.out.println(trie.contains(<span class=\"hljs-string\">&quot;123&quot;</span>));\n        System.out.println(trie.startsWith(<span class=\"hljs-string\">&quot;123&quot;</span>));\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1554,1580"}},{"content":"<pre data-lines=\"1581,1591\"><code class=\"language-java\">james<span class=\"hljs-meta\">@qq</span>.com\n<span class=\"hljs-literal\">true</span>\n<span class=\"hljs-literal\">true</span>\n====================\n<span class=\"hljs-literal\">null</span>\n<span class=\"hljs-literal\">false</span>\n<span class=\"hljs-literal\">false</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1581,1591"}},{"content":"<pre data-lines=\"1592,1593\"><code>**&#x5220;&#x9664;&#x64cd;&#x4f5c;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1592,1593"}},{"content":"<pre data-lines=\"1594,1623\"><code class=\"language-java\">\n<span class=\"hljs-keyword\">public</span> E <span class=\"hljs-title function_\">remove</span><span class=\"hljs-params\">(String key)</span> {\n    \n    <span class=\"hljs-type\">Node</span> <span class=\"hljs-variable\">node</span> <span class=\"hljs-operator\">=</span> getNode(key);\n    \n    <span class=\"hljs-keyword\">if</span> (node == <span class=\"hljs-literal\">null</span> || !node.isWord) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>;\n    }\n    \n    size--;\n    <span class=\"hljs-type\">E</span> <span class=\"hljs-variable\">oldValue</span> <span class=\"hljs-operator\">=</span> node.value;\n    \n    <span class=\"hljs-keyword\">if</span> (!node.children.isEmpty()) {\n        node.isWord = <span class=\"hljs-literal\">false</span>;\n        node.value = <span class=\"hljs-literal\">null</span>;\n        <span class=\"hljs-keyword\">return</span> oldValue;\n    }\n    \n    Node parent;\n    <span class=\"hljs-keyword\">while</span> ((parent = node.parent) != <span class=\"hljs-literal\">null</span>) {\n        parent.children.remove(node.character);\n        <span class=\"hljs-keyword\">if</span> (parent.isWord || !parent.children.isEmpty()) <span class=\"hljs-keyword\">break</span>;\n        node = parent;\n    }\n    <span class=\"hljs-keyword\">return</span> oldValue;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1594,1623"}},{"content":"<pre data-lines=\"1624,1647\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">TrieTest</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        Trie&lt;String&gt; trie = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Trie</span>&lt;&gt;();\n\n        trie.add(<span class=\"hljs-string\">&quot;tom&quot;</span>, <span class=\"hljs-string\">&quot;tom@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;lucy&quot;</span>, <span class=\"hljs-string\">&quot;lucy@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;mark&quot;</span>, <span class=\"hljs-string\">&quot;mark@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;bill&quot;</span>, <span class=\"hljs-string\">&quot;bill@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;james&quot;</span>, <span class=\"hljs-string\">&quot;james@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;alan&quot;</span>, <span class=\"hljs-string\">&quot;alan@qq.com&quot;</span>);\n        trie.add(<span class=\"hljs-string\">&quot;jack&quot;</span>, <span class=\"hljs-string\">&quot;jack@qq.com&quot;</span>);\n\n        System.out.println(trie.remove(<span class=\"hljs-string\">&quot;123&quot;</span>));\n        System.out.println(trie.remove(<span class=\"hljs-string\">&quot;tom&quot;</span>));\n        System.out.println(trie.remove(<span class=\"hljs-string\">&quot;james&quot;</span>));\n        System.out.println(trie.startsWith(<span class=\"hljs-string\">&quot;jame&quot;</span>));\n        System.out.println(trie.remove(<span class=\"hljs-string\">&quot;jack&quot;</span>));\n        System.out.println(trie.size());\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1624,1647"}},{"content":"<pre data-lines=\"1648,1657\"><code class=\"language-java\"><span class=\"hljs-literal\">null</span>\ntom<span class=\"hljs-meta\">@qq</span>.com\njames<span class=\"hljs-meta\">@qq</span>.com\n<span class=\"hljs-literal\">false</span>\njack<span class=\"hljs-meta\">@qq</span>.com\n<span class=\"hljs-number\">4</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1648,1657"}}],"payload":{"tag":"h2","lines":"1450,1452"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
