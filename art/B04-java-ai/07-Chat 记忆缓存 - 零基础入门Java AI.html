<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Chat &#x8bb0;&#x5fc6;&#x7f13;&#x5b58;","children":[{"content":"&#x8ba4;&#x8bc6;","children":[{"content":"<img src=\"https://minio.pigx.top/oss/202410/1728298660.png\" alt>","children":[],"payload":{"tag":"img","lines":"6,7"}},{"content":"<pre data-lines=\"8,9\"><code>&#x8bb0;&#x5fc6;&#x7f13;&#x5b58;&#x662f;&#x804a;&#x5929;&#x7cfb;&#x7edf;&#x4e2d;&#x7684;&#x4e00;&#x4e2a;&#x91cd;&#x8981;&#x7ec4;&#x4ef6;&#xff0c;&#x7528;&#x4e8e;&#x5b58;&#x50a8;&#x548c;&#x7ba1;&#x7406;&#x5bf9;&#x8bdd;&#x7684;&#x4e0a;&#x4e0b;&#x6587;&#x4fe1;&#x606f;&#x3002;&#x5b83;&#x7684;&#x4e3b;&#x8981;&#x4f5c;&#x7528;&#x662f;&#x8ba9;AI&#x52a9;&#x624b;&#x80fd;&#x591f;&#x201d;&#x8bb0;&#x4f4f;&#x201d;&#x4e4b;&#x524d;&#x7684;&#x5bf9;&#x8bdd;&#x5185;&#x5bb9;&#xff0c;&#x4ece;&#x800c;&#x63d0;&#x4f9b;&#x8fde;&#x8d2f;&#x548c;&#x4e2a;&#x6027;&#x5316;&#x7684;&#x56de;&#x590d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"8,9"}}],"payload":{"tag":"h2","lines":"3,5"}},{"content":"1.&#x7b80;&#x4ecb;","children":[{"content":"<pre data-lines=\"14,19\"><code>ChatMemory&#x662f;&#x4e00;&#x4e2a;&#x7528;&#x4e8e;&#x7ba1;&#x7406;&#x804a;&#x5929;&#x4e0a;&#x4e0b;&#x6587;&#x7684;&#x7ec4;&#x4ef6;,&#x5b83;&#x53ef;&#x4ee5;&#x89e3;&#x51b3;&#x4ee5;&#x4e0b;&#x95ee;&#x9898;:\n\n*   &#x9632;&#x6b62;&#x4e0a;&#x4e0b;&#x6587;&#x8d85;&#x51fa;&#x5927;&#x6a21;&#x578b;&#x7684;token&#x9650;&#x5236;\n*   &#x9694;&#x79bb;&#x4e0d;&#x540c;&#x7528;&#x6237;&#x7684;&#x4e0a;&#x4e0b;&#x6587;&#x4fe1;&#x606f;\n*   &#x7b80;&#x5316;ChatMessage&#x7684;&#x7ba1;&#x7406;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"14,19"}},{"content":"<img src=\"https://minio.pigx.top/oss/202410/1728219300.png\" alt>","children":[],"payload":{"tag":"img","lines":"20,21"}}],"payload":{"tag":"h2","lines":"11,13"}},{"content":"2.&#x6838;&#x5fc3;&#x529f;&#x80fd;","children":[{"content":"<pre data-lines=\"26,29\"><code>*   &#x5bb9;&#x5668;&#x7ba1;&#x7406;: &#x7ba1;&#x7406;ChatMessage&#x7684;&#x751f;&#x547d;&#x5468;&#x671f;\n*   &#x6dd8;&#x6c70;&#x673a;&#x5236;: &#x9632;&#x6b62;&#x5b58;&#x50a8;&#x8fc7;&#x591a;&#x6d88;&#x606f;\n*   &#x6301;&#x4e45;&#x5316;: &#x907f;&#x514d;&#x804a;&#x5929;&#x4e0a;&#x4e0b;&#x6587;&#x4e22;&#x5931;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"26,29"}}],"payload":{"tag":"h2","lines":"23,25"}},{"content":"3.ChatMemory&#x5b9e;&#x73b0;&#x7c7b;","children":[{"content":"<pre data-lines=\"35,36\"><code>LangChain4j&#x63d0;&#x4f9b;&#x4e86;&#x4e24;&#x79cd;&#x4e3b;&#x8981;&#x7684;ChatMemory&#x5b9e;&#x73b0;&#x7c7b;,&#x6bcf;&#x79cd;&#x90fd;&#x6709;&#x5176;&#x7279;&#x5b9a;&#x7684;&#x7528;&#x9014;&#x548c;&#x4f18;&#x52bf;:\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"35,36"}},{"content":"3.1 MessageWindowChatMemory&#xff08;&#x7b80;&#x5355;&#x5b9e;&#x73b0;&#xff09;","children":[{"content":"<pre data-lines=\"39,48\"><code>&#x8fd9;&#x662f;&#x4e00;&#x4e2a;&#x57fa;&#x4e8e;&#x6d88;&#x606f;&#x6570;&#x91cf;&#x7684;&#x7b80;&#x5355;&#x5b9e;&#x73b0;&#x3002;&#x5b83;&#x91c7;&#x7528;&#x6ed1;&#x52a8;&#x7a97;&#x53e3;&#x7684;&#x65b9;&#x5f0f;,&#x4fdd;&#x7559;&#x6700;&#x65b0;&#x7684;N&#x6761;&#x6d88;&#x606f;,&#x5e76;&#x6dd8;&#x6c70;&#x65e7;&#x6d88;&#x606f;&#x3002;\n\n**&#x7279;&#x70b9;:**\n\n*   &#x6613;&#x4e8e;&#x7406;&#x89e3;&#x548c;&#x5b9e;&#x73b0;\n*   &#x57fa;&#x4e8e;&#x6d88;&#x606f;&#x6570;&#x91cf;&#x8fdb;&#x884c;&#x7ba1;&#x7406;\n*   &#x9002;&#x7528;&#x4e8e;&#x4e0d;&#x9700;&#x8981;&#x7cbe;&#x786e;token&#x63a7;&#x5236;&#x7684;&#x573a;&#x666f;\n\n**&#x4f7f;&#x7528;&#x793a;&#x4f8b;:**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"39,48"}},{"content":"<pre data-lines=\"51,54\"><code data-lines=\"51,54\">ChatMemory chatMemory <span class=\"hljs-operator\">=</span> MessageWindowChatMemory.withMaxMessages(<span class=\"hljs-number\">10</span>)<span class=\"hljs-comment\">; </span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"51,54"}}],"payload":{"tag":"h3","lines":"37,38"}},{"content":"3.2 TokenWindowChatMemory&#xff08;&#x590d;&#x6742;&#x5b9e;&#x73b0;&#xff09;","children":[{"content":"<pre data-lines=\"57,66\"><code>&#x8fd9;&#x662f;&#x4e00;&#x4e2a;&#x66f4;&#x590d;&#x6742;&#x7684;&#x5b9e;&#x73b0;,&#x5b83;&#x540c;&#x6837;&#x91c7;&#x7528;&#x6ed1;&#x52a8;&#x7a97;&#x53e3;&#x7684;&#x65b9;&#x5f0f;,&#x4f46;&#x4fa7;&#x91cd;&#x4e8e;&#x4fdd;&#x7559;&#x6700;&#x65b0;&#x7684;tokens,&#x800c;&#x4e0d;&#x662f;&#x6d88;&#x606f;&#x6570;&#x91cf;&#x3002;\n\n**&#x7279;&#x70b9;:**\n\n*   &#x66f4;&#x7cbe;&#x786e;&#x7684;token&#x63a7;&#x5236;\n*   &#x9700;&#x8981;&#x7ed3;&#x5408;Tokenizer&#x8ba1;&#x7b97;ChatMessage&#x7684;token&#x6570;&#x91cf;\n*   &#x9002;&#x7528;&#x4e8e;&#x9700;&#x8981;&#x4e25;&#x683c;&#x63a7;&#x5236;token&#x4f7f;&#x7528;&#x7684;&#x573a;&#x666f;\n\n**&#x4f7f;&#x7528;&#x793a;&#x4f8b;:**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"57,66"}},{"content":"<pre data-lines=\"69,73\"><code data-lines=\"69,73\"><span class=\"hljs-type\">Tokenizer</span> <span class=\"hljs-variable\">tokenizer</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">OpenAiTokenizer</span>(GPT_3_5_TURBO);\n<span class=\"hljs-type\">ChatMemory</span> <span class=\"hljs-variable\">chatMemory</span> <span class=\"hljs-operator\">=</span> TokenWindowChatMemory.withMaxTokens(<span class=\"hljs-number\">1000</span>, tokenizer); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"69,73"}},{"content":"<pre data-lines=\"74,75\"><code>**&#x6ce8;&#x610f;:** &#x4f7f;&#x7528;TokenWindowChatMemory&#x9700;&#x8981;&#x63d0;&#x4f9b;&#x4e00;&#x4e2a;Tokenizer&#x5b9e;&#x4f8b;,&#x7528;&#x4e8e;&#x8ba1;&#x7b97;&#x6d88;&#x606f;&#x7684;token&#x6570;&#x91cf;&#x3002;&#x4e0d;&#x540c;&#x7684;&#x8bed;&#x8a00;&#x6a21;&#x578b;&#x53ef;&#x80fd;&#x9700;&#x8981;&#x4e0d;&#x540c;&#x7684;Tokenizer&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"74,75"}}],"payload":{"tag":"h3","lines":"55,56"}}],"payload":{"tag":"h2","lines":"30,32"}},{"content":"4.&#x5b9e;&#x73b0;&#x65b9;&#x5f0f;","children":[{"content":"4.0 Ai Services &#x5b9a;&#x4e49;","children":[{"content":"<pre data-lines=\"83,104\"><code data-lines=\"83,104\"> <span class=\"hljs-selector-tag\">public</span> <span class=\"hljs-selector-tag\">interface</span> <span class=\"hljs-selector-tag\">ChatAssistant</span> {\n\n <span class=\"hljs-comment\">/**\n * &#x804a;&#x5929;\n *\n * @param message &#x6d88;&#x606f;\n * @return {@link String }\n */</span>\n <span class=\"hljs-selector-tag\">String</span> <span class=\"hljs-selector-tag\">chat</span>(String message);\n\n <span class=\"hljs-comment\">/**\n * &#x804a;&#x5929;\n *\n * @param userId  &#x7528;&#x6237; ID  (&#x6839;&#x636e;ID&#x9694;&#x79bb;&#x8bb0;&#x5fc6;)\n * @param message &#x6d88;&#x606f;\n * @return {@link String }\n */</span>\n <span class=\"hljs-selector-tag\">String</span> <span class=\"hljs-selector-tag\">chat</span>(<span class=\"hljs-variable\">@MemoryId</span> Long userId, <span class=\"hljs-variable\">@UserMessage</span> String message);\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"83,104"}}],"payload":{"tag":"h3","lines":"79,80"}},{"content":"4.1 &#x5171;&#x4eab;ChatMemory","children":[{"content":"<pre data-lines=\"107,108\"><code>&#x9002;&#x7528;&#x4e8e;&#x5355;&#x7528;&#x6237;&#x573a;&#x666f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"107,108"}},{"content":"<pre data-lines=\"111,121\"><code data-lines=\"111,121\">ChatMemory chatMemory <span class=\"hljs-operator\">=</span> MessageWindowChatMemory.withMaxMessages(<span class=\"hljs-number\">10</span>)<span class=\"hljs-comment\">;</span>\nChatAssistant assistant <span class=\"hljs-operator\">=</span> AiServices.builder(ChatAssistant.class)\n .chatLanguageModel(chatLanguageModel)\n .chatMemory(chatMemory)\n .build()<span class=\"hljs-comment\">;</span>\n\nString answer1 <span class=\"hljs-operator\">=</span> assistant.chat(<span class=\"hljs-string\">&quot;&#x4f60;&#x597d;&#xff01;&#x6211;&#x7684;&#x540d;&#x5b57;&#x662f;&#x51b7;&#x51b7;.&quot;</span>)<span class=\"hljs-comment\">;</span>\nString answer2 <span class=\"hljs-operator\">=</span> assistant.chat(<span class=\"hljs-string\">&quot;&#x6211;&#x7684;&#x540d;&#x5b57;&#x662f;&#x4ec0;&#x4e48;&#xff1f;&quot;</span>)<span class=\"hljs-comment\">; </span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"111,121"}}],"payload":{"tag":"h3","lines":"105,106"}},{"content":"4.2 &#x72ec;&#x4eab;ChatMemory","children":[{"content":"<pre data-lines=\"124,125\"><code>&#x9002;&#x7528;&#x4e8e;&#x591a;&#x7528;&#x6237;&#x573a;&#x666f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"124,125"}},{"content":"<pre data-lines=\"128,143\"><code data-lines=\"128,143\">ChatAssistant assistant = AiServices.builder(ChatAssistant.<span class=\"hljs-keyword\">class</span>)\n .chatLanguageModel(chatLanguageModel)\n // &#x6ce8;&#x610f;&#x6bcf;&#x4e2a;memoryId&#x5bf9;&#x5e94;&#x521b;&#x5efa;&#x4e00;&#x4e2a;ChatMemory\n .chatMemoryProvider(memoryId -&gt; MessageWindowChatMemory.withMaxMessages(<span class=\"hljs-number\">10</span>))\n .build();\n\nassistant.chat(<span class=\"hljs-number\">1</span>L, &quot;&#x4f60;&#x597d;&#xff01;&#x6211;&#x7684;&#x540d;&#x5b57;&#x662f;&#x51b7;&#x51b7;1.&quot;);\nassistant.chat(<span class=\"hljs-number\">2</span>L, &quot;&#x4f60;&#x597d;&#xff01;&#x6211;&#x7684;&#x540d;&#x5b57;&#x662f;&#x51b7;&#x51b7;2.&quot;);\n\nString chat = assistant.chat(<span class=\"hljs-number\">1</span>L, &quot;&#x6211;&#x7684;&#x540d;&#x5b57;&#x662f;&#x4ec0;&#x4e48;&quot;);\n<span class=\"hljs-keyword\">System</span>.<span class=\"hljs-keyword\">out</span>.println(chat);\nchat = assistant.chat(<span class=\"hljs-number\">2</span>L, &quot;&#x6211;&#x7684;&#x540d;&#x5b57;&#x662f;&#x4ec0;&#x4e48;&quot;);\n<span class=\"hljs-keyword\">System</span>.<span class=\"hljs-keyword\">out</span>.println(chat); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"128,143"}}],"payload":{"tag":"h3","lines":"122,123"}}],"payload":{"tag":"h2","lines":"76,78"}},{"content":"5.&#x81ea;&#x5b9a;&#x4e49;&#x6301;&#x4e45;&#x5316;","children":[{"content":"<pre data-lines=\"148,149\"><code>&#x5982;&#x9700;&#x81ea;&#x5b9a;&#x4e49;&#x6301;&#x4e45;&#x5316;&#x65b9;&#x5f0f;,&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;ChatMemoryStore&#x63a5;&#x53e3;:\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"148,149"}},{"content":"<pre data-lines=\"152,177\"><code data-lines=\"152,177\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">PersistentChatMemoryStore</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">ChatMemoryStore</span> {\n <span class=\"hljs-keyword\">private</span> final <span class=\"hljs-variable constant_\">DB</span> db = <span class=\"hljs-title class_\">DBMaker</span>.<span class=\"hljs-title function_\">fileDB</span>(<span class=\"hljs-string\">&quot;./chat-memory.db&quot;</span>).<span class=\"hljs-title function_\">transactionEnable</span>().<span class=\"hljs-title function_\">make</span>();\n <span class=\"hljs-keyword\">private</span> final <span class=\"hljs-title class_\">Map</span>&lt;<span class=\"hljs-title class_\">Integer</span>, <span class=\"hljs-title class_\">String</span>&gt; map = db.<span class=\"hljs-title function_\">hashMap</span>(<span class=\"hljs-string\">&quot;messages&quot;</span>, <span class=\"hljs-variable constant_\">INTEGER</span>, <span class=\"hljs-variable constant_\">STRING</span>).<span class=\"hljs-title function_\">createOrOpen</span>();\n\n <span class=\"hljs-meta\">@Override</span>\n <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title class_\">List</span>&lt;<span class=\"hljs-title class_\">ChatMessage</span>&gt; <span class=\"hljs-title function_\">getMessages</span>(<span class=\"hljs-params\"><span class=\"hljs-title class_\">Object</span> memoryId</span>) {\n <span class=\"hljs-title class_\">String</span> json = map.<span class=\"hljs-title function_\">get</span>((int) memoryId);\n <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">messagesFromJson</span>(json);\n }\n\n <span class=\"hljs-meta\">@Override</span>\n <span class=\"hljs-keyword\">public</span> <span class=\"hljs-built_in\">void</span> <span class=\"hljs-title function_\">updateMessages</span>(<span class=\"hljs-params\"><span class=\"hljs-title class_\">Object</span> memoryId, <span class=\"hljs-title class_\">List</span>&lt;<span class=\"hljs-title class_\">ChatMessage</span>&gt; messages</span>) {\n <span class=\"hljs-title class_\">String</span> json = <span class=\"hljs-title function_\">messagesToJson</span>(messages);\n map.<span class=\"hljs-title function_\">put</span>((int) memoryId, json);\n db.<span class=\"hljs-title function_\">commit</span>();\n }\n\n <span class=\"hljs-meta\">@Override</span>\n <span class=\"hljs-keyword\">public</span> <span class=\"hljs-built_in\">void</span> <span class=\"hljs-title function_\">deleteMessages</span>(<span class=\"hljs-params\"><span class=\"hljs-title class_\">Object</span> memoryId</span>) {\n map.<span class=\"hljs-title function_\">remove</span>((int) memoryId);\n db.<span class=\"hljs-title function_\">commit</span>();\n }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"152,177"}}],"payload":{"tag":"h2","lines":"145,147"}},{"content":"6.&#x6ce8;&#x610f;&#x4e8b;&#x9879;","children":[{"content":"SystemMessage&#x4f1a;&#x88ab;&#x7279;&#x6b8a;&#x5904;&#x7406;,&#x59cb;&#x7ec8;&#x4fdd;&#x7559;&#x4e14;&#x53ea;&#x5141;&#x8bb8;&#x4e00;&#x4e2a;","children":[],"payload":{"tag":"li","lines":"182,183"}},{"content":"&#x5de5;&#x5177;&#x6d88;&#x606f;(&#x5982;&#x51fd;&#x6570;&#x8c03;&#x7528;)&#x9700;&#x8981;&#x6210;&#x5bf9;&#x5904;&#x7406;","children":[],"payload":{"tag":"li","lines":"183,184"}},{"content":"&#x9ed8;&#x8ba4;&#x5b9e;&#x73b0;&#x662f;&#x57fa;&#x4e8e;&#x5185;&#x5b58;&#x7684;,&#x5982;&#x9700;&#x6301;&#x4e45;&#x5316;&#x9700;&#x81ea;&#x884c;&#x5b9e;&#x73b0;","children":[],"payload":{"tag":"li","lines":"184,187"}}],"payload":{"tag":"h2","lines":"179,181"}},{"content":"7.&#x6700;&#x4f73;&#x5b9e;&#x8df5;","children":[{"content":"<pre data-lines=\"190,200\"><code>1.  &#x6839;&#x636e;&#x5b9e;&#x9645;&#x9700;&#x6c42;&#x9009;&#x62e9;&#x5171;&#x4eab;&#x6216;&#x72ec;&#x4eab;ChatMemory\n2.  &#x5408;&#x7406;&#x9009;&#x62e9;ChatMemory&#x5b9e;&#x73b0;&#x7c7b;:\n    *   &#x5bf9;&#x4e8e;&#x7b80;&#x5355;&#x573a;&#x666f;,&#x4f7f;&#x7528;MessageWindowChatMemory\n    *   &#x5bf9;&#x4e8e;&#x9700;&#x8981;&#x7cbe;&#x786e;&#x63a7;&#x5236;token&#x7684;&#x573a;&#x666f;,&#x4f7f;&#x7528;TokenWindowChatMemory\n3.  &#x5408;&#x7406;&#x8bbe;&#x7f6e;&#x6d88;&#x606f;&#x7a97;&#x53e3;&#x5927;&#x5c0f;&#x6216;token&#x9650;&#x5236;,&#x5e73;&#x8861;&#x4e0a;&#x4e0b;&#x6587;&#x4fe1;&#x606f;&#x548c;&#x6027;&#x80fd;\n4.  &#x9488;&#x5bf9;&#x591a;&#x7528;&#x6237;&#x573a;&#x666f;,&#x4f7f;&#x7528;&#x72ec;&#x4eab;ChatMemory&#x5e76;&#x63d0;&#x4f9b;&#x552f;&#x4e00;&#x7684;memoryId\n5.  &#x5982;&#x6709;&#x6301;&#x4e45;&#x5316;&#x9700;&#x6c42;,&#x81ea;&#x5b9a;&#x4e49;&#x5b9e;&#x73b0;ChatMemoryStore&#x63a5;&#x53e3;\n6.  &#x6ce8;&#x610f;&#x5904;&#x7406;&#x7279;&#x6b8a;&#x6d88;&#x606f;&#x7c7b;&#x578b;,&#x5982;SystemMessage&#x548c;&#x5de5;&#x5177;&#x6d88;&#x606f;\n\n&#x901a;&#x8fc7;&#x5408;&#x7406;&#x4f7f;&#x7528;ChatMemory,&#x53ef;&#x4ee5;&#x6709;&#x6548;&#x7ba1;&#x7406;&#x804a;&#x5929;&#x4e0a;&#x4e0b;&#x6587;,&#x63d0;&#x5347;&#x5927;&#x6a21;&#x578b;&#x5e94;&#x7528;&#x7684;&#x7528;&#x6237;&#x4f53;&#x9a8c;&#x548c;&#x6027;&#x80fd;&#x3002;&#x9009;&#x62e9;&#x5408;&#x9002;&#x7684;ChatMemory&#x5b9e;&#x73b0;&#x7c7b;&#x548c;&#x914d;&#x7f6e;&#x53ef;&#x4ee5;&#x5e2e;&#x52a9;&#x60a8;&#x5728;&#x4fdd;&#x7559;&#x5fc5;&#x8981;&#x4e0a;&#x4e0b;&#x6587;&#x4fe1;&#x606f;&#x548c;&#x63a7;&#x5236;&#x8d44;&#x6e90;&#x4f7f;&#x7528;&#x4e4b;&#x95f4;&#x53d6;&#x5f97;&#x5e73;&#x8861;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"190,200"}}],"payload":{"tag":"h2","lines":"187,189"}}],"payload":{"tag":"h1","lines":"0,2"}},{})</script>
</body>
</html>
