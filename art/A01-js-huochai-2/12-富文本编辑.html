<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"<a href=\"https://www.cnblogs.com/xiaohuochai/p/5884206.html\">&#x6df1;&#x5165;&#x7406;&#x89e3;javascript&#x4e2d;&#x7684;&#x5bcc;&#x6587;&#x672c;&#x7f16;&#x8f91;</a><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAoklEQVQ4T+2T4Q2CMBCFv27CBjgCG+gIjAAbOAIjOIJs4Ai6gRvIBpjXXCOp19T/8pJLoTneXcj3Ah91wAV4bu68xwXoAZ2EzEAmE9AWTB6AelRDyaAx9zgh0wE4ATczcTdIE7wl0oe7wX/8RMHigfQTB3fDdM1IEvYyONdIVEOSqDwCY2Z2NaS/UNbqMSQmvauUPlfbNKpBSdTUVyXSs/XyBlRCNBG20I28AAAAAElFTkSuQmCC\" alt=\"img\">","children":[{"content":"&#x524d;&#x9762;&#x7684;&#x8bdd;","children":[{"content":"<pre data-lines=\"4,5\"><code>&#x3000;&#x3000;&#x4e00;&#x8bf4;&#x8d77;&#x5bcc;&#x6587;&#x672c;&#xff0c;&#x4eba;&#x4eec;&#x7b2c;&#x4e00;&#x5370;&#x8c61;&#x5c31;&#x662f;&#x50cf;&#x4f7f;&#x7528;word&#x4e00;&#x6837;&#xff0c;&#x5728;&#x7f51;&#x9875;&#x4e0a;&#x64cd;&#x4f5c;&#x6587;&#x6863;&#x3002;&#x5b9e;&#x9645;&#x4e0a;&#x5dee;&#x4e0d;&#x591a;&#x5c31;&#x662f;&#x8fd9;&#x6837;&#x3002;&#x5bcc;&#x6587;&#x672c;&#x7f16;&#x8f91;&#xff0c;&#x53c8;&#x79f0;&#x4e3a;WYSIWYG (What You See Is What You Get&#x6240;&#x89c1;&#x5373;&#x6240;&#x5f97;)&#xff0c;&#x6307;&#x5728;&#x7f51;&#x9875;&#x4e2d;&#x7f16;&#x8f91;&#x5bcc;&#x6587;&#x672c;&#x5185;&#x5bb9;&#x3002;&#x672c;&#x6587;&#x5c06;&#x8be6;&#x7ec6;&#x4ecb;&#x7ecd;&#x5982;&#x4f55;&#x901a;&#x8fc7;javascript&#x5b9e;&#x73b0;&#x5bcc;&#x6587;&#x672c;&#x7f16;&#x8f91;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,5"}}],"payload":{"tag":"h3","lines":"2,3"}},{"content":"&#x65b9;&#x5f0f;","children":[{"content":"<pre data-lines=\"10,21\"><code>&#x3000;&#x3000;&#x6709;&#x4e24;&#x79cd;&#x7f16;&#x8f91;&#x5bcc;&#x6587;&#x672c;&#x7684;&#x65b9;&#x5f0f;&#xff0c;&#x4e00;&#x79cd;&#x662f;&#x4f7f;&#x7528;iframe&#x5143;&#x7d20;&#xff0c;&#x53e6;&#x4e00;&#x79cd;&#x662f;&#x4f7f;&#x7528;contenteditable&#x5c5e;&#x6027;\n\n&#x3010;1&#x3011;iframe\n\n&#x3000;&#x3000;&#x5728;&#x9875;&#x9762;&#x4e2d;&#x5d4c;&#x5165;&#x4e00;&#x4e2a;&#x5305;&#x542b;&#x7a7a;HTML&#x9875;&#x9762;&#x7684;[iframe](http://www.cnblogs.com/xiaohuochai/p/5047343.html#anchor3)&#x3002;&#x901a;&#x8fc7;&#x8bbe;&#x7f6e;designMode&#x5c5e;&#x6027;&#xff0c;&#x8fd9;&#x4e2a;&#x7a7a;&#x767d;&#x7684;HTML&#x9875;&#x9762;&#x53ef;&#x4ee5;&#x88ab;&#x7f16;&#x8f91;&#xff0c;&#x800c;&#x7f16;&#x8f91;&#x5bf9;&#x8c61;&#x5219;&#x662f;&#x8be5;&#x9875;&#x9762;&lt;body&gt;&#x5143;&#x7d20;&#x7684;HTML&#x4ee3;&#x7801;\n\n&#x3000;&#x3000;designMode&#x5c5e;&#x6027;&#x6709;&#x4e24;&#x4e2a;&#x53ef;&#x80fd;&#x7684;&#x503c;&#xff1a;&quot;off&quot;(&#x9ed8;&#x8ba4;&#x503c;)&#x548c;&quot;on&quot;&#x3002;&#x5728;&#x8bbe;&#x7f6e;&#x4e3a;&quot;on&quot;&#x65f6;&#xff0c;&#x6574;&#x4e2a;&#x6587;&#x6863;&#x90fd;&#x4f1a;&#x53d8;&#x5f97;&#x53ef;&#x4ee5;&#x7f16;&#x8f91;\n\n&#x3000;&#x3000;&#x53ea;&#x6709;&#x5728;&#x9875;&#x9762;&#x5b8c;&#x5168;&#x52a0;&#x8f7d;&#x4e4b;&#x540e;&#x624d;&#x80fd;&#x8bbe;&#x7f6e;designMode&#x5c5e;&#x6027;&#x3002;&#x56e0;&#x6b64;&#xff0c;&#x5728;&#x5305;&#x542b;&#x9875;&#x9762;&#x4e2d;&#xff0c;&#x9700;&#x8981;&#x4f7f;&#x7528;onload&#x4e8b;&#x4ef6;&#x5904;&#x7406;&#x7a0b;&#x5e8f;\n\n&#x3000;&#x3000;[&#x6ce8;&#x610f;]&#x6b64;&#x65b9;&#x6cd5;&#x5fc5;&#x987b;&#x5728;&#x670d;&#x52a1;&#x5668;&#x7aef;&#x624d;&#x80fd;&#x6267;&#x884c;&#xff0c;&#x5426;&#x5219;&#x4f1a;&#x63d0;&#x793a;&#x8de8;&#x57df;&#x5b89;&#x5168;&#x63d0;&#x793a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"10,21"}},{"content":"<pre data-lines=\"24,32\"><code data-lines=\"24,32\"><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">iframe</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;wysiwyg&quot;</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">&quot;wysiwyg.html&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;height: 100px;width: 100px;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">iframe</span>&gt;</span></span>    \n<span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">onload</span>= <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>)</span></span><span class=\"language-xquery\">{\n    frames[<span class=\"hljs-string\">&apos;wysiwyg&apos;</span>]<span class=\"hljs-built_in\">.document</span>.designMode = <span class=\"hljs-string\">&apos;on&apos;</span>;\n}</span><span class=\"language-xml\">\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span></span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"24,32"}},{"content":"<pre data-lines=\"35,42\"><code>&#x3010;2&#x3011;contenteditable\n\n&#x3000;&#x3000;&#x628a;contenteditable&#x5c5e;&#x6027;&#x5e94;&#x7528;&#x7ed9;&#x9875;&#x9762;&#x4e2d;&#x7684;&#x4efb;&#x4f55;&#x5143;&#x7d20;&#xff0c;&#x7136;&#x540e;&#x7528;&#x6237;&#x7acb;&#x5373;&#x5c31;&#x53ef;&#x4ee5;&#x7f16;&#x8f91;&#x8be5;&#x5143;&#x7d20;\n\n&#x3000;&#x3000;&#x8bbe;&#x7f6e;document.designMode=&apos;on&apos;&#x65f6;&#xff0c;&#x9875;&#x9762;&#x7684;&#x4efb;&#x610f;&#x4f4d;&#x7f6e;&#x90fd;&#x53ef;&#x4ee5;&#x7f16;&#x8f91;&#xff1b;&#x4f7f;&#x7528;contenteditable=&apos;true&apos;&#x5219;&#x53ea;&#x5bf9;&#x5177;&#x4f53;&#x5143;&#x7d20;&#x548c;&#x5176;&#x5305;&#x542b;&#x7684;&#x5143;&#x7d20;&#x8d77;&#x4f5c;&#x7528;\n\n&#x3000;&#x3000;[&#x6ce8;&#x610f;]&#x4e00;&#x5b9a;&#x8981;&#x533a;&#x5206;contenteditable&#x548c;contentEditable&#x3002;contenteditable&#x662f;&#x5143;&#x7d20;&#x7684;&#x7279;&#x6027;&#xff0c;&#x800c;contentEditable&#x662f;&#x5bf9;&#x8c61;&#x7684;&#x5c5e;&#x6027;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"35,42"}},{"content":"<pre data-lines=\"45,54\"><code data-lines=\"45,54\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;wysiwyg&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;height: 100px;width: 100px;border:1px solid black&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;btn1&quot;</span>&gt;</span>&#x6253;&#x5f00;&#x5bcc;&#x6587;&#x672c;&#x7f16;&#x8f91;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;btn2&quot;</span>&gt;</span>&#x5173;&#x95ed;&#x5bcc;&#x6587;&#x672c;&#x7f16;&#x8f91;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\nbtn1.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){wysiwyg.<span class=\"hljs-property\">contentEditable</span> = <span class=\"hljs-literal\">true</span>;}\nbtn2.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){wysiwyg.<span class=\"hljs-property\">contentEditable</span> = <span class=\"hljs-literal\">false</span>;}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"45,54"}}],"payload":{"tag":"h3","lines":"8,9"}},{"content":"&#x547d;&#x4ee4;","children":[{"content":"<pre data-lines=\"61,74\"><code>&#x3000;&#x3000;&#x4e0e;&#x5bcc;&#x6587;&#x672c;&#x7f16;&#x8f91;&#x5668;&#x4ea4;&#x4e92;&#x7684;&#x4e3b;&#x8981;&#x65b9;&#x5f0f;&#xff0c;&#x5c31;&#x662f;&#x4f7f;&#x7528;document.execCommand()&#x3002;&#x8fd9;&#x4e2a;&#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x5bf9;&#x6587;&#x6863;&#x6267;&#x884c;&#x9884;&#x5b9a;&#x4e49;&#x7684;&#x547d;&#x4ee4;&#xff0c;&#x800c;&#x4e14;&#x53ef;&#x4ee5;&#x5e94;&#x7528;&#x5927;&#x591a;&#x6570;&#x683c;&#x5f0f;\n\n&#x3000;&#x3000;document.execCommand(String aCommandName, Boolean aShowDefaultUI, String aValueArgument)&#x65b9;&#x6cd5;&#x9700;&#x8981;&#x4f20;&#x9012;3&#x4e2a;&#x53c2;&#x6570;\n\n&#x3000;&#x3000;aCommandName&#x8868;&#x793a;&#x8981;&#x6267;&#x884c;&#x7684;&#x547d;&#x4ee4;&#x540d;&#x79f0;&#xff0c;&#x4e0d;&#x53ef;&#x7701;&#x7565;\n\n&#x3000;&#x3000;aShowDefaultUI&#x8868;&#x793a;&#x662f;&#x5426;&#x5c55;&#x793a;&#x7528;&#x6237;&#x754c;&#x9762;&#xff0c;&#x9ed8;&#x8ba4;&#x4e3a;false&#xff0c;&#x53ef;&#x7701;&#x7565;\n\n&#x3000;&#x3000;aValueArgument&#x8868;&#x793a;&#x989d;&#x5916;&#x53c2;&#x6570;&#x503c;&#xff0c;&#x9ed8;&#x8ba4;&#x4e3a;null&#xff0c;&#x53ef;&#x7701;&#x7565;\n\n&#x3000;&#x3000;[&#x6ce8;&#x610f;]&#x4e3a;&#x4e86;&#x786e;&#x4fdd;&#x6d4f;&#x89c8;&#x5668;&#x517c;&#x5bb9;&#x6027;&#xff0c;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#x5e94;&#x59cb;&#x7ec8;&#x8bbe;&#x7f6e;&#x4e3a;false&#xff0c;&#x56e0;&#x4e3a;firefox&#x5728;&#x8be5;&#x53c2;&#x6570;&#x4e3a;true&#x65f6;&#x629b;&#x51fa;&#x9519;&#x8bef;\n\n**&#x6bb5;&#x843d;&#x683c;&#x5f0f;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"61,74"}},{"content":"<pre data-lines=\"75,82\"><code data-lines=\"75,82\">&#x5c45;&#x4e2d;        &#x3000;&#x3000;<span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;justifyCenter&apos;</span>);\n&#x5de6;&#x5bf9;&#x9f50;     &#x3000;&#x3000; <span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;justifyLeft&apos;</span>);\n&#x53f3;&#x5bf9;&#x9f50;         <span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;justifyRight&apos;</span>);\n&#x6dfb;&#x52a0;&#x7f29;&#x8fdb;    &#x3000;&#x3000;<span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;indent&apos;</span>);\n&#x53bb;&#x6389;&#x7f29;&#x8fdb;    &#x3000;&#x3000;<span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;outdent&apos;</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"75,82"}},{"content":"<pre data-lines=\"85,101\"><code data-lines=\"85,101\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;wysiwyg&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;height: 100px;width: 300px;border:1px solid black&quot;</span> <span class=\"hljs-attr\">contenteditable</span>&gt;</span>&#x6d4b;&#x8bd5;&#x5185;&#x5bb9;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;justifyCenter&quot;</span>&gt;</span>&#x5c45;&#x4e2d;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;justifyLeft&quot;</span>&gt;</span>&#x5de6;&#x5bf9;&#x9f50;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;justifyRight&quot;</span>&gt;</span>&#x53f3;&#x5bf9;&#x9f50;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;indent&quot;</span>&gt;</span>&#x6dfb;&#x52a0;&#x7f29;&#x8fdb;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;outdent&quot;</span>&gt;</span>&#x53bb;&#x6389;&#x7f29;&#x8fdb;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n<span class=\"hljs-keyword\">var</span> btns = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementsByTagName</span>(<span class=\"hljs-string\">&apos;button&apos;</span>);\n<span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; btns.<span class=\"hljs-property\">length</span>; i++){\n    btns[i].<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n        <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">execCommand</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getAttribute</span>(<span class=\"hljs-string\">&apos;data-name&apos;</span>));\n    }\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"85,101"}},{"content":"<pre data-lines=\"106,107\"><code>**&#x6587;&#x672c;&#x683c;&#x5f0f;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"106,107"}},{"content":"<pre data-lines=\"110,119\"><code data-lines=\"110,119\">&#x5b57;&#x4f53;&#x7c7b;&#x578b;    &#x3000;&#x3000;<span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;fontname&apos;</span>,<span class=\"hljs-keyword\">false</span>,sFontName)\n&#x5b57;&#x4f53;&#x5927;&#x5c0f;    &#x3000;&#x3000;<span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;fontsize&apos;</span>,<span class=\"hljs-keyword\">false</span>,sFontSize)\n&#x5b57;&#x4f53;&#x989c;&#x8272;    &#x3000;&#x3000;<span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;forecolor&apos;</span>,<span class=\"hljs-keyword\">false</span>,sFontColor)\n&#x80cc;&#x666f;&#x8272;         <span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;backColor&apos;</span>,<span class=\"hljs-keyword\">false</span>,sBackColor)\n&#x52a0;&#x7c97;        &#x3000; <span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;bold&apos;</span>);\n&#x659c;&#x4f53;        &#x3000; <span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;italic&apos;</span>);\n&#x4e0b;&#x5212;&#x7ebf;         <span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;underline&apos;</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"110,119"}},{"content":"<pre data-lines=\"124,142\"><code data-lines=\"124,142\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;wysiwyg&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;height: 100px;width: 300px;border:1px solid black&quot;</span> <span class=\"hljs-attr\">contenteditable</span>&gt;</span>&#x6d4b;&#x8bd5;&#x5185;&#x5bb9;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;fontname&quot;</span> <span class=\"hljs-attr\">data-value</span>=<span class=\"hljs-string\">&quot;&#x5b8b;&#x4f53;&quot;</span>&gt;</span>&#x5b8b;&#x4f53;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;fontsize&quot;</span> <span class=\"hljs-attr\">data-value</span>=<span class=\"hljs-string\">&quot;5&quot;</span>&gt;</span>&#x5927;&#x5b57;&#x4f53;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;forecolor&quot;</span> <span class=\"hljs-attr\">data-value</span>=<span class=\"hljs-string\">&quot;red&quot;</span>&gt;</span>&#x7ea2;&#x8272;&#x5b57;&#x4f53;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;backColor&quot;</span> <span class=\"hljs-attr\">data-value</span>=<span class=\"hljs-string\">&quot;lightgreen&quot;</span>&gt;</span>&#x6d45;&#x7eff;&#x80cc;&#x666f;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;bold&quot;</span>&gt;</span>&#x52a0;&#x7c97;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;italic&quot;</span>&gt;</span>&#x659c;&#x4f53;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;underline&quot;</span>&gt;</span>&#x4e0b;&#x5212;&#x7ebf;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>        \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n<span class=\"hljs-keyword\">var</span> btns = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementsByTagName</span>(<span class=\"hljs-string\">&apos;button&apos;</span>);\n<span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; btns.<span class=\"hljs-property\">length</span>; i++){\n    btns[i].<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n        <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">execCommand</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getAttribute</span>(<span class=\"hljs-string\">&apos;data-name&apos;</span>),<span class=\"hljs-literal\">false</span>,<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getAttribute</span>(<span class=\"hljs-string\">&apos;data-value&apos;</span>));\n    }\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"124,142"}},{"content":"<pre data-lines=\"147,148\"><code>**&#x7f16;&#x8f91;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"147,148"}},{"content":"<pre data-lines=\"151,163\"><code data-lines=\"151,163\">&#x590d;&#x5236;        &#x3000;<span class=\"hljs-built_in\">&#x3000;document</span>.execCommand(<span class=\"hljs-string\">&apos;copy&apos;</span>);\n&#x526a;&#x5207;        &#x3000;<span class=\"hljs-built_in\">&#x3000;document</span>.execCommand(<span class=\"hljs-string\">&apos;cut&apos;</span>);\n&#x7c98;&#x8d34;        &#x3000;<span class=\"hljs-built_in\">&#x3000;document</span>.execCommand(<span class=\"hljs-string\">&apos;paste&apos;</span>);(&#x7ecf;&#x6d4b;&#x8bd5;&#x65e0;&#x6548;)\n&#x5168;&#x9009;        &#x3000;<span class=\"hljs-built_in\">&#x3000;document</span>.execCommand(<span class=\"hljs-string\">&apos;selectAll&apos;</span>);    \n&#x5220;&#x9664;        &#x3000;<span class=\"hljs-built_in\">&#x3000;document</span>.execCommand(<span class=\"hljs-string\">&apos;delete&apos;</span>);\n&#x540e;&#x5220;&#x9664;        <span class=\"hljs-built_in\"> document</span>.execCommand(<span class=\"hljs-string\">&apos;forwarddelete&apos;</span>);\n&#x6e05;&#x7a7a;&#x683c;&#x5f0f;    &#x3000;<span class=\"hljs-built_in\">&#x3000;document</span>.execCommand(<span class=\"hljs-string\">&apos;removeFormat&apos;</span>);\n&#x524d;&#x8fdb;&#x4e00;&#x6b65;    &#x3000;<span class=\"hljs-built_in\">&#x3000;document</span>.execCommand(<span class=\"hljs-string\">&apos;redo&apos;</span>);\n&#x540e;&#x9000;&#x4e00;&#x6b65;    &#x3000;<span class=\"hljs-built_in\">&#x3000;document</span>.execCommand(<span class=\"hljs-string\">&apos;undo&apos;</span>);\n&#x6253;&#x5370;       &#x3000;&#x3000;<span class=\"hljs-built_in\"> document</span>.execCommand(<span class=\"hljs-string\">&apos;print&apos;</span>);(&#x5bf9;firefox&#x65e0;&#x6548;)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"151,163"}},{"content":"<pre data-lines=\"168,189\"><code data-lines=\"168,189\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;wysiwyg&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;height: 100px;width: 300px;border:1px solid black&quot;</span> <span class=\"hljs-attr\">contenteditable</span>&gt;</span>&#x6d4b;&#x8bd5;&#x5185;&#x5bb9;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;copy&quot;</span>&gt;</span>&#x590d;&#x5236;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;cut&quot;</span>&gt;</span>&#x526a;&#x5207;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;paste&quot;</span>&gt;</span>&#x7c98;&#x8d34;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;selectAll&quot;</span>&gt;</span>&#x5168;&#x9009;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;delete&quot;</span>&gt;</span>&#x5220;&#x9664;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;forwarddelete&quot;</span>&gt;</span>&#x540e;&#x5220;&#x9664;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;removeFormat&quot;</span>&gt;</span>&#x6e05;&#x7a7a;&#x683c;&#x5f0f;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;redo&quot;</span>&gt;</span>&#x524d;&#x8fdb;&#x4e00;&#x6b65;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;undo&quot;</span>&gt;</span>&#x540e;&#x9000;&#x4e00;&#x6b65;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;print&quot;</span>&gt;</span>&#x6253;&#x5370;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n<span class=\"hljs-keyword\">var</span> btns = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementsByTagName</span>(<span class=\"hljs-string\">&apos;button&apos;</span>);\n<span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; btns.<span class=\"hljs-property\">length</span>; i++){\n    btns[i].<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n        <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">execCommand</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getAttribute</span>(<span class=\"hljs-string\">&apos;data-name&apos;</span>));\n    }\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"168,189"}},{"content":"<pre data-lines=\"194,195\"><code>**&#x63d2;&#x5165;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"194,195"}},{"content":"<pre data-lines=\"198,208\"><code data-lines=\"198,208\">&#x63d2;&#x5165;&#x6807;&#x7b7e;    &#x3000;&#x3000; <span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;formatblock&apos;</span>,<span class=\"hljs-keyword\">false</span>,elementName);\n&#x63d2;&#x5165;&lt;hr&gt;    &#x3000;&#x3000;<span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;inserthorizontalrule&apos;</span>);\n&#x63d2;&#x5165;&lt;ol&gt;    &#x3000;&#x3000;<span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;insertorderedlist&apos;</span>);\n&#x63d2;&#x5165;&lt;ul&gt;    &#x3000;&#x3000;<span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;insertunorderedlist&apos;</span>);\n&#x63d2;&#x5165;&lt;p&gt;        <span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;insertparagraph&apos;</span>);\n&#x63d2;&#x5165;&#x56fe;&#x50cf;   &#x3000;&#x3000; <span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;insertimage&apos;</span>,<span class=\"hljs-keyword\">false</span>,URL);\n&#x589e;&#x52a0;&#x94fe;&#x63a5;   &#x3000;&#x3000; <span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;createlink&apos;</span>,<span class=\"hljs-keyword\">false</span>,URL);\n&#x5220;&#x9664;&#x94fe;&#x63a5;   &#x3000;&#x3000; <span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;unlink&apos;</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"198,208"}},{"content":"<pre data-lines=\"213,232\"><code data-lines=\"213,232\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;wysiwyg&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;height: 100px;width: 300px;border:1px solid black;overflow:auto&quot;</span> <span class=\"hljs-attr\">contenteditable</span>&gt;</span>&#x6d4b;&#x8bd5;&#x5185;&#x5bb9;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;formatblock&quot;</span> <span class=\"hljs-attr\">data-value</span>=<span class=\"hljs-string\">&quot;div&quot;</span>&gt;</span>&#x63d2;&#x5165;div<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;inserthorizontalrule&quot;</span>&gt;</span>&#x63d2;&#x5165;hr<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;insertorderedlist&quot;</span>&gt;</span>&#x63d2;&#x5165;ol<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;insertunorderedlist&quot;</span>&gt;</span>&#x63d2;&#x5165;ul<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;insertparagraph&quot;</span>&gt;</span>&#x63d2;&#x5165;p<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;insertimage&quot;</span> <span class=\"hljs-attr\">data-value</span>=<span class=\"hljs-string\">&quot;http://files.cnblogs.com/files/xiaohuochai/zan.gif&quot;</span>&gt;</span>&#x63d2;&#x5165;&#x56fe;&#x50cf;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;createlink&quot;</span> <span class=\"hljs-attr\">data-value</span>=<span class=\"hljs-string\">&quot;www.cnblogs.com/xiaohuochai&quot;</span>&gt;</span>&#x589e;&#x52a0;&#x94fe;&#x63a5;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">data-name</span>=<span class=\"hljs-string\">&quot;unlink&quot;</span>&gt;</span>&#x5220;&#x9664;&#x94fe;&#x63a5;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n<span class=\"hljs-keyword\">var</span> btns = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementsByTagName</span>(<span class=\"hljs-string\">&apos;button&apos;</span>);\n<span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; btns.<span class=\"hljs-property\">length</span>; i++){\n    btns[i].<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n        <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">execCommand</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getAttribute</span>(<span class=\"hljs-string\">&apos;data-name&apos;</span>),<span class=\"hljs-literal\">false</span>,<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getAttribute</span>(<span class=\"hljs-string\">&apos;data-value&apos;</span>));\n    }\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"213,232"}}],"payload":{"tag":"h3","lines":"59,60"}},{"content":"&#x9009;&#x533a;","children":[{"content":"<pre data-lines=\"239,244\"><code>&#x3010;getSelection()&#x3011;\n\n&#x3000;&#x3000;&#x5728;&#x5bcc;&#x6587;&#x672c;&#x7f16;&#x8f91;&#x5668;&#x4e2d;&#xff0c;&#x4f7f;&#x7528;getSelection()&#x65b9;&#x6cd5;&#xff0c;&#x53ef;&#x4ee5;&#x786e;&#x5b9a;&#x5b9e;&#x9645;&#x9009;&#x62e9;&#x7684;&#x6587;&#x672c;&#x3002;&#x8fd9;&#x4e2a;&#x65b9;&#x6cd5;&#x662f;window&#x5bf9;&#x8c61;&#x548c;document&#x5bf9;&#x8c61;&#x7684;&#x5c5e;&#x6027;&#xff0c;&#x8c03;&#x7528;&#x5b83;&#x4f1a;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x8868;&#x793a;&#x5f53;&#x524d;&#x9009;&#x62e9;&#x6587;&#x672c;&#x7684;Selection&#x5bf9;&#x8c61;&#x3002;&#x6bcf;&#x4e2a;Selection&#x5bf9;&#x8c61;&#x90fd;&#x6709;&#x4e0b;&#x5217;&#x5c5e;&#x6027;\n\n&#x3000;&#x3000;[&#x6ce8;&#x610f;]IE8-&#x6d4f;&#x89c8;&#x5668;&#x4e0d;&#x652f;&#x6301;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"239,244"}},{"content":"<pre data-lines=\"247,255\"><code data-lines=\"247,255\"><span class=\"hljs-built_in\">anchor</span>Node&#xff1a;&#x9009;&#x533a;&#x8d77;&#x70b9;&#x6240;&#x5728;&#x7684;&#x8282;&#x70b9;\n<span class=\"hljs-built_in\">anchor</span>Offset&#xff1a;&#x5728;&#x5230;&#x8fbe;&#x9009;&#x533a;&#x8d77;&#x70b9;&#x4f4d;&#x7f6e;&#x4e4b;&#x524d;&#x8df3;&#x8fc7;&#x7684;<span class=\"hljs-built_in\">anchor</span>Node&#x4e2d;&#x7684;&#x5b57;&#x7b26;&#x6570;&#x91cf;\nfocusNode&#xff1a;&#x9009;&#x533a;&#x7ec8;&#x70b9;&#x6240;&#x5728;&#x7684;&#x8282;&#x70b9;\nfocusOffset&#xff1a;focusNode&#x4e2d;&#x5305;&#x542b;&#x5728;&#x9009;&#x533a;&#x4e4b;&#x5185;&#x7684;&#x5b57;&#x7b26;&#x6570;&#x91cf;\nisCollapsed&#xff1a;&#x5e03;&#x5c14;&#x503c;&#xff0c;&#x8868;&#x793a;&#x9009;&#x533a;&#x7684;&#x8d77;&#x70b9;&#x548c;&#x7ec8;&#x70b9;&#x662f;&#x5426;&#x91cd;&#x5408;\nrangeCount&#xff1a;&#x9009;&#x533a;&#x4e2d;&#x5305;&#x542b;&#x7684;DOM&#x8303;&#x56f4;&#x7684;&#x6570;&#x91cf;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"247,255"}},{"content":"<pre data-lines=\"258,259\"><code>&#x3000;&#x3000;Selection&#x5bf9;&#x8c61;&#x7684;&#x8fd9;&#x4e9b;&#x5c5e;&#x6027;&#x5e76;&#x6ca1;&#x6709;&#x5305;&#x542b;&#x591a;&#x5c11;&#x6709;&#x7528;&#x7684;&#x4fe1;&#x606f;&#x3002;&#x597d;&#x5728;&#xff0c;&#x8be5;&#x5bf9;&#x8c61;&#x7684;&#x4e0b;&#x5217;&#x65b9;&#x6cd5;&#x63d0;&#x4f9b;&#x4e86;&#x66f4;&#x591a;&#x4fe1;&#x606f;&#xff0c;&#x5e76;&#x4e14;&#x652f;&#x6301;&#x5bf9;&#x9009;&#x533a;&#x7684;&#x64cd;&#x4f5c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"258,259"}},{"content":"<pre data-lines=\"262,276\"><code data-lines=\"262,276\"><span class=\"hljs-function\"><span class=\"hljs-title\">addRange</span><span class=\"hljs-params\">(range)</span></span>&#xff1a;&#x5c06;&#x6307;&#x5b9a;&#x7684;DOM&#x8303;&#x56f4;&#x6dfb;&#x52a0;&#x5230;&#x9009;&#x533a;&#x4e2d;\n<span class=\"hljs-function\"><span class=\"hljs-title\">collapse</span><span class=\"hljs-params\">(node,offset)</span></span>&#xff1a;&#x5c06;&#x9009;&#x533a;&#x6298;&#x53e0;&#x5230;&#x6307;&#x5b9a;&#x8282;&#x70b9;&#x4e2d;&#x7684;&#x76f8;&#x5e94;&#x7684;&#x6587;&#x672c;&#x504f;&#x79fb;&#x4f4d;&#x7f6e;\n<span class=\"hljs-function\"><span class=\"hljs-title\">collapseToEnd</span><span class=\"hljs-params\">()</span></span>&#xff1a;&#x5c06;&#x9009;&#x533a;&#x6298;&#x53e0;&#x5230;&#x7ec8;&#x70b9;&#x4f4d;&#x7f6e;\n<span class=\"hljs-function\"><span class=\"hljs-title\">collapseToStart</span><span class=\"hljs-params\">()</span></span>&#xff1a;&#x5c06;&#x9009;&#x533a;&#x6298;&#x53e0;&#x5230;&#x8d77;&#x70b9;&#x4f4d;&#x7f6e;\n<span class=\"hljs-function\"><span class=\"hljs-title\">containsNode</span><span class=\"hljs-params\">(node)</span></span>&#xff1a;&#x786e;&#x5b9a;&#x6307;&#x5b9a;&#x7684;&#x8282;&#x70b9;&#x662f;&#x5426;&#x5305;&#x542b;&#x5728;&#x9009;&#x533a;&#x4e2d;\n<span class=\"hljs-function\"><span class=\"hljs-title\">deleteFromDocument</span><span class=\"hljs-params\">()</span></span>&#xff1a;&#x4ece;&#x6587;&#x6863;&#x4e2d;&#x5220;&#x9664;&#x9009;&#x533a;&#x4e2d;&#x7684;&#x6587;&#x672c;&#xff0c;&#x4e0e;document<span class=\"hljs-selector-class\">.execCommand</span>(<span class=\"hljs-string\">&quot;delete&quot;</span>,false,null)&#x547d;&#x4ee4;&#x7684;&#x7ed3;&#x679c;&#x76f8;&#x540c;\n<span class=\"hljs-function\"><span class=\"hljs-title\">extend</span><span class=\"hljs-params\">(node,offset)</span></span>&#xff1a;&#x901a;&#x8fc7;&#x5c06;focusNode&#x548c;focusOffset&#x79fb;&#x52a8;&#x5230;&#x6307;&#x5b9a;&#x7684;&#x503c;&#x6765;&#x6269;&#x5c55;&#x9009;&#x533a;\n<span class=\"hljs-function\"><span class=\"hljs-title\">getRangeAt</span><span class=\"hljs-params\">(index)</span></span>&#xff1a;&#x8fd4;&#x56de;&#x7d22;&#x5f15;&#x5bf9;&#x5e94;&#x7684;&#x9009;&#x533a;&#x4e2d;&#x7684;DOM&#x8303;&#x56f4;\n<span class=\"hljs-function\"><span class=\"hljs-title\">removeAllRanges</span><span class=\"hljs-params\">()</span></span>&#xff1a;&#x4ece;&#x9009;&#x533a;&#x4e2d;&#x79fb;&#x9664;&#x6240;&#x6709;DOM&#x8303;&#x56f4;&#x3002;&#x5b9e;&#x9645;&#x4e0a;&#xff0c;&#x8fd9;&#x6837;&#x4f1a;&#x79fb;&#x9664;&#x9009;&#x533a;&#xff0c;&#x56e0;&#x4e3a;&#x9009;&#x533a;&#x4e2d;&#x81f3;&#x5c11;&#x8981;&#x6709;&#x4e00;&#x4e2a;&#x8303;&#x56f4;\n<span class=\"hljs-function\"><span class=\"hljs-title\">reomveRange</span><span class=\"hljs-params\">(range)</span></span>&#xff1a;&#x4ece;&#x9009;&#x533a;&#x4e2d;&#x79fb;&#x9664;&#x6307;&#x5b9a;&#x7684;DOM&#x8303;&#x56f4;\n<span class=\"hljs-function\"><span class=\"hljs-title\">selectAllChildren</span><span class=\"hljs-params\">(node)</span></span>&#xff1a;&#x6e05;&#x9664;&#x9009;&#x533a;&#x5e76;&#x9009;&#x62e9;&#x6307;&#x5b9a;&#x8282;&#x70b9;&#x7684;&#x6240;&#x6709;&#x5b50;&#x8282;&#x70b9;\n<span class=\"hljs-function\"><span class=\"hljs-title\">toString</span><span class=\"hljs-params\">()</span></span>&#xff1a;&#x8fd4;&#x56de;&#x9009;&#x533a;&#x6240;&#x5305;&#x542b;&#x7684;&#x6587;&#x672c;&#x5185;&#x5bb9;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"262,276"}},{"content":"<pre data-lines=\"279,280\"><code>&#x3000;&#x3000;Selection&#x5bf9;&#x8c61;&#x7684;&#x8fd9;&#x4e9b;&#x65b9;&#x6cd5;&#x90fd;&#x6781;&#x4e3a;&#x5b9e;&#x7528;&#xff0c;&#x5b83;&#x4eec;&#x5229;&#x7528;&#x4e86;[DOM&#x8303;&#x56f4;](http://www.cnblogs.com/xiaohuochai/p/6387710.html)&#x6765;&#x7ba1;&#x7406;&#x9009;&#x533a;&#x3002;&#x7531;&#x4e8e;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x64cd;&#x4f5c;&#x9009;&#x62e9;&#x6587;&#x672c;&#x7684;DOM&#x8868;&#x73b0;&#xff0c;&#x56e0;&#x6b64;&#x8bbf;&#x95ee;DOM&#x8303;&#x56f4;&#x4e0e;&#x4f7f;&#x7528;execCommand()&#x76f8;&#x6bd4;&#xff0c;&#x80fd;&#x591f;&#x5bf9;&#x5bcc;&#x6587;&#x672c;&#x7f16;&#x8f91;&#x5668;&#x8fdb;&#x884c;&#x66f4;&#x52a0;&#x7ec6;&#x5316;&#x7684;&#x63a7;&#x5236;&#x3002;&#x4e0b;&#x9762;&#x6765;&#x770b;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"279,280"}},{"content":"<pre data-lines=\"283,294\"><code data-lines=\"283,294\">var selection <span class=\"hljs-operator\">=</span> document.getSelection()<span class=\"hljs-comment\">;</span>\n//&#x53d6;&#x5f97;&#x9009;&#x62e9;&#x7684;&#x6587;&#x672c;\nvar selectionText <span class=\"hljs-operator\">=</span> selection.toString()<span class=\"hljs-comment\">;</span>\n//&#x53d6;&#x5f97;&#x4ee3;&#x8868;&#x9009;&#x533a;&#x7684;&#x8303;&#x56f4;\nvar range <span class=\"hljs-operator\">=</span> selection.getRangeAt(<span class=\"hljs-number\">0</span>)<span class=\"hljs-comment\">;</span>\n//&#x7a81;&#x51fa;&#x663e;&#x793a;&#x9009;&#x62e9;&#x7684;&#x6587;&#x672c;\nvar span <span class=\"hljs-operator\">=</span> document.createElement(<span class=\"hljs-string\">&quot;span&quot;</span>)<span class=\"hljs-comment\">;</span>\nspan.style.backgroundColor <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&quot;yellow&quot;</span><span class=\"hljs-comment\">;</span>\nrange.surroundContents(span)<span class=\"hljs-comment\">;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"283,294"}},{"content":"<pre data-lines=\"297,300\"><code>&#x3000;&#x3000;&#x4ee5;&#x4e0a;&#x4ee3;&#x7801;&#x4f1a;&#x4e3a;&#x5bcc;&#x6587;&#x672c;&#x7f16;&#x8f91;&#x5668;&#x4e2d;&#x88ab;&#x9009;&#x62e9;&#x7684;&#x6587;&#x672c;&#x6dfb;&#x52a0;&#x9ec4;&#x8272;&#x7684;&#x80cc;&#x666f;&#x3002;&#x8fd9;&#x91cc;&#x4f7f;&#x7528;&#x4e86;&#x9ed8;&#x8ba4;&#x9009;&#x533a;&#x4e2d;&#x7684;DOM&#x8303;&#x56f4;&#xff0c;&#x901a;&#x8fc7;surroundContents()&#x65b9;&#x6cd5;&#x5c06;&#x9009;&#x533a;&#x6dfb;&#x52a0;&#x5230;&#x4e86;&#x5e26;&#x6709;&#x9ec4;&#x8272;&#x80cc;&#x666f;&#x7684;&lt;span&gt;&#x5143;&#x7d20;&#x4e2d;\n\n&#x3000;&#x3000;HTML5&#x5c06;getSelection()&#x65b9;&#x6cd5;&#x7eb3;&#x5165;&#x4e86;&#x6807;&#x51c6;&#xff0c;IE8-&#x6d4f;&#x89c8;&#x5668;&#x4e0d;&#x652f;&#x6301;DOM&#x8303;&#x56f4;&#xff0c;&#x4f46;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x5b83;&#x652f;&#x6301;&#x7684;selection&#x5bf9;&#x8c61;&#x64cd;&#x4f5c;&#x9009;&#x62e9;&#x7684;&#x6587;&#x672c;&#x3002;IE&#x4e2d;&#x7684;selection&#x5bf9;&#x8c61;&#x662f;document&#x7684;&#x5c5e;&#x6027;&#xff0c;&#x8981;&#x53d6;&#x5f97;&#x5bcc;&#x6587;&#x672c;&#x7f16;&#x8f91;&#x5668;&#x4e2d;&#x9009;&#x62e9;&#x7684;&#x6587;&#x672c;&#xff0c;&#x9996;&#x5148;&#x5fc5;&#x987b;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x6587;&#x672c;&#x8303;&#x56f4;&#xff0c;&#x7136;&#x540e;&#x518d;&#x50cf;&#x4e0b;&#x9762;&#x8fd9;&#x6837;&#x8bbf;&#x95ee;&#x5176;text&#x5c5e;&#x6027;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"297,300"}},{"content":"<pre data-lines=\"301,305\"><code data-lines=\"301,305\">var range <span class=\"hljs-operator\">=</span> document.selection.createRange()<span class=\"hljs-comment\">;</span>\nvar selectedText <span class=\"hljs-operator\">=</span> range.text<span class=\"hljs-comment\">;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"301,305"}},{"content":"<pre data-lines=\"306,307\"><code>&#x3000;&#x3000;&#x867d;&#x7136;&#x4f7f;&#x7528;IE&#x7684;&#x6587;&#x672c;&#x8303;&#x56f4;&#x6765;&#x6267;&#x884c;HTML&#x64cd;&#x4f5c;&#x5e76;&#x4e0d;&#x50cf;&#x4f7f;&#x7528;DOM&#x8303;&#x56f4;&#x90a3;&#x4e48;&#x53ef;&#x9760;&#xff0c;&#x4f46;&#x4e5f;&#x4e0d;&#x5931;&#x4e3a;&#x4e00;&#x79cd;&#x6709;&#x6548;&#x7684;&#x9014;&#x5f84;&#x3002;&#x8981;&#x50cf;&#x524d;&#x9762;&#x4f7f;&#x7528;DOM&#x8303;&#x56f4;&#x90a3;&#x6837;&#x5b9e;&#x73b0;&#x76f8;&#x540c;&#x7684;&#x6587;&#x672c;&#x9ad8;&#x4eae;&#x6548;&#x679c;&#xff0c;&#x53ef;&#x4ee5;&#x7ec4;&#x5408;&#x4f7f;&#x7528;htmlText&#x5c5e;&#x6027;&#x548c;pasteHTML()&#x65b9;&#x6cd5;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"306,307"}},{"content":"<pre data-lines=\"308,312\"><code data-lines=\"308,312\"><span class=\"hljs-keyword\">var</span> <span class=\"hljs-keyword\">range</span> = document.selection.createRange();\n<span class=\"hljs-keyword\">range</span>.pasteHTML(<span class=\"hljs-string\">&quot;&lt;span style=\\&quot;</span>background-color:yellow\\<span class=\"hljs-string\">&quot;&gt;&quot;</span> + <span class=\"hljs-keyword\">range</span>.htmlText+<span class=\"hljs-string\">&quot;&lt;/span&gt;&quot;</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"308,312"}},{"content":"<pre data-lines=\"313,314\"><code>&#x3000;&#x3000;&#x4ee5;&#x4e0a;&#x4ee3;&#x7801;&#x901a;&#x8fc7;htmlText&#x53d6;&#x5f97;&#x4e86;&#x5f53;&#x524d;&#x9009;&#x533a;&#x4e2d;&#x7684;HTML&#xff0c;&#x7136;&#x540e;&#x5c06;&#x5176;&#x653e;&#x5728;&#x4e86;&#x4e00;&#x5bf9;&lt;span&gt;&#x6807;&#x7b7e;&#x4e2d;&#xff0c;&#x6700;&#x540e;&#x53c8;&#x4f7f;&#x7528;pasteHTML()&#x5c06;&#x7ed3;&#x679c;&#x91cd;&#x65b0;&#x63d2;&#x5165;&#x5230;&#x4e86;&#x9009;&#x533a;&#x4e2d;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"313,314"}}],"payload":{"tag":"h3","lines":"237,238"}},{"content":"&#x8868;&#x5355;&#x63d0;&#x4ea4;","children":[{"content":"<pre data-lines=\"319,320\"><code>&#x3000;&#x3000;&#x56e0;&#x4e3a;&#x5bcc;&#x6587;&#x672c;&#x7f16;&#x8f91;&#x4e0d;&#x662f;&#x4f7f;&#x7528;&#x8868;&#x5355;&#x63a7;&#x4ef6;&#x5b9e;&#x73b0;&#x7684;&#xff0c;&#x56e0;&#x6b64;&#x5bcc;&#x6587;&#x672c;&#x7f16;&#x8f91;&#x5668;&#x4e2d;&#x7684;HTML&#x4e0d;&#x4f1a;&#x88ab;&#x81ea;&#x52a8;&#x63d0;&#x4ea4;&#x7ed9;&#x670d;&#x52a1;&#x5668;&#xff0c;&#x800c;&#x9700;&#x8981;&#x624b;&#x5de5;&#x6765;&#x63d0;&#x53d6;&#x5e76;&#x63d0;&#x4ea4;HTML&#x3002;&#x4e3a;&#x6b64;&#xff0c;&#x901a;&#x5e38;&#x53ef;&#x4ee5;&#x6dfb;&#x52a0;&#x4e00;&#x4e2a;&#x9690;&#x85cf;&#x7684;&#x8868;&#x5355;&#x5b57;&#x6bb5;&#xff0c;&#x8ba9;&#x5b83;&#x7684;&#x503c;&#x7b49;&#x4e8e;&#x4ece;iframe&#x6216;&#x4f7f;&#x7528;contenteditable&#x5c5e;&#x6027;&#x7684;&#x5143;&#x7d20;&#x4e2d;&#x63d0;&#x53d6;&#x51fa;&#x7684;HTML&#x3002;&#x5177;&#x4f53;&#x6765;&#x8bf4;&#xff0c;&#x5c31;&#x662f;&#x5728;&#x63d0;&#x4ea4;&#x8868;&#x5355;&#x4e4b;&#x524d;&#x63d0;&#x53d6;&#x51fa;HTML&#xff0c;&#x5e76;&#x5c06;&#x5176;&#x63d2;&#x5165;&#x5230;&#x9690;&#x85cf;&#x7684;&#x5b57;&#x6bb5;&#x4e2d;&#x3002;&#x4e0b;&#x9762;&#x5c31;&#x662f;&#x901a;&#x8fc7;&#x8868;&#x5355;&#x7684;onsubmit&#x4e8b;&#x4ef6;&#x5904;&#x7406;&#x7a0b;&#x5e8f;&#x5b9e;&#x73b0;&#x4e0a;&#x8ff0;&#x64cd;&#x4f5c;&#x7684;&#x4ee3;&#x7801;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"319,320"}},{"content":"<pre data-lines=\"321,328\"><code data-lines=\"321,328\">form.onsubmit = <span class=\"hljs-keyword\">function</span>(e){\n    e = e || event;\n    var <span class=\"hljs-keyword\">target</span> = e.<span class=\"hljs-keyword\">target</span> || e.srcElement;\n    <span class=\"hljs-keyword\">target</span>.elements[<span class=\"hljs-string\">&quot;comments&quot;</span>].value = frames[<span class=\"hljs-string\">&quot;richedit&quot;</span>].document.body.innerHTML;\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"321,328"}},{"content":"<pre data-lines=\"329,330\"><code>&#x3000;&#x3000;&#x5728;&#x6b64;&#xff0c;&#x901a;&#x8fc7;&#x6587;&#x6863;&#x4e3b;&#x4f53;&#x7684;innerHTML&#x5c5e;&#x6027;&#x53d6;&#x5f97;&#x4e86;iframe&#x4e2d;&#x7684;HTML&#xff0c;&#x7136;&#x540e;&#x5c06;&#x5176;&#x63d2;&#x5165;&#x5230;&#x4e86;&#x540d;&#x4e3a;&quot;comments&quot;&#x7684;&#x8868;&#x5355;&#x5b57;&#x6bb5;&#x4e2d;&#x3002;&#x8fd9;&#x6837;&#x53ef;&#x4ee5;&#x786e;&#x4fdd;&#x6070;&#x597d;&#x5728;&#x63d0;&#x4ea4;&#x8868;&#x5355;&#x4e4b;&#x524d;&#x586b;&#x5145;&quot;comments&quot;&#x5b57;&#x6bb5;&#x3002;&#x5982;&#x679c;&#x5728;&#x4ee3;&#x7801;&#x4e2d;&#x901a;&#x8fc7;submit()&#x6765;&#x624b;&#x5de5;&#x63d0;&#x4ea4;&#x8868;&#x5355;&#xff0c;&#x90a3;&#x4e48;&#x4e00;&#x5b9a;&#x4e0d;&#x8981;&#x5fd8;&#x8bb0;&#x4e8b;&#x5148;&#x6267;&#x884c;&#x4e0a;&#x9762;&#x7684;&#x64cd;&#x4f5c;&#x3002;&#x5bf9;&#x4e8e;contenteditable&#x5143;&#x7d20;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x6267;&#x884c;&#x7c7b;&#x4f3c;&#x64cd;&#x4f5c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"329,330"}},{"content":"<pre data-lines=\"331,338\"><code data-lines=\"331,338\"><span class=\"hljs-keyword\">form</span>.onsubmit = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">(e)</span></span>{\n    e = e || event;\n    var <span class=\"hljs-keyword\">target</span> = e.<span class=\"hljs-keyword\">target</span> || e.srcElement;\n    <span class=\"hljs-keyword\">target</span>.elements[<span class=\"hljs-string\">&quot;comments&quot;</span>].<span class=\"hljs-keyword\">value</span> = document.getElementById(<span class=\"hljs-string\">&apos;wysiwyg&apos;</span>).innerHTML;\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"331,338"}}],"payload":{"tag":"h3","lines":"317,318"}},{"content":"&#x6700;&#x540e;","children":[{"content":"<pre data-lines=\"343,352\"><code>&#x3000;&#x3000;&#x5b9e;&#x73b0;&#x4e00;&#x4e2a;&#x5bcc;&#x6587;&#x672c;&#x7f16;&#x8f91;&#x5668;&#xff0c;&#x770b;&#x4f3c;&#x5bb9;&#x6613;&#xff0c;&#x4f46;&#x5b9e;&#x9645;&#x4e0a;&#x662f;&#x4e00;&#x4e2a;&#x5927;&#x5de5;&#x7a0b;\n\n&#x3000;&#x7ed9;&#x5927;&#x5bb6;&#x63a8;&#x8350;&#x51e0;&#x6b3e;&#x4e0d;&#x9519;&#x7684;&#x5728;&#x7ebf;&#x5bcc;&#x6587;&#x672c;&#x7f16;&#x8f91;&#x5668;\n\n&#x3000;&#x3000;[widgEditor](http://www.themaninblue.com/experiment/widgEditor/)\n\n&#x3000;&#x3000;[wangeditor](http://www.wangeditor.com/)\n\n&#x3000;&#x3000;[ueditor](http://ueditor.baidu.com/website/onlinedemo.html)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"343,352"}}],"payload":{"tag":"h3","lines":"341,342"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
