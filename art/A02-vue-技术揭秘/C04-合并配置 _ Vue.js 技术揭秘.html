<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"<a href=\"#%E5%90%88%E5%B9%B6%E9%85%8D%E7%BD%AE\">#</a> &#x5408;&#x5e76;&#x914d;&#x7f6e;","children":[{"content":"<a href=\"#%E5%A4%96%E9%83%A8%E8%B0%83%E7%94%A8%E5%9C%BA%E6%99%AF\">#</a> &#x5916;&#x90e8;&#x8c03;&#x7528;&#x573a;&#x666f;","children":[{"content":"<pre data-lines=\"63,64\"><code>&#x5f53;&#x6267;&#x884c; `new Vue` &#x7684;&#x65f6;&#x5019;&#xff0c;&#x5728;&#x6267;&#x884c; `this._init(options)` &#x7684;&#x65f6;&#x5019;&#xff0c;&#x5c31;&#x4f1a;&#x6267;&#x884c;&#x5982;&#x4e0b;&#x903b;&#x8f91;&#x53bb;&#x5408;&#x5e76; `options`&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"63,64"}},{"content":"<pre data-lines=\"65,72\"><code data-lines=\"65,72\"><span class=\"hljs-keyword\">vm</span>.&#x24;<span class=\"hljs-keyword\">options</span> = mergeOptions(\n  resolveConstructorOptions(<span class=\"hljs-keyword\">vm</span>.constructor),\n  <span class=\"hljs-keyword\">options</span> || {},\n  <span class=\"hljs-keyword\">vm</span>\n) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"65,72"}},{"content":"<pre data-lines=\"73,74\"><code>&#x8fd9;&#x91cc;&#x901a;&#x8fc7;&#x8c03;&#x7528; `mergeOptions` &#x65b9;&#x6cd5;&#x6765;&#x5408;&#x5e76;&#xff0c;&#x5b83;&#x5b9e;&#x9645;&#x4e0a;&#x5c31;&#x662f;&#x628a; `resolveConstructorOptions(vm.constructor)` &#x7684;&#x8fd4;&#x56de;&#x503c;&#x548c; `options` &#x505a;&#x5408;&#x5e76;&#xff0c;`resolveConstructorOptions` &#x7684;&#x5b9e;&#x73b0;&#x5148;&#x4e0d;&#x8003;&#x8651;&#xff0c;&#x5728;&#x6211;&#x4eec;&#x8fd9;&#x4e2a;&#x573a;&#x666f;&#x4e0b;&#xff0c;&#x5b83;&#x8fd8;&#x662f;&#x7b80;&#x5355;&#x8fd4;&#x56de; `vm.constructor.options`&#xff0c;&#x76f8;&#x5f53;&#x4e8e; `Vue.options`&#xff0c;&#x90a3;&#x4e48;&#x8fd9;&#x4e2a;&#x503c;&#x53c8;&#x662f;&#x4ec0;&#x4e48;&#x5462;&#xff0c;&#x5176;&#x5b9e;&#x5728; `initGlobalAPI(Vue)` &#x7684;&#x65f6;&#x5019;&#x5b9a;&#x4e49;&#x4e86;&#x8fd9;&#x4e2a;&#x503c;&#xff0c;&#x4ee3;&#x7801;&#x5728; `src/core/global-api/index.js` &#x4e2d;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"73,74"}},{"content":"<pre data-lines=\"75,91\"><code data-lines=\"75,91\">export function initGlobalAPI (Vue: GlobalAPI) {\n  <span class=\"hljs-comment\">// ...</span>\n  Vue<span class=\"hljs-selector-class\">.options</span> = Object<span class=\"hljs-selector-class\">.create</span>(null)\n  ASSET_TYPES<span class=\"hljs-selector-class\">.forEach</span>(type =&gt; {\n    Vue<span class=\"hljs-selector-class\">.options</span><span class=\"hljs-selector-attr\">[type + <span class=\"hljs-string\">&apos;s&apos;</span>]</span> = Object<span class=\"hljs-selector-class\">.create</span>(null)\n  })\n\n  <span class=\"hljs-comment\">// this is used to identify the &quot;base&quot; constructor to extend all plain-object</span>\n  <span class=\"hljs-comment\">// components with in Weex&apos;s multi-instance scenarios.</span>\n  Vue<span class=\"hljs-selector-class\">.options</span>._base = Vue\n\n  <span class=\"hljs-built_in\">extend</span>(Vue<span class=\"hljs-selector-class\">.options</span><span class=\"hljs-selector-class\">.components</span>, builtInComponents)\n  <span class=\"hljs-comment\">// ...</span>\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"75,91"}},{"content":"<pre data-lines=\"92,93\"><code>&#x9996;&#x5148;&#x901a;&#x8fc7; `Vue.options = Object.create(null)` &#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x7a7a;&#x5bf9;&#x8c61;&#xff0c;&#x7136;&#x540e;&#x904d;&#x5386; `ASSET_TYPES`&#xff0c;`ASSET_TYPES` &#x7684;&#x5b9a;&#x4e49;&#x5728; `src/shared/constants.js` &#x4e2d;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"92,93"}},{"content":"<pre data-lines=\"94,101\"><code data-lines=\"94,101\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> ASSET_TYPES = [\n  <span class=\"hljs-string\">&apos;component&apos;</span>,\n  <span class=\"hljs-string\">&apos;directive&apos;</span>,\n  <span class=\"hljs-string\">&apos;filter&apos;</span>\n] \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"94,101"}},{"content":"<pre data-lines=\"102,103\"><code>&#x6240;&#x4ee5;&#x4e0a;&#x9762;&#x904d;&#x5386; `ASSET_TYPES` &#x540e;&#x7684;&#x4ee3;&#x7801;&#x76f8;&#x5f53;&#x4e8e;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"102,103"}},{"content":"<pre data-lines=\"104,109\"><code data-lines=\"104,109\"><span class=\"hljs-attr\">Vue.options.components</span> = {}\n<span class=\"hljs-attr\">Vue.options.directives</span> = {}\n<span class=\"hljs-attr\">Vue.options.filters</span> = {} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"104,109"}},{"content":"<pre data-lines=\"110,115\"><code>&#x63a5;&#x7740;&#x6267;&#x884c;&#x4e86; `Vue.options._base = Vue`&#xff0c;&#x5b83;&#x7684;&#x4f5c;&#x7528;&#x5728;&#x6211;&#x4eec;&#x4e0a;&#x8282;&#x5b9e;&#x4f8b;&#x5316;&#x5b50;&#x7ec4;&#x4ef6;&#x7684;&#x65f6;&#x5019;&#x4ecb;&#x7ecd;&#x4e86;&#x3002;\n\n&#x6700;&#x540e;&#x901a;&#x8fc7; `extend(Vue.options.components, builtInComponents)` &#x628a;&#x4e00;&#x4e9b;&#x5185;&#x7f6e;&#x7ec4;&#x4ef6;&#x6269;&#x5c55;&#x5230; `Vue.options.components` &#x4e0a;&#xff0c;Vue &#x7684;&#x5185;&#x7f6e;&#x7ec4;&#x4ef6;&#x76ee;&#x524d;&#x6709; `&lt;keep-alive&gt;`&#x3001;`&lt;transition&gt;` &#x548c; `&lt;transition-group&gt;` &#x7ec4;&#x4ef6;&#xff0c;&#x8fd9;&#x4e5f;&#x5c31;&#x662f;&#x4e3a;&#x4ec0;&#x4e48;&#x6211;&#x4eec;&#x5728;&#x5176;&#x5b83;&#x7ec4;&#x4ef6;&#x4e2d;&#x4f7f;&#x7528; `&lt;keep-alive&gt;` &#x7ec4;&#x4ef6;&#x4e0d;&#x9700;&#x8981;&#x6ce8;&#x518c;&#x7684;&#x539f;&#x56e0;&#xff0c;&#x8fd9;&#x5757;&#x513f;&#x540e;&#x7eed;&#x6211;&#x4eec;&#x4ecb;&#x7ecd; `&lt;keep-alive&gt;` &#x7ec4;&#x4ef6;&#x7684;&#x65f6;&#x5019;&#x4f1a;&#x8be6;&#x7ec6;&#x8bb2;&#x3002;\n\n&#x90a3;&#x4e48;&#x56de;&#x5230; `mergeOptions` &#x8fd9;&#x4e2a;&#x51fd;&#x6570;&#xff0c;&#x5b83;&#x7684;&#x5b9a;&#x4e49;&#x5728; `src/core/util/options.js` &#x4e2d;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"110,115"}},{"content":"<pre data-lines=\"116,163\"><code data-lines=\"116,163\"><span class=\"hljs-comment\">/**\n * Merge two option objects into a new one.\n * Core utility used in both instantiation and inheritance.\n */</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mergeOptions</span> (<span class=\"hljs-params\">\n  parent: <span class=\"hljs-built_in\">Object</span>,\n  child: <span class=\"hljs-built_in\">Object</span>,\n  vm?: Component\n</span>): <span class=\"hljs-title class_\">Object</span> {\n  <span class=\"hljs-keyword\">if</span> (process.<span class=\"hljs-property\">env</span>.<span class=\"hljs-property\">NODE_ENV</span> !== <span class=\"hljs-string\">&apos;production&apos;</span>) {\n    <span class=\"hljs-title function_\">checkComponents</span>(child)\n  }\n\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> child === <span class=\"hljs-string\">&apos;function&apos;</span>) {\n    child = child.<span class=\"hljs-property\">options</span>\n  }\n\n  <span class=\"hljs-title function_\">normalizeProps</span>(child, vm)\n  <span class=\"hljs-title function_\">normalizeInject</span>(child, vm)\n  <span class=\"hljs-title function_\">normalizeDirectives</span>(child)\n  <span class=\"hljs-keyword\">const</span> extendsFrom = child.<span class=\"hljs-property\">extends</span>\n  <span class=\"hljs-keyword\">if</span> (extendsFrom) {\n    parent = <span class=\"hljs-title function_\">mergeOptions</span>(parent, extendsFrom, vm)\n  }\n  <span class=\"hljs-keyword\">if</span> (child.<span class=\"hljs-property\">mixins</span>) {\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> i = <span class=\"hljs-number\">0</span>, l = child.<span class=\"hljs-property\">mixins</span>.<span class=\"hljs-property\">length</span>; i &lt; l; i++) {\n      parent = <span class=\"hljs-title function_\">mergeOptions</span>(parent, child.<span class=\"hljs-property\">mixins</span>[i], vm)\n    }\n  }\n  <span class=\"hljs-keyword\">const</span> options = {}\n  <span class=\"hljs-keyword\">let</span> key\n  <span class=\"hljs-keyword\">for</span> (key <span class=\"hljs-keyword\">in</span> parent) {\n    <span class=\"hljs-title function_\">mergeField</span>(key)\n  }\n  <span class=\"hljs-keyword\">for</span> (key <span class=\"hljs-keyword\">in</span> child) {\n    <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_\">hasOwn</span>(parent, key)) {\n      <span class=\"hljs-title function_\">mergeField</span>(key)\n    }\n  }\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mergeField</span> (<span class=\"hljs-params\">key</span>) {\n    <span class=\"hljs-keyword\">const</span> strat = strats[key] || defaultStrat\n    options[key] = <span class=\"hljs-title function_\">strat</span>(parent[key], child[key], vm, key)\n  }\n  <span class=\"hljs-keyword\">return</span> options\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"116,163"}},{"content":"<pre data-lines=\"164,167\"><code>`mergeOptions` &#x4e3b;&#x8981;&#x529f;&#x80fd;&#x5c31;&#x662f;&#x628a; `parent` &#x548c; `child` &#x8fd9;&#x4e24;&#x4e2a;&#x5bf9;&#x8c61;&#x6839;&#x636e;&#x4e00;&#x4e9b;&#x5408;&#x5e76;&#x7b56;&#x7565;&#xff0c;&#x5408;&#x5e76;&#x6210;&#x4e00;&#x4e2a;&#x65b0;&#x5bf9;&#x8c61;&#x5e76;&#x8fd4;&#x56de;&#x3002;&#x6bd4;&#x8f83;&#x6838;&#x5fc3;&#x7684;&#x51e0;&#x6b65;&#xff0c;&#x5148;&#x9012;&#x5f52;&#x628a; `extends` &#x548c; `mixins` &#x5408;&#x5e76;&#x5230; `parent` &#x4e0a;&#xff0c;&#x7136;&#x540e;&#x904d;&#x5386; `parent`&#xff0c;&#x8c03;&#x7528; `mergeField`&#xff0c;&#x7136;&#x540e;&#x518d;&#x904d;&#x5386; `child`&#xff0c;&#x5982;&#x679c; `key` &#x4e0d;&#x5728; `parent` &#x7684;&#x81ea;&#x8eab;&#x5c5e;&#x6027;&#x4e0a;&#xff0c;&#x5219;&#x8c03;&#x7528; `mergeField`&#x3002;\n\n&#x8fd9;&#x91cc;&#x6709;&#x610f;&#x601d;&#x7684;&#x662f; `mergeField` &#x51fd;&#x6570;&#xff0c;&#x5b83;&#x5bf9;&#x4e0d;&#x540c;&#x7684; `key` &#x6709;&#x7740;&#x4e0d;&#x540c;&#x7684;&#x5408;&#x5e76;&#x7b56;&#x7565;&#x3002;&#x4e3e;&#x4f8b;&#x6765;&#x8bf4;&#xff0c;&#x5bf9;&#x4e8e;&#x751f;&#x547d;&#x5468;&#x671f;&#x51fd;&#x6570;&#xff0c;&#x5b83;&#x7684;&#x5408;&#x5e76;&#x7b56;&#x7565;&#x662f;&#x8fd9;&#x6837;&#x7684;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"164,167"}},{"content":"<pre data-lines=\"168,186\"><code data-lines=\"168,186\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">mergeHook</span> (\n  parentVal: ?Array&lt;<span class=\"hljs-keyword\">Function</span>&gt;,\n  childVal: ?<span class=\"hljs-keyword\">Function</span> <span class=\"hljs-title\">|</span> ?Array&lt;<span class=\"hljs-keyword\">Function</span>&gt;\n): ?Array&lt;<span class=\"hljs-keyword\">Function</span>&gt; {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-type\">childVal</span>\n    ? parentVal\n      ? parentVal.concat(childVal)\n      : <span class=\"hljs-type\">Array.isArray</span>(childVal)\n        ? childVal\n        : [<span class=\"hljs-type\">childVal</span>]\n    : <span class=\"hljs-type\">parentVal</span>\n}\n\nLIFECYCLE_HOOKS.forEach(hook =&gt; {\n  strats[hook] = mergeHook\n}) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"168,186"}},{"content":"<pre data-lines=\"187,188\"><code>&#x8fd9;&#x5176;&#x4e2d;&#x7684; `LIFECYCLE_HOOKS` &#x7684;&#x5b9a;&#x4e49;&#x5728; `src/shared/constants.js` &#x4e2d;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"187,188"}},{"content":"<pre data-lines=\"189,204\"><code data-lines=\"189,204\"><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> LIFECYCLE_HOOKS = [\n  <span class=\"hljs-string\">&apos;beforeCreate&apos;</span>,\n  <span class=\"hljs-string\">&apos;created&apos;</span>,\n  <span class=\"hljs-string\">&apos;beforeMount&apos;</span>,\n  <span class=\"hljs-string\">&apos;mounted&apos;</span>,\n  <span class=\"hljs-string\">&apos;beforeUpdate&apos;</span>,\n  <span class=\"hljs-string\">&apos;updated&apos;</span>,\n  <span class=\"hljs-string\">&apos;beforeDestroy&apos;</span>,\n  <span class=\"hljs-string\">&apos;destroyed&apos;</span>,\n  <span class=\"hljs-string\">&apos;activated&apos;</span>,\n  <span class=\"hljs-string\">&apos;deactivated&apos;</span>,\n  <span class=\"hljs-string\">&apos;errorCaptured&apos;</span>\n] \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"189,204"}},{"content":"<pre data-lines=\"205,212\"><code>&#x8fd9;&#x91cc;&#x5b9a;&#x4e49;&#x4e86; Vue.js &#x6240;&#x6709;&#x7684;&#x94a9;&#x5b50;&#x51fd;&#x6570;&#x540d;&#x79f0;&#xff0c;&#x6240;&#x4ee5;&#x5bf9;&#x4e8e;&#x94a9;&#x5b50;&#x51fd;&#x6570;&#xff0c;&#x4ed6;&#x4eec;&#x7684;&#x5408;&#x5e76;&#x7b56;&#x7565;&#x90fd;&#x662f; `mergeHook` &#x51fd;&#x6570;&#x3002;&#x8fd9;&#x4e2a;&#x51fd;&#x6570;&#x7684;&#x5b9e;&#x73b0;&#x4e5f;&#x975e;&#x5e38;&#x6709;&#x610f;&#x601d;&#xff0c;&#x7528;&#x4e86;&#x4e00;&#x4e2a;&#x591a;&#x5c42; 3 &#x5143;&#x8fd0;&#x7b97;&#x7b26;&#xff0c;&#x903b;&#x8f91;&#x5c31;&#x662f;&#x5982;&#x679c;&#x4e0d;&#x5b58;&#x5728; `childVal` &#xff0c;&#x5c31;&#x8fd4;&#x56de; `parentVal`&#xff1b;&#x5426;&#x5219;&#x518d;&#x5224;&#x65ad;&#x662f;&#x5426;&#x5b58;&#x5728; `parentVal`&#xff0c;&#x5982;&#x679c;&#x5b58;&#x5728;&#x5c31;&#x628a; `childVal` &#x6dfb;&#x52a0;&#x5230; `parentVal` &#x540e;&#x8fd4;&#x56de;&#x65b0;&#x6570;&#x7ec4;&#xff1b;&#x5426;&#x5219;&#x8fd4;&#x56de; `childVal` &#x7684;&#x6570;&#x7ec4;&#x3002;&#x6240;&#x4ee5;&#x56de;&#x5230; `mergeOptions` &#x51fd;&#x6570;&#xff0c;&#x4e00;&#x65e6; `parent` &#x548c; `child` &#x90fd;&#x5b9a;&#x4e49;&#x4e86;&#x76f8;&#x540c;&#x7684;&#x94a9;&#x5b50;&#x51fd;&#x6570;&#xff0c;&#x90a3;&#x4e48;&#x5b83;&#x4eec;&#x4f1a;&#x628a; 2 &#x4e2a;&#x94a9;&#x5b50;&#x51fd;&#x6570;&#x5408;&#x5e76;&#x6210;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;&#x3002;\n\n&#x5173;&#x4e8e;&#x5176;&#x5b83;&#x5c5e;&#x6027;&#x7684;&#x5408;&#x5e76;&#x7b56;&#x7565;&#x7684;&#x5b9a;&#x4e49;&#x90fd;&#x53ef;&#x4ee5;&#x5728; `src/core/util/options.js` &#x6587;&#x4ef6;&#x4e2d;&#x770b;&#x5230;&#xff0c;&#x8fd9;&#x91cc;&#x4e0d;&#x4e00;&#x4e00;&#x4ecb;&#x7ecd;&#x4e86;&#xff0c;&#x611f;&#x5174;&#x8da3;&#x7684;&#x540c;&#x5b66;&#x53ef;&#x4ee5;&#x81ea;&#x5df1;&#x770b;&#x3002;\n\n&#x901a;&#x8fc7;&#x6267;&#x884c; `mergeField` &#x51fd;&#x6570;&#xff0c;&#x628a;&#x5408;&#x5e76;&#x540e;&#x7684;&#x7ed3;&#x679c;&#x4fdd;&#x5b58;&#x5230; `options` &#x5bf9;&#x8c61;&#x4e2d;&#xff0c;&#x6700;&#x7ec8;&#x8fd4;&#x56de;&#x5b83;&#x3002;\n\n&#x56e0;&#x6b64;&#xff0c;&#x5728;&#x6211;&#x4eec;&#x5f53;&#x524d;&#x8fd9;&#x4e2a; case &#x4e0b;&#xff0c;&#x6267;&#x884c;&#x5b8c;&#x5982;&#x4e0b;&#x5408;&#x5e76;&#x540e;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"205,212"}},{"content":"<pre data-lines=\"213,220\"><code data-lines=\"213,220\"><span class=\"hljs-keyword\">vm</span>.&#x24;<span class=\"hljs-keyword\">options</span> = mergeOptions(\n  resolveConstructorOptions(<span class=\"hljs-keyword\">vm</span>.constructor),\n  <span class=\"hljs-keyword\">options</span> || {},\n  <span class=\"hljs-keyword\">vm</span>\n) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"213,220"}},{"content":"<pre data-lines=\"221,222\"><code>`vm.&#x24;options` &#x7684;&#x503c;&#x5dee;&#x4e0d;&#x591a;&#x662f;&#x5982;&#x4e0b;&#x8fd9;&#x6837;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"221,222"}},{"content":"<pre data-lines=\"223,242\"><code data-lines=\"223,242\">vm.&#x24;options = {\n  <span class=\"hljs-attr\">components</span>: { },\n  <span class=\"hljs-attr\">created</span>: [\n    <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">created</span>(<span class=\"hljs-params\"></span>) {\n      <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(<span class=\"hljs-string\">&apos;parent created&apos;</span>)\n    }\n  ],\n  <span class=\"hljs-attr\">directives</span>: { },\n  <span class=\"hljs-attr\">filters</span>: { },\n  <span class=\"hljs-attr\">_base</span>: <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Vue</span>(<span class=\"hljs-params\">options</span>) {\n    <span class=\"hljs-comment\">// ...</span>\n  },\n  <span class=\"hljs-attr\">el</span>: <span class=\"hljs-string\">&quot;#app&quot;</span>,\n  <span class=\"hljs-attr\">render</span>: <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">h</span>) {\n    <span class=\"hljs-comment\">//...</span>\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"223,242"}}],"payload":{"tag":"h2","lines":"60,62"}},{"content":"<a href=\"#%E7%BB%84%E4%BB%B6%E5%9C%BA%E6%99%AF\">#</a> &#x7ec4;&#x4ef6;&#x573a;&#x666f;","children":[{"content":"<pre data-lines=\"246,247\"><code>&#x7531;&#x4e8e;&#x7ec4;&#x4ef6;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#x662f;&#x901a;&#x8fc7; `Vue.extend` &#x7ee7;&#x627f;&#x81ea; `Vue` &#x7684;&#xff0c;&#x5148;&#x56de;&#x987e;&#x4e00;&#x4e0b;&#x8fd9;&#x4e2a;&#x8fc7;&#x7a0b;&#xff0c;&#x4ee3;&#x7801;&#x5b9a;&#x4e49;&#x5728; `src/core/global-api/extend.js` &#x4e2d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"246,247"}},{"content":"<pre data-lines=\"248,271\"><code data-lines=\"248,271\"><span class=\"hljs-comment\">/**\n * Class inheritance\n */</span>\nVue<span class=\"hljs-selector-class\">.extend</span> = function (extendOptions: Object): Function {\n  <span class=\"hljs-comment\">// ...</span>\n  Sub<span class=\"hljs-selector-class\">.options</span> = <span class=\"hljs-built_in\">mergeOptions</span>(\n    Super<span class=\"hljs-selector-class\">.options</span>,\n    extendOptions\n  )\n\n  <span class=\"hljs-comment\">// ...</span>\n  <span class=\"hljs-comment\">// keep a reference to the super options at extension time.</span>\n  <span class=\"hljs-comment\">// later at instantiation we can check if Super&apos;s options have</span>\n  <span class=\"hljs-comment\">// been updated.</span>\n  Sub<span class=\"hljs-selector-class\">.superOptions</span> = Super<span class=\"hljs-selector-class\">.options</span>\n  Sub<span class=\"hljs-selector-class\">.extendOptions</span> = extendOptions\n  Sub<span class=\"hljs-selector-class\">.sealedOptions</span> = <span class=\"hljs-built_in\">extend</span>({}, Sub.options)\n\n  <span class=\"hljs-comment\">// ...</span>\n  return Sub\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"248,271"}},{"content":"<pre data-lines=\"272,275\"><code>&#x6211;&#x4eec;&#x53ea;&#x4fdd;&#x7559;&#x5173;&#x952e;&#x903b;&#x8f91;&#xff0c;&#x8fd9;&#x91cc;&#x7684; `extendOptions` &#x5bf9;&#x5e94;&#x7684;&#x5c31;&#x662f;&#x524d;&#x9762;&#x5b9a;&#x4e49;&#x7684;&#x7ec4;&#x4ef6;&#x5bf9;&#x8c61;&#xff0c;&#x5b83;&#x4f1a;&#x548c; `Vue.options` &#x5408;&#x5e76;&#x5230; `Sub.opitons` &#x4e2d;&#x3002;\n\n&#x63a5;&#x4e0b;&#x6765;&#x6211;&#x4eec;&#x518d;&#x56de;&#x5fc6;&#x4e00;&#x4e0b;&#x5b50;&#x7ec4;&#x4ef6;&#x7684;&#x521d;&#x59cb;&#x5316;&#x8fc7;&#x7a0b;&#xff0c;&#x4ee3;&#x7801;&#x5b9a;&#x4e49;&#x5728; `src/core/vdom/create-component.js` &#x4e2d;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"272,275"}},{"content":"<pre data-lines=\"276,290\"><code data-lines=\"276,290\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">export</span> function <span class=\"hljs-title\">createComponentInstanceForVnode</span> <span class=\"hljs-params\">(\n  vnode: any, <span class=\"hljs-comment\">// we know it&apos;s MountedComponentVNode but flow doesn&apos;t</span>\n  parent: any, <span class=\"hljs-comment\">// activeInstance in lifecycle state</span>\n)</span>: Component {</span>\n  <span class=\"hljs-type\">const</span> options: InternalComponentOptions = {\n    _isComponent: <span class=\"hljs-literal\">true</span>,\n    _parentVnode: vnode,\n    parent\n  }\n  <span class=\"hljs-comment\">// ...</span>\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> vnode.componentOptions.<span class=\"hljs-built_in\">Ctor</span>(options)\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"276,290"}},{"content":"<pre data-lines=\"291,292\"><code>&#x8fd9;&#x91cc;&#x7684; `vnode.componentOptions.Ctor` &#x5c31;&#x662f;&#x6307;&#x5411; `Vue.extend` &#x7684;&#x8fd4;&#x56de;&#x503c; `Sub`&#xff0c; &#x6240;&#x4ee5; &#x6267;&#x884c; `new vnode.componentOptions.Ctor(options)` &#x63a5;&#x7740;&#x6267;&#x884c; `this._init(options)`&#xff0c;&#x56e0;&#x4e3a; `options._isComponent` &#x4e3a; true&#xff0c;&#x90a3;&#x4e48;&#x5408;&#x5e76; `options` &#x7684;&#x8fc7;&#x7a0b;&#x8d70;&#x5230;&#x4e86; `initInternalComponent(vm, options)` &#x903b;&#x8f91;&#x3002;&#x5148;&#x6765;&#x770b;&#x4e00;&#x4e0b;&#x5b83;&#x7684;&#x4ee3;&#x7801;&#x5b9e;&#x73b0;&#xff0c;&#x5728; `src/core/instance/init.js` &#x4e2d;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"291,292"}},{"content":"<pre data-lines=\"293,313\"><code data-lines=\"293,313\">export function initInternalComponent (vm: Component, options: InternalComponentOptions) {\n  const opts = vm.<span class=\"hljs-variable\">&#x24;options</span> = Object<span class=\"hljs-selector-class\">.create</span>(vm<span class=\"hljs-selector-class\">.constructor</span>.options)\n  <span class=\"hljs-comment\">// doing this because it&apos;s faster than dynamic enumeration.</span>\n  const parentVnode = options._parentVnode\n  opts<span class=\"hljs-selector-class\">.parent</span> = options<span class=\"hljs-selector-class\">.parent</span>\n  opts._parentVnode = parentVnode\n\n  const vnodeComponentOptions = parentVnode<span class=\"hljs-selector-class\">.componentOptions</span>\n  opts<span class=\"hljs-selector-class\">.propsData</span> = vnodeComponentOptions<span class=\"hljs-selector-class\">.propsData</span>\n  opts._parentListeners = vnodeComponentOptions<span class=\"hljs-selector-class\">.listeners</span>\n  opts._renderChildren = vnodeComponentOptions<span class=\"hljs-selector-class\">.children</span>\n  opts._componentTag = vnodeComponentOptions<span class=\"hljs-selector-class\">.tag</span>\n\n  <span class=\"hljs-keyword\">if</span> (options.render) {\n    opts<span class=\"hljs-selector-class\">.render</span> = options<span class=\"hljs-selector-class\">.render</span>\n    opts<span class=\"hljs-selector-class\">.staticRenderFns</span> = options<span class=\"hljs-selector-class\">.staticRenderFns</span>\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"293,313"}},{"content":"<pre data-lines=\"314,321\"><code>`initInternalComponent` &#x65b9;&#x6cd5;&#x9996;&#x5148;&#x6267;&#x884c; `const opts = vm.&#x24;options = Object.create(vm.constructor.options)`&#xff0c;&#x8fd9;&#x91cc;&#x7684; `vm.constructor` &#x5c31;&#x662f;&#x5b50;&#x7ec4;&#x4ef6;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570; `Sub`&#xff0c;&#x76f8;&#x5f53;&#x4e8e; `vm.&#x24;options = Object.create(Sub.options)`&#x3002;\n\n&#x63a5;&#x7740;&#x53c8;&#x628a;&#x5b9e;&#x4f8b;&#x5316;&#x5b50;&#x7ec4;&#x4ef6;&#x4f20;&#x5165;&#x7684;&#x5b50;&#x7ec4;&#x4ef6;&#x7236; VNode &#x5b9e;&#x4f8b; `parentVnode`&#x3001;&#x5b50;&#x7ec4;&#x4ef6;&#x7684;&#x7236; Vue &#x5b9e;&#x4f8b; `parent` &#x4fdd;&#x5b58;&#x5230; `vm.&#x24;options` &#x4e2d;&#xff0c;&#x53e6;&#x5916;&#x8fd8;&#x4fdd;&#x7559;&#x4e86; `parentVnode` &#x914d;&#x7f6e;&#x4e2d;&#x7684;&#x5982; `propsData` &#x7b49;&#x5176;&#x5b83;&#x7684;&#x5c5e;&#x6027;&#x3002;\n\n&#x8fd9;&#x4e48;&#x770b;&#x6765;&#xff0c;`initInternalComponent` &#x53ea;&#x662f;&#x505a;&#x4e86;&#x7b80;&#x5355;&#x4e00;&#x5c42;&#x5bf9;&#x8c61;&#x8d4b;&#x503c;&#xff0c;&#x5e76;&#x4e0d;&#x6d89;&#x53ca;&#x5230;&#x9012;&#x5f52;&#x3001;&#x5408;&#x5e76;&#x7b56;&#x7565;&#x7b49;&#x590d;&#x6742;&#x903b;&#x8f91;&#x3002;\n\n&#x56e0;&#x6b64;&#xff0c;&#x5728;&#x6211;&#x4eec;&#x5f53;&#x524d;&#x8fd9;&#x4e2a; case &#x4e0b;&#xff0c;&#x6267;&#x884c;&#x5b8c;&#x5982;&#x4e0b;&#x5408;&#x5e76;&#x540e;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"314,321"}},{"content":"<pre data-lines=\"322,325\"><code data-lines=\"322,325\"><span class=\"hljs-function\"><span class=\"hljs-title\">initInternalComponent</span><span class=\"hljs-params\">(vm, options)</span></span> \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"322,325"}},{"content":"<pre data-lines=\"326,327\"><code>`vm.&#x24;options` &#x7684;&#x503c;&#x5dee;&#x4e0d;&#x591a;&#x662f;&#x5982;&#x4e0b;&#x8fd9;&#x6837;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"326,327"}},{"content":"<pre data-lines=\"328,364\"><code data-lines=\"328,364\">vm.&#x24;options = {\n  <span class=\"hljs-attr\">parent</span>: Vue <span class=\"hljs-comment\">/*&#x7236;Vue&#x5b9e;&#x4f8b;*/</span>,\n  <span class=\"hljs-attr\">propsData</span>: <span class=\"hljs-literal\">undefined</span>,\n  <span class=\"hljs-attr\">_componentTag</span>: <span class=\"hljs-literal\">undefined</span>,\n  <span class=\"hljs-attr\">_parentVnode</span>: VNode <span class=\"hljs-comment\">/*&#x7236;VNode&#x5b9e;&#x4f8b;*/</span>,\n  <span class=\"hljs-attr\">_renderChildren</span>:<span class=\"hljs-literal\">undefined</span>,\n  <span class=\"hljs-attr\">__proto__</span>: {\n    <span class=\"hljs-attr\">components</span>: { },\n    <span class=\"hljs-attr\">directives</span>: { },\n    <span class=\"hljs-attr\">filters</span>: { },\n    <span class=\"hljs-attr\">_base</span>: <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Vue</span>(<span class=\"hljs-params\">options</span>) {\n        <span class=\"hljs-comment\">//...</span>\n    },\n    <span class=\"hljs-attr\">_Ctor</span>: {},\n    <span class=\"hljs-attr\">created</span>: [\n      <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">created</span>(<span class=\"hljs-params\"></span>) {\n        <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(<span class=\"hljs-string\">&apos;parent created&apos;</span>)\n      }, <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">created</span>(<span class=\"hljs-params\"></span>) {\n        <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(<span class=\"hljs-string\">&apos;child created&apos;</span>)\n      }\n    ],\n    <span class=\"hljs-attr\">mounted</span>: [\n      <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mounted</span>(<span class=\"hljs-params\"></span>) {\n        <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(<span class=\"hljs-string\">&apos;child mounted&apos;</span>)\n      }\n    ],\n    data() {\n       <span class=\"hljs-keyword\">return</span> {\n         <span class=\"hljs-attr\">msg</span>: <span class=\"hljs-string\">&apos;Hello Vue&apos;</span>\n       }\n    },\n    <span class=\"hljs-attr\">template</span>: <span class=\"hljs-string\">&apos;&lt;div&gt;{{msg}}&lt;/div&gt;&apos;</span>\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"328,364"}}],"payload":{"tag":"h2","lines":"243,245"}},{"content":"<a href=\"#%E6%80%BB%E7%BB%93\">#</a> &#x603b;&#x7ed3;","children":[{"content":"<pre data-lines=\"368,371\"><code>&#x90a3;&#x4e48;&#x81f3;&#x6b64;&#xff0c;Vue &#x521d;&#x59cb;&#x5316;&#x9636;&#x6bb5;&#x5bf9;&#x4e8e; `options` &#x7684;&#x5408;&#x5e76;&#x8fc7;&#x7a0b;&#x5c31;&#x4ecb;&#x7ecd;&#x5b8c;&#x4e86;&#xff0c;&#x6211;&#x4eec;&#x9700;&#x8981;&#x77e5;&#x9053;&#x5bf9;&#x4e8e; `options` &#x7684;&#x5408;&#x5e76;&#x6709; 2 &#x79cd;&#x65b9;&#x5f0f;&#xff0c;&#x5b50;&#x7ec4;&#x4ef6;&#x521d;&#x59cb;&#x5316;&#x8fc7;&#x7a0b;&#x901a;&#x8fc7; `initInternalComponent` &#x65b9;&#x5f0f;&#x8981;&#x6bd4;&#x5916;&#x90e8;&#x521d;&#x59cb;&#x5316; Vue &#x901a;&#x8fc7; `mergeOptions` &#x7684;&#x8fc7;&#x7a0b;&#x8981;&#x5feb;&#xff0c;&#x5408;&#x5e76;&#x5b8c;&#x7684;&#x7ed3;&#x679c;&#x4fdd;&#x7559;&#x5728; `vm.&#x24;options` &#x4e2d;&#x3002;\n\n&#x7eb5;&#x89c2;&#x4e00;&#x4e9b;&#x5e93;&#x3001;&#x6846;&#x67b6;&#x7684;&#x8bbe;&#x8ba1;&#x51e0;&#x4e4e;&#x90fd;&#x662f;&#x7c7b;&#x4f3c;&#x7684;&#xff0c;&#x81ea;&#x8eab;&#x5b9a;&#x4e49;&#x4e86;&#x4e00;&#x4e9b;&#x9ed8;&#x8ba4;&#x914d;&#x7f6e;&#xff0c;&#x540c;&#x65f6;&#x53c8;&#x53ef;&#x4ee5;&#x5728;&#x521d;&#x59cb;&#x5316;&#x9636;&#x6bb5;&#x4f20;&#x5165;&#x4e00;&#x4e9b;&#x5b9a;&#x4e49;&#x914d;&#x7f6e;&#xff0c;&#x7136;&#x540e;&#x53bb; merge &#x9ed8;&#x8ba4;&#x914d;&#x7f6e;&#xff0c;&#x6765;&#x8fbe;&#x5230;&#x5b9a;&#x5236;&#x5316;&#x4e0d;&#x540c;&#x9700;&#x6c42;&#x7684;&#x76ee;&#x7684;&#x3002;&#x53ea;&#x4e0d;&#x8fc7;&#x5728; Vue &#x7684;&#x573a;&#x666f;&#x4e0b;&#xff0c;&#x4f1a;&#x5bf9; merge &#x7684;&#x8fc7;&#x7a0b;&#x505a;&#x4e00;&#x4e9b;&#x7cbe;&#x7ec6;&#x5316;&#x63a7;&#x5236;&#xff0c;&#x867d;&#x7136;&#x6211;&#x4eec;&#x5728;&#x5f00;&#x53d1;&#x81ea;&#x5df1;&#x7684; JSSDK &#x7684;&#x65f6;&#x5019;&#x5e76;&#x6ca1;&#x6709; Vue &#x8fd9;&#x4e48;&#x590d;&#x6742;&#xff0c;&#x4f46;&#x8fd9;&#x4e2a;&#x8bbe;&#x8ba1;&#x601d;&#x60f3;&#x662f;&#x503c;&#x5f97;&#x6211;&#x4eec;&#x501f;&#x9274;&#x7684;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"368,371"}}],"payload":{"tag":"h2","lines":"365,367"}}],"payload":{"tag":"h1","lines":"0,2"}},{})</script>
</body>
</html>
