<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x670d;&#x52a1;&#x7f51;&#x5173;&#x914d;&#x7f6e;&#xff1a;Gateway","children":[{"content":"1.1&#x3001;&#x4ec0;&#x4e48;&#x662f;Gateway","children":[{"content":"<pre data-lines=\"5,6\"><code>Spring Cloud Gateway&#x662f;Spring&#x5b98;&#x65b9;&#x57fa;&#x4e8e;Spring 5.0&#xff0c;Spring Boot 2.0&#x548c;Project Reactor&#x7b49;&#x6280;&#x672f;&#x5f00;&#x53d1;&#x7684;&#x7f51;&#x5173;&#xff0c;Spring Cloud Gateway&#x65e8;&#x5728;&#x4e3a;&#x5fae;&#x670d;&#x52a1;&#x67b6;&#x6784;&#x63d0;&#x4f9b;&#x4e00;&#x79cd;&#x7b80;&#x5355;&#x800c;&#x6709;&#x6548;&#x7684;&#x7edf;&#x4e00;&#x7684;API&#x8def;&#x7531;&#x7ba1;&#x7406;&#x65b9;&#x5f0f;&#x3002;Spring Cloud Gateway&#x4f5c;&#x4e3a;Spring Cloud&#x751f;&#x6001;&#x7cfb;&#x4e2d;&#x7684;&#x7f51;&#x5173;&#xff0c;&#x76ee;&#x6807;&#x662f;&#x66ff;&#x4ee3;Zuul&#xff0c;&#x5176;&#x4e0d;&#x4ec5;&#x63d0;&#x4f9b;&#x7edf;&#x4e00;&#x7684;&#x8def;&#x7531;&#x65b9;&#x5f0f;&#xff0c;&#x5e76;&#x4e14;&#x57fa;&#x4e8e;Filter&#x94fe;&#x7684;&#x65b9;&#x5f0f;&#x63d0;&#x4f9b;&#x4e86;&#x7f51;&#x5173;&#x57fa;&#x672c;&#x7684;&#x529f;&#x80fd;&#xff0c;&#x4f8b;&#x5982;&#xff1a;&#x5b89;&#x5168;&#x9274;&#x6743;&#x3001;&#x6307;&#x6807;&#x76d1;&#x63a7;&#x4ee5;&#x53ca;&#x7194;&#x65ad;&#x9650;&#x6d41;&#x7b49;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"5,6"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/b85360dcb2b12109c6577ec03ac4a179.png\" alt>","children":[],"payload":{"tag":"img","lines":"7,8"}},{"content":"<pre data-lines=\"9,10\"><code>&#x5b98;&#x65b9;&#x6587;&#x6863;&#x5730;&#x5740;&#xff1a;https://docs.spring.io/spring-cloud-gateway/docs/2.2.6.RELEASE/reference/html/\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"9,10"}}],"payload":{"tag":"h2","lines":"2,4"}},{"content":"1.2&#x3001;&#x4e3a;&#x5565;&#x7528;Gateway","children":[{"content":"<pre data-lines=\"14,15\"><code>Spring Cloud Gateway&#x53ef;&#x4ee5;&#x770b;&#x505a;&#x662f;&#x4e00;&#x4e2a;Zuul 1.x&#x7684;&#x5347;&#x7ea7;&#x7248;&#x548c;&#x4ee3;&#x66ff;&#x54c1;&#xff0c;&#x6bd4;Zuul 2&#x66f4;&#x65e9;&#x7684;&#x4f7f;&#x7528;Netty&#x5b9e;&#x73b0;&#x5f02;&#x6b65;IO&#xff0c;&#x4ece;&#x800c;&#x5b9e;&#x73b0;&#x4e86;&#x4e00;&#x4e2a;&#x7b80;&#x5355;&#x3001;&#x6bd4;Zuul 1.x&#x66f4;&#x9ad8;&#x6548;&#x7684;&#x3001;&#x4e0e;Spring Cloud&#x7d27;&#x5bc6;&#x914d;&#x5408;&#x7684;API&#x7f51;&#x5173;&#x3002;Spring Cloud Gateway&#x91cc;&#x660e;&#x786e;&#x7684;&#x533a;&#x5206;&#x4e86;Router&#x548c;Filter&#xff0c;&#x5e76;&#x4e14;&#x4e00;&#x4e2a;&#x5f88;&#x5927;&#x7684;&#x7279;&#x70b9;&#x662f;&#x5185;&#x7f6e;&#x4e86;&#x975e;&#x5e38;&#x591a;&#x7684;&#x5f00;&#x7bb1;&#x5373;&#x7528;&#x529f;&#x80fd;&#xff0c;&#x5e76;&#x4e14;&#x90fd;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;Spring Boot&#x914d;&#x7f6e;&#x6216;&#x8005;&#x624b;&#x5de5;&#x7f16;&#x7801;&#x94fe;&#x5f0f;&#x8c03;&#x7528;&#x6765;&#x4f7f;&#x7528;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"14,15"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/aa78796764da501240a362fa15b3b2dd.png\" alt>","children":[],"payload":{"tag":"img","lines":"16,17"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/bd2b8536270838905aff31e3e699d8ec.png\" alt>","children":[],"payload":{"tag":"img","lines":"18,19"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/477089410cef179265cd332217adc42d.png\" alt>","children":[],"payload":{"tag":"img","lines":"20,21"}},{"content":"<pre data-lines=\"22,23\"><code>&#x5ba2;&#x6237;&#x7aef;&#x5411;Spring Cloud Gateway&#x53d1;&#x51fa;&#x8bf7;&#x6c42;&#x3002;&#x7136;&#x540e;&#x5728;Gateway Handler Mapping&#x4e2d;&#x627e;&#x5230;&#x4e0e;&#x8bf7;&#x6c42;&#x76f8;&#x5339;&#x914d;&#x7684;&#x8def;&#x7531;&#xff0c;&#x5c06;&#x5176;&#x53d1;&#x9001;&#x5230;Gateway Web Handler&#x3002;Handler&#x518d;&#x901a;&#x8fc7;&#x6307;&#x5b9a;&#x7684;&#x8fc7;&#x6ee4;&#x5668;&#x94fe;&#x6765;&#x5c06;&#x8bf7;&#x6c42;&#x53d1;&#x9001;&#x5230;&#x6211;&#x4eec;&#x5b9e;&#x9645;&#x7684;&#x670d;&#x52a1;&#x6267;&#x884c;&#x4e1a;&#x52a1;&#x903b;&#x8f91;&#xff0c;&#x7136;&#x540e;&#x8fd4;&#x56de;&#x3002;&#x8fc7;&#x6ee4;&#x5668;&#x4e4b;&#x95f4;&#x7528;&#x865a;&#x7ebf;&#x5206;&#x5f00;&#x662f;&#x56e0;&#x4e3a;&#x8fc7;&#x6ee4;&#x5668;&#x53ef;&#x80fd;&#x4f1a;&#x5728;&#x53d1;&#x9001;&#x4ee3;&#x7406;&#x8bf7;&#x6c42;&#x4e4b;&#x524d;&#xff08;&#x201c;pre&#x201d;&#xff09;&#x6216;&#x4e4b;&#x540e;&#xff08;&#x201c;post&#x201d;&#xff09;&#x6267;&#x884c;&#x4e1a;&#x52a1;&#x903b;&#x8f91;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"22,23"}}],"payload":{"tag":"h2","lines":"11,13"}},{"content":"4.1&#x3001;&#x9879;&#x76ee;&#x51c6;&#x5907;&#x4e0e;&#x542f;&#x52a8;","children":[{"content":"<pre data-lines=\"27,28\"><code>&#x6211;&#x4eec;&#x63a5;&#x4e0b;&#x6765;&#x7684;&#x6240;&#x6709;&#x64cd;&#x4f5c;&#x5747;&#x662f;&#x5728;`Zuul`&#x6700;&#x540e;&#x5b8c;&#x6210;&#x7684;&#x5de5;&#x7a0b;&#x4e0a;&#x8fdb;&#x884c;&#x64cd;&#x4f5c;&#xff0c;&#x76f8;&#x5173;&#x4ee3;&#x7801;&#x8bf7;&#x5230;&#x914d;&#x5957;&#x8d44;&#x6599;&#x4e2d;&#x5bfb;&#x627e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"27,28"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/e31e5cd87f02bff376ba5f81d13fad65.png\" alt>","children":[],"payload":{"tag":"img","lines":"29,30"}},{"content":"<pre data-lines=\"31,39\"><code>&#x6253;&#x5f00;&#x5df2;&#x7ecf;&#x51c6;&#x5907;&#x597d;&#x7684;&#x9879;&#x76ee;&#x4ee5;&#x540e;&#xff0c;&#x6211;&#x4eec;&#x9700;&#x8981;&#x542f;&#x52a8;&#x4ee5;&#x4e0b;&#x670d;&#x52a1;&#xff0c;`eureka-server7001`&#x542f;&#x52a8;&#x4f1a;&#x62a5;&#x9519;&#xff0c;&#x6682;&#x65f6;&#x4e0d;&#x7528;&#x7406;&#x4f1a;&#xff0c;&#x7b49;`eureka-server7002`&#x542f;&#x52a8;&#x8d77;&#x6765;&#x8fc7;&#x4e00;&#x4f1a;&#x5c31;&#x597d;&#x4e86;&#x3002;\n\n1.  eureka-server7001\n2.  eureka-server7002\n3.  service-provider8001\n4.  service-provider8002\n5.  service-consumer9001\n6.  service-consumer9002\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"31,39"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/6b685df72b34ce667ff6d1df71e4ab93.png\" alt>","children":[],"payload":{"tag":"img","lines":"40,41"}},{"content":"<pre data-lines=\"42,43\"><code>&#x968f;&#x4fbf;&#x8bbf;&#x95ee;&#x4e00;&#x4e2a;&#x6ce8;&#x518c;&#x4e2d;&#x5fc3;&#xff0c;&#x67e5;&#x770b;&#x6211;&#x4eec;&#x5f53;&#x524d;&#x6ce8;&#x518c;&#x7684;&#x6240;&#x6709;&#x670d;&#x52a1;&#xff0c;&#x767b;&#x5f55;&#x8d26;&#x6237;&#xff1a;`root`&#xff0c;&#x767b;&#x5f55;&#x5bc6;&#x7801;&#xff1a;`123456`&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"42,43"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/4c6be8adf5a6d4629707ac1a34d53eb3.png\" alt>","children":[],"payload":{"tag":"img","lines":"44,45"}},{"content":"<pre data-lines=\"46,47\"><code>&#x6211;&#x4eec;&#x968f;&#x4fbf;&#x8bbf;&#x95ee;&#x4e00;&#x4e2a;&#x670d;&#x52a1;&#x5730;&#x5740;&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=0\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"46,47"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/e72083f9433fc1029579f353409f06f3.png\" alt>","children":[],"payload":{"tag":"img","lines":"48,49"}}],"payload":{"tag":"h2","lines":"24,26"}},{"content":"4.2&#x3001;&#x5de5;&#x7a0b;&#x642d;&#x5efa;&#x4e0e;&#x6d4b;&#x8bd5;","children":[{"content":"<pre data-lines=\"53,56\"><code>&#xff08;1&#xff09;&#x5728;&#x7236;&#x5de5;&#x7a0b;`spring-cloud-study`&#x4e0b;&#x521b;&#x5efa;&#x5b50;&#x5de5;&#x7a0b;`gateway-cloud5002`\n\n&#xff08;2&#xff09;&#x5728;&#x521a;&#x521b;&#x5efa;&#x597d;&#x7684;&#x5b50;&#x5de5;&#x7a0b;`gateway-cloud5002`&#x7684;`pom.xml`&#x4e2d;&#x6dfb;&#x52a0;&#x4f9d;&#x8d56;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"53,56"}},{"content":"<pre data-lines=\"57,70\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependencies</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-cloud-starter-gateway<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependencies</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"57,70"}},{"content":"<pre data-lines=\"71,72\"><code>&#xff08;3&#xff09;&#x5728;&#x521a;&#x521b;&#x5efa;&#x597d;&#x7684;&#x5b50;&#x5de5;&#x7a0b;`gateway-cloud5002`&#x4e2d;&#x521b;&#x5efa;&#x914d;&#x7f6e;&#x6587;&#x4ef6;`application.yaml`&#xff0c;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"71,72"}},{"content":"<pre data-lines=\"73,105\"><code class=\"language-yaml\"><span class=\"hljs-attr\">server:</span>\n  <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">5002</span>\n\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      \n      <span class=\"hljs-attr\">discovery:</span>\n        <span class=\"hljs-attr\">locator:</span>\n          <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">true</span>\n\n<span class=\"hljs-attr\">eureka:</span>\n  <span class=\"hljs-attr\">client:</span>\n    \n    <span class=\"hljs-attr\">register-with-eureka:</span> <span class=\"hljs-literal\">false</span>\n    \n    <span class=\"hljs-attr\">registry-fetch-interval-seconds:</span> <span class=\"hljs-number\">10</span>\n    \n    <span class=\"hljs-attr\">service-url:</span>\n      <span class=\"hljs-attr\">defaultZone:</span> <span class=\"hljs-string\">http://root:123456@eureka-server7001.com:7001/eureka/,http://root:123456@eureka-server7002.com:7002/eureka/</span>\n\n\n<span class=\"hljs-attr\">logging:</span>\n  <span class=\"hljs-attr\">level:</span>\n    <span class=\"hljs-attr\">org.springframework.cloud.gateway:</span> <span class=\"hljs-string\">debug</span>\n    <span class=\"hljs-attr\">org.springframework.http.server.reactive:</span> <span class=\"hljs-string\">debug</span>\n    <span class=\"hljs-attr\">org.springframework.web.reactive:</span> <span class=\"hljs-string\">debug</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"73,105"}},{"content":"<pre data-lines=\"106,107\"><code>&#xff08;4&#xff09;&#x65b0;&#x5efa;&#x542f;&#x52a8;&#x7c7b;&#xff0c;&#x5728;&#x542f;&#x52a8;&#x7c7b;&#x4e2d;&#x52a0;&#x5165;&#x4ee5;&#x4e0b;&#x4ee3;&#x7801;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"106,107"}},{"content":"<pre data-lines=\"108,117\"><code class=\"language-java\"><span class=\"hljs-meta\">@SpringBootApplication</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">GatewayCloud5002Application</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        SpringApplication.run(GatewayCloud5002Application.class);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"108,117"}},{"content":"<pre data-lines=\"118,125\"><code>&#xff08;5&#xff09;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x9879;&#x76ee;&#xff0c;&#x8fd9;&#x6837;&#x7b80;&#x5355;&#x7684;Gateway&#x5c31;&#x642d;&#x5efa;&#x597d;&#x4e86;&#xff0c;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x9ed8;&#x8ba4;&#x7684;&#x8def;&#x7531;&#x89c4;&#x5219;&#x6765;&#x8bbf;&#x95ee;&#x6307;&#x5b9a;&#x7684;&#x670d;&#x52a1;&#x65b9;&#x6cd5;&#xff0c;&#x6bd4;&#x5982;&#xff1a;\n\n&#x683c;&#x5f0f;&#xff1a;&#x201c;http://&#x201d;+Gateway&#x7f51;&#x5173;&#x7684;&#x57df;&#x540d;+&quot;:&quot;+Gateway&#x7f51;&#x5173;&#x7684;&#x7aef;&#x53e3;+&quot;/&quot;+&#x5fae;&#x670d;&#x52a1;&#x7684;&#x540d;&#x79f0;&#xff08;&#x4e00;&#x5b9a;&#x5927;&#x5199;&#xff09;+&#x5fae;&#x670d;&#x52a1;&#x7684;&#x670d;&#x52a1;&#x8def;&#x5f84;&#xff08;&#x5c31;&#x662f;&#x4f60;Controller&#x65b9;&#x6cd5;&#x4e0a;&#x6807;&#x6ce8;&#x7684;&#x90a3;&#x4e2a;&#x8def;&#x5f84;&#xff09;\n\n&#x4f8b;&#x5982;&#xff1a;http://localhost:5002/SERVICE-CONSUMER9002/consumer/product/findAll\n\n&#x4f8b;&#x5982;&#xff1a;http://localhost:5002/SERVICE-CONSUMER9003/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"118,125"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/ca12073095eb43aadb464e3ed2716c8d.png\" alt>","children":[],"payload":{"tag":"img","lines":"126,127"}}],"payload":{"tag":"h2","lines":"50,52"}},{"content":"4.3&#x3001;&#x914d;&#x7f6e;&#x81ea;&#x5b9a;&#x4e49;&#x8def;&#x7531;","children":[{"content":"<pre data-lines=\"131,132\"><code>&#x73b0;&#x5728;&#xff0c;&#x6211;&#x4eec;&#x5df2;&#x7ecf;&#x57fa;&#x672c;&#x5b9e;&#x73b0;&#x4e86;Gateway&#x9ed8;&#x8ba4;&#x8def;&#x7531;&#x7684;&#x529f;&#x80fd;&#xff0c;&#x4f46;&#x662f;&#xff0c;&#x4e00;&#x822c;&#x6211;&#x4eec;&#x4e5f;&#x53ef;&#x4ee5;&#x81ea;&#x5b9a;&#x4e49;&#x8def;&#x7531;&#x914d;&#x7f6e;&#xff0c;&#x4e3a;&#x4ec0;&#x4e48;&#x8981;&#x81ea;&#x5b9a;&#x4e49;&#xff0c;&#x7ec6;&#x5fc3;&#x7684;&#x4f60;&#x4f1a;&#x53d1;&#x73b0;&#xff0c;&#x73b0;&#x5728;&#x4f60;&#x8bbf;&#x95ee;&#x6307;&#x5b9a;&#x7684;&#x670d;&#x52a1;&#xff0c;&#x5fc5;&#x987b;&#x8981;&#x52a0;&#x6ce8;&#x518c;&#x670d;&#x52a1;&#x7684;&#x540d;&#x79f0;&#xff08;&#x4f8b;&#x5982;&#xff1a;`SERVICE-CONSUMER9002`&#xff0c;`SERVICE-CONSUMER9003`&#xff09;&#xff0c;&#x8fd9;&#x4e2a;&#x540d;&#x79f0;&#x53ef;&#x80fd;&#x5f88;&#x957f;&#xff0c;&#x4e5f;&#x53ef;&#x80fd;&#x4f1a;&#x66b4;&#x9732;&#x4f60;&#x8fd9;&#x4e2a;&#x670d;&#x52a1;&#x7684;&#x4e00;&#x4e9b;&#x6027;&#x8d28;&#xff0c;&#x6211;&#x4eec;&#x60f3;&#x8981;&#x4f7f;&#x7528;&#x6211;&#x4eec;&#x81ea;&#x5df1;&#x7684;&#x8def;&#x7531;&#x89c4;&#x5219;&#xff0c;&#x5c31;&#x5fc5;&#x987b;&#x4f7f;&#x7528;&#x81ea;&#x5b9a;&#x4e49;&#x8def;&#x7531;&#x914d;&#x7f6e;&#xff0c;&#x81ea;&#x5b9a;&#x4e49;&#x8def;&#x7531;&#x914d;&#x7f6e;&#x5176;&#x5b9e;&#x5f88;&#x7b80;&#x5355;&#xff0c;&#x53ea;&#x9700;&#x8981;&#x5728;`gateway-cloud5002`&#x4e2d;&#x7684;`application.yaml`&#x52a0;&#x4e0a;&#x76f8;&#x5bf9;&#x5e94;&#x7684;&#x8def;&#x7531;&#x914d;&#x7f6e;&#x5c31;&#x884c;&#x4e86;&#xff0c;&#x5177;&#x4f53;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#x6240;&#x793a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"131,132"}},{"content":"<pre data-lines=\"133,156\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      \n      <span class=\"hljs-attr\">discovery:</span>\n        <span class=\"hljs-attr\">locator:</span>\n          <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">true</span>\n      \n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">SERVICE-CONSUMER9002-ROUTE</span> \n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">http://localhost:9002</span> \n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/find*</span> \n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">SERVICE-CONSUMER9003-ROUTE</span> \n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">http://localhost:9003</span> \n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/miaoSha</span> \n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"133,156"}},{"content":"<pre data-lines=\"157,162\"><code>&#x5982;&#x679c;&#x4f60;&#x8fd8;&#x6709;&#x66f4;&#x591a;&#x670d;&#x52a1;&#x4f60;&#x8fd8;&#x53ef;&#x4ee5;&#x7167;&#x7740;&#x4e0a;&#x8fb9;&#x7684;&#x89c4;&#x5219;&#x7ee7;&#x7eed;&#x5f80;&#x4e0b;&#x5199;&#xff08;&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x8005;&#x548c;&#x670d;&#x52a1;&#x6d88;&#x8d39;&#x8005;&#x90fd;&#x7b97;&#x670d;&#x52a1;&#xff09;&#xff0c;&#x5199;&#x5b8c;&#x540e;&#xff0c;&#x8bf7;&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x7684;&#x9879;&#x76ee;&#xff0c;&#x7136;&#x540e;&#x4f9d;&#x6b21;&#x8bbf;&#x95ee;&#x5982;&#x4e0b;&#x5730;&#x5740;&#x6d4b;&#x8bd5;&#xff1a;\n\n&#x5730;&#x5740;1&#xff1a;http://localhost:5002/consumer/product/findAll\n\n&#x5730;&#x5740;2&#xff1a;http://localhost:5002/consumer/product/miaoSha\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"157,162"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/98c2c28bc3bec7350d047048e4542f02.png\" alt>","children":[],"payload":{"tag":"img","lines":"163,164"}}],"payload":{"tag":"h2","lines":"128,130"}},{"content":"4.4&#x3001;&#x7981;&#x6b62;&#x9ed8;&#x8ba4;&#x7684;&#x8def;&#x7531;","children":[{"content":"<pre data-lines=\"168,169\"><code>&#x867d;&#x7136;&#x5b9e;&#x73b0;&#x4e86;&#x81ea;&#x5b9a;&#x4e49;&#x8def;&#x7531;&#x8bbe;&#x7f6e;&#xff0c;&#x4f46;&#x662f;&#x5982;&#x679c;&#x4f60;&#x4f7f;&#x7528;&#x4e4b;&#x524d;&#x9ed8;&#x8ba4;&#x7684;&#x8def;&#x7531;&#x89c4;&#x5219;&#xff0c;&#x4ed6;&#x8fd8;&#x662f;&#x53ef;&#x4ee5;&#x8bbf;&#x95ee;&#x7684;&#xff0c;&#x6211;&#x4eec;&#x60f3;&#x8981;&#x7981;&#x7528;&#x6389;&#xff0c;&#x9ed8;&#x8ba4;&#x7684;&#x90a3;&#x4e2a;&#x8def;&#x7531;&#x89c4;&#x5219;&#xff0c;&#x53ea;&#x9700;&#x8981;&#x4fee;&#x6539;&#x4e00;&#x6bb5;&#x914d;&#x7f6e;&#xff0c;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"168,169"}},{"content":"<pre data-lines=\"170,193\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      \n      <span class=\"hljs-attr\">discovery:</span>\n        <span class=\"hljs-attr\">locator:</span>\n          <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">false</span>\n      \n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">SERVICE-CONSUMER9002-ROUTE</span> \n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">http://localhost:9002</span> \n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/find*</span> \n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">SERVICE-CONSUMER9003-ROUTE</span> \n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">http://localhost:9003</span> \n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/miaoSha</span> \n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"170,193"}},{"content":"<pre data-lines=\"194,199\"><code>&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x7684;&#x9879;&#x76ee;&#xff0c;&#x7136;&#x540e;&#x4f9d;&#x6b21;&#x8bbf;&#x95ee;&#x5982;&#x4e0b;&#x5730;&#x5740;&#x6d4b;&#x8bd5;&#xff1a;\n\n&#x4f8b;&#x5982;&#xff1a;http://localhost:5002/SERVICE-CONSUMER9002/consumer/product/findAll\n\n&#x4f8b;&#x5982;&#xff1a;http://localhost:5002/SERVICE-CONSUMER9003/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"194,199"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/5f9adb85e3cbe4837125cd7fb2a19399.png\" alt>","children":[],"payload":{"tag":"img","lines":"200,201"}}],"payload":{"tag":"h2","lines":"165,167"}},{"content":"4.5&#x3001;&#x914d;&#x7f6e;&#x52a8;&#x6001;&#x7684;&#x8def;&#x7531;","children":[{"content":"<pre data-lines=\"205,206\"><code>&#x6211;&#x4eec;&#x4e4b;&#x524d;&#x7f16;&#x5199;&#x7684;&#x81ea;&#x5b9a;&#x4e49;&#x8def;&#x7531;&#x4e2d;&#x7684;&#x4e00;&#x9879;uri&#xff0c;&#x6211;&#x4eec;&#x76f4;&#x63a5;&#x5199;&#x7684;&#x662f;&#x76ee;&#x6807;&#x670d;&#x52a1;&#x7684;&#x5730;&#x5740;&#xff0c;&#x8fd9;&#x6837;&#x7684;&#x5199;&#x6cd5;&#x5f88;&#x6b7b;&#x677f;&#xff0c;&#x4e0d;&#x7075;&#x6d3b;&#xff0c;&#x6211;&#x4eec;&#x80fd;&#x4e0d;&#x80fd;&#x628a;&#x76ee;&#x6807;uri&#x4e0d;&#x6307;&#x5411;&#x76ee;&#x6807;&#x670d;&#x52a1;&#x7684;&#x5730;&#x5740;&#xff0c;&#x800c;&#x662f;&#x8ba9;uri&#x8ddf;eureka&#x7684;&#x6ce8;&#x518c;&#x5e94;&#x7528;&#x6302;&#x94a9;&#xff0c;&#x8fd9;&#x6837;&#xff0c;&#x4f60;&#x76ee;&#x6807;&#x670d;&#x52a1;&#x968f;&#x4fbf;&#x6269;&#x5bb9;&#x7f29;&#x5bb9;&#xff0c;&#x6211;&#x7f51;&#x5173;&#x8fd9;&#x91cc;&#x611f;&#x89c9;&#x4e0d;&#x5230;&#xff0c;&#x56e0;&#x4e3a;&#x7f51;&#x5173;&#x76f4;&#x63a5;&#x627e;eureka&#xff0c;&#x8981;&#x60f3;&#x5b9e;&#x73b0;&#x8fd9;&#x6837;&#x7684;&#x6548;&#x679c;&#x53ea;&#x9700;&#x8981;&#x4fee;&#x6539;uri&#x4e3a;&#x5bf9;&#x5e94;&#x7684;&#x6ce8;&#x518c;&#x5e94;&#x7528;&#x540d;&#x79f0;&#x5c31;&#x597d;&#xff0c;&#x4e0d;&#x8fc7;&#xff0c;&#x6211;&#x4eec;&#x8fd8;&#x9700;&#x8981;&#x5728;&#x8fd9;&#x4e2a;&#x6ce8;&#x518c;&#x540d;&#x79f0;&#x4e4b;&#x524d;&#x52a0;&#x4e00;&#x4e2a;&#x534f;&#x8bae;&#x524d;&#x7f00;&#xff0c;&#x8fd9;&#x4e2a;&#x524d;&#x7f00;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x914d;&#x7f6e;&#x4fee;&#x6539;&#xff0c;&#x4f46;&#x662f;&#x4e00;&#x822c;&#x9ed8;&#x8ba4;&#x5373;&#x53ef;&#xff0c;&#x5177;&#x4f53;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"205,206"}},{"content":"<pre data-lines=\"207,232\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      \n      <span class=\"hljs-attr\">discovery:</span>\n        <span class=\"hljs-attr\">locator:</span>\n          <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">false</span>\n      \n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">SERVICE-CONSUMER9002-ROUTE</span> \n          \n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span> \n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/find*</span> \n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">SERVICE-CONSUMER9003-ROUTE</span> \n          \n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9003</span> \n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/miaoSha</span> \n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"207,232"}},{"content":"<pre data-lines=\"233,238\"><code>&#x8bf7;&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x7684;&#x9879;&#x76ee;&#xff0c;&#x7136;&#x540e;&#x4f9d;&#x6b21;&#x8bbf;&#x95ee;&#x5982;&#x4e0b;&#x5730;&#x5740;&#x6d4b;&#x8bd5;&#xff1a;\n\n&#x5730;&#x5740;1&#xff1a;http://localhost:5002/consumer/product/findAll\n\n&#x5730;&#x5740;2&#xff1a;http://localhost:5002/consumer/product/miaoSha\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"233,238"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/98c2c28bc3bec7350d047048e4542f02.png\" alt>","children":[],"payload":{"tag":"img","lines":"239,240"}}],"payload":{"tag":"h2","lines":"202,204"}},{"content":"4.6&#x3001;&#x7528;&#x4ee3;&#x7801;&#x6765;&#x914d;&#x8def;&#x7531;","children":[{"content":"<pre data-lines=\"244,247\"><code>Gateway&#x7f51;&#x5173;&#x8def;&#x7531;&#x6709;&#x4e24;&#x79cd;&#x914d;&#x7f6e;&#x65b9;&#x5f0f;&#xff0c;&#x4e00;&#x79cd;&#x662f;&#x4f7f;&#x7528;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x7684;&#x65b9;&#x5f0f;&#xff0c;&#x53e6;&#x4e00;&#x79cd;&#x662f;&#x4f7f;&#x7528;&#x4ee3;&#x7801;&#x7684;&#x65b9;&#x5f0f;&#x6765;&#x914d;&#x7f6e;&#xff0c;&#x5177;&#x4f53;&#x4ee3;&#x7801;&#x8bf7;&#x53c2;&#x8003;&#xff1a;\n\ncom.caochenlei.config.GatewayConfig\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"244,247"}},{"content":"<pre data-lines=\"248,262\"><code class=\"language-java\"><span class=\"hljs-meta\">@Configuration</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">GatewayConfig</span> {\n    <span class=\"hljs-meta\">@Bean</span>\n    <span class=\"hljs-keyword\">public</span> RouteLocator <span class=\"hljs-title function_\">customRouteLocator</span><span class=\"hljs-params\">(RouteLocatorBuilder routeLocatorBuilder)</span> {\n        <span class=\"hljs-keyword\">return</span> routeLocatorBuilder.routes()\n                \n                .route(<span class=\"hljs-string\">&quot;SERVICE-PROVIDER-ROUTE1&quot;</span>, r -&gt; r.path(<span class=\"hljs-string\">&quot;/provider/product/findAll&quot;</span>).uri(<span class=\"hljs-string\">&quot;lb://SERVICE-PROVIDER&quot;</span>))\n                .route(<span class=\"hljs-string\">&quot;SERVICE-PROVIDER-ROUTE2&quot;</span>, r -&gt; r.path(<span class=\"hljs-string\">&quot;/provider/product/findByPid&quot;</span>).uri(<span class=\"hljs-string\">&quot;lb://SERVICE-PROVIDER&quot;</span>))\n                .build();\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"248,262"}},{"content":"<pre data-lines=\"263,268\"><code>&#x8bf7;&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x7684;&#x9879;&#x76ee;&#xff0c;&#x7136;&#x540e;&#x4f9d;&#x6b21;&#x8bbf;&#x95ee;&#x5982;&#x4e0b;&#x5730;&#x5740;&#x6d4b;&#x8bd5;&#xff1a;\n\n&#x5730;&#x5740;1&#xff1a;http://localhost:5002/provider/product/findAll\n\n&#x5730;&#x5740;2&#xff1a;http://localhost:5002/provider/product/findByPid?pid=0\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"263,268"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/af86ef82d3a9c27c36c4257c924a433b.png\" alt>","children":[],"payload":{"tag":"img","lines":"269,270"}}],"payload":{"tag":"h2","lines":"241,243"}},{"content":"4.7&#x3001;&#x4e3a;&#x4e0b;&#x7ae0;&#x8282;&#x505a;&#x51c6;&#x5907;","children":[{"content":"<pre data-lines=\"274,275\"><code>&#x4e0b;&#x8f7d;&#x5730;&#x5740;&#xff1a;https://curl.se/windows/&#xff0c;&#x5982;&#x679c;&#x4e0b;&#x8f7d;&#x5931;&#x8d25;&#xff0c;&#x8bf7;&#x5230;&#x914d;&#x5957;&#x8d44;&#x6599;&#x4e2d;&#x5bfb;&#x627e;&#x8be5;&#x8f6f;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"274,275"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/5e0839abd5c2ee17e135fc0f45fb0804.png\" alt>","children":[],"payload":{"tag":"img","lines":"276,277"}},{"content":"<pre data-lines=\"278,279\"><code>&#x89e3;&#x538b;&#x8f6f;&#x4ef6;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"278,279"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/e8c1d4344f877cf2f44d43b451815a74.png\" alt>","children":[],"payload":{"tag":"img","lines":"280,281"}},{"content":"<pre data-lines=\"282,283\"><code>&#x914d;&#x7f6e;&#x73af;&#x5883;&#x53d8;&#x91cf;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"282,283"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/6c4e151486dc186e37277eca7e11d1d1.png\" alt>","children":[],"payload":{"tag":"img","lines":"284,285"}},{"content":"<pre data-lines=\"286,287\"><code>&#x6d4b;&#x8bd5;&#x5b89;&#x88c5;&#x72b6;&#x6001;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"286,287"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/3e32ed4a5083ac13db1e3987114b5039.png\" alt>","children":[],"payload":{"tag":"img","lines":"288,289"}},{"content":"<pre data-lines=\"290,291\"><code>&#x6ce8;&#x91ca;&#x5f53;&#x524d;&#x914d;&#x7f6e;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"290,291"}},{"content":"<pre data-lines=\"292,296\"><code class=\"language-yaml\">\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"292,296"}}],"payload":{"tag":"h2","lines":"271,273"}},{"content":"5.1&#x3001;&#x8c13;&#x8bcd;&#xff1a;Path","children":[{"content":"<pre data-lines=\"300,301\"><code>&#x8c13;&#x8bcd;&#x4ecb;&#x7ecd;&#xff1a;&#x901a;&#x8fc7;&#x8bf7;&#x6c42;&#x8def;&#x5f84;&#x5339;&#x914d;&#xff0c;&#x591a;&#x4e2a;&#x8bf7;&#x6c42;&#x8def;&#x5f84;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x9017;&#x53f7;&#x8fdb;&#x884c;&#x5206;&#x9694;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"300,301"}},{"content":"<pre data-lines=\"302,317\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"302,317"}},{"content":"<pre data-lines=\"318,319\"><code>&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://localhost:5002/consumer/product/findAll`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"318,319"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/32ebc34c361f46ed987a3b50fa8c837b.png\" alt>","children":[],"payload":{"tag":"img","lines":"320,321"}},{"content":"<pre data-lines=\"322,333\"><code class=\"language-yaml\"><span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">host_route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">https://example.org</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/foo/{segment},/bar/{segment}</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"322,333"}},{"content":"<pre data-lines=\"334,335\"><code>&#x8fd9;&#x4e2a;&#x8def;&#x7531;&#x5339;&#x914d;&#x8fd9;&#x6837;&#x8def;&#x5f84;&#x7684;&#x8bf7;&#x6c42;&#xff0c;&#x6bd4;&#x5982;&#xff1a;/foo/1 &#x6216; /foo/bar &#x6216; /bar/baz\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"334,335"}}],"payload":{"tag":"h2","lines":"297,299"}},{"content":"5.2&#x3001;&#x8c13;&#x8bcd;&#xff1a;After","children":[{"content":"<pre data-lines=\"339,340\"><code>&#x8c13;&#x8bcd;&#x4ecb;&#x7ecd;&#xff1a;&#x8be5;&#x8c13;&#x8bcd;&#x5339;&#x914d;&#x5728;&#x6307;&#x5b9a;&#x65e5;&#x671f;&#x65f6;&#x95f4;&#x4e4b;&#x540e;&#x53d1;&#x751f;&#x7684;&#x8bf7;&#x6c42;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"339,340"}},{"content":"<pre data-lines=\"341,358\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">After=2021-01-02T23:59:59.000+08:00[Asia/Shanghai]</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"341,358"}},{"content":"<pre data-lines=\"359,360\"><code>&#x751f;&#x6210;&#x65f6;&#x95f4;&#xff1a;&#x4e0a;&#x8fb9;&#x7684;&#x65f6;&#x95f4;&#x6233;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x4e0b;&#x8fb9;&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x6765;&#x8fdb;&#x884c;&#x751f;&#x6210;&#xff0c;&#x7136;&#x540e;&#x9488;&#x5bf9;&#x5177;&#x4f53;&#x65f6;&#x95f4;&#x90e8;&#x5206;&#x8fdb;&#x884c;&#x7b80;&#x5355;&#x4fee;&#x6539;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"359,360"}},{"content":"<pre data-lines=\"361,370\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ZonedDateTimeDemo</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        <span class=\"hljs-type\">ZonedDateTime</span> <span class=\"hljs-variable\">zonedDateTime</span> <span class=\"hljs-operator\">=</span> ZonedDateTime.now();\n        System.out.println(zonedDateTime);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"361,370"}},{"content":"<pre data-lines=\"371,372\"><code>&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://localhost:5002/consumer/product/findAll`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"371,372"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/32ebc34c361f46ed987a3b50fa8c837b.png\" alt>","children":[],"payload":{"tag":"img","lines":"373,374"}}],"payload":{"tag":"h2","lines":"336,338"}},{"content":"5.3&#x3001;&#x8c13;&#x8bcd;&#xff1a;Before","children":[{"content":"<pre data-lines=\"378,379\"><code>&#x8c13;&#x8bcd;&#x4ecb;&#x7ecd;&#xff1a;&#x8be5;&#x8c13;&#x8bcd;&#x5339;&#x914d;&#x5728;&#x6307;&#x5b9a;&#x65e5;&#x671f;&#x65f6;&#x95f4;&#x4e4b;&#x524d;&#x53d1;&#x751f;&#x7684;&#x8bf7;&#x6c42;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"378,379"}},{"content":"<pre data-lines=\"380,397\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Before=2021-02-02T23:59:59.000+08:00[Asia/Shanghai]</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"380,397"}},{"content":"<pre data-lines=\"398,399\"><code>&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://localhost:5002/consumer/product/findAll`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"398,399"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/2021020317374162.png#pic_center\" alt>","children":[],"payload":{"tag":"img","lines":"400,401"}}],"payload":{"tag":"h2","lines":"375,377"}},{"content":"5.4&#x3001;&#x8c13;&#x8bcd;&#xff1a;Between","children":[{"content":"<pre data-lines=\"405,406\"><code>&#x8c13;&#x8bcd;&#x4ecb;&#x7ecd;&#xff1a;&#x8be5;&#x8c13;&#x8bcd;&#x5339;&#x914d;&#x5728;&#x6307;&#x5b9a;&#x65e5;&#x671f;&#x65f6;&#x95f4;&#x4e4b;&#x95f4;&#x53d1;&#x751f;&#x7684;&#x8bf7;&#x6c42;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"405,406"}},{"content":"<pre data-lines=\"407,424\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Between=2021-01-02T23:59:59.000+08:00[Asia/Shanghai],2021-02-02T23:59:59.000+08:00[Asia/Shanghai]</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"407,424"}},{"content":"<pre data-lines=\"425,426\"><code>&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://localhost:5002/consumer/product/findAll`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"425,426"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/32ebc34c361f46ed987a3b50fa8c837b.png\" alt>","children":[],"payload":{"tag":"img","lines":"427,428"}}],"payload":{"tag":"h2","lines":"402,404"}},{"content":"5.5&#x3001;&#x8c13;&#x8bcd;&#xff1a;Cookie","children":[{"content":"<pre data-lines=\"432,433\"><code>&#x8c13;&#x8bcd;&#x4ecb;&#x7ecd;&#xff1a;&#x53ef;&#x4ee5;&#x63a5;&#x6536;&#x4e24;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x4e00;&#x4e2a;&#x662f; Cookie name , &#x4e00;&#x4e2a;&#x662f;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x8def;&#x7531;&#x89c4;&#x5219;&#x4f1a;&#x901a;&#x8fc7;&#x83b7;&#x53d6;&#x5bf9;&#x5e94;&#x7684; Cookie name &#x503c;&#x548c;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#x53bb;&#x5339;&#x914d;&#xff0c;&#x5982;&#x679c;&#x5339;&#x914d;&#x4e0a;&#x5c31;&#x4f1a;&#x6267;&#x884c;&#x8def;&#x7531;&#xff0c;&#x5982;&#x679c;&#x6ca1;&#x6709;&#x5339;&#x914d;&#x4e0a;&#x5219;&#x4e0d;&#x6267;&#x884c;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"432,433"}},{"content":"<pre data-lines=\"434,451\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Cookie=password,\\d+</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"434,451"}},{"content":"<pre data-lines=\"452,453\"><code>&#x6b63;&#x786e;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://localhost:5002/consumer/product/findAll --cookie &quot;password=123&quot;`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"452,453"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/54e2ba34423d9d422ce6141743e7d206.png\" alt>","children":[],"payload":{"tag":"img","lines":"454,455"}},{"content":"<pre data-lines=\"456,457\"><code>&#x9519;&#x8bef;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://localhost:5002/consumer/product/findAll --cookie &quot;password=zhangsan&quot;`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"456,457"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d4e6e464cb4d8b2e7e260af89782e91c.png\" alt>","children":[],"payload":{"tag":"img","lines":"458,459"}}],"payload":{"tag":"h2","lines":"429,431"}},{"content":"5.6&#x3001;&#x8c13;&#x8bcd;&#xff1a;<a href=\"https://so.csdn.net/so/search?q=Header&amp;spm=1001.2101.3001.7020\">Header</a>","children":[{"content":"<pre data-lines=\"463,464\"><code>&#x8c13;&#x8bcd;&#x4ecb;&#x7ecd;&#xff1a;Header&#x8c13;&#x8bcd;&#x548c;Cookie&#x8c13;&#x8bcd;&#x4e00;&#x6837;&#xff0c;&#x4e5f;&#x662f;&#x63a5;&#x6536; 2 &#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x4e00;&#x4e2a; header &#x4e2d;&#x5c5e;&#x6027;&#x540d;&#x79f0;&#x548c;&#x4e00;&#x4e2a;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x503c;&#x548c;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#x5339;&#x914d;&#x5219;&#x6267;&#x884c;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"463,464"}},{"content":"<pre data-lines=\"465,482\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Header=Authorization,\\d+</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"465,482"}},{"content":"<pre data-lines=\"483,484\"><code>&#x6b63;&#x786e;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://localhost:5002/consumer/product/findAll -H &quot;Authorization:123456789&quot;`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"483,484"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d0866e48fee91598812980f38592c3a6.png\" alt>","children":[],"payload":{"tag":"img","lines":"485,486"}},{"content":"<pre data-lines=\"487,488\"><code>&#x9519;&#x8bef;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://localhost:5002/consumer/product/findAll -H &quot;Authorization:zhangsan&quot;`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"487,488"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/3fe98847d8abea2043b08c201b50f687.png\" alt>","children":[],"payload":{"tag":"img","lines":"489,490"}}],"payload":{"tag":"h2","lines":"460,462"}},{"content":"5.7&#x3001;&#x8c13;&#x8bcd;&#xff1a;Host","children":[{"content":"<pre data-lines=\"494,495\"><code>&#x8c13;&#x8bcd;&#x4ecb;&#x7ecd;&#xff1a;Host&#x8c13;&#x8bcd;&#x63a5;&#x6536;&#x4e00;&#x7ec4;&#x53c2;&#x6570;&#xff0c;&#x4e00;&#x7ec4;&#x5339;&#x914d;&#x7684;&#x57df;&#x540d;&#x5217;&#x8868;&#xff0c;&#x591a;&#x4e2a;&#x57df;&#x540d;&#x4e4b;&#x95f4;&#x4f7f;&#x7528;&#x9017;&#x53f7;&#x5206;&#x9694;&#xff0c;&#x5b83;&#x901a;&#x8fc7;&#x53c2;&#x6570;&#x4e2d;&#x7684;&#x4e3b;&#x673a;&#x5730;&#x5740;&#x4f5c;&#x4e3a;&#x5339;&#x914d;&#x89c4;&#x5219;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"494,495"}},{"content":"<pre data-lines=\"496,513\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Host=**.somehost.org,**.anotherhost.org</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"496,513"}},{"content":"<pre data-lines=\"514,515\"><code>&#x6b63;&#x786e;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://localhost:5002/consumer/product/findAll -H &quot;Host:www.somehost.org&quot;`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"514,515"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/c12f41ef5c52df3b12fcda4dfbf41528.png\" alt>","children":[],"payload":{"tag":"img","lines":"516,517"}},{"content":"<pre data-lines=\"518,519\"><code>&#x9519;&#x8bef;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://localhost:5002/consumer/product/findAll -H &quot;Host:www.baidu.com&quot;`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"518,519"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/fd552ac92401019e24d0a571653f2d49.png\" alt>","children":[],"payload":{"tag":"img","lines":"520,521"}}],"payload":{"tag":"h2","lines":"491,493"}},{"content":"5.8&#x3001;&#x8c13;&#x8bcd;&#xff1a;Method","children":[{"content":"<pre data-lines=\"525,526\"><code>&#x8c13;&#x8bcd;&#x4ecb;&#x7ecd;&#xff1a;&#x8be5;&#x8c13;&#x8bcd;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x4f60;&#x8bf7;&#x6c42;&#x7684;&#x65b9;&#x5f0f;&#xff08;GET&#x3001;POST&#x3001;PUT&#x3001;DELETE&#x3001;&#x2026;&#xff09;&#x6765;&#x8fdb;&#x884c;&#x5339;&#x914d;&#xff0c;&#x53ea;&#x6709;&#x6307;&#x5b9a;&#x65b9;&#x5f0f;&#x7684;&#x8bf7;&#x6c42;&#x624d;&#x53ef;&#x4ee5;&#x5339;&#x914d;&#x6210;&#x529f;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"525,526"}},{"content":"<pre data-lines=\"527,544\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Method=GET,POST</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"527,544"}},{"content":"<pre data-lines=\"545,548\"><code>&#x6b63;&#x786e;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://localhost:5002/consumer/product/findAll`\n\n&#x6b63;&#x786e;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XPOST http://localhost:5002/consumer/product/findAll`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"545,548"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/19775a7b498dbcc4b338c4244cc7827d.png\" alt>","children":[],"payload":{"tag":"img","lines":"549,550"}},{"content":"<pre data-lines=\"551,554\"><code>&#x9519;&#x8bef;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XPUT http://localhost:5002/consumer/product/findAll`\n\n&#x9519;&#x8bef;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XDELETE http://localhost:5002/consumer/product/findAll`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"551,554"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/4229152eca60f55085ee2008c0321735.png\" alt>","children":[],"payload":{"tag":"img","lines":"555,556"}}],"payload":{"tag":"h2","lines":"522,524"}},{"content":"5.9&#x3001;&#x8c13;&#x8bcd;&#xff1a;Query","children":[{"content":"<pre data-lines=\"560,561\"><code>&#x8c13;&#x8bcd;&#x4ecb;&#x7ecd;&#xff1a;&#x8be5;&#x8c13;&#x8bcd;&#x4e5f;&#x652f;&#x6301;&#x4f20;&#x5165;&#x4e24;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x4e00;&#x4e2a;&#x662f;&#x5c5e;&#x6027;&#x540d;&#x4e00;&#x4e2a;&#x4e3a;&#x5c5e;&#x6027;&#x503c;&#xff0c;&#x5c5e;&#x6027;&#x503c;&#x53ef;&#x4ee5;&#x662f;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"560,561"}},{"content":"<pre data-lines=\"562,579\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Query=smile,\\d+</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"562,579"}},{"content":"<pre data-lines=\"580,581\"><code>&#x6b63;&#x786e;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://localhost:5002/consumer/product/findAll?smile=521`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"580,581"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/5c8d219abd665bf6684f20371cfbc96b.png\" alt>","children":[],"payload":{"tag":"img","lines":"582,583"}},{"content":"<pre data-lines=\"584,585\"><code>&#x9519;&#x8bef;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://localhost:5002/consumer/product/findAll?smile=no`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"584,585"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/957afe2dc0e408786e2c018639b112ef.png\" alt>","children":[],"payload":{"tag":"img","lines":"586,587"}}],"payload":{"tag":"h2","lines":"557,559"}},{"content":"5.10&#x3001;&#x8c13;&#x8bcd;&#xff1a;RemoteAddr","children":[{"content":"<pre data-lines=\"591,592\"><code>&#x8c13;&#x8bcd;&#x4ecb;&#x7ecd;&#xff1a;&#x8be5;&#x8c13;&#x8bcd;&#x652f;&#x6301;&#x901a;&#x8fc7;&#x8bbe;&#x7f6e;&#x67d0;&#x4e2a; ip &#x533a;&#x95f4;&#x53f7;&#x6bb5;&#xff0c;&#x652f;&#x6301;&#x5355;&#x4e2a; ip &#x5730;&#x5740;&#xff0c;&#x8fd8;&#x652f;&#x6301;&#x63a5;&#x53d7; cidr &#x7b26;&#x53f7; (IPv4 &#x6216; IPv6) &#x5b57;&#x7b26;&#x4e32;&#x7684;&#x5217;&#x8868;(&#x6700;&#x5c0f;&#x5927;&#x5c0f;&#x4e3a; 1)&#xff0c;&#x4f8b;&#x5982; 192.168.0.1/16 (&#x5176;&#x4e2d; 192.168.0.1 &#x662f;&#x5ba2;&#x6237;&#x7aef;&#x53d1;&#x9001;&#x8bf7;&#x6c42;&#x7684; ip &#x5730;&#x5740;&#xff0c;16 &#x662f;&#x5b50;&#x7f51;&#x63a9;&#x7801;&#xff08;255.255.0.0&#xff09;)&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"591,592"}},{"content":"<pre data-lines=\"593,610\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">RemoteAddr=192.168.1.3/24</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"593,610"}},{"content":"<pre data-lines=\"611,612\"><code>&#x67e5;&#x770b;&#x672c;&#x673a;&#x4ee5;&#x592a;&#x7f51;&#x7684;ipv4&#x5730;&#x5740;&#x4ee5;&#x53ca;&#x5b50;&#x7f51;&#x63a9;&#x7801;&#xff0c;&#x4f7f;&#x7528;`ipconfig`&#x547d;&#x4ee4;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"611,612"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/8a716d644147d147c27ffaad8d6d6a6d.png\" alt>","children":[],"payload":{"tag":"img","lines":"613,614"}},{"content":"<pre data-lines=\"615,616\"><code>&#x6b63;&#x786e;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://192.168.1.3:5002/consumer/product/findAll`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"615,616"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/1af56779d34996da2934dc8293194d78.png\" alt>","children":[],"payload":{"tag":"img","lines":"617,618"}},{"content":"<pre data-lines=\"619,620\"><code>&#x9519;&#x8bef;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#xff1a;`curl -XGET http://localhost:5002/consumer/product/findAll`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"619,620"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/c1babae613dbeca024997cfca9ff1ff9.png\" alt>","children":[],"payload":{"tag":"img","lines":"621,622"}}],"payload":{"tag":"h2","lines":"588,590"}},{"content":"5.11&#x3001;&#x8c13;&#x8bcd;&#xff1a;Weight","children":[{"content":"<pre data-lines=\"626,627\"><code>&#x8c13;&#x8bcd;&#x4ecb;&#x7ecd;&#xff1a;&#x8be5;`Weight`&#x8c13;&#x8bcd;&#x6709;&#x4e24;&#x4e2a;&#x53c2;&#x6570;&#xff1a;`group`&#x548c;`weight`&#xff08;&#x4e00;&#x4e2a;int&#xff09;&#x3002;&#x6743;&#x91cd;&#x662f;&#x6309;&#x7ec4;&#x8ba1;&#x7b97;&#x7684;&#xff0c;&#x4ee5;&#x4e0b;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x6743;&#x91cd;&#x8def;&#x7531;&#x8c13;&#x8bcd;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"626,627"}},{"content":"<pre data-lines=\"628,644\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">weight_high</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">https://weighthigh.org</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Weight=group1,</span> <span class=\"hljs-number\">8</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">weight_low</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">https://weightlow.org</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Weight=group1,</span> <span class=\"hljs-number\">2</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"628,644"}},{"content":"<pre data-lines=\"645,648\"><code>&#x8fd9;&#x6761;&#x8def;&#x7ebf;&#x4f1a;&#x5c06;&#x5927;&#x7ea6;80&#xff05;&#x7684;&#x6d41;&#x91cf;&#x8f6c;&#x53d1;&#x5230;`weighthigh.org`&#xff0c;&#x5c06;&#x5927;&#x7ea6;20&#xff05;&#x7684;&#x6d41;&#x91cf;&#x8f6c;&#x53d1;&#x5230;`weightlow.org`&#x3002;\n\nSpring Cloud Gateway&#x6839;&#x636e;&#x4f5c;&#x7528;&#x57df;&#x5212;&#x5206;&#x4e3a;`GatewayFilter`&#x548c;`GlobalFilter`&#x4e24;&#x7c7b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"645,648"}}],"payload":{"tag":"h2","lines":"623,625"}},{"content":"6.1&#x3001;&#x5185;&#x7f6e;&#x7684;&#x7f51;&#x5173;&#x8fc7;&#x6ee4;&#x5668;","children":[{"content":"6.1.1&#x3001;RewritePath","children":[{"content":"<pre data-lines=\"660,661\"><code>&#x8fc7;&#x6ee4;&#x5668;&#x4ecb;&#x7ecd;&#xff1a;RewritePath &#x7f51;&#x5173;&#x8fc7;&#x6ee4;&#x5668;&#x5de5;&#x5382;&#x91c7;&#x7528;&#x8def;&#x5f84;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#x53c2;&#x6570;&#x548c;&#x4e00;&#x4e2a;&#x66ff;&#x6362;&#x53c2;&#x6570;&#xff0c;&#x4f7f;&#x7528; Java &#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#x7075;&#x6d3b;&#x5730;&#x91cd;&#x5199;&#x8bf7;&#x6c42;&#x8def;&#x5f84;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"660,661"}},{"content":"<pre data-lines=\"662,686\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            \n            \n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/api-gateway/**</span>\n          <span class=\"hljs-attr\">filters:</span>\n            \n            \n            \n            \n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">RewritePath=/api-gateway(?&lt;segment&gt;/?.*),</span> <span class=\"hljs-string\">&#x24;\\{segment}</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"662,686"}},{"content":"<pre data-lines=\"687,688\"><code>&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x8f93;&#x5165;&#x5bf9;&#x5e94;&#x7684;&#x5730;&#x5740;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff1a;http://localhost:5002/api-gateway/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"687,688"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/bef690031b412947c4c3098490f019aa.png\" alt>","children":[],"payload":{"tag":"img","lines":"689,690"}}],"payload":{"tag":"h3","lines":"658,659"}},{"content":"6.1.2&#x3001;StripPrefix","children":[{"content":"<pre data-lines=\"693,694\"><code>&#x8fc7;&#x6ee4;&#x5668;&#x4ecb;&#x7ecd;&#xff1a;StripPrefix &#x7f51;&#x5173;&#x8fc7;&#x6ee4;&#x5668;&#x91c7;&#x7528;&#x4e00;&#x4e2a;&#x53c2;&#x6570;StripPrefix&#xff0c;&#x8be5;&#x53c2;&#x6570;&#x8868;&#x793a;&#x5728;&#x5c06;&#x8bf7;&#x6c42;&#x53d1;&#x9001;&#x5230;&#x4e0b;&#x6e38;&#x4e4b;&#x524d;&#x4ece;&#x8bf7;&#x6c42;&#x4e2d;&#x5265;&#x79bb;&#x7684;&#x8def;&#x5f84;&#x4e2a;&#x6570;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"693,694"}},{"content":"<pre data-lines=\"695,715\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            \n            \n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/api-gateway/**</span>\n          <span class=\"hljs-attr\">filters:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">StripPrefix=1</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"695,715"}},{"content":"<pre data-lines=\"716,717\"><code>&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x8f93;&#x5165;&#x5bf9;&#x5e94;&#x7684;&#x5730;&#x5740;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff1a;http://localhost:5002/api-gateway/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"716,717"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/bef690031b412947c4c3098490f019aa.png\" alt>","children":[],"payload":{"tag":"img","lines":"718,719"}}],"payload":{"tag":"h3","lines":"691,692"}},{"content":"6.1.3&#x3001;PrefixPath","children":[{"content":"<pre data-lines=\"722,723\"><code>&#x8fc7;&#x6ee4;&#x5668;&#x4ecb;&#x7ecd;&#xff1a;PrefixPath &#x7f51;&#x5173;&#x8fc7;&#x6ee4;&#x5668;&#x4e3a;&#x6307;&#x5b9a;&#x5339;&#x914d;&#x7684;&#x8def;&#x5f84;&#x6dfb;&#x52a0;&#x7edf;&#x4e00;&#x524d;&#x7f00;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"722,723"}},{"content":"<pre data-lines=\"724,740\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/**</span>\n          <span class=\"hljs-attr\">filters:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">PrefixPath=/consumer/product</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"724,740"}},{"content":"<pre data-lines=\"741,742\"><code>&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x8f93;&#x5165;&#x5bf9;&#x5e94;&#x7684;&#x5730;&#x5740;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff1a;http://localhost:5002/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"741,742"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7149b5f1558bef75d023cc13f13bbd52.png\" alt>","children":[],"payload":{"tag":"img","lines":"743,744"}}],"payload":{"tag":"h3","lines":"720,721"}},{"content":"6.1.4&#x3001;SetPath","children":[{"content":"<pre data-lines=\"747,748\"><code>&#x8fc7;&#x6ee4;&#x5668;&#x4ecb;&#x7ecd;&#xff1a;SetPath &#x7f51;&#x5173;&#x8fc7;&#x6ee4;&#x5668;&#x91c7;&#x7528;&#x8def;&#x5f84;&#x6a21;&#x677f;&#x53c2;&#x6570;&#xff0c;&#x5b83;&#x63d0;&#x4f9b;&#x4e86;&#x4e00; &#x79cd;&#x901a;&#x8fc7;&#x5141;&#x8bb8;&#x6a21;&#x677f;&#x5316;&#x8def;&#x5f84;&#x6bb5;&#x6765;&#x64cd;&#x4f5c;&#x8bf7;&#x6c42;&#x8def;&#x5f84;&#x7684;&#x7b80;&#x5355;&#x65b9;&#x6cd5;&#xff0c;&#x4f7f;&#x7528;&#x4e86;Spring Framework&#x4e2d;&#x7684;URI&#x6a21;&#x677f;&#xff0c;&#x5141;&#x8bb8;&#x591a;&#x4e2a;&#x5339;&#x914d;&#x6bb5;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"747,748"}},{"content":"<pre data-lines=\"749,766\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/{segment}</span>\n          <span class=\"hljs-attr\">filters:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">SetPath=/consumer/product/{segment}</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"749,766"}},{"content":"<pre data-lines=\"767,768\"><code>&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x8f93;&#x5165;&#x5bf9;&#x5e94;&#x7684;&#x5730;&#x5740;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff1a;http://localhost:5002/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"767,768"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7149b5f1558bef75d023cc13f13bbd52.png\" alt>","children":[],"payload":{"tag":"img","lines":"769,770"}}],"payload":{"tag":"h3","lines":"745,746"}},{"content":"6.1.5&#x3001;SetStatus","children":[{"content":"<pre data-lines=\"773,774\"><code>&#x8fc7;&#x6ee4;&#x5668;&#x4ecb;&#x7ecd;&#xff1a;SetStatus&#x8fc7;&#x6ee4;&#x5668;&#x53ef;&#x4ee5;&#x5728;&#x54cd;&#x5e94;&#x540e;&#x8bbe;&#x7f6e;&#x54cd;&#x5e94;&#x72b6;&#x6001;&#x7801;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"773,774"}},{"content":"<pre data-lines=\"775,792\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n          <span class=\"hljs-attr\">filters:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">SetStatus=404</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"775,792"}},{"content":"<pre data-lines=\"793,794\"><code>&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x8f93;&#x5165;&#x5bf9;&#x5e94;&#x7684;&#x5730;&#x5740;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff1a;http://localhost:5002/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"793,794"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/8c434a884d2fb023a607920add2f23da.png\" alt>","children":[],"payload":{"tag":"img","lines":"795,796"}}],"payload":{"tag":"h3","lines":"771,772"}},{"content":"6.1.6&#x3001;AddRequestParameter","children":[{"content":"<pre data-lines=\"799,800\"><code>&#x8fc7;&#x6ee4;&#x5668;&#x4ecb;&#x7ecd;&#xff1a;&#x5728;&#x7528;&#x6237;&#x8bf7;&#x6c42;&#x7684;&#x65f6;&#x5019;&#x53ef;&#x4ee5;&#x7ed9;&#x7528;&#x6237;&#x6dfb;&#x52a0;&#x8bf7;&#x6c42;&#x53c2;&#x6570;&#xff0c;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#x53c2;&#x8003;&#xff08;&#x62f7;&#x8d1d;&#x5b8c;&#x6210;&#x8bf7;&#x91cd;&#x542f;&#x5e94;&#x7528;&#xff09;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"799,800"}},{"content":"<pre data-lines=\"801,818\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n          <span class=\"hljs-attr\">filters:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">AddRequestParameter=pid,0</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"801,818"}},{"content":"<pre data-lines=\"819,820\"><code>&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x8f93;&#x5165;&#x5bf9;&#x5e94;&#x7684;&#x5730;&#x5740;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff1a;http://localhost:5002/consumer/product/findByPid\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"819,820"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/16a9e5afc6121e904e22e4b9025aa0d8.png\" alt>","children":[],"payload":{"tag":"img","lines":"821,822"}}],"payload":{"tag":"h3","lines":"797,798"}},{"content":"6.1.7&#x3001;AddRequestHeader","children":[{"content":"<pre data-lines=\"825,826\"><code>&#x8fc7;&#x6ee4;&#x5668;&#x4ecb;&#x7ecd;&#xff1a;&#x5bf9;&#x4e8e;&#x6240;&#x6709;&#x5339;&#x914d;&#x7684;&#x8bf7;&#x6c42;&#xff0c;&#x5c06;&#x4f1a;&#x7ed9;&#x4f20;&#x7ed9;&#x4e0b;&#x6e38;&#x7684;&#x8bf7;&#x6c42;&#x6dfb;&#x52a0;&#x4e00;&#x4e2a;&#x8bf7;&#x6c42;&#x5934; X-Request-Foo:Bar&#xff0c;&#x8fd9;&#x91cc;&#x5c31;&#x4e0d;&#x6f14;&#x793a;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"825,826"}},{"content":"<pre data-lines=\"827,843\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n          <span class=\"hljs-attr\">filters:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">AddRequestHeader=X-Request-Foo,Bar</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"827,843"}}],"payload":{"tag":"h3","lines":"823,824"}},{"content":"6.1.8&#x3001;AddResponseHeader","children":[{"content":"<pre data-lines=\"846,847\"><code>&#x8fc7;&#x6ee4;&#x5668;&#x4ecb;&#x7ecd;&#xff1a;&#x5bf9;&#x4e8e;&#x6240;&#x6709;&#x5339;&#x914d;&#x7684;&#x8bf7;&#x6c42;&#xff0c;&#x6dfb;&#x52a0;&#x4e00;&#x4e2a;&#x54cd;&#x5e94;&#x5934; X-Response-Foo:Bar&#xff0c;&#x8fd9;&#x91cc;&#x5c31;&#x4e0d;&#x6f14;&#x793a;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"846,847"}},{"content":"<pre data-lines=\"848,864\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n          <span class=\"hljs-attr\">filters:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">AddResponseHeader=X-Response-Foo,Bar</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"848,864"}}],"payload":{"tag":"h3","lines":"844,845"}}],"payload":{"tag":"h2","lines":"649,651"}},{"content":"6.2&#x3001;&#x5185;&#x7f6e;&#x7684;&#x5168;&#x5c40;&#x8fc7;&#x6ee4;&#x5668;","children":[{"content":"<pre data-lines=\"868,871\"><code>`GlobalFilter`&#xff1a;&#x5168;&#x5c40;&#x8fc7;&#x6ee4;&#x5668;&#xff0c;&#x4e0d;&#x9700;&#x8981;&#x5728;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x4e2d;&#x914d;&#x7f6e;&#xff0c;&#x4f5c;&#x7528;&#x5728;&#x6240;&#x6709;&#x7684;&#x8def;&#x7531;&#x4e0a;&#xff0c;&#x6700;&#x7ec8;&#x901a;&#x8fc7;`GatewayFilterAdapter`&#x5305;&#x88c5;&#x6210;`GatewayFilterChain`&#x53ef;&#x8bc6;&#x522b;&#x7684;&#x8fc7;&#x6ee4;&#x5668;&#xff0c;&#x5b83;&#x4e3a;&#x8bf7;&#x6c42;&#x4e1a;&#x52a1;&#x4ee5;&#x53ca;&#x8def;&#x7531;&#x7684;URI&#x8f6c;&#x6362;&#x4e3a;&#x771f;&#x5b9e;&#x4e1a;&#x52a1;&#x670d;&#x52a1;&#x8bf7;&#x6c42;&#x5730;&#x5740;&#x7684;&#x6838;&#x5fc3;&#x8fc7;&#x6ee4;&#x5668;&#xff0c;&#x4e0d;&#x9700;&#x8981;&#x914d;&#x7f6e;&#x7cfb;&#x7edf;&#x521d;&#x59cb;&#x5316;&#x65f6;&#x52a0;&#x8f7d;&#xff0c;&#x5e76;&#x4f5c;&#x7528;&#x5728;&#x6bcf;&#x4e2a;&#x8def;&#x7531;&#x4e0a;&#x3002;\n\n&#x5b98;&#x7f51;&#x8fc7;&#x6ee4;&#x5668;&#x5217;&#x8868;&#xff1a;https://docs.spring.io/spring-cloud-gateway/docs/2.2.6.RELEASE/reference/html/#global-filters\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"868,871"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/50b69125ad79189846385f54eaf15c34.png\" alt>","children":[],"payload":{"tag":"img","lines":"872,873"}}],"payload":{"tag":"h2","lines":"865,867"}},{"content":"6.3&#x3001;&#x81ea;&#x5b9a;&#x4e49;&#x7f51;&#x5173;&#x8fc7;&#x6ee4;&#x5668;","children":[{"content":"6.3.1&#x3001;&#x521b;&#x5efa;&#x8fc7;&#x6ee4;&#x5668;","children":[{"content":"<pre data-lines=\"879,882\"><code>&#x81ea;&#x5b9a;&#x4e49;&#x7f51;&#x5173;&#x8fc7;&#x6ee4;&#x5668;&#x9700;&#x8981;&#x5b9e;&#x73b0;&#x4e24;&#x4e2a;&#x63a5;&#x53e3;&#xff1a;`GatewayFilter`&#x3001;`Ordered`&#x3002;\n\ncom.caochenlei.filter.MyGatewayFilter\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"879,882"}},{"content":"<pre data-lines=\"883,901\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyGatewayFilter</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">GatewayFilter</span>, Ordered {\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">filter</span><span class=\"hljs-params\">(ServerWebExchange exchange, GatewayFilterChain chain)</span> {\n        System.out.println(<span class=\"hljs-string\">&quot;==========&#x81ea;&#x5b9a;&#x4e49;&#x7f51;&#x5173;&#x8fc7;&#x6ee4;&#x5668;&#x5f00;&#x59cb;==========&quot;</span>);\n        System.out.println(exchange.getRequest().getPath());\n        System.out.println(<span class=\"hljs-string\">&quot;==========&#x81ea;&#x5b9a;&#x4e49;&#x7f51;&#x5173;&#x8fc7;&#x6ee4;&#x5668;&#x7ed3;&#x675f;==========&quot;</span>);\n        <span class=\"hljs-keyword\">return</span> chain.filter(exchange);\n    }\n\n    \n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">getOrder</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"883,901"}}],"payload":{"tag":"h3","lines":"877,878"}},{"content":"6.3.2&#x3001;&#x6ce8;&#x518c;&#x8fc7;&#x6ee4;&#x5668;","children":[{"content":"<pre data-lines=\"904,907\"><code>&#x4fee;&#x6539;&#x5168;&#x5c40;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x4e2d;&#x7684;&#x4f7f;&#x7528;&#x4ee3;&#x7801;&#x8fdb;&#x884c;&#x8def;&#x7531;&#x7684;&#x90e8;&#x5206;&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n\ncom.caochenlei.config.GatewayConfig\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"904,907"}},{"content":"<pre data-lines=\"908,930\"><code class=\"language-java\"><span class=\"hljs-meta\">@Configuration</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">GatewayConfig</span> {\n    <span class=\"hljs-meta\">@Bean</span>\n    <span class=\"hljs-keyword\">public</span> RouteLocator <span class=\"hljs-title function_\">customRouteLocator</span><span class=\"hljs-params\">(RouteLocatorBuilder routeLocatorBuilder)</span> {\n        <span class=\"hljs-keyword\">return</span> routeLocatorBuilder.routes()\n                \n                .route(<span class=\"hljs-string\">&quot;SERVICE-PROVIDER-ROUTE1&quot;</span>,\n                        r -&gt; r.path(<span class=\"hljs-string\">&quot;/provider/product/findAll&quot;</span>)\n                                .uri(<span class=\"hljs-string\">&quot;lb://SERVICE-PROVIDER&quot;</span>)\n                                .filter(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">MyGatewayFilter</span>())\n                )\n                .route(<span class=\"hljs-string\">&quot;SERVICE-PROVIDER-ROUTE2&quot;</span>,\n                        r -&gt; r.path(<span class=\"hljs-string\">&quot;/provider/product/findByPid&quot;</span>)\n                                .uri(<span class=\"hljs-string\">&quot;lb://SERVICE-PROVIDER&quot;</span>)\n                                .filter(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">MyGatewayFilter</span>())\n                )\n                .build();\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"908,930"}}],"payload":{"tag":"h3","lines":"902,903"}},{"content":"6.3.3&#x3001;&#x6d4b;&#x8bd5;&#x8fc7;&#x6ee4;&#x5668;","children":[{"content":"<pre data-lines=\"933,934\"><code>&#x91cd;&#x542f;&#x5f53;&#x524d;&#x5e94;&#x7528;&#xff0c;&#x6253;&#x5f00;&#x6d4f;&#x89c8;&#x5668;&#x8fdb;&#x884c;&#x8bbf;&#x95ee;&#xff1a;http://localhost:5002/provider/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"933,934"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/43d0ef6e26fc6c7b4ec4d0e81aff260b.png\" alt>","children":[],"payload":{"tag":"img","lines":"935,936"}}],"payload":{"tag":"h3","lines":"931,932"}}],"payload":{"tag":"h2","lines":"874,876"}},{"content":"6.4&#x3001;&#x81ea;&#x5b9a;&#x4e49;&#x5168;&#x5c40;&#x8fc7;&#x6ee4;&#x5668;","children":[{"content":"6.4.1&#x3001;&#x521b;&#x5efa;&#x8fc7;&#x6ee4;&#x5668;","children":[{"content":"<pre data-lines=\"942,945\"><code>&#x81ea;&#x5b9a;&#x4e49;&#x7f51;&#x5173;&#x8fc7;&#x6ee4;&#x5668;&#x9700;&#x8981;&#x5b9e;&#x73b0;&#x4e24;&#x4e2a;&#x63a5;&#x53e3;&#xff1a;`GlobalFilter`&#x3001;`Ordered`&#x3002;\n\ncom.caochenlei.filter.MyGlobalFilter\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"942,945"}},{"content":"<pre data-lines=\"946,965\"><code class=\"language-java\"><span class=\"hljs-meta\">@Component</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyGlobalFilter</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">GlobalFilter</span>, Ordered {\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">filter</span><span class=\"hljs-params\">(ServerWebExchange exchange, GatewayFilterChain chain)</span> {\n        System.out.println(<span class=\"hljs-string\">&quot;==========&#x81ea;&#x5b9a;&#x4e49;&#x5168;&#x5c40;&#x8fc7;&#x6ee4;&#x5668;&#x5f00;&#x59cb;==========&quot;</span>);\n        System.out.println(exchange.getRequest().getPath());\n        System.out.println(<span class=\"hljs-string\">&quot;==========&#x81ea;&#x5b9a;&#x4e49;&#x5168;&#x5c40;&#x8fc7;&#x6ee4;&#x5668;&#x7ed3;&#x675f;==========&quot;</span>);\n        <span class=\"hljs-keyword\">return</span> chain.filter(exchange);\n    }\n\n    \n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">getOrder</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"946,965"}}],"payload":{"tag":"h3","lines":"940,941"}},{"content":"6.4.2&#x3001;&#x6ce8;&#x518c;&#x8fc7;&#x6ee4;&#x5668;","children":[{"content":"<pre data-lines=\"968,969\"><code>&#x5168;&#x5c40;&#x8fc7;&#x6ee4;&#x5668;&#x4e0d;&#x7528;&#x6ce8;&#x518c;&#xff0c;&#x56e0;&#x4e3a;&#x8fc7;&#x6ee4;&#x5668;&#x7c7b;&#x4e0a;&#x6709;`@Component`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"968,969"}}],"payload":{"tag":"h3","lines":"966,967"}},{"content":"6.4.3&#x3001;&#x6d4b;&#x8bd5;&#x8fc7;&#x6ee4;&#x5668;","children":[{"content":"<pre data-lines=\"972,973\"><code>&#x91cd;&#x542f;&#x5f53;&#x524d;&#x5e94;&#x7528;&#xff0c;&#x6253;&#x5f00;&#x6d4f;&#x89c8;&#x5668;&#x8fdb;&#x884c;&#x8bbf;&#x95ee;&#xff1a;http://localhost:5002/provider/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"972,973"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/36ff41ea70fbf9fc78d6605566189f6d.png\" alt>","children":[],"payload":{"tag":"img","lines":"974,975"}}],"payload":{"tag":"h3","lines":"970,971"}}],"payload":{"tag":"h2","lines":"937,939"}},{"content":"7.1&#x3001;&#x7194;&#x65ad;&#x964d;&#x7ea7;&#x542b;&#x4e49;","children":[{"content":"<pre data-lines=\"979,980\"><code>&#x7194;&#x65ad;&#x964d;&#x7ea7;&#xff1a;&#x5728;&#x5206;&#x5e03;&#x5f0f;&#x7cfb;&#x7edf;&#x4e2d;&#xff0c;&#x7f51;&#x5173;&#x4f5c;&#x4e3a;&#x6d41;&#x91cf;&#x7684;&#x5165;&#x53e3;&#xff0c;&#x5927;&#x91cf;&#x8bf7;&#x6c42;&#x8fdb;&#x5165;&#x7f51;&#x5173;&#xff0c;&#x5411;&#x540e;&#x7aef;&#x8fdc;&#x7a0b;&#x7cfb;&#x7edf;&#x6216;&#x670d;&#x52a1;&#x53d1;&#x8d77;&#x8c03;&#x7528;&#xff0c;&#x540e;&#x7aef;&#x670d;&#x52a1;&#x4e0d;&#x53ef;&#x907f;&#x514d;&#x7684;&#x4f1a;&#x4ea7;&#x751f;&#x8c03;&#x7528;&#x5931;&#x8d25;&#xff08;&#x8d85;&#x65f6;&#x6216;&#x8005;&#x5f02;&#x5e38;&#xff09;&#xff0c;&#x5931;&#x8d25;&#x65f6;&#x4e0d;&#x80fd;&#x8ba9;&#x8bf7;&#x6c42;&#x5806;&#x79ef;&#x5728;&#x7f51;&#x5173;&#x4e0a;&#xff0c;&#x9700;&#x8981;&#x5feb;&#x901f;&#x5931;&#x8d25;&#x5e76;&#x8fd4;&#x56de;&#x56de;&#x53bb;&#xff0c;&#x8fd9;&#x5c31;&#x9700;&#x8981;&#x5728;&#x7f51;&#x5173;&#x4e0a;&#x505a;&#x7194;&#x65ad;&#x3001;&#x964d;&#x7ea7;&#x64cd;&#x4f5c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"979,980"}}],"payload":{"tag":"h2","lines":"976,978"}},{"content":"7.2&#x3001;&#x6dfb;&#x52a0;&#x4f9d;&#x8d56;&#x6587;&#x4ef6;","children":[{"content":"<pre data-lines=\"984,985\"><code>pom.xml\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"984,985"}},{"content":"<pre data-lines=\"986,993\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-cloud-starter-netflix-hystrix<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"986,993"}}],"payload":{"tag":"h2","lines":"981,983"}},{"content":"7.3&#x3001;&#x7f16;&#x5199;&#x914d;&#x7f6e;&#x6587;&#x4ef6;","children":[{"content":"<pre data-lines=\"997,998\"><code>application.yaml\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"997,998"}},{"content":"<pre data-lines=\"999,1029\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n          <span class=\"hljs-attr\">filters:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Hystrix</span>\n              <span class=\"hljs-attr\">args:</span>\n                <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">default</span>\n                <span class=\"hljs-attr\">fallbackUri:</span> <span class=\"hljs-string\">&apos;forward:/defaultFallback&apos;</span> \n\n\n<span class=\"hljs-attr\">hystrix:</span>\n  <span class=\"hljs-attr\">shareSecurityContext:</span> <span class=\"hljs-literal\">true</span>\n  <span class=\"hljs-attr\">command:</span>\n    <span class=\"hljs-attr\">default:</span>\n      <span class=\"hljs-attr\">execution:</span>\n        <span class=\"hljs-attr\">isolation:</span>\n          <span class=\"hljs-attr\">strategy:</span> <span class=\"hljs-string\">SEMAPHORE</span>\n          <span class=\"hljs-attr\">thread:</span>\n            <span class=\"hljs-attr\">timeoutInMilliseconds:</span> <span class=\"hljs-number\">2000</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"999,1029"}}],"payload":{"tag":"h2","lines":"994,996"}},{"content":"7.4&#x3001;&#x7f16;&#x5199;&#x964d;&#x7ea7;&#x65b9;&#x6cd5;","children":[{"content":"<pre data-lines=\"1033,1034\"><code>com.caochenlei.controller.DefaultHystrixController\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1033,1034"}},{"content":"<pre data-lines=\"1035,1049\"><code class=\"language-java\"><span class=\"hljs-meta\">@RestController</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">DefaultHystrixController</span> {\n    <span class=\"hljs-meta\">@RequestMapping(&quot;/defaultFallback&quot;)</span>\n    <span class=\"hljs-keyword\">public</span> Map&lt;String, String&gt; <span class=\"hljs-title function_\">defaultFallback</span><span class=\"hljs-params\">()</span> {\n        Map&lt;String, String&gt; map = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">HashMap</span>&lt;&gt;();\n        map.put(<span class=\"hljs-string\">&quot;code&quot;</span>, <span class=\"hljs-string\">&quot;500&quot;</span>);\n        map.put(<span class=\"hljs-string\">&quot;msg&quot;</span>, <span class=\"hljs-string\">&quot;&#x670d;&#x52a1;&#x964d;&#x7ea7;&quot;</span>);\n        map.put(<span class=\"hljs-string\">&quot;data&quot;</span>, <span class=\"hljs-string\">&quot;null&quot;</span>);\n        <span class=\"hljs-keyword\">return</span> map;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1035,1049"}}],"payload":{"tag":"h2","lines":"1030,1032"}},{"content":"7.5&#x3001;&#x7f51;&#x5173;&#x7194;&#x65ad;&#x6d4b;&#x8bd5;","children":[{"content":"<pre data-lines=\"1053,1062\"><code>&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x5e94;&#x7528;&#xff0c;&#x7136;&#x540e;&#x5feb;&#x901f;&#x5237;&#x65b0;&#x9519;&#x8bef;&#x7684;&#x5730;&#x5740;&#xff0c;&#x6211;&#x4eec;&#x8fd9;&#x91cc;&#x8fde;&#x5237;20&#x56de;&#xff08;&#x4e3a;&#x4e86;&#x66f4;&#x597d;&#x7684;&#x51fa;&#x6548;&#x679c;&#xff09;&#xff0c;&#x7136;&#x540e;&#x4f60;&#x518d;&#x5feb;&#x901f;&#x5237;&#x65b0;&#x6b63;&#x5e38;&#x7684;&#x5730;&#x5740;&#xff0c;&#x53d1;&#x73b0;&#x6b63;&#x5e38;&#x7684;&#x5730;&#x5740;&#x4e5f;&#x4e0d;&#x80fd;&#x8bbf;&#x95ee;&#xff0c;&#x6ca1;&#x6709;&#x5173;&#x7cfb;&#xff0c;&#x7ee7;&#x7eed;&#x5237;&#x65b0;&#xff0c;&#x6162;&#x6162;&#x7684;&#xff0c;&#x8be5;&#x670d;&#x52a1;&#x53c8;&#x6062;&#x590d;&#x4e86;&#x6b63;&#x5e38;&#xff0c;&#x8fd9;&#x5c31;&#x662f;&#x670d;&#x52a1;&#x7194;&#x65ad;&#xff0c;&#x5728;&#x8fd9;&#x91cc;&#xff0c;&#x6211;&#x4e0d;&#x597d;&#x622a;&#x56fe;&#xff0c;&#x53ea;&#x8d34;&#x51fa;&#x6b63;&#x5e38;&#x5730;&#x5740;&#x548c;&#x9519;&#x8bef;&#x5730;&#x5740;&#xff0c;&#x81ea;&#x5df1;&#x6d4b;&#x8bd5;&#x5427;&#x3002;\n\n&#x9519;&#x8bef;&#x5730;&#x5740;&#xff1a;http://localhost:5002/consumer/product/findByPid?pid=-1\n\n&#x6b63;&#x5e38;&#x5730;&#x5740;&#xff1a;http://localhost:5002/consumer/product/findByPid?pid=0\n\n&#x8d85;&#x65f6;&#x5730;&#x5740;&#xff1a;http://localhost:5002/consumer/product/findByPid?pid=1\n\n&#x6700;&#x7ec8;&#x8c03;&#x7528;&#x7684;&#x4e1a;&#x52a1;&#x6a21;&#x62df;&#x4e86;&#x5404;&#x79cd;&#x7684;&#x903b;&#x8f91;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1053,1062"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/b89fa8a0751662b2e5a4bc8dd67ed62d.png\" alt>","children":[],"payload":{"tag":"img","lines":"1063,1064"}}],"payload":{"tag":"h2","lines":"1050,1052"}},{"content":"7.6&#x3001;&#x7f51;&#x5173;&#x964d;&#x7ea7;&#x6d4b;&#x8bd5;","children":[{"content":"<pre data-lines=\"1068,1069\"><code>&#x6211;&#x4eec;&#x624b;&#x52a8;&#x628a;`service-consumer9002`&#x505c;&#x6b62;&#xff0c;&#x6a21;&#x62df;&#x76ee;&#x6807;&#x670d;&#x52a1;&#x5b95;&#x673a;&#xff0c;&#x7136;&#x540e;&#x8bbf;&#x95ee;&#x6b63;&#x5e38;&#x5730;&#x5740;&#xff0c;&#x89c2;&#x5bdf;&#x9875;&#x9762;&#xff1a;http://localhost:5002/consumer/product/findByPid?pid=0\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1068,1069"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f2aa6e11d2ef23cd062f09c0ee264b4c.png\" alt>","children":[],"payload":{"tag":"img","lines":"1070,1071"}},{"content":"<pre data-lines=\"1072,1073\"><code>&#x6d4b;&#x8bd5;&#x5b8c;&#x6210;&#x4ee5;&#x540e;&#xff0c;&#x4f60;&#x9700;&#x8981;&#x628a;`service-consumer9002`&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1072,1073"}}],"payload":{"tag":"h2","lines":"1065,1067"}},{"content":"8.1&#x3001;&#x7f51;&#x5173;&#x9650;&#x6d41;&#x542b;&#x4e49;","children":[{"content":"<pre data-lines=\"1077,1078\"><code>&#x7f51;&#x5173;&#x4e0a;&#x6709;&#x5927;&#x91cf;&#x8bf7;&#x6c42;&#xff0c;&#x5bf9;&#x6307;&#x5b9a;&#x670d;&#x52a1;&#x8fdb;&#x884c;&#x9650;&#x6d41;&#xff0c;&#x53ef;&#x4ee5;&#x5f88;&#x5927;&#x7a0b;&#x5ea6;&#x4e0a;&#x63d0;&#x9ad8;&#x670d;&#x52a1;&#x7684;&#x53ef;&#x7528;&#x6027;&#x4e0e;&#x7a33;&#x5b9a;&#x6027;&#xff0c;&#x9650;&#x6d41;&#x7684;&#x76ee;&#x7684;&#x662f;&#x901a;&#x8fc7;&#x5bf9;&#x5e76;&#x53d1;&#x8bbf;&#x95ee;/&#x8bf7;&#x6c42;&#x8fdb;&#x884c;&#x9650;&#x901f;&#xff0c;&#x6216;&#x5bf9;&#x4e00;&#x4e2a;&#x65f6;&#x95f4;&#x7a97;&#x53e3;&#x5185;&#x7684;&#x8bf7;&#x6c42;&#x8fdb;&#x884c;&#x9650;&#x901f;&#x6765;&#x4fdd;&#x62a4;&#x7cfb;&#x7edf;&#xff0c;&#x4e00;&#x65e6;&#x8fbe;&#x5230;&#x9650;&#x5236;&#x901f;&#x7387;&#x5219;&#x53ef;&#x4ee5;&#x62d2;&#x7edd;&#x670d;&#x52a1;&#x3001;&#x6392;&#x961f;&#x6216;&#x7b49;&#x5f85;&#x3001;&#x964d;&#x7ea7;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1077,1078"}}],"payload":{"tag":"h2","lines":"1074,1076"}},{"content":"8.2&#x3001;&#x7f51;&#x5173;&#x9650;&#x6d41;&#x7b97;&#x6cd5;","children":[{"content":"<pre data-lines=\"1082,1087\"><code>&#x4e00;&#x822c;&#x6765;&#x8bf4;&#xff0c;&#x5b9e;&#x73b0;&#x7f51;&#x5173;&#x9650;&#x6d41;&#x6709;&#x4e09;&#x79cd;&#x5e38;&#x89c1;&#x7684;&#x7b97;&#x6cd5;&#xff1a;\n\n&#x8ba1;&#x6570;&#x5668;&#x7b97;&#x6cd5;&#xff1a;\n\n&#x8ba1;&#x6570;&#x5668;&#x7b97;&#x6cd5;&#x662f;&#x9650;&#x6d41;&#x7b97;&#x6cd5;&#x91cc;&#x6700;&#x7b80;&#x5355;&#x4e5f;&#x662f;&#x6700;&#x5bb9;&#x6613;&#x5b9e;&#x73b0;&#x7684;&#x4e00;&#x79cd;&#x7b97;&#x6cd5;&#x3002;&#x6bd4;&#x5982;&#x6211;&#x4eec;&#x89c4;&#x5b9a;&#xff0c;&#x5bf9;&#x4e8e;A&#x63a5;&#x53e3;&#x6765;&#x8bf4;&#xff0c;&#x6211;&#x4eec;1&#x5206;&#x949f;&#x7684;&#x8bbf;&#x95ee;&#x6b21;&#x6570;&#x4e0d;&#x80fd;&#x8d85;&#x8fc7;100&#x4e2a;&#x3002;&#x90a3;&#x4e48;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x8fd9;&#x4e48;&#x505a;&#xff1a;&#x5728;&#x4e00;&#x5f00;&#x59cb;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x8bbe;&#x7f6e;&#x4e00;&#x4e2a;&#x8ba1;&#x6570;&#x5668; counter&#xff0c;&#x6bcf;&#x5f53;&#x4e00;&#x4e2a;&#x8bf7;&#x6c42;&#x8fc7;&#x6765;&#x7684;&#x65f6;&#x5019;&#xff0c;counter&#x5c31;&#x52a0;1&#xff0c;&#x5982;&#x679c;counter&#x7684;&#x503c;&#x5927;&#x4e8e;100&#x5e76;&#x4e14;&#x8be5;&#x8bf7;&#x6c42;&#x4e0e;&#x7b2c;&#x4e00;&#x4e2a;&#x8bf7;&#x6c42;&#x7684;&#x95f4;&#x9694;&#x65f6;&#x95f4;&#x8fd8;&#x5728; 1&#x5206;&#x949f;&#x4e4b;&#x5185;&#xff0c;&#x89e6;&#x53d1;&#x9650;&#x6d41;&#xff0c;&#x5982;&#x679c;&#x8be5;&#x8bf7;&#x6c42;&#x4e0e;&#x7b2c;&#x4e00;&#x4e2a;&#x8bf7;&#x6c42;&#x7684;&#x95f4;&#x9694;&#x65f6;&#x95f4;&#x5927;&#x4e8e;1&#x5206;&#x949f;&#xff0c;&#x91cd;&#x7f6e;counter&#x91cd;&#x65b0;&#x8ba1;&#x6570;&#xff0c;&#x5177;&#x4f53;&#x7b97;&#x6cd5;&#x7684;&#x793a;&#x610f;&#x56fe;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1082,1087"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/045ad1717321f2b72a91bb5582d22c67.png\" alt>","children":[],"payload":{"tag":"img","lines":"1088,1089"}},{"content":"<pre data-lines=\"1090,1091\"><code>&#x8fd9;&#x4e2a;&#x7b97;&#x6cd5;&#x867d;&#x7136;&#x7b80;&#x5355;&#xff0c;&#x4f46;&#x662f;&#x6709;&#x4e00;&#x4e2a;&#x5341;&#x5206;&#x81f4;&#x547d;&#x7684;&#x95ee;&#x9898;&#xff0c;&#x90a3;&#x5c31;&#x662f;&#x4e34;&#x754c;&#x95ee;&#x9898;&#xff0c;&#x6211;&#x4eec;&#x770b;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1090,1091"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/fa2529e3fa1c8c68e454214e3ee33eb1.png\" alt>","children":[],"payload":{"tag":"img","lines":"1092,1093"}},{"content":"<pre data-lines=\"1094,1099\"><code>&#x4ece;&#x4e0a;&#x56fe;&#x4e2d;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#xff0c;&#x5047;&#x8bbe;&#x6709;&#x4e00;&#x4e2a;&#x6076;&#x610f;&#x7528;&#x6237;&#xff0c;&#x4ed6;&#x5728;0:59&#x65f6;&#xff0c;&#x77ac;&#x95f4;&#x53d1;&#x9001;&#x4e86;100&#x4e2a;&#x8bf7;&#x6c42;&#xff0c;&#x5e76;&#x4e14;1:00&#x53c8;&#x77ac;&#x95f4;&#x53d1;&#x9001;&#x4e86;100&#x4e2a;&#x8bf7;&#x6c42;&#xff0c;&#x90a3;&#x4e48;&#x5176;&#x5b9e;&#x8fd9;&#x4e2a;&#x7528;&#x6237;&#x5728;1&#x79d2;&#x91cc;&#x9762;&#xff0c;&#x77ac;&#x95f4;&#x53d1;&#x9001;&#x4e86;200&#x4e2a;&#x8bf7;&#x6c42;&#x3002;&#x6211;&#x4eec;&#x521a;&#x624d;&#x89c4;&#x5b9a;&#x7684;&#x662f;1&#x5206;&#x949f;&#x6700;&#x591a;100&#x4e2a;&#x8bf7;&#x6c42;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x6bcf;&#x79d2;&#x949f;&#x6700;&#x591a;1.7&#x4e2a;&#x8bf7;&#x6c42;&#xff0c;&#x7528;&#x6237;&#x901a;&#x8fc7;&#x5728;&#x65f6;&#x95f4;&#x7a97;&#x53e3;&#x7684;&#x91cd;&#x7f6e;&#x8282;&#x70b9;&#x5904;&#x7a81;&#x53d1;&#x8bf7;&#x6c42;&#xff0c;&#x53ef;&#x4ee5;&#x77ac;&#x95f4;&#x8d85;&#x8fc7;&#x6211;&#x4eec;&#x7684;&#x901f;&#x7387;&#x9650;&#x5236;&#xff0c;&#x7528;&#x6237;&#x6709;&#x53ef;&#x80fd;&#x901a;&#x8fc7;&#x7b97;&#x6cd5;&#x7684;&#x8fd9;&#x4e2a;&#x6f0f;&#x6d1e;&#xff0c;&#x77ac;&#x95f4;&#x538b;&#x57ae;&#x6211;&#x4eec;&#x7684;&#x5e94;&#x7528;&#x3002;&#x9664;&#x4e86;&#x5b89;&#x5168;&#x95ee;&#x9898;&#x4ee5;&#x5916;&#xff0c;&#x8fd8;&#x5b58;&#x5728;&#x8d44;&#x6e90;&#x5206;&#x914d;&#x4e0d;&#x5747;&#x7684;&#x95ee;&#x9898;&#xff0c;&#x5982;&#x679c;&#x4f60;&#x524d;30&#x79d2;&#x949f;&#x5c31;&#x7528;&#x5b8c;&#x4e86;100&#x4e2a;&#x8bf7;&#x6c42;&#xff0c;&#x5c31;&#x4f1a;&#x5bfc;&#x81f4;&#x540e;30&#x79d2;&#x65e0;&#x6cd5;&#x8bf7;&#x6c42;&#x670d;&#x52a1;&#x7b49;&#x7b49;&#x95ee;&#x9898;&#x3002;\n\n&#x6876;&#x6f0f;&#x7b97;&#x6cd5;&#xff1a;\n\n&#x6f0f;&#x6876;&#x7b97;&#x6cd5;&#x5176;&#x5b9e;&#x4e5f;&#x5f88;&#x7b80;&#x5355;&#xff0c;&#x53ef;&#x4ee5;&#x7c97;&#x7565;&#x7684;&#x8ba4;&#x4e3a;&#x5c31;&#x662f;&#x6ce8;&#x6c34;&#x6f0f;&#x6c34;&#x7684;&#x8fc7;&#x7a0b;&#xff0c;&#x5f80;&#x6876;&#x4e2d;&#x4ee5;&#x4efb;&#x610f;&#x901f;&#x7387;&#x6d41;&#x5165;&#x6c34;&#xff0c;&#x4ee5;&#x4e00;&#x5b9a;&#x901f;&#x7387;&#x6d41;&#x51fa;&#x6c34;&#xff0c;&#x5f53;&#x6c34;&#x8d85;&#x8fc7;&#x6876;&#x6d41;&#x91cf;&#x5219;&#x4e22;&#x5f03;&#xff0c;&#x56e0;&#x4e3a;&#x6876;&#x5bb9;&#x91cf;&#x662f;&#x4e0d;&#x53d8;&#x7684;&#xff0c;&#x4fdd;&#x8bc1;&#x4e86;&#x6574;&#x4f53;&#x7684;&#x901f;&#x7387;&#xff0c;&#x5177;&#x4f53;&#x7b97;&#x6cd5;&#x7684;&#x793a;&#x610f;&#x56fe;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1094,1099"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/df038d1351739afe46fd07185ec76821.png\" alt>","children":[],"payload":{"tag":"img","lines":"1100,1101"}},{"content":"<pre data-lines=\"1102,1103\"><code>&#x6876;&#x6f0f;&#x7b97;&#x6cd5;&#x662f;&#x4f7f;&#x7528;&#x961f;&#x5217;&#x673a;&#x5236;&#x5b9e;&#x73b0;&#x7684;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1102,1103"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/1ec0173bbfe48296aeeb3e72f2f102d5.png\" alt>","children":[],"payload":{"tag":"img","lines":"1104,1105"}},{"content":"<pre data-lines=\"1106,1121\"><code>&#x8fd9;&#x79cd;&#x7b97;&#x6cd5;&#x4e5f;&#x6709;&#x95ee;&#x9898;&#xff0c;&#x5f53;&#x5927;&#x91cf;&#x7684;&#x8bf7;&#x6c42;&#x5806;&#x79ef;&#x5230;&#x7f51;&#x5173;&#x8fd9;&#x91cc;&#xff0c;&#x5f88;&#x6709;&#x53ef;&#x80fd;&#x5bfc;&#x81f4;&#x7f51;&#x5173;&#x670d;&#x52a1;&#x4e0d;&#x53ef;&#x7528;&#xff0c;&#x5e76;&#x4e14;&#x540e;&#x7eed;&#x7684;&#x8bf7;&#x6c42;&#x4e5f;&#x65e0;&#x6cd5;&#x8fdb;&#x5165;&#x5230;&#x961f;&#x5217;&#x6876;&#x4e2d;&#xff0c;&#x5bfc;&#x81f4;&#x8bf7;&#x6c42;&#x7684;&#x4e22;&#x5931;&#x3002;\n\n&#x4ee4;&#x724c;&#x6876;&#x7b97;&#x6cd5;&#xff1a;\n\n&#x4ee4;&#x724c;&#x6876;&#x7b97;&#x6cd5;&#x662f;&#x5bf9;&#x6f0f;&#x6876;&#x7b97;&#x6cd5;&#x7684;&#x4e00;&#x79cd;&#x6539;&#x8fdb;&#xff0c;&#x6f0f;&#x6876;&#x7b97;&#x6cd5;&#x80fd;&#x591f;&#x9650;&#x5236;&#x8bf7;&#x6c42;&#x8c03;&#x7528;&#x7684;&#x901f;&#x7387;&#xff0c;&#x800c;&#x4ee4;&#x724c;&#x6876;&#x7b97;&#x6cd5;&#x80fd;&#x591f;&#x5728;&#x9650;&#x5236;&#x8c03;&#x7528;&#x7684;&#x5e73;&#x5747;&#x901f;&#x7387;&#x7684;&#x540c;&#x65f6;&#x8fd8;&#x5141;&#x8bb8;&#x4e00;&#x5b9a;&#x7a0b;&#x5ea6;&#x7684;&#x7a81;&#x53d1;&#x8c03;&#x7528;&#x3002;&#x5728;&#x4ee4;&#x724c;&#x6876;&#x7b97;&#x6cd5;&#x4e2d;&#xff0c;&#x5b58;&#x5728;&#x4e00;&#x4e2a;&#x6876;&#xff0c;&#x7528;&#x6765;&#x5b58;&#x653e;&#x56fa;&#x5b9a;&#x6570;&#x91cf;&#x7684;&#x4ee4;&#x724c;&#x3002;&#x7b97;&#x6cd5;&#x4e2d;&#x5b58;&#x5728;&#x4e00;&#x79cd;&#x673a;&#x5236;&#xff0c;&#x4ee5;&#x4e00;&#x5b9a;&#x7684;&#x901f;&#x7387;&#x5f80;&#x6876;&#x4e2d;&#x653e;&#x4ee4;&#x724c;&#x3002;&#x6bcf;&#x6b21;&#x8bf7;&#x6c42;&#x8c03;&#x7528;&#x9700;&#x8981;&#x5148;&#x83b7;&#x53d6;&#x4ee4;&#x724c;&#xff0c;&#x53ea;&#x6709;&#x62ff;&#x5230;&#x4ee4;&#x724c;&#xff0c;&#x624d;&#x6709;&#x673a;&#x4f1a;&#x7ee7;&#x7eed;&#x6267;&#x884c;&#xff0c;&#x5426;&#x5219;&#x9009;&#x62e9;&#x9009;&#x62e9;&#x7b49;&#x5f85;&#x53ef;&#x7528;&#x7684;&#x4ee4;&#x724c;&#x3001;&#x6216;&#x8005;&#x76f4;&#x63a5;&#x62d2;&#x7edd;&#x3002;&#x653e;&#x4ee4;&#x724c;&#x8fd9;&#x4e2a;&#x52a8;&#x4f5c;&#x662f;&#x6301;&#x7eed;&#x4e0d;&#x65ad;&#x7684;&#x8fdb;&#x884c;&#xff0c;&#x5982;&#x679c;&#x6876;&#x4e2d;&#x4ee4;&#x724c;&#x6570;&#x8fbe;&#x5230;&#x4e0a;&#x9650;&#xff0c;&#x5c31;&#x4e22;&#x5f03;&#x4ee4;&#x724c;&#x3002;\n\n&#x4ed6;&#x8fd0;&#x7528;&#x7684;&#x573a;&#x666f;&#x5927;&#x6982;&#x662f;&#x8fd9;&#x6837;&#x7684;&#xff1a;&#x6876;&#x4e2d;&#x4e00;&#x76f4;&#x6709;&#x5927;&#x91cf;&#x7684;&#x53ef;&#x7528;&#x4ee4;&#x724c;&#xff0c;&#x8fd9;&#x65f6;&#x8fdb;&#x6765;&#x7684;&#x8bf7;&#x6c42;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x62ff;&#x5230;&#x4ee4;&#x724c;&#x6267;&#x884c;&#xff0c;&#x6bd4;&#x5982;&#x8bbe;&#x7f6e;QPS&#x4e3a;100/s&#xff0c;&#x90a3;&#x4e48;&#x9650;&#x6d41;&#x5668;&#x521d;&#x59cb;&#x5316;&#x5b8c;&#x6210;&#x4e00;&#x79d2;&#x540e;&#xff0c;&#x6876;&#x4e2d;&#x5c31;&#x5df2;&#x7ecf;&#x6709;100&#x4e2a;&#x4ee4;&#x724c;&#x4e86;&#xff0c;&#x7b49;&#x670d;&#x52a1;&#x542f;&#x52a8;&#x5b8c;&#x6210;&#x5bf9;&#x5916;&#x63d0;&#x4f9b;&#x670d;&#x52a1;&#x65f6;&#xff0c;&#x8be5;&#x9650;&#x6d41;&#x5668;&#x53ef;&#x4ee5;&#x62b5;&#x6321;&#x77ac;&#x65f6;&#x7684;100&#x4e2a;&#x8bf7;&#x6c42;&#x3002;&#x5f53;&#x6876;&#x4e2d;&#x6ca1;&#x6709;&#x4ee4;&#x724c;&#x65f6;&#xff0c;&#x8bf7;&#x6c42;&#x4f1a;&#x8fdb;&#x884c;&#x7b49;&#x5f85;&#xff0c;&#x6700;&#x540e;&#x76f8;&#x5f53;&#x4e8e;&#x4ee5;&#x4e00;&#x5b9a;&#x7684;&#x901f;&#x7387;&#x6267;&#x884c;&#x3002;\n\nSpring Cloud Gateway&#x5185;&#x90e8;&#x4f7f;&#x7528;&#x7684;&#x5c31;&#x662f;&#x8be5;&#x7b97;&#x6cd5;&#xff0c;&#x5927;&#x6982;&#x63cf;&#x8ff0;&#x5982;&#x4e0b;&#xff1a;\n\n*   &#x6240;&#x6709;&#x7684;&#x8bf7;&#x6c42;&#x5728;&#x5904;&#x7406;&#x4e4b;&#x524d;&#x90fd;&#x9700;&#x8981;&#x62ff;&#x5230;&#x4e00;&#x4e2a;&#x53ef;&#x7528;&#x7684;&#x4ee4;&#x724c;&#x624d;&#x4f1a;&#x88ab;&#x5904;&#x7406;&#x3002;\n*   &#x6839;&#x636e;&#x9650;&#x6d41;&#x5927;&#x5c0f;&#xff0c;&#x8bbe;&#x7f6e;&#x6309;&#x7167;&#x4e00;&#x5b9a;&#x7684;&#x901f;&#x7387;&#x5f80;&#x6876;&#x91cc;&#x6dfb;&#x52a0;&#x4ee4;&#x724c;&#x3002;\n*   &#x6876;&#x8bbe;&#x7f6e;&#x6700;&#x5927;&#x7684;&#x653e;&#x7f6e;&#x4ee4;&#x724c;&#x9650;&#x5236;&#xff0c;&#x5f53;&#x6876;&#x6ee1;&#x65f6;&#x3001;&#x65b0;&#x6dfb;&#x52a0;&#x7684;&#x4ee4;&#x724c;&#x5c31;&#x88ab;&#x4e22;&#x5f03;&#x6216;&#x8005;&#x62d2;&#x7edd;&#x3002;\n*   &#x8bf7;&#x6c42;&#x5230;&#x8fbe;&#x540e;&#x9996;&#x5148;&#x8981;&#x83b7;&#x53d6;&#x4ee4;&#x724c;&#x6876;&#x4e2d;&#x7684;&#x4ee4;&#x724c;&#xff0c;&#x62ff;&#x7740;&#x4ee4;&#x724c;&#x624d;&#x53ef;&#x4ee5;&#x8fdb;&#x884c;&#x5176;&#x4ed6;&#x7684;&#x4e1a;&#x52a1;&#x903b;&#x8f91;&#xff0c;&#x5904;&#x7406;&#x5b8c;&#x4e1a;&#x52a1;&#x903b;&#x8f91;&#x4e4b;&#x540e;&#xff0c;&#x5c06;&#x4ee4;&#x724c;&#x76f4;&#x63a5;&#x5220;&#x9664;&#x3002;\n*   &#x4ee4;&#x724c;&#x6876;&#x6709;&#x6700;&#x4f4e;&#x9650;&#x989d;&#xff0c;&#x5f53;&#x6876;&#x4e2d;&#x7684;&#x4ee4;&#x724c;&#x8fbe;&#x5230;&#x6700;&#x4f4e;&#x9650;&#x989d;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x8bf7;&#x6c42;&#x5904;&#x7406;&#x5b8c;&#x4e4b;&#x540e;&#x5c06;&#x4e0d;&#x4f1a;&#x5220;&#x9664;&#x4ee4;&#x724c;&#xff0c;&#x4ee5;&#x6b64;&#x4fdd;&#x8bc1;&#x8db3;&#x591f;&#x7684;&#x9650;&#x6d41;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1106,1121"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/ba99a8b6e470b5ab320f24435f6d6168.png\" alt>","children":[],"payload":{"tag":"img","lines":"1122,1123"}}],"payload":{"tag":"h2","lines":"1079,1081"}},{"content":"8.3&#x3001;&#x6dfb;&#x52a0;&#x4f9d;&#x8d56;&#x6587;&#x4ef6;","children":[{"content":"<pre data-lines=\"1127,1128\"><code>pom.xml\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1127,1128"}},{"content":"<pre data-lines=\"1129,1140\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-data-redis-reactive<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.apache.commons<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>commons-pool2<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1129,1140"}}],"payload":{"tag":"h2","lines":"1124,1126"}},{"content":"8.4&#x3001;&#x7f16;&#x5199;&#x914d;&#x7f6e;&#x6587;&#x4ef6;","children":[{"content":"<pre data-lines=\"1144,1145\"><code>application.yaml\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1144,1145"}},{"content":"<pre data-lines=\"1146,1183\"><code class=\"language-yaml\">\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">gateway-cloud5002</span>\n  <span class=\"hljs-attr\">redis:</span>\n    <span class=\"hljs-attr\">host:</span> <span class=\"hljs-string\">localhost</span>\n    <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">6379</span>\n    <span class=\"hljs-attr\">database:</span> <span class=\"hljs-number\">0</span>\n    <span class=\"hljs-attr\">lettuce:</span>\n      <span class=\"hljs-attr\">pool:</span>\n        <span class=\"hljs-attr\">max-active:</span> <span class=\"hljs-number\">1024</span>  \n        <span class=\"hljs-attr\">max-wait:</span> <span class=\"hljs-number\">10000</span>   \n        <span class=\"hljs-attr\">max-idle:</span> <span class=\"hljs-number\">256</span>     \n        <span class=\"hljs-attr\">min-idle:</span> <span class=\"hljs-number\">8</span>       \n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      \n      <span class=\"hljs-attr\">routes:</span>\n        <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">study-predicates-route</span>\n          <span class=\"hljs-attr\">uri:</span> <span class=\"hljs-string\">lb://SERVICE-CONSUMER9002</span>\n          <span class=\"hljs-attr\">predicates:</span>\n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">Path=/consumer/product/**</span>\n          <span class=\"hljs-attr\">filters:</span>\n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Hystrix</span>\n              <span class=\"hljs-attr\">args:</span>\n                <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">default</span>\n                <span class=\"hljs-attr\">fallbackUri:</span> <span class=\"hljs-string\">&apos;forward:/defaultFallback&apos;</span> \n            \n            <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">RequestRateLimiter</span>\n              <span class=\"hljs-attr\">args:</span>\n                <span class=\"hljs-attr\">key-resolver:</span> <span class=\"hljs-string\">&apos;\n                redis-rate-limiter.replenishRate: 1 \n                redis-rate-limiter.burstCapacity: 2 \n\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"1146,1183"}},{"content":"<pre data-lines=\"1184,1185\"><code>com.caochenlei.config.GatewayConfig\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1184,1185"}},{"content":"<pre data-lines=\"1186,1212\"><code class=\"language-java\"><span class=\"hljs-meta\">@Configuration</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">GatewayConfig</span> {\n    ...\n    ...\n\n    \n    \n    <span class=\"hljs-keyword\">public</span> KeyResolver <span class=\"hljs-title function_\">ipKeyResolver</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> exchange -&gt; Mono.just(exchange.getRequest().getRemoteAddress().getHostName());\n    }\n\n    \n    \n    KeyResolver <span class=\"hljs-title function_\">userKeyResolver</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> exchange -&gt; Mono.just(exchange.getRequest().getQueryParams().getFirst(<span class=\"hljs-string\">&quot;userId&quot;</span>));\n    }\n\n    \n    <span class=\"hljs-meta\">@Bean</span>\n    KeyResolver <span class=\"hljs-title function_\">pathKeyResolver</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> exchange -&gt; Mono.just(exchange.getRequest().getPath().value());\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1186,1212"}}],"payload":{"tag":"h2","lines":"1141,1143"}},{"content":"8.5&#x3001;&#x542f;&#x52a8;redis&#x5e94;&#x7528;","children":[{"content":"<pre data-lines=\"1216,1217\"><code>Windows&#x7248;&#x672c;&#x7684;Redis&#x8bf7;&#x5728;&#x6b64;&#x5730;&#x5740;&#x4e0b;&#x8f7d;&#xff1a;https://github.com/MicrosoftArchive/redis/releases&#xff0c;&#x5982;&#x679c;&#x4e0b;&#x8f7d;&#x5931;&#x8d25;&#xff0c;&#x8bf7;&#x5230;&#x914d;&#x5957;&#x8d44;&#x6599;&#x4e2d;&#x5bfb;&#x627e;&#x8be5;&#x8f6f;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1216,1217"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/c4f097e200f6e86d397e353746c36289.png\" alt>","children":[],"payload":{"tag":"img","lines":"1218,1219"}},{"content":"<pre data-lines=\"1220,1221\"><code>&#x4e0b;&#x8f7d;&#x5b8c;&#x6210;&#x4ee5;&#x540e;&#xff0c;&#x8bf7;&#x4f60;&#x89e3;&#x538b;&#x5230;&#x4e00;&#x4e2a;&#x4e0d;&#x5305;&#x542b;&#x4e2d;&#x6587;&#x4ee5;&#x53ca;&#x7a7a;&#x683c;&#x7684;&#x76ee;&#x5f55;&#x5f53;&#x4e2d;&#xff0c;&#x7136;&#x540e;&#x5728;&#x6b64;&#x8def;&#x5f84;&#x4e0b;&#x4f7f;&#x7528;`cmd`&#x547d;&#x4ee4;&#x884c;&#x7684;&#x65b9;&#x5f0f;&#x542f;&#x52a8;Redis&#x5e94;&#x7528;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1220,1221"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a873b204b6809160913ab633df0306f6.png\" alt>","children":[],"payload":{"tag":"img","lines":"1222,1223"}}],"payload":{"tag":"h2","lines":"1213,1215"}},{"content":"8.6&#x3001;&#x7f51;&#x5173;&#x9650;&#x6d41;&#x6d4b;&#x8bd5;","children":[{"content":"<pre data-lines=\"1227,1230\"><code>&#x8bf7;&#x91cd;&#x65b0;&#x542f;&#x52a8;&#x5f53;&#x524d;&#x5e94;&#x7528;&#xff0c;&#x7136;&#x540e;&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x7684;&#x5730;&#x5740;&#x4e2d;&#x5feb;&#x901f;&#x5237;&#x65b0;4&#x6b21;&#xff08;&#x6876;&#x5185;&#x5bb9;&#x91cf;2&#x4e2a;&#xff0c;&#x6bcf;&#x79d2;&#x751f;&#x6210;1&#x4e2a;&#xff0c;&#x5237;&#x65b0;4&#x6b21;&#x4fdd;&#x9669;&#xff0c;&#x6709;&#x53ef;&#x80fd;&#x5728;&#x7b2c;3&#x6b21;&#x7684;&#x65f6;&#x5019;&#x5c31;&#x5df2;&#x7ecf;&#x9650;&#x6d41;&#x4e86;&#xff09;&#x3002;\n\n&#x6b63;&#x5e38;&#x4e1a;&#x52a1;&#x5730;&#x5740;&#xff1a;http://localhost:5002/consumer/product/findByPid?pid=0\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1227,1230"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f7fb23f32c37b9e84de7bddf8697ff11.png\" alt>","children":[],"payload":{"tag":"img","lines":"1231,1232"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/dfe3c1ea7044b7e1d52dc357fc69b00b.png\" alt>","children":[],"payload":{"tag":"img","lines":"1233,1234"}},{"content":"<pre data-lines=\"1235,1236\"><code>&#x60a8;&#x53ef;&#x4ee5;&#x914d;&#x7f6e;&#x7f51;&#x5173;&#x4ee5;&#x63a7;&#x5236;CORS&#x884c;&#x4e3a;&#x3002;&#x201c;&#x5168;&#x5c40;&#x201d; CORS&#x914d;&#x7f6e;&#x662f;URL&#x6a21;&#x5f0f;&#x5230;[Spring Framework `CorsConfiguration`](https://docs.spring.io/spring/docs/5.0.x/javadoc-api/org/springframework/web/cors/CorsConfiguration.html)&#x7684;&#x6620;&#x5c04;&#x3002;&#x4ee5;&#x4e0b;&#x793a;&#x4f8b;&#x914d;&#x7f6e;&#x4e86;CORS&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1235,1236"}},{"content":"<pre data-lines=\"1237,1261\"><code class=\"language-yaml\"><span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">gateway:</span>\n      <span class=\"hljs-attr\">globalcors:</span>\n        <span class=\"hljs-attr\">cors-configurations:</span>\n          <span class=\"hljs-string\">&apos;[/**]&apos;</span><span class=\"hljs-string\">:</span>\n            \n            \n            \n            \n            \n            <span class=\"hljs-attr\">allow-credentials:</span> <span class=\"hljs-literal\">true</span>\n            <span class=\"hljs-attr\">allowed-origins:</span>\n              <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">&quot;http://localhost:9002&quot;</span>\n              <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">&quot;http://localhost:9003&quot;</span>\n            <span class=\"hljs-attr\">allowed-headers:</span> <span class=\"hljs-string\">&quot;*&quot;</span>\n            <span class=\"hljs-attr\">allowed-methods:</span>\n              <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">OPTIONS</span>\n              <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">GET</span>\n              <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">POST</span>\n            <span class=\"hljs-attr\">max-age:</span> <span class=\"hljs-number\">3600</span>\n            \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1237,1261"}},{"content":"<pre data-lines=\"1262,1273\"><code>&#x5173;&#x4e8e;&#x7f51;&#x5173;&#x8bbf;&#x95ee;&#x65f6;&#x5fc5;&#x987b;&#x8981;&#x7edf;&#x4e00;&#x9a8c;&#x8bc1;&#x8bf7;&#x6c42;&#x662f;&#x5426;&#x6709;&#x6548;&#x65f6;&#xff0c;&#x6709;&#x5f88;&#x591a;&#x79cd;&#x529e;&#x6cd5;&#xff0c;&#x6211;&#x8fd9;&#x91cc;&#x7ed9;&#x51fa;Spring Boot+Spring Security+JWT&#x5b9e;&#x73b0;&#x5355;&#x70b9;&#x767b;&#x5f55;&#x7684;&#x89e3;&#x51b3;&#x601d;&#x8def;&#x6765;&#x5b9e;&#x73b0;&#x7f51;&#x5173;&#x7edf;&#x4e00;&#x9a8c;&#x8bc1;&#x3002;\n\n&#x5b66;&#x4e60;&#x5730;&#x5740;&#xff1a;https://caochenlei.blog.csdn.net/article/details/112973713\n\n&#x5b9e;&#x73b0;&#x601d;&#x8def;&#xff1a;\n\n1.  &#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x7f51;&#x5173;&#x8ba4;&#x8bc1;&#x7684;&#x670d;&#x52a1;&#xff0c;&#x6765;&#x7edf;&#x4e00;&#x8fdb;&#x884c;&#x767b;&#x5f55;&#x8ba4;&#x8bc1;&#xff0c;&#x8ba4;&#x8bc1;&#x6210;&#x529f;&#x7ed9;&#x7528;&#x6237;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;token&#x503c;&#x3002;\n2.  &#x5728;&#x6bcf;&#x4e00;&#x4e2a;&#x7f51;&#x5173;&#x4e2d;&#xff0c;&#x90fd;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x5168;&#x5c40;&#x8fc7;&#x6ee4;&#x5668;&#xff0c;&#x8fd9;&#x4e2a;&#x8fc7;&#x6ee4;&#x5668;&#x7684;&#x4f5c;&#x7528;&#x5c31;&#x662f;&#x83b7;&#x53d6;&#x7528;&#x6237;&#x8bf7;&#x6c42;&#x65f6;&#x6240;&#x5e26;&#x6765;&#x7684;`token`&#x503c;&#xff0c;&#x7136;&#x540e;&#x5bf9;`token`&#x7684;&#x6709;&#x6548;&#x6027;&#x8fdb;&#x884c;&#x9a8c;&#x8bc1;&#x3002;\n3.  &#x9a8c;&#x8bc1;&#x6210;&#x529f;&#x5c31;&#x7ee7;&#x7eed;&#x6267;&#x884c;&#x8fc7;&#x6ee4;&#x5668;&#x94fe;&#xff0c;&#x9a8c;&#x8bc1;&#x5931;&#x8d25;&#x5c31;&#x76f4;&#x63a5;&#x7ed9;&#x7528;&#x6237;&#x54cd;&#x5e94;&#x4e00;&#x4e2a;`json`&#x4e32;&#x6570;&#x636e;&#xff0c;&#x544a;&#x8bc9;&#x7528;&#x6237;&#x8ba4;&#x8bc1;&#x5931;&#x8d25;&#x3002;\n\n&gt; &#x6ce8;&#x610f;&#xff1a;&#x8fd9;&#x79cd;&#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x5e94;&#x7528;&#x5230;&#x7f51;&#x5173;&#x96c6;&#x7fa4;&#x6a21;&#x5f0f;&#xff0c;&#x56e0;&#x4e3a;&#x6bcf;&#x4e00;&#x4e2a;&#x7f51;&#x5173;&#x53ea;&#x8d1f;&#x8d23;&#x6821;&#x9a8c;`token`&#xff0c;&#x5e76;&#x4e0d;&#x505a;&#x8ba4;&#x8bc1;&#x5904;&#x7406;&#xff0c;&#x8ba4;&#x8bc1;&#x90fd;&#x7edf;&#x4e00;&#x5728;&#x7f51;&#x5173;&#x8ba4;&#x8bc1;&#x670d;&#x52a1;&#x4e2d;&#x6765;&#x5b8c;&#x6210;&#xff0c;&#x7f51;&#x5173;&#x96c6;&#x7fa4;&#x7684;&#x642d;&#x5efa;&#x6ca1;&#x5565;&#x7279;&#x522b;&#x7684;&#xff0c;&#x6700;&#x540e;&#x518d;&#x4e0a;&#x7ebf;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x5728;&#x4f7f;&#x7528;`nginx`&#x5728;&#x5bf9;&#x7f51;&#x5173;&#x8fdb;&#x884c;&#x4e00;&#x5c42;&#x8d1f;&#x8f7d;&#x5747;&#x8861;&#x5904;&#x7406;&#xff0c;&#x8fd9;&#x6837;&#xff0c;&#x4e00;&#x4e2a;&#x9ad8;&#x53ef;&#x7528;&#x7684;&#x7f51;&#x5173;&#x96c6;&#x7fa4;&#x5c31;&#x642d;&#x5efa;&#x597d;&#x4e86;&#x3002;&#x5728;&#x8fd9;&#x91cc;&#xff0c;&#x6211;&#x5c31;&#x4e0d;&#x8be6;&#x7ec6;&#x8d34;&#x51fa;&#x4ee3;&#x7801;&#x4e86;&#xff0c;&#x4e0a;&#x8fb9;&#x63d0;&#x4f9b;&#x7684;&#x90a3;&#x4e00;&#x7247;&#x6587;&#x7ae0;&#x5199;&#x7684;&#x5f88;&#x8be6;&#x7ec6;&#xff0c;&#x5982;&#x679c;&#x4f60;&#x662f;&#x771f;&#x7684;&#x6709;&#x9700;&#x8981;&#xff0c;&#x53ef;&#x4ee5;&#x7559;&#x8a00;&#xff0c;&#x540e;&#x7eed;&#x6211;&#x5728;&#x66f4;&#x65b0;&#x6b64;&#x7ae0;&#x8282;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1262,1273"}}],"payload":{"tag":"h2","lines":"1224,1226"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
