<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"axios&#x5c01;&#x88c5;&#x7b2c;&#x4e8c;&#x7248;","children":[{"content":"<pre data-lines=\"2,151\"><code class=\"language-js\"><span class=\"hljs-keyword\">import</span> axios <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;axios&apos;</span>\n<span class=\"hljs-keyword\">import</span> { <span class=\"hljs-title class_\">ElNotification</span> , <span class=\"hljs-title class_\">ElMessageBox</span>, <span class=\"hljs-title class_\">ElMessage</span>, <span class=\"hljs-title class_\">ElLoading</span> } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;element-plus&apos;</span>\n<span class=\"hljs-keyword\">import</span> { getToken } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;@/utils/auth&apos;</span>\n<span class=\"hljs-keyword\">import</span> errorCode <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;@/utils/errorCode&apos;</span>\n<span class=\"hljs-keyword\">import</span> { tansParams, blobValidate } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;@/utils/ruoyi&apos;</span>\n<span class=\"hljs-keyword\">import</span> cache <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;@/plugins/cache&apos;</span>\n<span class=\"hljs-keyword\">import</span> { saveAs } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;file-saver&apos;</span>\n<span class=\"hljs-keyword\">import</span> useUserStore <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;@/store/modules/user&apos;</span>\n\n<span class=\"hljs-keyword\">let</span> downloadLoadingInstance;\n<span class=\"hljs-comment\">// &#x662f;&#x5426;&#x663e;&#x793a;&#x91cd;&#x65b0;&#x767b;&#x5f55;</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">let</span> isRelogin = { <span class=\"hljs-attr\">show</span>: <span class=\"hljs-literal\">false</span> };\n\naxios.<span class=\"hljs-property\">defaults</span>.<span class=\"hljs-property\">headers</span>[<span class=\"hljs-string\">&apos;Content-Type&apos;</span>] = <span class=\"hljs-string\">&apos;application/json;charset=utf-8&apos;</span>\n<span class=\"hljs-comment\">// &#x521b;&#x5efa;axios&#x5b9e;&#x4f8b;</span>\n<span class=\"hljs-keyword\">const</span> service = axios.<span class=\"hljs-title function_\">create</span>({\n  <span class=\"hljs-comment\">// axios&#x4e2d;&#x8bf7;&#x6c42;&#x914d;&#x7f6e;&#x6709;baseURL&#x9009;&#x9879;&#xff0c;&#x8868;&#x793a;&#x8bf7;&#x6c42;URL&#x516c;&#x5171;&#x90e8;&#x5206;</span>\n  <span class=\"hljs-attr\">baseURL</span>: <span class=\"hljs-keyword\">import</span>.<span class=\"hljs-property\">meta</span>.<span class=\"hljs-property\">env</span>.<span class=\"hljs-property\">VITE_APP_BASE_API</span>,\n  <span class=\"hljs-comment\">// &#x8d85;&#x65f6;</span>\n  <span class=\"hljs-attr\">timeout</span>: <span class=\"hljs-number\">10000</span>\n})\n\n<span class=\"hljs-comment\">// request&#x62e6;&#x622a;&#x5668;</span>\nservice.<span class=\"hljs-property\">interceptors</span>.<span class=\"hljs-property\">request</span>.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">config</span> =&gt;</span> {\n  <span class=\"hljs-comment\">// &#x662f;&#x5426;&#x9700;&#x8981;&#x8bbe;&#x7f6e; token</span>\n  <span class=\"hljs-keyword\">const</span> isToken = (config.<span class=\"hljs-property\">headers</span> || {}).<span class=\"hljs-property\">isToken</span> === <span class=\"hljs-literal\">false</span>\n  <span class=\"hljs-comment\">// &#x662f;&#x5426;&#x9700;&#x8981;&#x9632;&#x6b62;&#x6570;&#x636e;&#x91cd;&#x590d;&#x63d0;&#x4ea4;</span>\n  <span class=\"hljs-keyword\">const</span> isRepeatSubmit = (config.<span class=\"hljs-property\">headers</span> || {}).<span class=\"hljs-property\">repeatSubmit</span> === <span class=\"hljs-literal\">false</span>\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">getToken</span>() &amp;&amp; !isToken) {\n    config.<span class=\"hljs-property\">headers</span>[<span class=\"hljs-string\">&apos;Authorization&apos;</span>] = <span class=\"hljs-string\">&apos;Bearer &apos;</span> + <span class=\"hljs-title function_\">getToken</span>() <span class=\"hljs-comment\">// &#x8ba9;&#x6bcf;&#x4e2a;&#x8bf7;&#x6c42;&#x643a;&#x5e26;&#x81ea;&#x5b9a;&#x4e49;token &#x8bf7;&#x6839;&#x636e;&#x5b9e;&#x9645;&#x60c5;&#x51b5;&#x81ea;&#x884c;&#x4fee;&#x6539;</span>\n  }\n  <span class=\"hljs-comment\">// get&#x8bf7;&#x6c42;&#x6620;&#x5c04;params&#x53c2;&#x6570;</span>\n  <span class=\"hljs-keyword\">if</span> (config.<span class=\"hljs-property\">method</span> === <span class=\"hljs-string\">&apos;get&apos;</span> &amp;&amp; config.<span class=\"hljs-property\">params</span>) {\n    <span class=\"hljs-keyword\">let</span> url = config.<span class=\"hljs-property\">url</span> + <span class=\"hljs-string\">&apos;?&apos;</span> + <span class=\"hljs-title function_\">tansParams</span>(config.<span class=\"hljs-property\">params</span>);\n    url = url.<span class=\"hljs-title function_\">slice</span>(<span class=\"hljs-number\">0</span>, -<span class=\"hljs-number\">1</span>);\n    config.<span class=\"hljs-property\">params</span> = {};\n    config.<span class=\"hljs-property\">url</span> = url;\n  }\n  <span class=\"hljs-keyword\">if</span> (!isRepeatSubmit &amp;&amp; (config.<span class=\"hljs-property\">method</span> === <span class=\"hljs-string\">&apos;post&apos;</span> || config.<span class=\"hljs-property\">method</span> === <span class=\"hljs-string\">&apos;put&apos;</span>)) {\n    <span class=\"hljs-keyword\">const</span> requestObj = {\n      <span class=\"hljs-attr\">url</span>: config.<span class=\"hljs-property\">url</span>,\n      <span class=\"hljs-attr\">data</span>: <span class=\"hljs-keyword\">typeof</span> config.<span class=\"hljs-property\">data</span> === <span class=\"hljs-string\">&apos;object&apos;</span> ? <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>(config.<span class=\"hljs-property\">data</span>) : config.<span class=\"hljs-property\">data</span>,\n      <span class=\"hljs-attr\">time</span>: <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Date</span>().<span class=\"hljs-title function_\">getTime</span>()\n    }\n    <span class=\"hljs-keyword\">const</span> sessionObj = cache.<span class=\"hljs-property\">session</span>.<span class=\"hljs-title function_\">getJSON</span>(<span class=\"hljs-string\">&apos;sessionObj&apos;</span>)\n    <span class=\"hljs-keyword\">if</span> (sessionObj === <span class=\"hljs-literal\">undefined</span> || sessionObj === <span class=\"hljs-literal\">null</span> || sessionObj === <span class=\"hljs-string\">&apos;&apos;</span>) {\n      cache.<span class=\"hljs-property\">session</span>.<span class=\"hljs-title function_\">setJSON</span>(<span class=\"hljs-string\">&apos;sessionObj&apos;</span>, requestObj)\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-keyword\">const</span> s_url = sessionObj.<span class=\"hljs-property\">url</span>;                <span class=\"hljs-comment\">// &#x8bf7;&#x6c42;&#x5730;&#x5740;</span>\n      <span class=\"hljs-keyword\">const</span> s_data = sessionObj.<span class=\"hljs-property\">data</span>;              <span class=\"hljs-comment\">// &#x8bf7;&#x6c42;&#x6570;&#x636e;</span>\n      <span class=\"hljs-keyword\">const</span> s_time = sessionObj.<span class=\"hljs-property\">time</span>;              <span class=\"hljs-comment\">// &#x8bf7;&#x6c42;&#x65f6;&#x95f4;</span>\n      <span class=\"hljs-keyword\">const</span> interval = <span class=\"hljs-number\">1000</span>;                       <span class=\"hljs-comment\">// &#x95f4;&#x9694;&#x65f6;&#x95f4;(ms)&#xff0c;&#x5c0f;&#x4e8e;&#x6b64;&#x65f6;&#x95f4;&#x89c6;&#x4e3a;&#x91cd;&#x590d;&#x63d0;&#x4ea4;</span>\n      <span class=\"hljs-keyword\">if</span> (s_data === requestObj.<span class=\"hljs-property\">data</span> &amp;&amp; requestObj.<span class=\"hljs-property\">time</span> - s_time &lt; interval &amp;&amp; s_url === requestObj.<span class=\"hljs-property\">url</span>) {\n        <span class=\"hljs-keyword\">const</span> message = <span class=\"hljs-string\">&apos;&#x6570;&#x636e;&#x6b63;&#x5728;&#x5904;&#x7406;&#xff0c;&#x8bf7;&#x52ff;&#x91cd;&#x590d;&#x63d0;&#x4ea4;&apos;</span>;\n        <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">warn</span>(<span class=\"hljs-string\">`[<span class=\"hljs-subst\">&#x24;{s_url}</span>]: `</span> + message)\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Promise</span>.<span class=\"hljs-title function_\">reject</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(message))\n      } <span class=\"hljs-keyword\">else</span> {\n        cache.<span class=\"hljs-property\">session</span>.<span class=\"hljs-title function_\">setJSON</span>(<span class=\"hljs-string\">&apos;sessionObj&apos;</span>, requestObj)\n      }\n    }\n  }\n  <span class=\"hljs-keyword\">return</span> config\n}, <span class=\"hljs-function\"><span class=\"hljs-params\">error</span> =&gt;</span> {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(error)\n    <span class=\"hljs-title class_\">Promise</span>.<span class=\"hljs-title function_\">reject</span>(error)\n})\n\n<span class=\"hljs-comment\">// &#x54cd;&#x5e94;&#x62e6;&#x622a;&#x5668;</span>\nservice.<span class=\"hljs-property\">interceptors</span>.<span class=\"hljs-property\">response</span>.<span class=\"hljs-title function_\">use</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">res</span> =&gt;</span> {\n    <span class=\"hljs-comment\">// &#x672a;&#x8bbe;&#x7f6e;&#x72b6;&#x6001;&#x7801;&#x5219;&#x9ed8;&#x8ba4;&#x6210;&#x529f;&#x72b6;&#x6001;</span>\n    <span class=\"hljs-keyword\">const</span> code = res.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">code</span> || <span class=\"hljs-number\">200</span>;\n    <span class=\"hljs-comment\">// &#x83b7;&#x53d6;&#x9519;&#x8bef;&#x4fe1;&#x606f;</span>\n    <span class=\"hljs-keyword\">const</span> msg = errorCode[code] || res.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">msg</span> || errorCode[<span class=\"hljs-string\">&apos;default&apos;</span>]\n    <span class=\"hljs-comment\">// &#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x5219;&#x76f4;&#x63a5;&#x8fd4;&#x56de;</span>\n    <span class=\"hljs-keyword\">if</span>(res.<span class=\"hljs-property\">request</span>.<span class=\"hljs-property\">responseType</span> ===  <span class=\"hljs-string\">&apos;blob&apos;</span> || res.<span class=\"hljs-property\">request</span>.<span class=\"hljs-property\">responseType</span> ===  <span class=\"hljs-string\">&apos;arraybuffer&apos;</span>){\n      <span class=\"hljs-keyword\">return</span> res.<span class=\"hljs-property\">data</span>\n    }\n    <span class=\"hljs-keyword\">if</span> (code === <span class=\"hljs-number\">401</span>) {\n      <span class=\"hljs-keyword\">if</span> (!isRelogin.<span class=\"hljs-property\">show</span>) {\n        isRelogin.<span class=\"hljs-property\">show</span> = <span class=\"hljs-literal\">true</span>;\n        <span class=\"hljs-title class_\">ElMessageBox</span>.<span class=\"hljs-title function_\">confirm</span>(<span class=\"hljs-string\">&apos;&#x767b;&#x5f55;&#x72b6;&#x6001;&#x5df2;&#x8fc7;&#x671f;&#xff0c;&#x60a8;&#x53ef;&#x4ee5;&#x7ee7;&#x7eed;&#x7559;&#x5728;&#x8be5;&#x9875;&#x9762;&#xff0c;&#x6216;&#x8005;&#x91cd;&#x65b0;&#x767b;&#x5f55;&apos;</span>, <span class=\"hljs-string\">&apos;&#x7cfb;&#x7edf;&#x63d0;&#x793a;&apos;</span>, { <span class=\"hljs-attr\">confirmButtonText</span>: <span class=\"hljs-string\">&apos;&#x91cd;&#x65b0;&#x767b;&#x5f55;&apos;</span>, <span class=\"hljs-attr\">cancelButtonText</span>: <span class=\"hljs-string\">&apos;&#x53d6;&#x6d88;&apos;</span>, <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&apos;warning&apos;</span> }).<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\">() =&gt;</span> {\n          isRelogin.<span class=\"hljs-property\">show</span> = <span class=\"hljs-literal\">false</span>;\n          <span class=\"hljs-title function_\">useUserStore</span>().<span class=\"hljs-title function_\">logOut</span>().<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\">() =&gt;</span> {\n            location.<span class=\"hljs-property\">href</span> = <span class=\"hljs-string\">&apos;/index&apos;</span>;\n          })\n      }).<span class=\"hljs-title function_\">catch</span>(<span class=\"hljs-function\">() =&gt;</span> {\n        isRelogin.<span class=\"hljs-property\">show</span> = <span class=\"hljs-literal\">false</span>;\n      });\n    }\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Promise</span>.<span class=\"hljs-title function_\">reject</span>(<span class=\"hljs-string\">&apos;&#x65e0;&#x6548;&#x7684;&#x4f1a;&#x8bdd;&#xff0c;&#x6216;&#x8005;&#x4f1a;&#x8bdd;&#x5df2;&#x8fc7;&#x671f;&#xff0c;&#x8bf7;&#x91cd;&#x65b0;&#x767b;&#x5f55;&#x3002;&apos;</span>)\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (code === <span class=\"hljs-number\">500</span>) {\n      <span class=\"hljs-title class_\">ElMessage</span>({ <span class=\"hljs-attr\">message</span>: msg, <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&apos;error&apos;</span> })\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Promise</span>.<span class=\"hljs-title function_\">reject</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(msg))\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (code === <span class=\"hljs-number\">601</span>) {\n      <span class=\"hljs-title class_\">ElMessage</span>({ <span class=\"hljs-attr\">message</span>: msg, <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&apos;warning&apos;</span> })\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Promise</span>.<span class=\"hljs-title function_\">reject</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(msg))\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (code !== <span class=\"hljs-number\">200</span>) {\n      <span class=\"hljs-title class_\">ElNotification</span>.<span class=\"hljs-title function_\">error</span>({ <span class=\"hljs-attr\">title</span>: msg })\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Promise</span>.<span class=\"hljs-title function_\">reject</span>(<span class=\"hljs-string\">&apos;error&apos;</span>)\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-keyword\">return</span>  <span class=\"hljs-title class_\">Promise</span>.<span class=\"hljs-title function_\">resolve</span>(res.<span class=\"hljs-property\">data</span>)\n    }\n  },\n  <span class=\"hljs-function\"><span class=\"hljs-params\">error</span> =&gt;</span> {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;err&apos;</span> + error)\n    <span class=\"hljs-keyword\">let</span> { message } = error;\n    <span class=\"hljs-keyword\">if</span> (message == <span class=\"hljs-string\">&quot;Network Error&quot;</span>) {\n      message = <span class=\"hljs-string\">&quot;&#x540e;&#x7aef;&#x63a5;&#x53e3;&#x8fde;&#x63a5;&#x5f02;&#x5e38;&quot;</span>;\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (message.<span class=\"hljs-title function_\">includes</span>(<span class=\"hljs-string\">&quot;timeout&quot;</span>)) {\n      message = <span class=\"hljs-string\">&quot;&#x7cfb;&#x7edf;&#x63a5;&#x53e3;&#x8bf7;&#x6c42;&#x8d85;&#x65f6;&quot;</span>;\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (message.<span class=\"hljs-title function_\">includes</span>(<span class=\"hljs-string\">&quot;Request failed with status code&quot;</span>)) {\n      message = <span class=\"hljs-string\">&quot;&#x7cfb;&#x7edf;&#x63a5;&#x53e3;&quot;</span> + message.<span class=\"hljs-title function_\">substr</span>(message.<span class=\"hljs-property\">length</span> - <span class=\"hljs-number\">3</span>) + <span class=\"hljs-string\">&quot;&#x5f02;&#x5e38;&quot;</span>;\n    }\n    <span class=\"hljs-title class_\">ElMessage</span>({ <span class=\"hljs-attr\">message</span>: message, <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&apos;error&apos;</span>, <span class=\"hljs-attr\">duration</span>: <span class=\"hljs-number\">5</span> * <span class=\"hljs-number\">1000</span> })\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Promise</span>.<span class=\"hljs-title function_\">reject</span>(error)\n  }\n)\n\n<span class=\"hljs-comment\">// &#x901a;&#x7528;&#x4e0b;&#x8f7d;&#x65b9;&#x6cd5;</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">download</span>(<span class=\"hljs-params\">url, params, filename, config</span>) {\n  downloadLoadingInstance = <span class=\"hljs-title class_\">ElLoading</span>.<span class=\"hljs-title function_\">service</span>({ <span class=\"hljs-attr\">text</span>: <span class=\"hljs-string\">&quot;&#x6b63;&#x5728;&#x4e0b;&#x8f7d;&#x6570;&#x636e;&#xff0c;&#x8bf7;&#x7a0d;&#x5019;&quot;</span>, <span class=\"hljs-attr\">background</span>: <span class=\"hljs-string\">&quot;rgba(0, 0, 0, 0.7)&quot;</span>, })\n  <span class=\"hljs-keyword\">return</span> service.<span class=\"hljs-title function_\">post</span>(url, params, {\n    <span class=\"hljs-attr\">transformRequest</span>: [<span class=\"hljs-function\">(<span class=\"hljs-params\">params</span>) =&gt;</span> { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">tansParams</span>(params) }],\n    <span class=\"hljs-attr\">headers</span>: { <span class=\"hljs-string\">&apos;Content-Type&apos;</span>: <span class=\"hljs-string\">&apos;application/x-www-form-urlencoded&apos;</span> },\n    <span class=\"hljs-attr\">responseType</span>: <span class=\"hljs-string\">&apos;blob&apos;</span>,\n    ...config\n  }).<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-title function_\">async</span> (data) =&gt; {\n    <span class=\"hljs-keyword\">const</span> isLogin = <span class=\"hljs-keyword\">await</span> <span class=\"hljs-title function_\">blobValidate</span>(data);\n    <span class=\"hljs-keyword\">if</span> (isLogin) {\n      <span class=\"hljs-keyword\">const</span> blob = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Blob</span>([data])\n      <span class=\"hljs-title function_\">saveAs</span>(blob, filename)\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-keyword\">const</span> resText = <span class=\"hljs-keyword\">await</span> data.<span class=\"hljs-title function_\">text</span>();\n      <span class=\"hljs-keyword\">const</span> rspObj = <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">parse</span>(resText);\n      <span class=\"hljs-keyword\">const</span> errMsg = errorCode[rspObj.<span class=\"hljs-property\">code</span>] || rspObj.<span class=\"hljs-property\">msg</span> || errorCode[<span class=\"hljs-string\">&apos;default&apos;</span>]\n      <span class=\"hljs-title class_\">ElMessage</span>.<span class=\"hljs-title function_\">error</span>(errMsg);\n    }\n    downloadLoadingInstance.<span class=\"hljs-title function_\">close</span>();\n  }).<span class=\"hljs-title function_\">catch</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">r</span>) =&gt;</span> {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(r)\n    <span class=\"hljs-title class_\">ElMessage</span>.<span class=\"hljs-title function_\">error</span>(<span class=\"hljs-string\">&apos;&#x4e0b;&#x8f7d;&#x6587;&#x4ef6;&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff0c;&#x8bf7;&#x8054;&#x7cfb;&#x7ba1;&#x7406;&#x5458;&#xff01;&apos;</span>)\n    downloadLoadingInstance.<span class=\"hljs-title function_\">close</span>();\n  })\n}\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> service\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2,151"}}],"payload":{"tag":"h2","lines":"1,2"}},{})</script>
</body>
</html>
