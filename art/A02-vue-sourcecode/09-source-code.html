<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Vue","children":[{"content":"<pre data-lines=\"6,937\"><code class=\"language-js\">\n  <span class=\"hljs-keyword\">var</span> creatingElmInVPre = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-comment\">// &#x521b;&#x5efa;&#x5143;&#x7d20;</span>\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createElm</span> (<span class=\"hljs-params\">\n    vnode,\n    insertedVnodeQueue,\n    parentElm,\n    refElm,\n    nested,\n    ownerArray,\n    index\n  </span>) {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(vnode.<span class=\"hljs-property\">elm</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(ownerArray)) {\n      <span class=\"hljs-comment\">// This vnode was used in a previous render!</span>\n      <span class=\"hljs-comment\">// now it&apos;s used as a new node, overwriting its elm would cause</span>\n      <span class=\"hljs-comment\">// potential patch errors down the road when it&apos;s used as an insertion</span>\n      <span class=\"hljs-comment\">// reference node. Instead, we clone the node on-demand before creating</span>\n      <span class=\"hljs-comment\">// associated DOM element for it.</span>\n      <span class=\"hljs-comment\">// vnode&#x514b;&#x9686;</span>\n      vnode = ownerArray[index] = <span class=\"hljs-title function_\">cloneVNode</span>(vnode);\n    }\n    <span class=\"hljs-comment\">// &#x662f;&#x5426;&#x5d4c;&#x5957;</span>\n    vnode.<span class=\"hljs-property\">isRootInsert</span> = !nested; <span class=\"hljs-comment\">// for transition enter check</span>\n    <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x4f7f;&#x7528;&#x4e86;keep-live&#xff0c;&#x8fd4;&#x56de;</span>\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">createComponent</span>(vnode, insertedVnodeQueue, parentElm, refElm)) {\n      <span class=\"hljs-keyword\">return</span>\n    }\n\n    <span class=\"hljs-keyword\">var</span> data = vnode.<span class=\"hljs-property\">data</span>;\n    <span class=\"hljs-keyword\">var</span> children = vnode.<span class=\"hljs-property\">children</span>;\n    <span class=\"hljs-keyword\">var</span> tag = vnode.<span class=\"hljs-property\">tag</span>;\n    <span class=\"hljs-comment\">//&#x521b;&#x5efa;dom,&#x8bbe;&#x7f6e;style,&#x6837;&#x5f0f;</span>\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(tag)) {\n      {\n        <span class=\"hljs-keyword\">if</span> (data &amp;&amp; data.<span class=\"hljs-property\">pre</span>) {\n          creatingElmInVPre++;\n        }\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isUnknownElement&#x24;&#x24;1</span>(vnode, creatingElmInVPre)) {\n          <span class=\"hljs-title function_\">warn</span>(\n            <span class=\"hljs-string\">&apos;Unknown custom element: &lt;&apos;</span> + tag + <span class=\"hljs-string\">&apos;&gt; - did you &apos;</span> +\n            <span class=\"hljs-string\">&apos;register the component correctly? For recursive components, &apos;</span> +\n            <span class=\"hljs-string\">&apos;make sure to provide the &quot;name&quot; option.&apos;</span>,\n            vnode.<span class=\"hljs-property\">context</span>\n          );\n        }\n      }\n\n      vnode.<span class=\"hljs-property\">elm</span> = vnode.<span class=\"hljs-property\">ns</span>\n        ? nodeOps.<span class=\"hljs-title function_\">createElementNS</span>(vnode.<span class=\"hljs-property\">ns</span>, tag)\n        : nodeOps.<span class=\"hljs-title function_\">createElement</span>(tag, vnode);\n      <span class=\"hljs-title function_\">setScope</span>(vnode);\n\n      <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n      <span class=\"hljs-comment\">// &#x751f;&#x6210;&#x5b50;&#x7ec4;&#x4ef6;&#x5143;&#x7d20;&#xff0c;&#x63d2;&#x5165;&#x5230;&#x7236;&#x7ec4;&#x4ef6;&#x7684;&#x5143;&#x7d20;&#x91cc;</span>\n      {\n        <span class=\"hljs-title function_\">createChildren</span>(vnode, children, insertedVnodeQueue);\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(data)) {\n          <span class=\"hljs-title function_\">invokeCreateHooks</span>(vnode, insertedVnodeQueue);\n        }\n        <span class=\"hljs-title function_\">insert</span>(parentElm, vnode.<span class=\"hljs-property\">elm</span>, refElm);\n      }\n\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; data &amp;&amp; data.<span class=\"hljs-property\">pre</span>) {\n        creatingElmInVPre--;\n      }\n      <span class=\"hljs-comment\">// &#x662f;&#x5426;&#x662f;&#x6ce8;&#x91ca;</span>\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isTrue</span>(vnode.<span class=\"hljs-property\">isComment</span>)) {\n      vnode.<span class=\"hljs-property\">elm</span> = nodeOps.<span class=\"hljs-title function_\">createComment</span>(vnode.<span class=\"hljs-property\">text</span>);\n      <span class=\"hljs-title function_\">insert</span>(parentElm, vnode.<span class=\"hljs-property\">elm</span>, refElm);\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-comment\">// &#x662f;&#x5426;&#x662f;&#x6587;&#x5b57;&#x8282;&#x70b9;</span>\n      vnode.<span class=\"hljs-property\">elm</span> = nodeOps.<span class=\"hljs-title function_\">createTextNode</span>(vnode.<span class=\"hljs-property\">text</span>);\n      <span class=\"hljs-title function_\">insert</span>(parentElm, vnode.<span class=\"hljs-property\">elm</span>, refElm);\n    }\n  }\n  <span class=\"hljs-comment\">// &#x521b;&#x5efa;&#x7ec4;&#x4ef6;</span>\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createComponent</span> (<span class=\"hljs-params\">vnode, insertedVnodeQueue, parentElm, refElm</span>) {\n    <span class=\"hljs-keyword\">var</span> i = vnode.<span class=\"hljs-property\">data</span>;\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i)) {\n      <span class=\"hljs-keyword\">var</span> isReactivated = <span class=\"hljs-title function_\">isDef</span>(vnode.<span class=\"hljs-property\">componentInstance</span>) &amp;&amp; i.<span class=\"hljs-property\">keepAlive</span>;\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">hook</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">init</span>)) {\n        <span class=\"hljs-title function_\">i</span>(vnode, <span class=\"hljs-literal\">false</span> <span class=\"hljs-comment\">/* hydrating */</span>, parentElm, refElm);\n      }\n      <span class=\"hljs-comment\">// after calling the init hook, if the vnode is a child component</span>\n      <span class=\"hljs-comment\">// it should&apos;ve created a child instance and mounted it. the child</span>\n      <span class=\"hljs-comment\">// component also has set the placeholder vnode&apos;s elm.</span>\n      <span class=\"hljs-comment\">// in that case we can just return the element and be done.</span>\n      <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x7ec4;&#x4ef6;&#x5f0f;&#x4f7f;&#x7528;&#x4e86;keep-live&#xff0c;&#x5e76;&#x4e14;&#x662f;&#x6fc0;&#x6d3b;&#x7684;&#xff0c;&#x751f;&#x6210;&#x548c;&#x6fc0;&#x6d3b;&#x7ec4;&#x4ef6;</span>\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(vnode.<span class=\"hljs-property\">componentInstance</span>)) {\n        <span class=\"hljs-title function_\">initComponent</span>(vnode, insertedVnodeQueue);\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isTrue</span>(isReactivated)) {\n          <span class=\"hljs-title function_\">reactivateComponent</span>(vnode, insertedVnodeQueue, parentElm, refElm);\n        }\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>\n      }\n    }\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">initComponent</span> (<span class=\"hljs-params\">vnode, insertedVnodeQueue</span>) {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">pendingInsert</span>)) {\n      insertedVnodeQueue.<span class=\"hljs-property\">push</span>.<span class=\"hljs-title function_\">apply</span>(insertedVnodeQueue, vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">pendingInsert</span>);\n      vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">pendingInsert</span> = <span class=\"hljs-literal\">null</span>;\n    }\n    vnode.<span class=\"hljs-property\">elm</span> = vnode.<span class=\"hljs-property\">componentInstance</span>.<span class=\"hljs-property\">&#x24;el</span>;\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isPatchable</span>(vnode)) {\n      <span class=\"hljs-title function_\">invokeCreateHooks</span>(vnode, insertedVnodeQueue);\n      <span class=\"hljs-title function_\">setScope</span>(vnode);\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-comment\">// empty component root.</span>\n      <span class=\"hljs-comment\">// skip all element-related modules except for ref (#3455)</span>\n      <span class=\"hljs-title function_\">registerRef</span>(vnode);\n      <span class=\"hljs-comment\">// make sure to invoke the insert hook</span>\n      insertedVnodeQueue.<span class=\"hljs-title function_\">push</span>(vnode);\n    }\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">reactivateComponent</span> (<span class=\"hljs-params\">vnode, insertedVnodeQueue, parentElm, refElm</span>) {\n    <span class=\"hljs-keyword\">var</span> i;\n    <span class=\"hljs-comment\">// hack for #4339: a reactivated component with inner transition</span>\n    <span class=\"hljs-comment\">// does not trigger because the inner node&apos;s created hooks are not called</span>\n    <span class=\"hljs-comment\">// again. It&apos;s not ideal to involve module-specific logic in here but</span>\n    <span class=\"hljs-comment\">// there doesn&apos;t seem to be a better way to do it.</span>\n    <span class=\"hljs-keyword\">var</span> innerNode = vnode;\n    <span class=\"hljs-keyword\">while</span> (innerNode.<span class=\"hljs-property\">componentInstance</span>) {\n      innerNode = innerNode.<span class=\"hljs-property\">componentInstance</span>.<span class=\"hljs-property\">_vnode</span>;\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i = innerNode.<span class=\"hljs-property\">data</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">transition</span>)) {\n        <span class=\"hljs-keyword\">for</span> (i = <span class=\"hljs-number\">0</span>; i &lt; cbs.<span class=\"hljs-property\">activate</span>.<span class=\"hljs-property\">length</span>; ++i) {\n          cbs.<span class=\"hljs-property\">activate</span>[i](emptyNode, innerNode);\n        }\n        insertedVnodeQueue.<span class=\"hljs-title function_\">push</span>(innerNode);\n        <span class=\"hljs-keyword\">break</span>\n      }\n    }\n    <span class=\"hljs-comment\">// unlike a newly created component,</span>\n    <span class=\"hljs-comment\">// a reactivated keep-alive component doesn&apos;t insert itself</span>\n    <span class=\"hljs-title function_\">insert</span>(parentElm, vnode.<span class=\"hljs-property\">elm</span>, refElm);\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">insert</span> (<span class=\"hljs-params\">parent, elm, ref&#x24;&#x24;1</span>) {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(parent)) {\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(ref&#x24;&#x24;1)) {\n        <span class=\"hljs-keyword\">if</span> (ref&#x24;&#x24;1.<span class=\"hljs-property\">parentNode</span> === parent) {\n          nodeOps.<span class=\"hljs-title function_\">insertBefore</span>(parent, elm, ref&#x24;&#x24;1);\n        }\n      } <span class=\"hljs-keyword\">else</span> {\n        nodeOps.<span class=\"hljs-title function_\">appendChild</span>(parent, elm);\n      }\n    }\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createChildren</span> (<span class=\"hljs-params\">vnode, children, insertedVnodeQueue</span>) {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(children)) {\n      {\n        <span class=\"hljs-title function_\">checkDuplicateKeys</span>(children);\n      }\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; children.<span class=\"hljs-property\">length</span>; ++i) {\n        <span class=\"hljs-title function_\">createElm</span>(children[i], insertedVnodeQueue, vnode.<span class=\"hljs-property\">elm</span>, <span class=\"hljs-literal\">null</span>, <span class=\"hljs-literal\">true</span>, children, i);\n      }\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isPrimitive</span>(vnode.<span class=\"hljs-property\">text</span>)) {\n      nodeOps.<span class=\"hljs-title function_\">appendChild</span>(vnode.<span class=\"hljs-property\">elm</span>, nodeOps.<span class=\"hljs-title function_\">createTextNode</span>(<span class=\"hljs-title class_\">String</span>(vnode.<span class=\"hljs-property\">text</span>)));\n    }\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">isPatchable</span> (<span class=\"hljs-params\">vnode</span>) {\n    <span class=\"hljs-keyword\">while</span> (vnode.<span class=\"hljs-property\">componentInstance</span>) {\n      vnode = vnode.<span class=\"hljs-property\">componentInstance</span>.<span class=\"hljs-property\">_vnode</span>;\n    }\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">isDef</span>(vnode.<span class=\"hljs-property\">tag</span>)\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">invokeCreateHooks</span> (<span class=\"hljs-params\">vnode, insertedVnodeQueue</span>) {\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i&#x24;1 = <span class=\"hljs-number\">0</span>; i&#x24;1 &lt; cbs.<span class=\"hljs-property\">create</span>.<span class=\"hljs-property\">length</span>; ++i&#x24;1) {\n      cbs.<span class=\"hljs-property\">create</span>[i&#x24;1](emptyNode, vnode);\n    }\n    i = vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">hook</span>; <span class=\"hljs-comment\">// Reuse variable</span>\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i)) {\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i.<span class=\"hljs-property\">create</span>)) { i.<span class=\"hljs-title function_\">create</span>(emptyNode, vnode); }\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i.<span class=\"hljs-property\">insert</span>)) { insertedVnodeQueue.<span class=\"hljs-title function_\">push</span>(vnode); }\n    }\n  }\n\n  <span class=\"hljs-comment\">// set scope id attribute for scoped CSS.</span>\n  <span class=\"hljs-comment\">// this is implemented as a special case to avoid the overhead</span>\n  <span class=\"hljs-comment\">// of going through the normal attribute patching process.</span>\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">setScope</span> (<span class=\"hljs-params\">vnode</span>) {\n    <span class=\"hljs-keyword\">var</span> i;\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i = vnode.<span class=\"hljs-property\">fnScopeId</span>)) {\n      nodeOps.<span class=\"hljs-title function_\">setStyleScope</span>(vnode.<span class=\"hljs-property\">elm</span>, i);\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-keyword\">var</span> ancestor = vnode;\n      <span class=\"hljs-keyword\">while</span> (ancestor) {\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i = ancestor.<span class=\"hljs-property\">context</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">&#x24;options</span>.<span class=\"hljs-property\">_scopeId</span>)) {\n          nodeOps.<span class=\"hljs-title function_\">setStyleScope</span>(vnode.<span class=\"hljs-property\">elm</span>, i);\n        }\n        ancestor = ancestor.<span class=\"hljs-property\">parent</span>;\n      }\n    }\n    <span class=\"hljs-comment\">// for slot content they should also get the scopeId from the host instance.</span>\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i = activeInstance) &amp;&amp;\n      i !== vnode.<span class=\"hljs-property\">context</span> &amp;&amp;\n      i !== vnode.<span class=\"hljs-property\">fnContext</span> &amp;&amp;\n      <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">&#x24;options</span>.<span class=\"hljs-property\">_scopeId</span>)\n    ) {\n      nodeOps.<span class=\"hljs-title function_\">setStyleScope</span>(vnode.<span class=\"hljs-property\">elm</span>, i);\n    }\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">addVnodes</span> (<span class=\"hljs-params\">parentElm, refElm, vnodes, startIdx, endIdx, insertedVnodeQueue</span>) {\n    <span class=\"hljs-keyword\">for</span> (; startIdx &lt;= endIdx; ++startIdx) {\n      <span class=\"hljs-title function_\">createElm</span>(vnodes[startIdx], insertedVnodeQueue, parentElm, refElm, <span class=\"hljs-literal\">false</span>, vnodes, startIdx);\n    }\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">invokeDestroyHook</span> (<span class=\"hljs-params\">vnode</span>) {\n    <span class=\"hljs-keyword\">var</span> i, j;\n    <span class=\"hljs-keyword\">var</span> data = vnode.<span class=\"hljs-property\">data</span>;\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(data)) {\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i = data.<span class=\"hljs-property\">hook</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">destroy</span>)) { <span class=\"hljs-title function_\">i</span>(vnode); }\n      <span class=\"hljs-keyword\">for</span> (i = <span class=\"hljs-number\">0</span>; i &lt; cbs.<span class=\"hljs-property\">destroy</span>.<span class=\"hljs-property\">length</span>; ++i) { cbs.<span class=\"hljs-property\">destroy</span>[i](vnode); }\n    }\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i = vnode.<span class=\"hljs-property\">children</span>)) {\n      <span class=\"hljs-keyword\">for</span> (j = <span class=\"hljs-number\">0</span>; j &lt; vnode.<span class=\"hljs-property\">children</span>.<span class=\"hljs-property\">length</span>; ++j) {\n        <span class=\"hljs-title function_\">invokeDestroyHook</span>(vnode.<span class=\"hljs-property\">children</span>[j]);\n      }\n    }\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">removeVnodes</span> (<span class=\"hljs-params\">parentElm, vnodes, startIdx, endIdx</span>) {\n    <span class=\"hljs-keyword\">for</span> (; startIdx &lt;= endIdx; ++startIdx) {\n      <span class=\"hljs-keyword\">var</span> ch = vnodes[startIdx];\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(ch)) {\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(ch.<span class=\"hljs-property\">tag</span>)) {\n          <span class=\"hljs-title function_\">removeAndInvokeRemoveHook</span>(ch);\n          <span class=\"hljs-title function_\">invokeDestroyHook</span>(ch);\n        } <span class=\"hljs-keyword\">else</span> { <span class=\"hljs-comment\">// Text node</span>\n          <span class=\"hljs-title function_\">removeNode</span>(ch.<span class=\"hljs-property\">elm</span>);\n        }\n      }\n    }\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">removeAndInvokeRemoveHook</span> (<span class=\"hljs-params\">vnode, rm</span>) {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(rm) || <span class=\"hljs-title function_\">isDef</span>(vnode.<span class=\"hljs-property\">data</span>)) {\n      <span class=\"hljs-keyword\">var</span> i;\n      <span class=\"hljs-keyword\">var</span> listeners = cbs.<span class=\"hljs-property\">remove</span>.<span class=\"hljs-property\">length</span> + <span class=\"hljs-number\">1</span>;\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(rm)) {\n        <span class=\"hljs-comment\">// we have a recursively passed down rm callback</span>\n        <span class=\"hljs-comment\">// increase the listeners count</span>\n        rm.<span class=\"hljs-property\">listeners</span> += listeners;\n      } <span class=\"hljs-keyword\">else</span> {\n        <span class=\"hljs-comment\">// directly removing</span>\n        rm = <span class=\"hljs-title function_\">createRmCb</span>(vnode.<span class=\"hljs-property\">elm</span>, listeners);\n      }\n      <span class=\"hljs-comment\">// recursively invoke hooks on child component root node</span>\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i = vnode.<span class=\"hljs-property\">componentInstance</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">_vnode</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i.<span class=\"hljs-property\">data</span>)) {\n        <span class=\"hljs-title function_\">removeAndInvokeRemoveHook</span>(i, rm);\n      }\n      <span class=\"hljs-keyword\">for</span> (i = <span class=\"hljs-number\">0</span>; i &lt; cbs.<span class=\"hljs-property\">remove</span>.<span class=\"hljs-property\">length</span>; ++i) {\n        cbs.<span class=\"hljs-property\">remove</span>[i](vnode, rm);\n      }\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i = vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">hook</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">remove</span>)) {\n        <span class=\"hljs-title function_\">i</span>(vnode, rm);\n      } <span class=\"hljs-keyword\">else</span> {\n        <span class=\"hljs-title function_\">rm</span>();\n      }\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-title function_\">removeNode</span>(vnode.<span class=\"hljs-property\">elm</span>);\n    }\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">updateChildren</span> (<span class=\"hljs-params\">parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly</span>) {\n    <span class=\"hljs-keyword\">var</span> oldStartIdx = <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-keyword\">var</span> newStartIdx = <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-keyword\">var</span> oldEndIdx = oldCh.<span class=\"hljs-property\">length</span> - <span class=\"hljs-number\">1</span>;\n    <span class=\"hljs-keyword\">var</span> oldStartVnode = oldCh[<span class=\"hljs-number\">0</span>];\n    <span class=\"hljs-keyword\">var</span> oldEndVnode = oldCh[oldEndIdx];\n    <span class=\"hljs-keyword\">var</span> newEndIdx = newCh.<span class=\"hljs-property\">length</span> - <span class=\"hljs-number\">1</span>;\n    <span class=\"hljs-keyword\">var</span> newStartVnode = newCh[<span class=\"hljs-number\">0</span>];\n    <span class=\"hljs-keyword\">var</span> newEndVnode = newCh[newEndIdx];\n    <span class=\"hljs-keyword\">var</span> oldKeyToIdx, idxInOld, vnodeToMove, refElm;\n\n    <span class=\"hljs-comment\">// removeOnly is a special flag used only by &lt;transition-group&gt;</span>\n    <span class=\"hljs-comment\">// to ensure removed elements stay in correct relative positions</span>\n    <span class=\"hljs-comment\">// during leaving transitions</span>\n    <span class=\"hljs-keyword\">var</span> canMove = !removeOnly;\n\n    {\n      <span class=\"hljs-title function_\">checkDuplicateKeys</span>(newCh);\n    }\n\n    <span class=\"hljs-keyword\">while</span> (oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdx) {\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isUndef</span>(oldStartVnode)) {\n        oldStartVnode = oldCh[++oldStartIdx]; <span class=\"hljs-comment\">// Vnode has been moved left</span>\n      } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isUndef</span>(oldEndVnode)) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">sameVnode</span>(oldStartVnode, newStartVnode)) {\n        <span class=\"hljs-title function_\">patchVnode</span>(oldStartVnode, newStartVnode, insertedVnodeQueue);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">sameVnode</span>(oldEndVnode, newEndVnode)) {\n        <span class=\"hljs-title function_\">patchVnode</span>(oldEndVnode, newEndVnode, insertedVnodeQueue);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">sameVnode</span>(oldStartVnode, newEndVnode)) { <span class=\"hljs-comment\">// Vnode moved right</span>\n        <span class=\"hljs-title function_\">patchVnode</span>(oldStartVnode, newEndVnode, insertedVnodeQueue);\n        canMove &amp;&amp; nodeOps.<span class=\"hljs-title function_\">insertBefore</span>(parentElm, oldStartVnode.<span class=\"hljs-property\">elm</span>, nodeOps.<span class=\"hljs-title function_\">nextSibling</span>(oldEndVnode.<span class=\"hljs-property\">elm</span>));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">sameVnode</span>(oldEndVnode, newStartVnode)) { <span class=\"hljs-comment\">// Vnode moved left</span>\n        <span class=\"hljs-title function_\">patchVnode</span>(oldEndVnode, newStartVnode, insertedVnodeQueue);\n        canMove &amp;&amp; nodeOps.<span class=\"hljs-title function_\">insertBefore</span>(parentElm, oldEndVnode.<span class=\"hljs-property\">elm</span>, oldStartVnode.<span class=\"hljs-property\">elm</span>);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } <span class=\"hljs-keyword\">else</span> {\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isUndef</span>(oldKeyToIdx)) { oldKeyToIdx = <span class=\"hljs-title function_\">createKeyToOldIdx</span>(oldCh, oldStartIdx, oldEndIdx); }\n        idxInOld = <span class=\"hljs-title function_\">isDef</span>(newStartVnode.<span class=\"hljs-property\">key</span>)\n          ? oldKeyToIdx[newStartVnode.<span class=\"hljs-property\">key</span>]\n          : <span class=\"hljs-title function_\">findIdxInOld</span>(newStartVnode, oldCh, oldStartIdx, oldEndIdx);\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isUndef</span>(idxInOld)) { <span class=\"hljs-comment\">// New element</span>\n          <span class=\"hljs-title function_\">createElm</span>(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.<span class=\"hljs-property\">elm</span>, <span class=\"hljs-literal\">false</span>, newCh, newStartIdx);\n        } <span class=\"hljs-keyword\">else</span> {\n          vnodeToMove = oldCh[idxInOld];\n          <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">sameVnode</span>(vnodeToMove, newStartVnode)) {\n            <span class=\"hljs-title function_\">patchVnode</span>(vnodeToMove, newStartVnode, insertedVnodeQueue);\n            oldCh[idxInOld] = <span class=\"hljs-literal\">undefined</span>;\n            canMove &amp;&amp; nodeOps.<span class=\"hljs-title function_\">insertBefore</span>(parentElm, vnodeToMove.<span class=\"hljs-property\">elm</span>, oldStartVnode.<span class=\"hljs-property\">elm</span>);\n          } <span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-comment\">// same key but different element. treat as new element</span>\n            <span class=\"hljs-title function_\">createElm</span>(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.<span class=\"hljs-property\">elm</span>, <span class=\"hljs-literal\">false</span>, newCh, newStartIdx);\n          }\n        }\n        newStartVnode = newCh[++newStartIdx];\n      }\n    }\n    <span class=\"hljs-keyword\">if</span> (oldStartIdx &gt; oldEndIdx) {\n      refElm = <span class=\"hljs-title function_\">isUndef</span>(newCh[newEndIdx + <span class=\"hljs-number\">1</span>]) ? <span class=\"hljs-literal\">null</span> : newCh[newEndIdx + <span class=\"hljs-number\">1</span>].<span class=\"hljs-property\">elm</span>;\n      <span class=\"hljs-title function_\">addVnodes</span>(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (newStartIdx &gt; newEndIdx) {\n      <span class=\"hljs-title function_\">removeVnodes</span>(parentElm, oldCh, oldStartIdx, oldEndIdx);\n    }\n  }\n  <span class=\"hljs-comment\">// &#x68c0;&#x67e5;key&#x662f;&#x5426;&#x91cd;&#x590d;</span>\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">checkDuplicateKeys</span> (<span class=\"hljs-params\">children</span>) {\n    <span class=\"hljs-keyword\">var</span> seenKeys = {};\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; children.<span class=\"hljs-property\">length</span>; i++) {\n      <span class=\"hljs-keyword\">var</span> vnode = children[i];\n      <span class=\"hljs-keyword\">var</span> key = vnode.<span class=\"hljs-property\">key</span>;\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(key)) {\n        <span class=\"hljs-keyword\">if</span> (seenKeys[key]) {\n          <span class=\"hljs-title function_\">warn</span>(\n            (<span class=\"hljs-string\">&quot;Duplicate keys detected: &apos;&quot;</span> + key + <span class=\"hljs-string\">&quot;&apos;. This may cause an update error.&quot;</span>),\n            vnode.<span class=\"hljs-property\">context</span>\n          );\n        } <span class=\"hljs-keyword\">else</span> {\n          seenKeys[key] = <span class=\"hljs-literal\">true</span>;\n        }\n      }\n    }\n  }\n  <span class=\"hljs-comment\">// &#x627e;&#x5230;node&#x7684;index</span>\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">findIdxInOld</span> (<span class=\"hljs-params\">node, oldCh, start, end</span>) {\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = start; i &lt; end; i++) {\n      <span class=\"hljs-keyword\">var</span> c = oldCh[i];\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(c) &amp;&amp; <span class=\"hljs-title function_\">sameVnode</span>(node, c)) { <span class=\"hljs-keyword\">return</span> i }\n    }\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">patchVnode</span> (<span class=\"hljs-params\">oldVnode, vnode, insertedVnodeQueue, removeOnly</span>) {\n    <span class=\"hljs-keyword\">if</span> (oldVnode === vnode) {\n      <span class=\"hljs-keyword\">return</span>\n    }\n\n    <span class=\"hljs-keyword\">var</span> elm = vnode.<span class=\"hljs-property\">elm</span> = oldVnode.<span class=\"hljs-property\">elm</span>;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isTrue</span>(oldVnode.<span class=\"hljs-property\">isAsyncPlaceholder</span>)) {\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(vnode.<span class=\"hljs-property\">asyncFactory</span>.<span class=\"hljs-property\">resolved</span>)) {\n        <span class=\"hljs-title function_\">hydrate</span>(oldVnode.<span class=\"hljs-property\">elm</span>, vnode, insertedVnodeQueue);\n      } <span class=\"hljs-keyword\">else</span> {\n        vnode.<span class=\"hljs-property\">isAsyncPlaceholder</span> = <span class=\"hljs-literal\">true</span>;\n      }\n      <span class=\"hljs-keyword\">return</span>\n    }\n\n    <span class=\"hljs-comment\">// reuse element for static trees.</span>\n    <span class=\"hljs-comment\">// note we only do this if the vnode is cloned -</span>\n    <span class=\"hljs-comment\">// if the new node is not cloned it means the render functions have been</span>\n    <span class=\"hljs-comment\">// reset by the hot-reload-api and we need to do a proper re-render.</span>\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isTrue</span>(vnode.<span class=\"hljs-property\">isStatic</span>) &amp;&amp;\n      <span class=\"hljs-title function_\">isTrue</span>(oldVnode.<span class=\"hljs-property\">isStatic</span>) &amp;&amp;\n      vnode.<span class=\"hljs-property\">key</span> === oldVnode.<span class=\"hljs-property\">key</span> &amp;&amp;\n      (<span class=\"hljs-title function_\">isTrue</span>(vnode.<span class=\"hljs-property\">isCloned</span>) || <span class=\"hljs-title function_\">isTrue</span>(vnode.<span class=\"hljs-property\">isOnce</span>))\n    ) {\n      vnode.<span class=\"hljs-property\">componentInstance</span> = oldVnode.<span class=\"hljs-property\">componentInstance</span>;\n      <span class=\"hljs-keyword\">return</span>\n    }\n\n    <span class=\"hljs-keyword\">var</span> i;\n    <span class=\"hljs-keyword\">var</span> data = vnode.<span class=\"hljs-property\">data</span>;\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(data) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = data.<span class=\"hljs-property\">hook</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">prepatch</span>)) {\n      <span class=\"hljs-title function_\">i</span>(oldVnode, vnode);\n    }\n\n    <span class=\"hljs-keyword\">var</span> oldCh = oldVnode.<span class=\"hljs-property\">children</span>;\n    <span class=\"hljs-keyword\">var</span> ch = vnode.<span class=\"hljs-property\">children</span>;\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(data) &amp;&amp; <span class=\"hljs-title function_\">isPatchable</span>(vnode)) {\n      <span class=\"hljs-keyword\">for</span> (i = <span class=\"hljs-number\">0</span>; i &lt; cbs.<span class=\"hljs-property\">update</span>.<span class=\"hljs-property\">length</span>; ++i) { cbs.<span class=\"hljs-property\">update</span>[i](oldVnode, vnode); }\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i = data.<span class=\"hljs-property\">hook</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">update</span>)) { <span class=\"hljs-title function_\">i</span>(oldVnode, vnode); }\n    }\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isUndef</span>(vnode.<span class=\"hljs-property\">text</span>)) {\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(oldCh) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(ch)) {\n        <span class=\"hljs-keyword\">if</span> (oldCh !== ch) { <span class=\"hljs-title function_\">updateChildren</span>(elm, oldCh, ch, insertedVnodeQueue, removeOnly); }\n      } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(ch)) {\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(oldVnode.<span class=\"hljs-property\">text</span>)) { nodeOps.<span class=\"hljs-title function_\">setTextContent</span>(elm, <span class=\"hljs-string\">&apos;&apos;</span>); }\n        <span class=\"hljs-title function_\">addVnodes</span>(elm, <span class=\"hljs-literal\">null</span>, ch, <span class=\"hljs-number\">0</span>, ch.<span class=\"hljs-property\">length</span> - <span class=\"hljs-number\">1</span>, insertedVnodeQueue);\n      } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(oldCh)) {\n        <span class=\"hljs-title function_\">removeVnodes</span>(elm, oldCh, <span class=\"hljs-number\">0</span>, oldCh.<span class=\"hljs-property\">length</span> - <span class=\"hljs-number\">1</span>);\n      } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(oldVnode.<span class=\"hljs-property\">text</span>)) {\n        nodeOps.<span class=\"hljs-title function_\">setTextContent</span>(elm, <span class=\"hljs-string\">&apos;&apos;</span>);\n      }\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (oldVnode.<span class=\"hljs-property\">text</span> !== vnode.<span class=\"hljs-property\">text</span>) {\n      nodeOps.<span class=\"hljs-title function_\">setTextContent</span>(elm, vnode.<span class=\"hljs-property\">text</span>);\n    }\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(data)) {\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i = data.<span class=\"hljs-property\">hook</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">postpatch</span>)) { <span class=\"hljs-title function_\">i</span>(oldVnode, vnode); }\n    }\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">invokeInsertHook</span> (<span class=\"hljs-params\">vnode, queue, initial</span>) {\n    <span class=\"hljs-comment\">// delay insert hooks for component root nodes, invoke them after the</span>\n    <span class=\"hljs-comment\">// element is really inserted</span>\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isTrue</span>(initial) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(vnode.<span class=\"hljs-property\">parent</span>)) {\n      vnode.<span class=\"hljs-property\">parent</span>.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">pendingInsert</span> = queue;\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; queue.<span class=\"hljs-property\">length</span>; ++i) {\n        queue[i].<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">hook</span>.<span class=\"hljs-title function_\">insert</span>(queue[i]);\n      }\n    }\n  }\n\n  <span class=\"hljs-keyword\">var</span> hydrationBailed = <span class=\"hljs-literal\">false</span>;\n  <span class=\"hljs-comment\">// list of modules that can skip create hook during hydration because they</span>\n  <span class=\"hljs-comment\">// are already rendered on the client or has no need for initialization</span>\n  <span class=\"hljs-comment\">// Note: style is excluded because it relies on initial clone for future</span>\n  <span class=\"hljs-comment\">// deep updates (#7063).</span>\n  <span class=\"hljs-keyword\">var</span> isRenderedModule = <span class=\"hljs-title function_\">makeMap</span>(<span class=\"hljs-string\">&apos;attrs,class,staticClass,staticStyle,key&apos;</span>);\n\n  <span class=\"hljs-comment\">// Note: this is a browser-only function so we can assume elms are DOM nodes.</span>\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">hydrate</span> (<span class=\"hljs-params\">elm, vnode, insertedVnodeQueue, inVPre</span>) {\n    <span class=\"hljs-keyword\">var</span> i;\n    <span class=\"hljs-keyword\">var</span> tag = vnode.<span class=\"hljs-property\">tag</span>;\n    <span class=\"hljs-keyword\">var</span> data = vnode.<span class=\"hljs-property\">data</span>;\n    <span class=\"hljs-keyword\">var</span> children = vnode.<span class=\"hljs-property\">children</span>;\n    inVPre = inVPre || (data &amp;&amp; data.<span class=\"hljs-property\">pre</span>);\n    vnode.<span class=\"hljs-property\">elm</span> = elm;\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isTrue</span>(vnode.<span class=\"hljs-property\">isComment</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(vnode.<span class=\"hljs-property\">asyncFactory</span>)) {\n      vnode.<span class=\"hljs-property\">isAsyncPlaceholder</span> = <span class=\"hljs-literal\">true</span>;\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>\n    }\n    <span class=\"hljs-comment\">// assert node match</span>\n    {\n      <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_\">assertNodeMatch</span>(elm, vnode, inVPre)) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>\n      }\n    }\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(data)) {\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i = data.<span class=\"hljs-property\">hook</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">init</span>)) { <span class=\"hljs-title function_\">i</span>(vnode, <span class=\"hljs-literal\">true</span> <span class=\"hljs-comment\">/* hydrating */</span>); }\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i = vnode.<span class=\"hljs-property\">componentInstance</span>)) {\n        <span class=\"hljs-comment\">// child component. it should have hydrated its own tree.</span>\n        <span class=\"hljs-title function_\">initComponent</span>(vnode, insertedVnodeQueue);\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>\n      }\n    }\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(tag)) {\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(children)) {\n        <span class=\"hljs-comment\">// empty element, allow client to pick up and populate children</span>\n        <span class=\"hljs-keyword\">if</span> (!elm.<span class=\"hljs-title function_\">hasChildNodes</span>()) {\n          <span class=\"hljs-title function_\">createChildren</span>(vnode, children, insertedVnodeQueue);\n        } <span class=\"hljs-keyword\">else</span> {\n          <span class=\"hljs-comment\">// v-html and domProps: innerHTML</span>\n          <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(i = data) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">domProps</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">innerHTML</span>)) {\n            <span class=\"hljs-keyword\">if</span> (i !== elm.<span class=\"hljs-property\">innerHTML</span>) {\n              <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n              <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp;\n                <span class=\"hljs-keyword\">typeof</span> <span class=\"hljs-variable language_\">console</span> !== <span class=\"hljs-string\">&apos;undefined&apos;</span> &amp;&amp;\n                !hydrationBailed\n              ) {\n                hydrationBailed = <span class=\"hljs-literal\">true</span>;\n                <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">warn</span>(<span class=\"hljs-string\">&apos;Parent: &apos;</span>, elm);\n                <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">warn</span>(<span class=\"hljs-string\">&apos;server innerHTML: &apos;</span>, i);\n                <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">warn</span>(<span class=\"hljs-string\">&apos;client innerHTML: &apos;</span>, elm.<span class=\"hljs-property\">innerHTML</span>);\n              }\n              <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>\n            }\n          } <span class=\"hljs-keyword\">else</span> {\n            <span class=\"hljs-comment\">// iterate and compare children lists</span>\n            <span class=\"hljs-keyword\">var</span> childrenMatch = <span class=\"hljs-literal\">true</span>;\n            <span class=\"hljs-keyword\">var</span> childNode = elm.<span class=\"hljs-property\">firstChild</span>;\n            <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i&#x24;1 = <span class=\"hljs-number\">0</span>; i&#x24;1 &lt; children.<span class=\"hljs-property\">length</span>; i&#x24;1++) {\n              <span class=\"hljs-keyword\">if</span> (!childNode || !<span class=\"hljs-title function_\">hydrate</span>(childNode, children[i&#x24;1], insertedVnodeQueue, inVPre)) {\n                childrenMatch = <span class=\"hljs-literal\">false</span>;\n                <span class=\"hljs-keyword\">break</span>\n              }\n              childNode = childNode.<span class=\"hljs-property\">nextSibling</span>;\n            }\n            <span class=\"hljs-comment\">// if childNode is not null, it means the actual childNodes list is</span>\n            <span class=\"hljs-comment\">// longer than the virtual children list.</span>\n            <span class=\"hljs-keyword\">if</span> (!childrenMatch || childNode) {\n              <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n              <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp;\n                <span class=\"hljs-keyword\">typeof</span> <span class=\"hljs-variable language_\">console</span> !== <span class=\"hljs-string\">&apos;undefined&apos;</span> &amp;&amp;\n                !hydrationBailed\n              ) {\n                hydrationBailed = <span class=\"hljs-literal\">true</span>;\n                <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">warn</span>(<span class=\"hljs-string\">&apos;Parent: &apos;</span>, elm);\n                <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">warn</span>(<span class=\"hljs-string\">&apos;Mismatching childNodes vs. VNodes: &apos;</span>, elm.<span class=\"hljs-property\">childNodes</span>, children);\n              }\n              <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>\n            }\n          }\n        }\n      }\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(data)) {\n        <span class=\"hljs-keyword\">var</span> fullInvoke = <span class=\"hljs-literal\">false</span>;\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> data) {\n          <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_\">isRenderedModule</span>(key)) {\n            fullInvoke = <span class=\"hljs-literal\">true</span>;\n            <span class=\"hljs-title function_\">invokeCreateHooks</span>(vnode, insertedVnodeQueue);\n            <span class=\"hljs-keyword\">break</span>\n          }\n        }\n        <span class=\"hljs-keyword\">if</span> (!fullInvoke &amp;&amp; data[<span class=\"hljs-string\">&apos;class&apos;</span>]) {\n          <span class=\"hljs-comment\">// ensure collecting deps for deep class bindings for future updates</span>\n          <span class=\"hljs-title function_\">traverse</span>(data[<span class=\"hljs-string\">&apos;class&apos;</span>]);\n        }\n      }\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (elm.<span class=\"hljs-property\">data</span> !== vnode.<span class=\"hljs-property\">text</span>) {\n      elm.<span class=\"hljs-property\">data</span> = vnode.<span class=\"hljs-property\">text</span>;\n    }\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">assertNodeMatch</span> (<span class=\"hljs-params\">node, vnode, inVPre</span>) {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(vnode.<span class=\"hljs-property\">tag</span>)) {\n      <span class=\"hljs-keyword\">return</span> vnode.<span class=\"hljs-property\">tag</span>.<span class=\"hljs-title function_\">indexOf</span>(<span class=\"hljs-string\">&apos;vue-component&apos;</span>) === <span class=\"hljs-number\">0</span> || (\n        !<span class=\"hljs-title function_\">isUnknownElement&#x24;&#x24;1</span>(vnode, inVPre) &amp;&amp;\n        vnode.<span class=\"hljs-property\">tag</span>.<span class=\"hljs-title function_\">toLowerCase</span>() === (node.<span class=\"hljs-property\">tagName</span> &amp;&amp; node.<span class=\"hljs-property\">tagName</span>.<span class=\"hljs-title function_\">toLowerCase</span>())\n      )\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-keyword\">return</span> node.<span class=\"hljs-property\">nodeType</span> === (vnode.<span class=\"hljs-property\">isComment</span> ? <span class=\"hljs-number\">8</span> : <span class=\"hljs-number\">3</span>)\n    }\n  }\n\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">patch</span> (<span class=\"hljs-params\">oldVnode, vnode, hydrating, removeOnly, parentElm, refElm</span>) {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isUndef</span>(vnode)) {\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(oldVnode)) { <span class=\"hljs-title function_\">invokeDestroyHook</span>(oldVnode); }\n      <span class=\"hljs-keyword\">return</span>\n    }\n\n    <span class=\"hljs-keyword\">var</span> isInitialPatch = <span class=\"hljs-literal\">false</span>;\n    <span class=\"hljs-keyword\">var</span> insertedVnodeQueue = [];\n\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isUndef</span>(oldVnode)) {\n      <span class=\"hljs-comment\">// empty mount (likely as component), create new root element</span>\n      isInitialPatch = <span class=\"hljs-literal\">true</span>;\n      <span class=\"hljs-title function_\">createElm</span>(vnode, insertedVnodeQueue, parentElm, refElm);\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-keyword\">var</span> isRealElement = <span class=\"hljs-title function_\">isDef</span>(oldVnode.<span class=\"hljs-property\">nodeType</span>);\n      <span class=\"hljs-keyword\">if</span> (!isRealElement &amp;&amp; <span class=\"hljs-title function_\">sameVnode</span>(oldVnode, vnode)) {\n        <span class=\"hljs-comment\">// patch existing root node</span>\n        <span class=\"hljs-title function_\">patchVnode</span>(oldVnode, vnode, insertedVnodeQueue, removeOnly);\n      } <span class=\"hljs-keyword\">else</span> {\n        <span class=\"hljs-keyword\">if</span> (isRealElement) {\n          <span class=\"hljs-comment\">// mounting to a real element</span>\n          <span class=\"hljs-comment\">// check if this is server-rendered content and if we can perform</span>\n          <span class=\"hljs-comment\">// a successful hydration.</span>\n          <span class=\"hljs-keyword\">if</span> (oldVnode.<span class=\"hljs-property\">nodeType</span> === <span class=\"hljs-number\">1</span> &amp;&amp; oldVnode.<span class=\"hljs-title function_\">hasAttribute</span>(<span class=\"hljs-variable constant_\">SSR_ATTR</span>)) {\n            oldVnode.<span class=\"hljs-title function_\">removeAttribute</span>(<span class=\"hljs-variable constant_\">SSR_ATTR</span>);\n            hydrating = <span class=\"hljs-literal\">true</span>;\n          }\n          <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isTrue</span>(hydrating)) {\n            <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">hydrate</span>(oldVnode, vnode, insertedVnodeQueue)) {\n              <span class=\"hljs-title function_\">invokeInsertHook</span>(vnode, insertedVnodeQueue, <span class=\"hljs-literal\">true</span>);\n              <span class=\"hljs-keyword\">return</span> oldVnode\n            } <span class=\"hljs-keyword\">else</span> {\n              <span class=\"hljs-title function_\">warn</span>(\n                <span class=\"hljs-string\">&apos;The client-side rendered virtual DOM tree is not matching &apos;</span> +\n                <span class=\"hljs-string\">&apos;server-rendered content. This is likely caused by incorrect &apos;</span> +\n                <span class=\"hljs-string\">&apos;HTML markup, for example nesting block-level elements inside &apos;</span> +\n                <span class=\"hljs-string\">&apos;&lt;p&gt;, or missing &lt;tbody&gt;. Bailing hydration and performing &apos;</span> +\n                <span class=\"hljs-string\">&apos;full client-side render.&apos;</span>\n              );\n            }\n          }\n          <span class=\"hljs-comment\">// either not server-rendered, or hydration failed.</span>\n          <span class=\"hljs-comment\">// create an empty node and replace it</span>\n          oldVnode = <span class=\"hljs-title function_\">emptyNodeAt</span>(oldVnode);\n        }\n\n        <span class=\"hljs-comment\">// replacing existing element</span>\n        <span class=\"hljs-keyword\">var</span> oldElm = oldVnode.<span class=\"hljs-property\">elm</span>;\n        <span class=\"hljs-keyword\">var</span> parentElm&#x24;1 = nodeOps.<span class=\"hljs-title function_\">parentNode</span>(oldElm);\n\n        <span class=\"hljs-comment\">// create new node</span>\n        <span class=\"hljs-title function_\">createElm</span>(\n          vnode,\n          insertedVnodeQueue,\n          <span class=\"hljs-comment\">// extremely rare edge case: do not insert if old element is in a</span>\n          <span class=\"hljs-comment\">// leaving transition. Only happens when combining transition +</span>\n          <span class=\"hljs-comment\">// keep-alive + HOCs. (#4590)</span>\n          oldElm.<span class=\"hljs-property\">_leaveCb</span> ? <span class=\"hljs-literal\">null</span> : parentElm&#x24;1,\n          nodeOps.<span class=\"hljs-title function_\">nextSibling</span>(oldElm)\n        );\n\n        <span class=\"hljs-comment\">// update parent placeholder node element, recursively</span>\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(vnode.<span class=\"hljs-property\">parent</span>)) {\n          <span class=\"hljs-keyword\">var</span> ancestor = vnode.<span class=\"hljs-property\">parent</span>;\n          <span class=\"hljs-keyword\">var</span> patchable = <span class=\"hljs-title function_\">isPatchable</span>(vnode);\n          <span class=\"hljs-keyword\">while</span> (ancestor) {\n            <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; cbs.<span class=\"hljs-property\">destroy</span>.<span class=\"hljs-property\">length</span>; ++i) {\n              cbs.<span class=\"hljs-property\">destroy</span>[i](ancestor);\n            }\n            ancestor.<span class=\"hljs-property\">elm</span> = vnode.<span class=\"hljs-property\">elm</span>;\n            <span class=\"hljs-keyword\">if</span> (patchable) {\n              <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i&#x24;1 = <span class=\"hljs-number\">0</span>; i&#x24;1 &lt; cbs.<span class=\"hljs-property\">create</span>.<span class=\"hljs-property\">length</span>; ++i&#x24;1) {\n                cbs.<span class=\"hljs-property\">create</span>[i&#x24;1](emptyNode, ancestor);\n              }\n              <span class=\"hljs-comment\">// #6513</span>\n              <span class=\"hljs-comment\">// invoke insert hooks that may have been merged by create hooks.</span>\n              <span class=\"hljs-comment\">// e.g. for directives that uses the &quot;inserted&quot; hook.</span>\n              <span class=\"hljs-keyword\">var</span> insert = ancestor.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">hook</span>.<span class=\"hljs-property\">insert</span>;\n              <span class=\"hljs-keyword\">if</span> (insert.<span class=\"hljs-property\">merged</span>) {\n                <span class=\"hljs-comment\">// start at index 1 to avoid re-invoking component mounted hook</span>\n                <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i&#x24;2 = <span class=\"hljs-number\">1</span>; i&#x24;2 &lt; insert.<span class=\"hljs-property\">fns</span>.<span class=\"hljs-property\">length</span>; i&#x24;2++) {\n                  insert.<span class=\"hljs-property\">fns</span>[i&#x24;2]();\n                }\n              }\n            } <span class=\"hljs-keyword\">else</span> {\n              <span class=\"hljs-title function_\">registerRef</span>(ancestor);\n            }\n            ancestor = ancestor.<span class=\"hljs-property\">parent</span>;\n          }\n        }\n\n        <span class=\"hljs-comment\">// destroy old node</span>\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(parentElm&#x24;1)) {\n          <span class=\"hljs-title function_\">removeVnodes</span>(parentElm&#x24;1, [oldVnode], <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>);\n        } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(oldVnode.<span class=\"hljs-property\">tag</span>)) {\n          <span class=\"hljs-title function_\">invokeDestroyHook</span>(oldVnode);\n        }\n      }\n    }\n\n    <span class=\"hljs-title function_\">invokeInsertHook</span>(vnode, insertedVnodeQueue, isInitialPatch);\n    <span class=\"hljs-keyword\">return</span> vnode.<span class=\"hljs-property\">elm</span>\n  }\n}\n\n<span class=\"hljs-comment\">/*  */</span>\n<span class=\"hljs-comment\">// &#x6307;&#x4ee4;&#x4e09;&#x4e2a;&#x65b9;&#x6cd5;</span>\n<span class=\"hljs-keyword\">var</span> directives = {\n  <span class=\"hljs-attr\">create</span>: updateDirectives,\n  <span class=\"hljs-attr\">update</span>: updateDirectives,\n  <span class=\"hljs-attr\">destroy</span>: <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">unbindDirectives</span> (<span class=\"hljs-params\">vnode</span>) {\n    <span class=\"hljs-title function_\">updateDirectives</span>(vnode, emptyNode);\n  }\n}\n<span class=\"hljs-comment\">// &#x8ddf;&#x65b0;&#x6307;&#x4ee4;&#xff0c;&#x65b0;&#x65e7;vnode&#x5bf9;&#x6bd4;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">updateDirectives</span> (<span class=\"hljs-params\">oldVnode, vnode</span>) {\n  <span class=\"hljs-keyword\">if</span> (oldVnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">directives</span> || vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">directives</span>) {\n    <span class=\"hljs-title function_\">_update</span>(oldVnode, vnode);\n  }\n}\n<span class=\"hljs-comment\">// </span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">_update</span> (<span class=\"hljs-params\">oldVnode, vnode</span>) {\n  <span class=\"hljs-keyword\">var</span> isCreate = oldVnode === emptyNode;\n  <span class=\"hljs-keyword\">var</span> isDestroy = vnode === emptyNode;\n  <span class=\"hljs-keyword\">var</span> oldDirs = <span class=\"hljs-title function_\">normalizeDirectives&#x24;1</span>(oldVnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">directives</span>, oldVnode.<span class=\"hljs-property\">context</span>);\n  <span class=\"hljs-keyword\">var</span> newDirs = <span class=\"hljs-title function_\">normalizeDirectives&#x24;1</span>(vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">directives</span>, vnode.<span class=\"hljs-property\">context</span>);\n\n  <span class=\"hljs-keyword\">var</span> dirsWithInsert = [];\n  <span class=\"hljs-keyword\">var</span> dirsWithPostpatch = [];\n\n  <span class=\"hljs-keyword\">var</span> key, oldDir, dir;\n  <span class=\"hljs-keyword\">for</span> (key <span class=\"hljs-keyword\">in</span> newDirs) {\n    oldDir = oldDirs[key];\n    dir = newDirs[key];\n    <span class=\"hljs-keyword\">if</span> (!oldDir) {\n      <span class=\"hljs-comment\">// new directive, bind</span>\n      <span class=\"hljs-title function_\">callHook&#x24;1</span>(dir, <span class=\"hljs-string\">&apos;bind&apos;</span>, vnode, oldVnode);\n      <span class=\"hljs-keyword\">if</span> (dir.<span class=\"hljs-property\">def</span> &amp;&amp; dir.<span class=\"hljs-property\">def</span>.<span class=\"hljs-property\">inserted</span>) {\n        dirsWithInsert.<span class=\"hljs-title function_\">push</span>(dir);\n      }\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-comment\">// existing directive, update</span>\n      dir.<span class=\"hljs-property\">oldValue</span> = oldDir.<span class=\"hljs-property\">value</span>;\n      <span class=\"hljs-title function_\">callHook&#x24;1</span>(dir, <span class=\"hljs-string\">&apos;update&apos;</span>, vnode, oldVnode);\n      <span class=\"hljs-keyword\">if</span> (dir.<span class=\"hljs-property\">def</span> &amp;&amp; dir.<span class=\"hljs-property\">def</span>.<span class=\"hljs-property\">componentUpdated</span>) {\n        dirsWithPostpatch.<span class=\"hljs-title function_\">push</span>(dir);\n      }\n    }\n  }\n\n  <span class=\"hljs-keyword\">if</span> (dirsWithInsert.<span class=\"hljs-property\">length</span>) {\n    <span class=\"hljs-keyword\">var</span> callInsert = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; dirsWithInsert.<span class=\"hljs-property\">length</span>; i++) {\n        <span class=\"hljs-title function_\">callHook&#x24;1</span>(dirsWithInsert[i], <span class=\"hljs-string\">&apos;inserted&apos;</span>, vnode, oldVnode);\n      }\n    };\n    <span class=\"hljs-keyword\">if</span> (isCreate) {\n      <span class=\"hljs-title function_\">mergeVNodeHook</span>(vnode, <span class=\"hljs-string\">&apos;insert&apos;</span>, callInsert);\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-title function_\">callInsert</span>();\n    }\n  }\n\n  <span class=\"hljs-keyword\">if</span> (dirsWithPostpatch.<span class=\"hljs-property\">length</span>) {\n    <span class=\"hljs-title function_\">mergeVNodeHook</span>(vnode, <span class=\"hljs-string\">&apos;postpatch&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; dirsWithPostpatch.<span class=\"hljs-property\">length</span>; i++) {\n        <span class=\"hljs-title function_\">callHook&#x24;1</span>(dirsWithPostpatch[i], <span class=\"hljs-string\">&apos;componentUpdated&apos;</span>, vnode, oldVnode);\n      }\n    });\n  }\n\n  <span class=\"hljs-keyword\">if</span> (!isCreate) {\n    <span class=\"hljs-keyword\">for</span> (key <span class=\"hljs-keyword\">in</span> oldDirs) {\n      <span class=\"hljs-keyword\">if</span> (!newDirs[key]) {\n        <span class=\"hljs-comment\">// no longer present, unbind</span>\n        <span class=\"hljs-title function_\">callHook&#x24;1</span>(oldDirs[key], <span class=\"hljs-string\">&apos;unbind&apos;</span>, oldVnode, oldVnode, isDestroy);\n      }\n    }\n  }\n}\n\n<span class=\"hljs-keyword\">var</span> emptyModifiers = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(<span class=\"hljs-literal\">null</span>);\n<span class=\"hljs-comment\">// &#x751f;&#x6210;&#x6307;&#x4ee4;&#x96c6;&#x5408;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">normalizeDirectives&#x24;1</span> (<span class=\"hljs-params\">\n  dirs,\n  vm\n</span>) {\n  <span class=\"hljs-keyword\">var</span> res = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(<span class=\"hljs-literal\">null</span>);\n  <span class=\"hljs-keyword\">if</span> (!dirs) {\n    <span class=\"hljs-comment\">// &#x24;flow-disable-line</span>\n    <span class=\"hljs-keyword\">return</span> res\n  }\n  <span class=\"hljs-keyword\">var</span> i, dir;\n  <span class=\"hljs-keyword\">for</span> (i = <span class=\"hljs-number\">0</span>; i &lt; dirs.<span class=\"hljs-property\">length</span>; i++) {\n    dir = dirs[i];\n    <span class=\"hljs-keyword\">if</span> (!dir.<span class=\"hljs-property\">modifiers</span>) {\n      <span class=\"hljs-comment\">// &#x24;flow-disable-line</span>\n      dir.<span class=\"hljs-property\">modifiers</span> = emptyModifiers;\n    }\n    res[<span class=\"hljs-title function_\">getRawDirName</span>(dir)] = dir;\n    dir.<span class=\"hljs-property\">def</span> = <span class=\"hljs-title function_\">resolveAsset</span>(vm.<span class=\"hljs-property\">&#x24;options</span>, <span class=\"hljs-string\">&apos;directives&apos;</span>, dir.<span class=\"hljs-property\">name</span>, <span class=\"hljs-literal\">true</span>);\n  }\n  <span class=\"hljs-comment\">// &#x24;flow-disable-line</span>\n  <span class=\"hljs-keyword\">return</span> res\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getRawDirName</span> (<span class=\"hljs-params\">dir</span>) {\n  <span class=\"hljs-keyword\">return</span> dir.<span class=\"hljs-property\">rawName</span> || ((dir.<span class=\"hljs-property\">name</span>) + <span class=\"hljs-string\">&quot;.&quot;</span> + (<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">keys</span>(dir.<span class=\"hljs-property\">modifiers</span> || {}).<span class=\"hljs-title function_\">join</span>(<span class=\"hljs-string\">&apos;.&apos;</span>)))\n}\n<span class=\"hljs-comment\">//&#x6267;&#x884c;&#x6307;&#x4ee4;&#x7684;&#x5468;&#x671f;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">callHook&#x24;1</span> (<span class=\"hljs-params\">dir, hook, vnode, oldVnode, isDestroy</span>) {\n  <span class=\"hljs-keyword\">var</span> fn = dir.<span class=\"hljs-property\">def</span> &amp;&amp; dir.<span class=\"hljs-property\">def</span>[hook];\n  <span class=\"hljs-keyword\">if</span> (fn) {\n    <span class=\"hljs-keyword\">try</span> {\n      <span class=\"hljs-title function_\">fn</span>(vnode.<span class=\"hljs-property\">elm</span>, dir, vnode, oldVnode, isDestroy);\n    } <span class=\"hljs-keyword\">catch</span> (e) {\n      <span class=\"hljs-title function_\">handleError</span>(e, vnode.<span class=\"hljs-property\">context</span>, (<span class=\"hljs-string\">&quot;directive &quot;</span> + (dir.<span class=\"hljs-property\">name</span>) + <span class=\"hljs-string\">&quot; &quot;</span> + hook + <span class=\"hljs-string\">&quot; hook&quot;</span>));\n    }\n  }\n}\n\n<span class=\"hljs-keyword\">var</span> baseModules = [\n  ref,\n  directives\n]\n\n<span class=\"hljs-comment\">/*  */</span>\n<span class=\"hljs-comment\">// &#x8ddf;&#x65b0;&#x5c5e;&#x6027;&#xff0c;&#x65b0;&#x65e7;&#x5bf9;&#x6bd4;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">updateAttrs</span> (<span class=\"hljs-params\">oldVnode, vnode</span>) {\n  <span class=\"hljs-keyword\">var</span> opts = vnode.<span class=\"hljs-property\">componentOptions</span>;\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(opts) &amp;&amp; opts.<span class=\"hljs-property\">Ctor</span>.<span class=\"hljs-property\">options</span>.<span class=\"hljs-property\">inheritAttrs</span> === <span class=\"hljs-literal\">false</span>) {\n    <span class=\"hljs-keyword\">return</span>\n  }\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isUndef</span>(oldVnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">attrs</span>) &amp;&amp; <span class=\"hljs-title function_\">isUndef</span>(vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">attrs</span>)) {\n    <span class=\"hljs-keyword\">return</span>\n  }\n  <span class=\"hljs-keyword\">var</span> key, cur, old;\n  <span class=\"hljs-keyword\">var</span> elm = vnode.<span class=\"hljs-property\">elm</span>;\n  <span class=\"hljs-keyword\">var</span> oldAttrs = oldVnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">attrs</span> || {};\n  <span class=\"hljs-keyword\">var</span> attrs = vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">attrs</span> || {};\n  <span class=\"hljs-comment\">// clone observed objects, as the user probably wants to mutate it</span>\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(attrs.<span class=\"hljs-property\">__ob__</span>)) {\n    attrs = vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">attrs</span> = <span class=\"hljs-title function_\">extend</span>({}, attrs);\n  }\n\n  <span class=\"hljs-keyword\">for</span> (key <span class=\"hljs-keyword\">in</span> attrs) {\n    cur = attrs[key];\n    old = oldAttrs[key];\n    <span class=\"hljs-keyword\">if</span> (old !== cur) {\n      <span class=\"hljs-title function_\">setAttr</span>(elm, key, cur);\n    }\n  }\n  <span class=\"hljs-comment\">// #4391: in IE9, setting type can reset value for input[type=radio]</span>\n  <span class=\"hljs-comment\">// #6666: IE/Edge forces progress value down to 1 before setting a max</span>\n  <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n  <span class=\"hljs-keyword\">if</span> ((isIE || isEdge) &amp;&amp; attrs.<span class=\"hljs-property\">value</span> !== oldAttrs.<span class=\"hljs-property\">value</span>) {\n    <span class=\"hljs-title function_\">setAttr</span>(elm, <span class=\"hljs-string\">&apos;value&apos;</span>, attrs.<span class=\"hljs-property\">value</span>);\n  }\n  <span class=\"hljs-keyword\">for</span> (key <span class=\"hljs-keyword\">in</span> oldAttrs) {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isUndef</span>(attrs[key])) {\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isXlink</span>(key)) {\n        elm.<span class=\"hljs-title function_\">removeAttributeNS</span>(xlinkNS, <span class=\"hljs-title function_\">getXlinkProp</span>(key));\n      } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_\">isEnumeratedAttr</span>(key)) {\n        elm.<span class=\"hljs-title function_\">removeAttribute</span>(key);\n      }\n    }\n  }\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">setAttr</span> (<span class=\"hljs-params\">el, key, value</span>) {\n  <span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;&#x5c5e;&#x6027;&#x6709;-&#xff0c;&#x76f4;&#x63a5;&#x8bbe;&#x7f6e;</span>\n  <span class=\"hljs-keyword\">if</span> (el.<span class=\"hljs-property\">tagName</span>.<span class=\"hljs-title function_\">indexOf</span>(<span class=\"hljs-string\">&apos;-&apos;</span>) &gt; -<span class=\"hljs-number\">1</span>) {\n    <span class=\"hljs-title function_\">baseSetAttr</span>(el, key, value);\n  } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isBooleanAttr</span>(key)) {\n    <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x662f;&#x5e03;&#x5c14;&#x7c7b;&#x578b;</span>\n    <span class=\"hljs-comment\">// set attribute for blank value</span>\n    <span class=\"hljs-comment\">// e.g. &lt;option disabled&gt;Select one&lt;/option&gt;</span>\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isFalsyAttrValue</span>(value)) {\n      el.<span class=\"hljs-title function_\">removeAttribute</span>(key);\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-comment\">// technically allowfullscreen is a boolean attribute for &lt;iframe&gt;,</span>\n      <span class=\"hljs-comment\">// but Flash expects a value of &quot;true&quot; when used on &lt;embed&gt; tag</span>\n      value = key === <span class=\"hljs-string\">&apos;allowfullscreen&apos;</span> &amp;&amp; el.<span class=\"hljs-property\">tagName</span> === <span class=\"hljs-string\">&apos;EMBED&apos;</span>\n        ? <span class=\"hljs-string\">&apos;true&apos;</span>\n        : key;\n      el.<span class=\"hljs-title function_\">setAttribute</span>(key, value);\n    }\n    <span class=\"hljs-comment\">// &#x679a;&#x4e3e;&#x7684;key</span>\n  } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isEnumeratedAttr</span>(key)) {\n    el.<span class=\"hljs-title function_\">setAttribute</span>(key, <span class=\"hljs-title function_\">isFalsyAttrValue</span>(value) || value === <span class=\"hljs-string\">&apos;false&apos;</span> ? <span class=\"hljs-string\">&apos;false&apos;</span> : <span class=\"hljs-string\">&apos;true&apos;</span>);\n    <span class=\"hljs-comment\">// xlink</span>\n  } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isXlink</span>(key)) {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isFalsyAttrValue</span>(value)) {\n      el.<span class=\"hljs-title function_\">removeAttributeNS</span>(xlinkNS, <span class=\"hljs-title function_\">getXlinkProp</span>(key));\n    } <span class=\"hljs-keyword\">else</span> {\n      el.<span class=\"hljs-title function_\">setAttributeNS</span>(xlinkNS, key, value);\n    }\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-comment\">//&#x5176;&#x5b83;</span>\n    <span class=\"hljs-title function_\">baseSetAttr</span>(el, key, value);\n  }\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">baseSetAttr</span> (<span class=\"hljs-params\">el, key, value</span>) {\n  <span class=\"hljs-comment\">// &#x4e0d;&#x662f;&#x5408;&#x6cd5;&#x7684;&#x5c5e;&#x6027;&#x79fb;&#x9664;</span>\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isFalsyAttrValue</span>(value)) {\n    el.<span class=\"hljs-title function_\">removeAttribute</span>(key);\n  <span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;&#x5143;&#x7d20;&#x5c5e;&#x6027;</span>\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-comment\">// #7138: IE10 &amp; 11 fires input event when setting placeholder on</span>\n    <span class=\"hljs-comment\">// &lt;textarea&gt;... block the first input event and remove the blocker</span>\n    <span class=\"hljs-comment\">// immediately.</span>\n    <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n    <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x662f;textarea&#xff0c;&#x5c5e;&#x6027;&#x662f;placeholder,&#x5176;&#x4ed6;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;&#x505c;&#x6b62;&#x76d1;&#x542c;</span>\n    <span class=\"hljs-keyword\">if</span> (\n      isIE &amp;&amp; !isIE9 &amp;&amp;\n      el.<span class=\"hljs-property\">tagName</span> === <span class=\"hljs-string\">&apos;TEXTAREA&apos;</span> &amp;&amp;\n      key === <span class=\"hljs-string\">&apos;placeholder&apos;</span> &amp;&amp; !el.<span class=\"hljs-property\">__ieph</span>\n    ) {\n      <span class=\"hljs-keyword\">var</span> blocker = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">e</span>) {\n        e.<span class=\"hljs-title function_\">stopImmediatePropagation</span>();\n        el.<span class=\"hljs-title function_\">removeEventListener</span>(<span class=\"hljs-string\">&apos;input&apos;</span>, blocker);\n      };\n      el.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;input&apos;</span>, blocker);\n      <span class=\"hljs-comment\">// &#x24;flow-disable-line</span>\n      el.<span class=\"hljs-property\">__ieph</span> = <span class=\"hljs-literal\">true</span>; <span class=\"hljs-comment\">/* IE placeholder patched */</span>\n    }\n    el.<span class=\"hljs-title function_\">setAttribute</span>(key, value);\n  }\n}\n<span class=\"hljs-comment\">// &#x5c5e;&#x6027;&#x96c6;&#x5408;</span>\n<span class=\"hljs-keyword\">var</span> attrs = {\n  <span class=\"hljs-attr\">create</span>: updateAttrs,\n  <span class=\"hljs-attr\">update</span>: updateAttrs\n}\n\n<span class=\"hljs-comment\">/*  */</span>\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">updateClass</span> (<span class=\"hljs-params\">oldVnode, vnode</span>) {\n  <span class=\"hljs-keyword\">var</span> el = vnode.<span class=\"hljs-property\">elm</span>;\n  <span class=\"hljs-keyword\">var</span> data = vnode.<span class=\"hljs-property\">data</span>;\n  <span class=\"hljs-keyword\">var</span> oldData = oldVnode.<span class=\"hljs-property\">data</span>;\n  <span class=\"hljs-keyword\">if</span> (\n    <span class=\"hljs-title function_\">isUndef</span>(data.<span class=\"hljs-property\">staticClass</span>) &amp;&amp;\n    <span class=\"hljs-title function_\">isUndef</span>(data.<span class=\"hljs-property\">class</span>) &amp;&amp; (\n      <span class=\"hljs-title function_\">isUndef</span>(oldData) || (\n        <span class=\"hljs-title function_\">isUndef</span>(oldData.<span class=\"hljs-property\">staticClass</span>) &amp;&amp;\n        <span class=\"hljs-title function_\">isUndef</span>(oldData.<span class=\"hljs-property\">class</span>)\n      )\n    )\n  ) {\n    <span class=\"hljs-keyword\">return</span>\n  }\n  <span class=\"hljs-comment\">// &#x7c7b;&#x96c6;&#x5408;</span>\n  <span class=\"hljs-keyword\">var</span> cls = <span class=\"hljs-title function_\">genClassForVnode</span>(vnode);\n\n  <span class=\"hljs-comment\">// handle transition classes</span>\n  <span class=\"hljs-comment\">// &#x52a8;&#x753b;&#x7684;&#x7c7b;&#x96c6;&#x5408;</span>\n  <span class=\"hljs-keyword\">var</span> transitionClass = el.<span class=\"hljs-property\">_transitionClasses</span>;\n  <span class=\"hljs-comment\">// &#x5408;&#x5e76;</span>\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(transitionClass)) {\n    cls = <span class=\"hljs-title function_\">concat</span>(cls, <span class=\"hljs-title function_\">stringifyClass</span>(transitionClass));\n  }\n\n  <span class=\"hljs-comment\">// set the class</span>\n  <span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;&#x5c5e;&#x6027;</span>\n  <span class=\"hljs-keyword\">if</span> (cls !== el.<span class=\"hljs-property\">_prevClass</span>) {\n    el.<span class=\"hljs-title function_\">setAttribute</span>(<span class=\"hljs-string\">&apos;class&apos;</span>, cls);\n    el.<span class=\"hljs-property\">_prevClass</span> = cls;\n  }\n}\n<span class=\"hljs-comment\">// &#x7c7b;&#x7684;&#x96c6;&#x5408;</span>\n<span class=\"hljs-keyword\">var</span> klass = {\n  <span class=\"hljs-attr\">create</span>: updateClass,\n  <span class=\"hljs-attr\">update</span>: updateClass\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"6,937"}}],"payload":{"tag":"h3","lines":"0,1"}},{})</script>
</body>
</html>
