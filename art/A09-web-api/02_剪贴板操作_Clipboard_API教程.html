<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x526a;&#x8d34;&#x677f;&#x64cd;&#x4f5c; Clipboard API &#x6559;&#x7a0b;","children":[{"content":"&#x7b80;&#x4ecb; <a href=\"#%E7%AE%80%E4%BB%8B\">#</a><a href=\"#navbar\"></a>","children":[{"content":"<pre data-lines=\"5,16\"><code>&#x6d4f;&#x89c8;&#x5668;&#x5141;&#x8bb8; JavaScript &#x811a;&#x672c;&#x8bfb;&#x5199;&#x526a;&#x8d34;&#x677f;&#xff0c;&#x81ea;&#x52a8;&#x590d;&#x5236;&#x6216;&#x7c98;&#x8d34;&#x5185;&#x5bb9;&#x3002;\n\n&#x4e00;&#x822c;&#x6765;&#x8bf4;&#xff0c;&#x811a;&#x672c;&#x4e0d;&#x5e94;&#x8be5;&#x6539;&#x52a8;&#x7528;&#x6237;&#x7684;&#x526a;&#x8d34;&#x677f;&#xff0c;&#x4ee5;&#x514d;&#x4e0d;&#x7b26;&#x5408;&#x7528;&#x6237;&#x7684;&#x9884;&#x671f;&#x3002;&#x4f46;&#x662f;&#xff0c;&#x6709;&#x4e9b;&#x65f6;&#x5019;&#x8fd9;&#x6837;&#x505a;&#x786e;&#x5b9e;&#x80fd;&#x591f;&#x5e26;&#x6765;&#x65b9;&#x4fbf;&#xff0c;&#x6bd4;&#x5982;&#x201c;&#x4e00;&#x952e;&#x590d;&#x5236;&#x201d;&#x529f;&#x80fd;&#xff0c;&#x7528;&#x6237;&#x70b9;&#x51fb;&#x4e00;&#x4e0b;&#x6309;&#x94ae;&#xff0c;&#x6307;&#x5b9a;&#x7684;&#x5185;&#x5bb9;&#x5c31;&#x81ea;&#x52a8;&#x8fdb;&#x5165;&#x526a;&#x8d34;&#x677f;&#x3002;\n\n&#x76ee;&#x524d;&#xff0c;&#x4e00;&#x5171;&#x6709;&#x4e09;&#x79cd;&#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#x526a;&#x8d34;&#x677f;&#x64cd;&#x4f5c;&#x3002;\n\n*   `Document.execCommand()`&#x65b9;&#x6cd5;\n*   &#x5f02;&#x6b65;&#x7684; Clipboard API\n*   `copy`&#x4e8b;&#x4ef6;&#x548c;`paste`&#x4e8b;&#x4ef6;\n\n&#x672c;&#x6587;&#x9010;&#x4e00;&#x4ecb;&#x7ecd;&#x8fd9;&#x4e09;&#x79cd;&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"5,16"}}],"payload":{"tag":"h2","lines":"2,4"}},{"content":"Document.execCommand() &#x65b9;&#x6cd5; <a href=\"#documentexeccommand-%E6%96%B9%E6%B3%95\">#</a><a href=\"#navbar\"></a>","children":[{"content":"<pre data-lines=\"20,31\"><code>`Document.execCommand()`&#x662f;&#x64cd;&#x4f5c;&#x526a;&#x8d34;&#x677f;&#x7684;&#x4f20;&#x7edf;&#x65b9;&#x6cd5;&#xff0c;&#x5404;&#x79cd;&#x6d4f;&#x89c8;&#x5668;&#x90fd;&#x652f;&#x6301;&#x3002;\n\n&#x5b83;&#x652f;&#x6301;&#x590d;&#x5236;&#x3001;&#x526a;&#x5207;&#x548c;&#x7c98;&#x8d34;&#x8fd9;&#x4e09;&#x4e2a;&#x64cd;&#x4f5c;&#x3002;\n\n*   `document.execCommand(&apos;copy&apos;)`&#xff08;&#x590d;&#x5236;&#xff09;\n*   `document.execCommand(&apos;cut&apos;)`&#xff08;&#x526a;&#x5207;&#xff09;\n*   `document.execCommand(&apos;paste&apos;)`&#xff08;&#x7c98;&#x8d34;&#xff09;\n\n&#xff08;1&#xff09;&#x590d;&#x5236;&#x64cd;&#x4f5c;\n\n&#x590d;&#x5236;&#x65f6;&#xff0c;&#x5148;&#x9009;&#x4e2d;&#x6587;&#x672c;&#xff0c;&#x7136;&#x540e;&#x8c03;&#x7528;`document.execCommand(&apos;copy&apos;)`&#xff0c;&#x9009;&#x4e2d;&#x7684;&#x6587;&#x672c;&#x5c31;&#x4f1a;&#x8fdb;&#x5165;&#x526a;&#x8d34;&#x677f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"20,31"}},{"content":"<pre data-lines=\"32,37\"><code data-lines=\"32,37\"><span class=\"hljs-keyword\">const</span> inputElement = <span class=\"hljs-built_in\">document</span>.<span class=\"hljs-built_in\">querySelector</span>(<span class=\"hljs-string\">&apos;#input&apos;</span>);\ninputElement.select();\n<span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;copy&apos;</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"32,37"}},{"content":"<pre data-lines=\"38,45\"><code>&#x4e0a;&#x9762;&#x793a;&#x4f8b;&#x4e2d;&#xff0c;&#x811a;&#x672c;&#x5148;&#x9009;&#x4e2d;&#x8f93;&#x5165;&#x6846;`inputElement`&#x91cc;&#x9762;&#x7684;&#x6587;&#x5b57;&#xff08;`inputElement.select()`&#xff09;&#xff0c;&#x7136;&#x540e;`document.execCommand(&apos;copy&apos;)`&#x5c06;&#x5176;&#x590d;&#x5236;&#x5230;&#x526a;&#x8d34;&#x677f;&#x3002;\n\n&#x6ce8;&#x610f;&#xff0c;&#x590d;&#x5236;&#x64cd;&#x4f5c;&#x6700;&#x597d;&#x653e;&#x5728;&#x4e8b;&#x4ef6;&#x76d1;&#x542c;&#x51fd;&#x6570;&#x91cc;&#x9762;&#xff0c;&#x7531;&#x7528;&#x6237;&#x89e6;&#x53d1;&#xff08;&#x6bd4;&#x5982;&#x7528;&#x6237;&#x70b9;&#x51fb;&#x6309;&#x94ae;&#xff09;&#x3002;&#x5982;&#x679c;&#x811a;&#x672c;&#x81ea;&#x4e3b;&#x6267;&#x884c;&#xff0c;&#x67d0;&#x4e9b;&#x6d4f;&#x89c8;&#x5668;&#x53ef;&#x80fd;&#x4f1a;&#x62a5;&#x9519;&#x3002;\n\n&#xff08;2&#xff09;&#x7c98;&#x8d34;&#x64cd;&#x4f5c;\n\n&#x7c98;&#x8d34;&#x65f6;&#xff0c;&#x8c03;&#x7528;`document.execCommand(&apos;paste&apos;)`&#xff0c;&#x5c31;&#x4f1a;&#x5c06;&#x526a;&#x8d34;&#x677f;&#x91cc;&#x9762;&#x7684;&#x5185;&#x5bb9;&#xff0c;&#x8f93;&#x51fa;&#x5230;&#x5f53;&#x524d;&#x7684;&#x7126;&#x70b9;&#x5143;&#x7d20;&#x4e2d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"38,45"}},{"content":"<pre data-lines=\"46,51\"><code data-lines=\"46,51\"><span class=\"hljs-keyword\">const</span> pasteText = <span class=\"hljs-built_in\">document</span>.<span class=\"hljs-built_in\">querySelector</span>(<span class=\"hljs-string\">&apos;#output&apos;</span>);\npasteText.focus();\n<span class=\"hljs-built_in\">document</span>.execCommand(<span class=\"hljs-string\">&apos;paste&apos;</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"46,51"}},{"content":"<pre data-lines=\"52,61\"><code>&#xff08;3&#xff09;&#x7f3a;&#x70b9;\n\n`Document.execCommand()`&#x65b9;&#x6cd5;&#x867d;&#x7136;&#x65b9;&#x4fbf;&#xff0c;&#x4f46;&#x662f;&#x6709;&#x4e00;&#x4e9b;&#x7f3a;&#x70b9;&#x3002;\n\n&#x9996;&#x5148;&#xff0c;&#x5b83;&#x53ea;&#x80fd;&#x5c06;&#x9009;&#x4e2d;&#x7684;&#x5185;&#x5bb9;&#x590d;&#x5236;&#x5230;&#x526a;&#x8d34;&#x677f;&#xff0c;&#x65e0;&#x6cd5;&#x5411;&#x526a;&#x8d34;&#x677f;&#x4efb;&#x610f;&#x5199;&#x5165;&#x5185;&#x5bb9;&#x3002;\n\n&#x5176;&#x6b21;&#xff0c;&#x5b83;&#x662f;&#x540c;&#x6b65;&#x64cd;&#x4f5c;&#xff0c;&#x5982;&#x679c;&#x590d;&#x5236;/&#x7c98;&#x8d34;&#x5927;&#x91cf;&#x6570;&#x636e;&#xff0c;&#x9875;&#x9762;&#x4f1a;&#x51fa;&#x73b0;&#x5361;&#x987f;&#x3002;&#x6709;&#x4e9b;&#x6d4f;&#x89c8;&#x5668;&#x8fd8;&#x4f1a;&#x8df3;&#x51fa;&#x63d0;&#x793a;&#x6846;&#xff0c;&#x8981;&#x6c42;&#x7528;&#x6237;&#x8bb8;&#x53ef;&#xff0c;&#x8fd9;&#x65f6;&#x5728;&#x7528;&#x6237;&#x505a;&#x51fa;&#x9009;&#x62e9;&#x524d;&#xff0c;&#x9875;&#x9762;&#x4f1a;&#x5931;&#x53bb;&#x54cd;&#x5e94;&#x3002;\n\n&#x4e3a;&#x4e86;&#x89e3;&#x51b3;&#x8fd9;&#x4e9b;&#x95ee;&#x9898;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x5382;&#x5546;&#x63d0;&#x51fa;&#x4e86;&#x5f02;&#x6b65;&#x7684; Clipboard API&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"52,61"}}],"payload":{"tag":"h2","lines":"17,19"}},{"content":"&#x5f02;&#x6b65; Clipboard API <a href=\"#%E5%BC%82%E6%AD%A5-clipboard-api\">#</a><a href=\"#navbar\"></a>","children":[{"content":"<pre data-lines=\"65,70\"><code>Clipboard API &#x662f;&#x4e0b;&#x4e00;&#x4ee3;&#x7684;&#x526a;&#x8d34;&#x677f;&#x64cd;&#x4f5c;&#x65b9;&#x6cd5;&#xff0c;&#x6bd4;&#x4f20;&#x7edf;&#x7684;`document.execCommand()`&#x65b9;&#x6cd5;&#x66f4;&#x5f3a;&#x5927;&#x3001;&#x66f4;&#x5408;&#x7406;&#x3002;\n\n&#x5b83;&#x7684;&#x6240;&#x6709;&#x64cd;&#x4f5c;&#x90fd;&#x662f;&#x5f02;&#x6b65;&#x7684;&#xff0c;&#x8fd4;&#x56de; Promise &#x5bf9;&#x8c61;&#xff0c;&#x4e0d;&#x4f1a;&#x9020;&#x6210;&#x9875;&#x9762;&#x5361;&#x987f;&#x3002;&#x800c;&#x4e14;&#xff0c;&#x5b83;&#x53ef;&#x4ee5;&#x5c06;&#x4efb;&#x610f;&#x5185;&#x5bb9;&#xff08;&#x6bd4;&#x5982;&#x56fe;&#x7247;&#xff09;&#x653e;&#x5165;&#x526a;&#x8d34;&#x677f;&#x3002;\n\n`navigator.clipboard`&#x5c5e;&#x6027;&#x8fd4;&#x56de; Clipboard &#x5bf9;&#x8c61;&#xff0c;&#x6240;&#x6709;&#x64cd;&#x4f5c;&#x90fd;&#x901a;&#x8fc7;&#x8fd9;&#x4e2a;&#x5bf9;&#x8c61;&#x8fdb;&#x884c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"65,70"}},{"content":"<pre data-lines=\"71,74\"><code data-lines=\"71,74\">const clipboardObj <span class=\"hljs-operator\">=</span> navigator.clipboard<span class=\"hljs-comment\">; </span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"71,74"}},{"content":"<pre data-lines=\"75,82\"><code>&#x5982;&#x679c;`navigator.clipboard`&#x5c5e;&#x6027;&#x8fd4;&#x56de;`undefined`&#xff0c;&#x5c31;&#x8bf4;&#x660e;&#x5f53;&#x524d;&#x6d4f;&#x89c8;&#x5668;&#x4e0d;&#x652f;&#x6301;&#x8fd9;&#x4e2a; API&#x3002;\n\n&#x7531;&#x4e8e;&#x7528;&#x6237;&#x53ef;&#x80fd;&#x628a;&#x654f;&#x611f;&#x6570;&#x636e;&#xff08;&#x6bd4;&#x5982;&#x5bc6;&#x7801;&#xff09;&#x653e;&#x5728;&#x526a;&#x8d34;&#x677f;&#xff0c;&#x5141;&#x8bb8;&#x811a;&#x672c;&#x4efb;&#x610f;&#x8bfb;&#x53d6;&#x4f1a;&#x4ea7;&#x751f;&#x5b89;&#x5168;&#x98ce;&#x9669;&#xff0c;&#x6240;&#x4ee5;&#x8fd9;&#x4e2a; API &#x7684;&#x5b89;&#x5168;&#x9650;&#x5236;&#x6bd4;&#x8f83;&#x591a;&#x3002;\n\n&#x9996;&#x5148;&#xff0c;Chrome &#x6d4f;&#x89c8;&#x5668;&#x89c4;&#x5b9a;&#xff0c;&#x53ea;&#x6709; HTTPS &#x534f;&#x8bae;&#x7684;&#x9875;&#x9762;&#x624d;&#x80fd;&#x4f7f;&#x7528;&#x8fd9;&#x4e2a; API&#x3002;&#x4e0d;&#x8fc7;&#xff0c;&#x5f00;&#x53d1;&#x73af;&#x5883;&#xff08;`localhost`&#xff09;&#x5141;&#x8bb8;&#x4f7f;&#x7528;&#x975e;&#x52a0;&#x5bc6;&#x534f;&#x8bae;&#x3002;\n\n&#x5176;&#x6b21;&#xff0c;&#x8c03;&#x7528;&#x65f6;&#x9700;&#x8981;&#x660e;&#x786e;&#x83b7;&#x5f97;&#x7528;&#x6237;&#x7684;&#x8bb8;&#x53ef;&#x3002;&#x6743;&#x9650;&#x7684;&#x5177;&#x4f53;&#x5b9e;&#x73b0;&#x4f7f;&#x7528;&#x4e86; Permissions API&#xff0c;&#x8ddf;&#x526a;&#x8d34;&#x677f;&#x76f8;&#x5173;&#x7684;&#x6709;&#x4e24;&#x4e2a;&#x6743;&#x9650;&#xff1a;`clipboard-write`&#xff08;&#x5199;&#x6743;&#x9650;&#xff09;&#x548c;`clipboard-read`&#xff08;&#x8bfb;&#x6743;&#x9650;&#xff09;&#x3002;&#x201c;&#x5199;&#x6743;&#x9650;&#x201d;&#x81ea;&#x52a8;&#x6388;&#x4e88;&#x811a;&#x672c;&#xff0c;&#x800c;&#x201c;&#x8bfb;&#x6743;&#x9650;&#x201d;&#x5fc5;&#x987b;&#x7528;&#x6237;&#x660e;&#x786e;&#x540c;&#x610f;&#x7ed9;&#x4e88;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x5199;&#x5165;&#x526a;&#x8d34;&#x677f;&#xff0c;&#x811a;&#x672c;&#x53ef;&#x4ee5;&#x81ea;&#x52a8;&#x5b8c;&#x6210;&#xff0c;&#x4f46;&#x662f;&#x8bfb;&#x53d6;&#x526a;&#x8d34;&#x677f;&#x65f6;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x4f1a;&#x5f39;&#x51fa;&#x4e00;&#x4e2a;&#x5bf9;&#x8bdd;&#x6846;&#xff0c;&#x8be2;&#x95ee;&#x7528;&#x6237;&#x662f;&#x5426;&#x540c;&#x610f;&#x8bfb;&#x53d6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"75,82"}},{"content":"<img src=\"https://www.wangbase.com/blogimg/asset/202101/bg2021012004.jpg\" alt>","children":[],"payload":{"tag":"img","lines":"83,84"}},{"content":"<pre data-lines=\"85,86\"><code>&#x53e6;&#x5916;&#xff0c;&#x9700;&#x8981;&#x6ce8;&#x610f;&#x7684;&#x662f;&#xff0c;&#x811a;&#x672c;&#x8bfb;&#x53d6;&#x7684;&#x603b;&#x662f;&#x5f53;&#x524d;&#x9875;&#x9762;&#x7684;&#x526a;&#x8d34;&#x677f;&#x3002;&#x8fd9;&#x5e26;&#x6765;&#x7684;&#x4e00;&#x4e2a;&#x95ee;&#x9898;&#x662f;&#xff0c;&#x5982;&#x679c;&#x628a;&#x76f8;&#x5173;&#x7684;&#x4ee3;&#x7801;&#x7c98;&#x8d34;&#x5230;&#x5f00;&#x53d1;&#x8005;&#x5de5;&#x5177;&#x4e2d;&#x76f4;&#x63a5;&#x8fd0;&#x884c;&#xff0c;&#x53ef;&#x80fd;&#x4f1a;&#x62a5;&#x9519;&#xff0c;&#x56e0;&#x4e3a;&#x8fd9;&#x65f6;&#x7684;&#x5f53;&#x524d;&#x9875;&#x9762;&#x662f;&#x5f00;&#x53d1;&#x8005;&#x5de5;&#x5177;&#x7684;&#x7a97;&#x53e3;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x7f51;&#x9875;&#x9875;&#x9762;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"85,86"}},{"content":"<pre data-lines=\"87,93\"><code data-lines=\"87,93\">(async () <span class=\"hljs-operator\">=</span>&gt; {\n  const text <span class=\"hljs-operator\">=</span> await navigator.clipboard.readText()<span class=\"hljs-comment\">;</span>\n  console.log(text)<span class=\"hljs-comment\">;</span>\n})()<span class=\"hljs-comment\">; </span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"87,93"}},{"content":"<pre data-lines=\"94,95\"><code>&#x5982;&#x679c;&#x4f60;&#x628a;&#x4e0a;&#x9762;&#x7684;&#x4ee3;&#x7801;&#xff0c;&#x7c98;&#x8d34;&#x5230;&#x5f00;&#x53d1;&#x8005;&#x5de5;&#x5177;&#x91cc;&#x9762;&#x8fd0;&#x884c;&#xff0c;&#x5c31;&#x4f1a;&#x62a5;&#x9519;&#x3002;&#x56e0;&#x4e3a;&#x4ee3;&#x7801;&#x8fd0;&#x884c;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x5f00;&#x53d1;&#x8005;&#x5de5;&#x5177;&#x7a97;&#x53e3;&#x662f;&#x5f53;&#x524d;&#x9875;&#xff0c;&#x8fd9;&#x4e2a;&#x9875;&#x9762;&#x4e0d;&#x5b58;&#x5728; Clipboard API &#x4f9d;&#x8d56;&#x7684; DOM &#x63a5;&#x53e3;&#x3002;&#x4e00;&#x4e2a;&#x89e3;&#x51b3;&#x65b9;&#x6cd5;&#x5c31;&#x662f;&#xff0c;&#x76f8;&#x5173;&#x4ee3;&#x7801;&#x653e;&#x5230;`setTimeout()`&#x91cc;&#x9762;&#x5ef6;&#x8fdf;&#x8fd0;&#x884c;&#xff0c;&#x5728;&#x8c03;&#x7528;&#x51fd;&#x6570;&#x4e4b;&#x524d;&#x5feb;&#x901f;&#x70b9;&#x51fb;&#x6d4f;&#x89c8;&#x5668;&#x7684;&#x9875;&#x9762;&#x7a97;&#x53e3;&#xff0c;&#x5c06;&#x5176;&#x53d8;&#x6210;&#x5f53;&#x524d;&#x9875;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"94,95"}},{"content":"<pre data-lines=\"96,102\"><code data-lines=\"96,102\"><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-keyword\">async</span> () =&gt; {\n  <span class=\"hljs-keyword\">const</span> text = <span class=\"hljs-keyword\">await</span> navigator.clipboard.readText();\n  console.log(text);\n}, <span class=\"hljs-number\">2000</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"96,102"}},{"content":"<pre data-lines=\"103,104\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7c98;&#x8d34;&#x5230;&#x5f00;&#x53d1;&#x8005;&#x5de5;&#x5177;&#x8fd0;&#x884c;&#x540e;&#xff0c;&#x5feb;&#x901f;&#x70b9;&#x51fb;&#x4e00;&#x4e0b;&#x7f51;&#x9875;&#x7684;&#x9875;&#x9762;&#x7a97;&#x53e3;&#xff0c;&#x4f7f;&#x5176;&#x53d8;&#x4e3a;&#x5f53;&#x524d;&#x9875;&#xff0c;&#x8fd9;&#x6837;&#x5c31;&#x4e0d;&#x4f1a;&#x62a5;&#x9519;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"103,104"}}],"payload":{"tag":"h2","lines":"62,64"}},{"content":"Clipboard &#x5bf9;&#x8c61; <a href=\"#clipboard-%E5%AF%B9%E8%B1%A1\">#</a><a href=\"#navbar\"></a>","children":[{"content":"<pre data-lines=\"110,111\"><code>Clipboard &#x5bf9;&#x8c61;&#x63d0;&#x4f9b;&#x4e86;&#x56db;&#x4e2a;&#x65b9;&#x6cd5;&#xff0c;&#x7528;&#x6765;&#x8bfb;&#x5199;&#x526a;&#x8d34;&#x677f;&#x3002;&#x5b83;&#x4eec;&#x90fd;&#x662f;&#x5f02;&#x6b65;&#x65b9;&#x6cd5;&#xff0c;&#x8fd4;&#x56de; Promise &#x5bf9;&#x8c61;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"110,111"}},{"content":"Clipboard.readText() <a href=\"#clipboardreadtext\">#</a><a href=\"#navbar\"></a>","children":[{"content":"<pre data-lines=\"114,115\"><code>`Clipboard.readText()`&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x590d;&#x5236;&#x526a;&#x8d34;&#x677f;&#x91cc;&#x9762;&#x7684;&#x6587;&#x672c;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"114,115"}},{"content":"<pre data-lines=\"116,125\"><code data-lines=\"116,125\"><span class=\"hljs-built_in\">document</span>.body.addEventListener(\n  <span class=\"hljs-string\">&apos;click&apos;</span>,\n  <span class=\"hljs-keyword\">async</span> (e) =&gt; {\n    <span class=\"hljs-keyword\">const</span> text = <span class=\"hljs-keyword\">await</span> navigator.clipboard.readText();\n    console.log(text);\n  }\n) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"116,125"}},{"content":"<pre data-lines=\"126,129\"><code>&#x4e0a;&#x9762;&#x793a;&#x4f8b;&#x4e2d;&#xff0c;&#x7528;&#x6237;&#x70b9;&#x51fb;&#x9875;&#x9762;&#x540e;&#xff0c;&#x5c31;&#x4f1a;&#x8f93;&#x51fa;&#x526a;&#x8d34;&#x677f;&#x91cc;&#x9762;&#x7684;&#x6587;&#x672c;&#x3002;&#x6ce8;&#x610f;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x8fd9;&#x65f6;&#x4f1a;&#x8df3;&#x51fa;&#x4e00;&#x4e2a;&#x5bf9;&#x8bdd;&#x6846;&#xff0c;&#x8be2;&#x95ee;&#x7528;&#x6237;&#x662f;&#x5426;&#x540c;&#x610f;&#x811a;&#x672c;&#x8bfb;&#x53d6;&#x526a;&#x8d34;&#x677f;&#x3002;\n\n&#x5982;&#x679c;&#x7528;&#x6237;&#x4e0d;&#x540c;&#x610f;&#xff0c;&#x811a;&#x672c;&#x5c31;&#x4f1a;&#x62a5;&#x9519;&#x3002;&#x8fd9;&#x65f6;&#xff0c;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;`try...catch`&#x7ed3;&#x6784;&#xff0c;&#x5904;&#x7406;&#x62a5;&#x9519;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"126,129"}},{"content":"<pre data-lines=\"130,140\"><code data-lines=\"130,140\">async <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getClipboardContents</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">try</span> {\n    const <span class=\"hljs-built_in\">text</span> = await navigator.clipboard.readText();\n    <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(<span class=\"hljs-string\">&apos;Pasted content: &apos;</span>, <span class=\"hljs-built_in\">text</span>);\n  } <span class=\"hljs-keyword\">catch</span> (err) {\n    <span class=\"hljs-built_in\">console</span>.error(<span class=\"hljs-string\">&apos;Failed to read clipboard contents: &apos;</span>, err);\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"130,140"}}],"payload":{"tag":"h3","lines":"112,113"}},{"content":"Clipboard.read() <a href=\"#clipboardread\">#</a><a href=\"#navbar\"></a>","children":[{"content":"<pre data-lines=\"143,146\"><code>`Clipboard.read()`&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x590d;&#x5236;&#x526a;&#x8d34;&#x677f;&#x91cc;&#x9762;&#x7684;&#x6570;&#x636e;&#xff0c;&#x53ef;&#x4ee5;&#x662f;&#x6587;&#x672c;&#x6570;&#x636e;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x662f;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#xff08;&#x6bd4;&#x5982;&#x56fe;&#x7247;&#xff09;&#x3002;&#x8be5;&#x65b9;&#x6cd5;&#x9700;&#x8981;&#x7528;&#x6237;&#x660e;&#x786e;&#x7ed9;&#x4e88;&#x8bb8;&#x53ef;&#x3002;\n\n&#x8be5;&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#x3002;&#x4e00;&#x65e6;&#x8be5;&#x5bf9;&#x8c61;&#x7684;&#x72b6;&#x6001;&#x53d8;&#x4e3a; resolved&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x83b7;&#x5f97;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;&#xff0c;&#x6bcf;&#x4e2a;&#x6570;&#x7ec4;&#x6210;&#x5458;&#x90fd;&#x662f; ClipboardItem &#x5bf9;&#x8c61;&#x7684;&#x5b9e;&#x4f8b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"143,146"}},{"content":"<pre data-lines=\"147,162\"><code data-lines=\"147,162\"><span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getClipboardContents</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">try</span> {\n    <span class=\"hljs-keyword\">const</span> clipboardItems = <span class=\"hljs-keyword\">await</span> navigator.<span class=\"hljs-property\">clipboard</span>.<span class=\"hljs-title function_\">read</span>();\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">const</span> clipboardItem <span class=\"hljs-keyword\">of</span> clipboardItems) {\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">type</span> <span class=\"hljs-keyword\">of</span> clipboardItem.<span class=\"hljs-property\">types</span>) {\n        <span class=\"hljs-keyword\">const</span> blob = <span class=\"hljs-keyword\">await</span> clipboardItem.<span class=\"hljs-title function_\">getType</span>(<span class=\"hljs-keyword\">type</span>);\n        <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-variable constant_\">URL</span>.<span class=\"hljs-title function_\">createObjectURL</span>(blob));\n      }\n    }\n  } <span class=\"hljs-keyword\">catch</span> (err) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(err.<span class=\"hljs-property\">name</span>, err.<span class=\"hljs-property\">message</span>);\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"147,162"}},{"content":"<pre data-lines=\"163,168\"><code>ClipboardItem &#x5bf9;&#x8c61;&#x8868;&#x793a;&#x4e00;&#x4e2a;&#x5355;&#x72ec;&#x7684;&#x526a;&#x8d34;&#x9879;&#xff0c;&#x6bcf;&#x4e2a;&#x526a;&#x8d34;&#x9879;&#x90fd;&#x62e5;&#x6709;`ClipboardItem.types`&#x5c5e;&#x6027;&#x548c;`ClipboardItem.getType()`&#x65b9;&#x6cd5;&#x3002;\n\n`ClipboardItem.types`&#x5c5e;&#x6027;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;&#xff0c;&#x91cc;&#x9762;&#x7684;&#x6210;&#x5458;&#x662f;&#x8be5;&#x526a;&#x8d34;&#x9879;&#x53ef;&#x7528;&#x7684; MIME &#x7c7b;&#x578b;&#xff0c;&#x6bd4;&#x5982;&#x67d0;&#x4e2a;&#x526a;&#x8d34;&#x9879;&#x53ef;&#x4ee5;&#x7528; HTML &#x683c;&#x5f0f;&#x7c98;&#x8d34;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x7528;&#x7eaf;&#x6587;&#x672c;&#x683c;&#x5f0f;&#x7c98;&#x8d34;&#xff0c;&#x90a3;&#x4e48;&#x5b83;&#x5c31;&#x6709;&#x4e24;&#x4e2a; MIME &#x7c7b;&#x578b;&#xff08;`text/html`&#x548c;`text/plain`&#xff09;&#x3002;\n\n`ClipboardItem.getType(type)`&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x8bfb;&#x53d6;&#x526a;&#x8d34;&#x9879;&#x7684;&#x6570;&#x636e;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#x3002;&#x8be5;&#x65b9;&#x6cd5;&#x63a5;&#x53d7;&#x526a;&#x8d34;&#x9879;&#x7684; MIME &#x7c7b;&#x578b;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x8fd4;&#x56de;&#x8be5;&#x7c7b;&#x578b;&#x7684;&#x6570;&#x636e;&#xff0c;&#x8be5;&#x53c2;&#x6570;&#x662f;&#x5fc5;&#x9700;&#x7684;&#xff0c;&#x5426;&#x5219;&#x4f1a;&#x62a5;&#x9519;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"163,168"}}],"payload":{"tag":"h3","lines":"141,142"}},{"content":"Clipboard.writeText() <a href=\"#clipboardwritetext\">#</a><a href=\"#navbar\"></a>","children":[{"content":"<pre data-lines=\"171,172\"><code>`Clipboard.writeText()`&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x5c06;&#x6587;&#x672c;&#x5185;&#x5bb9;&#x5199;&#x5165;&#x526a;&#x8d34;&#x677f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"171,172"}},{"content":"<pre data-lines=\"173,181\"><code data-lines=\"173,181\"><span class=\"hljs-built_in\">document</span>.body.addEventListener(\n  <span class=\"hljs-string\">&apos;click&apos;</span>,\n  <span class=\"hljs-keyword\">async</span> (e) =&gt; {\n    <span class=\"hljs-keyword\">await</span> navigator.clipboard.writeText(<span class=\"hljs-string\">&apos;Yo&apos;</span>)\n  }\n) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"173,181"}},{"content":"<pre data-lines=\"182,185\"><code>&#x4e0a;&#x9762;&#x793a;&#x4f8b;&#x662f;&#x7528;&#x6237;&#x5728;&#x7f51;&#x9875;&#x70b9;&#x51fb;&#x540e;&#xff0c;&#x811a;&#x672c;&#x5411;&#x526a;&#x8d34;&#x677f;&#x5199;&#x5165;&#x6587;&#x672c;&#x6570;&#x636e;&#x3002;\n\n&#x8be5;&#x65b9;&#x6cd5;&#x4e0d;&#x9700;&#x8981;&#x7528;&#x6237;&#x8bb8;&#x53ef;&#xff0c;&#x4f46;&#x662f;&#x6700;&#x597d;&#x4e5f;&#x653e;&#x5728;`try...catch`&#x91cc;&#x9762;&#x9632;&#x6b62;&#x62a5;&#x9519;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"182,185"}},{"content":"<pre data-lines=\"186,196\"><code data-lines=\"186,196\"><span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">copyPageUrl</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">try</span> {\n    <span class=\"hljs-keyword\">await</span> navigator.<span class=\"hljs-property\">clipboard</span>.<span class=\"hljs-title function_\">writeText</span>(location.<span class=\"hljs-property\">href</span>);\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Page URL copied to clipboard&apos;</span>);\n  } <span class=\"hljs-keyword\">catch</span> (err) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(<span class=\"hljs-string\">&apos;Failed to copy: &apos;</span>, err);\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"186,196"}}],"payload":{"tag":"h3","lines":"169,170"}},{"content":"Clipboard.write() <a href=\"#clipboardwrite\">#</a><a href=\"#navbar\"></a>","children":[{"content":"<pre data-lines=\"199,202\"><code>`Clipboard.write()`&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x5c06;&#x4efb;&#x610f;&#x6570;&#x636e;&#x5199;&#x5165;&#x526a;&#x8d34;&#x677f;&#xff0c;&#x53ef;&#x4ee5;&#x662f;&#x6587;&#x672c;&#x6570;&#x636e;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x662f;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x3002;\n\n&#x8be5;&#x65b9;&#x6cd5;&#x63a5;&#x53d7;&#x4e00;&#x4e2a; ClipboardItem &#x5b9e;&#x4f8b;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x8868;&#x793a;&#x5199;&#x5165;&#x526a;&#x8d34;&#x677f;&#x7684;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"199,202"}},{"content":"<pre data-lines=\"203,218\"><code data-lines=\"203,218\"><span class=\"hljs-keyword\">try</span> {\n  <span class=\"hljs-keyword\">const</span> imgURL = <span class=\"hljs-string\">&apos;https://dummyimage.com/300.png&apos;</span>;\n  <span class=\"hljs-keyword\">const</span> data = <span class=\"hljs-keyword\">await</span> <span class=\"hljs-title function_\">fetch</span>(imgURL);\n  <span class=\"hljs-keyword\">const</span> blob = <span class=\"hljs-keyword\">await</span> data.<span class=\"hljs-title function_\">blob</span>();\n  <span class=\"hljs-keyword\">await</span> navigator.<span class=\"hljs-property\">clipboard</span>.<span class=\"hljs-title function_\">write</span>([\n    <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ClipboardItem</span>({\n      [blob.<span class=\"hljs-property\">type</span>]: blob\n    })\n  ]);\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Image copied.&apos;</span>);\n} <span class=\"hljs-keyword\">catch</span> (err) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(err.<span class=\"hljs-property\">name</span>, err.<span class=\"hljs-property\">message</span>);\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"203,218"}},{"content":"<pre data-lines=\"219,224\"><code>&#x4e0a;&#x9762;&#x793a;&#x4f8b;&#x4e2d;&#xff0c;&#x811a;&#x672c;&#x5411;&#x526a;&#x8d34;&#x677f;&#x5199;&#x5165;&#x4e86;&#x4e00;&#x5f20;&#x56fe;&#x7247;&#x3002;&#x6ce8;&#x610f;&#xff0c;Chrome &#x6d4f;&#x89c8;&#x5668;&#x76ee;&#x524d;&#x53ea;&#x652f;&#x6301;&#x5199;&#x5165; PNG &#x683c;&#x5f0f;&#x7684;&#x56fe;&#x7247;&#x3002;\n\n`ClipboardItem()`&#x662f;&#x6d4f;&#x89c8;&#x5668;&#x539f;&#x751f;&#x63d0;&#x4f9b;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x7528;&#x6765;&#x751f;&#x6210;`ClipboardItem`&#x5b9e;&#x4f8b;&#xff0c;&#x5b83;&#x63a5;&#x53d7;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x8be5;&#x5bf9;&#x8c61;&#x7684;&#x952e;&#x540d;&#x662f;&#x6570;&#x636e;&#x7684; MIME &#x7c7b;&#x578b;&#xff0c;&#x952e;&#x503c;&#x5c31;&#x662f;&#x6570;&#x636e;&#x672c;&#x8eab;&#x3002;\n\n&#x4e0b;&#x9762;&#x7684;&#x4f8b;&#x5b50;&#x662f;&#x5c06;&#x540c;&#x4e00;&#x4e2a;&#x526a;&#x8d34;&#x9879;&#x7684;&#x591a;&#x79cd;&#x683c;&#x5f0f;&#x7684;&#x503c;&#xff0c;&#x5199;&#x5165;&#x526a;&#x8d34;&#x677f;&#xff0c;&#x4e00;&#x79cd;&#x662f;&#x6587;&#x672c;&#x6570;&#x636e;&#xff0c;&#x53e6;&#x4e00;&#x79cd;&#x662f;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#xff0c;&#x4f9b;&#x4e0d;&#x540c;&#x7684;&#x573a;&#x5408;&#x7c98;&#x8d34;&#x4f7f;&#x7528;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"219,224"}},{"content":"<pre data-lines=\"225,236\"><code data-lines=\"225,236\">function <span class=\"hljs-built_in\">copy</span>() {\n  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-built_in\">image</span> = await <span class=\"hljs-title function_\">fetch</span>(<span class=\"hljs-string\">&apos;kitten.png&apos;</span>);\n  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-built_in\">text</span> = <span class=\"hljs-keyword\">new </span><span class=\"hljs-class title_\">Blob</span>([<span class=\"hljs-string\">&apos;Cute sleeping kitten&apos;</span>], {type: <span class=\"hljs-string\">&apos;text/plain&apos;</span>});\n  <span class=\"hljs-keyword\">const</span> item = <span class=\"hljs-keyword\">new </span><span class=\"hljs-class title_\">ClipboardItem</span>({\n    <span class=\"hljs-string\">&apos;text/plain&apos;</span>: <span class=\"hljs-built_in\">text</span>,\n    <span class=\"hljs-string\">&apos;image/png&apos;</span>: <span class=\"hljs-built_in\">image</span>\n  });\n  await navigator.<span class=\"hljs-property\">clipboard</span>.<span class=\"hljs-property\">write</span>([item]);\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"225,236"}}],"payload":{"tag":"h3","lines":"197,198"}}],"payload":{"tag":"h2","lines":"105,107"}},{"content":"copy &#x4e8b;&#x4ef6;&#xff0c;cut &#x4e8b;&#x4ef6; <a href=\"#copy-%E4%BA%8B%E4%BB%B6cut-%E4%BA%8B%E4%BB%B6\">#</a><a href=\"#navbar\"></a>","children":[{"content":"<pre data-lines=\"240,243\"><code>&#x7528;&#x6237;&#x5411;&#x526a;&#x8d34;&#x677f;&#x653e;&#x5165;&#x6570;&#x636e;&#x65f6;&#xff0c;&#x5c06;&#x89e6;&#x53d1;`copy`&#x4e8b;&#x4ef6;&#x3002;\n\n&#x4e0b;&#x9762;&#x7684;&#x793a;&#x4f8b;&#x662f;&#x5c06;&#x7528;&#x6237;&#x653e;&#x5165;&#x526a;&#x8d34;&#x677f;&#x7684;&#x6587;&#x672c;&#xff0c;&#x8f6c;&#x4e3a;&#x5927;&#x5199;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"240,243"}},{"content":"<pre data-lines=\"244,253\"><code data-lines=\"244,253\"><span class=\"hljs-keyword\">const</span> source = <span class=\"hljs-built_in\">document</span>.<span class=\"hljs-built_in\">querySelector</span>(<span class=\"hljs-string\">&apos;.source&apos;</span>);\n\nsource.addEventListener(<span class=\"hljs-string\">&apos;copy&apos;</span>, (event) =&gt; {\n  <span class=\"hljs-keyword\">const</span> selection = <span class=\"hljs-built_in\">document</span>.getSelection();\n  event.clipboardData.setData(<span class=\"hljs-string\">&apos;text/plain&apos;</span>, selection.toString().toUpperCase());\n  event.preventDefault();\n}); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"244,253"}},{"content":"<pre data-lines=\"254,262\"><code>&#x4e0a;&#x9762;&#x793a;&#x4f8b;&#x4e2d;&#xff0c;&#x4e8b;&#x4ef6;&#x5bf9;&#x8c61;&#x7684;`clipboardData`&#x5c5e;&#x6027;&#x5305;&#x542b;&#x4e86;&#x526a;&#x8d34;&#x677f;&#x6570;&#x636e;&#x3002;&#x5b83;&#x662f;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x6709;&#x4ee5;&#x4e0b;&#x5c5e;&#x6027;&#x548c;&#x65b9;&#x6cd5;&#x3002;\n\n*   `Event.clipboardData.setData(type, data)`&#xff1a;&#x4fee;&#x6539;&#x526a;&#x8d34;&#x677f;&#x6570;&#x636e;&#xff0c;&#x9700;&#x8981;&#x6307;&#x5b9a;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x3002;\n*   `Event.clipboardData.getData(type)`&#xff1a;&#x83b7;&#x53d6;&#x526a;&#x8d34;&#x677f;&#x6570;&#x636e;&#xff0c;&#x9700;&#x8981;&#x6307;&#x5b9a;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x3002;\n*   `Event.clipboardData.clearData([type])`&#xff1a;&#x6e05;&#x9664;&#x526a;&#x8d34;&#x677f;&#x6570;&#x636e;&#xff0c;&#x53ef;&#x4ee5;&#x6307;&#x5b9a;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x3002;&#x5982;&#x679c;&#x4e0d;&#x6307;&#x5b9a;&#x7c7b;&#x578b;&#xff0c;&#x5c06;&#x6e05;&#x9664;&#x6240;&#x6709;&#x7c7b;&#x578b;&#x7684;&#x6570;&#x636e;&#x3002;\n*   `Event.clipboardData.items`&#xff1a;&#x4e00;&#x4e2a;&#x7c7b;&#x4f3c;&#x6570;&#x7ec4;&#x7684;&#x5bf9;&#x8c61;&#xff0c;&#x5305;&#x542b;&#x4e86;&#x6240;&#x6709;&#x526a;&#x8d34;&#x9879;&#xff0c;&#x4e0d;&#x8fc7;&#x901a;&#x5e38;&#x53ea;&#x6709;&#x4e00;&#x4e2a;&#x526a;&#x8d34;&#x9879;&#x3002;\n\n&#x4e0b;&#x9762;&#x7684;&#x793a;&#x4f8b;&#x662f;&#x62e6;&#x622a;&#x7528;&#x6237;&#x7684;&#x590d;&#x5236;&#x64cd;&#x4f5c;&#xff0c;&#x5c06;&#x6307;&#x5b9a;&#x5185;&#x5bb9;&#x653e;&#x5165;&#x526a;&#x8d34;&#x677f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"254,262"}},{"content":"<pre data-lines=\"263,287\"><code data-lines=\"263,287\"><span class=\"hljs-keyword\">const</span> clipboardItems = [];\n\n<span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;copy&apos;</span>, <span class=\"hljs-title function_\">async</span> (e) =&gt; {\n  e.<span class=\"hljs-title function_\">preventDefault</span>();\n  <span class=\"hljs-keyword\">try</span> {\n    <span class=\"hljs-keyword\">let</span> clipboardItems = [];\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">const</span> item <span class=\"hljs-keyword\">of</span> e.<span class=\"hljs-property\">clipboardData</span>.<span class=\"hljs-property\">items</span>) {\n      <span class=\"hljs-keyword\">if</span> (!item.<span class=\"hljs-property\">type</span>.<span class=\"hljs-title function_\">startsWith</span>(<span class=\"hljs-string\">&apos;image/&apos;</span>)) {\n        <span class=\"hljs-keyword\">continue</span>;\n      }\n      clipboardItems.<span class=\"hljs-title function_\">push</span>(\n        <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ClipboardItem</span>({\n          [item.<span class=\"hljs-property\">type</span>]: item,\n        })\n      );\n      <span class=\"hljs-keyword\">await</span> navigator.<span class=\"hljs-property\">clipboard</span>.<span class=\"hljs-title function_\">write</span>(clipboardItems);\n      <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Image copied.&apos;</span>);\n    }\n  } <span class=\"hljs-keyword\">catch</span> (err) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(err.<span class=\"hljs-property\">name</span>, err.<span class=\"hljs-property\">message</span>);\n  }\n}); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"263,287"}},{"content":"<pre data-lines=\"288,291\"><code>&#x4e0a;&#x9762;&#x793a;&#x4f8b;&#x4e2d;&#xff0c;&#x5148;&#x4f7f;&#x7528;`e.preventDefault()`&#x53d6;&#x6d88;&#x4e86;&#x526a;&#x8d34;&#x677f;&#x7684;&#x9ed8;&#x8ba4;&#x64cd;&#x4f5c;&#xff0c;&#x7136;&#x540e;&#x7531;&#x811a;&#x672c;&#x63a5;&#x7ba1;&#x590d;&#x5236;&#x64cd;&#x4f5c;&#x3002;\n\n`cut`&#x4e8b;&#x4ef6;&#x5219;&#x662f;&#x5728;&#x7528;&#x6237;&#x8fdb;&#x884c;&#x526a;&#x5207;&#x64cd;&#x4f5c;&#x65f6;&#x89e6;&#x53d1;&#xff0c;&#x5b83;&#x7684;&#x5904;&#x7406;&#x8ddf;`copy`&#x4e8b;&#x4ef6;&#x5b8c;&#x5168;&#x4e00;&#x6837;&#xff0c;&#x4e5f;&#x662f;&#x4ece;`Event.clipboardData`&#x5c5e;&#x6027;&#x62ff;&#x5230;&#x526a;&#x5207;&#x7684;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"288,291"}}],"payload":{"tag":"h2","lines":"237,239"}},{"content":"paste &#x4e8b;&#x4ef6; <a href=\"#paste-%E4%BA%8B%E4%BB%B6\">#</a><a href=\"#navbar\"></a>","children":[{"content":"<pre data-lines=\"295,298\"><code>&#x7528;&#x6237;&#x4f7f;&#x7528;&#x526a;&#x8d34;&#x677f;&#x6570;&#x636e;&#xff0c;&#x8fdb;&#x884c;&#x7c98;&#x8d34;&#x64cd;&#x4f5c;&#x65f6;&#xff0c;&#x4f1a;&#x89e6;&#x53d1;`paste`&#x4e8b;&#x4ef6;&#x3002;\n\n&#x4e0b;&#x9762;&#x7684;&#x793a;&#x4f8b;&#x662f;&#x62e6;&#x622a;&#x7c98;&#x8d34;&#x64cd;&#x4f5c;&#xff0c;&#x7531;&#x811a;&#x672c;&#x5c06;&#x526a;&#x8d34;&#x677f;&#x91cc;&#x9762;&#x7684;&#x6570;&#x636e;&#x53d6;&#x51fa;&#x6765;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"295,298"}},{"content":"<pre data-lines=\"299,306\"><code data-lines=\"299,306\"><span class=\"hljs-built_in\">document</span>.addEventListener(<span class=\"hljs-string\">&apos;paste&apos;</span>, <span class=\"hljs-keyword\">async</span> (e) =&gt; {\n  e.preventDefault();\n  <span class=\"hljs-keyword\">const</span> text = <span class=\"hljs-keyword\">await</span> navigator.clipboard.readText();\n  console.log(<span class=\"hljs-string\">&apos;Pasted text: &apos;</span>, text);\n}); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"299,306"}}],"payload":{"tag":"h2","lines":"292,294"}},{"content":"&#x53c2;&#x8003;&#x94fe;&#x63a5; <a href=\"#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5\">#</a><a href=\"#navbar\"></a>","children":[{"content":"<a href=\"https://web.dev/async-clipboard/\">Unblocking clipboard access</a>","children":[],"payload":{"tag":"li","lines":"310,311"}},{"content":"<a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard\">Interact with the clipboard</a>","children":[],"payload":{"tag":"li","lines":"311,312"}},{"content":"<a href=\"https://blog.tomayac.com/2020/03/20/multi-mime-type-copying-with-the-async-clipboard-api/\">Multi-MIME Type Copying with the Async Clipboard API</a>","children":[],"payload":{"tag":"li","lines":"312,313"}}],"payload":{"tag":"h2","lines":"307,309"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
