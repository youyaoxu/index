<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"<a href=\"#%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%B9%E8%B1%A1\">#</a> &#x54cd;&#x5e94;&#x5f0f;&#x5bf9;&#x8c61;","children":[{"content":"&#x8ba4;&#x8bc6;","children":[{"content":"<pre data-lines=\"6,7\"><code>&#x53ef;&#x80fd;&#x5f88;&#x591a;&#x5c0f;&#x4f19;&#x4f34;&#x4e4b;&#x524d;&#x90fd;&#x4e86;&#x89e3;&#x8fc7; Vue.js &#x5b9e;&#x73b0;&#x54cd;&#x5e94;&#x5f0f;&#x7684;&#x6838;&#x5fc3;&#x662f;&#x5229;&#x7528;&#x4e86; ES5 &#x7684; `Object.defineProperty`&#xff0c;&#x8fd9;&#x4e5f;&#x662f;&#x4e3a;&#x4ec0;&#x4e48; Vue.js &#x4e0d;&#x80fd;&#x517c;&#x5bb9; IE8 &#x53ca;&#x4ee5;&#x4e0b;&#x6d4f;&#x89c8;&#x5668;&#x7684;&#x539f;&#x56e0;&#xff0c;&#x6211;&#x4eec;&#x5148;&#x6765;&#x5bf9;&#x5b83;&#x6709;&#x4e2a;&#x76f4;&#x89c2;&#x7684;&#x8ba4;&#x8bc6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"6,7"}}],"payload":{"tag":"h2","lines":"3,5"}},{"content":"<a href=\"#object-defineproperty\">#</a> Object.defineProperty","children":[{"content":"<pre data-lines=\"11,12\"><code>`Object.defineProperty` &#x65b9;&#x6cd5;&#x4f1a;&#x76f4;&#x63a5;&#x5728;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#x4e0a;&#x5b9a;&#x4e49;&#x4e00;&#x4e2a;&#x65b0;&#x5c5e;&#x6027;&#xff0c;&#x6216;&#x8005;&#x4fee;&#x6539;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#x7684;&#x73b0;&#x6709;&#x5c5e;&#x6027;&#xff0c; &#x5e76;&#x8fd4;&#x56de;&#x8fd9;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x5148;&#x6765;&#x770b;&#x4e00;&#x4e0b;&#x5b83;&#x7684;&#x8bed;&#x6cd5;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"11,12"}},{"content":"<pre data-lines=\"13,16\"><code data-lines=\"13,16\">Object.defineProperty(obj, <span class=\"hljs-keyword\">prop</span>, descriptor) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"13,16"}},{"content":"<pre data-lines=\"17,22\"><code>`obj` &#x662f;&#x8981;&#x5728;&#x5176;&#x4e0a;&#x5b9a;&#x4e49;&#x5c5e;&#x6027;&#x7684;&#x5bf9;&#x8c61;&#xff1b;`prop` &#x662f;&#x8981;&#x5b9a;&#x4e49;&#x6216;&#x4fee;&#x6539;&#x7684;&#x5c5e;&#x6027;&#x7684;&#x540d;&#x79f0;&#xff1b;`descriptor` &#x662f;&#x5c06;&#x88ab;&#x5b9a;&#x4e49;&#x6216;&#x4fee;&#x6539;&#x7684;&#x5c5e;&#x6027;&#x63cf;&#x8ff0;&#x7b26;&#x3002;\n\n&#x6bd4;&#x8f83;&#x6838;&#x5fc3;&#x7684;&#x662f; `descriptor`&#xff0c;&#x5b83;&#x6709;&#x5f88;&#x591a;&#x53ef;&#x9009;&#x952e;&#x503c;&#xff0c;&#x5177;&#x4f53;&#x7684;&#x53ef;&#x4ee5;&#x53bb;&#x53c2;&#x9605;&#x5b83;&#x7684;[&#x6587;&#x6863;](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty) &#x3002;&#x8fd9;&#x91cc;&#x6211;&#x4eec;&#x6700;&#x5173;&#x5fc3;&#x7684;&#x662f; `get` &#x548c; `set`&#xff0c;`get` &#x662f;&#x4e00;&#x4e2a;&#x7ed9;&#x5c5e;&#x6027;&#x63d0;&#x4f9b;&#x7684; getter &#x65b9;&#x6cd5;&#xff0c;&#x5f53;&#x6211;&#x4eec;&#x8bbf;&#x95ee;&#x4e86;&#x8be5;&#x5c5e;&#x6027;&#x7684;&#x65f6;&#x5019;&#x4f1a;&#x89e6;&#x53d1; getter &#x65b9;&#x6cd5;&#xff1b;`set` &#x662f;&#x4e00;&#x4e2a;&#x7ed9;&#x5c5e;&#x6027;&#x63d0;&#x4f9b;&#x7684; setter &#x65b9;&#x6cd5;&#xff0c;&#x5f53;&#x6211;&#x4eec;&#x5bf9;&#x8be5;&#x5c5e;&#x6027;&#x505a;&#x4fee;&#x6539;&#x7684;&#x65f6;&#x5019;&#x4f1a;&#x89e6;&#x53d1; setter &#x65b9;&#x6cd5;&#x3002;\n\n&#x4e00;&#x65e6;&#x5bf9;&#x8c61;&#x62e5;&#x6709;&#x4e86; getter &#x548c; setter&#xff0c;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x7b80;&#x5355;&#x5730;&#x628a;&#x8fd9;&#x4e2a;&#x5bf9;&#x8c61;&#x79f0;&#x4e3a;&#x54cd;&#x5e94;&#x5f0f;&#x5bf9;&#x8c61;&#x3002;&#x90a3;&#x4e48; Vue.js &#x628a;&#x54ea;&#x4e9b;&#x5bf9;&#x8c61;&#x53d8;&#x6210;&#x4e86;&#x54cd;&#x5e94;&#x5f0f;&#x5bf9;&#x8c61;&#x4e86;&#x5462;&#xff0c;&#x63a5;&#x4e0b;&#x6765;&#x6211;&#x4eec;&#x4ece;&#x6e90;&#x7801;&#x5c42;&#x9762;&#x5206;&#x6790;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"17,22"}}],"payload":{"tag":"h2","lines":"8,10"}},{"content":"<a href=\"#initstate\">#</a> initState","children":[{"content":"<pre data-lines=\"26,27\"><code>&#x5728; Vue &#x7684;&#x521d;&#x59cb;&#x5316;&#x9636;&#x6bb5;&#xff0c;`_init` &#x65b9;&#x6cd5;&#x6267;&#x884c;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x4f1a;&#x6267;&#x884c; `initState(vm)` &#x65b9;&#x6cd5;&#xff0c;&#x5b83;&#x7684;&#x5b9a;&#x4e49;&#x5728; `src/core/instance/state.js` &#x4e2d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"26,27"}},{"content":"<pre data-lines=\"28,45\"><code data-lines=\"28,45\">export function initState (vm: Component) {\n  vm._watchers = <span class=\"hljs-selector-attr\">[]</span>\n  const opts = vm.<span class=\"hljs-variable\">&#x24;options</span>\n  <span class=\"hljs-keyword\">if</span> (opts.props) <span class=\"hljs-built_in\">initProps</span>(vm, opts.props)\n  <span class=\"hljs-keyword\">if</span> (opts.methods) <span class=\"hljs-built_in\">initMethods</span>(vm, opts.methods)\n  <span class=\"hljs-keyword\">if</span> (opts.data) {\n    <span class=\"hljs-built_in\">initData</span>(vm)\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-built_in\">observe</span>(vm._data = {}, true <span class=\"hljs-comment\">/* asRootData */</span>)\n  }\n  <span class=\"hljs-keyword\">if</span> (opts.computed) <span class=\"hljs-built_in\">initComputed</span>(vm, opts.computed)\n  <span class=\"hljs-keyword\">if</span> (opts<span class=\"hljs-selector-class\">.watch</span> &amp;&amp; opts<span class=\"hljs-selector-class\">.watch</span> !== nativeWatch) {\n    <span class=\"hljs-built_in\">initWatch</span>(vm, opts.watch)\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"28,45"}},{"content":"<pre data-lines=\"46,49\"><code>`initState` &#x65b9;&#x6cd5;&#x4e3b;&#x8981;&#x662f;&#x5bf9; `props`&#x3001;`methods`&#x3001;`data`&#x3001;`computed` &#x548c; `wathcer` &#x7b49;&#x5c5e;&#x6027;&#x505a;&#x4e86;&#x521d;&#x59cb;&#x5316;&#x64cd;&#x4f5c;&#x3002;&#x8fd9;&#x91cc;&#x6211;&#x4eec;&#x91cd;&#x70b9;&#x5206;&#x6790; `props` &#x548c; `data`&#xff0c;&#x5bf9;&#x4e8e;&#x5176;&#x5b83;&#x5c5e;&#x6027;&#x7684;&#x521d;&#x59cb;&#x5316;&#x6211;&#x4eec;&#x4e4b;&#x540e;&#x518d;&#x8be6;&#x7ec6;&#x5206;&#x6790;&#x3002;\n\n*   initProps\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"46,49"}},{"content":"<pre data-lines=\"50,99\"><code data-lines=\"50,99\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">initProps</span> (<span class=\"hljs-params\">vm: Component, propsOptions: <span class=\"hljs-built_in\">Object</span></span>) {\n  <span class=\"hljs-keyword\">const</span> propsData = vm.<span class=\"hljs-property\">&#x24;options</span>.<span class=\"hljs-property\">propsData</span> || {}\n  <span class=\"hljs-keyword\">const</span> props = vm.<span class=\"hljs-property\">_props</span> = {}\n  <span class=\"hljs-comment\">// cache prop keys so that future props updates can iterate using Array</span>\n  <span class=\"hljs-comment\">// instead of dynamic object key enumeration.</span>\n  <span class=\"hljs-keyword\">const</span> keys = vm.<span class=\"hljs-property\">&#x24;options</span>.<span class=\"hljs-property\">_propKeys</span> = []\n  <span class=\"hljs-keyword\">const</span> isRoot = !vm.<span class=\"hljs-property\">&#x24;parent</span>\n  <span class=\"hljs-comment\">// root instance props should be converted</span>\n  <span class=\"hljs-keyword\">if</span> (!isRoot) {\n    <span class=\"hljs-title function_\">toggleObserving</span>(<span class=\"hljs-literal\">false</span>)\n  }\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">const</span> key <span class=\"hljs-keyword\">in</span> propsOptions) {\n    keys.<span class=\"hljs-title function_\">push</span>(key)\n    <span class=\"hljs-keyword\">const</span> value = <span class=\"hljs-title function_\">validateProp</span>(key, propsOptions, propsData, vm)\n    <span class=\"hljs-comment\">/* istanbul ignore else */</span>\n    <span class=\"hljs-keyword\">if</span> (process.<span class=\"hljs-property\">env</span>.<span class=\"hljs-property\">NODE_ENV</span> !== <span class=\"hljs-string\">&apos;production&apos;</span>) {\n      <span class=\"hljs-keyword\">const</span> hyphenatedKey = <span class=\"hljs-title function_\">hyphenate</span>(key)\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isReservedAttribute</span>(hyphenatedKey) ||\n          config.<span class=\"hljs-title function_\">isReservedAttr</span>(hyphenatedKey)) {\n        <span class=\"hljs-title function_\">warn</span>(\n          <span class=\"hljs-string\">`&quot;<span class=\"hljs-subst\">&#x24;{hyphenatedKey}</span>&quot; is a reserved attribute and cannot be used as component prop.`</span>,\n          vm\n        )\n      }\n      <span class=\"hljs-title function_\">defineReactive</span>(props, key, value, <span class=\"hljs-function\">() =&gt;</span> {\n        <span class=\"hljs-keyword\">if</span> (vm.<span class=\"hljs-property\">&#x24;parent</span> &amp;&amp; !isUpdatingChildComponent) {\n          <span class=\"hljs-title function_\">warn</span>(\n            <span class=\"hljs-string\">`Avoid mutating a prop directly since the value will be `</span> +\n            <span class=\"hljs-string\">`overwritten whenever the parent component re-renders. `</span> +\n            <span class=\"hljs-string\">`Instead, use a data or computed property based on the prop&apos;s `</span> +\n            <span class=\"hljs-string\">`value. Prop being mutated: &quot;<span class=\"hljs-subst\">&#x24;{key}</span>&quot;`</span>,\n            vm\n          )\n        }\n      })\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-title function_\">defineReactive</span>(props, key, value)\n    }\n    <span class=\"hljs-comment\">// static props are already proxied on the component&apos;s prototype</span>\n    <span class=\"hljs-comment\">// during Vue.extend(). We only need to proxy props defined at</span>\n    <span class=\"hljs-comment\">// instantiation here.</span>\n    <span class=\"hljs-keyword\">if</span> (!(key <span class=\"hljs-keyword\">in</span> vm)) {\n      <span class=\"hljs-title function_\">proxy</span>(vm, <span class=\"hljs-string\">`_props`</span>, key)\n    }\n  }\n  <span class=\"hljs-title function_\">toggleObserving</span>(<span class=\"hljs-literal\">true</span>)\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"50,99"}},{"content":"<pre data-lines=\"100,103\"><code>`props` &#x7684;&#x521d;&#x59cb;&#x5316;&#x4e3b;&#x8981;&#x8fc7;&#x7a0b;&#xff0c;&#x5c31;&#x662f;&#x904d;&#x5386;&#x5b9a;&#x4e49;&#x7684; `props` &#x914d;&#x7f6e;&#x3002;&#x904d;&#x5386;&#x7684;&#x8fc7;&#x7a0b;&#x4e3b;&#x8981;&#x505a;&#x4e24;&#x4ef6;&#x4e8b;&#x60c5;&#xff1a;&#x4e00;&#x4e2a;&#x662f;&#x8c03;&#x7528; `defineReactive` &#x65b9;&#x6cd5;&#x628a;&#x6bcf;&#x4e2a; `prop` &#x5bf9;&#x5e94;&#x7684;&#x503c;&#x53d8;&#x6210;&#x54cd;&#x5e94;&#x5f0f;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; `vm._props.xxx` &#x8bbf;&#x95ee;&#x5230;&#x5b9a;&#x4e49; `props` &#x4e2d;&#x5bf9;&#x5e94;&#x7684;&#x5c5e;&#x6027;&#x3002;&#x5bf9;&#x4e8e; `defineReactive` &#x65b9;&#x6cd5;&#xff0c;&#x6211;&#x4eec;&#x7a0d;&#x540e;&#x4f1a;&#x4ecb;&#x7ecd;&#xff1b;&#x53e6;&#x4e00;&#x4e2a;&#x662f;&#x901a;&#x8fc7; `proxy` &#x628a; `vm._props.xxx` &#x7684;&#x8bbf;&#x95ee;&#x4ee3;&#x7406;&#x5230; `vm.xxx` &#x4e0a;&#xff0c;&#x6211;&#x4eec;&#x7a0d;&#x540e;&#x4e5f;&#x4f1a;&#x4ecb;&#x7ecd;&#x3002;\n\n*   initData\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"100,103"}},{"content":"<pre data-lines=\"104,147\"><code data-lines=\"104,147\">function initData (vm: Component) {\n  let data = vm.&#x24;<span class=\"hljs-keyword\">options</span>.data\n<span class=\"hljs-keyword\">  data </span>= vm._data = typeof data === <span class=\"hljs-string\">&apos;function&apos;</span>\n    ? getData(data, vm)\n    : data || {}\n  <span class=\"hljs-keyword\">if</span> (!isPlainObject(data)) {\n<span class=\"hljs-keyword\">    data </span>= {}\n    process.env.NODE_ENV !== <span class=\"hljs-string\">&apos;production&apos;</span> <span class=\"hljs-variable\">&amp;&amp;</span> war<span class=\"hljs-meta\">n</span>(\n      <span class=\"hljs-string\">&apos;data functions should return an object:\\n&apos;</span> +\n      <span class=\"hljs-string\">&apos;https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function&apos;</span>,\n      vm\n    )\n  }\n  // proxy data <span class=\"hljs-keyword\">on</span> instance\n  const keys = Object.keys(data)\n  const props = vm.&#x24;<span class=\"hljs-keyword\">options</span>.props\n  const methods = vm.&#x24;<span class=\"hljs-keyword\">options</span>.methods\n  let i = keys.<span class=\"hljs-keyword\">length</span>\n  <span class=\"hljs-keyword\">while</span> (i--) {\n    const <span class=\"hljs-keyword\">key</span> = keys[i]\n    <span class=\"hljs-keyword\">if</span> (process.env.NODE_ENV !== <span class=\"hljs-string\">&apos;production&apos;</span>) {\n      <span class=\"hljs-keyword\">if</span> (methods <span class=\"hljs-variable\">&amp;&amp;</span> hasOw<span class=\"hljs-meta\">n</span>(methods, <span class=\"hljs-keyword\">key</span>)) {\n        war<span class=\"hljs-meta\">n</span>(\n          `Method <span class=\"hljs-string\">&quot;&#x24;{key}&quot;</span> has already been defined <span class=\"hljs-keyword\">as</span> a data property.`,\n          vm\n        )\n      }\n    }\n    <span class=\"hljs-keyword\">if</span> (props <span class=\"hljs-variable\">&amp;&amp;</span> hasOw<span class=\"hljs-meta\">n</span>(props, <span class=\"hljs-keyword\">key</span>)) {\n      process.env.NODE_ENV !== <span class=\"hljs-string\">&apos;production&apos;</span> <span class=\"hljs-variable\">&amp;&amp;</span> war<span class=\"hljs-meta\">n</span>(\n        `The data property <span class=\"hljs-string\">&quot;&#x24;{key}&quot;</span> is already declared <span class=\"hljs-keyword\">as</span> a prop. ` +\n        `Use prop default value instead.`,\n        vm\n      )\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (!isReserved(<span class=\"hljs-keyword\">key</span>)) {\n      proxy(vm, `_data`, <span class=\"hljs-keyword\">key</span>)\n    }\n  }\n  // observe data\n  observe(data, true <span class=\"hljs-comment\">/* asRootData */</span>)\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"104,147"}},{"content":"<pre data-lines=\"148,151\"><code>`data` &#x7684;&#x521d;&#x59cb;&#x5316;&#x4e3b;&#x8981;&#x8fc7;&#x7a0b;&#x4e5f;&#x662f;&#x505a;&#x4e24;&#x4ef6;&#x4e8b;&#xff0c;&#x4e00;&#x4e2a;&#x662f;&#x5bf9;&#x5b9a;&#x4e49; `data` &#x51fd;&#x6570;&#x8fd4;&#x56de;&#x5bf9;&#x8c61;&#x7684;&#x904d;&#x5386;&#xff0c;&#x901a;&#x8fc7; `proxy` &#x628a;&#x6bcf;&#x4e00;&#x4e2a;&#x503c; `vm._data.xxx` &#x90fd;&#x4ee3;&#x7406;&#x5230; `vm.xxx` &#x4e0a;&#xff1b;&#x53e6;&#x4e00;&#x4e2a;&#x662f;&#x8c03;&#x7528; `observe` &#x65b9;&#x6cd5;&#x89c2;&#x6d4b;&#x6574;&#x4e2a; `data` &#x7684;&#x53d8;&#x5316;&#xff0c;&#x628a; `data` &#x4e5f;&#x53d8;&#x6210;&#x54cd;&#x5e94;&#x5f0f;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; `vm._data.xxx` &#x8bbf;&#x95ee;&#x5230;&#x5b9a;&#x4e49; `data` &#x8fd4;&#x56de;&#x51fd;&#x6570;&#x4e2d;&#x5bf9;&#x5e94;&#x7684;&#x5c5e;&#x6027;&#xff0c;`observe` &#x6211;&#x4eec;&#x7a0d;&#x540e;&#x4f1a;&#x4ecb;&#x7ecd;&#x3002;\n\n&#x53ef;&#x4ee5;&#x770b;&#x5230;&#xff0c;&#x65e0;&#x8bba;&#x662f; `props` &#x6216;&#x662f; `data` &#x7684;&#x521d;&#x59cb;&#x5316;&#x90fd;&#x662f;&#x628a;&#x5b83;&#x4eec;&#x53d8;&#x6210;&#x54cd;&#x5e94;&#x5f0f;&#x5bf9;&#x8c61;&#xff0c;&#x8fd9;&#x4e2a;&#x8fc7;&#x7a0b;&#x6211;&#x4eec;&#x63a5;&#x89e6;&#x5230;&#x51e0;&#x4e2a;&#x51fd;&#x6570;&#xff0c;&#x63a5;&#x4e0b;&#x6765;&#x6211;&#x4eec;&#x6765;&#x8be6;&#x7ec6;&#x5206;&#x6790;&#x5b83;&#x4eec;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"148,151"}}],"payload":{"tag":"h2","lines":"23,25"}},{"content":"<a href=\"#proxy\">#</a> proxy","children":[{"content":"<pre data-lines=\"155,156\"><code>&#x9996;&#x5148;&#x4ecb;&#x7ecd;&#x4e00;&#x4e0b;&#x4ee3;&#x7406;&#xff0c;&#x4ee3;&#x7406;&#x7684;&#x4f5c;&#x7528;&#x662f;&#x628a; `props` &#x548c; `data` &#x4e0a;&#x7684;&#x5c5e;&#x6027;&#x4ee3;&#x7406;&#x5230; `vm` &#x5b9e;&#x4f8b;&#x4e0a;&#xff0c;&#x8fd9;&#x4e5f;&#x5c31;&#x662f;&#x4e3a;&#x4ec0;&#x4e48;&#x6bd4;&#x5982;&#x6211;&#x4eec;&#x5b9a;&#x4e49;&#x4e86;&#x5982;&#x4e0b; props&#xff0c;&#x5374;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; vm &#x5b9e;&#x4f8b;&#x8bbf;&#x95ee;&#x5230;&#x5b83;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"155,156"}},{"content":"<pre data-lines=\"157,169\"><code data-lines=\"157,169\"><span class=\"hljs-keyword\">let</span> comP = {\n  <span class=\"hljs-attr\">props</span>: {\n    <span class=\"hljs-attr\">msg</span>: <span class=\"hljs-string\">&apos;hello&apos;</span>\n  },\n  <span class=\"hljs-attr\">methods</span>: {\n    <span class=\"hljs-title function_\">say</span>(<span class=\"hljs-params\"></span>) {\n      <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">msg</span>)\n    }\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"157,169"}},{"content":"<pre data-lines=\"170,171\"><code>&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x5728; `say` &#x51fd;&#x6570;&#x4e2d;&#x901a;&#x8fc7; `this.msg` &#x8bbf;&#x95ee;&#x5230;&#x6211;&#x4eec;&#x5b9a;&#x4e49;&#x5728; `props` &#x4e2d;&#x7684; `msg`&#xff0c;&#x8fd9;&#x4e2a;&#x8fc7;&#x7a0b;&#x53d1;&#x751f;&#x5728; `proxy` &#x9636;&#x6bb5;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"170,171"}},{"content":"<pre data-lines=\"172,190\"><code data-lines=\"172,190\"><span class=\"hljs-keyword\">const</span> sharedPropertyDefinition = {\n  enumerable: <span class=\"hljs-literal\">true</span>,\n  configurable: <span class=\"hljs-literal\">true</span>,\n  <span class=\"hljs-keyword\">get</span>: noop,\n  <span class=\"hljs-keyword\">set</span>: noop\n}\n\n<span class=\"hljs-function\">export function <span class=\"hljs-title\">proxy</span> (<span class=\"hljs-params\">target: Object, sourceKey: <span class=\"hljs-built_in\">string</span>, key: <span class=\"hljs-built_in\">string</span></span>)</span> {\n  sharedPropertyDefinition.<span class=\"hljs-keyword\">get</span> = <span class=\"hljs-function\">function <span class=\"hljs-title\">proxyGetter</span> ()</span> {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>[sourceKey][key]\n  }\n  sharedPropertyDefinition.<span class=\"hljs-keyword\">set</span> = <span class=\"hljs-function\">function <span class=\"hljs-title\">proxySetter</span> (<span class=\"hljs-params\">val</span>)</span> {\n    <span class=\"hljs-keyword\">this</span>[sourceKey][key] = val\n  }\n  Object.defineProperty(target, key, sharedPropertyDefinition)\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"172,190"}},{"content":"<pre data-lines=\"191,192\"><code>`proxy` &#x65b9;&#x6cd5;&#x7684;&#x5b9e;&#x73b0;&#x5f88;&#x7b80;&#x5355;&#xff0c;&#x901a;&#x8fc7; `Object.defineProperty` &#x628a; `target[sourceKey][key]` &#x7684;&#x8bfb;&#x5199;&#x53d8;&#x6210;&#x4e86;&#x5bf9; `target[key]` &#x7684;&#x8bfb;&#x5199;&#x3002;&#x6240;&#x4ee5;&#x5bf9;&#x4e8e; `props` &#x800c;&#x8a00;&#xff0c;&#x5bf9; `vm._props.xxx` &#x7684;&#x8bfb;&#x5199;&#x53d8;&#x6210;&#x4e86; `vm.xxx` &#x7684;&#x8bfb;&#x5199;&#xff0c;&#x800c;&#x5bf9;&#x4e8e; `vm._props.xxx` &#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x8bbf;&#x95ee;&#x5230;&#x5b9a;&#x4e49;&#x5728; `props` &#x4e2d;&#x7684;&#x5c5e;&#x6027;&#xff0c;&#x6240;&#x4ee5;&#x6211;&#x4eec;&#x5c31;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; `vm.xxx` &#x8bbf;&#x95ee;&#x5230;&#x5b9a;&#x4e49;&#x5728; `props` &#x4e2d;&#x7684; `xxx` &#x5c5e;&#x6027;&#x4e86;&#x3002;&#x540c;&#x7406;&#xff0c;&#x5bf9;&#x4e8e; `data` &#x800c;&#x8a00;&#xff0c;&#x5bf9; `vm._data.xxxx` &#x7684;&#x8bfb;&#x5199;&#x53d8;&#x6210;&#x4e86;&#x5bf9; `vm.xxxx` &#x7684;&#x8bfb;&#x5199;&#xff0c;&#x800c;&#x5bf9;&#x4e8e; `vm._data.xxxx` &#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x8bbf;&#x95ee;&#x5230;&#x5b9a;&#x4e49;&#x5728; `data` &#x51fd;&#x6570;&#x8fd4;&#x56de;&#x5bf9;&#x8c61;&#x4e2d;&#x7684;&#x5c5e;&#x6027;&#xff0c;&#x6240;&#x4ee5;&#x6211;&#x4eec;&#x5c31;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; `vm.xxxx` &#x8bbf;&#x95ee;&#x5230;&#x5b9a;&#x4e49;&#x5728; `data` &#x51fd;&#x6570;&#x8fd4;&#x56de;&#x5bf9;&#x8c61;&#x4e2d;&#x7684; `xxxx` &#x5c5e;&#x6027;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"191,192"}}],"payload":{"tag":"h2","lines":"152,154"}},{"content":"<a href=\"#observe\">#</a> <code>observe</code>","children":[{"content":"<pre data-lines=\"196,197\"><code>`observe` &#x7684;&#x529f;&#x80fd;&#x5c31;&#x662f;&#x7528;&#x6765;&#x76d1;&#x6d4b;&#x6570;&#x636e;&#x7684;&#x53d8;&#x5316;&#xff0c;&#x5b83;&#x7684;&#x5b9a;&#x4e49;&#x5728; `src/core/observer/index.js` &#x4e2d;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"196,197"}},{"content":"<pre data-lines=\"198,226\"><code data-lines=\"198,226\">/**\n * Attempt to create an observer<span class=\"hljs-built_in\"> instance </span>for a value,\n * returns the<span class=\"hljs-built_in\"> new </span>observer<span class=\"hljs-built_in\"> if </span>successfully observed,\n *<span class=\"hljs-built_in\"> or </span>the existing observer<span class=\"hljs-built_in\"> if </span>the value already has one.\n */\nexport function observe (value: any, asRootData: ?boolean): Observer | void {\n <span class=\"hljs-built_in\"> if </span>(!isObject(value) || value instanceof VNode) {\n   <span class=\"hljs-built_in\"> return\n</span>  }\n  let ob: Observer | void\n <span class=\"hljs-built_in\"> if </span>(hasOwn(value, &apos;__ob__&apos;) &amp;&amp; value.__ob__ instanceof Observer) {\n    ob = value.__ob__\n  } else<span class=\"hljs-built_in\"> if </span>(\n    shouldObserve &amp;&amp;\n    !isServerRendering() &amp;&amp;\n    (Array.isArray(value) || isPlainObject(value)) &amp;&amp;\n    Object.isExtensible(value) &amp;&amp;\n    !value._isVue\n  ) {\n    ob =<span class=\"hljs-built_in\"> new </span>Observer(value)\n  }\n <span class=\"hljs-built_in\"> if </span>(asRootData &amp;&amp; ob) {\n    ob.vmCount++\n  }\n <span class=\"hljs-built_in\"> return </span>ob\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"198,226"}},{"content":"<pre data-lines=\"227,228\"><code>`observe` &#x65b9;&#x6cd5;&#x7684;&#x4f5c;&#x7528;&#x5c31;&#x662f;&#x7ed9;&#x975e; VNode &#x7684;&#x5bf9;&#x8c61;&#x7c7b;&#x578b;&#x6570;&#x636e;&#x6dfb;&#x52a0;&#x4e00;&#x4e2a; `Observer`&#xff0c;&#x5982;&#x679c;&#x5df2;&#x7ecf;&#x6dfb;&#x52a0;&#x8fc7;&#x5219;&#x76f4;&#x63a5;&#x8fd4;&#x56de;&#xff0c;&#x5426;&#x5219;&#x5728;&#x6ee1;&#x8db3;&#x4e00;&#x5b9a;&#x6761;&#x4ef6;&#x4e0b;&#x53bb;&#x5b9e;&#x4f8b;&#x5316;&#x4e00;&#x4e2a; `Observer` &#x5bf9;&#x8c61;&#x5b9e;&#x4f8b;&#x3002;&#x63a5;&#x4e0b;&#x6765;&#x6211;&#x4eec;&#x6765;&#x770b;&#x4e00;&#x4e0b; `Observer` &#x7684;&#x4f5c;&#x7528;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"227,228"}}],"payload":{"tag":"h2","lines":"193,195"}},{"content":"<a href=\"#observer\">#</a> Observer","children":[{"content":"<pre data-lines=\"232,233\"><code>`Observer` &#x662f;&#x4e00;&#x4e2a;&#x7c7b;&#xff0c;&#x5b83;&#x7684;&#x4f5c;&#x7528;&#x662f;&#x7ed9;&#x5bf9;&#x8c61;&#x7684;&#x5c5e;&#x6027;&#x6dfb;&#x52a0; getter &#x548c; setter&#xff0c;&#x7528;&#x4e8e;&#x4f9d;&#x8d56;&#x6536;&#x96c6;&#x548c;&#x6d3e;&#x53d1;&#x66f4;&#x65b0;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"232,233"}},{"content":"<pre data-lines=\"234,284\"><code data-lines=\"234,284\"><span class=\"hljs-comment\">/**\n * Observer class that is attached to each observed\n * object. Once attached, the observer converts the target\n * object&apos;s property keys into getter/setters that\n * collect dependencies and dispatch updates.\n */</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Observer</span> {\n  <span class=\"hljs-attr\">value</span>: <span class=\"hljs-built_in\">any</span>;\n  <span class=\"hljs-attr\">dep</span>: <span class=\"hljs-title class_\">Dep</span>;\n  <span class=\"hljs-attr\">vmCount</span>: <span class=\"hljs-built_in\">number</span>; <span class=\"hljs-comment\">// number of vms that has this object as root &#x24;data</span>\n\n  <span class=\"hljs-title function_\">constructor</span> (<span class=\"hljs-params\"><span class=\"hljs-attr\">value</span>: <span class=\"hljs-built_in\">any</span></span>) {\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">value</span> = value\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">dep</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Dep</span>()\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">vmCount</span> = <span class=\"hljs-number\">0</span>\n    <span class=\"hljs-title function_\">def</span>(value, <span class=\"hljs-string\">&apos;__ob__&apos;</span>, <span class=\"hljs-variable language_\">this</span>)\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(value)) {\n      <span class=\"hljs-keyword\">const</span> augment = hasProto\n        ? protoAugment\n        : copyAugment\n      <span class=\"hljs-title function_\">augment</span>(value, arrayMethods, arrayKeys)\n      <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">observeArray</span>(value)\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">walk</span>(value)\n    }\n  }\n\n  <span class=\"hljs-comment\">/**\n   * Walk through each property and convert them into\n   * getter/setters. This method should only be called when\n   * value type is Object.\n   */</span>\n  <span class=\"hljs-title function_\">walk</span> (<span class=\"hljs-attr\">obj</span>: <span class=\"hljs-title class_\">Object</span>) {\n    <span class=\"hljs-keyword\">const</span> keys = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">keys</span>(obj)\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> i = <span class=\"hljs-number\">0</span>; i &lt; keys.<span class=\"hljs-property\">length</span>; i++) {\n      <span class=\"hljs-title function_\">defineReactive</span>(obj, keys[i])\n    }\n  }\n\n  <span class=\"hljs-comment\">/**\n   * Observe a list of Array items.\n   */</span>\n  <span class=\"hljs-title function_\">observeArray</span> (<span class=\"hljs-attr\">items</span>: <span class=\"hljs-title class_\">Array</span>&lt;<span class=\"hljs-built_in\">any</span>&gt;) {\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> i = <span class=\"hljs-number\">0</span>, l = items.<span class=\"hljs-property\">length</span>; i &lt; l; i++) {\n      <span class=\"hljs-title function_\">observe</span>(items[i])\n    }\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"234,284"}},{"content":"<pre data-lines=\"285,286\"><code>`Observer` &#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#x903b;&#x8f91;&#x5f88;&#x7b80;&#x5355;&#xff0c;&#x9996;&#x5148;&#x5b9e;&#x4f8b;&#x5316; `Dep` &#x5bf9;&#x8c61;&#xff0c;&#x8fd9;&#x5757;&#x7a0d;&#x540e;&#x4f1a;&#x4ecb;&#x7ecd;&#xff0c;&#x63a5;&#x7740;&#x901a;&#x8fc7;&#x6267;&#x884c; `def` &#x51fd;&#x6570;&#x628a;&#x81ea;&#x8eab;&#x5b9e;&#x4f8b;&#x6dfb;&#x52a0;&#x5230;&#x6570;&#x636e;&#x5bf9;&#x8c61; `value` &#x7684; `__ob__` &#x5c5e;&#x6027;&#x4e0a;&#xff0c;`def` &#x7684;&#x5b9a;&#x4e49;&#x5728; `src/core/util/lang.js` &#x4e2d;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"285,286"}},{"content":"<pre data-lines=\"287,300\"><code data-lines=\"287,300\"><span class=\"hljs-comment\">/**\n * Define a property.\n */</span>\nexport <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">def</span> (<span class=\"hljs-params\">obj: Object, key: <span class=\"hljs-keyword\">string</span>, val: any, enumerable?: <span class=\"hljs-keyword\">boolean</span></span>) </span>{\n  Object.<span class=\"hljs-title function_ invoke__\">defineProperty</span>(obj, key, {\n    <span class=\"hljs-attr\">value</span>: val,\n    <span class=\"hljs-attr\">enumerable</span>: !!enumerable,\n    <span class=\"hljs-attr\">writable</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-attr\">configurable</span>: <span class=\"hljs-literal\">true</span>\n  })\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"287,300"}},{"content":"<pre data-lines=\"301,304\"><code>`def` &#x51fd;&#x6570;&#x662f;&#x4e00;&#x4e2a;&#x975e;&#x5e38;&#x7b80;&#x5355;&#x7684;`Object.defineProperty` &#x7684;&#x5c01;&#x88c5;&#xff0c;&#x8fd9;&#x5c31;&#x662f;&#x4e3a;&#x4ec0;&#x4e48;&#x6211;&#x5728;&#x5f00;&#x53d1;&#x4e2d;&#x8f93;&#x51fa; `data` &#x4e0a;&#x5bf9;&#x8c61;&#x7c7b;&#x578b;&#x7684;&#x6570;&#x636e;&#xff0c;&#x4f1a;&#x53d1;&#x73b0;&#x8be5;&#x5bf9;&#x8c61;&#x591a;&#x4e86;&#x4e00;&#x4e2a; `__ob__` &#x7684;&#x5c5e;&#x6027;&#x3002;\n\n&#x56de;&#x5230; `Observer` &#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x63a5;&#x4e0b;&#x6765;&#x4f1a;&#x5bf9; `value` &#x505a;&#x5224;&#x65ad;&#xff0c;&#x5bf9;&#x4e8e;&#x6570;&#x7ec4;&#x4f1a;&#x8c03;&#x7528; `observeArray` &#x65b9;&#x6cd5;&#xff0c;&#x5426;&#x5219;&#x5bf9;&#x7eaf;&#x5bf9;&#x8c61;&#x8c03;&#x7528; `walk` &#x65b9;&#x6cd5;&#x3002;&#x53ef;&#x4ee5;&#x770b;&#x5230; `observeArray` &#x662f;&#x904d;&#x5386;&#x6570;&#x7ec4;&#x518d;&#x6b21;&#x8c03;&#x7528; `observe` &#x65b9;&#x6cd5;&#xff0c;&#x800c; `walk` &#x65b9;&#x6cd5;&#x662f;&#x904d;&#x5386;&#x5bf9;&#x8c61;&#x7684; key &#x8c03;&#x7528; `defineReactive` &#x65b9;&#x6cd5;&#xff0c;&#x90a3;&#x4e48;&#x6211;&#x4eec;&#x6765;&#x770b;&#x4e00;&#x4e0b;&#x8fd9;&#x4e2a;&#x65b9;&#x6cd5;&#x662f;&#x505a;&#x4ec0;&#x4e48;&#x7684;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"301,304"}}],"payload":{"tag":"h2","lines":"229,231"}},{"content":"<a href=\"#definereactive\">#</a> defineReactive","children":[{"content":"<pre data-lines=\"308,309\"><code>`defineReactive` &#x7684;&#x529f;&#x80fd;&#x5c31;&#x662f;&#x5b9a;&#x4e49;&#x4e00;&#x4e2a;&#x54cd;&#x5e94;&#x5f0f;&#x5bf9;&#x8c61;&#xff0c;&#x7ed9;&#x5bf9;&#x8c61;&#x52a8;&#x6001;&#x6dfb;&#x52a0; getter &#x548c; setter&#xff0c;&#x5b83;&#x7684;&#x5b9a;&#x4e49;&#x5728; `src/core/observer/index.js` &#x4e2d;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"308,309"}},{"content":"<pre data-lines=\"310,373\"><code data-lines=\"310,373\"><span class=\"hljs-comment\">/**\n * Define a reactive property on an Object.\n */</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">defineReactive</span> (<span class=\"hljs-params\">\n  obj: Object,\n  key: string,\n  val: any,\n  customSetter?: ?Function,\n  shallow?: boolean\n</span>) </span>{\n  <span class=\"hljs-keyword\">const</span> dep = <span class=\"hljs-keyword\">new</span> Dep()\n\n  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">property</span><span class=\"hljs-string\"> </span>= <span class=\"hljs-built_in\">Object</span>.getOwnPropertyDescriptor(obj, key)\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">property</span><span class=\"hljs-string\"> &amp;&amp; property.configurable </span>=== <span class=\"hljs-literal\">false</span>) {\n    <span class=\"hljs-keyword\">return</span>\n  }\n\n  <span class=\"hljs-comment\">// cater for pre-defined getter/setters</span>\n  <span class=\"hljs-keyword\">const</span> getter = <span class=\"hljs-keyword\">property</span><span class=\"hljs-string\"> &amp;&amp; property.get</span>\n  <span class=\"hljs-keyword\">const</span> setter = <span class=\"hljs-keyword\">property</span><span class=\"hljs-string\"> &amp;&amp; property.set</span>\n  <span class=\"hljs-keyword\">if</span> ((!getter || setter) &amp;&amp; <span class=\"hljs-built_in\">arguments</span>.length === <span class=\"hljs-number\">2</span>) {\n    val = obj[key]\n  }\n\n  <span class=\"hljs-keyword\">let</span> childOb = !shallow &amp;&amp; observe(val)\n  <span class=\"hljs-built_in\">Object</span>.defineProperty(obj, key, {\n    <span class=\"hljs-attribute\">enumerable</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-attribute\">configurable</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-attribute\">get</span>: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">reactiveGetter</span> (<span class=\"hljs-params\"></span>) </span>{\n      <span class=\"hljs-keyword\">const</span> value = getter ? getter.call(obj) : val\n      <span class=\"hljs-keyword\">if</span> (Dep.target) {\n        dep.depend()\n        <span class=\"hljs-keyword\">if</span> (childOb) {\n          childOb.dep.depend()\n          <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-built_in\">Array</span>.isArray(value)) {\n            dependArray(value)\n          }\n        }\n      }\n      <span class=\"hljs-keyword\">return</span> value\n    },\n    <span class=\"hljs-attribute\">set</span>: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">reactiveSetter</span> (<span class=\"hljs-params\">newVal</span>) </span>{\n      <span class=\"hljs-keyword\">const</span> value = getter ? getter.call(obj) : val\n      <span class=\"hljs-comment\">/* eslint-disable no-self-compare */</span>\n      <span class=\"hljs-keyword\">if</span> (newVal === value || (newVal !== newVal &amp;&amp; value !== value)) {\n        <span class=\"hljs-keyword\">return</span>\n      }\n      <span class=\"hljs-comment\">/* eslint-enable no-self-compare */</span>\n      <span class=\"hljs-keyword\">if</span> (process.env.NODE_ENV !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; customSetter) {\n        customSetter()\n      }\n      <span class=\"hljs-keyword\">if</span> (setter) {\n        setter.call(obj, newVal)\n      } <span class=\"hljs-title\">else</span> {\n        val = newVal\n      }\n      childOb = !shallow &amp;&amp; observe(newVal)\n      dep.notify()\n    }\n  })\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"310,373"}},{"content":"<pre data-lines=\"374,375\"><code>`defineReactive` &#x51fd;&#x6570;&#x6700;&#x5f00;&#x59cb;&#x521d;&#x59cb;&#x5316; `Dep` &#x5bf9;&#x8c61;&#x7684;&#x5b9e;&#x4f8b;&#xff0c;&#x63a5;&#x7740;&#x62ff;&#x5230; `obj` &#x7684;&#x5c5e;&#x6027;&#x63cf;&#x8ff0;&#x7b26;&#xff0c;&#x7136;&#x540e;&#x5bf9;&#x5b50;&#x5bf9;&#x8c61;&#x9012;&#x5f52;&#x8c03;&#x7528; `observe` &#x65b9;&#x6cd5;&#xff0c;&#x8fd9;&#x6837;&#x5c31;&#x4fdd;&#x8bc1;&#x4e86;&#x65e0;&#x8bba; `obj` &#x7684;&#x7ed3;&#x6784;&#x591a;&#x590d;&#x6742;&#xff0c;&#x5b83;&#x7684;&#x6240;&#x6709;&#x5b50;&#x5c5e;&#x6027;&#x4e5f;&#x80fd;&#x53d8;&#x6210;&#x54cd;&#x5e94;&#x5f0f;&#x7684;&#x5bf9;&#x8c61;&#xff0c;&#x8fd9;&#x6837;&#x6211;&#x4eec;&#x8bbf;&#x95ee;&#x6216;&#x4fee;&#x6539; `obj` &#x4e2d;&#x4e00;&#x4e2a;&#x5d4c;&#x5957;&#x8f83;&#x6df1;&#x7684;&#x5c5e;&#x6027;&#xff0c;&#x4e5f;&#x80fd;&#x89e6;&#x53d1; getter &#x548c; setter&#x3002;&#x6700;&#x540e;&#x5229;&#x7528; `Object.defineProperty` &#x53bb;&#x7ed9; `obj` &#x7684;&#x5c5e;&#x6027; `key` &#x6dfb;&#x52a0; getter &#x548c; setter&#x3002;&#x800c;&#x5173;&#x4e8e; getter &#x548c; setter &#x7684;&#x5177;&#x4f53;&#x5b9e;&#x73b0;&#xff0c;&#x6211;&#x4eec;&#x4f1a;&#x5728;&#x4e4b;&#x540e;&#x4ecb;&#x7ecd;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"374,375"}}],"payload":{"tag":"h2","lines":"305,307"}},{"content":"<a href=\"#%E6%80%BB%E7%BB%93\">#</a> &#x603b;&#x7ed3;","children":[{"content":"<pre data-lines=\"379,380\"><code>&#x8fd9;&#x4e00;&#x8282;&#x6211;&#x4eec;&#x4ecb;&#x7ecd;&#x4e86;&#x54cd;&#x5e94;&#x5f0f;&#x5bf9;&#x8c61;&#xff0c;&#x6838;&#x5fc3;&#x5c31;&#x662f;&#x5229;&#x7528; `Object.defineProperty` &#x7ed9;&#x6570;&#x636e;&#x6dfb;&#x52a0;&#x4e86; getter &#x548c; setter&#xff0c;&#x76ee;&#x7684;&#x5c31;&#x662f;&#x4e3a;&#x4e86;&#x5728;&#x6211;&#x4eec;&#x8bbf;&#x95ee;&#x6570;&#x636e;&#x4ee5;&#x53ca;&#x5199;&#x6570;&#x636e;&#x7684;&#x65f6;&#x5019;&#x80fd;&#x81ea;&#x52a8;&#x6267;&#x884c;&#x4e00;&#x4e9b;&#x903b;&#x8f91;&#xff1a;getter &#x505a;&#x7684;&#x4e8b;&#x60c5;&#x662f;&#x4f9d;&#x8d56;&#x6536;&#x96c6;&#xff0c;setter &#x505a;&#x7684;&#x4e8b;&#x60c5;&#x662f;&#x6d3e;&#x53d1;&#x66f4;&#x65b0;&#xff0c;&#x90a3;&#x4e48;&#x5728;&#x63a5;&#x4e0b;&#x6765;&#x7684;&#x7ae0;&#x8282;&#x6211;&#x4eec;&#x4f1a;&#x91cd;&#x70b9;&#x5bf9;&#x8fd9;&#x4e24;&#x4e2a;&#x8fc7;&#x7a0b;&#x5206;&#x6790;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"379,380"}}],"payload":{"tag":"h2","lines":"376,378"}}],"payload":{"tag":"h1","lines":"0,2"}},{})</script>
</body>
</html>
