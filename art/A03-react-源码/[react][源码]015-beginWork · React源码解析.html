<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"beginWork","children":[{"content":"<pre data-lines=\"2,245\"><code data-lines=\"2,245\">function beginWork(\n  current: Fiber | <span class=\"hljs-literal\">null</span>,\n  workInProgress: Fiber,\n  renderExpirationTime: ExpirationTime,\n): Fiber | <span class=\"hljs-literal\">null</span> {\n  <span class=\"hljs-keyword\">const</span> updateExpirationTime = workInProgress.expirationTime\n\n  <span class=\"hljs-keyword\">if</span> (current !== <span class=\"hljs-literal\">null</span>) {\n    <span class=\"hljs-keyword\">const</span> oldProps = current.memoizedProps\n    <span class=\"hljs-keyword\">const</span> newProps = workInProgress.pendingProps\n    <span class=\"hljs-keyword\">if</span> (\n      oldProps === newProps &amp;&amp;\n      !hasLegacyContextChanged() &amp;&amp;\n      (updateExpirationTime === NoWork ||\n        updateExpirationTime &gt; renderExpirationTime)\n    ) {\n      \n      \n      \n      switch (workInProgress.tag) {\n        case HostRoot:\n          pushHostRootContext(workInProgress)\n          resetHydrationState()\n          <span class=\"hljs-keyword\">break</span>\n        case HostComponent:\n          pushHostContext(workInProgress)\n          <span class=\"hljs-keyword\">break</span>\n        case ClassComponent: {\n          <span class=\"hljs-keyword\">const</span> Component = workInProgress.type\n          <span class=\"hljs-keyword\">if</span> (isLegacyContextProvider(Component)) {\n            pushLegacyContextProvider(workInProgress)\n          }\n          <span class=\"hljs-keyword\">break</span>\n        }\n        case HostPortal:\n          pushHostContainer(\n            workInProgress,\n            workInProgress.stateNode.containerInfo,\n          )\n          <span class=\"hljs-keyword\">break</span>\n        case ContextProvider: {\n          <span class=\"hljs-keyword\">const</span> newValue = workInProgress.memoizedProps.value\n          pushProvider(workInProgress, newValue)\n          <span class=\"hljs-keyword\">break</span>\n        }\n        case Profiler:\n          <span class=\"hljs-keyword\">if</span> (enableProfilerTimer) {\n            workInProgress.effectTag |= Update\n          }\n          <span class=\"hljs-keyword\">break</span>\n        case SuspenseComponent: {\n          <span class=\"hljs-keyword\">const</span> state: SuspenseState | <span class=\"hljs-literal\">null</span> = workInProgress.memoizedState\n          <span class=\"hljs-keyword\">const</span> didTimeout = state !== <span class=\"hljs-literal\">null</span> &amp;&amp; state.didTimeout\n          <span class=\"hljs-keyword\">if</span> (didTimeout) {\n            <span class=\"hljs-keyword\">const</span> primaryChildFragment: Fiber = (workInProgress.child: any)\n            <span class=\"hljs-keyword\">const</span> primaryChildExpirationTime =\n              primaryChildFragment.childExpirationTime\n            <span class=\"hljs-keyword\">if</span> (\n              primaryChildExpirationTime !== NoWork &amp;&amp;\n              primaryChildExpirationTime &lt;= renderExpirationTime\n            ) {\n              <span class=\"hljs-keyword\">return</span> updateSuspenseComponent(\n                current,\n                workInProgress,\n                renderExpirationTime,\n              )\n            } <span class=\"hljs-keyword\">else</span> {\n              <span class=\"hljs-keyword\">const</span> child = bailoutOnAlreadyFinishedWork(\n                current,\n                workInProgress,\n                renderExpirationTime,\n              )\n              <span class=\"hljs-keyword\">if</span> (child !== <span class=\"hljs-literal\">null</span>) {\n                <span class=\"hljs-keyword\">return</span> child.sibling\n              } <span class=\"hljs-keyword\">else</span> {\n                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>\n              }\n            }\n          }\n          <span class=\"hljs-keyword\">break</span>\n        }\n      }\n      <span class=\"hljs-keyword\">return</span> bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderExpirationTime,\n      )\n    }\n  }\n\n  \n  workInProgress.expirationTime = NoWork\n\n  switch (workInProgress.tag) {\n    case IndeterminateComponent: {\n      <span class=\"hljs-keyword\">const</span> elementType = workInProgress.elementType\n      <span class=\"hljs-keyword\">return</span> mountIndeterminateComponent(\n        current,\n        workInProgress,\n        elementType,\n        renderExpirationTime,\n      )\n    }\n    case LazyComponent: {\n      <span class=\"hljs-keyword\">const</span> elementType = workInProgress.elementType\n      <span class=\"hljs-keyword\">return</span> mountLazyComponent(\n        current,\n        workInProgress,\n        elementType,\n        updateExpirationTime,\n        renderExpirationTime,\n      )\n    }\n    case FunctionComponent: {\n      <span class=\"hljs-keyword\">const</span> Component = workInProgress.type\n      <span class=\"hljs-keyword\">const</span> unresolvedProps = workInProgress.pendingProps\n      <span class=\"hljs-keyword\">const</span> resolvedProps =\n        workInProgress.elementType === Component\n          ? unresolvedProps\n          : resolveDefaultProps(Component, unresolvedProps)\n      <span class=\"hljs-keyword\">return</span> updateFunctionComponent(\n        current,\n        workInProgress,\n        Component,\n        resolvedProps,\n        renderExpirationTime,\n      )\n    }\n    case ClassComponent: {\n      <span class=\"hljs-keyword\">const</span> Component = workInProgress.type\n      <span class=\"hljs-keyword\">const</span> unresolvedProps = workInProgress.pendingProps\n      <span class=\"hljs-keyword\">const</span> resolvedProps =\n        workInProgress.elementType === Component\n          ? unresolvedProps\n          : resolveDefaultProps(Component, unresolvedProps)\n      <span class=\"hljs-keyword\">return</span> updateClassComponent(\n        current,\n        workInProgress,\n        Component,\n        resolvedProps,\n        renderExpirationTime,\n      )\n    }\n    case HostRoot:\n      <span class=\"hljs-keyword\">return</span> updateHostRoot(current, workInProgress, renderExpirationTime)\n    case HostComponent:\n      <span class=\"hljs-keyword\">return</span> updateHostComponent(current, workInProgress, renderExpirationTime)\n    case HostText:\n      <span class=\"hljs-keyword\">return</span> updateHostText(current, workInProgress)\n    case SuspenseComponent:\n      <span class=\"hljs-keyword\">return</span> updateSuspenseComponent(\n        current,\n        workInProgress,\n        renderExpirationTime,\n      )\n    case HostPortal:\n      <span class=\"hljs-keyword\">return</span> updatePortalComponent(\n        current,\n        workInProgress,\n        renderExpirationTime,\n      )\n    case ForwardRef: {\n      <span class=\"hljs-keyword\">const</span> type = workInProgress.type\n      <span class=\"hljs-keyword\">const</span> unresolvedProps = workInProgress.pendingProps\n      <span class=\"hljs-keyword\">const</span> resolvedProps =\n        workInProgress.elementType === type\n          ? unresolvedProps\n          : resolveDefaultProps(type, unresolvedProps)\n      <span class=\"hljs-keyword\">return</span> updateForwardRef(\n        current,\n        workInProgress,\n        type,\n        resolvedProps,\n        renderExpirationTime,\n      )\n    }\n    case Fragment:\n      <span class=\"hljs-keyword\">return</span> updateFragment(current, workInProgress, renderExpirationTime)\n    case Mode:\n      <span class=\"hljs-keyword\">return</span> updateMode(current, workInProgress, renderExpirationTime)\n    case Profiler:\n      <span class=\"hljs-keyword\">return</span> updateProfiler(current, workInProgress, renderExpirationTime)\n    case ContextProvider:\n      <span class=\"hljs-keyword\">return</span> updateContextProvider(\n        current,\n        workInProgress,\n        renderExpirationTime,\n      )\n    case ContextConsumer:\n      <span class=\"hljs-keyword\">return</span> updateContextConsumer(\n        current,\n        workInProgress,\n        renderExpirationTime,\n      )\n    case MemoComponent: {\n      <span class=\"hljs-keyword\">const</span> type = workInProgress.type\n      <span class=\"hljs-keyword\">const</span> unresolvedProps = workInProgress.pendingProps\n      <span class=\"hljs-keyword\">const</span> resolvedProps = resolveDefaultProps(type.type, unresolvedProps)\n      <span class=\"hljs-keyword\">return</span> updateMemoComponent(\n        current,\n        workInProgress,\n        type,\n        resolvedProps,\n        updateExpirationTime,\n        renderExpirationTime,\n      )\n    }\n    case SimpleMemoComponent: {\n      <span class=\"hljs-keyword\">return</span> updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        updateExpirationTime,\n        renderExpirationTime,\n      )\n    }\n    case IncompleteClassComponent: {\n      <span class=\"hljs-keyword\">const</span> Component = workInProgress.type\n      <span class=\"hljs-keyword\">const</span> unresolvedProps = workInProgress.pendingProps\n      <span class=\"hljs-keyword\">const</span> resolvedProps =\n        workInProgress.elementType === Component\n          ? unresolvedProps\n          : resolveDefaultProps(Component, unresolvedProps)\n      <span class=\"hljs-keyword\">return</span> mountIncompleteClassComponent(\n        current,\n        workInProgress,\n        Component,\n        resolvedProps,\n        renderExpirationTime,\n      )\n    }\n    default:\n      invariant(\n        <span class=\"hljs-literal\">false</span>,\n        <span class=\"hljs-string\">&apos;Unknown unit of work tag. This error is likely caused by a bug in &apos;</span> +\n          <span class=\"hljs-string\">&apos;React. Please file an issue.&apos;</span>,\n      )\n  }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2,245"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
