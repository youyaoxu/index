<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Net&#x6a21;&#x5757;&#x548c;DNS&#x6a21;&#x5757;","children":[{"content":"isIP()","children":[{"content":"<pre data-lines=\"29,30\"><code>isIP&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x5224;&#x65ad;&#x67d0;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#x662f;&#x5426;&#x4e3a;IP&#x5730;&#x5740;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"29,30"}},{"content":"<pre data-lines=\"31,35\"><code class=\"language-js\"><span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;net&apos;</span>).<span class=\"hljs-title function_\">isIP</span>(<span class=\"hljs-string\">&apos;10.0.0.1&apos;</span>) <span class=\"hljs-comment\">// 4</span>\n<span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;net&apos;</span>).<span class=\"hljs-title function_\">isIP</span>(<span class=\"hljs-string\">&apos;cats&apos;</span>) <span class=\"hljs-comment\">// 0</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"31,35"}}],"payload":{"tag":"h2","lines":"27,28"}},{"content":"&#x670d;&#x52a1;&#x5668;&#x7aef;Socket&#x63a5;&#x53e3;","children":[{"content":"<pre data-lines=\"38,39\"><code>&#x6765;&#x770b;&#x4e00;&#x4e2a;&#x7b80;&#x5355;&#x7684;Telnet&#x670d;&#x52a1;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"38,39"}},{"content":"<pre data-lines=\"40,52\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> net = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;net&apos;</span>);\n<span class=\"hljs-keyword\">var</span> port = <span class=\"hljs-number\">1081</span>;\n<span class=\"hljs-keyword\">var</span> logo = fs.<span class=\"hljs-title function_\">readFileSync</span>(<span class=\"hljs-string\">&apos;logo.txt&apos;</span>);\n<span class=\"hljs-keyword\">var</span> ps1 = <span class=\"hljs-string\">&apos;\\n\\n&gt;&gt;&gt; &apos;</span>;\n\nnet.<span class=\"hljs-title function_\">createServer</span>( <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"> socket </span>) {\n  socket.<span class=\"hljs-title function_\">write</span>( logo );\n  socket.<span class=\"hljs-title function_\">write</span>( ps1 );\n  socket.<span class=\"hljs-title function_\">on</span>( <span class=\"hljs-string\">&apos;data&apos;</span>, recv.<span class=\"hljs-title function_\">bind</span>( <span class=\"hljs-literal\">null</span>, socket ) );\n} ).<span class=\"hljs-title function_\">listen</span>( port );\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"40,52"}},{"content":"<pre data-lines=\"53,54\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#xff0c;&#x5728;1081&#x7aef;&#x53e3;&#x67b6;&#x8bbe;&#x4e86;&#x4e00;&#x4e2a;&#x670d;&#x52a1;&#x3002;&#x53ef;&#x4ee5;&#x7528;telnet&#x8bbf;&#x95ee;&#x8fd9;&#x4e2a;&#x670d;&#x52a1;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"53,54"}},{"content":"<pre data-lines=\"55,58\"><code class=\"language-js\">&#x24; telnet localhost 1081\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"55,58"}},{"content":"<pre data-lines=\"59,60\"><code>&#x4e00;&#x65e6;telnet&#x8fde;&#x5165;&#x4ee5;&#x540e;&#xff0c;&#x5c31;&#x4f1a;&#x663e;&#x793a;&#x63d0;&#x793a;&#x7b26;&gt;&gt;&gt;&#xff0c;&#x8f93;&#x5165;&#x547d;&#x4ee4;&#x4ee5;&#x540e;&#xff0c;&#x5c31;&#x4f1a;&#x8c03;&#x7528;&#x56de;&#x8c03;&#x51fd;&#x6570;recv&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"59,60"}},{"content":"<pre data-lines=\"61,79\"><code class=\"language-js\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">recv</span>(<span class=\"hljs-params\"> socket, data </span>) {\n  <span class=\"hljs-keyword\">if</span> ( data === <span class=\"hljs-string\">&apos;quit&apos;</span> ) {\n    socket.<span class=\"hljs-title function_\">end</span>( <span class=\"hljs-string\">&apos;Bye!\\n&apos;</span> );\n    <span class=\"hljs-keyword\">return</span>;\n  }\n\n  <span class=\"hljs-title function_\">request</span>( { <span class=\"hljs-attr\">uri</span>: baseUrl + data }, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"> error, response, body </span>) {\n    <span class=\"hljs-keyword\">if</span> ( body &amp;&amp; body.<span class=\"hljs-property\">length</span> ) {\n      &#x24; = cheerio.<span class=\"hljs-title function_\">load</span>( body );\n      socket.<span class=\"hljs-title function_\">write</span>( &#x24;( <span class=\"hljs-string\">&apos;#mw-content-text p&apos;</span> ).<span class=\"hljs-title function_\">first</span>().<span class=\"hljs-title function_\">text</span>() + <span class=\"hljs-string\">&apos;\\n&apos;</span> );\n    } <span class=\"hljs-keyword\">else</span> {\n      socket.<span class=\"hljs-title function_\">write</span>( <span class=\"hljs-string\">&apos;Error: &apos;</span> + response.<span class=\"hljs-property\">statusCode</span> );\n    }\n    socket.<span class=\"hljs-title function_\">write</span>( ps1 );\n  } );\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"61,79"}},{"content":"<pre data-lines=\"80,84\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x5982;&#x679c;&#x8f93;&#x5165;&#x7684;&#x547d;&#x4ee4;&#x662f;quit&#xff0c;&#x7136;&#x540e;&#x5c31;&#x9000;&#x51fa;telnet&#x3002;&#x5982;&#x679c;&#x662f;&#x5176;&#x4ed6;&#x547d;&#x4ee4;&#xff0c;\n&#x5c31;&#x53d1;&#x8d77;&#x8fdc;&#x7a0b;&#x8bf7;&#x6c42;&#x8bfb;&#x53d6;&#x6570;&#x636e;&#xff0c;&#x5e76;&#x663e;&#x793a;&#x5728;&#x5c4f;&#x5e55;&#x4e0a;&#x3002;\n\n&#x4e0b;&#x9762;&#x4ee3;&#x7801;&#x662f;&#x53e6;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#xff0c;&#x7528;&#x5230;&#x4e86;&#x66f4;&#x591a;&#x7684;&#x63a5;&#x53e3;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"80,84"}},{"content":"<pre data-lines=\"85,117\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> serverPort = <span class=\"hljs-number\">9099</span>;\n<span class=\"hljs-keyword\">var</span> net = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;net&apos;</span>);\n<span class=\"hljs-keyword\">var</span> server = net.<span class=\"hljs-title function_\">createServer</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">client</span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;client connected&apos;</span>);\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;client IP Address: &apos;</span> + client.<span class=\"hljs-property\">remoteAddress</span>);\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;is IPv6: &apos;</span> + net.<span class=\"hljs-title function_\">isIPv6</span>(client.<span class=\"hljs-property\">remoteAddress</span>));\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;total server connections: &apos;</span> + server.<span class=\"hljs-property\">connections</span>);\n\n  <span class=\"hljs-comment\">// Waiting for data from the client.</span>\n  client.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;data&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">data</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;received data: &apos;</span> + data.<span class=\"hljs-title function_\">toString</span>());\n\n    <span class=\"hljs-comment\">// Write data to the client socket.</span>\n    client.<span class=\"hljs-title function_\">write</span>(<span class=\"hljs-string\">&apos;hello from server&apos;</span>);\n  });\n\n  <span class=\"hljs-comment\">// Closed socket event from the client.</span>\n  client.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;end&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;client disconnected&apos;</span>);\n  });\n});\n\nserver.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;error&apos;</span>,<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">err</span>){\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(err);\n  server.<span class=\"hljs-title function_\">close</span>();\n});\n\nserver.<span class=\"hljs-title function_\">listen</span>(serverPort, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;server started on port &apos;</span> + serverPort);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"85,117"}},{"content":"<pre data-lines=\"118,119\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;createServer&#x65b9;&#x6cd5;&#x5efa;&#x7acb;&#x4e86;&#x4e00;&#x4e2a;&#x670d;&#x52a1;&#x7aef;&#xff0c;&#x4e00;&#x65e6;&#x6536;&#x5230;&#x5ba2;&#x6237;&#x7aef;&#x53d1;&#x9001;&#x7684;&#x6570;&#x636e;&#xff0c;&#x5c31;&#x53d1;&#x51fa;&#x56de;&#x5e94;&#xff0c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"118,119"}}],"payload":{"tag":"h2","lines":"36,37"}},{"content":"&#x5ba2;&#x6237;&#x7aef;Socket&#x63a5;&#x53e3;","children":[{"content":"<pre data-lines=\"123,124\"><code>&#x5ba2;&#x6237;&#x7aef;Socket&#x63a5;&#x53e3;&#x7528;&#x6765;&#x5411;&#x670d;&#x52a1;&#x5668;&#x53d1;&#x9001;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"123,124"}},{"content":"<pre data-lines=\"125,151\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> serverPort = <span class=\"hljs-number\">9099</span>;\n<span class=\"hljs-keyword\">var</span> server = <span class=\"hljs-string\">&apos;localhost&apos;</span>;\n<span class=\"hljs-keyword\">var</span> net = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;net&apos;</span>);\n\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;connecting to server...&apos;</span>);\n<span class=\"hljs-keyword\">var</span> client = net.<span class=\"hljs-title function_\">connect</span>({<span class=\"hljs-attr\">server</span>:server,<span class=\"hljs-attr\">port</span>:serverPort},<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;client connected&apos;</span>);\n\n  <span class=\"hljs-comment\">// send data</span>\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;send data to server&apos;</span>);\n  client.<span class=\"hljs-title function_\">write</span>(<span class=\"hljs-string\">&apos;greeting from client socket&apos;</span>);\n});\n\nclient.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;data&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">data</span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;received data: &apos;</span> + data.<span class=\"hljs-title function_\">toString</span>());\n  client.<span class=\"hljs-title function_\">end</span>();\n});\n\nclient.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;error&apos;</span>,<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">err</span>){\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(err);\n});\nclient.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;end&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;client disconnected&apos;</span>);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"125,151"}},{"content":"<pre data-lines=\"152,153\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x8fde;&#x63a5;&#x670d;&#x52a1;&#x5668;&#x4e4b;&#x540e;&#xff0c;&#x5c31;&#x5411;&#x670d;&#x52a1;&#x5668;&#x53d1;&#x9001;&#x6570;&#x636e;&#xff0c;&#x7136;&#x540e;&#x76d1;&#x542c;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"152,153"}}],"payload":{"tag":"h2","lines":"121,122"}},{"content":"DNS&#x6a21;&#x5757;","children":[{"content":"<pre data-lines=\"156,157\"><code>DNS&#x6a21;&#x5757;&#x7528;&#x4e8e;&#x89e3;&#x6790;&#x57df;&#x540d;&#x3002;resolve4&#x65b9;&#x6cd5;&#x7528;&#x4e8e;IPv4&#x73af;&#x5883;&#xff0c;resolve6&#x65b9;&#x6cd5;&#x7528;&#x4e8e;IPv6&#x73af;&#x5883;&#xff0c;lookup&#x65b9;&#x6cd5;&#x5728;&#x4ee5;&#x4e0a;&#x4e24;&#x79cd;&#x73af;&#x5883;&#x90fd;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#xff0c;&#x8fd4;&#x56de;IP&#x5730;&#x5740;&#xff08;address&#xff09;&#x548c;&#x5f53;&#x524d;&#x73af;&#x5883;&#xff08;IPv4&#x6216;IPv6&#xff09;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"156,157"}},{"content":"<pre data-lines=\"158,176\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> dns = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;dns&apos;</span>);\n\ndns.<span class=\"hljs-title function_\">resolve4</span>(<span class=\"hljs-string\">&apos;www.pecollege.net&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">err, addresses</span>) {\n  <span class=\"hljs-keyword\">if</span> (err)\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(err);\n\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;addresses: &apos;</span> + <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>(addresses));\n});\n\ndns.<span class=\"hljs-title function_\">lookup</span>(<span class=\"hljs-string\">&apos;www.pecollege.net&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">err, address, family</span>) {\n  <span class=\"hljs-keyword\">if</span> (err)\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(err);\n\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;addresses: &apos;</span> + <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>(address));\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;family: &apos;</span> + <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>(family));\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"158,176"}},{"content":"<pre data-lines=\"177,185\"><code data-lines=\"177,185\">&#x76ee;&#x5f55;\n\n<span class=\"hljs-function\"><span class=\"hljs-title\">isIP</span><span class=\"hljs-params\">()</span></span>\n&#x670d;&#x52a1;&#x5668;&#x7aef;Socket&#x63a5;&#x53e3;\n&#x5ba2;&#x6237;&#x7aef;Socket&#x63a5;&#x53e3;\nDNS&#x6a21;&#x5757;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"177,185"}}],"payload":{"tag":"h2","lines":"154,155"}}],"payload":{"tag":"h1","lines":"1,2"}},{})</script>
</body>
</html>
