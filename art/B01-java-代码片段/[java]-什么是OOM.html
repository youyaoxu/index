<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x4ec0;&#x4e48;&#x662f;OOM&#xff0c;&#x4e3a;&#x4ec0;&#x4e48;&#x4f1a;OOM&#x53ca;&#x4e00;&#x4e9b;&#x89e3;&#x51b3;&#x65b9;&#x6cd5;","children":[{"content":"1&#xff09;&#x4ec0;&#x4e48;&#x662f;OOM&#xff1f;","children":[{"content":"<pre data-lines=\"4,7\"><code data-lines=\"4,7\">OOM&#xff0c;&#x5168;&#x79f0;&#x201c;<span class=\"hljs-keyword\">Out</span> Of <span class=\"hljs-keyword\">Memory</span>&#x201d;&#xff0c;&#x7ffb;&#x8bd1;&#x6210;&#x4e2d;&#x6587;&#x5c31;&#x662f;&#x201c;&#x5185;&#x5b58;&#x7528;&#x5b8c;&#x4e86;&#x201d;&#xff0c;&#x6765;&#x6e90;&#x4e8e;java.lang.OutOfMemoryError&#x3002;&#x770b;&#x4e0b;&#x5173;&#x4e8e;&#x7684;&#x5b98;&#x65b9;&#x8bf4;&#x660e;&#xff1a; Thrown when the Java Virtual Machine cannot allocate <span class=\"hljs-keyword\">an</span> object because it is <span class=\"hljs-keyword\">out</span> of <span class=\"hljs-keyword\">memory</span>, and <span class=\"hljs-keyword\">no</span> <span class=\"hljs-keyword\">more</span> <span class=\"hljs-keyword\">memory</span> could be made available <span class=\"hljs-keyword\">by</span> the garbage collector. &#x610f;&#x601d;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x5f53;JVM&#x56e0;&#x4e3a;&#x6ca1;&#x6709;&#x8db3;&#x591f;&#x7684;&#x5185;&#x5b58;&#x6765;&#x4e3a;&#x5bf9;&#x8c61;&#x5206;&#x914d;&#x7a7a;&#x95f4;&#x5e76;&#x4e14;&#x5783;&#x573e;&#x56de;&#x6536;&#x5668;&#x4e5f;&#x5df2;&#x7ecf;&#x6ca1;&#x6709;&#x7a7a;&#x95f4;&#x53ef;&#x56de;&#x6536;&#x65f6;&#xff0c;&#x5c31;&#x4f1a;&#x629b;&#x51fa;&#x8fd9;&#x4e2a;<span class=\"hljs-keyword\">error</span>&#xff08;&#x6ce8;&#xff1a;&#x975e;exception&#xff0c;&#x56e0;&#x4e3a;&#x8fd9;&#x4e2a;&#x95ee;&#x9898;&#x5df2;&#x7ecf;&#x4e25;&#x91cd;&#x5230;&#x4e0d;&#x8db3;&#x4ee5;&#x88ab;&#x5e94;&#x7528;&#x5904;&#x7406;&#xff09;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,7"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"2&#xff09;&#x4e3a;&#x4ec0;&#x4e48;&#x4f1a;OOM&#xff1f;","children":[{"content":"<pre data-lines=\"12,23\"><code data-lines=\"12,23\">&#x4e3a;&#x4ec0;&#x4e48;&#x4f1a;&#x6ca1;&#x6709;&#x5185;&#x5b58;&#x4e86;&#x5462;&#xff1f;&#x539f;&#x56e0;&#x4e0d;&#x5916;&#x4e4e;&#x6709;&#x4e24;&#x70b9;&#xff1a;\n<span class=\"hljs-number\">1</span>&#xff09;&#x5206;&#x914d;&#x7684;&#x5c11;&#x4e86;&#xff1a;&#x6bd4;&#x5982;&#x865a;&#x62df;&#x673a;&#x672c;&#x8eab;&#x53ef;&#x4f7f;&#x7528;&#x7684;&#x5185;&#x5b58;&#xff08;&#x4e00;&#x822c;&#x901a;&#x8fc7;&#x542f;&#x52a8;&#x65f6;&#x7684;<span class=\"hljs-variable\">VM</span>&#x53c2;&#x6570;&#x6307;&#x5b9a;&#xff09;&#x592a;&#x5c11;&#x3002;\n<span class=\"hljs-number\">2</span>&#xff09;&#x5e94;&#x7528;&#x7528;&#x7684;&#x592a;&#x591a;&#xff0c;&#x5e76;&#x4e14;&#x7528;&#x5b8c;&#x6ca1;&#x91ca;&#x653e;&#xff0c;&#x6d6a;&#x8d39;&#x4e86;&#x3002;&#x6b64;&#x65f6;&#x5c31;&#x4f1a;&#x9020;&#x6210;&#x5185;&#x5b58;&#x6cc4;&#x9732;&#x6216;&#x8005;&#x5185;&#x5b58;&#x6ea2;&#x51fa;&#x3002;\n&#x5185;&#x5b58;&#x6cc4;&#x9732;&#xff1a;&#x7533;&#x8bf7;&#x4f7f;&#x7528;&#x5b8c;&#x7684;&#x5185;&#x5b58;&#x6ca1;&#x6709;&#x91ca;&#x653e;&#xff0c;&#x5bfc;&#x81f4;&#x865a;&#x62df;&#x673a;&#x4e0d;&#x80fd;&#x518d;&#x6b21;&#x4f7f;&#x7528;&#x8be5;&#x5185;&#x5b58;&#xff0c;&#x6b64;&#x65f6;&#x8fd9;&#x6bb5;&#x5185;&#x5b58;&#x5c31;&#x6cc4;&#x9732;&#x4e86;&#xff0c;&#x56e0;&#x4e3a;&#x7533;&#x8bf7;&#x8005;&#x4e0d;&#x7528;&#x4e86;&#xff0c;&#x800c;&#x53c8;&#x4e0d;&#x80fd;&#x88ab;&#x865a;&#x62df;&#x673a;&#x5206;&#x914d;&#x7ed9;&#x522b;&#x4eba;&#x7528;&#x3002;\n&#x5185;&#x5b58;&#x6ea2;&#x51fa;&#xff1a;&#x7533;&#x8bf7;&#x7684;&#x5185;&#x5b58;&#x8d85;&#x51fa;&#x4e86;<span class=\"hljs-variable\">JVM</span>&#x80fd;&#x63d0;&#x4f9b;&#x7684;&#x5185;&#x5b58;&#x5927;&#x5c0f;&#xff0c;&#x6b64;&#x65f6;&#x79f0;&#x4e4b;&#x4e3a;&#x6ea2;&#x51fa;&#x3002;\n\n&#x5728;&#x4e4b;&#x524d;&#x6ca1;&#x6709;&#x5783;&#x573e;&#x81ea;&#x52a8;&#x56de;&#x6536;&#x7684;&#x65e5;&#x5b50;&#x91cc;&#xff0c;&#x6bd4;&#x5982;<span class=\"hljs-built_in\">C</span>&#x8bed;&#x8a00;&#x548c;<span class=\"hljs-built_in\">C</span><span class=\"hljs-operator\">++</span>&#x8bed;&#x8a00;&#xff0c;&#x6211;&#x4eec;&#x5fc5;&#x987b;&#x4eb2;&#x81ea;&#x8d1f;&#x8d23;&#x5185;&#x5b58;&#x7684;&#x7533;&#x8bf7;&#x4e0e;&#x91ca;&#x653e;&#x64cd;&#x4f5c;&#xff0c;&#x5982;&#x679c;&#x7533;&#x8bf7;&#x4e86;&#x5185;&#x5b58;&#xff0c;&#x7528;&#x5b8c;&#x540e;&#x53c8;&#x5fd8;&#x8bb0;&#x4e86;&#x91ca;&#x653e;&#xff0c;&#x6bd4;&#x5982;<span class=\"hljs-built_in\">C</span><span class=\"hljs-operator\">++</span>&#x4e2d;&#x7684;<span class=\"hljs-variable\">new</span>&#x4e86;&#x4f46;&#x662f;&#x6ca1;&#x6709;<span class=\"hljs-variable\">delete</span>&#xff0c;&#x90a3;&#x4e48;&#x5c31;&#x53ef;&#x80fd;&#x9020;&#x6210;&#x5185;&#x5b58;&#x6cc4;&#x9732;&#x3002;&#x5076;&#x5c14;&#x7684;&#x5185;&#x5b58;&#x6cc4;&#x9732;&#x53ef;&#x80fd;&#x4e0d;&#x4f1a;&#x9020;&#x6210;&#x95ee;&#x9898;&#xff0c;&#x800c;&#x5927;&#x91cf;&#x7684;&#x5185;&#x5b58;&#x6cc4;&#x9732;&#x53ef;&#x80fd;&#x4f1a;&#x5bfc;&#x81f4;&#x5185;&#x5b58;&#x6ea2;&#x51fa;&#x3002;\n\n&#x800c;&#x5728;<span class=\"hljs-variable\">Java</span>&#x8bed;&#x8a00;&#x4e2d;&#xff0c;&#x7531;&#x4e8e;&#x5b58;&#x5728;&#x4e86;&#x5783;&#x573e;&#x81ea;&#x52a8;&#x56de;&#x6536;&#x673a;&#x5236;&#xff0c;&#x6240;&#x4ee5;&#xff0c;&#x6211;&#x4eec;&#x4e00;&#x822c;&#x4e0d;&#x7528;&#x53bb;&#x4e3b;&#x52a8;&#x91ca;&#x653e;&#x4e0d;&#x7528;&#x7684;&#x5bf9;&#x8c61;&#x6240;&#x5360;&#x7684;&#x5185;&#x5b58;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x7406;&#x8bba;&#x4e0a;&#x6765;&#x8bf4;&#xff0c;&#x662f;&#x4e0d;&#x4f1a;&#x5b58;&#x5728;&#x201c;&#x5185;&#x5b58;&#x6cc4;&#x9732;&#x201d;&#x7684;&#x3002;&#x4f46;&#x662f;&#xff0c;&#x5982;&#x679c;&#x7f16;&#x7801;&#x4e0d;&#x5f53;&#xff0c;&#x6bd4;&#x5982;&#xff0c;&#x5c06;&#x67d0;&#x4e2a;&#x5bf9;&#x8c61;&#x7684;&#x5f15;&#x7528;&#x653e;&#x5230;&#x4e86;&#x5168;&#x5c40;&#x7684;<span class=\"hljs-built_in\">Map</span>&#x4e2d;&#xff0c;&#x867d;&#x7136;&#x65b9;&#x6cd5;&#x7ed3;&#x675f;&#x4e86;&#xff0c;&#x4f46;&#x662f;&#x7531;&#x4e8e;&#x5783;&#x573e;&#x56de;&#x6536;&#x5668;&#x4f1a;&#x6839;&#x636e;&#x5bf9;&#x8c61;&#x7684;&#x5f15;&#x7528;&#x60c5;&#x51b5;&#x6765;&#x56de;&#x6536;&#x5185;&#x5b58;&#xff0c;&#x5bfc;&#x81f4;&#x8be5;&#x5bf9;&#x8c61;&#x4e0d;&#x80fd;&#x88ab;&#x53ca;&#x65f6;&#x7684;&#x56de;&#x6536;&#x3002;&#x5982;&#x679c;&#x8be5;&#x79cd;&#x60c5;&#x51b5;&#x51fa;&#x73b0;&#x6b21;&#x6570;&#x591a;&#x4e86;&#xff0c;&#x5c31;&#x4f1a;&#x5bfc;&#x81f4;&#x5185;&#x5b58;&#x6ea2;&#x51fa;&#xff0c;&#x6bd4;&#x5982;&#x7cfb;&#x7edf;&#x4e2d;&#x7ecf;&#x5e38;&#x4f7f;&#x7528;&#x7684;&#x7f13;&#x5b58;&#x673a;&#x5236;&#x3002;<span class=\"hljs-variable\">Java</span>&#x4e2d;&#x7684;&#x5185;&#x5b58;&#x6cc4;&#x9732;&#xff0c;&#x4e0d;&#x540c;&#x4e8e;<span class=\"hljs-built_in\">C</span><span class=\"hljs-operator\">++</span>&#x4e2d;&#x7684;&#x5fd8;&#x4e86;<span class=\"hljs-variable\">delete</span>&#xff0c;&#x5f80;&#x5f80;&#x662f;&#x903b;&#x8f91;&#x4e0a;&#x7684;&#x539f;&#x56e0;&#x6cc4;&#x9732;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"12,23"}}],"payload":{"tag":"h2","lines":"10,11"}},{"content":"3&#xff09;OOM&#x7684;&#x7c7b;&#x578b;","children":[{"content":"<pre data-lines=\"28,42\"><code data-lines=\"28,42\">JVM&#x5185;&#x5b58;&#x6a21;&#x578b;&#xff1a;\n\n&#x6309;&#x7167;JVM&#x89c4;&#x8303;&#xff0c;JAVA&#x865a;&#x62df;&#x673a;&#x5728;&#x8fd0;&#x884c;&#x65f6;&#x4f1a;&#x7ba1;&#x7406;&#x4ee5;&#x4e0b;&#x7684;&#x5185;&#x5b58;&#x533a;&#x57df;&#xff1a;\n\n`&#x7a0b;&#x5e8f;&#x8ba1;&#x6570;&#x5668;`&#xff1a;&#x5f53;&#x524d;&#x7ebf;&#x7a0b;&#x6267;&#x884c;&#x7684;&#x5b57;&#x8282;&#x7801;&#x7684;&#x884c;&#x53f7;&#x6307;&#x793a;&#x5668;&#xff0c;&#x7ebf;&#x7a0b;&#x79c1;&#x6709;\n`JAVA&#x865a;&#x62df;&#x673a;&#x6808;`&#xff1a;Java&#x65b9;&#x6cd5;&#x6267;&#x884c;&#x7684;&#x5185;&#x5b58;&#x6a21;&#x578b;&#xff0c;&#x6bcf;&#x4e2a;Java&#x65b9;&#x6cd5;&#x7684;&#x6267;&#x884c;&#x5bf9;&#x5e94;&#x7740;&#x4e00;&#x4e2a;&#x6808;&#x5e27;&#x7684;&#x8fdb;&#x6808;&#x548c;&#x51fa;&#x6808;&#x7684;&#x64cd;&#x4f5c;&#x3002;\n`&#x672c;&#x5730;&#x65b9;&#x6cd5;&#x6808;`&#xff1a;&#x7c7b;&#x4f3c;&#x201c; JAVA&#x865a;&#x62df;&#x673a;&#x6808; &#x201d;&#xff0c;&#x4f46;&#x662f;&#x4e3a;native&#x65b9;&#x6cd5;&#x7684;&#x8fd0;&#x884c;&#x63d0;&#x4f9b;&#x5185;&#x5b58;&#x73af;&#x5883;&#x3002;\n`JAVA&#x5806;`&#xff1a;&#x5bf9;&#x8c61;&#x5185;&#x5b58;&#x5206;&#x914d;&#x7684;&#x5730;&#x65b9;&#xff0c;&#x5185;&#x5b58;&#x5783;&#x573e;&#x56de;&#x6536;&#x7684;&#x4e3b;&#x8981;&#x533a;&#x57df;&#xff0c;&#x6240;&#x6709;&#x7ebf;&#x7a0b;&#x5171;&#x4eab;&#x3002;&#x53ef;&#x5206;&#x4e3a;&#x65b0;&#x751f;&#x4ee3;&#xff0c;&#x8001;&#x751f;&#x4ee3;&#x3002;\n`&#x65b9;&#x6cd5;&#x533a;`&#xff1a;&#x7528;&#x4e8e;&#x5b58;&#x50a8;&#x5df2;&#x7ecf;&#x88ab;JVM&#x52a0;&#x8f7d;&#x7684;&#x7c7b;&#x4fe1;&#x606f;&#x3001;&#x5e38;&#x91cf;&#x3001;&#x9759;&#x6001;&#x53d8;&#x91cf;&#x3001;&#x5373;&#x65f6;&#x7f16;&#x8bd1;&#x5668;&#x7f16;&#x8bd1;&#x540e;&#x7684;&#x4ee3;&#x7801;&#x7b49;&#x6570;&#x636e;&#x3002;Hotspot&#x4e2d;&#x7684;&#x201c;&#x6c38;&#x4e45;&#x4ee3;&#x201d;&#x3002;\n`&#x8fd0;&#x884c;&#x65f6;&#x5e38;&#x91cf;&#x6c60;`&#xff1a;&#x65b9;&#x6cd5;&#x533a;&#x7684;&#x4e00;&#x90e8;&#x5206;&#xff0c;&#x5b58;&#x50a8;&#x5e38;&#x91cf;&#x4fe1;&#x606f;&#xff0c;&#x5982;&#x5404;&#x79cd;&#x5b57;&#x9762;&#x91cf;&#x3001;&#x7b26;&#x53f7;&#x5f15;&#x7528;&#x7b49;&#x3002;\n`&#x76f4;&#x63a5;&#x5185;&#x5b58;`&#xff1a;&#x5e76;&#x4e0d;&#x662f;JVM&#x8fd0;&#x884c;&#x65f6;&#x6570;&#x636e;&#x533a;&#x7684;&#x4e00;&#x90e8;&#x5206;&#xff0c; &#x53ef;&#x76f4;&#x63a5;&#x8bbf;&#x95ee;&#x7684;&#x5185;&#x5b58;&#xff0c; &#x6bd4;&#x5982;NIO&#x4f1a;&#x7528;&#x5230;&#x8fd9;&#x90e8;&#x5206;&#x3002;\n&#x6309;&#x7167;JVM&#x89c4;&#x8303;&#xff0c;&#x9664;&#x4e86;&#x7a0b;&#x5e8f;&#x8ba1;&#x6570;&#x5668;&#x4e0d;&#x4f1a;&#x629b;&#x51fa;OOM&#x5916;&#xff0c;&#x5176;&#x4ed6;&#x5404;&#x4e2a;&#x5185;&#x5b58;&#x533a;&#x57df;&#x90fd;&#x53ef;&#x80fd;&#x4f1a;&#x629b;&#x51fa;OOM&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"28,42"}},{"content":"<pre data-lines=\"43,50\"><code data-lines=\"43,50\">&#x6700;&#x5e38;&#x89c1;&#x7684;OOM&#x60c5;&#x51b5;&#x6709;&#x4ee5;&#x4e0b;&#x4e09;&#x79cd;&#xff1a;\n<span class=\"hljs-symbol\">\njava.lang.OutOfMemoryError:</span> <span class=\"hljs-keyword\">Java </span>heap space ------&gt;<span class=\"hljs-keyword\">java&#x5806;&#x5185;&#x5b58;&#x6ea2;&#x51fa;&#xff0c;&#x6b64;&#x79cd;&#x60c5;&#x51b5;&#x6700;&#x5e38;&#x89c1;&#xff0c;&#x4e00;&#x822c;&#x7531;&#x4e8e;&#x5185;&#x5b58;&#x6cc4;&#x9732;&#x6216;&#x8005;&#x5806;&#x7684;&#x5927;&#x5c0f;&#x8bbe;&#x7f6e;&#x4e0d;&#x5f53;&#x5f15;&#x8d77;&#x3002;&#x5bf9;&#x4e8e;&#x5185;&#x5b58;&#x6cc4;&#x9732;&#xff0c;&#x9700;&#x8981;&#x901a;&#x8fc7;&#x5185;&#x5b58;&#x76d1;&#x63a7;&#x8f6f;&#x4ef6;&#x67e5;&#x627e;&#x7a0b;&#x5e8f;&#x4e2d;&#x7684;&#x6cc4;&#x9732;&#x4ee3;&#x7801;&#xff0c;&#x800c;&#x5806;&#x5927;&#x5c0f;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x865a;&#x62df;&#x673a;&#x53c2;&#x6570;-Xms,-Xmx&#x7b49;&#x4fee;&#x6539;&#x3002;\n</span><span class=\"hljs-keyword\">java.lang.OutOfMemoryError: </span>PermGen space ------&gt;<span class=\"hljs-keyword\">java&#x6c38;&#x4e45;&#x4ee3;&#x6ea2;&#x51fa;&#xff0c;&#x5373;&#x65b9;&#x6cd5;&#x533a;&#x6ea2;&#x51fa;&#x4e86;&#xff0c;&#x4e00;&#x822c;&#x51fa;&#x73b0;&#x4e8e;&#x5927;&#x91cf;Class&#x6216;&#x8005;jsp&#x9875;&#x9762;&#xff0c;&#x6216;&#x8005;&#x91c7;&#x7528;cglib&#x7b49;&#x53cd;&#x5c04;&#x673a;&#x5236;&#x7684;&#x60c5;&#x51b5;&#xff0c;&#x56e0;&#x4e3a;&#x4e0a;&#x8ff0;&#x60c5;&#x51b5;&#x4f1a;&#x4ea7;&#x751f;&#x5927;&#x91cf;&#x7684;Class&#x4fe1;&#x606f;&#x5b58;&#x50a8;&#x4e8e;&#x65b9;&#x6cd5;&#x533a;&#x3002;&#x6b64;&#x79cd;&#x60c5;&#x51b5;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x66f4;&#x6539;&#x65b9;&#x6cd5;&#x533a;&#x7684;&#x5927;&#x5c0f;&#x6765;&#x89e3;&#x51b3;&#xff0c;&#x4f7f;&#x7528;&#x7c7b;&#x4f3c;-XX:PermSize=64m </span>-XX:MaxPermSize=<span class=\"hljs-number\">256</span>m&#x7684;&#x5f62;&#x5f0f;&#x4fee;&#x6539;&#x3002;&#x53e6;&#x5916;&#xff0c;&#x8fc7;&#x591a;&#x7684;&#x5e38;&#x91cf;&#x5c24;&#x5176;&#x662f;&#x5b57;&#x7b26;&#x4e32;&#x4e5f;&#x4f1a;&#x5bfc;&#x81f4;&#x65b9;&#x6cd5;&#x533a;&#x6ea2;&#x51fa;&#x3002;\n<span class=\"hljs-keyword\">java.lang.StackOverflowError </span>------&gt; &#x4e0d;&#x4f1a;&#x629b;OOM error&#xff0c;&#x4f46;&#x4e5f;&#x662f;&#x6bd4;&#x8f83;&#x5e38;&#x89c1;&#x7684;<span class=\"hljs-keyword\">Java&#x5185;&#x5b58;&#x6ea2;&#x51fa;&#x3002;JAVA&#x865a;&#x62df;&#x673a;&#x6808;&#x6ea2;&#x51fa;&#xff0c;&#x4e00;&#x822c;&#x662f;&#x7531;&#x4e8e;&#x7a0b;&#x5e8f;&#x4e2d;&#x5b58;&#x5728;&#x6b7b;&#x5faa;&#x73af;&#x6216;&#x8005;&#x6df1;&#x5ea6;&#x9012;&#x5f52;&#x8c03;&#x7528;&#x9020;&#x6210;&#x7684;&#xff0c;&#x6808;&#x5927;&#x5c0f;&#x8bbe;&#x7f6e;&#x592a;&#x5c0f;&#x4e5f;&#x4f1a;&#x51fa;&#x73b0;&#x6b64;&#x79cd;&#x6ea2;&#x51fa;&#x3002;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x865a;&#x62df;&#x673a;&#x53c2;&#x6570;-Xss&#x6765;&#x8bbe;&#x7f6e;&#x6808;&#x7684;&#x5927;&#x5c0f;&#x3002;\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"43,50"}}],"payload":{"tag":"h2","lines":"26,27"}},{"content":"4&#xff09;OOM&#x5206;&#x6790;--heapdump","children":[{"content":"<pre data-lines=\"55,67\"><code data-lines=\"55,67\">&#x8981;<span class=\"hljs-keyword\">dump</span>&#x5806;&#x7684;&#x5185;&#x5b58;&#x955c;&#x50cf;&#xff0c;&#x53ef;&#x4ee5;&#x91c7;&#x7528;&#x5982;&#x4e0b;&#x4e24;&#x79cd;&#x65b9;&#x5f0f;&#xff1a;\n\n&#x8bbe;&#x7f6e;JVM&#x53c2;&#x6570;-XX:+HeapDumpOnOutOfMemoryError&#xff0c;&#x8bbe;&#x5b9a;&#x5f53;&#x53d1;&#x751f;OOM&#x65f6;&#x81ea;&#x52a8;<span class=\"hljs-keyword\">dump</span>&#x51fa;&#x5806;&#x4fe1;&#x606f;&#x3002;&#x4e0d;&#x8fc7;&#x8be5;&#x65b9;&#x6cd5;&#x9700;&#x8981;JDK5&#x4ee5;&#x4e0a;&#x7248;&#x672c;&#x3002;\n&#x4f7f;&#x7528;JDK&#x81ea;&#x5e26;&#x7684;jmap&#x547d;&#x4ee4;&#x3002;<span class=\"hljs-string\">&quot;jmap -dump:format=b,file=heap.bin &lt;pid&gt;&quot;</span>   &#x5176;&#x4e2d;pid&#x53ef;&#x4ee5;&#x901a;&#x8fc7;jps&#x83b7;&#x53d6;&#x3002;\n<span class=\"hljs-keyword\">dump</span>&#x5806;&#x5185;&#x5b58;&#x4fe1;&#x606f;&#x540e;&#xff0c;&#x9700;&#x8981;&#x5bf9;<span class=\"hljs-keyword\">dump</span>&#x51fa;&#x7684;&#x6587;&#x4ef6;&#x8fdb;&#x884c;&#x5206;&#x6790;&#xff0c;&#x4ece;&#x800c;&#x627e;&#x5230;OOM&#x7684;&#x539f;&#x56e0;&#x3002;&#x5e38;&#x7528;&#x7684;&#x5de5;&#x5177;&#x6709;&#xff1a;\n\nmat: eclipse memory analyzer, &#x57fa;&#x4e8e;eclipse RCP&#x7684;&#x5185;&#x5b58;&#x5206;&#x6790;&#x5de5;&#x5177;&#x3002;&#x8be6;&#x7ec6;&#x4fe1;&#x606f;&#x53c2;&#x89c1;&#xff1a;http:<span class=\"hljs-regexp\">//</span>www.eclipse.org/mat/&#xff0c;&#x63a8;&#x8350;&#x4f7f;&#x7528;&#x3002;   \njhat&#xff1a;JDK&#x81ea;&#x5e26;&#x7684;java heap analyze tool&#xff0c;&#x53ef;&#x4ee5;&#x5c06;&#x5806;&#x4e2d;&#x7684;&#x5bf9;&#x8c61;&#x4ee5;html&#x7684;&#x5f62;&#x5f0f;&#x663e;&#x793a;&#x51fa;&#x6765;&#xff0c;&#x5305;&#x62ec;&#x5bf9;&#x8c61;&#x7684;&#x6570;&#x91cf;&#xff0c;&#x5927;&#x5c0f;&#x7b49;&#x7b49;&#xff0c;&#x5e76;&#x652f;&#x6301;&#x5bf9;&#x8c61;&#x67e5;&#x8be2;&#x8bed;&#x8a00;OQL&#xff0c;&#x5206;&#x6790;&#x76f8;&#x5173;&#x7684;&#x5e94;&#x7528;&#x540e;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;http:<span class=\"hljs-regexp\">//l</span>ocalhost:<span class=\"hljs-number\">7000</span>&#x6765;&#x8bbf;&#x95ee;&#x5206;&#x6790;&#x7ed3;&#x679c;&#x3002;&#x4e0d;&#x63a8;&#x8350;&#x4f7f;&#x7528;&#xff0c;&#x56e0;&#x4e3a;&#x5728;&#x5b9e;&#x9645;&#x7684;&#x6392;&#x67e5;&#x8fc7;&#x7a0b;&#x4e2d;&#xff0c;&#x4e00;&#x822c;&#x662f;&#x5148;&#x5728;&#x751f;&#x4ea7;&#x73af;&#x5883; <span class=\"hljs-keyword\">dump</span>&#x51fa;&#x6587;&#x4ef6;&#x6765;&#xff0c;&#x7136;&#x540e;&#x62c9;&#x5230;&#x81ea;&#x5df1;&#x7684;&#x5f00;&#x53d1;&#x673a;&#x5668;&#x4e0a;&#x5206;&#x6790;&#xff0c;&#x6240;&#x4ee5;&#xff0c;&#x4e0d;&#x5982;&#x91c7;&#x7528;&#x9ad8;&#x7ea7;&#x7684;&#x5206;&#x6790;&#x5de5;&#x5177;&#x6bd4;&#x5982;&#x524d;&#x9762;&#x7684;mat&#x6765;&#x7684;&#x9ad8;&#x6548;&#x3002;\n\n&#x6ce8;&#x610f;&#xff1a;&#x56e0;&#x4e3a;JVM&#x89c4;&#x8303;&#x6ca1;&#x6709;&#x5bf9;<span class=\"hljs-keyword\">dump</span>&#x51fa;&#x7684;&#x6587;&#x4ef6;&#x7684;&#x683c;&#x5f0f;&#x8fdb;&#x884c;&#x5b9a;&#x4e49;&#xff0c;&#x6240;&#x4ee5;&#x4e0d;&#x540c;&#x7684;&#x865a;&#x62df;&#x673a;&#x4ea7;&#x751f;&#x7684;<span class=\"hljs-keyword\">dump</span>&#x6587;&#x4ef6;&#x5e76;&#x4e0d;&#x662f;&#x4e00;&#x6837;&#x7684;&#x3002;&#x5728;&#x5206;&#x6790;&#x65f6;&#xff0c;&#x9700;&#x8981;&#x9488;&#x5bf9;&#x4e0d;&#x540c;&#x7684;&#x865a;&#x62df;&#x673a;&#x7684;&#x8f93;&#x51fa;&#x91c7;&#x7528;&#x4e0d;&#x540c;&#x7684;&#x5206;&#x6790;&#x5de5;&#x5177;&#xff08;&#x5f53;&#x7136;&#xff0c;&#x6709;&#x7684;&#x5de5;&#x5177;&#x53ef;&#x4ee5;&#x517c;&#x5bb9;&#x591a;&#x4e2a;&#x865a;&#x62df;&#x673a;&#x7684;&#x683c;&#x5f0f;&#xff09;&#x3002;IBM HeapAnalyzer&#x4e5f;&#x662f;&#x5206;&#x6790;heap&#x7684;&#x4e00;&#x4e2a;&#x5e38;&#x7528;&#x7684;&#x5de5;&#x5177;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"55,67"}}],"payload":{"tag":"h2","lines":"53,54"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
