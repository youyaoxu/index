<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"[&#x5165;&#x95e8;]-useReducer2","children":[{"content":"1. useState &#x548c; useReducer&#x7528;&#x6cd5;","children":[{"content":"1.1 &#x4f7f;&#x7528;useState&#x5f00;&#x53d1;&#x4e00;&#x4e2a;login&#x7ec4;&#x4ef6;","children":[{"content":"<pre data-lines=\"10,78\"><code class=\"language-ts\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">React</span>, { useState } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;react&apos;</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">LoginUseState</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">const</span> [username, setUsername] = <span class=\"hljs-title function_\">useState</span>(<span class=\"hljs-string\">&apos;&apos;</span>);\n  <span class=\"hljs-keyword\">const</span> [password, setPassword] = <span class=\"hljs-title function_\">useState</span>(<span class=\"hljs-string\">&apos;&apos;</span>);\n  <span class=\"hljs-keyword\">const</span> [isLoading, showLoader] = <span class=\"hljs-title function_\">useState</span>(<span class=\"hljs-literal\">false</span>);\n  <span class=\"hljs-keyword\">const</span> [error, setError] = <span class=\"hljs-title function_\">useState</span>(<span class=\"hljs-string\">&apos;&apos;</span>);\n  <span class=\"hljs-keyword\">const</span> [isLoggedIn, setIsLoggedIn] = <span class=\"hljs-title function_\">useState</span>(<span class=\"hljs-literal\">false</span>);\n  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">onSubmit</span> = <span class=\"hljs-keyword\">async</span> (<span class=\"hljs-params\">e</span>) =&gt; {\n    e.<span class=\"hljs-title function_\">preventDefault</span>();\n    <span class=\"hljs-title function_\">setError</span>(<span class=\"hljs-string\">&apos;&apos;</span>);\n    <span class=\"hljs-title function_\">showLoader</span>(<span class=\"hljs-literal\">true</span>);\n    <span class=\"hljs-keyword\">try</span> {\n      <span class=\"hljs-keyword\">await</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">login</span>(<span class=\"hljs-params\">{ username, password }</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> {\n          <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> {\n            <span class=\"hljs-keyword\">if</span> (username === <span class=\"hljs-string\">&apos;ejiro&apos;</span> &amp;&amp; password === <span class=\"hljs-string\">&apos;password&apos;</span>) {\n              <span class=\"hljs-title function_\">resolve</span>();\n            } <span class=\"hljs-keyword\">else</span> {\n              <span class=\"hljs-title function_\">reject</span>();\n            }\n          }, <span class=\"hljs-number\">1000</span>);\n        });\n      }\n      <span class=\"hljs-title function_\">setIsLoggedIn</span>(<span class=\"hljs-literal\">true</span>);\n    } <span class=\"hljs-keyword\">catch</span> (error) {\n      <span class=\"hljs-title function_\">setError</span>(<span class=\"hljs-string\">&apos;Incorrect username or password!&apos;</span>);\n      <span class=\"hljs-title function_\">showLoader</span>(<span class=\"hljs-literal\">false</span>);\n      <span class=\"hljs-title function_\">setUsername</span>(<span class=\"hljs-string\">&apos;&apos;</span>);\n      <span class=\"hljs-title function_\">setPassword</span>(<span class=\"hljs-string\">&apos;&apos;</span>);\n    }\n  };\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&apos;App&apos;</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&apos;login-container&apos;</span>&gt;</span>\n        {isLoggedIn ? (\n          <span class=\"hljs-tag\">&lt;&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>Welcome {username}!<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">onClick</span>=<span class=\"hljs-string\">{()</span> =&gt;</span> setIsLoggedIn(false)}&gt;Log Out<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/&gt;</span>\n        ) : (\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">form</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&apos;form&apos;</span> <span class=\"hljs-attr\">onSubmit</span>=<span class=\"hljs-string\">{onSubmit}</span>&gt;</span>\n            {error &amp;&amp; <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&apos;error&apos;</span>&gt;</span>{error}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>}\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span>&gt;</span>Please Login!<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span>\n              <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&apos;text&apos;</span>\n              <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">&apos;username&apos;</span>\n              <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{username}</span>\n              <span class=\"hljs-attr\">onChange</span>=<span class=\"hljs-string\">{(e)</span> =&gt;</span> setUsername(e.currentTarget.value)}\n            /&gt;\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span>\n              <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&apos;password&apos;</span>\n              <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">&apos;password&apos;</span>\n              <span class=\"hljs-attr\">autoComplete</span>=<span class=\"hljs-string\">&apos;new-password&apos;</span>\n              <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{password}</span>\n              <span class=\"hljs-attr\">onChange</span>=<span class=\"hljs-string\">{(e)</span> =&gt;</span> setPassword(e.currentTarget.value)}\n            /&gt;\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&apos;submit&apos;</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&apos;submit&apos;</span> <span class=\"hljs-attr\">disabled</span>=<span class=\"hljs-string\">{isLoading}</span>&gt;</span>\n              {isLoading ? &apos;Logging in...&apos; : &apos;Log In&apos;}\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">form</span>&gt;</span>\n        )}\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span>\n    &lt;/div&gt;\n  );\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"10,78"}}],"payload":{"tag":"h3","lines":"9,10"}},{"content":"1.2 &#x4f7f;&#x7528;useReducer&#x5f00;&#x53d1;&#x4e00;&#x4e2a;login&#x7ec4;&#x4ef6;","children":[{"content":"<pre data-lines=\"80,204\"><code class=\"language-ts\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">React</span>, { useReducer } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;react&apos;</span>;\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">loginReducer</span>(<span class=\"hljs-params\">state, action</span>) {\n  <span class=\"hljs-keyword\">switch</span> (action.<span class=\"hljs-property\">type</span>) {\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&apos;field&apos;</span>: {\n      <span class=\"hljs-keyword\">return</span> {\n        ...state,\n        [action.<span class=\"hljs-property\">fieldName</span>]: action.<span class=\"hljs-property\">payload</span>,\n      };\n    }\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&apos;login&apos;</span>: {\n      <span class=\"hljs-keyword\">return</span> {\n        ...state,\n        <span class=\"hljs-attr\">error</span>: <span class=\"hljs-string\">&apos;&apos;</span>,\n        <span class=\"hljs-attr\">isLoading</span>: <span class=\"hljs-literal\">true</span>,\n      };\n    }\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&apos;success&apos;</span>: {\n      <span class=\"hljs-keyword\">return</span> {\n        ...state,\n        <span class=\"hljs-attr\">isLoggedIn</span>: <span class=\"hljs-literal\">true</span>,\n        <span class=\"hljs-attr\">isLoading</span>: <span class=\"hljs-literal\">false</span>,\n      };\n    }\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&apos;error&apos;</span>: {\n      <span class=\"hljs-keyword\">return</span> {\n        ...state,\n        <span class=\"hljs-attr\">error</span>: <span class=\"hljs-string\">&apos;Incorrect username or password!&apos;</span>,\n        <span class=\"hljs-attr\">isLoggedIn</span>: <span class=\"hljs-literal\">false</span>,\n        <span class=\"hljs-attr\">isLoading</span>: <span class=\"hljs-literal\">false</span>,\n        <span class=\"hljs-attr\">username</span>: <span class=\"hljs-string\">&apos;&apos;</span>,\n        <span class=\"hljs-attr\">password</span>: <span class=\"hljs-string\">&apos;&apos;</span>,\n      };\n    }\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&apos;logOut&apos;</span>: {\n      <span class=\"hljs-keyword\">return</span> {\n        ...state,\n        <span class=\"hljs-attr\">isLoggedIn</span>: <span class=\"hljs-literal\">false</span>,\n      };\n    }\n    <span class=\"hljs-attr\">default</span>:\n      <span class=\"hljs-keyword\">return</span> state;\n  }\n}\n<span class=\"hljs-keyword\">const</span> initialState = {\n  <span class=\"hljs-attr\">username</span>: <span class=\"hljs-string\">&apos;&apos;</span>,\n  <span class=\"hljs-attr\">password</span>: <span class=\"hljs-string\">&apos;&apos;</span>,\n  <span class=\"hljs-attr\">isLoading</span>: <span class=\"hljs-literal\">false</span>,\n  <span class=\"hljs-attr\">error</span>: <span class=\"hljs-string\">&apos;&apos;</span>,\n  <span class=\"hljs-attr\">isLoggedIn</span>: <span class=\"hljs-literal\">false</span>,\n};\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">LoginUseReducer</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">const</span> [state, dispatch] = <span class=\"hljs-title function_\">useReducer</span>(loginReducer, initialState);\n  <span class=\"hljs-keyword\">const</span> { username, password, isLoading, error, isLoggedIn } = state;\n  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">onSubmit</span> = <span class=\"hljs-keyword\">async</span> (<span class=\"hljs-params\">e</span>) =&gt; {\n    e.<span class=\"hljs-title function_\">preventDefault</span>();\n    <span class=\"hljs-title function_\">dispatch</span>({ <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&apos;login&apos;</span> });\n    <span class=\"hljs-keyword\">try</span> {\n      <span class=\"hljs-keyword\">await</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">login</span>(<span class=\"hljs-params\">{ username, password }</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> {\n          <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> {\n            <span class=\"hljs-keyword\">if</span> (username === <span class=\"hljs-string\">&apos;ejiro&apos;</span> &amp;&amp; password === <span class=\"hljs-string\">&apos;password&apos;</span>) {\n              <span class=\"hljs-title function_\">resolve</span>();\n            } <span class=\"hljs-keyword\">else</span> {\n              <span class=\"hljs-title function_\">reject</span>();\n            }\n          }, <span class=\"hljs-number\">1000</span>);\n        });\n      }\n      <span class=\"hljs-title function_\">dispatch</span>({ <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&apos;success&apos;</span> });\n    } <span class=\"hljs-keyword\">catch</span> (error) {\n      <span class=\"hljs-title function_\">dispatch</span>({ <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&apos;error&apos;</span> });\n    }\n  };\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&apos;App&apos;</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&apos;login-container&apos;</span>&gt;</span>\n        {isLoggedIn ? (\n          <span class=\"hljs-tag\">&lt;&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>Welcome {username}!<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">onClick</span>=<span class=\"hljs-string\">{()</span> =&gt;</span> dispatch({ type: &apos;logOut&apos; })}&gt;\n              Log Out\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/&gt;</span>\n        ) : (\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">form</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&apos;form&apos;</span> <span class=\"hljs-attr\">onSubmit</span>=<span class=\"hljs-string\">{onSubmit}</span>&gt;</span>\n            {error &amp;&amp; <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&apos;error&apos;</span>&gt;</span>{error}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>}\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span>&gt;</span>Please Login!<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span>\n              <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&apos;text&apos;</span>\n              <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">&apos;username&apos;</span>\n              <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{username}</span>\n              <span class=\"hljs-attr\">onChange</span>=<span class=\"hljs-string\">{(e)</span> =&gt;</span>\n                dispatch({\n                  type: &apos;field&apos;,\n                  fieldName: &apos;username&apos;,\n                  payload: e.currentTarget.value,\n                })\n              }\n            /&gt;\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span>\n              <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&apos;password&apos;</span>\n              <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">&apos;password&apos;</span>\n              <span class=\"hljs-attr\">autoComplete</span>=<span class=\"hljs-string\">&apos;new-password&apos;</span>\n              <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{password}</span>\n              <span class=\"hljs-attr\">onChange</span>=<span class=\"hljs-string\">{(e)</span> =&gt;</span>\n                dispatch({\n                  type: &apos;field&apos;,\n                  fieldName: &apos;password&apos;,\n                  payload: e.currentTarget.value,\n                })\n              }\n            /&gt;\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&apos;submit&apos;</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&apos;submit&apos;</span> <span class=\"hljs-attr\">disabled</span>=<span class=\"hljs-string\">{isLoading}</span>&gt;</span>\n              {isLoading ? &apos;Logging in...&apos; : &apos;Log In&apos;}\n            <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">form</span>&gt;</span>\n        )}\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span>\n    &lt;/div&gt;\n  );\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"80,204"}}],"payload":{"tag":"h3","lines":"79,80"}},{"content":"1.3 useReducer&#x6700;&#x5c0f;&#x5316;&#x7684;&#x8303;&#x5f0f;","children":[{"content":"<pre data-lines=\"206,217\"><code class=\"language-ts\"><span class=\"hljs-keyword\">const</span> initialState = <span class=\"hljs-number\">0</span>;\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">reducer</span> = (<span class=\"hljs-params\">state, action</span>) =&gt; {\n  <span class=\"hljs-keyword\">switch</span> (action) {\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&apos;increment&apos;</span>: <span class=\"hljs-keyword\">return</span> state + <span class=\"hljs-number\">1</span>;\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&apos;decrement&apos;</span>: <span class=\"hljs-keyword\">return</span> state - <span class=\"hljs-number\">1</span>;\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&apos;reset&apos;</span>: <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-attr\">default</span>: <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(<span class=\"hljs-string\">&apos;Unexpected action&apos;</span>);\n  }\n};\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"206,217"}}],"payload":{"tag":"h3","lines":"205,206"}},{"content":"1.4 useReducer &#x7ed3;&#x5408; useContext &#x4f7f;&#x7528;","children":[{"content":"<pre data-lines=\"220,237\"><code class=\"language-ts\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">CountContext</span> = <span class=\"hljs-title class_\">React</span>.<span class=\"hljs-title function_\">createContext</span>();\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">CountProvider</span> = (<span class=\"hljs-params\">{ children }</span>) =&gt; {\n  <span class=\"hljs-keyword\">const</span> contextValue = <span class=\"hljs-title function_\">useReducer</span>(reducer, initialState);\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">CountContext.Provider</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">{contextValue}</span>&gt;</span>\n      {children}\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">CountContext.Provider</span>&gt;</span></span>\n  );\n};\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">useCount</span> = (<span class=\"hljs-params\"></span>) =&gt; {\n  <span class=\"hljs-keyword\">const</span> contextValue = <span class=\"hljs-title function_\">useContext</span>(<span class=\"hljs-title class_\">CountContext</span>);\n  <span class=\"hljs-keyword\">return</span> contextValue;\n};\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"220,237"}},{"content":"<pre data-lines=\"239,266\"><code class=\"language-ts\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">Counter</span> = (<span class=\"hljs-params\"></span>) =&gt; {\n  <span class=\"hljs-keyword\">const</span> [count, dispatch] = <span class=\"hljs-title function_\">useCount</span>();\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span>&gt;</span>\n      {count}\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">onClick</span>=<span class=\"hljs-string\">{()</span> =&gt;</span> dispatch({ type: &apos;increment&apos; })}&gt;+1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">onClick</span>=<span class=\"hljs-string\">{()</span> =&gt;</span> dispatch({ type: &apos;decrement&apos; })}&gt;-1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">onClick</span>=<span class=\"hljs-string\">{()</span> =&gt;</span> dispatch({ type: &apos;set&apos;, count: 0 })}&gt;reset<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span>\n  );\n};\n\n<span class=\"hljs-comment\">// now use it</span>\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">Example05</span> = (<span class=\"hljs-params\"></span>) =&gt; (\n  <span class=\"language-xml\"><span class=\"hljs-tag\">&lt;&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">CountProvider</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Counter</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Counter</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">CountProvider</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">CountProvider</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Counter</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Counter</span> /&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">CountProvider</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;/&gt;</span></span>\n);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"239,266"}}],"payload":{"tag":"h3","lines":"218,219"}}],"payload":{"tag":"h2","lines":"2,3"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
