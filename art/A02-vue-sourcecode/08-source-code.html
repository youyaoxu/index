<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Vue","children":[{"content":"<pre data-lines=\"6,1106\"><code class=\"language-js\">\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">initRender</span> (<span class=\"hljs-params\">vm</span>) {\n  vm.<span class=\"hljs-property\">_vnode</span> = <span class=\"hljs-literal\">null</span>; <span class=\"hljs-comment\">// the root of the child tree</span>\n  vm.<span class=\"hljs-property\">_staticTrees</span> = <span class=\"hljs-literal\">null</span>; <span class=\"hljs-comment\">// v-once cached trees</span>\n  <span class=\"hljs-comment\">// &#x83b7;&#x53d6;options</span>\n  <span class=\"hljs-keyword\">var</span> options = vm.<span class=\"hljs-property\">&#x24;options</span>;\n  <span class=\"hljs-keyword\">var</span> parentVnode = vm.<span class=\"hljs-property\">&#x24;vnode</span> = options.<span class=\"hljs-property\">_parentVnode</span>; <span class=\"hljs-comment\">// the placeholder node in parent tree</span>\n  <span class=\"hljs-keyword\">var</span> renderContext = parentVnode &amp;&amp; parentVnode.<span class=\"hljs-property\">context</span>;\n  <span class=\"hljs-comment\">//&#x89e3;&#x6790;slot&#x5bf9;&#x8c61;</span>\n  vm.<span class=\"hljs-property\">&#x24;slots</span> = <span class=\"hljs-title function_\">resolveSlots</span>(options.<span class=\"hljs-property\">_renderChildren</span>, renderContext);\n  vm.<span class=\"hljs-property\">&#x24;scopedSlots</span> = emptyObject;\n  <span class=\"hljs-comment\">// bind the createElement fn to this instance</span>\n  <span class=\"hljs-comment\">// so that we get proper render context inside it.</span>\n  <span class=\"hljs-comment\">// args order: tag, data, children, normalizationType, alwaysNormalize</span>\n  <span class=\"hljs-comment\">// internal version is used by render functions compiled from templates</span>\n  vm.<span class=\"hljs-property\">_c</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">a, b, c, d</span>) { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">createElement</span>(vm, a, b, c, d, <span class=\"hljs-literal\">false</span>); };\n  <span class=\"hljs-comment\">// normalization is always applied for the public version, used in</span>\n  <span class=\"hljs-comment\">// user-written render functions.</span>\n  vm.<span class=\"hljs-property\">&#x24;createElement</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">a, b, c, d</span>) { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">createElement</span>(vm, a, b, c, d, <span class=\"hljs-literal\">true</span>); };\n\n  <span class=\"hljs-comment\">// &#x24;attrs &amp; &#x24;listeners are exposed for easier HOC creation.</span>\n  <span class=\"hljs-comment\">// they need to be reactive so that HOCs using them are always updated</span>\n  <span class=\"hljs-keyword\">var</span> parentData = parentVnode &amp;&amp; parentVnode.<span class=\"hljs-property\">data</span>;\n\n  <span class=\"hljs-comment\">/* istanbul ignore else */</span>\n  <span class=\"hljs-comment\">//&#x76d1;&#x542c;data&#x5c5e;&#x6027;&#x53d8;&#x5316;</span>\n  {\n    <span class=\"hljs-title function_\">defineReactive</span>(vm, <span class=\"hljs-string\">&apos;&#x24;attrs&apos;</span>, parentData &amp;&amp; parentData.<span class=\"hljs-property\">attrs</span> || emptyObject, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n      !isUpdatingChildComponent &amp;&amp; <span class=\"hljs-title function_\">warn</span>(<span class=\"hljs-string\">&quot;&#x24;attrs is readonly.&quot;</span>, vm);\n    }, <span class=\"hljs-literal\">true</span>);\n    <span class=\"hljs-title function_\">defineReactive</span>(vm, <span class=\"hljs-string\">&apos;&#x24;listeners&apos;</span>, options.<span class=\"hljs-property\">_parentListeners</span> || emptyObject, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n      !isUpdatingChildComponent &amp;&amp; <span class=\"hljs-title function_\">warn</span>(<span class=\"hljs-string\">&quot;&#x24;listeners is readonly.&quot;</span>, vm);\n    }, <span class=\"hljs-literal\">true</span>);\n  }\n}\n<span class=\"hljs-comment\">// &#x751f;&#x6210;vnode&#x5bf9;&#x8c61;&#x6765;&#x5b9e;&#x73b0;&#x8bb0;&#x5f55;&#x865a;&#x62df;dom&#x6811;&#x4e0a;&#x7684;&#x5c5e;&#x6027;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">renderMixin</span> (<span class=\"hljs-params\">Vue</span>) {\n  <span class=\"hljs-comment\">// install runtime convenience helpers</span>\n  <span class=\"hljs-title function_\">installRenderHelpers</span>(<span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>);\n\n  <span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">&#x24;nextTick</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">fn</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">nextTick</span>(fn, <span class=\"hljs-variable language_\">this</span>)\n  };\n\n  <span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">_render</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-keyword\">var</span> vm = <span class=\"hljs-variable language_\">this</span>;\n    <span class=\"hljs-keyword\">var</span> ref = vm.<span class=\"hljs-property\">&#x24;options</span>;\n    <span class=\"hljs-keyword\">var</span> render = ref.<span class=\"hljs-property\">render</span>;\n    <span class=\"hljs-keyword\">var</span> _parentVnode = ref.<span class=\"hljs-property\">_parentVnode</span>;\n\n    <span class=\"hljs-comment\">// reset _rendered flag on slots for duplicate slot check</span>\n    {\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> vm.<span class=\"hljs-property\">&#x24;slots</span>) {\n        <span class=\"hljs-comment\">// &#x24;flow-disable-line</span>\n        vm.<span class=\"hljs-property\">&#x24;slots</span>[key].<span class=\"hljs-property\">_rendered</span> = <span class=\"hljs-literal\">false</span>;\n      }\n    }\n\n    <span class=\"hljs-keyword\">if</span> (_parentVnode) {\n      vm.<span class=\"hljs-property\">&#x24;scopedSlots</span> = _parentVnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">scopedSlots</span> || emptyObject;\n    }\n\n    <span class=\"hljs-comment\">// set parent vnode. this allows render functions to have access</span>\n    <span class=\"hljs-comment\">// to the data on the placeholder node.</span>\n    vm.<span class=\"hljs-property\">&#x24;vnode</span> = _parentVnode;\n    <span class=\"hljs-comment\">// render self</span>\n    <span class=\"hljs-keyword\">var</span> vnode;\n    <span class=\"hljs-keyword\">try</span> {\n      vnode = render.<span class=\"hljs-title function_\">call</span>(vm.<span class=\"hljs-property\">_renderProxy</span>, vm.<span class=\"hljs-property\">&#x24;createElement</span>);\n    } <span class=\"hljs-keyword\">catch</span> (e) {\n      <span class=\"hljs-title function_\">handleError</span>(e, vm, <span class=\"hljs-string\">&quot;render&quot;</span>);\n      <span class=\"hljs-comment\">// return error render result,</span>\n      <span class=\"hljs-comment\">// or previous vnode to prevent render error causing blank component</span>\n      <span class=\"hljs-comment\">/* istanbul ignore else */</span>\n      {\n        <span class=\"hljs-keyword\">if</span> (vm.<span class=\"hljs-property\">&#x24;options</span>.<span class=\"hljs-property\">renderError</span>) {\n          <span class=\"hljs-keyword\">try</span> {\n            vnode = vm.<span class=\"hljs-property\">&#x24;options</span>.<span class=\"hljs-property\">renderError</span>.<span class=\"hljs-title function_\">call</span>(vm.<span class=\"hljs-property\">_renderProxy</span>, vm.<span class=\"hljs-property\">&#x24;createElement</span>, e);\n          } <span class=\"hljs-keyword\">catch</span> (e) {\n            <span class=\"hljs-title function_\">handleError</span>(e, vm, <span class=\"hljs-string\">&quot;renderError&quot;</span>);\n            vnode = vm.<span class=\"hljs-property\">_vnode</span>;\n          }\n        } <span class=\"hljs-keyword\">else</span> {\n          vnode = vm.<span class=\"hljs-property\">_vnode</span>;\n        }\n      }\n    }\n    <span class=\"hljs-comment\">// return empty vnode in case the render function errored out</span>\n    <span class=\"hljs-keyword\">if</span> (!(vnode <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">VNode</span>)) {\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(vnode)) {\n        <span class=\"hljs-title function_\">warn</span>(\n          <span class=\"hljs-string\">&apos;Multiple root nodes returned from render function. Render function &apos;</span> +\n          <span class=\"hljs-string\">&apos;should return a single root node.&apos;</span>,\n          vm\n        );\n      }\n      vnode = <span class=\"hljs-title function_\">createEmptyVNode</span>();\n    }\n    <span class=\"hljs-comment\">// set parent</span>\n    vnode.<span class=\"hljs-property\">parent</span> = _parentVnode;\n    <span class=\"hljs-keyword\">return</span> vnode\n  };\n}\n\n<span class=\"hljs-comment\">/*  */</span>\n\n<span class=\"hljs-keyword\">var</span> uid&#x24;3 = <span class=\"hljs-number\">0</span>;\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">initMixin</span> (<span class=\"hljs-params\">Vue</span>) {\n  <span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">_init</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">options</span>) {\n    <span class=\"hljs-keyword\">var</span> vm = <span class=\"hljs-variable language_\">this</span>;\n    <span class=\"hljs-comment\">// a uid</span>\n    vm.<span class=\"hljs-property\">_uid</span> = uid&#x24;3++;\n\n    <span class=\"hljs-keyword\">var</span> startTag, endTag;\n    <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; config.<span class=\"hljs-property\">performance</span> &amp;&amp; mark) {\n      startTag = <span class=\"hljs-string\">&quot;vue-perf-start:&quot;</span> + (vm.<span class=\"hljs-property\">_uid</span>);\n      endTag = <span class=\"hljs-string\">&quot;vue-perf-end:&quot;</span> + (vm.<span class=\"hljs-property\">_uid</span>);\n      <span class=\"hljs-title function_\">mark</span>(startTag);\n    }\n\n    <span class=\"hljs-comment\">// a flag to avoid this being observed</span>\n    vm.<span class=\"hljs-property\">_isVue</span> = <span class=\"hljs-literal\">true</span>;\n    <span class=\"hljs-comment\">// merge options</span>\n    <span class=\"hljs-comment\">// &#x5904;&#x7406;options</span>\n    <span class=\"hljs-keyword\">if</span> (options &amp;&amp; options.<span class=\"hljs-property\">_isComponent</span>) {\n      <span class=\"hljs-comment\">// optimize internal component instantiation</span>\n      <span class=\"hljs-comment\">// since dynamic options merging is pretty slow, and none of the</span>\n      <span class=\"hljs-comment\">// internal component options needs special treatment.</span>\n      <span class=\"hljs-title function_\">initInternalComponent</span>(vm, options);\n    } <span class=\"hljs-keyword\">else</span> {\n      vm.<span class=\"hljs-property\">&#x24;options</span> = <span class=\"hljs-title function_\">mergeOptions</span>(\n        <span class=\"hljs-title function_\">resolveConstructorOptions</span>(vm.<span class=\"hljs-property\">constructor</span>),\n        options || {},\n        vm\n      );\n    }\n    <span class=\"hljs-comment\">// &#x652f;&#x6301;proxy,&#x8c03;&#x7528;render&#x51fd;&#x6570;</span>\n    <span class=\"hljs-comment\">/* istanbul ignore else */</span>\n    {\n      <span class=\"hljs-title function_\">initProxy</span>(vm);\n    }\n    <span class=\"hljs-comment\">// expose real self</span>\n\n    vm.<span class=\"hljs-property\">_self</span> = vm;\n    <span class=\"hljs-comment\">// &#x521d;&#x59cb;&#x5316;&#x751f;&#x547d;&#x5468;&#x671f;&#x51fd;&#x6570;</span>\n    <span class=\"hljs-title function_\">initLifecycle</span>(vm);\n    <span class=\"hljs-comment\">// &#x521d;&#x59cb;&#x5316;&#x4e8b;&#x4ef6;</span>\n    <span class=\"hljs-title function_\">initEvents</span>(vm);\n    <span class=\"hljs-comment\">// &#x521d;&#x59cb;&#x5316;vNode&#x5bf9;&#x8c61;&#xff0c;&#x8bbe;&#x7f6e;&#x76d1;&#x542c;</span>\n    <span class=\"hljs-title function_\">initRender</span>(vm);\n    <span class=\"hljs-comment\">//&#x6267;&#x884c;beforeCreate&#x5468;&#x671f;</span>\n    <span class=\"hljs-title function_\">callHook</span>(vm, <span class=\"hljs-string\">&apos;beforeCreate&apos;</span>);\n    <span class=\"hljs-comment\">// &#x5904;&#x7406;&#x6ce8;&#x5165;&#xff0c;&#x8bbe;&#x7f6e;&#x76d1;&#x542c;</span>\n    <span class=\"hljs-title function_\">initInjections</span>(vm); <span class=\"hljs-comment\">// resolve injections before data/props</span>\n    <span class=\"hljs-title function_\">initState</span>(vm);\n    <span class=\"hljs-comment\">// &#x5904;&#x7406;provice</span>\n    <span class=\"hljs-title function_\">initProvide</span>(vm); <span class=\"hljs-comment\">// resolve provide after data/props</span>\n    <span class=\"hljs-comment\">// &#x8c03;&#x7528;&#x751f;&#x547d;&#x5468;&#x671f;created</span>\n    <span class=\"hljs-title function_\">callHook</span>(vm, <span class=\"hljs-string\">&apos;created&apos;</span>);\n\n    <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n    <span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;perfomance&#x76d1;&#x542c;&#xff0c;&#x90a3;&#x5c31;&#x6d4b;&#x8bd5;&#x7ec4;&#x4ef6;&#x548c;&#x5f00;&#x59cb;&#x6807;&#x7b7e;&#x548c;&#x7ed3;&#x675f;&#x6807;&#x7b7e;&#x6e32;&#x67d3;&#x7684;&#x65f6;&#x95f4;&#x548c;&#x6027;&#x80fd;</span>\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; config.<span class=\"hljs-property\">performance</span> &amp;&amp; mark) {\n      vm.<span class=\"hljs-property\">_name</span> = <span class=\"hljs-title function_\">formatComponentName</span>(vm, <span class=\"hljs-literal\">false</span>);\n      <span class=\"hljs-title function_\">mark</span>(endTag);\n      <span class=\"hljs-title function_\">measure</span>((<span class=\"hljs-string\">&quot;vue &quot;</span> + (vm.<span class=\"hljs-property\">_name</span>) + <span class=\"hljs-string\">&quot; init&quot;</span>), startTag, endTag);\n    }\n\n    <span class=\"hljs-keyword\">if</span> (vm.<span class=\"hljs-property\">&#x24;options</span>.<span class=\"hljs-property\">el</span>) {\n      vm.&#x24;mount(vm.<span class=\"hljs-property\">&#x24;options</span>.<span class=\"hljs-property\">el</span>);\n    }\n  };\n}\n<span class=\"hljs-comment\">// &#x5904;&#x7406;&#x7ec4;&#x4ef6;options</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">initInternalComponent</span> (<span class=\"hljs-params\">vm, options</span>) {\n  <span class=\"hljs-comment\">// &#x6784;&#x9020;&#x51fd;&#x6570;&#x7684;options</span>\n  <span class=\"hljs-keyword\">var</span> opts = vm.<span class=\"hljs-property\">&#x24;options</span> = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(vm.<span class=\"hljs-property\">constructor</span>.<span class=\"hljs-property\">options</span>);\n  <span class=\"hljs-comment\">// doing this because it&apos;s faster than dynamic enumeration.</span>\n  <span class=\"hljs-comment\">// &#x7236;&#x7ec4;&#x4ef6;Vnode</span>\n  <span class=\"hljs-keyword\">var</span> parentVnode = options.<span class=\"hljs-property\">_parentVnode</span>;\n  <span class=\"hljs-comment\">// &#x6784;&#x9020;&#x51fd;&#x6570;options&#x8bbe;&#x7f6e;parent,_parentVnode,_parentElm,_refElm&#x53c2;&#x6570;</span>\n  opts.<span class=\"hljs-property\">parent</span> = options.<span class=\"hljs-property\">parent</span>;\n  opts.<span class=\"hljs-property\">_parentVnode</span> = parentVnode;\n  opts.<span class=\"hljs-property\">_parentElm</span> = options.<span class=\"hljs-property\">_parentElm</span>;\n  opts.<span class=\"hljs-property\">_refElm</span> = options.<span class=\"hljs-property\">_refElm</span>;\n  <span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;&#x7236;&#x7ec4;&#x4ef6;&#x7684;options</span>\n  <span class=\"hljs-keyword\">var</span> vnodeComponentOptions = parentVnode.<span class=\"hljs-property\">componentOptions</span>;\n  <span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;&#x6784;&#x9020;&#x51fd;&#x6570;options&#x4e2d;propsData,_parentListeners,_renderChildren,_componentTag</span>\n  opts.<span class=\"hljs-property\">propsData</span> = vnodeComponentOptions.<span class=\"hljs-property\">propsData</span>;\n  opts.<span class=\"hljs-property\">_parentListeners</span> = vnodeComponentOptions.<span class=\"hljs-property\">listeners</span>;\n  opts.<span class=\"hljs-property\">_renderChildren</span> = vnodeComponentOptions.<span class=\"hljs-property\">children</span>;\n  opts.<span class=\"hljs-property\">_componentTag</span> = vnodeComponentOptions.<span class=\"hljs-property\">tag</span>;\n  <span class=\"hljs-comment\">// &#x5982;&#x679c;options&#x4e2d;&#x6709;render</span>\n  <span class=\"hljs-keyword\">if</span> (options.<span class=\"hljs-property\">render</span>) {\n    opts.<span class=\"hljs-property\">render</span> = options.<span class=\"hljs-property\">render</span>;\n    opts.<span class=\"hljs-property\">staticRenderFns</span> = options.<span class=\"hljs-property\">staticRenderFns</span>;\n  }\n}\n<span class=\"hljs-comment\">// &#x5904;&#x7406;&#x6784;&#x9020;&#x51fd;&#x6570;&#x7684;options</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">resolveConstructorOptions</span> (<span class=\"hljs-params\">Ctor</span>) {\n  <span class=\"hljs-comment\">// &#x591f;&#x7740;&#x51fd;&#x6570;&#x7684;options</span>\n  <span class=\"hljs-keyword\">var</span> options = <span class=\"hljs-title class_\">Ctor</span>.<span class=\"hljs-property\">options</span>;\n  <span class=\"hljs-comment\">//&#x5982;&#x679c;&#x4ecd;&#x7136;&#x6709;&#x4e0a;&#x4e00;&#x7ea7;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;</span>\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Ctor</span>.<span class=\"hljs-property\">super</span>) {\n    <span class=\"hljs-comment\">//&#x83b7;&#x53d6;&#x4e0a;&#x4e00;&#x7ea7;&#x6784;&#x9020;&#x51fd;&#x6570;&#x7684;options</span>\n    <span class=\"hljs-keyword\">var</span> superOptions = <span class=\"hljs-title function_\">resolveConstructorOptions</span>(<span class=\"hljs-title class_\">Ctor</span>.<span class=\"hljs-property\">super</span>);\n    <span class=\"hljs-comment\">//&#x83b7;&#x53d6;&#x6784;&#x9020;&#x51fd;&#x6570;&#x7684;&#x7f13;&#x5b58;superOptions</span>\n    <span class=\"hljs-keyword\">var</span> cachedSuperOptions = <span class=\"hljs-title class_\">Ctor</span>.<span class=\"hljs-property\">superOptions</span>;\n    <span class=\"hljs-comment\">// &#x83b7;&#x53d6;&#x4e0a;&#x4e00;&#x7ea7;&#x6784;&#x9020;&#x51fd;&#x6570;&#x7684;options&#x548c;&#x6784;&#x9020;&#x51fd;&#x6570;&#x7684;&#x7f13;&#x5b58;superOptions&#x4e0d;&#x540c;</span>\n    <span class=\"hljs-keyword\">if</span> (superOptions !== cachedSuperOptions) {\n      <span class=\"hljs-comment\">// super option changed,</span>\n      <span class=\"hljs-comment\">// need to resolve new options.</span>\n      <span class=\"hljs-comment\">// &#x5c06;&#x6784;&#x9020;&#x51fd;&#x6570;&#x7684;superOptions&#x8bbe;&#x7f6e;&#x4e3a;&#x53d6;&#x5230;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;superOptions</span>\n      <span class=\"hljs-title class_\">Ctor</span>.<span class=\"hljs-property\">superOptions</span> = superOptions;\n      <span class=\"hljs-comment\">// check if there are any late-modified/attached options (#4976)</span>\n      <span class=\"hljs-keyword\">var</span> modifiedOptions = <span class=\"hljs-title function_\">resolveModifiedOptions</span>(<span class=\"hljs-title class_\">Ctor</span>);\n      <span class=\"hljs-comment\">// update base extend options</span>\n      <span class=\"hljs-keyword\">if</span> (modifiedOptions) {\n        <span class=\"hljs-title function_\">extend</span>(<span class=\"hljs-title class_\">Ctor</span>.<span class=\"hljs-property\">extendOptions</span>, modifiedOptions);\n      }\n      options = <span class=\"hljs-title class_\">Ctor</span>.<span class=\"hljs-property\">options</span> = <span class=\"hljs-title function_\">mergeOptions</span>(superOptions, <span class=\"hljs-title class_\">Ctor</span>.<span class=\"hljs-property\">extendOptions</span>);\n      <span class=\"hljs-keyword\">if</span> (options.<span class=\"hljs-property\">name</span>) {\n        options.<span class=\"hljs-property\">components</span>[options.<span class=\"hljs-property\">name</span>] = <span class=\"hljs-title class_\">Ctor</span>;\n      }\n    }\n  }\n  <span class=\"hljs-keyword\">return</span> options\n}\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">resolveModifiedOptions</span> (<span class=\"hljs-params\">Ctor</span>) {\n  <span class=\"hljs-keyword\">var</span> modified;\n  <span class=\"hljs-keyword\">var</span> latest = <span class=\"hljs-title class_\">Ctor</span>.<span class=\"hljs-property\">options</span>;\n  <span class=\"hljs-keyword\">var</span> extended = <span class=\"hljs-title class_\">Ctor</span>.<span class=\"hljs-property\">extendOptions</span>;\n  <span class=\"hljs-keyword\">var</span> sealed = <span class=\"hljs-title class_\">Ctor</span>.<span class=\"hljs-property\">sealedOptions</span>;\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> latest) {\n    <span class=\"hljs-keyword\">if</span> (latest[key] !== sealed[key]) {\n      <span class=\"hljs-keyword\">if</span> (!modified) { modified = {}; }\n      modified[key] = <span class=\"hljs-title function_\">dedupe</span>(latest[key], extended[key], sealed[key]);\n    }\n  }\n  <span class=\"hljs-keyword\">return</span> modified\n}\n\n<span class=\"hljs-comment\">// &#x9009;&#x62e9;&#x4e2d;&#x6700;&#x65b0;&#x7684;options&#x4e2d;extendOptions&#x4e2d;&#x6709;&#x6216;&#x8005;sealedOptions&#x4e2d;&#x6ca1;&#x6709;&#x7684;options</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">dedupe</span> (<span class=\"hljs-params\">latest, extended, sealed</span>) {\n  <span class=\"hljs-comment\">// compare latest and sealed to ensure lifecycle hooks won&apos;t be duplicated</span>\n  <span class=\"hljs-comment\">// between merges</span>\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(latest)) {\n    <span class=\"hljs-keyword\">var</span> res = [];\n    sealed = <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(sealed) ? sealed : [sealed];\n    extended = <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(extended) ? extended : [extended];\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; latest.<span class=\"hljs-property\">length</span>; i++) {\n      <span class=\"hljs-comment\">// push original options and not sealed options to exclude duplicated options</span>\n      <span class=\"hljs-keyword\">if</span> (extended.<span class=\"hljs-title function_\">indexOf</span>(latest[i]) &gt;= <span class=\"hljs-number\">0</span> || sealed.<span class=\"hljs-title function_\">indexOf</span>(latest[i]) &lt; <span class=\"hljs-number\">0</span>) {\n        res.<span class=\"hljs-title function_\">push</span>(latest[i]);\n      }\n    }\n    <span class=\"hljs-keyword\">return</span> res\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-keyword\">return</span> latest\n  }\n}\n<span class=\"hljs-comment\">// vue&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Vue</span> (<span class=\"hljs-params\">options</span>) {\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp;\n    !(<span class=\"hljs-variable language_\">this</span> <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">Vue</span>)\n  ) {\n    <span class=\"hljs-title function_\">warn</span>(<span class=\"hljs-string\">&apos;Vue is a constructor and should be called with the `new` keyword&apos;</span>);\n  }\n  <span class=\"hljs-comment\">// &#x5404;&#x79cd;&#xff0c;&#x521d;&#x59cb;&#x5316;&#x8c03;&#x7528;&#x24;mouted</span>\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">_init</span>(options);\n}\n<span class=\"hljs-comment\">//&#x7ec4;&#x4ef6;&#x521d;&#x59cb;&#x5316;</span>\n<span class=\"hljs-title function_\">initMixin</span>(<span class=\"hljs-title class_\">Vue</span>);\n<span class=\"hljs-comment\">// &#x76d1;&#x542c;</span>\n<span class=\"hljs-title function_\">stateMixin</span>(<span class=\"hljs-title class_\">Vue</span>);\n<span class=\"hljs-comment\">// &#x7ed9;vue&#x539f;&#x578b;&#x94fe;&#x4e0a;&#x4e8b;&#x4ef6;&#x7ed1;&#x5b9a;&#x4e00;&#x4e9b;&#x65b9;&#x6cd5;&#x548c;&#x624b;&#x673a;events&#x96c6;&#x5408;</span>\n<span class=\"hljs-title function_\">eventsMixin</span>(<span class=\"hljs-title class_\">Vue</span>);\n<span class=\"hljs-comment\">// &#x751f;&#x547d;&#x5468;&#x671f;&#x7ed1;&#x5b9a;&#x65b9;&#x6cd5;</span>\n<span class=\"hljs-title function_\">lifecycleMixin</span>(<span class=\"hljs-title class_\">Vue</span>);\n<span class=\"hljs-comment\">// &#x89e3;&#x6790;</span>\n<span class=\"hljs-title function_\">renderMixin</span>(<span class=\"hljs-title class_\">Vue</span>);\n\n<span class=\"hljs-comment\">/*  */</span>\n<span class=\"hljs-comment\">// &#x8c03;&#x7528;&#x63d2;&#x4ef6;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">initUse</span> (<span class=\"hljs-params\">Vue</span>) {\n  <span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\">use</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">plugin</span>) {\n    <span class=\"hljs-keyword\">var</span> installedPlugins = (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">_installedPlugins</span> || (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">_installedPlugins</span> = []));\n    <span class=\"hljs-keyword\">if</span> (installedPlugins.<span class=\"hljs-title function_\">indexOf</span>(plugin) &gt; -<span class=\"hljs-number\">1</span>) {\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>\n    }\n\n    <span class=\"hljs-comment\">// additional parameters</span>\n    <span class=\"hljs-keyword\">var</span> args = <span class=\"hljs-title function_\">toArray</span>(<span class=\"hljs-variable language_\">arguments</span>, <span class=\"hljs-number\">1</span>);\n    args.<span class=\"hljs-title function_\">unshift</span>(<span class=\"hljs-variable language_\">this</span>);\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> plugin.<span class=\"hljs-property\">install</span> === <span class=\"hljs-string\">&apos;function&apos;</span>) {\n      plugin.<span class=\"hljs-property\">install</span>.<span class=\"hljs-title function_\">apply</span>(plugin, args);\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> plugin === <span class=\"hljs-string\">&apos;function&apos;</span>) {\n      plugin.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-literal\">null</span>, args);\n    }\n    installedPlugins.<span class=\"hljs-title function_\">push</span>(plugin);\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>\n  };\n}\n\n<span class=\"hljs-comment\">/*  */</span>\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">initMixin&#x24;1</span> (<span class=\"hljs-params\">Vue</span>) {\n  <span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\">mixin</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">mixin</span>) {\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">options</span> = <span class=\"hljs-title function_\">mergeOptions</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">options</span>, mixin);\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>\n  };\n}\n\n<span class=\"hljs-comment\">/*  */</span>\n<span class=\"hljs-comment\">// vue&#x6269;&#x5c55;&#x51fd;&#x6570;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">initExtend</span> (<span class=\"hljs-params\">Vue</span>) {\n  <span class=\"hljs-comment\">/**\n   * Each instance constructor, including Vue, has a unique\n   * cid. This enables us to create wrapped &quot;child\n   * constructors&quot; for prototypal inheritance and cache them.\n   */</span>\n  <span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\">cid</span> = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">var</span> cid = <span class=\"hljs-number\">1</span>;\n\n  <span class=\"hljs-comment\">/**\n   * Class inheritance\n   */</span>\n  <span class=\"hljs-comment\">// &#x6269;&#x5c55;</span>\n  <span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\">extend</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">extendOptions</span>) {\n    extendOptions = extendOptions || {};\n    <span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">Super</span> = <span class=\"hljs-variable language_\">this</span>;\n    <span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">SuperId</span> = <span class=\"hljs-title class_\">Super</span>.<span class=\"hljs-property\">cid</span>;\n    <span class=\"hljs-keyword\">var</span> cachedCtors = extendOptions.<span class=\"hljs-property\">_Ctor</span> || (extendOptions.<span class=\"hljs-property\">_Ctor</span> = {});\n    <span class=\"hljs-keyword\">if</span> (cachedCtors[<span class=\"hljs-title class_\">SuperId</span>]) {\n      <span class=\"hljs-keyword\">return</span> cachedCtors[<span class=\"hljs-title class_\">SuperId</span>]\n    }\n\n    <span class=\"hljs-keyword\">var</span> name = extendOptions.<span class=\"hljs-property\">name</span> || <span class=\"hljs-title class_\">Super</span>.<span class=\"hljs-property\">options</span>.<span class=\"hljs-property\">name</span>;\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; name) {\n      <span class=\"hljs-title function_\">validateComponentName</span>(name);\n    }\n\n    <span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">Sub</span> = <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">VueComponent</span> (<span class=\"hljs-params\">options</span>) {\n      <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">_init</span>(options);\n    };\n    <span class=\"hljs-title class_\">Sub</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span> = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(<span class=\"hljs-title class_\">Super</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>);\n    <span class=\"hljs-title class_\">Sub</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">constructor</span> = <span class=\"hljs-title class_\">Sub</span>;\n    <span class=\"hljs-title class_\">Sub</span>.<span class=\"hljs-property\">cid</span> = cid++;\n    <span class=\"hljs-title class_\">Sub</span>.<span class=\"hljs-property\">options</span> = <span class=\"hljs-title function_\">mergeOptions</span>(\n      <span class=\"hljs-title class_\">Super</span>.<span class=\"hljs-property\">options</span>,\n      extendOptions\n    );\n    <span class=\"hljs-title class_\">Sub</span>[<span class=\"hljs-string\">&apos;super&apos;</span>] = <span class=\"hljs-title class_\">Super</span>;\n\n    <span class=\"hljs-comment\">// For props and computed properties, we define the proxy getters on</span>\n    <span class=\"hljs-comment\">// the Vue instances at extension time, on the extended prototype. This</span>\n    <span class=\"hljs-comment\">// avoids Object.defineProperty calls for each instance created.</span>\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Sub</span>.<span class=\"hljs-property\">options</span>.<span class=\"hljs-property\">props</span>) {\n      <span class=\"hljs-title function_\">initProps&#x24;1</span>(<span class=\"hljs-title class_\">Sub</span>);\n    }\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Sub</span>.<span class=\"hljs-property\">options</span>.<span class=\"hljs-property\">computed</span>) {\n      <span class=\"hljs-title function_\">initComputed&#x24;1</span>(<span class=\"hljs-title class_\">Sub</span>);\n    }\n\n    <span class=\"hljs-comment\">// allow further extension/mixin/plugin usage</span>\n    <span class=\"hljs-title class_\">Sub</span>.<span class=\"hljs-property\">extend</span> = <span class=\"hljs-title class_\">Super</span>.<span class=\"hljs-property\">extend</span>;\n    <span class=\"hljs-title class_\">Sub</span>.<span class=\"hljs-property\">mixin</span> = <span class=\"hljs-title class_\">Super</span>.<span class=\"hljs-property\">mixin</span>;\n    <span class=\"hljs-title class_\">Sub</span>.<span class=\"hljs-property\">use</span> = <span class=\"hljs-title class_\">Super</span>.<span class=\"hljs-property\">use</span>;\n\n    <span class=\"hljs-comment\">// create asset registers, so extended classes</span>\n    <span class=\"hljs-comment\">// can have their private assets too.</span>\n    <span class=\"hljs-variable constant_\">ASSET_TYPES</span>.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">type</span>) {\n      <span class=\"hljs-title class_\">Sub</span>[type] = <span class=\"hljs-title class_\">Super</span>[type];\n    });\n    <span class=\"hljs-comment\">// enable recursive self-lookup</span>\n    <span class=\"hljs-keyword\">if</span> (name) {\n      <span class=\"hljs-title class_\">Sub</span>.<span class=\"hljs-property\">options</span>.<span class=\"hljs-property\">components</span>[name] = <span class=\"hljs-title class_\">Sub</span>;\n    }\n\n    <span class=\"hljs-comment\">// keep a reference to the super options at extension time.</span>\n    <span class=\"hljs-comment\">// later at instantiation we can check if Super&apos;s options have</span>\n    <span class=\"hljs-comment\">// been updated.</span>\n    <span class=\"hljs-title class_\">Sub</span>.<span class=\"hljs-property\">superOptions</span> = <span class=\"hljs-title class_\">Super</span>.<span class=\"hljs-property\">options</span>;\n    <span class=\"hljs-title class_\">Sub</span>.<span class=\"hljs-property\">extendOptions</span> = extendOptions;\n    <span class=\"hljs-title class_\">Sub</span>.<span class=\"hljs-property\">sealedOptions</span> = <span class=\"hljs-title function_\">extend</span>({}, <span class=\"hljs-title class_\">Sub</span>.<span class=\"hljs-property\">options</span>);\n\n    <span class=\"hljs-comment\">// cache constructor</span>\n    cachedCtors[<span class=\"hljs-title class_\">SuperId</span>] = <span class=\"hljs-title class_\">Sub</span>;\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Sub</span>\n  };\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">initProps&#x24;1</span> (<span class=\"hljs-params\">Comp</span>) {\n  <span class=\"hljs-keyword\">var</span> props = <span class=\"hljs-title class_\">Comp</span>.<span class=\"hljs-property\">options</span>.<span class=\"hljs-property\">props</span>;\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> props) {\n    <span class=\"hljs-title function_\">proxy</span>(<span class=\"hljs-title class_\">Comp</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>, <span class=\"hljs-string\">&quot;_props&quot;</span>, key);\n  }\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">initComputed&#x24;1</span> (<span class=\"hljs-params\">Comp</span>) {\n  <span class=\"hljs-keyword\">var</span> computed = <span class=\"hljs-title class_\">Comp</span>.<span class=\"hljs-property\">options</span>.<span class=\"hljs-property\">computed</span>;\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> computed) {\n    <span class=\"hljs-title function_\">defineComputed</span>(<span class=\"hljs-title class_\">Comp</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>, key, computed[key]);\n  }\n}\n\n<span class=\"hljs-comment\">/*  */</span>\n<span class=\"hljs-comment\">// &#x521b;&#x5efa;vue&#x7684;&#x51e0;&#x4e2a;&#x5c5e;&#x6027;&#x65b9;&#x6cd5;&#xff0c;component&#xff0c;direactive</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">initAssetRegisters</span> (<span class=\"hljs-params\">Vue</span>) {\n  <span class=\"hljs-comment\">/**\n   * Create asset registration methods.\n   */</span>\n  <span class=\"hljs-variable constant_\">ASSET_TYPES</span>.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">type</span>) {\n    <span class=\"hljs-title class_\">Vue</span>[type] = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">\n      id,\n      definition\n    </span>) {\n      <span class=\"hljs-keyword\">if</span> (!definition) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">options</span>[type + <span class=\"hljs-string\">&apos;s&apos;</span>][id]\n      } <span class=\"hljs-keyword\">else</span> {\n        <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; type === <span class=\"hljs-string\">&apos;component&apos;</span>) {\n          <span class=\"hljs-title function_\">validateComponentName</span>(id);\n        }\n        <span class=\"hljs-keyword\">if</span> (type === <span class=\"hljs-string\">&apos;component&apos;</span> &amp;&amp; <span class=\"hljs-title function_\">isPlainObject</span>(definition)) {\n          definition.<span class=\"hljs-property\">name</span> = definition.<span class=\"hljs-property\">name</span> || id;\n          definition = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">options</span>.<span class=\"hljs-property\">_base</span>.<span class=\"hljs-title function_\">extend</span>(definition);\n        }\n        <span class=\"hljs-keyword\">if</span> (type === <span class=\"hljs-string\">&apos;directive&apos;</span> &amp;&amp; <span class=\"hljs-keyword\">typeof</span> definition === <span class=\"hljs-string\">&apos;function&apos;</span>) {\n          definition = { <span class=\"hljs-attr\">bind</span>: definition, <span class=\"hljs-attr\">update</span>: definition };\n        }\n        <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">options</span>[type + <span class=\"hljs-string\">&apos;s&apos;</span>][id] = definition;\n        \n        <span class=\"hljs-keyword\">return</span> definition\n      }\n    };\n  });\n}\n\n<span class=\"hljs-comment\">/*  */</span>\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getComponentName</span> (<span class=\"hljs-params\">opts</span>) {\n  <span class=\"hljs-keyword\">return</span> opts &amp;&amp; (opts.<span class=\"hljs-property\">Ctor</span>.<span class=\"hljs-property\">options</span>.<span class=\"hljs-property\">name</span> || opts.<span class=\"hljs-property\">tag</span>)\n}\n<span class=\"hljs-comment\">// pattern&#x5206;&#x4e09;&#x79cd;&#x683c;&#x5f0f;&#xff0c;&#x6570;&#x7ec4;&#x5305;&#x542b;&#xff0c;&#x5b57;&#x7b26;&#x4e32;&#x5305;&#x542b;&#xff0c;&#x6b63;&#x5219;&#x5339;&#x914d;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">matches</span> (<span class=\"hljs-params\">pattern, name</span>) {\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(pattern)) {\n    <span class=\"hljs-keyword\">return</span> pattern.<span class=\"hljs-title function_\">indexOf</span>(name) &gt; -<span class=\"hljs-number\">1</span>\n  } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> pattern === <span class=\"hljs-string\">&apos;string&apos;</span>) {\n    <span class=\"hljs-keyword\">return</span> pattern.<span class=\"hljs-title function_\">split</span>(<span class=\"hljs-string\">&apos;,&apos;</span>).<span class=\"hljs-title function_\">indexOf</span>(name) &gt; -<span class=\"hljs-number\">1</span>\n  } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isRegExp</span>(pattern)) {\n    <span class=\"hljs-keyword\">return</span> pattern.<span class=\"hljs-title function_\">test</span>(name)\n  }\n  <span class=\"hljs-comment\">/* istanbul ignore next */</span>\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">pruneCache</span> (<span class=\"hljs-params\">keepAliveInstance, filter</span>) {\n  <span class=\"hljs-keyword\">var</span> cache = keepAliveInstance.<span class=\"hljs-property\">cache</span>;\n  <span class=\"hljs-keyword\">var</span> keys = keepAliveInstance.<span class=\"hljs-property\">keys</span>;\n  <span class=\"hljs-keyword\">var</span> _vnode = keepAliveInstance.<span class=\"hljs-property\">_vnode</span>;\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> cache) {\n    <span class=\"hljs-keyword\">var</span> cachedNode = cache[key];\n    <span class=\"hljs-keyword\">if</span> (cachedNode) {\n      <span class=\"hljs-keyword\">var</span> name = <span class=\"hljs-title function_\">getComponentName</span>(cachedNode.<span class=\"hljs-property\">componentOptions</span>);\n      <span class=\"hljs-keyword\">if</span> (name &amp;&amp; !<span class=\"hljs-title function_\">filter</span>(name)) {\n        <span class=\"hljs-title function_\">pruneCacheEntry</span>(cache, key, keys, _vnode);\n      }\n    }\n  }\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">pruneCacheEntry</span> (<span class=\"hljs-params\">\n  cache,\n  key,\n  keys,\n  current\n</span>) {\n  <span class=\"hljs-keyword\">var</span> cached&#x24;&#x24;1 = cache[key];\n  <span class=\"hljs-comment\">// &#x7f13;&#x5b58;&#x7684;tag&#x4e0d;&#x80fd;&#x4e0e;&#x5f53;&#x524d;&#x7684;tag,&#x7ec4;&#x4ef6;&#x9500;&#x6bc1;&#xff0c;&#x5c5e;&#x6027;&#x5220;&#x9664;</span>\n  <span class=\"hljs-keyword\">if</span> (cached&#x24;&#x24;1 &amp;&amp; (!current || cached&#x24;&#x24;1.<span class=\"hljs-property\">tag</span> !== current.<span class=\"hljs-property\">tag</span>)) {\n    cached&#x24;&#x24;1.<span class=\"hljs-property\">componentInstance</span>.&#x24;destroy();\n  }\n  cache[key] = <span class=\"hljs-literal\">null</span>;\n  <span class=\"hljs-title function_\">remove</span>(keys, key);\n}\n\n<span class=\"hljs-keyword\">var</span> patternTypes = [<span class=\"hljs-title class_\">String</span>, <span class=\"hljs-title class_\">RegExp</span>, <span class=\"hljs-title class_\">Array</span>];\n<span class=\"hljs-comment\">// &#x5b9a;&#x4e49;keppalived&#x7684;&#x5c5e;&#x6027;&#x548c;&#x65b9;&#x6cd5;&#x7b49;</span>\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">KeepAlive</span> = {\n  <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&apos;keep-alive&apos;</span>,\n  <span class=\"hljs-attr\">abstract</span>: <span class=\"hljs-literal\">true</span>,\n\n  <span class=\"hljs-attr\">props</span>: {\n    <span class=\"hljs-attr\">include</span>: patternTypes,\n    <span class=\"hljs-attr\">exclude</span>: patternTypes,\n    <span class=\"hljs-attr\">max</span>: [<span class=\"hljs-title class_\">String</span>, <span class=\"hljs-title class_\">Number</span>]\n  },\n\n  <span class=\"hljs-attr\">created</span>: <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">created</span> (<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">cache</span> = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(<span class=\"hljs-literal\">null</span>);\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">keys</span> = [];\n  },\n\n  <span class=\"hljs-attr\">destroyed</span>: <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">destroyed</span> (<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-keyword\">var</span> <span class=\"hljs-variable language_\">this</span>&#x24;1 = <span class=\"hljs-variable language_\">this</span>;\n\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> <span class=\"hljs-variable language_\">this</span>&#x24;1.<span class=\"hljs-property\">cache</span>) {\n      <span class=\"hljs-title function_\">pruneCacheEntry</span>(<span class=\"hljs-variable language_\">this</span>&#x24;1.<span class=\"hljs-property\">cache</span>, key, <span class=\"hljs-variable language_\">this</span>&#x24;1.<span class=\"hljs-property\">keys</span>);\n    }\n  },\n\n  <span class=\"hljs-attr\">mounted</span>: <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mounted</span> (<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-keyword\">var</span> <span class=\"hljs-variable language_\">this</span>&#x24;1 = <span class=\"hljs-variable language_\">this</span>;\n\n    <span class=\"hljs-variable language_\">this</span>.&#x24;watch(<span class=\"hljs-string\">&apos;include&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">val</span>) {\n      <span class=\"hljs-title function_\">pruneCache</span>(<span class=\"hljs-variable language_\">this</span>&#x24;1, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">name</span>) { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">matches</span>(val, name); });\n    });\n    <span class=\"hljs-variable language_\">this</span>.&#x24;watch(<span class=\"hljs-string\">&apos;exclude&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">val</span>) {\n      <span class=\"hljs-title function_\">pruneCache</span>(<span class=\"hljs-variable language_\">this</span>&#x24;1, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">name</span>) { <span class=\"hljs-keyword\">return</span> !<span class=\"hljs-title function_\">matches</span>(val, name); });\n    });\n  },\n\n  <span class=\"hljs-attr\">render</span>: <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">render</span> (<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-keyword\">var</span> slot = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">&#x24;slots</span>.<span class=\"hljs-property\">default</span>;\n    <span class=\"hljs-keyword\">var</span> vnode = <span class=\"hljs-title function_\">getFirstComponentChild</span>(slot);\n    <span class=\"hljs-keyword\">var</span> componentOptions = vnode &amp;&amp; vnode.<span class=\"hljs-property\">componentOptions</span>;\n    <span class=\"hljs-keyword\">if</span> (componentOptions) {\n      <span class=\"hljs-comment\">// check pattern</span>\n      <span class=\"hljs-keyword\">var</span> name = <span class=\"hljs-title function_\">getComponentName</span>(componentOptions);\n      <span class=\"hljs-keyword\">var</span> ref = <span class=\"hljs-variable language_\">this</span>;\n      <span class=\"hljs-keyword\">var</span> include = ref.<span class=\"hljs-property\">include</span>;\n      <span class=\"hljs-keyword\">var</span> exclude = ref.<span class=\"hljs-property\">exclude</span>;\n      <span class=\"hljs-keyword\">if</span> (\n        <span class=\"hljs-comment\">// not included</span>\n        (include &amp;&amp; (!name || !<span class=\"hljs-title function_\">matches</span>(include, name))) ||\n        <span class=\"hljs-comment\">// excluded</span>\n        (exclude &amp;&amp; name &amp;&amp; <span class=\"hljs-title function_\">matches</span>(exclude, name))\n      ) {\n        <span class=\"hljs-keyword\">return</span> vnode\n      }\n\n      <span class=\"hljs-keyword\">var</span> ref&#x24;1 = <span class=\"hljs-variable language_\">this</span>;\n      <span class=\"hljs-keyword\">var</span> cache = ref&#x24;1.<span class=\"hljs-property\">cache</span>;\n      <span class=\"hljs-keyword\">var</span> keys = ref&#x24;1.<span class=\"hljs-property\">keys</span>;\n      <span class=\"hljs-keyword\">var</span> key = vnode.<span class=\"hljs-property\">key</span> == <span class=\"hljs-literal\">null</span>\n        <span class=\"hljs-comment\">// same constructor may get registered as different local components</span>\n        <span class=\"hljs-comment\">// so cid alone is not enough (#3269)</span>\n        ? componentOptions.<span class=\"hljs-property\">Ctor</span>.<span class=\"hljs-property\">cid</span> + (componentOptions.<span class=\"hljs-property\">tag</span> ? (<span class=\"hljs-string\">&quot;::&quot;</span> + (componentOptions.<span class=\"hljs-property\">tag</span>)) : <span class=\"hljs-string\">&apos;&apos;</span>)\n        : vnode.<span class=\"hljs-property\">key</span>;\n      <span class=\"hljs-keyword\">if</span> (cache[key]) {\n        vnode.<span class=\"hljs-property\">componentInstance</span> = cache[key].<span class=\"hljs-property\">componentInstance</span>;\n        <span class=\"hljs-comment\">// make current key freshest</span>\n        <span class=\"hljs-title function_\">remove</span>(keys, key);\n        keys.<span class=\"hljs-title function_\">push</span>(key);\n      } <span class=\"hljs-keyword\">else</span> {\n        cache[key] = vnode;\n        keys.<span class=\"hljs-title function_\">push</span>(key);\n        <span class=\"hljs-comment\">// prune oldest entry</span>\n        <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">max</span> &amp;&amp; keys.<span class=\"hljs-property\">length</span> &gt; <span class=\"hljs-built_in\">parseInt</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">max</span>)) {\n          <span class=\"hljs-title function_\">pruneCacheEntry</span>(cache, keys[<span class=\"hljs-number\">0</span>], keys, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">_vnode</span>);\n        }\n      }\n\n      vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">keepAlive</span> = <span class=\"hljs-literal\">true</span>;\n    }\n    <span class=\"hljs-keyword\">return</span> vnode || (slot &amp;&amp; slot[<span class=\"hljs-number\">0</span>])\n  }\n}\n\n<span class=\"hljs-keyword\">var</span> builtInComponents = {\n  <span class=\"hljs-title class_\">KeepAlive</span>: <span class=\"hljs-title class_\">KeepAlive</span>\n}\n\n<span class=\"hljs-comment\">/*  */</span>\n<span class=\"hljs-comment\">// &#x521d;&#x59cb;&#x5316;vue&#x5168;&#x5c40;&#x7684;&#x65b9;&#x6cd5;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">initGlobalAPI</span> (<span class=\"hljs-params\">Vue</span>) {\n  <span class=\"hljs-comment\">// config</span>\n  <span class=\"hljs-keyword\">var</span> configDef = {};\n  configDef.<span class=\"hljs-property\">get</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) { <span class=\"hljs-keyword\">return</span> config; };\n  {\n    configDef.<span class=\"hljs-property\">set</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n      <span class=\"hljs-title function_\">warn</span>(\n        <span class=\"hljs-string\">&apos;Do not replace the Vue.config object, set individual fields instead.&apos;</span>\n      );\n    };\n  }\n  <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperty</span>(<span class=\"hljs-title class_\">Vue</span>, <span class=\"hljs-string\">&apos;config&apos;</span>, configDef);\n\n  <span class=\"hljs-comment\">// exposed util methods.</span>\n  <span class=\"hljs-comment\">// <span class=\"hljs-doctag\">NOTE:</span> these are not considered part of the public API - avoid relying on</span>\n  <span class=\"hljs-comment\">// them unless you are aware of the risk.</span>\n  <span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\">util</span> = {\n    <span class=\"hljs-attr\">warn</span>: warn,\n    <span class=\"hljs-attr\">extend</span>: extend,\n    <span class=\"hljs-attr\">mergeOptions</span>: mergeOptions,\n    <span class=\"hljs-attr\">defineReactive</span>: defineReactive\n  };\n\n  <span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\">set</span> = set;\n  <span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\">delete</span> = del;\n  <span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\">nextTick</span> = nextTick;\n\n  <span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\">options</span> = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(<span class=\"hljs-literal\">null</span>);\n  <span class=\"hljs-variable constant_\">ASSET_TYPES</span>.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">type</span>) {\n    <span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\">options</span>[type + <span class=\"hljs-string\">&apos;s&apos;</span>] = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(<span class=\"hljs-literal\">null</span>);\n  });\n\n  <span class=\"hljs-comment\">// this is used to identify the &quot;base&quot; constructor to extend all plain-object</span>\n  <span class=\"hljs-comment\">// components with in Weex&apos;s multi-instance scenarios.</span>\n  <span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\">options</span>.<span class=\"hljs-property\">_base</span> = <span class=\"hljs-title class_\">Vue</span>;\n\n  <span class=\"hljs-title function_\">extend</span>(<span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\">options</span>.<span class=\"hljs-property\">components</span>, builtInComponents);\n\n  <span class=\"hljs-title function_\">initUse</span>(<span class=\"hljs-title class_\">Vue</span>);\n  <span class=\"hljs-title function_\">initMixin&#x24;1</span>(<span class=\"hljs-title class_\">Vue</span>);\n  <span class=\"hljs-title function_\">initExtend</span>(<span class=\"hljs-title class_\">Vue</span>);\n  <span class=\"hljs-title function_\">initAssetRegisters</span>(<span class=\"hljs-title class_\">Vue</span>);\n}\n\n<span class=\"hljs-title function_\">initGlobalAPI</span>(<span class=\"hljs-title class_\">Vue</span>);\n<span class=\"hljs-comment\">// &#x662f;&#x5426;&#x662f;&#x8fd0;&#x884c;&#x5728;&#x670d;&#x52a1;&#x5668;</span>\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperty</span>(<span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>, <span class=\"hljs-string\">&apos;&#x24;isServer&apos;</span>, {\n  <span class=\"hljs-attr\">get</span>: isServerRendering\n});\n\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperty</span>(<span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>, <span class=\"hljs-string\">&apos;&#x24;ssrContext&apos;</span>, {\n  <span class=\"hljs-attr\">get</span>: <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">get</span> (<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-comment\">/* istanbul ignore next */</span>\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">&#x24;vnode</span> &amp;&amp; <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">&#x24;vnode</span>.<span class=\"hljs-property\">ssrContext</span>\n  }\n});\n\n<span class=\"hljs-comment\">// &#x4e3a;&#x670d;&#x52a1;&#x5668;&#x6e32;&#x67d3;&#x66b4;&#x9732;&#x63a5;&#x53e3;</span>\n<span class=\"hljs-comment\">// expose FunctionalRenderContext for ssr runtime helper installation</span>\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperty</span>(<span class=\"hljs-title class_\">Vue</span>, <span class=\"hljs-string\">&apos;FunctionalRenderContext&apos;</span>, {\n  <span class=\"hljs-attr\">value</span>: <span class=\"hljs-title class_\">FunctionalRenderContext</span>\n});\n\n<span class=\"hljs-title class_\">Vue</span>.<span class=\"hljs-property\">version</span> = <span class=\"hljs-string\">&apos;2.5.17&apos;</span>;\n\n<span class=\"hljs-comment\">/*  */</span>\n\n<span class=\"hljs-comment\">// these are reserved for web because they are directly compiled away</span>\n<span class=\"hljs-comment\">// during template compilation</span>\n<span class=\"hljs-comment\">// &#x662f;&#x5426;&#x662f;style,class&#x4fdd;&#x7559;&#x5c5e;&#x6027;</span>\n<span class=\"hljs-keyword\">var</span> isReservedAttr = <span class=\"hljs-title function_\">makeMap</span>(<span class=\"hljs-string\">&apos;style,class&apos;</span>);\n\n<span class=\"hljs-comment\">// attributes that should be using props for binding</span>\n<span class=\"hljs-comment\">// &#x5fc5;&#x987b;&#x7528;props&#x7ed1;&#x5b9a;&#x7684;input &#x7c7b;&#x578b;</span>\n<span class=\"hljs-keyword\">var</span> acceptValue = <span class=\"hljs-title function_\">makeMap</span>(<span class=\"hljs-string\">&apos;input,textarea,option,select,progress&apos;</span>);\n<span class=\"hljs-keyword\">var</span> mustUseProp = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">tag, type, attr</span>) {\n  <span class=\"hljs-keyword\">return</span> (\n    (attr === <span class=\"hljs-string\">&apos;value&apos;</span> &amp;&amp; <span class=\"hljs-title function_\">acceptValue</span>(tag)) &amp;&amp; type !== <span class=\"hljs-string\">&apos;button&apos;</span> ||\n    (attr === <span class=\"hljs-string\">&apos;selected&apos;</span> &amp;&amp; tag === <span class=\"hljs-string\">&apos;option&apos;</span>) ||\n    (attr === <span class=\"hljs-string\">&apos;checked&apos;</span> &amp;&amp; tag === <span class=\"hljs-string\">&apos;input&apos;</span>) ||\n    (attr === <span class=\"hljs-string\">&apos;muted&apos;</span> &amp;&amp; tag === <span class=\"hljs-string\">&apos;video&apos;</span>)\n  )\n};\n\n<span class=\"hljs-keyword\">var</span> isEnumeratedAttr = <span class=\"hljs-title function_\">makeMap</span>(<span class=\"hljs-string\">&apos;contenteditable,draggable,spellcheck&apos;</span>);\n\n<span class=\"hljs-keyword\">var</span> isBooleanAttr = <span class=\"hljs-title function_\">makeMap</span>(\n  <span class=\"hljs-string\">&apos;allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,&apos;</span> +\n  <span class=\"hljs-string\">&apos;default,defaultchecked,defaultmuted,defaultselected,defer,disabled,&apos;</span> +\n  <span class=\"hljs-string\">&apos;enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,&apos;</span> +\n  <span class=\"hljs-string\">&apos;muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,&apos;</span> +\n  <span class=\"hljs-string\">&apos;required,reversed,scoped,seamless,selected,sortable,translate,&apos;</span> +\n  <span class=\"hljs-string\">&apos;truespeed,typemustmatch,visible&apos;</span>\n);\n\n<span class=\"hljs-keyword\">var</span> xlinkNS = <span class=\"hljs-string\">&apos;http://www.w3.org/1999/xlink&apos;</span>;\n<span class=\"hljs-comment\">// &#x4f7f;&#x7528;xlink</span>\n<span class=\"hljs-keyword\">var</span> isXlink = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">name</span>) {\n  <span class=\"hljs-keyword\">return</span> name.<span class=\"hljs-title function_\">charAt</span>(<span class=\"hljs-number\">5</span>) === <span class=\"hljs-string\">&apos;:&apos;</span> &amp;&amp; name.<span class=\"hljs-title function_\">slice</span>(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">5</span>) === <span class=\"hljs-string\">&apos;xlink&apos;</span>\n};\n\n<span class=\"hljs-keyword\">var</span> getXlinkProp = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">name</span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">isXlink</span>(name) ? name.<span class=\"hljs-title function_\">slice</span>(<span class=\"hljs-number\">6</span>, name.<span class=\"hljs-property\">length</span>) : <span class=\"hljs-string\">&apos;&apos;</span>\n};\n<span class=\"hljs-comment\">// &#x662f;&#x5426;&#x662f;&#x5408;&#x6cd5;&#x7684;&#x5c5e;&#x6027;</span>\n<span class=\"hljs-keyword\">var</span> isFalsyAttrValue = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">val</span>) {\n  <span class=\"hljs-keyword\">return</span> val == <span class=\"hljs-literal\">null</span> || val === <span class=\"hljs-literal\">false</span>\n};\n\n<span class=\"hljs-comment\">/*  */</span>\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">genClassForVnode</span> (<span class=\"hljs-params\">vnode</span>) {\n  <span class=\"hljs-keyword\">var</span> data = vnode.<span class=\"hljs-property\">data</span>;\n  <span class=\"hljs-keyword\">var</span> parentNode = vnode;\n  <span class=\"hljs-keyword\">var</span> childNode = vnode;\n  <span class=\"hljs-comment\">// &#x5408;&#x5e76;&#x5b50;&#x7ec4;&#x4ef6;&#x7684;&#x7c7b;</span>\n  <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-title function_\">isDef</span>(childNode.<span class=\"hljs-property\">componentInstance</span>)) {\n    childNode = childNode.<span class=\"hljs-property\">componentInstance</span>.<span class=\"hljs-property\">_vnode</span>;\n    <span class=\"hljs-keyword\">if</span> (childNode &amp;&amp; childNode.<span class=\"hljs-property\">data</span>) {\n      data = <span class=\"hljs-title function_\">mergeClassData</span>(childNode.<span class=\"hljs-property\">data</span>, data);\n    }\n  }\n  <span class=\"hljs-comment\">// &#x5408;&#x5e76;&#x7236;&#x7ec4;&#x4ef6;&#x7684;&#x7c7b;</span>\n  <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-title function_\">isDef</span>(parentNode = parentNode.<span class=\"hljs-property\">parent</span>)) {\n    <span class=\"hljs-keyword\">if</span> (parentNode &amp;&amp; parentNode.<span class=\"hljs-property\">data</span>) {\n      data = <span class=\"hljs-title function_\">mergeClassData</span>(data, parentNode.<span class=\"hljs-property\">data</span>);\n    }\n  }\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">renderClass</span>(data.<span class=\"hljs-property\">staticClass</span>, data.<span class=\"hljs-property\">class</span>)\n}\n<span class=\"hljs-comment\">// &#x5408;&#x5e76;class</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mergeClassData</span> (<span class=\"hljs-params\">child, parent</span>) {\n  <span class=\"hljs-keyword\">return</span> {\n    <span class=\"hljs-attr\">staticClass</span>: <span class=\"hljs-title function_\">concat</span>(child.<span class=\"hljs-property\">staticClass</span>, parent.<span class=\"hljs-property\">staticClass</span>),\n    <span class=\"hljs-attr\">class</span>: <span class=\"hljs-title function_\">isDef</span>(child.<span class=\"hljs-property\">class</span>)\n      ? [child.<span class=\"hljs-property\">class</span>, parent.<span class=\"hljs-property\">class</span>]\n      : parent.<span class=\"hljs-property\">class</span>\n  }\n}\n<span class=\"hljs-comment\">// &#x5408;&#x5e76;&#x7c7b;&#x6210;&#x5b57;&#x7b26;&#x4e32;&#x5e76;&#x8fd4;&#x56de;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">renderClass</span> (<span class=\"hljs-params\">\n  staticClass,\n  dynamicClass\n</span>) {\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(staticClass) || <span class=\"hljs-title function_\">isDef</span>(dynamicClass)) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">concat</span>(staticClass, <span class=\"hljs-title function_\">stringifyClass</span>(dynamicClass))\n  }\n  <span class=\"hljs-comment\">/* istanbul ignore next */</span>\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&apos;&apos;</span>\n}\n<span class=\"hljs-comment\">// &#x5408;&#x5e76;&#x53c2;&#x6570;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">concat</span> (<span class=\"hljs-params\">a, b</span>) {\n  <span class=\"hljs-keyword\">return</span> a ? b ? (a + <span class=\"hljs-string\">&apos; &apos;</span> + b) : a : (b || <span class=\"hljs-string\">&apos;&apos;</span>)\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">stringifyClass</span> (<span class=\"hljs-params\">value</span>) {\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(value)) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">stringifyArray</span>(value)\n  }\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isObject</span>(value)) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">stringifyObject</span>(value)\n  }\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> value === <span class=\"hljs-string\">&apos;string&apos;</span>) {\n    <span class=\"hljs-keyword\">return</span> value\n  }\n  <span class=\"hljs-comment\">/* istanbul ignore next */</span>\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&apos;&apos;</span>\n}\n<span class=\"hljs-comment\">// &#x5408;&#x5e76;&#x6570;&#x7ec4;&#x7684;&#x7c7b;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">stringifyArray</span> (<span class=\"hljs-params\">value</span>) {\n  <span class=\"hljs-keyword\">var</span> res = <span class=\"hljs-string\">&apos;&apos;</span>;\n  <span class=\"hljs-keyword\">var</span> stringified;\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>, l = value.<span class=\"hljs-property\">length</span>; i &lt; l; i++) {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(stringified = <span class=\"hljs-title function_\">stringifyClass</span>(value[i])) &amp;&amp; stringified !== <span class=\"hljs-string\">&apos;&apos;</span>) {\n      <span class=\"hljs-keyword\">if</span> (res) { res += <span class=\"hljs-string\">&apos; &apos;</span>; }\n      res += stringified;\n    }\n  }\n  <span class=\"hljs-keyword\">return</span> res\n}\n<span class=\"hljs-comment\">// &#x5408;&#x5e76;&#x5bf9;&#x8c61;&#x7684;&#x7c7b;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">stringifyObject</span> (<span class=\"hljs-params\">value</span>) {\n  <span class=\"hljs-keyword\">var</span> res = <span class=\"hljs-string\">&apos;&apos;</span>;\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> value) {\n    <span class=\"hljs-keyword\">if</span> (value[key]) {\n      <span class=\"hljs-keyword\">if</span> (res) { res += <span class=\"hljs-string\">&apos; &apos;</span>; }\n      res += key;\n    }\n  }\n  <span class=\"hljs-keyword\">return</span> res\n}\n\n<span class=\"hljs-comment\">/*  */</span>\n\n<span class=\"hljs-keyword\">var</span> namespaceMap = {\n  <span class=\"hljs-attr\">svg</span>: <span class=\"hljs-string\">&apos;http://www.w3.org/2000/svg&apos;</span>,\n  <span class=\"hljs-attr\">math</span>: <span class=\"hljs-string\">&apos;http://www.w3.org/1998/Math/MathML&apos;</span>\n};\n<span class=\"hljs-comment\">// html &#x6807;&#x7b7e;&#x7684;&#x96c6;&#x5408;</span>\n<span class=\"hljs-keyword\">var</span> isHTMLTag = <span class=\"hljs-title function_\">makeMap</span>(\n  <span class=\"hljs-string\">&apos;html,body,base,head,link,meta,style,title,&apos;</span> +\n  <span class=\"hljs-string\">&apos;address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,&apos;</span> +\n  <span class=\"hljs-string\">&apos;div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,&apos;</span> +\n  <span class=\"hljs-string\">&apos;a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,&apos;</span> +\n  <span class=\"hljs-string\">&apos;s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,&apos;</span> +\n  <span class=\"hljs-string\">&apos;embed,object,param,source,canvas,script,noscript,del,ins,&apos;</span> +\n  <span class=\"hljs-string\">&apos;caption,col,colgroup,table,thead,tbody,td,th,tr,&apos;</span> +\n  <span class=\"hljs-string\">&apos;button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,&apos;</span> +\n  <span class=\"hljs-string\">&apos;output,progress,select,textarea,&apos;</span> +\n  <span class=\"hljs-string\">&apos;details,dialog,menu,menuitem,summary,&apos;</span> +\n  <span class=\"hljs-string\">&apos;content,element,shadow,template,blockquote,iframe,tfoot&apos;</span>\n);\n\n<span class=\"hljs-comment\">// this map is intentionally selective, only covering SVG elements that may</span>\n<span class=\"hljs-comment\">// contain child elements.</span>\n<span class=\"hljs-comment\">// svg&#x7684;&#x96c6;&#x5408;</span>\n<span class=\"hljs-keyword\">var</span> isSVG = <span class=\"hljs-title function_\">makeMap</span>(\n  <span class=\"hljs-string\">&apos;svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,&apos;</span> +\n  <span class=\"hljs-string\">&apos;foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,&apos;</span> +\n  <span class=\"hljs-string\">&apos;polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view&apos;</span>,\n  <span class=\"hljs-literal\">true</span>\n);\n<span class=\"hljs-comment\">// &#x662f;&#x5426;&#x662f;pre&#x6807;&#x7b7e;</span>\n<span class=\"hljs-keyword\">var</span> isPreTag = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">tag</span>) { <span class=\"hljs-keyword\">return</span> tag === <span class=\"hljs-string\">&apos;pre&apos;</span>; };\n<span class=\"hljs-comment\">// &#x662f;&#x5426;&#x662f;html&#x6807;&#x7b7e;&#x6216;&#x8005;svg&#x6807;&#x7b7e;&#xff0c;&#x8fd9;&#x4e9b;&#x662f;&#x8981;&#x4fdd;&#x7559;&#x7684;&#x6807;&#x7b7e;</span>\n<span class=\"hljs-keyword\">var</span> isReservedTag = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">tag</span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">isHTMLTag</span>(tag) || <span class=\"hljs-title function_\">isSVG</span>(tag)\n};\n<span class=\"hljs-comment\">// &#x547d;&#x540d;&#x7a7a;&#x95f4; svg&#x6216;&#x8005;math</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getTagNamespace</span> (<span class=\"hljs-params\">tag</span>) {\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isSVG</span>(tag)) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&apos;svg&apos;</span>\n  }\n  <span class=\"hljs-comment\">// basic support for MathML</span>\n  <span class=\"hljs-comment\">// note it doesn&apos;t support other MathML elements being component roots</span>\n  <span class=\"hljs-keyword\">if</span> (tag === <span class=\"hljs-string\">&apos;math&apos;</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&apos;math&apos;</span>\n  }\n}\n<span class=\"hljs-comment\">// &#x5b9a;&#x4e49;&#x5bf9;&#x8c61;,&#x7528;&#x6765;&#x4fdd;&#x5b58;&#x672a;&#x77e5;&#x6807;&#x7b7e;</span>\n<span class=\"hljs-keyword\">var</span> unknownElementCache = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(<span class=\"hljs-literal\">null</span>);\n<span class=\"hljs-comment\">// &#x5224;&#x65ad;&#x662f;&#x5426;&#x662f;&#x672a;&#x77e5;&#x6807;&#x7b7e;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">isUnknownElement</span> (<span class=\"hljs-params\">tag</span>) {\n  <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n  <span class=\"hljs-comment\">//&#x5982;&#x679c;&#x4e0d;&#x662f;&#x6d4f;&#x89c8;&#x5668;&#x73af;&#x5883;&#xff0c;return true</span>\n  <span class=\"hljs-keyword\">if</span> (!inBrowser) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>\n  }\n  <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x662f;html&#x7684;tag,&#x6216;&#x8005;svg&#xff0c;&#x8fd4;&#x56de;false</span>\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isReservedTag</span>(tag)) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>\n  }\n  tag = tag.<span class=\"hljs-title function_\">toLowerCase</span>();\n  <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n  <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x672a;&#x77e5;&#x6807;&#x7b7e;&#x5bf9;&#x8c61;&#x6709;&#x7f13;&#x5b58;&#xff0c;&#x8fd4;&#x56de;&#x5176;&#x4fdd;&#x5b58;&#x7684;&#x7ed3;&#x679c;</span>\n  <span class=\"hljs-keyword\">if</span> (unknownElementCache[tag] != <span class=\"hljs-literal\">null</span>) {\n    <span class=\"hljs-keyword\">return</span> unknownElementCache[tag]\n  }\n  <span class=\"hljs-keyword\">var</span> el = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(tag);\n  <span class=\"hljs-comment\">// tag&#x91cc;&#x6709;&#x4e2d;&#x7ebf;&#x5c31;&#x7528;&#x6784;&#x9020;&#x51fd;&#x6570;&#x53bb;&#x5224;&#x65ad;&#x5426;&#x8005;&#x7528;&#x6b63;&#x5219;&#x53bb;&#x6821;&#x9a8c;</span>\n  <span class=\"hljs-keyword\">if</span> (tag.<span class=\"hljs-title function_\">indexOf</span>(<span class=\"hljs-string\">&apos;-&apos;</span>) &gt; -<span class=\"hljs-number\">1</span>) {\n    <span class=\"hljs-comment\">// http://stackoverflow.com/a/28210364/1070244</span>\n    <span class=\"hljs-keyword\">return</span> (unknownElementCache[tag] = (\n      el.<span class=\"hljs-property\">constructor</span> === <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">HTMLUnknownElement</span> ||\n      el.<span class=\"hljs-property\">constructor</span> === <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">HTMLElement</span>\n    ))\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-keyword\">return</span> (unknownElementCache[tag] = <span class=\"hljs-regexp\">/HTMLUnknownElement/</span>.<span class=\"hljs-title function_\">test</span>(el.<span class=\"hljs-title function_\">toString</span>()))\n  }\n}\n<span class=\"hljs-comment\">// input type&#x7684;&#x7c7b;&#x578b;&#x96c6;&#x5408;</span>\n<span class=\"hljs-keyword\">var</span> isTextInputType = <span class=\"hljs-title function_\">makeMap</span>(<span class=\"hljs-string\">&apos;text,number,password,search,email,tel,url&apos;</span>);\n\n<span class=\"hljs-comment\">/*  */</span>\n\n<span class=\"hljs-comment\">/**\n * Query an element selector if it&apos;s not an element already.\n */</span>\n<span class=\"hljs-comment\">// &#x83b7;&#x53d6;dom</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">query</span> (<span class=\"hljs-params\">el</span>) {\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> el === <span class=\"hljs-string\">&apos;string&apos;</span>) {\n    <span class=\"hljs-keyword\">var</span> selected = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">querySelector</span>(el);\n    <span class=\"hljs-keyword\">if</span> (!selected) {\n      <span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; <span class=\"hljs-title function_\">warn</span>(\n        <span class=\"hljs-string\">&apos;Cannot find element: &apos;</span> + el\n      );\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">&apos;div&apos;</span>)\n    }\n    <span class=\"hljs-keyword\">return</span> selected\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-keyword\">return</span> el\n  }\n}\n\n<span class=\"hljs-comment\">/*  */</span>\n<span class=\"hljs-comment\">// &#x521b;&#x5efa;dom,&#x5982;&#x679c;&#x662f;select&#xff0c;&#x5224;&#x65ad;vnode&#x91cc;&#x7684;multiple&#x5c5e;&#x6027;&#x5224;&#x65ad;select&#x662f;&#x5426;&#x4e3a;multiple</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createElement&#x24;1</span> (<span class=\"hljs-params\">tagName, vnode</span>) {\n  <span class=\"hljs-keyword\">var</span> elm = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(tagName);\n  <span class=\"hljs-keyword\">if</span> (tagName !== <span class=\"hljs-string\">&apos;select&apos;</span>) {\n    <span class=\"hljs-keyword\">return</span> elm\n  }\n  <span class=\"hljs-comment\">// false or null will remove the attribute but undefined will not</span>\n  <span class=\"hljs-keyword\">if</span> (vnode.<span class=\"hljs-property\">data</span> &amp;&amp; vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">attrs</span> &amp;&amp; vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">attrs</span>.<span class=\"hljs-property\">multiple</span> !== <span class=\"hljs-literal\">undefined</span>) {\n    elm.<span class=\"hljs-title function_\">setAttribute</span>(<span class=\"hljs-string\">&apos;multiple&apos;</span>, <span class=\"hljs-string\">&apos;multiple&apos;</span>);\n  }\n  <span class=\"hljs-keyword\">return</span> elm\n}\n<span class=\"hljs-comment\">// &#x521b;&#x5efa;&#x6709;&#x547d;&#x540d;&#x7a7a;&#x95f4;&#x7684;dom</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createElementNS</span> (<span class=\"hljs-params\">namespace, tagName</span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElementNS</span>(namespaceMap[namespace], tagName)\n}\n<span class=\"hljs-comment\">// &#x521b;&#x5efa;&#x6587;&#x672c;&#x8282;&#x70b9;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createTextNode</span> (<span class=\"hljs-params\">text</span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createTextNode</span>(text)\n}\n<span class=\"hljs-comment\">// &#x521b;&#x5efa;&#x6ce8;&#x91ca;&#x8282;&#x70b9;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createComment</span> (<span class=\"hljs-params\">text</span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createComment</span>(text)\n}\n<span class=\"hljs-comment\">// &#x63d2;&#x5165;&#x5b50;&#x8282;&#x70b9;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">insertBefore</span> (<span class=\"hljs-params\">parentNode, newNode, referenceNode</span>) {\n  parentNode.<span class=\"hljs-title function_\">insertBefore</span>(newNode, referenceNode);\n}\n<span class=\"hljs-comment\">// &#x79fb;&#x9664;&#x5b50;&#x8282;&#x70b9;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">removeChild</span> (<span class=\"hljs-params\">node, child</span>) {\n  node.<span class=\"hljs-title function_\">removeChild</span>(child);\n}\n<span class=\"hljs-comment\">// &#x5c3e;&#x90e8;&#x52a0;&#x5165;&#x5b50;&#x8282;&#x70b9;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">appendChild</span> (<span class=\"hljs-params\">node, child</span>) {\n  node.<span class=\"hljs-title function_\">appendChild</span>(child);\n}\n<span class=\"hljs-comment\">// &#x83b7;&#x53d6;&#x7236;&#x8282;&#x70b9;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">parentNode</span> (<span class=\"hljs-params\">node</span>) {\n  <span class=\"hljs-keyword\">return</span> node.<span class=\"hljs-property\">parentNode</span>\n}\n<span class=\"hljs-comment\">// &#x83b7;&#x53d6;&#x4e0b;&#x4e00;&#x4e2a;&#x5144;&#x5f1f;&#x8282;&#x70b9;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">nextSibling</span> (<span class=\"hljs-params\">node</span>) {\n  <span class=\"hljs-keyword\">return</span> node.<span class=\"hljs-property\">nextSibling</span>\n}\n<span class=\"hljs-comment\">// &#x83b7;&#x53d6;&#x5143;&#x7d20;&#x7684;&#x6807;&#x7b7e;&#x540d;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">tagName</span> (<span class=\"hljs-params\">node</span>) {\n  <span class=\"hljs-keyword\">return</span> node.<span class=\"hljs-property\">tagName</span>\n}\n<span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;&#x6587;&#x672c;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">setTextContent</span> (<span class=\"hljs-params\">node, text</span>) {\n  node.<span class=\"hljs-property\">textContent</span> = text;\n}\n<span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;&#x9ed8;&#x8ba4;&#x5c5e;&#x6027;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">setStyleScope</span> (<span class=\"hljs-params\">node, scopeId</span>) {\n  node.<span class=\"hljs-title function_\">setAttribute</span>(scopeId, <span class=\"hljs-string\">&apos;&apos;</span>);\n}\n\n<span class=\"hljs-comment\">// &#x521b;&#x5efa;&#x4e00;&#x4e2a;dom&#x65b9;&#x6cd5;&#x96c6;&#x5408;&#x7684;&#x51bb;&#x7ed3;&#x5bf9;&#x8c61;&#xff0c;</span>\n<span class=\"hljs-keyword\">var</span> nodeOps = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">freeze</span>({\n    <span class=\"hljs-attr\">createElement</span>: createElement&#x24;1,\n    <span class=\"hljs-attr\">createElementNS</span>: createElementNS,\n    <span class=\"hljs-attr\">createTextNode</span>: createTextNode,\n    <span class=\"hljs-attr\">createComment</span>: createComment,\n    <span class=\"hljs-attr\">insertBefore</span>: insertBefore,\n    <span class=\"hljs-attr\">removeChild</span>: removeChild,\n    <span class=\"hljs-attr\">appendChild</span>: appendChild,\n    <span class=\"hljs-attr\">parentNode</span>: parentNode,\n    <span class=\"hljs-attr\">nextSibling</span>: nextSibling,\n    <span class=\"hljs-attr\">tagName</span>: tagName,\n    <span class=\"hljs-attr\">setTextContent</span>: setTextContent,\n    <span class=\"hljs-attr\">setStyleScope</span>: setStyleScope\n});\n\n<span class=\"hljs-comment\">/*  */</span>\n<span class=\"hljs-comment\">// ref&#x7684;&#x65b9;&#x6cd5;&#x96c6;&#x5408;&#xff0c;</span>\n<span class=\"hljs-keyword\">var</span> ref = {\n  <span class=\"hljs-comment\">//&#x521b;&#x5efa;</span>\n  <span class=\"hljs-attr\">create</span>: <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">create</span> (<span class=\"hljs-params\">_, vnode</span>) {\n    <span class=\"hljs-title function_\">registerRef</span>(vnode);\n  },\n  <span class=\"hljs-comment\">//&#x8ddf;&#x65b0;&#xff0c;&#x5220;&#x9664;&#x5c31;ref,&#x6dfb;&#x52a0;&#x65b0;ref</span>\n  <span class=\"hljs-attr\">update</span>: <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">update</span> (<span class=\"hljs-params\">oldVnode, vnode</span>) {\n    <span class=\"hljs-keyword\">if</span> (oldVnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">ref</span> !== vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">ref</span>) {\n      <span class=\"hljs-title function_\">registerRef</span>(oldVnode, <span class=\"hljs-literal\">true</span>);\n      <span class=\"hljs-title function_\">registerRef</span>(vnode);\n    }\n  },\n  <span class=\"hljs-comment\">//&#x6467;&#x6bc1;&#xff0c;&#x5220;&#x9664;ref</span>\n  <span class=\"hljs-attr\">destroy</span>: <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">destroy</span> (<span class=\"hljs-params\">vnode</span>) {\n    <span class=\"hljs-title function_\">registerRef</span>(vnode, <span class=\"hljs-literal\">true</span>);\n  }\n}\n<span class=\"hljs-comment\">// &#x6ce8;&#x518c;ref</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">registerRef</span> (<span class=\"hljs-params\">vnode, isRemoval</span>) {\n  <span class=\"hljs-keyword\">var</span> key = vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">ref</span>;\n  <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_\">isDef</span>(key)) { <span class=\"hljs-keyword\">return</span> }\n\n  <span class=\"hljs-keyword\">var</span> vm = vnode.<span class=\"hljs-property\">context</span>;\n  <span class=\"hljs-keyword\">var</span> ref = vnode.<span class=\"hljs-property\">componentInstance</span> || vnode.<span class=\"hljs-property\">elm</span>;\n  <span class=\"hljs-keyword\">var</span> refs = vm.<span class=\"hljs-property\">&#x24;refs</span>;\n  <span class=\"hljs-comment\">// &#x79fb;&#x9664;</span>\n  <span class=\"hljs-keyword\">if</span> (isRemoval) {\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(refs[key])) {\n      <span class=\"hljs-title function_\">remove</span>(refs[key], ref);\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (refs[key] === ref) {\n      refs[key] = <span class=\"hljs-literal\">undefined</span>;\n    }\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-comment\">// &#x5728;v-for&#x91cc;&#x4f7f;&#x7528;&#xff0c;refs[key]&#x53d8;&#x6210;&#x6570;&#x7ec4;&#x7684;&#x65b9;&#x5f0f;</span>\n    <span class=\"hljs-keyword\">if</span> (vnode.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">refInFor</span>) {\n      <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(refs[key])) {\n        refs[key] = [ref];\n      } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (refs[key].<span class=\"hljs-title function_\">indexOf</span>(ref) &lt; <span class=\"hljs-number\">0</span>) {\n        <span class=\"hljs-comment\">// &#x24;flow-disable-line</span>\n        refs[key].<span class=\"hljs-title function_\">push</span>(ref);\n      }\n    } <span class=\"hljs-keyword\">else</span> {\n      refs[key] = ref;\n    }\n  }\n}\n\n<span class=\"hljs-comment\">/**\n * Virtual DOM patching algorithm based on Snabbdom by\n * Simon Friis Vindum (<span class=\"hljs-doctag\">@paldepind</span>)\n * Licensed under the MIT License\n * https://github.com/paldepind/snabbdom/blob/master/LICENSE\n *\n * modified by Evan You (<span class=\"hljs-doctag\">@yyx</span>990803)\n *\n * Not type-checking this because this file is perf-critical and the cost\n * of making flow understand it is not worth it.\n */</span>\n\n<span class=\"hljs-keyword\">var</span> emptyNode = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">VNode</span>(<span class=\"hljs-string\">&apos;&apos;</span>, {}, []);\n<span class=\"hljs-keyword\">var</span> hooks = [<span class=\"hljs-string\">&apos;create&apos;</span>, <span class=\"hljs-string\">&apos;activate&apos;</span>, <span class=\"hljs-string\">&apos;update&apos;</span>, <span class=\"hljs-string\">&apos;remove&apos;</span>, <span class=\"hljs-string\">&apos;destroy&apos;</span>];\n<span class=\"hljs-comment\">// vnode&#x662f;&#x5426;&#x76f8;&#x540c;&#xff0c;&#x5305;&#x62ec;key,tag,isComponent,data&#x6216;&#x8005;&#x5f02;&#x6b65;&#x7ec4;&#x4ef6;&#x76f8;&#x540c;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">sameVnode</span> (<span class=\"hljs-params\">a, b</span>) {\n  <span class=\"hljs-keyword\">return</span> (\n    a.<span class=\"hljs-property\">key</span> === b.<span class=\"hljs-property\">key</span> &amp;&amp; (\n      (\n        a.<span class=\"hljs-property\">tag</span> === b.<span class=\"hljs-property\">tag</span> &amp;&amp;\n        a.<span class=\"hljs-property\">isComment</span> === b.<span class=\"hljs-property\">isComment</span> &amp;&amp;\n        <span class=\"hljs-title function_\">isDef</span>(a.<span class=\"hljs-property\">data</span>) === <span class=\"hljs-title function_\">isDef</span>(b.<span class=\"hljs-property\">data</span>) &amp;&amp;\n        <span class=\"hljs-title function_\">sameInputType</span>(a, b)\n      ) || (\n        <span class=\"hljs-title function_\">isTrue</span>(a.<span class=\"hljs-property\">isAsyncPlaceholder</span>) &amp;&amp;\n        a.<span class=\"hljs-property\">asyncFactory</span> === b.<span class=\"hljs-property\">asyncFactory</span> &amp;&amp;\n        <span class=\"hljs-title function_\">isUndef</span>(b.<span class=\"hljs-property\">asyncFactory</span>.<span class=\"hljs-property\">error</span>)\n      )\n    )\n  )\n}\n<span class=\"hljs-comment\">// &#x5224;&#x65ad;&#x662f;&#x8f93;&#x5165;&#x6846;&#x7684;type&#x7c7b;&#x578b;&#x662f;&#x5426;&#x76f8;&#x540c;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">sameInputType</span> (<span class=\"hljs-params\">a, b</span>) {\n  <span class=\"hljs-keyword\">if</span> (a.<span class=\"hljs-property\">tag</span> !== <span class=\"hljs-string\">&apos;input&apos;</span>) { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span> }\n  <span class=\"hljs-keyword\">var</span> i;\n  <span class=\"hljs-keyword\">var</span> typeA = <span class=\"hljs-title function_\">isDef</span>(i = a.<span class=\"hljs-property\">data</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">attrs</span>) &amp;&amp; i.<span class=\"hljs-property\">type</span>;\n  <span class=\"hljs-keyword\">var</span> typeB = <span class=\"hljs-title function_\">isDef</span>(i = b.<span class=\"hljs-property\">data</span>) &amp;&amp; <span class=\"hljs-title function_\">isDef</span>(i = i.<span class=\"hljs-property\">attrs</span>) &amp;&amp; i.<span class=\"hljs-property\">type</span>;\n  <span class=\"hljs-keyword\">return</span> typeA === typeB || <span class=\"hljs-title function_\">isTextInputType</span>(typeA) &amp;&amp; <span class=\"hljs-title function_\">isTextInputType</span>(typeB)\n}\n<span class=\"hljs-comment\">// &#x6570;&#x7ec4;&#x8303;&#x56f4;&#x5185;&#x7684;&#x5143;&#x7d20;key&#x96c6;&#x5408;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createKeyToOldIdx</span> (<span class=\"hljs-params\">children, beginIdx, endIdx</span>) {\n  <span class=\"hljs-keyword\">var</span> i, key;\n  <span class=\"hljs-keyword\">var</span> map = {};\n  <span class=\"hljs-keyword\">for</span> (i = beginIdx; i &lt;= endIdx; ++i) {\n    key = children[i].<span class=\"hljs-property\">key</span>;\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(key)) { map[key] = i; }\n  }\n  <span class=\"hljs-keyword\">return</span> map\n}\n<span class=\"hljs-comment\">// &#x5c06;&#x7ec4;&#x4ef6;&#x96c6;&#x5408;&#x5185;&#x7684;&#x5404;&#x4e2a;&#x751f;&#x547d;&#x5468;&#x671f;&#x7684;&#x65b9;&#x6cd5;&#x751f;&#x6210;&#x5d4c;&#x5957;&#x96c6;&#x5408;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createPatchFunction</span> (<span class=\"hljs-params\">backend</span>) {\n  <span class=\"hljs-keyword\">var</span> i, j;\n  <span class=\"hljs-keyword\">var</span> cbs = {};\n\n  <span class=\"hljs-keyword\">var</span> modules = backend.<span class=\"hljs-property\">modules</span>;\n  <span class=\"hljs-keyword\">var</span> nodeOps = backend.<span class=\"hljs-property\">nodeOps</span>;\n\n  <span class=\"hljs-keyword\">for</span> (i = <span class=\"hljs-number\">0</span>; i &lt; hooks.<span class=\"hljs-property\">length</span>; ++i) {\n    cbs[hooks[i]] = [];\n    <span class=\"hljs-keyword\">for</span> (j = <span class=\"hljs-number\">0</span>; j &lt; modules.<span class=\"hljs-property\">length</span>; ++j) {\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(modules[j][hooks[i]])) {\n        cbs[hooks[i]].<span class=\"hljs-title function_\">push</span>(modules[j][hooks[i]]);\n      }\n    }\n  }\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">emptyNodeAt</span> (<span class=\"hljs-params\">elm</span>) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">VNode</span>(nodeOps.<span class=\"hljs-title function_\">tagName</span>(elm).<span class=\"hljs-title function_\">toLowerCase</span>(), {}, [], <span class=\"hljs-literal\">undefined</span>, elm)\n  }\n  <span class=\"hljs-comment\">// &#x79fb;&#x9664;&#x76d1;&#x542c;</span>\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createRmCb</span> (<span class=\"hljs-params\">childElm, listeners</span>) {\n    <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">remove</span> (<span class=\"hljs-params\"></span>) {\n      <span class=\"hljs-keyword\">if</span> (--remove.<span class=\"hljs-property\">listeners</span> === <span class=\"hljs-number\">0</span>) {\n        <span class=\"hljs-title function_\">removeNode</span>(childElm);\n      }\n    }\n    remove.<span class=\"hljs-property\">listeners</span> = listeners;\n    <span class=\"hljs-keyword\">return</span> remove\n  }\n  <span class=\"hljs-comment\">// &#x79fb;&#x9664;&#x5143;&#x7d20;</span>\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">removeNode</span> (<span class=\"hljs-params\">el</span>) {\n    <span class=\"hljs-keyword\">var</span> parent = nodeOps.<span class=\"hljs-title function_\">parentNode</span>(el);\n    <span class=\"hljs-comment\">// element may have already been removed due to v-html / v-text</span>\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isDef</span>(parent)) {\n      nodeOps.<span class=\"hljs-title function_\">removeChild</span>(parent, el);\n    }\n  }\n  <span class=\"hljs-comment\">// &#x68c0;&#x67e5;&#x662f;&#x5426;&#x662f;&#x672a;&#x77e5;&#x6807;&#x7b7e;</span>\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">isUnknownElement&#x24;&#x24;1</span> (<span class=\"hljs-params\">vnode, inVPre</span>) {\n    <span class=\"hljs-keyword\">return</span> (\n      !inVPre &amp;&amp;\n      !vnode.<span class=\"hljs-property\">ns</span> &amp;&amp;\n      !(\n        config.<span class=\"hljs-property\">ignoredElements</span>.<span class=\"hljs-property\">length</span> &amp;&amp;\n        config.<span class=\"hljs-property\">ignoredElements</span>.<span class=\"hljs-title function_\">some</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">ignore</span>) {\n          <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">isRegExp</span>(ignore)\n            ? ignore.<span class=\"hljs-title function_\">test</span>(vnode.<span class=\"hljs-property\">tag</span>)\n            : ignore === vnode.<span class=\"hljs-property\">tag</span>\n        })\n      ) &amp;&amp;\n      config.<span class=\"hljs-title function_\">isUnknownElement</span>(vnode.<span class=\"hljs-property\">tag</span>)\n    )\n  }\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"6,1106"}}],"payload":{"tag":"h3","lines":"0,1"}},{})</script>
</body>
</html>
