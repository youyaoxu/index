<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x6d41;&#x7a0b;&#x8bbe;&#x8ba1;&#x5668;","children":[{"content":"&#x6587;&#x4ef6;&#x7ed3;&#x6784;","children":[{"content":"designer","children":[{"content":"plugins","children":[{"content":"content-pad","children":[{"content":"contentPadProvider.js","children":[{"content":"ContextPadProvider: &#x6784;&#x9020;&#x51fd;&#x6570;","children":[],"payload":{"tag":"li","lines":"7,8"}},{"content":"&#x24;inject","children":[],"payload":{"tag":"li","lines":"8,9"}},{"content":"getContextPadEntries","children":[],"payload":{"tag":"li","lines":"9,10"}},{"content":"appendAction:","children":[],"payload":{"tag":"li","lines":"10,11"}},{"content":"isEventType: &#x5e2e;&#x52a9;&#x65b9;&#x6cd5;","children":[],"payload":{"tag":"li","lines":"11,12"}}],"payload":{"tag":"li","lines":"6,12"}},{"content":"index.js","children":[],"payload":{"tag":"li","lines":"12,13"}}],"payload":{"tag":"li","lines":"5,13"}},{"content":"descriptor","children":[{"content":"activitiDescriptor.json","children":[],"payload":{"tag":"li","lines":"14,15"}},{"content":"camundaDescriptor.json","children":[],"payload":{"tag":"li","lines":"15,16"}},{"content":"flowableDescriptor.json","children":[],"payload":{"tag":"li","lines":"16,17"}}],"payload":{"tag":"li","lines":"13,17"}},{"content":"extension-moddle","children":[{"content":"activiti","children":[{"content":"activitiExtension.js","children":[],"payload":{"tag":"li","lines":"19,20"}},{"content":"index.js","children":[],"payload":{"tag":"li","lines":"20,21"}}],"payload":{"tag":"li","lines":"18,21"}},{"content":"camunda","children":[{"content":"extension.js","children":[],"payload":{"tag":"li","lines":"22,23"}},{"content":"index.js","children":[],"payload":{"tag":"li","lines":"23,24"}}],"payload":{"tag":"li","lines":"21,24"}},{"content":"flowable","children":[{"content":"flowableExtension.js","children":[{"content":"FlowableModdleExtension","children":[],"payload":{"tag":"li","lines":"26,27"}}],"payload":{"tag":"li","lines":"25,27"}},{"content":"index.js","children":[],"payload":{"tag":"li","lines":"27,28"}}],"payload":{"tag":"li","lines":"24,28"}}],"payload":{"tag":"li","lines":"17,28"}},{"content":"palette","children":[{"content":"index.js","children":[],"payload":{"tag":"li","lines":"29,30"}},{"content":"paletteProvider.js","children":[{"content":"PaletteProvider","children":[],"payload":{"tag":"li","lines":"31,32"}}],"payload":{"tag":"li","lines":"30,32"}}],"payload":{"tag":"li","lines":"28,32"}},{"content":"translate","children":[{"content":"customTranslate.js","children":[],"payload":{"tag":"li","lines":"33,34"}},{"content":"zh.js","children":[],"payload":{"tag":"li","lines":"34,35"}},{"content":"defaultEmpty.js","children":[],"payload":{"tag":"li","lines":"35,36"}}],"payload":{"tag":"li","lines":"32,36"}}],"payload":{"tag":"li","lines":"4,36"}},{"content":"index.js","children":[],"payload":{"tag":"li","lines":"36,37"}},{"content":"ProcessDesigner.vue","children":[{"content":"&#x89c6;&#x56fe; header","children":[],"payload":{"tag":"li","lines":"38,39"}},{"content":"&#x89c6;&#x56fe;","children":[],"payload":{"tag":"li","lines":"39,40"}}],"payload":{"tag":"li","lines":"37,40"}}],"payload":{"tag":"li","lines":"3,40"}},{"content":"highlight","children":[{"content":"index.js","children":[],"payload":{"tag":"li","lines":"41,42"}}],"payload":{"tag":"li","lines":"40,42"}},{"content":"penal","children":[{"content":"base","children":[{"content":"ElementBaseInfo.vue: &#x5143;&#x7d20;&#x57fa;&#x672c;&#x4fe1;&#x606f;","children":[],"payload":{"tag":"li","lines":"44,45"}}],"payload":{"tag":"li","lines":"43,45"}},{"content":"flow-condition","children":[{"content":"FlowCondition.vue: &#x6d41;&#x7a0b;&#x6761;&#x4ef6;","children":[],"payload":{"tag":"li","lines":"46,47"}}],"payload":{"tag":"li","lines":"45,47"}},{"content":"form","children":[{"content":"ElementForm.vue: &#x5143;&#x7d20;&#x8868;&#x5355;","children":[],"payload":{"tag":"li","lines":"48,49"}}],"payload":{"tag":"li","lines":"47,49"}},{"content":"listeners","children":[{"content":"ElementListeners.vue: &#x5143;&#x7d20;&#x76d1;&#x542c;&#x5668;","children":[],"payload":{"tag":"li","lines":"50,51"}},{"content":"template.js:","children":[],"payload":{"tag":"li","lines":"51,52"}},{"content":"UserTaskListeners.vue: &#x7528;&#x6237;&#x4efb;&#x52a1;&#x76d1;&#x542c;&#x5668;","children":[],"payload":{"tag":"li","lines":"52,53"}},{"content":"utilSelf.vue","children":[{"content":"initListenerForm: &#x521d;&#x59cb;&#x5316;&#x8868;&#x5355;&#x6570;&#x636e;","children":[],"payload":{"tag":"li","lines":"54,55"}},{"content":"initListenerType","children":[],"payload":{"tag":"li","lines":"55,56"}},{"content":"listenerType","children":[],"payload":{"tag":"li","lines":"56,57"}},{"content":"eventType","children":[],"payload":{"tag":"li","lines":"57,58"}},{"content":"fieldType","children":[],"payload":{"tag":"li","lines":"58,59"}}],"payload":{"tag":"li","lines":"53,59"}}],"payload":{"tag":"li","lines":"49,59"}},{"content":"multi-instance","children":[{"content":"ElementMultiInstance.vue: &#x591a;&#x5b9e;&#x4f8b;","children":[],"payload":{"tag":"li","lines":"60,61"}}],"payload":{"tag":"li","lines":"59,61"}},{"content":"other","children":[{"content":"ElementOtherConfig.vue: &#x5176;&#x4ed6;","children":[],"payload":{"tag":"li","lines":"62,63"}}],"payload":{"tag":"li","lines":"61,63"}},{"content":"properties","children":[{"content":"ElementProperties.vue: &#x5143;&#x7d20;&#x5c5e;&#x6027;","children":[],"payload":{"tag":"li","lines":"64,65"}}],"payload":{"tag":"li","lines":"63,65"}},{"content":"signal-message","children":[{"content":"SignalAndMessage.vue: &#x4fe1;&#x53f7;&#x6d88;&#x606f;","children":[],"payload":{"tag":"li","lines":"66,67"}}],"payload":{"tag":"li","lines":"65,67"}},{"content":"structure","children":[{"content":"elementStructure.vue: &#x5143;&#x7d20;&#x7ed3;&#x6784;","children":[],"payload":{"tag":"li","lines":"68,69"}}],"payload":{"tag":"li","lines":"67,69"}},{"content":"task","children":[{"content":"task-components","children":[{"content":"ReceiveTask.vue: &#x63a5;&#x6536;&#x4efb;&#x52a1;","children":[],"payload":{"tag":"li","lines":"71,72"}},{"content":"ScriptTask.vue: &#x811a;&#x672c;&#x4efb;&#x52a1;","children":[],"payload":{"tag":"li","lines":"72,73"}},{"content":"ServiceTask.vue: &#x670d;&#x52a1;&#x4efb;&#x52a1;","children":[],"payload":{"tag":"li","lines":"73,74"}},{"content":"UserTask.vue: &#x7528;&#x6237;&#x4efb;&#x52a1;","children":[],"payload":{"tag":"li","lines":"74,75"}}],"payload":{"tag":"li","lines":"70,75"}},{"content":"ElementTask.vue: &#x5143;&#x7d20;&#x4efb;&#x52a1;","children":[],"payload":{"tag":"li","lines":"75,76"}}],"payload":{"tag":"li","lines":"69,76"}},{"content":"index.js","children":[],"payload":{"tag":"li","lines":"76,77"}},{"content":"PropertiesPanel.vue","children":[{"content":"&#x89c6;&#x56fe;","children":[],"payload":{"tag":"li","lines":"78,79"}}],"payload":{"tag":"li","lines":"77,79"}}],"payload":{"tag":"li","lines":"42,79"}},{"content":"theme","children":[{"content":"flow-element-variables.css","children":[],"payload":{"tag":"li","lines":"80,81"}},{"content":"index.css","children":[],"payload":{"tag":"li","lines":"81,82"}},{"content":"process-designer.css","children":[],"payload":{"tag":"li","lines":"82,83"}},{"content":"process-panel.css","children":[],"payload":{"tag":"li","lines":"83,84"}}],"payload":{"tag":"li","lines":"79,84"}},{"content":"common","children":[{"content":"parseTime: &#x901a;&#x7528;js&#x65b9;&#x6cd5;&#x5c01;&#x88c5;&#x5904;&#x7406;","children":[],"payload":{"tag":"li","lines":"85,86"}},{"content":"resetForm: &#x8868;&#x5355;&#x91cd;&#x7f6e;","children":[],"payload":{"tag":"li","lines":"86,87"}},{"content":"addDateRange: &#x6dfb;&#x52a0;&#x65e5;&#x671f;&#x8303;&#x56f4;","children":[],"payload":{"tag":"li","lines":"87,88"}},{"content":"addDateRange1","children":[],"payload":{"tag":"li","lines":"88,89"}},{"content":"newAddDateRange","children":[],"payload":{"tag":"li","lines":"89,90"}},{"content":"selectDictLabel: &#x56de;&#x663e;&#x6570;&#x636e;&#x5b57;&#x5178;","children":[],"payload":{"tag":"li","lines":"90,91"}},{"content":"selectDictLabels: &#x56de;&#x663e;&#x6570;&#x636e;&#x5b57;&#x5178;&#xff08;&#x5b57;&#x7b26;&#x4e32;&#x3001;&#x6570;&#x7ec4;&#xff09;","children":[],"payload":{"tag":"li","lines":"91,92"}},{"content":"sprintf: &#x5b57;&#x7b26;&#x4e32;&#x683c;&#x5f0f;&#x5316;(%s )","children":[],"payload":{"tag":"li","lines":"92,93"}},{"content":"parseStrToEmpty: &#x8f6c;&#x6362;&#x5b57;&#x7b26;&#x4e32;&#xff0c;undefined,null&#x7b49;&#x8f6c;&#x5316;&#x4e3a;&quot;&quot;","children":[],"payload":{"tag":"li","lines":"93,94"}},{"content":"handleTree: &#x6784;&#x9020;&#x6811;&#x578b;&#x7ed3;&#x6784;&#x6570;&#x636e;","children":[],"payload":{"tag":"li","lines":"94,95"}},{"content":"tansParams: &#x53c2;&#x6570;&#x5904;&#x7406;","children":[],"payload":{"tag":"li","lines":"95,96"}},{"content":"blobValidate: &#x9a8c;&#x8bc1;&#x662f;&#x5426;&#x4e3a;blob&#x683c;&#x5f0f;","children":[],"payload":{"tag":"li","lines":"96,97"}}],"payload":{"tag":"li","lines":"84,97"}},{"content":"index","children":[],"payload":{"tag":"li","lines":"97,98"}},{"content":"utils","children":[{"content":"createListenerObject: &#x521b;&#x5efa;&#x76d1;&#x542c;&#x5668;&#x5b9e;&#x4f8b;","children":[],"payload":{"tag":"li","lines":"99,100"}},{"content":"createFieldObject: &#x521b;&#x5efa; &#x76d1;&#x542c;&#x5668;&#x7684;&#x6ce8;&#x5165;&#x5b57;&#x6bb5; &#x5b9e;&#x4f8b;","children":[],"payload":{"tag":"li","lines":"100,101"}},{"content":"createScriptObject: &#x521b;&#x5efa;&#x811a;&#x672c;&#x5b9e;&#x4f8b;","children":[],"payload":{"tag":"li","lines":"101,102"}},{"content":"updateElementExtensions: &#x66f4;&#x65b0;&#x5143;&#x7d20;&#x6269;&#x5c55;&#x5c5e;&#x6027;","children":[],"payload":{"tag":"li","lines":"102,103"}},{"content":"uuid","children":[],"payload":{"tag":"li","lines":"103,105"}}],"payload":{"tag":"li","lines":"98,105"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"&#x4ee3;&#x7801;&#x89e3;&#x6790;","children":[{"content":"contentPadProvider.js","children":[{"content":"<pre data-lines=\"109,203\"><code data-lines=\"109,203\">&#x4ee5;&#x4e0b;&#x662f;&#x5bf9; <span class=\"hljs-code\">`contentPadProvider.js`</span> &#x6587;&#x4ef6;&#x4e2d;&#x4ee3;&#x7801;&#x7684;&#x89e3;&#x6790;&#xff0c;&#x5206;&#x6a21;&#x5757;&#x8fdb;&#x884c;&#x8bf4;&#x660e;&#xff1a;\n\n---\n\n<span class=\"hljs-section\">### 1. <span class=\"hljs-strong\">**&#x6587;&#x4ef6;&#x6982;&#x8ff0;**</span></span>\n&#x8be5;&#x6587;&#x4ef6;&#x5b9a;&#x4e49;&#x4e86;&#x4e00;&#x4e2a;&#x540d;&#x4e3a; <span class=\"hljs-code\">`ContextPadProvider`</span> &#x7684;&#x7c7b;&#xff0c;&#x7528;&#x4e8e;&#x4e3a; BPMN 2.0 &#x5143;&#x7d20;&#x63d0;&#x4f9b;&#x4e0a;&#x4e0b;&#x6587;&#x83dc;&#x5355;&#xff08;context pad&#xff09;&#x3002;&#x5b83;&#x901a;&#x8fc7;&#x6ce8;&#x5165;&#x4f9d;&#x8d56;&#x9879;&#x548c;&#x4e8b;&#x4ef6;&#x76d1;&#x542c;&#x5668;&#xff0c;&#x52a8;&#x6001;&#x751f;&#x6210;&#x4e0e;&#x7279;&#x5b9a;&#x5143;&#x7d20;&#x76f8;&#x5173;&#x7684;&#x64cd;&#x4f5c;&#x6309;&#x94ae;&#xff08;&#x5982;&#x6dfb;&#x52a0;&#x3001;&#x5220;&#x9664;&#x3001;&#x8fde;&#x63a5;&#x7b49;&#xff09;&#x3002;\n\n---\n\n<span class=\"hljs-section\">### 2. <span class=\"hljs-strong\">**&#x4f9d;&#x8d56;&#x6ce8;&#x5165;**</span></span>\n&#x5728;&#x6784;&#x9020;&#x51fd;&#x6570;&#x4e2d;&#xff0c;<span class=\"hljs-code\">`ContextPadProvider`</span> &#x63a5;&#x6536;&#x591a;&#x4e2a;&#x4f9d;&#x8d56;&#x9879;&#xff0c;&#x8fd9;&#x4e9b;&#x4f9d;&#x8d56;&#x9879;&#x6765;&#x81ea; BPMN &#x7f16;&#x8f91;&#x5668;&#x7684;&#x6838;&#x5fc3;&#x5e93;&#x548c;&#x5176;&#x4ed6;&#x5de5;&#x5177;&#x5e93;&#xff1a;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**&#x6838;&#x5fc3;&#x5e93;**</span>&#xff1a;<span class=\"hljs-code\">`bpmn-js`</span> &#x548c; <span class=\"hljs-code\">`diagram-js`</span> &#x63d0;&#x4f9b;&#x7684;&#x529f;&#x80fd;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**&#x5de5;&#x5177;&#x5e93;**</span>&#xff1a;&#x5982; <span class=\"hljs-code\">`min-dash`</span> &#x7528;&#x4e8e;&#x5bf9;&#x8c61;&#x64cd;&#x4f5c;&#xff0c;<span class=\"hljs-code\">`is`</span> &#x7528;&#x4e8e;&#x7c7b;&#x578b;&#x5224;&#x65ad;&#x7b49;&#x3002;\n\n&#x4f9d;&#x8d56;&#x9879;&#x5305;&#x62ec;&#xff1a;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`config`</span>: &#x914d;&#x7f6e;&#x9009;&#x9879;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`injector`</span>: &#x4f9d;&#x8d56;&#x6ce8;&#x5165;&#x5668;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`eventBus`</span>: &#x4e8b;&#x4ef6;&#x603b;&#x7ebf;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`contextPad`</span>: &#x4e0a;&#x4e0b;&#x6587;&#x83dc;&#x5355;&#x7ba1;&#x7406;&#x5668;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`modeling`</span>: &#x6a21;&#x578b;&#x64cd;&#x4f5c;&#x5de5;&#x5177;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`elementFactory`</span>: &#x5143;&#x7d20;&#x521b;&#x5efa;&#x5de5;&#x5177;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`connect`</span>: &#x8fde;&#x63a5;&#x64cd;&#x4f5c;&#x5de5;&#x5177;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`create`</span>: &#x521b;&#x5efa;&#x64cd;&#x4f5c;&#x5de5;&#x5177;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`popupMenu`</span>: &#x5f39;&#x51fa;&#x83dc;&#x5355;&#x5de5;&#x5177;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`canvas`</span>: &#x753b;&#x5e03;&#x7ba1;&#x7406;&#x5de5;&#x5177;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`rules`</span>: &#x89c4;&#x5219;&#x68c0;&#x67e5;&#x5de5;&#x5177;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`translate`</span>: &#x56fd;&#x9645;&#x5316;&#x7ffb;&#x8bd1;&#x5de5;&#x5177;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-code\">`elementRegistry`</span>: &#x5143;&#x7d20;&#x6ce8;&#x518c;&#x8868;&#x3002;\n\n---\n\n<span class=\"hljs-section\">### 3. <span class=\"hljs-strong\">**&#x4e8b;&#x4ef6;&#x76d1;&#x542c;**</span></span>\n&#x5728;&#x6784;&#x9020;&#x51fd;&#x6570;&#x4e2d;&#xff0c;&#x76d1;&#x542c;&#x4e86; <span class=\"hljs-code\">`create.end`</span> &#x4e8b;&#x4ef6;&#xff0c;&#x5f53;&#x7528;&#x6237;&#x5b8c;&#x6210;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x65b0;&#x5143;&#x7d20;&#x65f6;&#xff1a;\n<span class=\"hljs-bullet\">-</span> &#x5982;&#x679c;&#x6309;&#x4e0b;&#x4e3b;&#x952e;&#xff08;&#x901a;&#x5e38;&#x662f; Ctrl &#x6216; Cmd&#xff09;&#x5e76;&#x4e14;&#x4e0a;&#x4e0b;&#x6587;&#x83dc;&#x5355;&#x672a;&#x6253;&#x5f00;&#xff0c;&#x5219;&#x6267;&#x884c;&#x66ff;&#x6362;&#x64cd;&#x4f5c;&#xff08;<span class=\"hljs-code\">`replace`</span>&#xff09;&#x3002;\n\n---\n\n<span class=\"hljs-section\">### 4. <span class=\"hljs-strong\">**&#x6838;&#x5fc3;&#x65b9;&#x6cd5;&#xff1a;`getContextPadEntries`**</span></span>\n&#x8be5;&#x65b9;&#x6cd5;&#x6839;&#x636e;&#x4f20;&#x5165;&#x7684; <span class=\"hljs-code\">`element`</span> &#x52a8;&#x6001;&#x751f;&#x6210;&#x4e0a;&#x4e0b;&#x6587;&#x83dc;&#x5355;&#x4e2d;&#x7684;&#x64cd;&#x4f5c;&#x9879;&#x3002;&#x4ee5;&#x4e0b;&#x662f;&#x5177;&#x4f53;&#x903b;&#x8f91;&#x5206;&#x89e3;&#xff1a;\n\n<span class=\"hljs-section\">#### 4.1 <span class=\"hljs-strong\">**&#x57fa;&#x7840;&#x8bbe;&#x7f6e;**</span></span>\n<span class=\"hljs-bullet\">-</span> &#x5982;&#x679c;&#x5143;&#x7d20;&#x7c7b;&#x578b;&#x4e3a; <span class=\"hljs-code\">`label`</span>&#xff0c;&#x76f4;&#x63a5;&#x8fd4;&#x56de;&#x7a7a;&#x64cd;&#x4f5c;&#x9879;&#x3002;\n<span class=\"hljs-bullet\">-</span> &#x83b7;&#x53d6;&#x5143;&#x7d20;&#x7684;&#x4e1a;&#x52a1;&#x5bf9;&#x8c61;&#xff08;<span class=\"hljs-code\">`businessObject`</span>&#xff09;&#x3002;\n\n<span class=\"hljs-section\">#### 4.2 <span class=\"hljs-strong\">**&#x901a;&#x7528;&#x64cd;&#x4f5c;**</span></span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**&#x8fde;&#x63a5;&#x64cd;&#x4f5c;**</span>&#xff1a;&#x5141;&#x8bb8;&#x7528;&#x6237;&#x901a;&#x8fc7;&#x62d6;&#x62fd;&#x6216;&#x70b9;&#x51fb;&#x8fde;&#x63a5;&#x4e24;&#x4e2a;&#x5143;&#x7d20;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**&#x5220;&#x9664;&#x64cd;&#x4f5c;**</span>&#xff1a;&#x5982;&#x679c;&#x89c4;&#x5219;&#x5141;&#x8bb8;&#x5220;&#x9664;&#x5f53;&#x524d;&#x5143;&#x7d20;&#xff0c;&#x5219;&#x6dfb;&#x52a0;&#x5220;&#x9664;&#x6309;&#x94ae;&#x3002;\n\n<span class=\"hljs-section\">#### 4.3 <span class=\"hljs-strong\">**&#x9488;&#x5bf9;&#x4e0d;&#x540c;&#x7c7b;&#x578b;&#x7684;&#x5143;&#x7d20;**</span></span>\n&#x6839;&#x636e;&#x5143;&#x7d20;&#x7684;&#x7c7b;&#x578b;&#xff08;&#x901a;&#x8fc7; <span class=\"hljs-code\">`is`</span> &#x548c; <span class=\"hljs-code\">`isAny`</span> &#x5224;&#x65ad;&#xff09;&#xff0c;&#x751f;&#x6210;&#x4e0d;&#x540c;&#x7684;&#x64cd;&#x4f5c;&#x9879;&#xff1a;\n\n<span class=\"hljs-section\">##### 4.3.1 <span class=\"hljs-strong\">**&#x6cf3;&#x9053;&#xff08;Lane&#xff09;&#x548c;&#x53c2;&#x4e0e;&#x8005;&#xff08;Participant&#xff09;**</span></span>\n<span class=\"hljs-bullet\">-</span> &#x5982;&#x679c;&#x662f;&#x6269;&#x5c55;&#x7684;&#x6cf3;&#x9053;&#x6216;&#x53c2;&#x4e0e;&#x8005;&#xff1a;\n<span class=\"hljs-bullet\">  -</span> &#x6dfb;&#x52a0;&#x201c;&#x5728;&#x4e0a;&#x65b9;&#x63d2;&#x5165;&#x6cf3;&#x9053;&#x201d;&#x548c;&#x201c;&#x5728;&#x4e0b;&#x65b9;&#x63d2;&#x5165;&#x6cf3;&#x9053;&#x201d;&#x7684;&#x64cd;&#x4f5c;&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5982;&#x679c;&#x9ad8;&#x5ea6;&#x8db3;&#x591f;&#xff0c;&#x8fd8;&#x53ef;&#x4ee5;&#x5206;&#x5272;&#x6cf3;&#x9053;&#x4e3a;&#x4e24;&#x4e2a;&#x6216;&#x4e09;&#x4e2a;&#x90e8;&#x5206;&#x3002;\n\n<span class=\"hljs-section\">##### 4.3.2 <span class=\"hljs-strong\">**&#x6d41;&#x8282;&#x70b9;&#xff08;FlowNode&#xff09;**</span></span>\n<span class=\"hljs-bullet\">-</span> &#x6839;&#x636e;&#x8282;&#x70b9;&#x7c7b;&#x578b;&#xff0c;&#x751f;&#x6210;&#x4e0d;&#x540c;&#x7684;&#x9644;&#x52a0;&#x64cd;&#x4f5c;&#xff1a;\n<span class=\"hljs-bullet\">  -</span> <span class=\"hljs-strong\">**&#x4e8b;&#x4ef6;&#x7f51;&#x5173;&#xff08;EventBasedGateway&#xff09;**</span>&#xff1a;&#x53ef;&#x4ee5;&#x9644;&#x52a0;&#x63a5;&#x6536;&#x4efb;&#x52a1;&#x3001;&#x6d88;&#x606f;&#x4e2d;&#x95f4;&#x4e8b;&#x4ef6;&#x3001;&#x5b9a;&#x65f6;&#x5668;&#x4e2d;&#x95f4;&#x4e8b;&#x4ef6;&#x7b49;&#x3002;\n<span class=\"hljs-bullet\">  -</span> <span class=\"hljs-strong\">**&#x8865;&#x507f;&#x4e8b;&#x4ef6;&#xff08;CompensateEventDefinition&#xff09;**</span>&#xff1a;&#x53ef;&#x4ee5;&#x9644;&#x52a0;&#x8865;&#x507f;&#x6d3b;&#x52a8;&#x3002;\n<span class=\"hljs-bullet\">  -</span> <span class=\"hljs-strong\">**&#x5176;&#x4ed6;&#x6d41;&#x8282;&#x70b9;**</span>&#xff1a;&#x53ef;&#x4ee5;&#x9644;&#x52a0;&#x7ed3;&#x675f;&#x4e8b;&#x4ef6;&#x3001;&#x7f51;&#x5173;&#x3001;&#x7528;&#x6237;&#x4efb;&#x52a1;&#x3001;&#x4e2d;&#x95f4;&#x4e8b;&#x4ef6;&#x7b49;&#x3002;\n\n<span class=\"hljs-section\">##### 4.3.3 <span class=\"hljs-strong\">**&#x6570;&#x636e;&#x5bf9;&#x8c61;&#xff08;DataObjectReference/DataStoreReference&#xff09;**</span></span>\n<span class=\"hljs-bullet\">-</span> &#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x5173;&#x8054;&#xff08;Association&#xff09;&#x6216;&#x5176;&#x4ed6;&#x65b9;&#x5f0f;&#x8fde;&#x63a5;&#x5230;&#x5176;&#x4ed6;&#x5143;&#x7d20;&#x3002;\n\n<span class=\"hljs-section\">##### 4.3.4 <span class=\"hljs-strong\">**&#x7ec4;&#xff08;Group&#xff09;**</span></span>\n<span class=\"hljs-bullet\">-</span> &#x53ef;&#x4ee5;&#x9644;&#x52a0;&#x6587;&#x672c;&#x6ce8;&#x91ca;&#x3002;\n\n<span class=\"hljs-section\">##### 4.3.5 <span class=\"hljs-strong\">**&#x66ff;&#x6362;&#x64cd;&#x4f5c;**</span></span>\n<span class=\"hljs-bullet\">-</span> &#x5982;&#x679c;&#x5f39;&#x51fa;&#x83dc;&#x5355;&#x4e2d;&#x6709;&#x201c;&#x66ff;&#x6362;&#x201d;&#x9009;&#x9879;&#xff0c;&#x5219;&#x6dfb;&#x52a0;&#x201c;&#x66f4;&#x6539;&#x7c7b;&#x578b;&#x201d;&#x6309;&#x94ae;&#x3002;\n\n---\n\n<span class=\"hljs-section\">### 5. <span class=\"hljs-strong\">**&#x8f85;&#x52a9;&#x65b9;&#x6cd5;**</span></span>\n<span class=\"hljs-section\">#### 5.1 <span class=\"hljs-strong\">**`getReplaceMenuPosition`**</span></span>\n&#x8ba1;&#x7b97;&#x66ff;&#x6362;&#x83dc;&#x5355;&#x7684;&#x663e;&#x793a;&#x4f4d;&#x7f6e;&#xff0c;&#x57fa;&#x4e8e;&#x4e0a;&#x4e0b;&#x6587;&#x83dc;&#x5355;&#x7684;&#x4f4d;&#x7f6e;&#x504f;&#x79fb;&#x4e00;&#x5b9a;&#x8ddd;&#x79bb;&#x3002;\n\n<span class=\"hljs-section\">#### 5.2 <span class=\"hljs-strong\">**`appendAction`**</span></span>\n&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x9644;&#x52a0;&#x64cd;&#x4f5c;&#x9879;&#xff0c;&#x652f;&#x6301;&#x62d6;&#x62fd;&#x548c;&#x70b9;&#x51fb;&#x4e24;&#x79cd;&#x89e6;&#x53d1;&#x65b9;&#x5f0f;&#x3002;\n\n<span class=\"hljs-section\">#### 5.3 <span class=\"hljs-strong\">**`splitLaneHandler`**</span></span>\n&#x5904;&#x7406;&#x6cf3;&#x9053;&#x5206;&#x5272;&#x64cd;&#x4f5c;&#xff0c;&#x5206;&#x5272;&#x540e;&#x5237;&#x65b0;&#x4e0a;&#x4e0b;&#x6587;&#x83dc;&#x5355;&#x4ee5;&#x79fb;&#x9664;&#x5206;&#x5272;&#x56fe;&#x6807;&#x3002;\n\n<span class=\"hljs-section\">#### 5.4 <span class=\"hljs-strong\">**`isEventType`**</span></span>\n&#x5224;&#x65ad;&#x67d0;&#x4e2a;&#x4e8b;&#x4ef6;&#x662f;&#x5426;&#x5c5e;&#x4e8e;&#x6307;&#x5b9a;&#x7c7b;&#x578b;&#x548c;&#x5b9a;&#x4e49;&#x3002;\n\n---\n\n<span class=\"hljs-section\">### 6. <span class=\"hljs-strong\">**&#x603b;&#x7ed3;**</span></span>\n&#x8be5;&#x6587;&#x4ef6;&#x7684;&#x6838;&#x5fc3;&#x529f;&#x80fd;&#x662f;&#x6839;&#x636e; BPMN &#x5143;&#x7d20;&#x7684;&#x7c7b;&#x578b;&#x52a8;&#x6001;&#x751f;&#x6210;&#x4e0a;&#x4e0b;&#x6587;&#x83dc;&#x5355;&#x4e2d;&#x7684;&#x64cd;&#x4f5c;&#x9879;&#x3002;&#x901a;&#x8fc7;&#x4f9d;&#x8d56;&#x6ce8;&#x5165;&#x548c;&#x4e8b;&#x4ef6;&#x76d1;&#x542c;&#x673a;&#x5236;&#xff0c;&#x786e;&#x4fdd;&#x4e86;&#x529f;&#x80fd;&#x7684;&#x7075;&#x6d3b;&#x6027;&#x548c;&#x53ef;&#x6269;&#x5c55;&#x6027;&#x3002;&#x6bcf;&#x4e2a;&#x64cd;&#x4f5c;&#x9879;&#x90fd;&#x7ecf;&#x8fc7;&#x89c4;&#x5219;&#x68c0;&#x67e5;&#xff0c;&#x786e;&#x4fdd;&#x53ea;&#x663e;&#x793a;&#x5408;&#x6cd5;&#x7684;&#x64cd;&#x4f5c;&#x3002;\n\n&#x5982;&#x679c;&#x4f60;&#x6709;&#x66f4;&#x5177;&#x4f53;&#x7684;&#x9700;&#x6c42;&#x6216;&#x95ee;&#x9898;&#xff0c;&#x8bf7;&#x8fdb;&#x4e00;&#x6b65;&#x8bf4;&#x660e;&#xff01;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"109,203"}}],"payload":{"tag":"h3","lines":"107,108"}},{"content":"flowableDescriptor.js","children":[{"content":"<pre data-lines=\"206,336\"><code data-lines=\"206,336\">&#x4ee5;&#x4e0b;&#x662f;&#x5bf9; <span class=\"hljs-code\">`flowableDescriptor.json`</span> &#x6587;&#x4ef6;&#x7684;&#x89e3;&#x6790;&#xff0c;&#x5206;&#x6a21;&#x5757;&#x8fdb;&#x884c;&#x8bf4;&#x660e;&#xff1a;\n\n---\n\n<span class=\"hljs-section\">### 1. <span class=\"hljs-strong\">**&#x6587;&#x4ef6;&#x6982;&#x8ff0;**</span></span>\n&#x8be5;&#x6587;&#x4ef6;&#x662f;&#x4e00;&#x4e2a; JSON &#x683c;&#x5f0f;&#x7684;&#x63cf;&#x8ff0;&#x7b26;&#xff0c;&#x5b9a;&#x4e49;&#x4e86; Flowable BPMN &#x6269;&#x5c55;&#x7684;&#x5143;&#x6a21;&#x578b;&#xff08;Meta Model&#xff09;&#x3002;&#x5b83;&#x8be6;&#x7ec6;&#x63cf;&#x8ff0;&#x4e86; Flowable &#x6269;&#x5c55;&#x4e2d;&#x652f;&#x6301;&#x7684;&#x5143;&#x7d20;&#x7c7b;&#x578b;&#x3001;&#x5c5e;&#x6027;&#x4ee5;&#x53ca;&#x5b83;&#x4eec;&#x4e4b;&#x95f4;&#x7684;&#x7ee7;&#x627f;&#x5173;&#x7cfb;&#x548c;&#x7ea6;&#x675f;&#x6761;&#x4ef6;&#x3002;\n\n---\n\n<span class=\"hljs-section\">### 2. <span class=\"hljs-strong\">**&#x6838;&#x5fc3;&#x7ed3;&#x6784;**</span></span>\n<span class=\"hljs-section\">#### 2.1 <span class=\"hljs-strong\">**&#x57fa;&#x672c;&#x4fe1;&#x606f;**</span></span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`name`**</span>: &#x63cf;&#x8ff0;&#x7b26;&#x7684;&#x540d;&#x79f0;&#xff0c;&#x8fd9;&#x91cc;&#x662f; &quot;Flowable&quot;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`uri`**</span>: &#x547d;&#x540d;&#x7a7a;&#x95f4; URI&#xff0c;&#x7528;&#x4e8e;&#x6807;&#x8bc6; Flowable &#x6269;&#x5c55;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`prefix`**</span>: &#x547d;&#x540d;&#x7a7a;&#x95f4;&#x524d;&#x7f00;&#xff0c;&#x8fd9;&#x91cc;&#x662f; &quot;flowable&quot;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`xml`**</span>: XML &#x914d;&#x7f6e;&#x9009;&#x9879;&#xff0c;&#x6307;&#x5b9a;&#x6807;&#x7b7e;&#x522b;&#x540d;&#x4e3a;&#x5c0f;&#x5199;&#x5f62;&#x5f0f;&#xff08;<span class=\"hljs-code\">`tagAlias: &quot;lowerCase&quot;`</span>&#xff09;&#x3002;\n\n<span class=\"hljs-section\">#### 2.2 <span class=\"hljs-strong\">**&#x5173;&#x8054;&#xff08;Associations&#xff09;**</span></span>\n&#x5f53;&#x524d;&#x6587;&#x4ef6;&#x4e2d;&#x6ca1;&#x6709;&#x5b9a;&#x4e49;&#x4efb;&#x4f55;&#x5173;&#x8054;&#xff08;<span class=\"hljs-code\">`associations`</span> &#x6570;&#x7ec4;&#x4e3a;&#x7a7a;&#xff09;&#x3002;\n\n<span class=\"hljs-section\">#### 2.3 <span class=\"hljs-strong\">**&#x7c7b;&#x578b;&#xff08;Types&#xff09;**</span></span>\n<span class=\"hljs-code\">`types`</span> &#x6570;&#x7ec4;&#x662f;&#x6587;&#x4ef6;&#x7684;&#x6838;&#x5fc3;&#x90e8;&#x5206;&#xff0c;&#x5b9a;&#x4e49;&#x4e86;&#x6240;&#x6709;&#x6269;&#x5c55;&#x7c7b;&#x578b;&#x53ca;&#x5176;&#x5c5e;&#x6027;&#x3002;&#x4ee5;&#x4e0b;&#x662f;&#x5177;&#x4f53;&#x89e3;&#x6790;&#xff1a;\n\n---\n\n<span class=\"hljs-section\">### 3. <span class=\"hljs-strong\">**&#x7c7b;&#x578b;&#x89e3;&#x6790;**</span></span>\n\n<span class=\"hljs-section\">#### 3.1 <span class=\"hljs-strong\">**&#x57fa;&#x7840;&#x7c7b;&#x578b;**</span></span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`InOutBinding`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x62bd;&#x8c61;&#x7c7b;&#xff0c;&#x7ee7;&#x627f;&#x81ea; <span class=\"hljs-code\">`Element`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5305;&#x542b;&#x591a;&#x4e2a;&#x5c5e;&#x6027;&#xff08;&#x5982; <span class=\"hljs-code\">`source`</span>, <span class=\"hljs-code\">`target`</span>, <span class=\"hljs-code\">`businessKey`</span> &#x7b49;&#xff09;&#xff0c;&#x7528;&#x4e8e;&#x7ed1;&#x5b9a;&#x8f93;&#x5165;&#x8f93;&#x51fa;&#x6570;&#x636e;&#x3002;\n  \n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`In` &#x548c; `Out`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x5206;&#x522b;&#x7ee7;&#x627f;&#x81ea; <span class=\"hljs-code\">`InOutBinding`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5141;&#x8bb8;&#x5728; <span class=\"hljs-code\">`bpmn:CallActivity`</span> &#x4e2d;&#x4f7f;&#x7528;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`AsyncCapable`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x62bd;&#x8c61;&#x7c7b;&#xff0c;&#x6269;&#x5c55;&#x4e86; <span class=\"hljs-code\">`bpmn:Activity`</span>, <span class=\"hljs-code\">`bpmn:Gateway`</span>, <span class=\"hljs-code\">`bpmn:Event`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5305;&#x542b;&#x5f02;&#x6b65;&#x76f8;&#x5173;&#x5c5e;&#x6027;&#xff08;&#x5982; <span class=\"hljs-code\">`async`</span>, <span class=\"hljs-code\">`asyncBefore`</span>, <span class=\"hljs-code\">`asyncAfter`</span> &#x7b49;&#xff09;&#x3002;\n\n---\n\n<span class=\"hljs-section\">#### 3.2 <span class=\"hljs-strong\">**&#x4e8b;&#x4ef6;&#x5b9a;&#x4e49;**</span></span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`SignalEventDefinition`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x62bd;&#x8c61;&#x7c7b;&#xff0c;&#x6269;&#x5c55;&#x4e86; <span class=\"hljs-code\">`bpmn:SignalEventDefinition`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5305;&#x542b; <span class=\"hljs-code\">`async`</span> &#x5c5e;&#x6027;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`ErrorEventDefinition`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x62bd;&#x8c61;&#x7c7b;&#xff0c;&#x6269;&#x5c55;&#x4e86; <span class=\"hljs-code\">`bpmn:ErrorEventDefinition`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5305;&#x542b; <span class=\"hljs-code\">`errorCodeVariable`</span> &#x548c; <span class=\"hljs-code\">`errorMessageVariable`</span> &#x5c5e;&#x6027;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`EscalationEventDefinition`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x62bd;&#x8c61;&#x7c7b;&#xff0c;&#x6269;&#x5c55;&#x4e86; <span class=\"hljs-code\">`bpmn:EscalationEventDefinition`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5305;&#x542b; <span class=\"hljs-code\">`escalationCodeVariable`</span> &#x5c5e;&#x6027;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`ConditionalEventDefinition`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x62bd;&#x8c61;&#x7c7b;&#xff0c;&#x6269;&#x5c55;&#x4e86; <span class=\"hljs-code\">`bpmn:ConditionalEventDefinition`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5305;&#x542b; <span class=\"hljs-code\">`variableName`</span> &#x548c; <span class=\"hljs-code\">`variableEvent`</span> &#x5c5e;&#x6027;&#x3002;\n\n---\n\n<span class=\"hljs-section\">#### 3.3 <span class=\"hljs-strong\">**&#x4efb;&#x52a1;&#x76f8;&#x5173;&#x7c7b;&#x578b;**</span></span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`FormSupported`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x62bd;&#x8c61;&#x7c7b;&#xff0c;&#x6269;&#x5c55;&#x4e86; <span class=\"hljs-code\">`bpmn:StartEvent`</span> &#x548c; <span class=\"hljs-code\">`bpmn:UserTask`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5305;&#x542b;&#x8868;&#x5355;&#x76f8;&#x5173;&#x5c5e;&#x6027;&#xff08;&#x5982; <span class=\"hljs-code\">`formHandlerClass`</span>, <span class=\"hljs-code\">`formKey`</span> &#x7b49;&#xff09;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`Assignable`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x6269;&#x5c55;&#x4e86; <span class=\"hljs-code\">`bpmn:UserTask`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5305;&#x542b;&#x4efb;&#x52a1;&#x5206;&#x914d;&#x76f8;&#x5173;&#x5c5e;&#x6027;&#xff08;&#x5982; <span class=\"hljs-code\">`assignee`</span>, <span class=\"hljs-code\">`candidateUsers`</span>, <span class=\"hljs-code\">`candidateGroups`</span> &#x7b49;&#xff09;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`ServiceTaskLike`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x62bd;&#x8c61;&#x7c7b;&#xff0c;&#x6269;&#x5c55;&#x4e86; <span class=\"hljs-code\">`bpmn:ServiceTask`</span>, <span class=\"hljs-code\">`bpmn:BusinessRuleTask`</span>, <span class=\"hljs-code\">`bpmn:SendTask`</span>, <span class=\"hljs-code\">`bpmn:MessageEventDefinition`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5305;&#x542b;&#x670d;&#x52a1;&#x4efb;&#x52a1;&#x76f8;&#x5173;&#x5c5e;&#x6027;&#xff08;&#x5982; <span class=\"hljs-code\">`expression`</span>, <span class=\"hljs-code\">`class`</span>, <span class=\"hljs-code\">`delegateExpression`</span> &#x7b49;&#xff09;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`DmnCapable`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x6269;&#x5c55;&#x4e86; <span class=\"hljs-code\">`bpmn:BusinessRuleTask`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5305;&#x542b; DMN &#x51b3;&#x7b56;&#x76f8;&#x5173;&#x5c5e;&#x6027;&#xff08;&#x5982; <span class=\"hljs-code\">`decisionRef`</span>, <span class=\"hljs-code\">`mapDecisionResult`</span> &#x7b49;&#xff09;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`ExternalCapable`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x6269;&#x5c55;&#x4e86; <span class=\"hljs-code\">`flowable:ServiceTaskLike`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5305;&#x542b;&#x5916;&#x90e8;&#x4efb;&#x52a1;&#x76f8;&#x5173;&#x5c5e;&#x6027;&#xff08;&#x5982; <span class=\"hljs-code\">`type`</span>, <span class=\"hljs-code\">`topic`</span> &#x7b49;&#xff09;&#x3002;\n\n---\n\n<span class=\"hljs-section\">#### 3.4 <span class=\"hljs-strong\">**&#x6d41;&#x7a0b;&#x76f8;&#x5173;&#x7c7b;&#x578b;**</span></span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`Process`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x62bd;&#x8c61;&#x7c7b;&#xff0c;&#x6269;&#x5c55;&#x4e86; <span class=\"hljs-code\">`bpmn:Process`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5305;&#x542b;&#x6d41;&#x7a0b;&#x76f8;&#x5173;&#x5c5e;&#x6027;&#xff08;&#x5982; <span class=\"hljs-code\">`candidateStarterGroups`</span>, <span class=\"hljs-code\">`candidateStarterUsers`</span>, <span class=\"hljs-code\">`processCategory`</span> &#x7b49;&#xff09;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`CallActivity`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x6269;&#x5c55;&#x4e86; <span class=\"hljs-code\">`bpmn:CallActivity`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5305;&#x542b;&#x8c03;&#x7528;&#x6d3b;&#x52a8;&#x76f8;&#x5173;&#x5c5e;&#x6027;&#xff08;&#x5982; <span class=\"hljs-code\">`calledElementBinding`</span>, <span class=\"hljs-code\">`calledElementVersion`</span> &#x7b49;&#xff09;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`TaskPriorized`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x6269;&#x5c55;&#x4e86; <span class=\"hljs-code\">`bpmn:Process`</span> &#x548c; <span class=\"hljs-code\">`flowable:ExternalCapable`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x5305;&#x542b;&#x4efb;&#x52a1;&#x4f18;&#x5148;&#x7ea7;&#x76f8;&#x5173;&#x5c5e;&#x6027;&#xff08;&#x5982; <span class=\"hljs-code\">`taskPriority`</span>&#xff09;&#x3002;\n\n---\n\n<span class=\"hljs-section\">#### 3.5 <span class=\"hljs-strong\">**&#x5176;&#x4ed6;&#x7c7b;&#x578b;**</span></span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`Properties` &#x548c; `Property`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x5b9a;&#x4e49;&#x4e86;&#x5c5e;&#x6027;&#x96c6;&#x5408;&#x53ca;&#x5176;&#x5b50;&#x5c5e;&#x6027;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`Connector` &#x548c; `InputOutput`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x5b9a;&#x4e49;&#x4e86;&#x8fde;&#x63a5;&#x5668;&#x53ca;&#x5176;&#x8f93;&#x5165;&#x8f93;&#x51fa;&#x53c2;&#x6570;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`ExecutionListener` &#x548c; `TaskListener`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x5b9a;&#x4e49;&#x4e86;&#x6267;&#x884c;&#x76d1;&#x542c;&#x5668;&#x548c;&#x4efb;&#x52a1;&#x76d1;&#x542c;&#x5668;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`FormProperty`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x5b9a;&#x4e49;&#x4e86;&#x8868;&#x5355;&#x5c5e;&#x6027;&#x53ca;&#x5176;&#x9a8c;&#x8bc1;&#x89c4;&#x5219;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`DeptPostList` &#x548c; `DeptPost`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x5b9a;&#x4e49;&#x4e86;&#x90e8;&#x95e8;&#x5c97;&#x4f4d;&#x5217;&#x8868;&#x53ca;&#x5176;&#x5b50;&#x9879;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`CustomCondition`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x5b9a;&#x4e49;&#x4e86;&#x81ea;&#x5b9a;&#x4e49;&#x6761;&#x4ef6;&#xff0c;&#x5141;&#x8bb8;&#x5728; <span class=\"hljs-code\">`bpmn:SequenceFlow`</span> &#x4e2d;&#x4f7f;&#x7528;&#x3002;\n\n---\n\n<span class=\"hljs-section\">### 4. <span class=\"hljs-strong\">**&#x679a;&#x4e3e;&#xff08;Enumerations&#xff09;**</span></span>\n&#x5f53;&#x524d;&#x6587;&#x4ef6;&#x4e2d;&#x6ca1;&#x6709;&#x5b9a;&#x4e49;&#x4efb;&#x4f55;&#x679a;&#x4e3e;&#xff08;<span class=\"hljs-code\">`emumerations`</span> &#x6570;&#x7ec4;&#x4e3a;&#x7a7a;&#xff09;&#x3002;\n\n---\n\n<span class=\"hljs-section\">### 5. <span class=\"hljs-strong\">**&#x603b;&#x7ed3;**</span></span>\n&#x8be5;&#x6587;&#x4ef6;&#x901a;&#x8fc7;&#x5b9a;&#x4e49;&#x6269;&#x5c55;&#x7c7b;&#x578b;&#x53ca;&#x5176;&#x5c5e;&#x6027;&#xff0c;&#x4e3a; Flowable BPMN &#x63d0;&#x4f9b;&#x4e86;&#x4e30;&#x5bcc;&#x7684;&#x529f;&#x80fd;&#x652f;&#x6301;&#x3002;&#x6bcf;&#x4e2a;&#x7c7b;&#x578b;&#x90fd;&#x660e;&#x786e;&#x6307;&#x5b9a;&#x4e86;&#x5176;&#x7ee7;&#x627f;&#x5173;&#x7cfb;&#x3001;&#x6269;&#x5c55;&#x7684; BPMN &#x7c7b;&#x578b;&#x4ee5;&#x53ca;&#x652f;&#x6301;&#x7684;&#x5c5e;&#x6027;&#x3002;&#x8fd9;&#x79cd;&#x8bbe;&#x8ba1;&#x4f7f;&#x5f97; Flowable &#x80fd;&#x591f;&#x7075;&#x6d3b;&#x5730;&#x6269;&#x5c55; BPMN &#x6807;&#x51c6;&#xff0c;&#x6ee1;&#x8db3;&#x590d;&#x6742;&#x4e1a;&#x52a1;&#x573a;&#x666f;&#x7684;&#x9700;&#x6c42;&#x3002;\n\n&#x5982;&#x679c;&#x4f60;&#x6709;&#x66f4;&#x5177;&#x4f53;&#x7684;&#x9700;&#x6c42;&#x6216;&#x95ee;&#x9898;&#xff0c;&#x8bf7;&#x8fdb;&#x4e00;&#x6b65;&#x8bf4;&#x660e;&#xff01;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"206,336"}}],"payload":{"tag":"h3","lines":"204,205"}},{"content":"flowableExtension.js","children":[{"content":"<pre data-lines=\"339,421\"><code data-lines=\"339,421\">&#x4ee5;&#x4e0b;&#x662f;&#x5bf9; <span class=\"hljs-code\">`flowableExtension.js`</span> &#x6587;&#x4ef6;&#x7684;&#x89e3;&#x6790;&#xff0c;&#x5206;&#x6a21;&#x5757;&#x8fdb;&#x884c;&#x8bf4;&#x660e;&#xff1a;\n\n---\n\n<span class=\"hljs-section\">### 1. <span class=\"hljs-strong\">**&#x6587;&#x4ef6;&#x6982;&#x8ff0;**</span></span>\n&#x8be5;&#x6587;&#x4ef6;&#x5b9a;&#x4e49;&#x4e86;&#x4e00;&#x4e2a;&#x540d;&#x4e3a; <span class=\"hljs-code\">`FlowableModdleExtension`</span> &#x7684;&#x7c7b;&#xff0c;&#x7528;&#x4e8e;&#x6269;&#x5c55; BPMN &#x6a21;&#x578b;&#xff08;Moddle&#xff09;&#x7684;&#x529f;&#x80fd;&#x3002;&#x5b83;&#x901a;&#x8fc7;&#x76d1;&#x542c;&#x4e8b;&#x4ef6;&#x548c;&#x9a8c;&#x8bc1;&#x903b;&#x8f91;&#xff0c;&#x786e;&#x4fdd; Flowable &#x6269;&#x5c55;&#x5c5e;&#x6027;&#x5728;&#x7279;&#x5b9a; BPMN &#x5143;&#x7d20;&#x4e0a;&#x7684;&#x5408;&#x6cd5;&#x6027;&#x3002;\n\n---\n\n<span class=\"hljs-section\">### 2. <span class=\"hljs-strong\">**&#x6838;&#x5fc3;&#x529f;&#x80fd;**</span></span>\n<span class=\"hljs-section\">#### 2.1 <span class=\"hljs-strong\">**&#x5141;&#x8bb8;&#x7684;&#x7c7b;&#x578b;&#xff08;ALLOWED<span class=\"hljs-emphasis\">_TYPES&#xff09;**\n`ALLOWED_</span>TYPES` &#x662f;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x5b9a;&#x4e49;&#x4e86; Flowable &#x6269;&#x5c55;&#x5c5e;&#x6027;&#x53ef;&#x4ee5;&#x5e94;&#x7528;&#x5230;&#x7684; BPMN &#x5143;&#x7d20;&#x7c7b;&#x578b;&#xff1a;\n- **</span>`FailedJobRetryTimeCycle`<span class=\"hljs-strong\">**: &#x53ef;&#x4ee5;&#x5e94;&#x7528;&#x4e8e; `bpmn:StartEvent`, `bpmn:BoundaryEvent`, `bpmn:IntermediateCatchEvent`, &#x548c; `bpmn:Activity`&#x3002;\n- **</span>`Connector` &#x548c; `Field`<span class=\"hljs-strong\">**: &#x53ef;&#x4ee5;&#x5e94;&#x7528;&#x4e8e; `bpmn:EndEvent` &#x548c; `bpmn:IntermediateThrowEvent`&#x3002;\n\n#### 2.2 **</span>&#x8f85;&#x52a9;&#x51fd;&#x6570;**</span>\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`is(element, type)`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x5224;&#x65ad;&#x67d0;&#x4e2a;&#x5143;&#x7d20;&#x662f;&#x5426;&#x662f;&#x6307;&#x5b9a;&#x7c7b;&#x578b;&#x7684;&#x5b9e;&#x4f8b;&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x4f7f;&#x7528; <span class=\"hljs-code\">`&#x24;instanceOf`</span> &#x65b9;&#x6cd5;&#x8fdb;&#x884c;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`exists(element)`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x5224;&#x65ad;&#x67d0;&#x4e2a;&#x5143;&#x7d20;&#x662f;&#x5426;&#x5b58;&#x5728;&#x4e14;&#x975e;&#x7a7a;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`includesType(collection, type)`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x68c0;&#x67e5;&#x96c6;&#x5408;&#x4e2d;&#x662f;&#x5426;&#x5305;&#x542b;&#x6307;&#x5b9a;&#x7c7b;&#x578b;&#x7684;&#x5143;&#x7d20;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`anyType(element, types)`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x68c0;&#x67e5;&#x67d0;&#x4e2a;&#x5143;&#x7d20;&#x662f;&#x5426;&#x5c5e;&#x4e8e;&#x591a;&#x4e2a;&#x7c7b;&#x578b;&#x4e2d;&#x7684;&#x4efb;&#x610f;&#x4e00;&#x4e2a;&#x3002;\n\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**`isAllowed(propName, propDescriptor, newElement)`**</span>:\n<span class=\"hljs-bullet\">  -</span> &#x9a8c;&#x8bc1;&#x67d0;&#x4e2a;&#x5c5e;&#x6027;&#x662f;&#x5426;&#x53ef;&#x4ee5;&#x5728;&#x6307;&#x5b9a;&#x7684; BPMN &#x5143;&#x7d20;&#x4e0a;&#x4f7f;&#x7528;&#x3002;\n<span class=\"hljs-bullet\">  -</span> &#x6839;&#x636e;&#x5c5e;&#x6027;&#x540d;&#x79f0;&#x548c;&#x5141;&#x8bb8;&#x7684;&#x7c7b;&#x578b;&#x5217;&#x8868;&#x8fdb;&#x884c;&#x5339;&#x914d;&#x3002;\n\n<span class=\"hljs-section\">#### 2.3 <span class=\"hljs-strong\">**&#x6838;&#x5fc3;&#x7c7b;&#xff1a;`FlowableModdleExtension`**</span></span>\n&#x8be5;&#x7c7b;&#x901a;&#x8fc7;&#x4e8b;&#x4ef6;&#x603b;&#x7ebf;&#xff08;<span class=\"hljs-code\">`eventBus`</span>&#xff09;&#x76d1;&#x542c; <span class=\"hljs-code\">`property.clone`</span> &#x4e8b;&#x4ef6;&#xff0c;&#x5e76;&#x63d0;&#x4f9b; <span class=\"hljs-code\">`canCloneProperty`</span> &#x65b9;&#x6cd5;&#x6765;&#x9a8c;&#x8bc1;&#x5c5e;&#x6027;&#x514b;&#x9686;&#x7684;&#x5408;&#x6cd5;&#x6027;&#x3002;\n\n---\n\n<span class=\"hljs-section\">### 3. <span class=\"hljs-strong\">**&#x4e8b;&#x4ef6;&#x76d1;&#x542c;**</span></span>\n&#x5728;&#x6784;&#x9020;&#x51fd;&#x6570;&#x4e2d;&#xff0c;<span class=\"hljs-code\">`FlowableModdleExtension`</span> &#x76d1;&#x542c;&#x4e86; <span class=\"hljs-code\">`property.clone`</span> &#x4e8b;&#x4ef6;&#xff1a;\n<span class=\"hljs-bullet\">-</span> &#x5f53;&#x4e8b;&#x4ef6;&#x89e6;&#x53d1;&#x65f6;&#xff0c;&#x8c03;&#x7528; <span class=\"hljs-code\">`this.canCloneProperty(newElement, propDescriptor)`</span> &#x65b9;&#x6cd5;&#x3002;\n<span class=\"hljs-bullet\">-</span> &#x8be5;&#x65b9;&#x6cd5;&#x4f1a;&#x6839;&#x636e; <span class=\"hljs-code\">`newElement`</span> &#x548c; <span class=\"hljs-code\">`propDescriptor`</span> &#x9a8c;&#x8bc1;&#x5c5e;&#x6027;&#x662f;&#x5426;&#x53ef;&#x4ee5;&#x514b;&#x9686;&#x3002;\n\n---\n\n<span class=\"hljs-section\">### 4. <span class=\"hljs-strong\">**&#x9a8c;&#x8bc1;&#x903b;&#x8f91;&#xff1a;`canCloneProperty`**</span></span>\n&#x8be5;&#x65b9;&#x6cd5;&#x6839;&#x636e;&#x4e0d;&#x540c;&#x7684; Flowable &#x5c5e;&#x6027;&#x540d;&#x79f0;&#x8fdb;&#x884c;&#x9a8c;&#x8bc1;&#xff1a;\n\n<span class=\"hljs-section\">#### 4.1 <span class=\"hljs-strong\">**`flowable:FailedJobRetryTimeCycle`**</span></span>\n<span class=\"hljs-bullet\">-</span> &#x5982;&#x679c;&#x5c5e;&#x6027;&#x540d;&#x79f0;&#x4e3a; <span class=\"hljs-code\">`flowable:FailedJobRetryTimeCycle`</span>&#xff0c;&#x5219;&#x9a8c;&#x8bc1;&#x4ee5;&#x4e0b;&#x6761;&#x4ef6;&#x4e4b;&#x4e00;&#x662f;&#x5426;&#x6ee1;&#x8db3;&#xff1a;\n<span class=\"hljs-bullet\">  -</span> <span class=\"hljs-code\">`newElement.eventDefinitions`</span> &#x4e2d;&#x5305;&#x542b; <span class=\"hljs-code\">`bpmn:TimerEventDefinition`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> <span class=\"hljs-code\">`newElement.eventDefinitions`</span> &#x4e2d;&#x5305;&#x542b; <span class=\"hljs-code\">`bpmn:SignalEventDefinition`</span>&#x3002;\n<span class=\"hljs-bullet\">  -</span> <span class=\"hljs-code\">`newElement.loopCharacteristics`</span> &#x662f; <span class=\"hljs-code\">`bpmn:MultiInstanceLoopCharacteristics`</span> &#x7684;&#x5b9e;&#x4f8b;&#x3002;\n\n<span class=\"hljs-section\">#### 4.2 <span class=\"hljs-strong\">**`flowable:Connector`**</span></span>\n<span class=\"hljs-bullet\">-</span> &#x5982;&#x679c;&#x5c5e;&#x6027;&#x540d;&#x79f0;&#x4e3a; <span class=\"hljs-code\">`flowable:Connector`</span>&#xff0c;&#x5219;&#x9a8c;&#x8bc1;&#x4ee5;&#x4e0b;&#x6761;&#x4ef6;&#xff1a;\n<span class=\"hljs-bullet\">  -</span> <span class=\"hljs-code\">`newElement.eventDefinitions`</span> &#x4e2d;&#x5305;&#x542b; <span class=\"hljs-code\">`bpmn:MessageEventDefinition`</span>&#x3002;\n\n<span class=\"hljs-section\">#### 4.3 <span class=\"hljs-strong\">**`flowable:Field`**</span></span>\n<span class=\"hljs-bullet\">-</span> &#x5982;&#x679c;&#x5c5e;&#x6027;&#x540d;&#x79f0;&#x4e3a; <span class=\"hljs-code\">`flowable:Field`</span>&#xff0c;&#x5219;&#x9a8c;&#x8bc1;&#x4ee5;&#x4e0b;&#x6761;&#x4ef6;&#xff1a;\n<span class=\"hljs-bullet\">  -</span> <span class=\"hljs-code\">`newElement.eventDefinitions`</span> &#x4e2d;&#x5305;&#x542b; <span class=\"hljs-code\">`bpmn:MessageEventDefinition`</span>&#x3002;\n\n---\n\n<span class=\"hljs-section\">### 5. <span class=\"hljs-strong\">**&#x4f9d;&#x8d56;&#x6ce8;&#x5165;**</span></span>\n<span class=\"hljs-code\">`FlowableModdleExtension`</span> &#x7c7b;&#x901a;&#x8fc7;&#x4f9d;&#x8d56;&#x6ce8;&#x5165;&#x83b7;&#x53d6; <span class=\"hljs-code\">`eventBus`</span> &#x5b9e;&#x4f8b;&#xff1a;\n<span class=\"hljs-code\">    ```javascript\n    FlowableModdleExtension.&#x24;inject = [&quot;eventBus&quot;];\n    ```\n&#x8fd9;&#x4f7f;&#x5f97;&#x7c7b;&#x53ef;&#x4ee5;&#x4e0e;&#x4e8b;&#x4ef6;&#x603b;&#x7ebf;&#x7cfb;&#x7edf;&#x96c6;&#x6210;&#xff0c;&#x5b9e;&#x73b0;&#x4e8b;&#x4ef6;&#x76d1;&#x542c;&#x548c;&#x5904;&#x7406;&#x3002;\n</span>\n---\n\n<span class=\"hljs-section\">### 6. <span class=\"hljs-strong\">**&#x603b;&#x7ed3;**</span></span>\n&#x8be5;&#x6587;&#x4ef6;&#x7684;&#x6838;&#x5fc3;&#x529f;&#x80fd;&#x662f;&#x901a;&#x8fc7;&#x4e8b;&#x4ef6;&#x76d1;&#x542c;&#x548c;&#x9a8c;&#x8bc1;&#x903b;&#x8f91;&#xff0c;&#x786e;&#x4fdd; Flowable &#x6269;&#x5c55;&#x5c5e;&#x6027;&#x5728; BPMN &#x5143;&#x7d20;&#x4e0a;&#x7684;&#x5408;&#x6cd5;&#x6027;&#x548c;&#x6b63;&#x786e;&#x6027;&#x3002;&#x4ee5;&#x4e0b;&#x662f;&#x5173;&#x952e;&#x70b9;&#x603b;&#x7ed3;&#xff1a;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**&#x7c7b;&#x578b;&#x7ea6;&#x675f;**</span>&#xff1a;&#x901a;&#x8fc7; <span class=\"hljs-code\">`ALLOWED_TYPES`</span> &#x5b9a;&#x4e49;&#x4e86;&#x6269;&#x5c55;&#x5c5e;&#x6027;&#x53ef;&#x4ee5;&#x5e94;&#x7528;&#x7684; BPMN &#x5143;&#x7d20;&#x7c7b;&#x578b;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**&#x9a8c;&#x8bc1;&#x903b;&#x8f91;**</span>&#xff1a;&#x901a;&#x8fc7; <span class=\"hljs-code\">`canCloneProperty`</span> &#x65b9;&#x6cd5;&#x5b9e;&#x73b0;&#x4e86;&#x5bf9;&#x6269;&#x5c55;&#x5c5e;&#x6027;&#x7684;&#x5408;&#x6cd5;&#x6027;&#x9a8c;&#x8bc1;&#x3002;\n<span class=\"hljs-bullet\">-</span> <span class=\"hljs-strong\">**&#x4e8b;&#x4ef6;&#x9a71;&#x52a8;**</span>&#xff1a;&#x901a;&#x8fc7;&#x76d1;&#x542c; <span class=\"hljs-code\">`property.clone`</span> &#x4e8b;&#x4ef6;&#xff0c;&#x52a8;&#x6001;&#x9a8c;&#x8bc1;&#x5c5e;&#x6027;&#x514b;&#x9686;&#x7684;&#x5408;&#x6cd5;&#x6027;&#x3002;\n\n&#x5982;&#x679c;&#x4f60;&#x6709;&#x66f4;&#x5177;&#x4f53;&#x7684;&#x9700;&#x6c42;&#x6216;&#x95ee;&#x9898;&#xff0c;&#x8bf7;&#x8fdb;&#x4e00;&#x6b65;&#x8bf4;&#x660e;&#xff01;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"339,421"}}],"payload":{"tag":"h3","lines":"337,338"}},{"content":"paletteProvider.js","children":[{"content":"<pre data-lines=\"424,586\"><code data-lines=\"424,586\">&#x4ee5;&#x4e0b;&#x662f;&#x5bf9;&#x4ee3;&#x7801;&#x7684;&#x8be6;&#x7ec6;&#x89e3;&#x6790;&#xff0c;&#x5206;&#x6a21;&#x5757;&#x8fdb;&#x884c;&#x8bf4;&#x660e;&#xff1a;\n\n---\n\n### <span class=\"hljs-number\">1</span>. **&#x6587;&#x4ef6;&#x6982;&#x8ff0;**\n&#x8be5;&#x6587;&#x4ef6;&#x5b9a;&#x4e49;&#x4e86;&#x4e00;&#x4e2a;&#x540d;&#x4e3a; `FlowableModdleExtension` &#x7684;&#x7c7b;&#xff0c;&#x7528;&#x4e8e;&#x6269;&#x5c55; BPMN &#x6a21;&#x578b;&#xff08;Moddle&#xff09;&#x7684;&#x529f;&#x80fd;&#x3002;&#x5b83;&#x901a;&#x8fc7;&#x76d1;&#x542c;&#x4e8b;&#x4ef6;&#x548c;&#x9a8c;&#x8bc1;&#x903b;&#x8f91;&#xff0c;&#x786e;&#x4fdd; Flowable &#x6269;&#x5c55;&#x5c5e;&#x6027;&#x5728;&#x7279;&#x5b9a; BPMN &#x5143;&#x7d20;&#x4e0a;&#x7684;&#x5408;&#x6cd5;&#x6027;&#x3002;\n\n---\n\n### <span class=\"hljs-number\">2</span>. **&#x6838;&#x5fc3;&#x529f;&#x80fd;**\n\n#### <span class=\"hljs-number\">2.1</span> **&#x5141;&#x8bb8;&#x7684;&#x7c7b;&#x578b;&#xff08;ALLOWED_TYPES&#xff09;**\n    ```javascript\n    var ALLOWED_TYPES = {\n<span class=\"hljs-title\">    FailedJobRetryTimeCycle:</span> [<span class=\"hljs-string\">&quot;bpmn:StartEvent&quot;</span>, <span class=\"hljs-string\">&quot;bpmn:BoundaryEvent&quot;</span>, <span class=\"hljs-string\">&quot;bpmn:IntermediateCatchEvent&quot;</span>, <span class=\"hljs-string\">&quot;bpmn:Activity&quot;</span>],\n<span class=\"hljs-title\">    Connector:</span> [<span class=\"hljs-string\">&quot;bpmn:EndEvent&quot;</span>, <span class=\"hljs-string\">&quot;bpmn:IntermediateThrowEvent&quot;</span>],\n<span class=\"hljs-title\">    Field:</span> [<span class=\"hljs-string\">&quot;bpmn:EndEvent&quot;</span>, <span class=\"hljs-string\">&quot;bpmn:IntermediateThrowEvent&quot;</span>]\n    }<span class=\"hljs-comment\">;</span>\n    ```\n- `ALLOWED_TYPES` &#x662f;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x5b9a;&#x4e49;&#x4e86; Flowable &#x6269;&#x5c55;&#x5c5e;&#x6027;&#x53ef;&#x4ee5;&#x5e94;&#x7528;&#x5230;&#x7684; BPMN &#x5143;&#x7d20;&#x7c7b;&#x578b;&#x3002;\n<span class=\"hljs-title\">  - **`FailedJobRetryTimeCycle`**: &#x53ef;&#x4ee5;&#x5e94;&#x7528;&#x4e8e; `bpmn:StartEvent`, `bpmn:BoundaryEvent`, `bpmn:IntermediateCatchEvent`, &#x548c; `bpmn:</span>Activity`&#x3002;\n<span class=\"hljs-title\">  - **`Connector` &#x548c; `Field`**: &#x53ef;&#x4ee5;&#x5e94;&#x7528;&#x4e8e; `bpmn:EndEvent` &#x548c; `bpmn:</span>IntermediateThrowEvent`&#x3002;\n\n---\n\n#### <span class=\"hljs-number\">2.2</span> **&#x8f85;&#x52a9;&#x51fd;&#x6570;**\n\n##### <span class=\"hljs-number\">2.2</span>.<span class=\"hljs-number\">1</span> **`is(element, type)`**\n    ```javascript\n    function is(element, type) {\n    <span class=\"hljs-keyword\">return</span> element &amp;&amp; typeof element.&#x24;instanceOf === <span class=\"hljs-string\">&quot;function&quot;</span> &amp;&amp; element.&#x24;instanceOf(type)<span class=\"hljs-comment\">;</span>\n    }\n    ```\n- &#x5224;&#x65ad;&#x67d0;&#x4e2a;&#x5143;&#x7d20;&#x662f;&#x5426;&#x662f;&#x6307;&#x5b9a;&#x7c7b;&#x578b;&#x7684;&#x5b9e;&#x4f8b;&#x3002;\n- &#x4f7f;&#x7528; `&#x24;instanceOf` &#x65b9;&#x6cd5;&#x8fdb;&#x884c;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x3002;\n\n##### <span class=\"hljs-number\">2.2</span>.<span class=\"hljs-number\">2</span> **`exists(element)`**\n    ```javascript\n    function exists(element) {\n    <span class=\"hljs-keyword\">return</span> element &amp;&amp; element.length<span class=\"hljs-comment\">;</span>\n    }\n    ```\n- &#x5224;&#x65ad;&#x67d0;&#x4e2a;&#x5143;&#x7d20;&#x662f;&#x5426;&#x5b58;&#x5728;&#x4e14;&#x975e;&#x7a7a;&#x3002;\n- &#x5982;&#x679c; `element` &#x5b58;&#x5728;&#x4e14;&#x5176; `length` &#x5c5e;&#x6027;&#x5927;&#x4e8e; <span class=\"hljs-number\">0</span>&#xff0c;&#x5219;&#x8fd4;&#x56de; `true`&#x3002;\n\n##### <span class=\"hljs-number\">2.2</span>.<span class=\"hljs-number\">3</span> **`includesType(collection, type)`**\n    ```javascript\n    function includesType(collection, type) {\n    <span class=\"hljs-keyword\">return</span> (\n        exists(collection) &amp;&amp;\n        some(collection, function(element) {\n        <span class=\"hljs-keyword\">return</span> is(element, type)<span class=\"hljs-comment\">;</span>\n        })\n    )<span class=\"hljs-comment\">;</span>\n    }\n    ```\n- &#x68c0;&#x67e5;&#x96c6;&#x5408;&#x4e2d;&#x662f;&#x5426;&#x5305;&#x542b;&#x6307;&#x5b9a;&#x7c7b;&#x578b;&#x7684;&#x5143;&#x7d20;&#x3002;\n- &#x4f7f;&#x7528; `some` &#x65b9;&#x6cd5;&#x904d;&#x5386;&#x96c6;&#x5408;&#xff0c;&#x8c03;&#x7528; `is` &#x51fd;&#x6570;&#x5224;&#x65ad;&#x6bcf;&#x4e2a;&#x5143;&#x7d20;&#x662f;&#x5426;&#x4e3a;&#x6307;&#x5b9a;&#x7c7b;&#x578b;&#x3002;\n\n##### <span class=\"hljs-number\">2.2</span>.<span class=\"hljs-number\">4</span> **`anyType(element, types)`**\n    ```javascript\n    function anyType(element, types) {\n    <span class=\"hljs-keyword\">return</span> some(types, function(type) {\n        <span class=\"hljs-keyword\">return</span> is(element, type)<span class=\"hljs-comment\">;</span>\n    })<span class=\"hljs-comment\">;</span>\n    }\n    ```\n- &#x68c0;&#x67e5;&#x67d0;&#x4e2a;&#x5143;&#x7d20;&#x662f;&#x5426;&#x5c5e;&#x4e8e;&#x591a;&#x4e2a;&#x7c7b;&#x578b;&#x4e2d;&#x7684;&#x4efb;&#x610f;&#x4e00;&#x4e2a;&#x3002;\n- &#x4f7f;&#x7528; `some` &#x65b9;&#x6cd5;&#x904d;&#x5386;&#x7c7b;&#x578b;&#x5217;&#x8868;&#xff0c;&#x8c03;&#x7528; `is` &#x51fd;&#x6570;&#x9010;&#x4e00;&#x5224;&#x65ad;&#x3002;\n\n##### <span class=\"hljs-number\">2.2</span>.<span class=\"hljs-number\">5</span> **`isAllowed(propName, propDescriptor, newElement)`**\n    ```javascript\n    function isAllowed(propName, propDescriptor, newElement) {\n    var name = propDescriptor.name,\n<span class=\"hljs-title\">        types = ALLOWED_TYPES[name.replace(/flowable:</span>/, <span class=\"hljs-string\">&quot;&quot;</span>)]<span class=\"hljs-comment\">;</span>\n\n    <span class=\"hljs-keyword\">return</span> name === propName &amp;&amp; anyType(newElement, types)<span class=\"hljs-comment\">;</span>\n    }\n    ```\n- &#x9a8c;&#x8bc1;&#x67d0;&#x4e2a;&#x5c5e;&#x6027;&#x662f;&#x5426;&#x53ef;&#x4ee5;&#x5728;&#x6307;&#x5b9a;&#x7684; BPMN &#x5143;&#x7d20;&#x4e0a;&#x4f7f;&#x7528;&#x3002;\n- &#x6839;&#x636e;&#x5c5e;&#x6027;&#x540d;&#x79f0;&#x548c;&#x5141;&#x8bb8;&#x7684;&#x7c7b;&#x578b;&#x5217;&#x8868;&#x8fdb;&#x884c;&#x5339;&#x914d;&#x3002;\n\n---\n\n#### <span class=\"hljs-number\">2.3</span> **&#x6838;&#x5fc3;&#x7c7b;&#xff1a;`FlowableModdleExtension`**\n\n##### <span class=\"hljs-number\">2.3</span>.<span class=\"hljs-number\">1</span> **&#x6784;&#x9020;&#x51fd;&#x6570;**\n    ```javascript\n    function FlowableModdleExtension(eventBus) {\n    eventBus.on(\n        <span class=\"hljs-string\">&quot;property.clone&quot;</span>,\n        function(context) {\n        var newElement = context.newElement,\n            propDescriptor = context.propertyDescriptor<span class=\"hljs-comment\">;</span>\n\n        this.canCloneProperty(newElement, propDescriptor)<span class=\"hljs-comment\">;</span>\n        },\n        this\n    )<span class=\"hljs-comment\">;</span>\n    }\n    ```\n- &#x6784;&#x9020;&#x51fd;&#x6570;&#x63a5;&#x6536; `eventBus` &#x53c2;&#x6570;&#x3002;\n- &#x76d1;&#x542c; `property.clone` &#x4e8b;&#x4ef6;&#xff0c;&#x5f53;&#x4e8b;&#x4ef6;&#x89e6;&#x53d1;&#x65f6;&#xff0c;&#x8c03;&#x7528; `this.canCloneProperty(newElement, propDescriptor)` &#x65b9;&#x6cd5;&#x3002;\n\n##### <span class=\"hljs-number\">2.3</span>.<span class=\"hljs-number\">2</span> **&#x4f9d;&#x8d56;&#x6ce8;&#x5165;**\n    ```javascript\n    FlowableModdleExtension.&#x24;inject = [<span class=\"hljs-string\">&quot;eventBus&quot;</span>]<span class=\"hljs-comment\">;</span>\n    ```\n- &#x5b9a;&#x4e49;&#x4e86;&#x4f9d;&#x8d56;&#x6ce8;&#x5165;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x786e;&#x4fdd; `eventBus` &#x80fd;&#x591f;&#x6b63;&#x786e;&#x6ce8;&#x5165;&#x3002;\n\n##### <span class=\"hljs-number\">2.3</span>.<span class=\"hljs-number\">3</span> **&#x9a8c;&#x8bc1;&#x65b9;&#x6cd5;&#xff1a;`canCloneProperty`**\n\n    ```javascript\n    FlowableModdleExtension.prototype.canCloneProperty = function(newElement, propDescriptor) {\n    if (isAllowed(<span class=\"hljs-string\">&quot;flowable:FailedJobRetryTimeCycle&quot;</span>, propDescriptor, newElement)) {\n        <span class=\"hljs-keyword\">return</span> (\n        includesType(newElement.eventDefinitions, <span class=\"hljs-string\">&quot;bpmn:TimerEventDefinition&quot;</span>) ||\n        includesType(newElement.eventDefinitions, <span class=\"hljs-string\">&quot;bpmn:SignalEventDefinition&quot;</span>) ||\n        is(newElement.loopCharacteristics, <span class=\"hljs-string\">&quot;bpmn:MultiInstanceLoopCharacteristics&quot;</span>)\n        )<span class=\"hljs-comment\">;</span>\n    }\n\n    if (isAllowed(<span class=\"hljs-string\">&quot;flowable:Connector&quot;</span>, propDescriptor, newElement)) {\n        <span class=\"hljs-keyword\">return</span> includesType(newElement.eventDefinitions, <span class=\"hljs-string\">&quot;bpmn:MessageEventDefinition&quot;</span>)<span class=\"hljs-comment\">;</span>\n    }\n\n    if (isAllowed(<span class=\"hljs-string\">&quot;flowable:Field&quot;</span>, propDescriptor, newElement)) {\n        <span class=\"hljs-keyword\">return</span> includesType(newElement.eventDefinitions, <span class=\"hljs-string\">&quot;bpmn:MessageEventDefinition&quot;</span>)<span class=\"hljs-comment\">;</span>\n    }\n    }<span class=\"hljs-comment\">;</span>\n    ```\n<span class=\"hljs-title\">- **`flowable:FailedJobRetryTimeCycle`**:</span>\n<span class=\"hljs-title\">  - &#x5982;&#x679c;&#x5c5e;&#x6027;&#x540d;&#x79f0;&#x4e3a; `flowable:</span>FailedJobRetryTimeCycle`&#xff0c;&#x5219;&#x9a8c;&#x8bc1;&#x4ee5;&#x4e0b;&#x6761;&#x4ef6;&#x4e4b;&#x4e00;&#x662f;&#x5426;&#x6ee1;&#x8db3;&#xff1a;\n<span class=\"hljs-title\">    - `newElement.eventDefinitions` &#x4e2d;&#x5305;&#x542b; `bpmn:</span>TimerEventDefinition`&#x3002;\n<span class=\"hljs-title\">    - `newElement.eventDefinitions` &#x4e2d;&#x5305;&#x542b; `bpmn:</span>SignalEventDefinition`&#x3002;\n<span class=\"hljs-title\">    - `newElement.loopCharacteristics` &#x662f; `bpmn:</span>MultiInstanceLoopCharacteristics` &#x7684;&#x5b9e;&#x4f8b;&#x3002;\n\n<span class=\"hljs-title\">- **`flowable:Connector`**:</span>\n<span class=\"hljs-title\">  - &#x5982;&#x679c;&#x5c5e;&#x6027;&#x540d;&#x79f0;&#x4e3a; `flowable:</span>Connector`&#xff0c;&#x5219;&#x9a8c;&#x8bc1;&#x4ee5;&#x4e0b;&#x6761;&#x4ef6;&#xff1a;\n<span class=\"hljs-title\">    - `newElement.eventDefinitions` &#x4e2d;&#x5305;&#x542b; `bpmn:</span>MessageEventDefinition`&#x3002;\n\n<span class=\"hljs-title\">- **`flowable:Field`**:</span>\n<span class=\"hljs-title\">  - &#x5982;&#x679c;&#x5c5e;&#x6027;&#x540d;&#x79f0;&#x4e3a; `flowable:</span>Field`&#xff0c;&#x5219;&#x9a8c;&#x8bc1;&#x4ee5;&#x4e0b;&#x6761;&#x4ef6;&#xff1a;\n<span class=\"hljs-title\">    - `newElement.eventDefinitions` &#x4e2d;&#x5305;&#x542b; `bpmn:</span>MessageEventDefinition`&#x3002;\n\n---\n\n### <span class=\"hljs-number\">3</span>. **&#x603b;&#x7ed3;**\n&#x8be5;&#x6587;&#x4ef6;&#x7684;&#x6838;&#x5fc3;&#x529f;&#x80fd;&#x662f;&#x901a;&#x8fc7;&#x4e8b;&#x4ef6;&#x76d1;&#x542c;&#x548c;&#x9a8c;&#x8bc1;&#x903b;&#x8f91;&#xff0c;&#x786e;&#x4fdd; Flowable &#x6269;&#x5c55;&#x5c5e;&#x6027;&#x5728; BPMN &#x5143;&#x7d20;&#x4e0a;&#x7684;&#x5408;&#x6cd5;&#x6027;&#x548c;&#x6b63;&#x786e;&#x6027;&#x3002;&#x4ee5;&#x4e0b;&#x662f;&#x5173;&#x952e;&#x70b9;&#x603b;&#x7ed3;&#xff1a;\n\n<span class=\"hljs-number\">1</span>. **&#x7c7b;&#x578b;&#x7ea6;&#x675f;**&#xff1a;\n   - &#x901a;&#x8fc7; `ALLOWED_TYPES` &#x5b9a;&#x4e49;&#x4e86;&#x6269;&#x5c55;&#x5c5e;&#x6027;&#x53ef;&#x4ee5;&#x5e94;&#x7528;&#x7684; BPMN &#x5143;&#x7d20;&#x7c7b;&#x578b;&#x3002;\n\n<span class=\"hljs-number\">2</span>. **&#x9a8c;&#x8bc1;&#x903b;&#x8f91;**&#xff1a;\n   - &#x901a;&#x8fc7; `canCloneProperty` &#x65b9;&#x6cd5;&#x5b9e;&#x73b0;&#x4e86;&#x5bf9;&#x6269;&#x5c55;&#x5c5e;&#x6027;&#x7684;&#x5408;&#x6cd5;&#x6027;&#x9a8c;&#x8bc1;&#x3002;\n\n<span class=\"hljs-number\">3</span>. **&#x4e8b;&#x4ef6;&#x9a71;&#x52a8;**&#xff1a;\n   - &#x901a;&#x8fc7;&#x76d1;&#x542c; `property.clone` &#x4e8b;&#x4ef6;&#xff0c;&#x52a8;&#x6001;&#x9a8c;&#x8bc1;&#x5c5e;&#x6027;&#x514b;&#x9686;&#x7684;&#x5408;&#x6cd5;&#x6027;&#x3002;\n\n&#x5982;&#x679c;&#x4f60;&#x6709;&#x66f4;&#x5177;&#x4f53;&#x7684;&#x9700;&#x6c42;&#x6216;&#x95ee;&#x9898;&#xff0c;&#x8bf7;&#x8fdb;&#x4e00;&#x6b65;&#x8bf4;&#x660e;&#xff01;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"424,586"}}],"payload":{"tag":"h3","lines":"422,423"}}],"payload":{"tag":"h2","lines":"105,106"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
