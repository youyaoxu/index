<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"","children":[{"content":"&#x7f51;&#x7edc;&#x722c;&#x866b;&#x6982;&#x8ff0;","children":[{"content":"<pre data-lines=\"12,45\"><code class=\"language-python\">&#x3010;1&#x3011;&#x5b9a;&#x4e49;\n    1.1) &#x7f51;&#x7edc;&#x8718;&#x86db;&#x3001;&#x7f51;&#x7edc;&#x673a;&#x5668;&#x4eba;&#xff0c;&#x6293;&#x53d6;&#x7f51;&#x7edc;&#x6570;&#x636e;&#x7684;&#x7a0b;&#x5e8f;\n    1.2) &#x5176;&#x5b9e;&#x5c31;&#x662f;&#x7528;Python&#x7a0b;&#x5e8f;&#x6a21;&#x4eff;&#x4eba;&#x70b9;&#x51fb;&#x6d4f;&#x89c8;&#x5668;&#x5e76;&#x8bbf;&#x95ee;&#x7f51;&#x7ad9;&#xff0c;&#x800c;&#x4e14;&#x6a21;&#x4eff;&#x7684;&#x8d8a;&#x903c;&#x771f;&#x8d8a;&#x597d;\n\n&#x3010;2&#x3011;&#x722c;&#x53d6;&#x6570;&#x636e;&#x7684;&#x76ee;&#x7684;\n    2.1) &#x516c;&#x53f8;&#x9879;&#x76ee;&#x7684;&#x6d4b;&#x8bd5;&#x6570;&#x636e;&#xff0c;&#x516c;&#x53f8;&#x4e1a;&#x52a1;&#x6240;&#x9700;&#x6570;&#x636e;\n    2.2) &#x83b7;&#x53d6;&#x5927;&#x91cf;&#x6570;&#x636e;&#xff0c;&#x7528;&#x6765;&#x505a;&#x6570;&#x636e;&#x5206;&#x6790;\n\n&#x3010;3&#x3011;&#x4f01;&#x4e1a;&#x83b7;&#x53d6;&#x6570;&#x636e;&#x65b9;&#x5f0f;\n    3.1) &#x516c;&#x53f8;&#x81ea;&#x6709;&#x6570;&#x636e;\n    3.2) &#x7b2c;&#x4e09;&#x65b9;&#x6570;&#x636e;&#x5e73;&#x53f0;&#x8d2d;&#x4e70;(&#x6570;&#x636e;&#x5802;&#x3001;&#x8d35;&#x9633;&#x5927;&#x6570;&#x636e;&#x4ea4;&#x6613;&#x6240;)\n    3.3) &#x722c;&#x866b;&#x722c;&#x53d6;&#x6570;&#x636e;\n\n&#x3010;4&#x3011;Python&#x505a;&#x722c;&#x866b;&#x4f18;&#x52bf;\n    4.1) Python &#xff1a;&#x8bf7;&#x6c42;&#x6a21;&#x5757;&#x3001;&#x89e3;&#x6790;&#x6a21;&#x5757;&#x4e30;&#x5bcc;&#x6210;&#x719f;,&#x5f3a;&#x5927;&#x7684;Scrapy&#x7f51;&#x7edc;&#x722c;&#x866b;&#x6846;&#x67b6;\n    4.2) PHP &#xff1a;&#x5bf9;&#x591a;&#x7ebf;&#x7a0b;&#x3001;&#x5f02;&#x6b65;&#x652f;&#x6301;&#x4e0d;&#x592a;&#x597d;\n    4.3) JAVA&#xff1a;&#x4ee3;&#x7801;&#x7b28;&#x91cd;,&#x4ee3;&#x7801;&#x91cf;&#x5927;\n    4.4) C/C++&#xff1a;&#x867d;&#x7136;&#x6548;&#x7387;&#x9ad8;,&#x4f46;&#x662f;&#x4ee3;&#x7801;&#x6210;&#x578b;&#x6162;\n\n&#x3010;5&#x3011;&#x722c;&#x866b;&#x5206;&#x7c7b;\n    5.1) &#x901a;&#x7528;&#x7f51;&#x7edc;&#x722c;&#x866b;(&#x641c;&#x7d22;&#x5f15;&#x64ce;&#x4f7f;&#x7528;,&#x9075;&#x5b88;robots&#x534f;&#x8bae;)\n        robots&#x534f;&#x8bae;: &#x7f51;&#x7ad9;&#x901a;&#x8fc7;robots&#x534f;&#x8bae;&#x544a;&#x8bc9;&#x641c;&#x7d22;&#x5f15;&#x64ce;&#x54ea;&#x4e9b;&#x9875;&#x9762;&#x53ef;&#x4ee5;&#x6293;&#x53d6;,&#x54ea;&#x4e9b;&#x9875;&#x9762;&#x4e0d;&#x80fd;&#x6293;&#x53d6;&#xff0c;&#x901a;&#x7528;&#x7f51;&#x7edc;&#x722c;&#x866b;&#x9700;&#x8981;&#x9075;&#x5b88;robots&#x534f;&#x8bae;&#xff08;&#x541b;&#x5b50;&#x534f;&#x8bae;&#xff09;\n\t    &#x793a;&#x4f8b;: https://www.baidu.com/robots.txt\n    5.2) &#x805a;&#x7126;&#x7f51;&#x7edc;&#x722c;&#x866b; &#xff1a;&#x81ea;&#x5df1;&#x5199;&#x7684;&#x722c;&#x866b;&#x7a0b;&#x5e8f;\n\n&#x3010;6&#x3011;&#x722c;&#x53d6;&#x6570;&#x636e;&#x6b65;&#x9aa4;\n    6.1) &#x786e;&#x5b9a;&#x9700;&#x8981;&#x722c;&#x53d6;&#x7684;URL&#x5730;&#x5740;\n    6.2) &#x7531;&#x8bf7;&#x6c42;&#x6a21;&#x5757;&#x5411;URL&#x5730;&#x5740;&#x53d1;&#x51fa;&#x8bf7;&#x6c42;,&#x5e76;&#x5f97;&#x5230;&#x7f51;&#x7ad9;&#x7684;&#x54cd;&#x5e94;\n    6.3) &#x4ece;&#x54cd;&#x5e94;&#x5185;&#x5bb9;&#x4e2d;&#x63d0;&#x53d6;&#x6240;&#x9700;&#x6570;&#x636e;\n       a&gt; &#x6240;&#x9700;&#x6570;&#x636e;,&#x4fdd;&#x5b58;\n       b&gt; &#x9875;&#x9762;&#x4e2d;&#x6709;&#x5176;&#x4ed6;&#x9700;&#x8981;&#x7ee7;&#x7eed;&#x8ddf;&#x8fdb;&#x7684;URL&#x5730;&#x5740;,&#x7ee7;&#x7eed;&#x7b2c;2&#x6b65;&#x53bb;&#x53d1;&#x8bf7;&#x6c42;&#xff0c;&#x5982;&#x6b64;&#x5faa;&#x73af;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"12,45"}}],"payload":{"tag":"h1","lines":"10,11"}},{"content":"&#x722c;&#x866b;&#x8bf7;&#x6c42;&#x6a21;&#x5757;","children":[{"content":"requests&#x6a21;&#x5757;","children":[{"content":"&#x5b89;&#x88c5;","children":[{"content":"<pre data-lines=\"52,60\"><code class=\"language-python\">&#x3010;1&#x3011;Linux\n    sudo pip3 install requests\n\n&#x3010;2&#x3011;Windows\n    &#x65b9;&#x6cd5;1&gt;  cmd&#x547d;&#x4ee4;&#x884c; -&gt; python -m pip install requests\n    &#x65b9;&#x6cd5;2&gt;  &#x53f3;&#x952e;&#x7ba1;&#x7406;&#x5458;&#x8fdb;&#x5165;cmd&#x547d;&#x4ee4;&#x884c; &#xff1a;pip install requests\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"52,60"}}],"payload":{"tag":"h3","lines":"50,51"}}],"payload":{"tag":"h2","lines":"48,49"}},{"content":"&#x5e38;&#x7528;&#x65b9;&#x6cd5;","children":[{"content":"requests.get()","children":[{"content":"<pre data-lines=\"65,74\"><code class=\"language-python\">&#x3010;1&#x3011;&#x4f5c;&#x7528;\n    &#x5411;&#x76ee;&#x6807;&#x7f51;&#x7ad9;&#x53d1;&#x8d77;&#x8bf7;&#x6c42;,&#x5e76;&#x83b7;&#x53d6;&#x54cd;&#x5e94;&#x5bf9;&#x8c61;\n\n&#x3010;2&#x3011;&#x53c2;&#x6570;\n    2.1&gt; url &#xff1a;&#x9700;&#x8981;&#x6293;&#x53d6;&#x7684;URL&#x5730;&#x5740;\n    2.2&gt; headers : &#x8bf7;&#x6c42;&#x5934;\n    2.3&gt; timeout : &#x8d85;&#x65f6;&#x65f6;&#x95f4;&#xff0c;&#x8d85;&#x8fc7;&#x65f6;&#x95f4;&#x4f1a;&#x629b;&#x51fa;&#x5f02;&#x5e38;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"65,74"}}],"payload":{"tag":"h3","lines":"63,64"}},{"content":"&#x6b64;&#x751f;&#x7b2c;&#x4e00;&#x4e2a;&#x722c;&#x866b;","children":[{"content":"<pre data-lines=\"77,87\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n&#x6253;&#x5f00;&#x6d4f;&#x89c8;&#x5668;&#xff0c;&#x8f93;&#x5165;&#x4eac;&#x4e1c;&#x5730;&#x5740;(https://www.jd.com/)&#xff0c;&#x5f97;&#x5230;&#x54cd;&#x5e94;&#x5185;&#x5bb9;\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">import</span> requests\n\nres = requests.get(<span class=\"hljs-string\">&apos;https://www.jd.com/&apos;</span>)\nhtml = res.text\n<span class=\"hljs-built_in\">print</span>(html)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"77,87"}}],"payload":{"tag":"h3","lines":"75,76"}},{"content":"&#x54cd;&#x5e94;&#x5bf9;&#x8c61;&#xff08;res&#xff09;&#x5c5e;&#x6027;","children":[{"content":"<pre data-lines=\"90,96\"><code class=\"language-python\">&#x3010;1&#x3011;text        &#xff1a;&#x5b57;&#x7b26;&#x4e32;\n&#x3010;2&#x3011;content     &#xff1a;&#x5b57;&#x8282;&#x6d41;\n&#x3010;3&#x3011;status_code &#xff1a;HTTP&#x54cd;&#x5e94;&#x7801;\n&#x3010;4&#x3011;url         &#xff1a;&#x5b9e;&#x9645;&#x6570;&#x636e;&#x7684;URL&#x5730;&#x5740;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"90,96"}}],"payload":{"tag":"h3","lines":"88,89"}},{"content":"&#x91cd;&#x5927;&#x95ee;&#x9898;&#x601d;&#x8003;","children":[{"content":"<pre data-lines=\"99,102\"><code data-lines=\"99,102\"><span class=\"hljs-operator\">=</span><span class=\"hljs-operator\">=</span>&#x7f51;&#x7ad9;&#x5982;&#x4f55;&#x6765;&#x5224;&#x5b9a;&#x662f;&#x4eba;&#x7c7b;&#x6b63;&#x5e38;&#x8bbf;&#x95ee;&#x8fd8;&#x662f;&#x722c;&#x866b;&#x7a0b;&#x5e8f;&#x8bbf;&#x95ee;&#xff1f;--&#x68c0;&#x67e5;&#x8bf7;&#x6c42;&#x5934;&#xff01;&#xff01;&#xff01;<span class=\"hljs-operator\">=</span><span class=\"hljs-operator\">=</span> \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"99,102"}},{"content":"<pre data-lines=\"105,116\"><code class=\"language-python\"><span class=\"hljs-comment\"># &#x8bf7;&#x6c42;&#x5934;&#xff08;headers&#xff09;&#x4e2d;&#x7684; User-Agent</span>\n<span class=\"hljs-comment\"># &#x6d4b;&#x8bd5;&#x6848;&#x4f8b;: &#x5411;&#x6d4b;&#x8bd5;&#x7f51;&#x7ad9;http://httpbin.org/get&#x53d1;&#x8bf7;&#x6c42;&#xff0c;&#x67e5;&#x770b;&#x8bf7;&#x6c42;&#x5934;(User-Agent)</span>\n<span class=\"hljs-keyword\">import</span> requests\n\nurl = <span class=\"hljs-string\">&apos;http://httpbin.org/get&apos;</span>\nres = requests.get(url=url)\nhtml = res.text\n<span class=\"hljs-built_in\">print</span>(html)\n<span class=\"hljs-comment\"># &#x8bf7;&#x6c42;&#x5934;&#x4e2d;:User-Agent&#x4e3a;-&gt; python-requests/2.22.0 &#x90a3;&#x7b2c;&#x4e00;&#x4e2a;&#x88ab;&#x7f51;&#x7ad9;&#x5e72;&#x6389;&#x7684;&#x662f;&#x8c01;&#xff1f;&#xff1f;&#xff1f;&#x6211;&#x4eec;&#x662f;&#x4e0d;&#x662f;&#x9700;&#x8981;&#x53d1;&#x9001;&#x8bf7;&#x6c42;&#x65f6;&#x91cd;&#x6784;&#x4e00;&#x4e0b;User-Agent&#xff1f;&#xff1f;&#xff1f;&#x6dfb;&#x52a0; headers &#x53c2;&#x6570;&#xff01;&#xff01;&#xff01;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"105,116"}}],"payload":{"tag":"h3","lines":"97,98"}},{"content":"&#x91cd;&#x5927;&#x95ee;&#x9898;&#x89e3;&#x51b3;","children":[{"content":"<pre data-lines=\"119,131\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n&#x5305;&#x88c5;&#x597d;&#x8bf7;&#x6c42;&#x5934;&#x540e;,&#x5411;&#x6d4b;&#x8bd5;&#x7f51;&#x7ad9;&#x53d1;&#x8bf7;&#x6c42;,&#x5e76;&#x9a8c;&#x8bc1;\n&#x517b;&#x6210;&#x597d;&#x4e60;&#x60ef;&#xff0c;&#x53d1;&#x9001;&#x8bf7;&#x6c42;&#x643a;&#x5e26;&#x8bf7;&#x6c42;&#x5934;&#xff0c;&#x91cd;&#x6784;User-Agent\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">import</span> requests\n\nurl = <span class=\"hljs-string\">&apos;http://httpbin.org/get&apos;</span>\nheaders = {<span class=\"hljs-string\">&apos;User-Agent&apos;</span>:<span class=\"hljs-string\">&apos;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.835.163 Safari/535.1&apos;</span>}\nhtml = requests.get(url=url,headers=headers).text\n<span class=\"hljs-built_in\">print</span>(html)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"119,131"}}],"payload":{"tag":"h3","lines":"117,118"}}],"payload":{"tag":"h2","lines":"61,62"}}],"payload":{"tag":"h1","lines":"46,47"}},{"content":"&#x722c;&#x866b;&#x7f16;&#x7801;&#x6a21;&#x5757;","children":[{"content":"&#x5e38;&#x7528;&#x65b9;&#x6cd5;","children":[{"content":"urlencode({ &#x53c2;&#x6570;&#x4e3a;&#x5b57;&#x5178; })","children":[{"content":"&#x4f5c;&#x7528;","children":[{"content":"<pre data-lines=\"161,164\"><code class=\"language-python\">&#x7ed9;URL&#x5730;&#x5740;&#x4e2d;&#x67e5;&#x8be2;&#x53c2;&#x6570;&#x8fdb;&#x884c;&#x7f16;&#x7801;&#xff0c;&#x53c2;&#x6570;&#x7c7b;&#x578b;&#x4e3a;&#x5b57;&#x5178;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"161,164"}}],"payload":{"tag":"h4","lines":"159,160"}},{"content":"&#x4f7f;&#x7528;&#x65b9;&#x6cd5;","children":[{"content":"<pre data-lines=\"167,179\"><code class=\"language-python\"><span class=\"hljs-comment\"># 1&#x3001;URL&#x5730;&#x5740;&#x4e2d; &#x4e00; &#x4e2a;&#x67e5;&#x8be2;&#x53c2;&#x6570;</span>\n&#x7f16;&#x7801;&#x524d;: params = {<span class=\"hljs-string\">&apos;wd&apos;</span>:<span class=\"hljs-string\">&apos;&#x7f8e;&#x5973;&apos;</span>}\n&#x7f16;&#x7801;&#x4e2d;: params = urllib.parse.urlencode(params)\n&#x7f16;&#x7801;&#x540e;: params&#x7ed3;&#x679c;:  <span class=\"hljs-string\">&apos;wd=%E7%BE%8E%E5%A5%B3&apos;</span>\n    \n<span class=\"hljs-comment\"># 2&#x3001;URL&#x5730;&#x5740;&#x4e2d; &#x591a; &#x4e2a;&#x67e5;&#x8be2;&#x53c2;&#x6570;</span>\n&#x7f16;&#x7801;&#x524d;: params = {<span class=\"hljs-string\">&apos;wd&apos;</span>:<span class=\"hljs-string\">&apos;&#x7f8e;&#x5973;&apos;</span>,<span class=\"hljs-string\">&apos;pn&apos;</span>:<span class=\"hljs-string\">&apos;50&apos;</span>}\n&#x7f16;&#x7801;&#x4e2d;: params = urllib.parse.urlencode(params)\n&#x7f16;&#x7801;&#x540e;: params&#x7ed3;&#x679c;: <span class=\"hljs-string\">&apos;wd=%E7%BE%8E%E5%A5%B3&amp;pn=50&apos;</span>\n&#x53d1;&#x73b0;&#x7f16;&#x7801;&#x540e;&#x4f1a;&#x81ea;&#x52a8;&#x5bf9;&#x591a;&#x4e2a;&#x67e5;&#x8be2;&#x53c2;&#x6570;&#x95f4;&#x6dfb;&#x52a0; &amp; &#x7b26;&#x53f7;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"167,179"}}],"payload":{"tag":"h4","lines":"165,166"}},{"content":"&#x62fc;&#x63a5;URL&#x5730;&#x5740;&#x7684;&#x4e09;&#x79cd;&#x65b9;&#x5f0f;","children":[{"content":"<pre data-lines=\"182,197\"><code class=\"language-python\"><span class=\"hljs-comment\"># url = &apos;http://www.baidu.com/s?&apos;</span>\n<span class=\"hljs-comment\"># params = {&apos;wd&apos;:&apos;&#x8d75;&#x4e3d;&#x9896;&apos;}</span>\n<span class=\"hljs-comment\"># &#x95ee;&#x9898;: &#x8bf7;&#x62fc;&#x63a5;&#x51fa;&#x5b8c;&#x6574;&#x7684;URL&#x5730;&#x5740;</span>\n\nparams = urllib.parse.urlencode(params)\n&#x3010;<span class=\"hljs-number\">1</span>&#x3011;&#x5b57;&#x7b26;&#x4e32;&#x76f8;&#x52a0;\n&#x3010;<span class=\"hljs-number\">2</span>&#x3011;&#x5b57;&#x7b26;&#x4e32;&#x683c;&#x5f0f;&#x5316;&#xff08;&#x5360;&#x4f4d;&#x7b26; %s&#xff09;\n&#x3010;<span class=\"hljs-number\">3</span>&#x3011;<span class=\"hljs-built_in\">format</span>()&#x65b9;&#x6cd5;\n    <span class=\"hljs-string\">&apos;http://www.baidu.com/s?{}&apos;</span>.<span class=\"hljs-built_in\">format</span>(params)\n    \n&#x3010;&#x7ec3;&#x4e60;&#x3011;\n    &#x8fdb;&#x5165;&#x74dc;&#x5b50;&#x4e8c;&#x624b;&#x8f66;&#x76f4;&#x5356;&#x7f51;&#x5b98;&#x7f51; - &#x6211;&#x8981;&#x4e70;&#x8f66; - &#x8bf7;&#x4f7f;&#x7528;<span class=\"hljs-number\">3</span>&#x79cd;&#x65b9;&#x6cd5;&#x62fc;&#x63a5;&#x524d;<span class=\"hljs-number\">20</span>&#x9875;&#x7684;URL&#x5730;&#x5740;,&#x4ece;&#x7ec8;&#x7aef;&#x6253;&#x5370;&#x8f93;&#x51fa;\n    &#x5b98;&#x7f51;&#x5730;&#x5740;&#xff1a;https://www.guazi.com/langfang/\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"182,197"}}],"payload":{"tag":"h4","lines":"180,181"}},{"content":"&#x7ec3;&#x4e60;","children":[{"content":"<pre data-lines=\"200,224\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n&#x95ee;&#x9898;: &#x5728;&#x767e;&#x5ea6;&#x4e2d;&#x8f93;&#x5165;&#x8981;&#x641c;&#x7d22;&#x7684;&#x5185;&#x5bb9;&#xff0c;&#x628a;&#x54cd;&#x5e94;&#x5185;&#x5bb9;&#x4fdd;&#x5b58;&#x5230;&#x672c;&#x5730;&#x6587;&#x4ef6;\n&#x7f16;&#x7801;&#x65b9;&#x6cd5;&#x4f7f;&#x7528; urlencode()\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\">from</span> urllib <span class=\"hljs-keyword\">import</span> parse\n\n<span class=\"hljs-comment\"># 1.&#x62fc;&#x63a5;URL&#x5730;&#x5740;</span>\nword = <span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&apos;&#x8bf7;&#x8f93;&#x5165;&#x641c;&#x7d22;&#x5185;&#x5bb9;:&apos;</span>)\nparams = parse.urlencode({<span class=\"hljs-string\">&apos;wd&apos;</span>:word})\n\nurl = <span class=\"hljs-string\">&apos;http://www.baidu.com/s?{}&apos;</span>\nurl = url.<span class=\"hljs-built_in\">format</span>(params)\n\n<span class=\"hljs-comment\"># 2.&#x53d1;&#x8bf7;&#x6c42;&#x83b7;&#x53d6;&#x54cd;&#x5e94;&#x5185;&#x5bb9;</span>\nheaders = {<span class=\"hljs-string\">&apos;User-Agent&apos;</span>:<span class=\"hljs-string\">&apos;Mozilla/5.0&apos;</span>}\nhtml = requests.get(url=url,headers=headers).content.decode(<span class=\"hljs-string\">&apos;utf-8&apos;</span>)\n\n<span class=\"hljs-comment\"># 3.&#x4fdd;&#x5b58;&#x5230;&#x672c;&#x5730;&#x6587;&#x4ef6;</span>\nfilename = word + <span class=\"hljs-string\">&apos;.html&apos;</span>\n<span class=\"hljs-keyword\">with</span> <span class=\"hljs-built_in\">open</span>(filename,<span class=\"hljs-string\">&apos;w&apos;</span>,encoding=<span class=\"hljs-string\">&apos;utf-8&apos;</span>) <span class=\"hljs-keyword\">as</span> f:\n    f.write(html)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"200,224"}}],"payload":{"tag":"h4","lines":"198,199"}}],"payload":{"tag":"h3","lines":"157,158"}},{"content":"quote(&apos;&#x53c2;&#x6570;&#x4e3a;&#x5b57;&#x7b26;&#x4e32;&apos;)","children":[{"content":"&#x4f7f;&#x7528;&#x65b9;&#x6cd5;","children":[{"content":"<pre data-lines=\"229,235\"><code class=\"language-python\"><span class=\"hljs-comment\"># &#x5bf9;&#x5355;&#x72ec;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#x8fdb;&#x884c;&#x7f16;&#x7801; - URL&#x5730;&#x5740;&#x4e2d;&#x7684;&#x4e2d;&#x6587;&#x5b57;&#x7b26;</span>\nword = <span class=\"hljs-string\">&apos;&#x7f8e;&#x5973;&apos;</span>\nresult = urllib.parse.quote(word)\nresult&#x7ed3;&#x679c;: <span class=\"hljs-string\">&apos;%E7%BE%8E%E5%A5%B3&apos;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"229,235"}}],"payload":{"tag":"h4","lines":"227,228"}},{"content":"&#x7ec3;&#x4e60;","children":[{"content":"<pre data-lines=\"238,262\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n&#x95ee;&#x9898;: &#x5728;&#x767e;&#x5ea6;&#x4e2d;&#x8f93;&#x5165;&#x8981;&#x641c;&#x7d22;&#x7684;&#x5185;&#x5bb9;&#xff0c;&#x628a;&#x54cd;&#x5e94;&#x5185;&#x5bb9;&#x4fdd;&#x5b58;&#x5230;&#x672c;&#x5730;&#x6587;&#x4ef6;\n&#x7f16;&#x7801;&#x65b9;&#x6cd5;&#x4f7f;&#x7528; quote()\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\">from</span> urllib <span class=\"hljs-keyword\">import</span> parse\n\n<span class=\"hljs-comment\"># 1.&#x62fc;&#x63a5;URL&#x5730;&#x5740;</span>\nword = <span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&apos;&#x8bf7;&#x8f93;&#x5165;&#x641c;&#x7d22;&#x5185;&#x5bb9;:&apos;</span>)\nparams = parse.quote(word)\n\nurl = <span class=\"hljs-string\">&apos;http://www.baidu.com/s?wd={}&apos;</span>\nurl = url.<span class=\"hljs-built_in\">format</span>(params)\n\n<span class=\"hljs-comment\"># 2.&#x53d1;&#x8bf7;&#x6c42;&#x83b7;&#x53d6;&#x54cd;&#x5e94;&#x5185;&#x5bb9;</span>\nheaders = {<span class=\"hljs-string\">&apos;User-Agent&apos;</span>:<span class=\"hljs-string\">&apos;Mozilla/5.0&apos;</span>}\nhtml = requests.get(url=url,headers=headers).content.decode(<span class=\"hljs-string\">&apos;utf-8&apos;</span>)\n\n<span class=\"hljs-comment\"># 3.&#x4fdd;&#x5b58;&#x5230;&#x672c;&#x5730;&#x6587;&#x4ef6;</span>\nfilename = word + <span class=\"hljs-string\">&apos;.html&apos;</span>\n<span class=\"hljs-keyword\">with</span> <span class=\"hljs-built_in\">open</span>(filename,<span class=\"hljs-string\">&apos;w&apos;</span>,encoding=<span class=\"hljs-string\">&apos;utf-8&apos;</span>) <span class=\"hljs-keyword\">as</span> f:\n    f.write(html)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"238,262"}}],"payload":{"tag":"h4","lines":"236,237"}},{"content":"unquote(string)&#x89e3;&#x7801;","children":[{"content":"<pre data-lines=\"265,274\"><code class=\"language-python\"><span class=\"hljs-comment\"># &#x5c06;&#x7f16;&#x7801;&#x540e;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#x8f6c;&#x4e3a;&#x666e;&#x901a;&#x7684;Unicode&#x5b57;&#x7b26;&#x4e32;</span>\n<span class=\"hljs-keyword\">from</span> urllib <span class=\"hljs-keyword\">import</span> parse\n\nparams = <span class=\"hljs-string\">&apos;%E7%BE%8E%E5%A5%B3&apos;</span>\nresult = parse.unquote(params)\n\nresult&#x7ed3;&#x679c;: &#x7f8e;&#x5973;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"265,274"}}],"payload":{"tag":"h4","lines":"263,264"}},{"content":"&#x5c0f;&#x603b;&#x7ed3;","children":[{"content":"<pre data-lines=\"277,298\"><code class=\"language-python\">&#x3010;<span class=\"hljs-number\">1</span>&#x3011; &#x4ec0;&#x4e48;&#x662f;robots&#x534f;&#x8bae;\n\n&#x3010;<span class=\"hljs-number\">2</span>&#x3011; requests&#x6a21;&#x5757;&#x4f7f;&#x7528;\n    res = requests.get(url=url,headers={<span class=\"hljs-string\">&apos;User-Agent&apos;</span>:<span class=\"hljs-string\">&apos;xxx&apos;</span>})\n    &#x54cd;&#x5e94;&#x5bf9;&#x8c61;res&#x5c5e;&#x6027;&#xff1a;\n        a&gt; res.text\n        b&gt; res.content\n        c&gt; res.status_code\n        d&gt; res.url\n   \n&#x3010;<span class=\"hljs-number\">3</span>&#x3011;urllib.parse\n   a&gt; urlencode({<span class=\"hljs-string\">&apos;key1&apos;</span>:<span class=\"hljs-string\">&apos;xxx&apos;</span>,<span class=\"hljs-string\">&apos;key2&apos;</span>:<span class=\"hljs-string\">&apos;xxx&apos;</span>})\n   b&gt; quote(<span class=\"hljs-string\">&apos;xxx&apos;</span>)\n   c&gt; unquote(<span class=\"hljs-string\">&apos;xxx&apos;</span>)\n    \n&#x3010;<span class=\"hljs-number\">4</span>&#x3011;URL&#x5730;&#x5740;&#x62fc;&#x63a5; - urlencode()\n   a&gt; <span class=\"hljs-string\">&apos;http://www.baidu.com/s?&apos;</span> + params\n   b&gt; <span class=\"hljs-string\">&apos;http://www.baidu.com/s?%s&apos;</span> % params\n   c&gt; <span class=\"hljs-string\">&apos;http://www.baidu.com/s?{}&apos;</span>.<span class=\"hljs-built_in\">format</span>(params)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"277,298"}}],"payload":{"tag":"h4","lines":"275,276"}}],"payload":{"tag":"h3","lines":"225,226"}}],"payload":{"tag":"h2","lines":"155,156"}},{"content":"&#x6848;&#x4f8b; - &#x767e;&#x5ea6;&#x8d34;&#x5427;&#x6570;&#x636e;&#x6293;&#x53d6;","children":[{"content":"&#x9700;&#x6c42;","children":[{"content":"<pre data-lines=\"303,309\"><code class=\"language-python\">1&#x3001;&#x8f93;&#x5165;&#x8d34;&#x5427;&#x540d;&#x79f0;: &#x8d75;&#x4e3d;&#x9896;&#x5427;\n2&#x3001;&#x8f93;&#x5165;&#x8d77;&#x59cb;&#x9875;: 1\n3&#x3001;&#x8f93;&#x5165;&#x7ec8;&#x6b62;&#x9875;: 2\n4&#x3001;&#x4fdd;&#x5b58;&#x5230;&#x672c;&#x5730;&#x6587;&#x4ef6;&#xff1a;&#x8d75;&#x4e3d;&#x9896;&#x5427;_&#x7b2c;1&#x9875;.html&#x3001;&#x8d75;&#x4e3d;&#x9896;&#x5427;_&#x7b2c;2&#x9875;.html\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"303,309"}}],"payload":{"tag":"h3","lines":"301,302"}},{"content":"&#x5b9e;&#x73b0;&#x6b65;&#x9aa4;","children":[{"content":"<pre data-lines=\"312,325\"><code class=\"language-python\">&#x3010;1&#x3011;&#x67e5;&#x770b;&#x6240;&#x6293;&#x6570;&#x636e;&#x5728;&#x54cd;&#x5e94;&#x5185;&#x5bb9;&#x4e2d;&#x662f;&#x5426;&#x5b58;&#x5728;\n    &#x53f3;&#x952e; - &#x67e5;&#x770b;&#x7f51;&#x9875;&#x6e90;&#x7801; - &#x641c;&#x7d22;&#x5173;&#x952e;&#x5b57;\n\n&#x3010;2&#x3011;&#x67e5;&#x627e;&#x5e76;&#x5206;&#x6790;URL&#x5730;&#x5740;&#x89c4;&#x5f8b;\n    &#x7b2c;1&#x9875;: http://tieba.baidu.com/f?kw=???&amp;pn=0\n    &#x7b2c;2&#x9875;: http://tieba.baidu.com/f?kw=???&amp;pn=50\n    &#x7b2c;n&#x9875;: pn=(n-1)*50\n\n&#x3010;3&#x3011;&#x53d1;&#x8bf7;&#x6c42;&#x83b7;&#x53d6;&#x54cd;&#x5e94;&#x5185;&#x5bb9;\n\n&#x3010;4&#x3011;&#x4fdd;&#x5b58;&#x5230;&#x672c;&#x5730;&#x6587;&#x4ef6;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"312,325"}}],"payload":{"tag":"h3","lines":"310,311"}},{"content":"&#x4ee3;&#x7801;&#x5b9e;&#x73b0;","children":[{"content":"<pre data-lines=\"328,378\"><code class=\"language-python\"><span class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\">from</span> urllib <span class=\"hljs-keyword\">import</span> parse\n<span class=\"hljs-keyword\">import</span> time\n<span class=\"hljs-keyword\">import</span> random\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BaiduSpider</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-variable language_\">self</span>.url=<span class=\"hljs-string\">&apos;http://tieba.baidu.com/f?kw={}&amp;pn={}&apos;</span>\n        <span class=\"hljs-variable language_\">self</span>.headers = { <span class=\"hljs-string\">&apos;User-Agent&apos;</span>:<span class=\"hljs-string\">&apos;Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; InfoPath.3)&apos;</span> }\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_html</span>(<span class=\"hljs-params\">self,url</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x83b7;&#x53d6;&#x54cd;&#x5e94;&#x5185;&#x5bb9;html&quot;&quot;&quot;</span>\n        html = requests.get(url=url,headers=<span class=\"hljs-variable language_\">self</span>.headers).content.decode(<span class=\"hljs-string\">&apos;utf-8&apos;</span>)\n\n        <span class=\"hljs-keyword\">return</span> html\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">parse_html</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x89e3;&#x6790;&#x63d0;&#x53d6;&#x6570;&#x636e;&quot;&quot;&quot;</span>\n        <span class=\"hljs-keyword\">pass</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">save_html</span>(<span class=\"hljs-params\">self,filename,html</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x5904;&#x7406;&#x6570;&#x636e;&quot;&quot;&quot;</span>\n        <span class=\"hljs-keyword\">with</span> <span class=\"hljs-built_in\">open</span>(filename,<span class=\"hljs-string\">&apos;w&apos;</span>,encoding=<span class=\"hljs-string\">&apos;utf-8&apos;</span>) <span class=\"hljs-keyword\">as</span> f:\n            f.write(html)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">run</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x5165;&#x53e3;&#x51fd;&#x6570;&quot;&quot;&quot;</span>\n        name = <span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&apos;&#x8bf7;&#x8f93;&#x5165;&#x8d34;&#x5427;&#x540d;:&apos;</span>)\n        beign_page = <span class=\"hljs-built_in\">int</span>(<span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&apos;&#x8bf7;&#x8f93;&#x5165;&#x8d77;&#x59cb;&#x9875;:&apos;</span>))\n        end_page = <span class=\"hljs-built_in\">int</span>(<span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&apos;&#x8bf7;&#x8f93;&#x5165;&#x7ec8;&#x6b62;&#x9875;:&apos;</span>))\n        <span class=\"hljs-comment\"># &#x5bf9;name&#x8fdb;&#x884c;&#x7f16;&#x7801;</span>\n        params = parse.quote(name)\n        <span class=\"hljs-keyword\">for</span> page <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(beign_page,end_page+<span class=\"hljs-number\">1</span>):\n            <span class=\"hljs-comment\"># &#x62fc;&#x63a5;URL&#x5730;&#x5740;</span>\n            pn = (page-<span class=\"hljs-number\">1</span>)*<span class=\"hljs-number\">50</span>\n            url = <span class=\"hljs-variable language_\">self</span>.url.<span class=\"hljs-built_in\">format</span>(params,pn)\n            <span class=\"hljs-comment\"># &#x8bf7;&#x6c42;+&#x4fdd;&#x5b58;</span>\n            html = <span class=\"hljs-variable language_\">self</span>.get_html(url)\n            filename = <span class=\"hljs-string\">&apos;{}_&#x7b2c;{}&#x9875;.html&apos;</span>.<span class=\"hljs-built_in\">format</span>(name,page)\n            <span class=\"hljs-variable language_\">self</span>.save_html(filename,html)\n            <span class=\"hljs-comment\"># &#x63a7;&#x5236;&#x722c;&#x53d6;&#x9891;&#x7387;:uniform(0,1)&#x751f;&#x6210;0-1&#x4e4b;&#x95f4;&#x6d6e;&#x70b9;&#x6570;</span>\n            time.sleep(random.randint(<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>))\n            <span class=\"hljs-comment\"># time.sleep(random.uniform(0,1))</span>\n            <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&apos;&#x7b2c;%d&#x9875;&#x6293;&#x53d6;&#x5b8c;&#x6210;&apos;</span> % page)\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n    spider = BaiduSpider()\n    spider.run()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"328,378"}}],"payload":{"tag":"h3","lines":"326,327"}}],"payload":{"tag":"h2","lines":"299,300"}}],"payload":{"tag":"h1","lines":"132,133"}},{"content":"&#x6b63;&#x5219;&#x89e3;&#x6790;&#x6a21;&#x5757;re","children":[{"content":"re&#x6a21;&#x5757;&#x4f7f;&#x7528;&#x6d41;&#x7a0b;","children":[{"content":"<pre data-lines=\"383,391\"><code class=\"language-python\"><span class=\"hljs-comment\"># &#x65b9;&#x6cd5;&#x4e00; </span>\nr_list=re.findall(<span class=\"hljs-string\">&apos;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&apos;</span>,html,re.S)\n\n<span class=\"hljs-comment\"># &#x65b9;&#x6cd5;&#x4e8c;</span>\npattern = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&apos;</span>,re.S)\nr_list = pattern.findall(html)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"383,391"}}],"payload":{"tag":"h2","lines":"381,382"}},{"content":"&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#x5143;&#x5b57;&#x7b26;","children":[{"content":"&#x601d;&#x8003; - &#x8bf7;&#x5199;&#x51fa;&#x5339;&#x914d;&#x4efb;&#x610f;&#x4e00;&#x4e2a;&#x5b57;&#x7b26;&#x7684;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#xff1f;","children":[{"content":"<pre data-lines=\"406,416\"><code class=\"language-python\"><span class=\"hljs-keyword\">import</span> re\n<span class=\"hljs-comment\"># &#x65b9;&#x6cd5;&#x4e00;</span>\npattern = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;[\\s\\S]&apos;</span>)\nresult = pattern.findall(html)\n\n<span class=\"hljs-comment\"># &#x65b9;&#x6cd5;&#x4e8c;</span>\npattern = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;.&apos;</span>,re.S)\nresult = pattern.findall(html)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"406,416"}}],"payload":{"tag":"h3","lines":"404,405"}}],"payload":{"tag":"h2","lines":"392,393"}},{"content":"&#x8d2a;&#x5a6a;&#x5339;&#x914d;&#x548c;&#x975e;&#x8d2a;&#x5a6a;&#x5339;&#x914d;","children":[{"content":"&#x8d2a;&#x5a6a;&#x5339;&#x914d;(&#x9ed8;&#x8ba4;)","children":[{"content":"<pre data-lines=\"421,425\"><code class=\"language-python\">1&#x3001;&#x5728;&#x6574;&#x4e2a;&#x8868;&#x8fbe;&#x5f0f;&#x5339;&#x914d;&#x6210;&#x529f;&#x7684;&#x524d;&#x63d0;&#x4e0b;,&#x5c3d;&#x53ef;&#x80fd;&#x591a;&#x7684;&#x5339;&#x914d; * + ?\n2&#x3001;&#x8868;&#x793a;&#x65b9;&#x5f0f;&#xff1a;.* .+ .?\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"421,425"}}],"payload":{"tag":"h3","lines":"419,420"}},{"content":"&#x975e;&#x8d2a;&#x5a6a;&#x5339;&#x914d;","children":[{"content":"<pre data-lines=\"428,432\"><code class=\"language-python\">1&#x3001;&#x5728;&#x6574;&#x4e2a;&#x8868;&#x8fbe;&#x5f0f;&#x5339;&#x914d;&#x6210;&#x529f;&#x7684;&#x524d;&#x63d0;&#x4e0b;,&#x5c3d;&#x53ef;&#x80fd;&#x5c11;&#x7684;&#x5339;&#x914d; * + ?\n2&#x3001;&#x8868;&#x793a;&#x65b9;&#x5f0f;&#xff1a;.*? .+? .??\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"428,432"}}],"payload":{"tag":"h3","lines":"426,427"}},{"content":"&#x4ee3;&#x7801;&#x793a;&#x4f8b;","children":[{"content":"<pre data-lines=\"435,452\"><code class=\"language-python\"><span class=\"hljs-keyword\">import</span> re\n\nhtml = <span class=\"hljs-string\">&apos;&apos;&apos;\n&lt;div&gt;&lt;p&gt;&#x4e5d;&#x9704;&#x9f99;&#x541f;&#x60ca;&#x5929;&#x53d8;&lt;/p&gt;&lt;/div&gt;\n&lt;div&gt;&lt;p&gt;&#x98ce;&#x4e91;&#x9645;&#x4f1a;&#x6f5c;&#x6c34;&#x6e38;&lt;/p&gt;&lt;/div&gt;\n&apos;&apos;&apos;</span>\n<span class=\"hljs-comment\"># &#x8d2a;&#x5a6a;&#x5339;&#x914d;</span>\np = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;&lt;div&gt;&lt;p&gt;.*&lt;/p&gt;&lt;/div&gt;&apos;</span>,re.S)\nr_list = p.findall(html)\n<span class=\"hljs-built_in\">print</span>(r_list)\n\n<span class=\"hljs-comment\"># &#x975e;&#x8d2a;&#x5a6a;&#x5339;&#x914d;</span>\np = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;&lt;div&gt;&lt;p&gt;.*?&lt;/p&gt;&lt;/div&gt;&apos;</span>,re.S)\nr_list = p.findall(html)\n<span class=\"hljs-built_in\">print</span>(r_list)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"435,452"}}],"payload":{"tag":"h3","lines":"433,434"}}],"payload":{"tag":"h2","lines":"417,418"}},{"content":"&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#x5206;&#x7ec4;","children":[{"content":"&#x4f5c;&#x7528;","children":[{"content":"<pre data-lines=\"457,460\"><code class=\"language-python\">&#x5728;&#x5b8c;&#x6574;&#x7684;&#x6a21;&#x5f0f;&#x4e2d;&#x5b9a;&#x4e49;&#x5b50;&#x6a21;&#x5f0f;&#xff0c;&#x5c06;&#x6bcf;&#x4e2a;&#x5706;&#x62ec;&#x53f7;&#x4e2d;&#x5b50;&#x6a21;&#x5f0f;&#x5339;&#x914d;&#x51fa;&#x6765;&#x7684;&#x7ed3;&#x679c;&#x63d0;&#x53d6;&#x51fa;&#x6765;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"457,460"}}],"payload":{"tag":"h3","lines":"455,456"}},{"content":"&#x793a;&#x4f8b;&#x4ee3;&#x7801;","children":[{"content":"<pre data-lines=\"463,482\"><code class=\"language-python\"><span class=\"hljs-keyword\">import</span> re\n\ns = <span class=\"hljs-string\">&apos;A B C D&apos;</span>\np1 = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;\\w+\\s+\\w+&apos;</span>)\n<span class=\"hljs-built_in\">print</span>(p1.findall(s))\n<span class=\"hljs-comment\"># &#x5206;&#x6790;&#x7ed3;&#x679c;&#x662f;&#x4ec0;&#x4e48;&#xff1f;&#xff1f;&#xff1f;</span>\n<span class=\"hljs-comment\"># [&apos;A B&apos;,&apos;C D&apos;]</span>\n\np2 = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;(\\w+)\\s+\\w+&apos;</span>)\n<span class=\"hljs-built_in\">print</span>(p2.findall(s))\n<span class=\"hljs-comment\"># &#x7b2c;1&#x6b65;: [&apos;A B&apos;,&apos;C D&apos;]</span>\n<span class=\"hljs-comment\"># &#x7b2c;2&#x6b65;: [&apos;A&apos;,&apos;C&apos;]</span>\n\np3 = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;(\\w+)\\s+(\\w+)&apos;</span>)\n<span class=\"hljs-built_in\">print</span>(p3.findall(s))\n<span class=\"hljs-comment\"># &#x7b2c;1&#x6b65;: [&apos;A B&apos;,&apos;C D&apos;]</span>\n<span class=\"hljs-comment\"># &#x7b2c;2&#x6b65;: [(&apos;A&apos;,&apos;B&apos;),(&apos;C&apos;,&apos;D&apos;)]</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"463,482"}}],"payload":{"tag":"h3","lines":"461,462"}},{"content":"&#x5206;&#x7ec4;&#x603b;&#x7ed3;","children":[{"content":"<pre data-lines=\"485,490\"><code class=\"language-python\">1&#x3001;&#x5728;&#x7f51;&#x9875;&#x4e2d;,&#x60f3;&#x8981;&#x4ec0;&#x4e48;&#x5185;&#x5bb9;,&#x5c31;&#x52a0;()\n2&#x3001;&#x5148;&#x6309;&#x6574;&#x4f53;&#x6b63;&#x5219;&#x5339;&#x914d;,&#x7136;&#x540e;&#x518d;&#x63d0;&#x53d6;&#x5206;&#x7ec4;()&#x4e2d;&#x7684;&#x5185;&#x5bb9;\n   &#x5982;&#x679c;&#x6709;2&#x4e2a;&#x53ca;&#x4ee5;&#x4e0a;&#x5206;&#x7ec4;(),&#x5219;&#x7ed3;&#x679c;&#x4e2d;&#x4ee5;&#x5143;&#x7ec4;&#x5f62;&#x5f0f;&#x663e;&#x793a; [(),(),()]\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"485,490"}}],"payload":{"tag":"h3","lines":"483,484"}},{"content":"&#x8bfe;&#x5802;&#x7ec3;&#x4e60;","children":[{"content":"<pre data-lines=\"493,503\"><code class=\"language-python\"><span class=\"hljs-comment\"># &#x4ece;&#x5982;&#x4e0b;html&#x4ee3;&#x7801;&#x7ed3;&#x6784;&#x4e2d;&#x5b8c;&#x6210;&#x5982;&#x4e0b;&#x5185;&#x5bb9;&#x4fe1;&#x606f;&#x7684;&#x63d0;&#x53d6;&#xff1a;</span>\n&#x95ee;&#x9898;<span class=\"hljs-number\">1</span> &#xff1a;[(<span class=\"hljs-string\">&apos;Tiger&apos;</span>,<span class=\"hljs-string\">&apos; Two...&apos;</span>),(<span class=\"hljs-string\">&apos;Rabbit&apos;</span>,<span class=\"hljs-string\">&apos;Small..&apos;</span>)]\n&#x95ee;&#x9898;<span class=\"hljs-number\">2</span> &#xff1a;\n\t&#x52a8;&#x7269;&#x540d;&#x79f0; &#xff1a;Tiger\n\t&#x52a8;&#x7269;&#x63cf;&#x8ff0; &#xff1a;Two tigers two tigers run fast\n    \n\t&#x52a8;&#x7269;&#x540d;&#x79f0; &#xff1a;Rabbit\n\t&#x52a8;&#x7269;&#x63cf;&#x8ff0; &#xff1a;Small white rabbit white <span class=\"hljs-keyword\">and</span> white\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"493,503"}}],"payload":{"tag":"h3","lines":"491,492"}},{"content":"&#x9875;&#x9762;&#x7ed3;&#x6784;&#x5982;&#x4e0b;","children":[{"content":"<pre data-lines=\"506,526\"><code class=\"language-python\">&lt;div class=&quot;animal&quot;&gt;\n    &lt;p class=&quot;name&quot;&gt;\n\t\t\t&lt;a title=&quot;Tiger&quot;&gt;&lt;/a&gt;\n    &lt;/p&gt;\n    &lt;p class=&quot;content&quot;&gt;\n\t\t\tTwo tigers two tigers run fast\n    &lt;/p&gt;\n&lt;/div&gt;\n\n&lt;div class=&quot;animal&quot;&gt;\n    &lt;p class=&quot;name&quot;&gt;\n\t\t\t&lt;a title=&quot;Rabbit&quot;&gt;&lt;/a&gt;\n    &lt;/p&gt;\n\n    &lt;p class=&quot;content&quot;&gt;\n\t\t\tSmall white rabbit white and white\n    &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"506,526"}}],"payload":{"tag":"h3","lines":"504,505"}},{"content":"&#x7ec3;&#x4e60;&#x7b54;&#x6848;","children":[{"content":"<pre data-lines=\"529,560\"><code class=\"language-python\"><span class=\"hljs-keyword\">import</span> re\n\nhtml = <span class=\"hljs-string\">&apos;&apos;&apos;&lt;div class=&quot;animal&quot;&gt;\n    &lt;p class=&quot;name&quot;&gt;\n        &lt;a title=&quot;Tiger&quot;&gt;&lt;/a&gt;\n    &lt;/p&gt;\n\n    &lt;p class=&quot;content&quot;&gt;\n        Two tigers two tigers run fast\n    &lt;/p&gt;\n&lt;/div&gt;\n\n&lt;div class=&quot;animal&quot;&gt;\n    &lt;p class=&quot;name&quot;&gt;\n        &lt;a title=&quot;Rabbit&quot;&gt;&lt;/a&gt;\n    &lt;/p&gt;\n\n    &lt;p class=&quot;content&quot;&gt;\n        Small white rabbit white and white\n    &lt;/p&gt;\n&lt;/div&gt;&apos;&apos;&apos;</span>\n\np = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;&lt;div class=&quot;animal&quot;&gt;.*?title=&quot;(.*?)&quot;.*?content&quot;&gt;(.*?)&lt;/p&gt;.*?&lt;/div&gt;&apos;</span>,re.S)\nr_list = p.findall(html)\n\n<span class=\"hljs-keyword\">for</span> rt <span class=\"hljs-keyword\">in</span> r_list:\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&apos;&#x52a8;&#x7269;&#x540d;&#x79f0;:&apos;</span>,rt[<span class=\"hljs-number\">0</span>].strip())\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&apos;&#x52a8;&#x7269;&#x63cf;&#x8ff0;:&apos;</span>,rt[<span class=\"hljs-number\">1</span>].strip())\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&apos;*&apos;</span> * <span class=\"hljs-number\">50</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"529,560"}}],"payload":{"tag":"h3","lines":"527,528"}}],"payload":{"tag":"h2","lines":"453,454"}},{"content":"&#x732b;&#x773c;&#x7535;&#x5f71;top100&#x6293;&#x53d6;&#x6848;&#x4f8b;","children":[{"content":"&#x722c;&#x866b;&#x9700;&#x6c42;","children":[{"content":"<pre data-lines=\"565,572\"><code class=\"language-python\">&#x3010;1&#x3011;&#x786e;&#x5b9a;URL&#x5730;&#x5740;\n    &#x767e;&#x5ea6;&#x641c;&#x7d22; - &#x732b;&#x773c;&#x7535;&#x5f71; - &#x699c;&#x5355; - top100&#x699c;\n\n&#x3010;2&#x3011; &#x722c;&#x53d6;&#x76ee;&#x6807;\n    &#x6240;&#x6709;&#x7535;&#x5f71;&#x7684; &#x7535;&#x5f71;&#x540d;&#x79f0;&#x3001;&#x4e3b;&#x6f14;&#x3001;&#x4e0a;&#x6620;&#x65f6;&#x95f4;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"565,572"}}],"payload":{"tag":"h3","lines":"563,564"}},{"content":"&#x722c;&#x866b;&#x5b9e;&#x73b0;","children":[{"content":"<pre data-lines=\"575,589\"><code class=\"language-python\">&#x3010;1&#x3011;&#x67e5;&#x770b;&#x7f51;&#x9875;&#x6e90;&#x7801;&#xff0c;&#x786e;&#x8ba4;&#x6570;&#x636e;&#x6765;&#x6e90;\n    &#x54cd;&#x5e94;&#x5185;&#x5bb9;&#x4e2d;&#x5b58;&#x5728;&#x6240;&#x9700;&#x6293;&#x53d6;&#x6570;&#x636e; - &#x7535;&#x5f71;&#x540d;&#x79f0;&#x3001;&#x4e3b;&#x6f14;&#x3001;&#x4e0a;&#x6620;&#x65f6;&#x95f4;\n\n&#x3010;2&#x3011;&#x7ffb;&#x9875;&#x5bfb;&#x627e;URL&#x5730;&#x5740;&#x89c4;&#x5f8b;\n    &#x7b2c;1&#x9875;&#xff1a;https://maoyan.com/board/4?offset=0\n    &#x7b2c;2&#x9875;&#xff1a;https://maoyan.com/board/4?offset=10\n    &#x7b2c;n&#x9875;&#xff1a;offset=(n-1)*10\n\n&#x3010;3&#x3011;&#x7f16;&#x5199;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;\n    &lt;div class=&quot;movie-item-info&quot;&gt;.*?title=&quot;(.*?)&quot;.*?class=&quot;star&quot;&gt;(.*?)&lt;/p&gt;.*?releasetime&quot;&gt;(.*?)&lt;/p&gt;\n    \n&#x3010;4&#x3011;&#x5f00;&#x5e72;&#x5427;&#x5144;&#x5f1f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"575,589"}},{"content":"<pre data-lines=\"589,592\"><code data-lines=\"589,592\">&lt;div <span class=\"hljs-keyword\">class</span>=<span class=\"hljs-string\">&quot;movie-item-info&quot;</span>&gt;.*<span class=\"hljs-string\">?t</span>itle=<span class=\"hljs-string\">&quot;(.*?)&quot;</span>.*<span class=\"hljs-string\">?&lt;</span>p <span class=\"hljs-keyword\">class</span>=<span class=\"hljs-string\">&quot;star&quot;</span>&gt;(.*<span class=\"hljs-string\">?)</span>&lt;<span class=\"hljs-regexp\">/p&gt;.*?&lt;p class=&quot;releasetime&quot;&gt;&#x4e0a;&#x6620;&#x65f6;&#x95f4;&#xff1a;(.*?)&lt;/p</span>&gt;.*<span class=\"hljs-string\">?&lt;</span>/div&gt;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"589,592"}},{"content":"<pre data-lines=\"593,646\"><code data-lines=\"593,646\">- &#x4ee3;&#x7801;&#x5b9e;&#x73b0; - &#x521d;&#x59cb;&#x4ee3;&#x7801;\n\n  ```python\n  <span class=\"hljs-keyword\">import</span> requests\n  <span class=\"hljs-keyword\">import</span> re\n  <span class=\"hljs-keyword\">import</span> time\n  <span class=\"hljs-keyword\">import</span> random\n  \n  \n  <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MaoyanSpider</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n      <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n          <span class=\"hljs-variable language_\">self</span>.url = <span class=\"hljs-string\">&apos;https://maoyan.com/board/4?offset={}&apos;</span>\n          <span class=\"hljs-variable language_\">self</span>.headers = {<span class=\"hljs-string\">&apos;User-Agent&apos;</span>: <span class=\"hljs-string\">&apos;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.835.163 Safari/535.1&apos;</span>}\n          <span class=\"hljs-variable language_\">self</span>.i = <span class=\"hljs-number\">0</span>\n  \n      <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_html</span>(<span class=\"hljs-params\">self,url</span>):\n          html = requests.get(url=url,headers=<span class=\"hljs-variable language_\">self</span>.headers).text\n          <span class=\"hljs-comment\"># &#x76f4;&#x63a5;&#x8c03;&#x7528;&#x89e3;&#x6790;&#x51fd;&#x6570;</span>\n          <span class=\"hljs-variable language_\">self</span>.parse_html(html)\n  \n      <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">parse_html</span>(<span class=\"hljs-params\">self,html</span>):\n          <span class=\"hljs-string\">&quot;&quot;&quot;&#x6b63;&#x5219;&#x89e3;&#x6790;&#x51fd;&#x6570;&quot;&quot;&quot;</span>\n          regex = <span class=\"hljs-string\">&apos;&lt;div class=&quot;movie-item-info&quot;&gt;.*?title=&quot;(.*?)&quot;.*?class=&quot;star&quot;&gt;(.*?)&lt;/p&gt;.*?releasetime&quot;&gt;(.*?)&lt;/p&gt;&apos;</span>\n          pattern = re.<span class=\"hljs-built_in\">compile</span>(regex,re.S)\n          <span class=\"hljs-comment\"># dd_list: [(),(),()]</span>\n          dd_list = pattern.findall(html)\n          <span class=\"hljs-variable language_\">self</span>.save_html(dd_list)\n  \n      <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">save_html</span>(<span class=\"hljs-params\">self,dd_list</span>):\n          <span class=\"hljs-string\">&quot;&quot;&quot;&#x4fdd;&#x5b58;&#x6570;&#x636e;&#x51fd;&#x6570;&quot;&quot;&quot;</span>\n          item = {}\n          <span class=\"hljs-keyword\">for</span> dd <span class=\"hljs-keyword\">in</span> dd_list:\n              item[<span class=\"hljs-string\">&apos;name&apos;</span>] = dd[<span class=\"hljs-number\">0</span>].strip()\n              item[<span class=\"hljs-string\">&apos;star&apos;</span>] = dd[<span class=\"hljs-number\">1</span>].strip()[<span class=\"hljs-number\">3</span>:]\n              item[<span class=\"hljs-string\">&apos;time&apos;</span>] = dd[<span class=\"hljs-number\">2</span>].strip()[<span class=\"hljs-number\">5</span>:<span class=\"hljs-number\">15</span>]\n              <span class=\"hljs-built_in\">print</span>(item)\n              <span class=\"hljs-variable language_\">self</span>.i += <span class=\"hljs-number\">1</span>\n  \n      <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">run</span>(<span class=\"hljs-params\">self</span>):\n          <span class=\"hljs-keyword\">for</span> offset <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">91</span>,<span class=\"hljs-number\">10</span>):\n              url = <span class=\"hljs-variable language_\">self</span>.url.<span class=\"hljs-built_in\">format</span>(offset)\n              <span class=\"hljs-variable language_\">self</span>.get_html(url)\n              time.sleep(random.randint(<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">3</span>))\n          <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&apos;&#x7535;&#x5f71;&#x6570;&#x91cf;&#xff1a;&apos;</span>,<span class=\"hljs-variable language_\">self</span>.i)\n  \n  <span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n      start_time = time.time()\n      spider = MaoyanSpider()\n      spider.run()\n      end_time = time.time()\n      <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&apos;&#x6267;&#x884c;&#x65f6;&#x95f4;:%.2f&apos;</span> % (end_time-start_time))\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"593,646"}}],"payload":{"tag":"h3","lines":"573,574"}}],"payload":{"tag":"h2","lines":"561,562"}}],"payload":{"tag":"h1","lines":"379,380"}},{"content":"&#x4eca;&#x65e5;&#x4f5c;&#x4e1a;","children":[{"content":"&#x628a;&#x767e;&#x5ea6;&#x8d34;&#x5427;&#x6848;&#x4f8b;&#x91cd;&#x5199;&#x4e00;&#x904d;,&#x4e0d;&#x8981;&#x53c2;&#x7167;&#x8bfe;&#x4e0a;&#x4ee3;&#x7801;","children":[],"payload":{"tag":"h3","lines":"649,650"}},{"content":"&#x732b;&#x773c;&#x7535;&#x5f71;&#x6848;&#x4f8b;&#x91cd;&#x5199;&#x4e00;&#x904d;,&#x4e0d;&#x8981;&#x53c2;&#x7167;&#x8bfe;&#x4e0a;&#x4ee3;&#x7801;","children":[],"payload":{"tag":"h3","lines":"651,652"}},{"content":"&#x590d;&#x4e60;&#x4efb;&#x52a1;","children":[{"content":"<pre data-lines=\"655,660\"><code class=\"language-python\">pymysql&#x3001;MySQL&#x57fa;&#x672c;&#x547d;&#x4ee4;\nMySQL&#x3000;&#xff1a;&#x5efa;&#x5e93;&#x5efa;&#x8868;&#x666e;&#x901a;&#x67e5;&#x8be2;&#x3001;&#x63d2;&#x5165;&#x3001;&#x5220;&#x9664;&#x7b49;\nRedis &#xff1a; python&#x548c;redis&#x4ea4;&#x4e92;,&#x96c6;&#x5408;&#x57fa;&#x672c;&#x64cd;&#x4f5c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"655,660"}}],"payload":{"tag":"h3","lines":"653,654"}},{"content":"&#x5efa;&#x5e93;&#x5efa;&#x8868;","children":[{"content":"<pre data-lines=\"663,676\"><code class=\"language-python\">&#x3010;1&#x3011;&#x4f7f;&#x7528;SQL&#x547d;&#x4ee4;&#x5b8c;&#x6210;\n    1.1) &#x521b;&#x5efa;&#x5e93; maoyandb ,&#x5b57;&#x7b26;&#x7f16;&#x7801;&#x4e3a; utf8\n    1.2) &#x5728;maoyandb&#x5e93;&#x4e2d;&#x521b;&#x5efa;&#x8868; maoyantab&#xff0c;&#x5b57;&#x6bb5;&#x8981;&#x6c42;&#x5982;&#x4e0b;&#xff1a;\n         name &#x53d8;&#x957f;,&#x5bbd;&#x5ea6;&#x4e3a;100\n         star &#x53d8;&#x957f;,&#x5bbd;&#x5ea6;&#x4e3a;500\n         time &#x53d8;&#x957f;,&#x5bbd;&#x5ea6;&#x4e3a;100\n        \n&#x3010;2&#x3011;&#x4f7f;&#x7528;pymysql&#x6a21;&#x5757;&#x5b8c;&#x6210;\n    &#x5728;&#x8868;maoyantab&#x4e2d;&#x63d2;&#x5165;1&#x6761;&#x8868;&#x8bb0;&#x5f55;&#xff08;&#x7535;&#x5f71;&#x540d;&#x79f0;&#x3001;&#x4e3b;&#x6f14;&#x3001;&#x4e0a;&#x6620;&#x65f6;&#x95f4;&#x4e09;&#x4e2a;&#x5b57;&#x6bb5;&#xff09;\n    \n&#x3010;3&#x3011;&#x5c06;&#x732b;&#x773c;&#x7535;&#x5f71;&#x6848;&#x4f8b;&#x4e2d;&#x6240;&#x6293;&#x53d6;&#x7684;&#x7535;&#x5f71;&#x4fe1;&#x606f;&#x5b58;&#x5165;&#x5230;MySQL&#x6570;&#x636e;&#x5e93;&#x7684;maoyantab&#x8868;&#x4e2d;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"663,676"}}],"payload":{"tag":"h3","lines":"661,662"}},{"content":"&#x793a;&#x4f8b;","children":[{"content":"<pre data-lines=\"681,700\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n01_requests.py\n&#x6b64;&#x751f;&#x7b2c;&#x4e00;&#x4e2a;&#x722c;&#x866b;\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">import</span> requests\n\n<span class=\"hljs-comment\"># 1&#x3001;get()&#xff1a;&#x5411;&#x7f51;&#x7ad9;&#x53d1;&#x8d77;&#x8bf7;&#x6c42;,&#x5e76;&#x83b7;&#x53d6; &#x54cd;&#x5e94;&#x5bf9;&#x8c61;</span>\nres = requests.get(url=<span class=\"hljs-string\">&apos;https://www.jd.com/&apos;</span>)\n<span class=\"hljs-comment\"># 2&#x3001;text&#x5c5e;&#x6027;&#xff1a;&#x83b7;&#x53d6;&#x54cd;&#x5e94;&#x5bf9;&#x8c61;&#x5185;&#x5bb9; - &#x5b57;&#x7b26;&#x4e32;&#xff08;&#x53f3;&#x952e;-&#x67e5;&#x770b;&#x7f51;&#x9875;&#x6e90;&#x4ee3;&#x7801;&#xff09;</span>\nhtml = res.text\n<span class=\"hljs-comment\"># 3&#x3001;content&#x5c5e;&#x6027;&#xff1a;&#x83b7;&#x53d6;&#x54cd;&#x5e94;&#x5185;&#x5bb9; - bytes</span>\nhtml = res.content\n<span class=\"hljs-comment\"># 4&#x3001;status_code&#xff1a;HTTP&#x54cd;&#x5e94;&#x7801;</span>\ncode = res.status_code\n<span class=\"hljs-comment\"># 5&#x3001;url&#xff1a;&#x8fd4;&#x56de;&#x5b9e;&#x9645;&#x6570;&#x636e;&#x7684;URL&#x5730;&#x5740;</span>\nurl = res.url\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"681,700"}},{"content":"<pre data-lines=\"701,718\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n02_httpbin.py\n\n&#x5411;&#x6d4b;&#x8bd5;&#x7f51;&#x7ad9; http://httpbin.org/get &#x53d1;&#x8bf7;&#x6c42;,&#x786e;&#x8ba4; headers\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">import</span> requests\n\n<span class=\"hljs-comment\"># 1&#x3001;&#x5411;&#x6d4b;&#x8bd5;&#x7f51;&#x7ad9;&#x53d1;&#x8bf7;&#x6c42;</span>\nurl = <span class=\"hljs-string\">&apos;http://httpbin.org/get&apos;</span>\nheaders = {<span class=\"hljs-string\">&apos;User-Agent&apos;</span>:<span class=\"hljs-string\">&apos;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0) Gecko/20100101 Firefox/6.0&apos;</span>}\nres = requests.get(url=url,headers=headers)\n<span class=\"hljs-comment\"># 2&#x3001;&#x83b7;&#x53d6;&#x54cd;&#x5e94;&#x5185;&#x5bb9;,&#x786e;&#x8ba4;User-Agent</span>\nhtml = res.text\n<span class=\"hljs-built_in\">print</span>(html)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"701,718"}},{"content":"<pre data-lines=\"719,747\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n03_urlencode.py\n\n&#x7ec8;&#x7aef;&#x8f93;&#x5165;&#x5173;&#x952e;&#x5b57;,&#x628a;&#x54cd;&#x5e94;&#x5185;&#x5bb9;&#x4fdd;&#x5b58;&#x5230;&#x672c;&#x5730;\n&#x8fd0;&#x884c;&#x6548;&#x679c;&#xff1a;\n    &#x8bf7;&#x8f93;&#x5165;&#x5173;&#x952e;&#x5b57;&#xff1a;&#x8d75;&#x4e3d;&#x9896;\n    &#x6700;&#x7ec8;&#x4fdd;&#x5b58; &#x8d75;&#x4e3d;&#x9896;.html &#x6587;&#x4ef6;&#x5230;&#x5f53;&#x524d;&#x8def;&#x5f84;\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\">from</span> urllib <span class=\"hljs-keyword\">import</span> parse\n\n<span class=\"hljs-comment\"># 1&#x3001;&#x62fc;&#x63a5;URL&#x5730;&#x5740;</span>\nurl = <span class=\"hljs-string\">&apos;http://www.baidu.com/s?{}&apos;</span>\nword = <span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&apos;&#x8bf7;&#x8f93;&#x5165;&#x5173;&#x952e;&#x5b57;:&apos;</span>)\nparams = parse.urlencode({<span class=\"hljs-string\">&apos;wd&apos;</span>:word})\nfull_url = url.<span class=\"hljs-built_in\">format</span>(params)\n\n<span class=\"hljs-comment\"># 2&#x3001;&#x53d1;&#x8bf7;&#x6c42;&#x83b7;&#x53d6;&#x54cd;&#x5e94;&#x5185;&#x5bb9;</span>\nheaders = {<span class=\"hljs-string\">&apos;User-Agent&apos;</span>:<span class=\"hljs-string\">&apos;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0) Gecko/20100101 Firefox/6.0&apos;</span>}\nhtml = requests.get(url=full_url,headers=headers).text\n\n<span class=\"hljs-comment\"># 3&#x3001;&#x4fdd;&#x5b58;&#x5230;&#x672c;&#x5730;&#x6587;&#x4ef6;</span>\nfilename = <span class=\"hljs-string\">&apos;{}.html&apos;</span>.<span class=\"hljs-built_in\">format</span>(word)\n<span class=\"hljs-keyword\">with</span> <span class=\"hljs-built_in\">open</span>(filename,<span class=\"hljs-string\">&apos;w&apos;</span>,encoding=<span class=\"hljs-string\">&apos;utf-8&apos;</span>) <span class=\"hljs-keyword\">as</span> f:\n    f.write(html)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"719,747"}},{"content":"<pre data-lines=\"748,777\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n04_quote.py\n\nquote()&#x65b9;&#x6cd5;&#x6f14;&#x793a;\n&#x7ec8;&#x7aef;&#x8f93;&#x5165;&#x5173;&#x952e;&#x5b57;,&#x628a;&#x54cd;&#x5e94;&#x5185;&#x5bb9;&#x4fdd;&#x5b58;&#x5230;&#x672c;&#x5730;\n&#x8fd0;&#x884c;&#x6548;&#x679c;&#xff1a;\n    &#x8bf7;&#x8f93;&#x5165;&#x5173;&#x952e;&#x5b57;&#xff1a;&#x8d75;&#x4e3d;&#x9896;\n    &#x6700;&#x7ec8;&#x4fdd;&#x5b58; &#x8d75;&#x4e3d;&#x9896;.html &#x6587;&#x4ef6;&#x5230;&#x5f53;&#x524d;&#x8def;&#x5f84;\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\">from</span> urllib <span class=\"hljs-keyword\">import</span> parse\n\n<span class=\"hljs-comment\"># 1&#x3001;&#x62fc;&#x63a5;URL&#x5730;&#x5740;</span>\nurl = <span class=\"hljs-string\">&apos;http://www.baidu.com/s?wd={}&apos;</span>\nword = <span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&apos;&#x8bf7;&#x8f93;&#x5165;&#x5173;&#x952e;&#x5b57;:&apos;</span>)\nparams = parse.quote(word)\nfull_url = url.<span class=\"hljs-built_in\">format</span>(params)\n\n<span class=\"hljs-comment\"># 2&#x3001;&#x53d1;&#x8bf7;&#x6c42;&#x83b7;&#x53d6;&#x54cd;&#x5e94;&#x5185;&#x5bb9;</span>\nheaders = {<span class=\"hljs-string\">&apos;User-Agent&apos;</span>:<span class=\"hljs-string\">&apos;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0) Gecko/20100101 Firefox/6.0&apos;</span>}\nhtml = requests.get(url=full_url,headers=headers).text\n\n<span class=\"hljs-comment\"># 3&#x3001;&#x4fdd;&#x5b58;&#x5230;&#x672c;&#x5730;&#x6587;&#x4ef6;</span>\nfilename = <span class=\"hljs-string\">&apos;{}.html&apos;</span>.<span class=\"hljs-built_in\">format</span>(word)\n<span class=\"hljs-keyword\">with</span> <span class=\"hljs-built_in\">open</span>(filename,<span class=\"hljs-string\">&apos;w&apos;</span>,encoding=<span class=\"hljs-string\">&apos;utf-8&apos;</span>) <span class=\"hljs-keyword\">as</span> f:\n    f.write(html)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"748,777"}},{"content":"<pre data-lines=\"778,837\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n05_tiebaSpider.py\n\n&#x7a0b;&#x5e8f;&#x8fd0;&#x884c;&#x6548;&#x679c;&#xff1a;\n    &#x8bf7;&#x8f93;&#x5165;&#x8d34;&#x5427;&#x540d;&#x79f0;&#xff1a;&#x8d75;&#x4e3d;&#x9896;&#x5427;\n    &#x8bf7;&#x8f93;&#x5165;&#x8d77;&#x59cb;&#x9875;&#xff1a;2\n    &#x8bf7;&#x8f93;&#x5165;&#x7ec8;&#x6b62;&#x9875;&#xff1a;3\n    &#x6700;&#x7ec8;&#x4fdd;&#x5b58;&#xff1a;&#x8d75;&#x4e3d;&#x9896;&#x5427;_&#x7b2c;2&#x9875;.html  &#x8d75;&#x4e3d;&#x9896;&#x5427;_&#x7b2c;3&#x9875;.html\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\">from</span> urllib <span class=\"hljs-keyword\">import</span> parse\n<span class=\"hljs-keyword\">import</span> time\n<span class=\"hljs-keyword\">import</span> random\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">TiebaSpider</span>:\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x5b9a;&#x4e49;&#x5e38;&#x7528;&#x53d8;&#x91cf;&quot;&quot;&quot;</span>\n        <span class=\"hljs-variable language_\">self</span>.url = <span class=\"hljs-string\">&apos;http://tieba.baidu.com/f?kw={}&amp;pn={}&apos;</span>\n        <span class=\"hljs-variable language_\">self</span>.headers = {<span class=\"hljs-string\">&apos;User-Agent&apos;</span>:<span class=\"hljs-string\">&apos;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0) Gecko/20100101 Firefox/6.0&apos;</span>}\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_html</span>(<span class=\"hljs-params\">self,url</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x53d1;&#x8bf7;&#x6c42;&#x5f97;&#x5230;&#x54cd;&#x5e94;&#x5185;&#x5bb9;html&quot;&quot;&quot;</span>\n        html = requests.get(url=url,headers=<span class=\"hljs-variable language_\">self</span>.headers).text\n\n        <span class=\"hljs-keyword\">return</span> html\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">parse_html</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x5177;&#x4f53;&#x6570;&#x636e;&#x89e3;&#x6790;&#x63d0;&#x53d6;&quot;&quot;&quot;</span>\n        <span class=\"hljs-keyword\">pass</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">save_html</span>(<span class=\"hljs-params\">self, filename, html</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x5177;&#x4f53;&#x5904;&#x7406;&#x6570;&#x636e;&#x51fd;&#x6570;&quot;&quot;&quot;</span>\n        <span class=\"hljs-keyword\">with</span> <span class=\"hljs-built_in\">open</span>(filename,<span class=\"hljs-string\">&apos;w&apos;</span>,encoding=<span class=\"hljs-string\">&apos;utf-8&apos;</span>) <span class=\"hljs-keyword\">as</span> f:\n            f.write(html)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">run</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x7a0b;&#x5e8f;&#x5165;&#x53e3;&#x51fd;&#x6570;&quot;&quot;&quot;</span>\n        name = <span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&apos;&#x8bf7;&#x8f93;&#x5165;&#x8d34;&#x5427;&#x540d;:&apos;</span>)\n        start = <span class=\"hljs-built_in\">int</span>(<span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&apos;&#x8bf7;&#x8f93;&#x5165;&#x8d77;&#x59cb;&#x9875;:&apos;</span>))\n        end = <span class=\"hljs-built_in\">int</span>(<span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&apos;&#x8bf7;&#x8f93;&#x5165;&#x7ec8;&#x6b62;&#x9875;:&apos;</span>))\n        <span class=\"hljs-comment\"># &#x62fc;&#x63a5;URL&#x5730;&#x5740;,&#x5f00;&#x59cb;&#x6570;&#x636e;&#x6293;&#x53d6;</span>\n        params = parse.quote(name)\n        <span class=\"hljs-keyword\">for</span> page <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(start,end+<span class=\"hljs-number\">1</span>):\n            pn = (page - <span class=\"hljs-number\">1</span>) * <span class=\"hljs-number\">50</span>\n            url = <span class=\"hljs-variable language_\">self</span>.url.<span class=\"hljs-built_in\">format</span>(params,pn)\n            <span class=\"hljs-comment\"># &#x5f00;&#x59cb;&#x5404;&#x79cd;&#x8c03;&#x7528;&#x51fd;&#x6570;</span>\n            html = <span class=\"hljs-variable language_\">self</span>.get_html(url=url)\n            filename = <span class=\"hljs-string\">&apos;{}_&#x7b2c;{}&#x9875;.html&apos;</span>.<span class=\"hljs-built_in\">format</span>(name,page)\n            <span class=\"hljs-variable language_\">self</span>.save_html(filename,html)\n            <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&apos;&#x7b2c;%d&#x9875;&#x6293;&#x53d6;&#x5b8c;&#x6210;&apos;</span> % page)\n            <span class=\"hljs-comment\"># &#x63a7;&#x5236;&#x6570;&#x636e;&#x6293;&#x53d6;&#x7684;&#x9891;&#x7387;,&#x6bcf;&#x6293;&#x53d6;1&#x9875;&#x968f;&#x673a;&#x4f11;&#x7720;1-2&#x79d2;&#x949f;</span>\n            time.sleep(random.randint(<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>))\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n    spider = TiebaSpider()\n    spider.run()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"778,837"}},{"content":"<pre data-lines=\"838,865\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n06_greed.py\n\n&#x8d2a;&#x5a6a;&#x5339;&#x914d;&#x548c;&#x975e;&#x8d2a;&#x5a6a;&#x5339;&#x914d;&#x793a;&#x4f8b;\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">import</span> re\n\nhtml = <span class=\"hljs-string\">&quot;&quot;&quot;\n&lt;div&gt;&lt;p&gt;&#x5982;&#x679c;&#x4f60;&#x4e3a;&#x95e8;&#x4e2d;&#x5f1f;&#x5b50;&#x4f24;&#x5979;&#x4e00;&#x5206;,&#x6211;&#x4fbf;&#x5c60;&#x4f60;&#x6ee1;&#x95e8;&lt;/p&gt;&lt;/div&gt;\n&lt;div&gt;&lt;p&gt;&#x5982;&#x679c;&#x4f60;&#x4e3a;&#x5929;&#x4e0b;&#x4eba;&#x5b59;&#x5979;&#x4e00;&#x6beb;,&#x6211;&#x4fbf;&#x6740;&#x5c3d;&#x5929;&#x4e0b;&#x4eba;&lt;/p&gt;&lt;/div&gt;\n&quot;&quot;&quot;</span>\n\n<span class=\"hljs-comment\"># &#x8d2a;&#x5a6a;&#x5339;&#x914d;</span>\npattern = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;&lt;div&gt;&lt;p&gt;.*&lt;/p&gt;&lt;/div&gt;&apos;</span>,re.S)\nr_list = pattern.findall(html)\n\n<span class=\"hljs-comment\"># &#x975e;&#x8d2a;&#x5a6a;&#x5339;&#x914d;</span>\npattern = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;&lt;div&gt;&lt;p&gt;.*?&lt;/p&gt;&lt;/div&gt;&apos;</span>,re.S)\nr_list = pattern.findall(html)\n\n<span class=\"hljs-comment\"># &#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#x5206;&#x7ec4;</span>\npattern = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;&lt;div&gt;&lt;p&gt;(.*?)&lt;/p&gt;&lt;/div&gt;&apos;</span>,re.S)\nr_list = pattern.findall(html)\n<span class=\"hljs-built_in\">print</span>(r_list)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"838,865"}},{"content":"<pre data-lines=\"866,891\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n07_reGroup.py\n\n&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#x5206;&#x7ec4;&#x793a;&#x4f8b;\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">import</span> re\n\ns = <span class=\"hljs-string\">&apos;A B C D&apos;</span>\np1 = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;\\w+\\s+\\w+&apos;</span>)\n<span class=\"hljs-built_in\">print</span>(p1.findall(s))\n<span class=\"hljs-comment\"># &#x5206;&#x6790;&#x7ed3;&#x679c;&#x662f;&#x4ec0;&#x4e48;&#xff1f;&#xff1f;&#xff1f;</span>\n<span class=\"hljs-comment\"># [&apos;A B&apos;,&apos;C D&apos;]</span>\n\np2 = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;(\\w+)\\s+\\w+&apos;</span>)\n<span class=\"hljs-built_in\">print</span>(p2.findall(s))\n<span class=\"hljs-comment\"># &#x7b2c;1&#x6b65;: [&apos;A B&apos;,&apos;C D&apos;]</span>\n<span class=\"hljs-comment\"># &#x7b2c;2&#x6b65;: [&apos;A&apos;,&apos;C&apos;]</span>\n\np3 = re.<span class=\"hljs-built_in\">compile</span>(<span class=\"hljs-string\">&apos;(\\w+)\\s+(\\w+)&apos;</span>)\n<span class=\"hljs-built_in\">print</span>(p3.findall(s))\n<span class=\"hljs-comment\"># &#x7b2c;1&#x6b65;: [&apos;A B&apos;,&apos;C D&apos;]</span>\n<span class=\"hljs-comment\"># &#x7b2c;2&#x6b65;: [(&apos;A&apos;,&apos;B&apos;),(&apos;C&apos;,&apos;D&apos;)]</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"866,891"}},{"content":"<pre data-lines=\"892,931\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n08_reGroupExercise.py\n\n&#x6b63;&#x5219;&#x5206;&#x7ec4;&#x7ec3;&#x4e60;\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">import</span> re\n\nhtml = <span class=\"hljs-string\">&quot;&quot;&quot;\n&lt;div class=&quot;animal&quot;&gt;\n    &lt;p class=&quot;name&quot;&gt;\n\t\t\t&lt;a title=&quot;Tiger&quot;&gt;&lt;/a&gt;\n    &lt;/p&gt;\n    &lt;p class=&quot;content&quot;&gt;\n\t\t\tTwo tigers two tigers run fast\n    &lt;/p&gt;\n&lt;/div&gt;\n\n&lt;div class=&quot;animal&quot;&gt;\n    &lt;p class=&quot;name&quot;&gt;\n\t\t\t&lt;a title=&quot;Rabbit&quot;&gt;&lt;/a&gt;\n    &lt;/p&gt;\n\n    &lt;p class=&quot;content&quot;&gt;\n\t\t\tSmall white rabbit white and white\n    &lt;/p&gt;\n&lt;/div&gt;\n&quot;&quot;&quot;</span>\nregex = <span class=\"hljs-string\">&apos;&lt;div class=&quot;animal&quot;&gt;.*?&lt;a title=&quot;(.*?)&quot;.*?&lt;p class=&quot;content&quot;&gt;(.*?)&lt;/p&gt;.*?&lt;/div&gt;&apos;</span>\npattern = re.<span class=\"hljs-built_in\">compile</span>(regex,re.S)\n<span class=\"hljs-comment\"># &#x7b2c;1&#x6b65;&#x5b9e;&#x73b0;</span>\nr_list = pattern.findall(html)\n<span class=\"hljs-comment\"># &#x7b2c;2&#x6b65;&#x5b9e;&#x73b0;</span>\n<span class=\"hljs-keyword\">for</span> r <span class=\"hljs-keyword\">in</span> r_list:\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&apos;&#x52a8;&#x7269;&#x540d;&#x79f0;&#xff1a;&apos;</span>,r[<span class=\"hljs-number\">0</span>])\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&apos;&#x52a8;&#x7269;&#x63cf;&#x8ff0;&#xff1a;&apos;</span>,r[<span class=\"hljs-number\">1</span>].strip())\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&apos;*&apos;</span> * <span class=\"hljs-number\">50</span>)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"892,931"}},{"content":"<pre data-lines=\"932,991\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n09_maoyanSpider.py\n\n&#x6293;&#x53d6;&#x732b;&#x773c;&#x7535;&#x5f71; - &#x699c;&#x5355; - top100&#x699c;&#xff08;&#x540d;&#x79f0;&#x3001;&#x4e3b;&#x6f14;&#x3001;&#x4e0a;&#x6620;&#x65f6;&#x95f4;&#xff09;\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\">import</span> re\n<span class=\"hljs-keyword\">import</span> time\n<span class=\"hljs-keyword\">import</span> random\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MaoyanSpider</span>:\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-variable language_\">self</span>.url = <span class=\"hljs-string\">&apos;https://maoyan.com/board/4?offset={}&apos;</span>\n        <span class=\"hljs-comment\"># &#x732b;&#x773c;&#x7535;&#x5f71;&#x53cd;&#x722c;&#xff1a;&#x4f7f;&#x7528;&#x8f83;&#x8001;&#x7684;User-Agent&#x4f1a;&#x8df3;&#x5230;&#x9a8c;&#x8bc1;&#x4e2d;&#x5fc3;</span>\n        <span class=\"hljs-variable language_\">self</span>.headers = {\n            <span class=\"hljs-string\">&apos;User-Agent&apos;</span> : <span class=\"hljs-string\">&apos;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36&apos;</span>\n        }\n        <span class=\"hljs-comment\"># &#x8ba1;&#x6570;</span>\n        <span class=\"hljs-variable language_\">self</span>.i = <span class=\"hljs-number\">0</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_html</span>(<span class=\"hljs-params\">self, url</span>):\n        html = requests.get(url=url, headers=<span class=\"hljs-variable language_\">self</span>.headers).text\n        <span class=\"hljs-comment\"># &#x76f4;&#x63a5;&#x8c03;&#x7528;&#x89e3;&#x6790;&#x51fd;&#x6570;</span>\n        <span class=\"hljs-variable language_\">self</span>.parse_html(html)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">parse_html</span>(<span class=\"hljs-params\">self, html</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x6b63;&#x5219;&#x89e3;&#x6790;&#x63d0;&#x53d6;&#x5177;&#x4f53;&#x7535;&#x5f71;&#x6570;&#x636e;&quot;&quot;&quot;</span>\n        regex = <span class=\"hljs-string\">&apos;&lt;div class=&quot;movie-item-info&quot;&gt;.*?title=&quot;(.*?)&quot;.*?class=&quot;star&quot;&gt;(.*?)&lt;/p&gt;.*?releasetime&quot;&gt;(.*?)&lt;/p&gt;&apos;</span>\n        pattern = re.<span class=\"hljs-built_in\">compile</span>(regex,re.S)\n        <span class=\"hljs-comment\"># r_list: [(&apos;&#x5927;&#x5723;&#x5a36;&#x4eb2;&apos;,&apos;&#x5468;&#x661f;&#x9a70;&apos;,&apos;1993&apos;),(&apos;&#x6708;&#x5149;&#x5b9d;&#x76d2;&apos;,&apos;&#x5468;&#x661f;&#x9a70;&apos;,&apos;1994&apos;),(),(),...()]</span>\n        r_list = pattern.findall(html)\n        <span class=\"hljs-comment\"># &#x76f4;&#x63a5;&#x8c03;&#x7528;&#x6570;&#x636e;&#x5904;&#x7406;&#x51fd;&#x6570;</span>\n        <span class=\"hljs-variable language_\">self</span>.save_html(r_list)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">save_html</span>(<span class=\"hljs-params\">self, r_list</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x5904;&#x7406;&#x5177;&#x4f53;&#x7535;&#x5f71;&#x6570;&#x636e;&quot;&quot;&quot;</span>\n        item = {}\n        <span class=\"hljs-keyword\">for</span> r <span class=\"hljs-keyword\">in</span> r_list:\n            item[<span class=\"hljs-string\">&apos;name&apos;</span>] = r[<span class=\"hljs-number\">0</span>].strip()\n            item[<span class=\"hljs-string\">&apos;star&apos;</span>] = r[<span class=\"hljs-number\">1</span>].strip()\n            item[<span class=\"hljs-string\">&apos;time&apos;</span>] = r[<span class=\"hljs-number\">2</span>].strip()\n            <span class=\"hljs-built_in\">print</span>(item)\n            <span class=\"hljs-variable language_\">self</span>.i += <span class=\"hljs-number\">1</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">run</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x7a0b;&#x5e8f;&#x5165;&#x53e3;&#x51fd;&#x6570;&quot;&quot;&quot;</span>\n        <span class=\"hljs-keyword\">for</span> offset <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">91</span>,<span class=\"hljs-number\">10</span>):\n            url = <span class=\"hljs-variable language_\">self</span>.url.<span class=\"hljs-built_in\">format</span>(offset)\n            <span class=\"hljs-variable language_\">self</span>.get_html(url=url)\n            <span class=\"hljs-comment\"># &#x63a7;&#x5236;&#x722c;&#x53d6;&#x901f;&#x5ea6;: uniform(0,2) &#x751f;&#x6210;0-2&#x4e4b;&#x95f4;&#x7684;&#x6d6e;&#x70b9;&#x6570;</span>\n            time.sleep(random.uniform(<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">2</span>))\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&apos;&#x6570;&#x91cf;:&apos;</span>,<span class=\"hljs-variable language_\">self</span>.i)\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n    spider = MaoyanSpider()\n    spider.run()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"932,991"}}],"payload":{"tag":"h3","lines":"679,680"}}],"payload":{"tag":"h1","lines":"647,648"}}]},{})</script>
</body>
</html>
