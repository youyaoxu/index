<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x6574;&#x5408;&#x7bc7;&#xff1a;&#x96f6;&#x57fa;&#x7840;&#x5b66;&#x4e60;&#x4e0e;&#x4f7f;&#x7528;WebFlux","children":[{"content":"2.1&#x3001;&#x4e24;&#x4e2a;&#x6838;&#x5fc3;&#x7c7b;","children":[{"content":"<pre data-lines=\"53,66\"><code>&#x54cd;&#x5e94;&#x5f0f;&#x7f16;&#x7a0b;&#x64cd;&#x4f5c;&#x4e2d;&#xff0c;Reactor &#x662f;&#x6ee1;&#x8db3; Reactive &#x89c4;&#x8303;&#x7684;&#x6846;&#x67b6;&#xff0c;Reactor &#x6709;&#x4e24;&#x4e2a;&#x6838;&#x5fc3;&#x7c7b;&#xff0c;Mono &#x548c; Flux&#xff0c;&#x8fd9;&#x4e24;&#x4e2a;&#x7c7b;&#x5b9e;&#x73b0;&#x63a5;&#x53e3; Publisher&#xff0c;&#x63d0;&#x4f9b;&#x4e30;&#x5bcc;&#x64cd;&#x4f5c;&#x7b26;&#x3002;Flux &#x5bf9;&#x8c61;&#x5b9e;&#x73b0;&#x53d1;&#x5e03;&#x8005;&#xff0c;&#x8fd4;&#x56de; N &#x4e2a;&#x5143;&#x7d20;&#xff1b;Mono &#x5b9e;&#x73b0;&#x53d1;&#x5e03;&#x8005;&#xff0c;&#x8fd4;&#x56de; 0 &#x6216;&#x8005; 1 &#x4e2a;&#x5143;&#x7d20;&#xff0c;Flux &#x548c; Mono &#x90fd;&#x662f;&#x6570;&#x636e;&#x6d41;&#x7684;&#x53d1;&#x5e03;&#x8005;&#xff0c;&#x4f7f;&#x7528; Flux &#x548c; Mono &#x90fd;&#x53ef;&#x4ee5;&#x53d1;&#x51fa;&#x4e09;&#x79cd;&#x6570;&#x636e;&#x4fe1;&#x53f7;&#xff1a; &#x5143;&#x7d20;&#x503c;&#xff0c;&#x9519;&#x8bef;&#x4fe1;&#x53f7;&#xff0c;&#x5b8c;&#x6210;&#x4fe1;&#x53f7;&#xff0c;&#x9519;&#x8bef;&#x4fe1;&#x53f7;&#x548c;&#x5b8c;&#x6210;&#x4fe1;&#x53f7;&#x90fd;&#x4ee3;&#x8868;&#x7ec8;&#x6b62;&#x4fe1;&#x53f7;&#xff0c;&#x7ec8;&#x6b62;&#x4fe1;&#x53f7;&#x7528;&#x4e8e;&#x544a;&#x8bc9;&#x8ba2;&#x9605;&#x8005;&#x6570;&#x636e;&#x6d41;&#x7ed3;&#x675f;&#x4e86;&#xff0c;&#x9519;&#x8bef;&#x4fe1;&#x53f7;&#x7ec8;&#x6b62;&#x6570;&#x636e;&#x6d41;&#x540c;&#x65f6;&#x628a;&#x9519;&#x8bef;&#x4fe1;&#x606f;&#x4f20;&#x9012;&#x7ed9;&#x8ba2;&#x9605;&#x8005;&#x3002;\n\n&#x4e09;&#x79cd;&#x4fe1;&#x53f7;&#x7279;&#x70b9;&#xff1a;\n\n*   &#x9519;&#x8bef;&#x4fe1;&#x53f7;&#x548c;&#x5b8c;&#x6210;&#x4fe1;&#x53f7;&#x90fd;&#x662f;&#x7ec8;&#x6b62;&#x4fe1;&#x53f7;&#xff0c;&#x4e0d;&#x80fd;&#x5171;&#x5b58;\n*   &#x5982;&#x679c;&#x6ca1;&#x6709;&#x53d1;&#x9001;&#x4efb;&#x4f55;&#x5143;&#x7d20;&#x503c;&#xff0c;&#x800c;&#x662f;&#x76f4;&#x63a5;&#x53d1;&#x9001;&#x9519;&#x8bef;&#x6216;&#x8005;&#x5b8c;&#x6210;&#x4fe1;&#x53f7;&#xff0c;&#x8868;&#x793a;&#x662f;&#x7a7a;&#x6570;&#x636e;&#x6d41;\n*   &#x5982;&#x679c;&#x6ca1;&#x6709;&#x9519;&#x8bef;&#x4fe1;&#x53f7;&#xff0c;&#x6ca1;&#x6709;&#x5b8c;&#x6210;&#x4fe1;&#x53f7;&#xff0c;&#x8868;&#x793a;&#x662f;&#x65e0;&#x9650;&#x6570;&#x636e;&#x6d41;\n\n&#x4e00;&#x4e2a;&#x5165;&#x95e8;&#x6848;&#x4f8b;&#xff1a;\n\n**&#x9879;&#x76ee;&#x540d;&#x79f0;&#xff1a;**  reactor-demo\n\n**&#x5f15;&#x5165;&#x4f9d;&#x8d56;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"53,66"}},{"content":"<pre data-lines=\"67,76\"><code class=\"language-xml\">\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>io.projectreactor<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>reactor-core<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>3.4.1<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"67,76"}},{"content":"<pre data-lines=\"77,78\"><code>**&#x58f0;&#x660e;&#x6570;&#x636e;&#x6d41;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"77,78"}},{"content":"<pre data-lines=\"79,94\"><code class=\"language-java\">\nFlux.just(1, 2, 3, 4);\nMono.just(1);\n\nInteger[] array = {1, 2, 3, 4};\nFlux.fromArray(array);\n\nList&lt;Integer&gt; list = Arrays.asList(array);\nFlux.fromIterable(list);\n\nStream&lt;Integer&gt; stream = list.stream();\nFlux.fromStream(stream);\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"79,94"}},{"content":"<pre data-lines=\"95,96\"><code>**&#x8ba2;&#x9605;&#x6570;&#x636e;&#x6d41;&#xff1a;**  &#x8c03;&#x7528; just &#x6216;&#x8005;&#x5176;&#x4ed6;&#x65b9;&#x6cd5;&#x53ea;&#x662f;&#x58f0;&#x660e;&#x6570;&#x636e;&#x6d41;&#xff0c;&#x6570;&#x636e;&#x6d41;&#x5e76;&#x6ca1;&#x6709;&#x53d1;&#x51fa;&#xff0c;&#x53ea;&#x6709;&#x8fdb;&#x884c;&#x8ba2;&#x9605;&#x4e4b;&#x540e;&#x624d;&#x4f1a;&#x89e6;&#x53d1;&#x6570;&#x636e;&#x6d41;&#xff0c;&#x4e0d;&#x8ba2;&#x9605;&#x4ec0;&#x4e48;&#x90fd;&#x4e0d;&#x4f1a;&#x53d1;&#x751f;&#x7684;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"95,96"}},{"content":"<pre data-lines=\"97,103\"><code class=\"language-java\">\nFlux.just(1, 2, 3, 4).subscribe(System.out::println);\nMono.just(1).subscribe(System.out::println);\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"97,103"}}],"payload":{"tag":"h2","lines":"50,52"}},{"content":"2.2&#x3001;&#x56db;&#x79cd;&#x64cd;&#x4f5c;&#x7b26;","children":[{"content":"<pre data-lines=\"107,110\"><code>&#x64cd;&#x4f5c;&#x7b26;&#x5c31;&#x662f;&#x5bf9;&#x6570;&#x636e;&#x8fdb;&#x884c;&#x4e00;&#x9053;&#x53c8;&#x4e00;&#x9053;&#x7684;&#x64cd;&#x4f5c;&#xff0c;&#x5c31;&#x597d;&#x6bd4;&#x751f;&#x4ea7;&#x8f66;&#x95f4;&#x7684;&#x6d41;&#x6c34;&#x7ebf;&#xff0c;&#x5e38;&#x89c1;&#x7684;&#x64cd;&#x4f5c;&#x7b26;&#x6709;&#x56db;&#x79cd;&#xff1a;map&#x3001;flatMap&#x3001;filter&#x3001;zipWith\n\n**map&#xff1a;&#x5c06;&#x5143;&#x7d20;&#x6620;&#x5c04;&#x4e3a;&#x4e00;&#x4e2a;&#x65b0;&#x5143;&#x7d20;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"107,110"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/6f296a6568bc43e5b93cdb4b4a59dad2.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6L275p2-55qE5bCP5biM,size_20,color_FFFFFF,t_70,g_se,x_16\" alt>","children":[],"payload":{"tag":"img","lines":"111,112"}},{"content":"<pre data-lines=\"113,114\"><code>**flatMap&#xff1a;&#x628a;&#x6bcf;&#x4e2a;&#x5143;&#x7d20;&#x8f6c;&#x6362;&#x6210;&#x6d41;&#xff0c;&#x628a;&#x8f6c;&#x6362;&#x4e4b;&#x540e;&#x591a;&#x4e2a;&#x6d41;&#x5408;&#x5e76;&#x6210;&#x5927;&#x7684;&#x6d41;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"113,114"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/6f1626c719414606942598b347b87273.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6L275p2-55qE5bCP5biM,size_20,color_FFFFFF,t_70,g_se,x_16\" alt>","children":[],"payload":{"tag":"img","lines":"115,116"}},{"content":"<pre data-lines=\"117,118\"><code>**filter&#xff1a;&#x53ef;&#x4ee5;&#x5bf9;&#x5143;&#x7d20;&#x8fdb;&#x884c;&#x7b5b;&#x9009;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"117,118"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/87d98758cdea4169a45660e435e35545.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA6L275p2-55qE5bCP5biM,size_20,color_FFFFFF,t_70,g_se,x_16\" alt>","children":[],"payload":{"tag":"img","lines":"119,120"}},{"content":"<pre data-lines=\"121,122\"><code>**zip&#xff1a;&#x53ef;&#x4ee5;&#x5bf9;&#x5143;&#x7d20;&#x8fdb;&#x884c;&#x5408;&#x5e76;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"121,122"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/261708b70151594ebc573dc01c3b4784.png\" alt>","children":[],"payload":{"tag":"img","lines":"123,124"}},{"content":"<pre data-lines=\"125,126\"><code>**&#x9879;&#x76ee;&#x540d;&#x79f0;&#xff1a;**  webflux-demo-01\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"125,126"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/9df89e1227ce627a07f415753ec9cb0f.png\" alt>","children":[],"payload":{"tag":"img","lines":"127,128"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/9ddbe24d9564566d5b741cd1c88e0eb5.png\" alt>","children":[],"payload":{"tag":"img","lines":"129,130"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/2941e4ad3b08e166887bd3ce4a319ca8.png\" alt>","children":[],"payload":{"tag":"img","lines":"131,132"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d314496a4e78269f74c4fff83244110c.png\" alt>","children":[],"payload":{"tag":"img","lines":"133,134"}},{"content":"<pre data-lines=\"135,136\"><code>pom.xml\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"135,136"}},{"content":"<pre data-lines=\"137,152\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependencies</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-webflux<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-test<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">scope</span>&gt;</span>test<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">scope</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependencies</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"137,152"}},{"content":"<pre data-lines=\"155,159\"><code class=\"language-properties\">server.port=8080\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"155,159"}},{"content":"<pre data-lines=\"160,161\"><code>com.caochenlei.webfluxdemo01.entity.User\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"160,161"}},{"content":"<pre data-lines=\"162,213\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">User</span> {\n    <span class=\"hljs-keyword\">private</span> Integer id;\n    <span class=\"hljs-keyword\">private</span> String name;\n    <span class=\"hljs-keyword\">private</span> String gender;\n    <span class=\"hljs-keyword\">private</span> Integer age;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">User</span><span class=\"hljs-params\">()</span> {\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">User</span><span class=\"hljs-params\">(Integer id, String name, String gender, Integer age)</span> {\n        <span class=\"hljs-built_in\">this</span>.id = id;\n        <span class=\"hljs-built_in\">this</span>.name = name;\n        <span class=\"hljs-built_in\">this</span>.gender = gender;\n        <span class=\"hljs-built_in\">this</span>.age = age;\n    }\n\n    <span class=\"hljs-keyword\">public</span> Integer <span class=\"hljs-title function_\">getId</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> id;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setId</span><span class=\"hljs-params\">(Integer id)</span> {\n        <span class=\"hljs-built_in\">this</span>.id = id;\n    }\n\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getName</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> name;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setName</span><span class=\"hljs-params\">(String name)</span> {\n        <span class=\"hljs-built_in\">this</span>.name = name;\n    }\n\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getGender</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> gender;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setGender</span><span class=\"hljs-params\">(String gender)</span> {\n        <span class=\"hljs-built_in\">this</span>.gender = gender;\n    }\n\n    <span class=\"hljs-keyword\">public</span> Integer <span class=\"hljs-title function_\">getAge</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> age;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setAge</span><span class=\"hljs-params\">(Integer age)</span> {\n        <span class=\"hljs-built_in\">this</span>.age = age;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"162,213"}},{"content":"<pre data-lines=\"214,215\"><code>com.caochenlei.webfluxdemo01.dao.UserDao\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"214,215"}},{"content":"<pre data-lines=\"216,235\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title class_\">UserDao</span> {\n    \n    <span class=\"hljs-keyword\">public</span> User <span class=\"hljs-title function_\">findOne</span><span class=\"hljs-params\">(Integer id)</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> Collection&lt;User&gt; <span class=\"hljs-title function_\">findAll</span><span class=\"hljs-params\">()</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">save</span><span class=\"hljs-params\">(User user)</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">delete</span><span class=\"hljs-params\">(User user)</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">update</span><span class=\"hljs-params\">(User user)</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"216,235"}},{"content":"<pre data-lines=\"236,237\"><code>com.caochenlei.webfluxdemo01.dao.impl.UserDaoImpl\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"236,237"}},{"content":"<pre data-lines=\"238,282\"><code class=\"language-java\"><span class=\"hljs-meta\">@Repository</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UserDaoImpl</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">UserDao</span> {\n    \n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">final</span> Map&lt;Integer, User&gt; users = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ConcurrentHashMap</span>&lt;&gt;();\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">UserDaoImpl</span><span class=\"hljs-params\">()</span> {\n        users.put(<span class=\"hljs-number\">1</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">User</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">&quot;&#x5f20;&#x4e09;&quot;</span>, <span class=\"hljs-string\">&quot;&#x7537;&quot;</span>, <span class=\"hljs-number\">18</span>));\n        users.put(<span class=\"hljs-number\">2</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">User</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-string\">&quot;&#x674e;&#x56db;&quot;</span>, <span class=\"hljs-string\">&quot;&#x5973;&quot;</span>, <span class=\"hljs-number\">19</span>));\n        users.put(<span class=\"hljs-number\">3</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">User</span>(<span class=\"hljs-number\">3</span>, <span class=\"hljs-string\">&quot;&#x738b;&#x4e94;&quot;</span>, <span class=\"hljs-string\">&quot;&#x7537;&quot;</span>, <span class=\"hljs-number\">20</span>));\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> User <span class=\"hljs-title function_\">findOne</span><span class=\"hljs-params\">(Integer id)</span> {\n        <span class=\"hljs-keyword\">return</span> users.get(id);\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Collection&lt;User&gt; <span class=\"hljs-title function_\">findAll</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> users.values();\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">save</span><span class=\"hljs-params\">(User user)</span> {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">id</span> <span class=\"hljs-operator\">=</span> users.size() + <span class=\"hljs-number\">1</span>;\n        user.setId(id);\n        users.put(id, user);\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">delete</span><span class=\"hljs-params\">(User user)</span> {\n        users.remove(user.getId());\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">update</span><span class=\"hljs-params\">(User user)</span> {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">id</span> <span class=\"hljs-operator\">=</span> user.getId();\n        users.remove(id);\n        users.put(id, user);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"238,282"}},{"content":"<pre data-lines=\"283,284\"><code>com.caochenlei.webfluxdemo01.service.UserService\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"283,284"}},{"content":"<pre data-lines=\"285,304\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title class_\">UserService</span> {\n    \n    <span class=\"hljs-keyword\">public</span> Mono&lt;User&gt; <span class=\"hljs-title function_\">findOne</span><span class=\"hljs-params\">(Integer id)</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> Flux&lt;User&gt; <span class=\"hljs-title function_\">findAll</span><span class=\"hljs-params\">()</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">save</span><span class=\"hljs-params\">(Mono&lt;User&gt; userMono)</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">delete</span><span class=\"hljs-params\">(Mono&lt;User&gt; userMono)</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">update</span><span class=\"hljs-params\">(Mono&lt;User&gt; userMono)</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"285,304"}},{"content":"<pre data-lines=\"305,306\"><code>com.caochenlei.webfluxdemo01.service.UserServiceImpl\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"305,306"}},{"content":"<pre data-lines=\"307,349\"><code class=\"language-java\"><span class=\"hljs-meta\">@Service</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UserServiceImpl</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">UserService</span> {\n    <span class=\"hljs-meta\">@Autowired</span>\n    <span class=\"hljs-keyword\">private</span> UserDao userDao;\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Mono&lt;User&gt; <span class=\"hljs-title function_\">findOne</span><span class=\"hljs-params\">(Integer id)</span> {\n        <span class=\"hljs-keyword\">return</span> Mono.justOrEmpty(userDao.findOne(id));\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Flux&lt;User&gt; <span class=\"hljs-title function_\">findAll</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> Flux.fromIterable(userDao.findAll());\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">save</span><span class=\"hljs-params\">(Mono&lt;User&gt; userMono)</span> {\n        <span class=\"hljs-keyword\">return</span> userMono.doOnNext(user -&gt; {\n            \n            userDao.save(user);\n        }).thenEmpty(Mono.empty());\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">delete</span><span class=\"hljs-params\">(Mono&lt;User&gt; userMono)</span> {\n        <span class=\"hljs-keyword\">return</span> userMono.doOnNext(user -&gt; {\n            \n            userDao.delete(user);\n        }).thenEmpty(Mono.empty());\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">update</span><span class=\"hljs-params\">(Mono&lt;User&gt; userMono)</span> {\n        <span class=\"hljs-keyword\">return</span> userMono.doOnNext(user -&gt; {\n            \n            userDao.update(user);\n        }).thenEmpty(Mono.empty());\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"307,349"}},{"content":"<pre data-lines=\"350,351\"><code>com.caochenlei.webfluxdemo01.controller.UserController\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"350,351"}},{"content":"<pre data-lines=\"352,394\"><code class=\"language-java\"><span class=\"hljs-meta\">@RestController</span>\n<span class=\"hljs-meta\">@RequestMapping(&quot;/user&quot;)</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UserController</span> {\n    <span class=\"hljs-meta\">@Autowired</span>\n    <span class=\"hljs-keyword\">private</span> UserService userService;\n\n    \n    <span class=\"hljs-meta\">@GetMapping(&quot;/findOne/{id}&quot;)</span>\n    <span class=\"hljs-keyword\">public</span> Mono&lt;User&gt; <span class=\"hljs-title function_\">findOne</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@PathVariable</span> Integer id)</span> {\n        <span class=\"hljs-keyword\">return</span> userService.findOne(id);\n    }\n\n    \n    <span class=\"hljs-meta\">@GetMapping(&quot;/findAll&quot;)</span>\n    <span class=\"hljs-keyword\">public</span> Flux&lt;User&gt; <span class=\"hljs-title function_\">findAll</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> userService.findAll();\n    }\n\n    \n    <span class=\"hljs-meta\">@PostMapping(&quot;/save&quot;)</span>\n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">save</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@RequestBody</span> User user)</span> {\n        Mono&lt;User&gt; userMono = Mono.just(user);\n        <span class=\"hljs-keyword\">return</span> userService.save(userMono);\n    }\n\n    \n    <span class=\"hljs-meta\">@PostMapping(&quot;/delete&quot;)</span>\n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">delete</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@RequestBody</span> User user)</span> {\n        Mono&lt;User&gt; userMono = Mono.just(user);\n        <span class=\"hljs-keyword\">return</span> userService.delete(userMono);\n    }\n\n    \n    <span class=\"hljs-meta\">@PostMapping(&quot;/update&quot;)</span>\n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">update</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@RequestBody</span> User user)</span> {\n        Mono&lt;User&gt; userMono = Mono.just(user);\n        <span class=\"hljs-keyword\">return</span> userService.update(userMono);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"352,394"}},{"content":"<pre data-lines=\"395,396\"><code>com.caochenlei.webfluxdemo01.WebfluxDemo01Application&#xff0c;&#x542f;&#x52a8;&#x4e3b;&#x51fd;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"395,396"}},{"content":"<pre data-lines=\"397,408\"><code class=\"language-java\"><span class=\"hljs-meta\">@SpringBootApplication</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">WebfluxDemo01Application</span> {\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        SpringApplication.run(WebfluxDemo01Application.class, args);\n    }\n\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"397,408"}},{"content":"<pre data-lines=\"409,410\"><code>&#x67e5;&#x8be2;&#x4e00;&#x4e2a;&#xff1a;http://localhost:8080/user/findOne/1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"409,410"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7243f10de12c75d98bb2e25dc525ee2b.png\" alt>","children":[],"payload":{"tag":"img","lines":"411,412"}},{"content":"<pre data-lines=\"413,414\"><code>&#x67e5;&#x8be2;&#x5168;&#x90e8;&#xff1a;http://localhost:8080/user/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"413,414"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f61260576b9d94abe9050fc5c1e7b05c.png\" alt>","children":[],"payload":{"tag":"img","lines":"415,416"}},{"content":"<pre data-lines=\"417,418\"><code>&#x65b0;&#x589e;&#x4e00;&#x4e2a;&#xff1a;http://localhost:8080/user/save\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"417,418"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/b8f9a2f41324d9ed29ccfafa0b14c174.png\" alt>","children":[],"payload":{"tag":"img","lines":"419,420"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f3ffe08d27f9ae0c4053b8309755478c.png\" alt>","children":[],"payload":{"tag":"img","lines":"421,422"}},{"content":"<pre data-lines=\"423,424\"><code>&#x5220;&#x9664;&#x4e00;&#x4e2a;&#xff1a;http://localhost:8080/user/delete\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"423,424"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/bff35b4e1e6fcd1515032d0d7c675353.png\" alt>","children":[],"payload":{"tag":"img","lines":"425,426"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/491be5a08d36428b31e4dcd40aa5c972.png\" alt>","children":[],"payload":{"tag":"img","lines":"427,428"}},{"content":"<pre data-lines=\"429,430\"><code>&#x4fee;&#x6539;&#x4e00;&#x4e2a;&#xff1a;http://localhost:8080/user/update\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"429,430"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a9285f564c816340e9f95d258f68a0a1.png\" alt>","children":[],"payload":{"tag":"img","lines":"431,432"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/5ace799c86632bd07cad8fc02b50cf65.png\" alt>","children":[],"payload":{"tag":"img","lines":"433,434"}},{"content":"<pre data-lines=\"435,436\"><code>**&#x9879;&#x76ee;&#x540d;&#x79f0;&#xff1a;**  webflux-demo-02\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"435,436"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/9df89e1227ce627a07f415753ec9cb0f.png\" alt>","children":[],"payload":{"tag":"img","lines":"437,438"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/5a9186bcd5cd583ffe3af7574ee98a93.png\" alt>","children":[],"payload":{"tag":"img","lines":"439,440"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/2941e4ad3b08e166887bd3ce4a319ca8.png\" alt>","children":[],"payload":{"tag":"img","lines":"441,442"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/ad594863f5e9ce63fdd54705b5081033.png\" alt>","children":[],"payload":{"tag":"img","lines":"443,444"}},{"content":"<pre data-lines=\"445,446\"><code>pom.xml\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"445,446"}},{"content":"<pre data-lines=\"447,462\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependencies</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-webflux<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-test<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">scope</span>&gt;</span>test<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">scope</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependencies</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"447,462"}},{"content":"<pre data-lines=\"463,464\"><code>application.properties\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"463,464"}},{"content":"<pre data-lines=\"465,469\"><code class=\"language-properties\">server.port=8080\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"465,469"}},{"content":"<pre data-lines=\"470,471\"><code>com.caochenlei.webfluxdemo01.entity.User\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"470,471"}},{"content":"<pre data-lines=\"472,523\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">User</span> {\n    <span class=\"hljs-keyword\">private</span> Integer id;\n    <span class=\"hljs-keyword\">private</span> String name;\n    <span class=\"hljs-keyword\">private</span> String gender;\n    <span class=\"hljs-keyword\">private</span> Integer age;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">User</span><span class=\"hljs-params\">()</span> {\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">User</span><span class=\"hljs-params\">(Integer id, String name, String gender, Integer age)</span> {\n        <span class=\"hljs-built_in\">this</span>.id = id;\n        <span class=\"hljs-built_in\">this</span>.name = name;\n        <span class=\"hljs-built_in\">this</span>.gender = gender;\n        <span class=\"hljs-built_in\">this</span>.age = age;\n    }\n\n    <span class=\"hljs-keyword\">public</span> Integer <span class=\"hljs-title function_\">getId</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> id;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setId</span><span class=\"hljs-params\">(Integer id)</span> {\n        <span class=\"hljs-built_in\">this</span>.id = id;\n    }\n\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getName</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> name;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setName</span><span class=\"hljs-params\">(String name)</span> {\n        <span class=\"hljs-built_in\">this</span>.name = name;\n    }\n\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getGender</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> gender;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setGender</span><span class=\"hljs-params\">(String gender)</span> {\n        <span class=\"hljs-built_in\">this</span>.gender = gender;\n    }\n\n    <span class=\"hljs-keyword\">public</span> Integer <span class=\"hljs-title function_\">getAge</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> age;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setAge</span><span class=\"hljs-params\">(Integer age)</span> {\n        <span class=\"hljs-built_in\">this</span>.age = age;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"472,523"}},{"content":"<pre data-lines=\"524,525\"><code>com.caochenlei.webfluxdemo01.dao.UserDao\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"524,525"}},{"content":"<pre data-lines=\"526,545\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title class_\">UserDao</span> {\n    \n    <span class=\"hljs-keyword\">public</span> User <span class=\"hljs-title function_\">findOne</span><span class=\"hljs-params\">(Integer id)</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> Collection&lt;User&gt; <span class=\"hljs-title function_\">findAll</span><span class=\"hljs-params\">()</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">save</span><span class=\"hljs-params\">(User user)</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">delete</span><span class=\"hljs-params\">(User user)</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">update</span><span class=\"hljs-params\">(User user)</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"526,545"}},{"content":"<pre data-lines=\"546,547\"><code>com.caochenlei.webfluxdemo01.dao.impl.UserDaoImpl\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"546,547"}},{"content":"<pre data-lines=\"548,592\"><code class=\"language-java\">Repository\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UserDaoImpl</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">UserDao</span> {\n    \n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">final</span> Map&lt;Integer, User&gt; users = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ConcurrentHashMap</span>&lt;&gt;();\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">UserDaoImpl</span><span class=\"hljs-params\">()</span> {\n        users.put(<span class=\"hljs-number\">1</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">User</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">&quot;&#x5f20;&#x4e09;&quot;</span>, <span class=\"hljs-string\">&quot;&#x7537;&quot;</span>, <span class=\"hljs-number\">18</span>));\n        users.put(<span class=\"hljs-number\">2</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">User</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-string\">&quot;&#x674e;&#x56db;&quot;</span>, <span class=\"hljs-string\">&quot;&#x5973;&quot;</span>, <span class=\"hljs-number\">19</span>));\n        users.put(<span class=\"hljs-number\">3</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">User</span>(<span class=\"hljs-number\">3</span>, <span class=\"hljs-string\">&quot;&#x738b;&#x4e94;&quot;</span>, <span class=\"hljs-string\">&quot;&#x7537;&quot;</span>, <span class=\"hljs-number\">20</span>));\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> User <span class=\"hljs-title function_\">findOne</span><span class=\"hljs-params\">(Integer id)</span> {\n        <span class=\"hljs-keyword\">return</span> users.get(id);\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Collection&lt;User&gt; <span class=\"hljs-title function_\">findAll</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> users.values();\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">save</span><span class=\"hljs-params\">(User user)</span> {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">id</span> <span class=\"hljs-operator\">=</span> users.size() + <span class=\"hljs-number\">1</span>;\n        user.setId(id);\n        users.put(id, user);\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">delete</span><span class=\"hljs-params\">(User user)</span> {\n        users.remove(user.getId());\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">update</span><span class=\"hljs-params\">(User user)</span> {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">id</span> <span class=\"hljs-operator\">=</span> user.getId();\n        users.remove(id);\n        users.put(id, user);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"548,592"}},{"content":"<pre data-lines=\"593,594\"><code>com.caochenlei.webfluxdemo01.service.UserService\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"593,594"}},{"content":"<pre data-lines=\"595,614\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title class_\">UserService</span> {\n    \n    <span class=\"hljs-keyword\">public</span> Mono&lt;User&gt; <span class=\"hljs-title function_\">findOne</span><span class=\"hljs-params\">(Integer id)</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> Flux&lt;User&gt; <span class=\"hljs-title function_\">findAll</span><span class=\"hljs-params\">()</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">save</span><span class=\"hljs-params\">(Mono&lt;User&gt; userMono)</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">delete</span><span class=\"hljs-params\">(Mono&lt;User&gt; userMono)</span>;\n\n    \n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">update</span><span class=\"hljs-params\">(Mono&lt;User&gt; userMono)</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"595,614"}},{"content":"<pre data-lines=\"615,616\"><code>com.caochenlei.webfluxdemo01.service.UserServiceImpl\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"615,616"}},{"content":"<pre data-lines=\"617,659\"><code class=\"language-java\"><span class=\"hljs-meta\">@Service</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UserServiceImpl</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">UserService</span> {\n    <span class=\"hljs-meta\">@Autowired</span>\n    <span class=\"hljs-keyword\">private</span> UserDao userDao;\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Mono&lt;User&gt; <span class=\"hljs-title function_\">findOne</span><span class=\"hljs-params\">(Integer id)</span> {\n        <span class=\"hljs-keyword\">return</span> Mono.justOrEmpty(userDao.findOne(id));\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Flux&lt;User&gt; <span class=\"hljs-title function_\">findAll</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> Flux.fromIterable(userDao.findAll());\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">save</span><span class=\"hljs-params\">(Mono&lt;User&gt; userMono)</span> {\n        <span class=\"hljs-keyword\">return</span> userMono.doOnNext(user -&gt; {\n            \n            userDao.save(user);\n        }).thenEmpty(Mono.empty());\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">delete</span><span class=\"hljs-params\">(Mono&lt;User&gt; userMono)</span> {\n        <span class=\"hljs-keyword\">return</span> userMono.doOnNext(user -&gt; {\n            \n            userDao.delete(user);\n        }).thenEmpty(Mono.empty());\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> Mono&lt;Void&gt; <span class=\"hljs-title function_\">update</span><span class=\"hljs-params\">(Mono&lt;User&gt; userMono)</span> {\n        <span class=\"hljs-keyword\">return</span> userMono.doOnNext(user -&gt; {\n            \n            userDao.update(user);\n        }).thenEmpty(Mono.empty());\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"617,659"}},{"content":"<pre data-lines=\"660,661\"><code>com.caochenlei.webfluxdemo01.handler.UserHandler\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"660,661"}},{"content":"<pre data-lines=\"662,711\"><code class=\"language-java\"><span class=\"hljs-meta\">@Component</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UserHandler</span> {\n    <span class=\"hljs-meta\">@Autowired</span>\n    <span class=\"hljs-keyword\">private</span> UserService userService;\n\n    \n    <span class=\"hljs-keyword\">public</span> Mono&lt;ServerResponse&gt; <span class=\"hljs-title function_\">findOne</span><span class=\"hljs-params\">(ServerRequest request)</span> {\n        \n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">id</span> <span class=\"hljs-operator\">=</span> Integer.valueOf(request.pathVariable(<span class=\"hljs-string\">&quot;id&quot;</span>));\n        Mono&lt;User&gt; userMono = userService.findOne(id);\n        <span class=\"hljs-keyword\">return</span> ServerResponse\n                .ok()\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(userMono, User.class);\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> Mono&lt;ServerResponse&gt; <span class=\"hljs-title function_\">findAll</span><span class=\"hljs-params\">(ServerRequest request)</span> {\n        Flux&lt;User&gt; userFlux = userService.findAll();\n        <span class=\"hljs-keyword\">return</span> ServerResponse\n                .ok()\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(userFlux, User.class);\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> Mono&lt;ServerResponse&gt; <span class=\"hljs-title function_\">save</span><span class=\"hljs-params\">(ServerRequest request)</span> {\n        \n        Mono&lt;User&gt; userMono = request.bodyToMono(User.class);\n        <span class=\"hljs-keyword\">return</span> ServerResponse.ok().build(userService.save(userMono));\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> Mono&lt;ServerResponse&gt; <span class=\"hljs-title function_\">delete</span><span class=\"hljs-params\">(ServerRequest request)</span> {\n        \n        Mono&lt;User&gt; userMono = request.bodyToMono(User.class);\n        <span class=\"hljs-keyword\">return</span> ServerResponse.ok().build(userService.delete(userMono));\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> Mono&lt;ServerResponse&gt; <span class=\"hljs-title function_\">update</span><span class=\"hljs-params\">(ServerRequest request)</span> {\n        \n        Mono&lt;User&gt; userMono = request.bodyToMono(User.class);\n        <span class=\"hljs-keyword\">return</span> ServerResponse.ok().build(userService.update(userMono));\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"662,711"}},{"content":"<pre data-lines=\"712,713\"><code>com.caochenlei.webfluxdemo01.routers.RouterConfig\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"712,713"}},{"content":"<pre data-lines=\"714,729\"><code class=\"language-java\"><span class=\"hljs-meta\">@Configuration</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">RouterConfig</span> {\n    <span class=\"hljs-meta\">@Bean</span>\n    <span class=\"hljs-keyword\">public</span> RouterFunction&lt;ServerResponse&gt; <span class=\"hljs-title function_\">userRouter</span><span class=\"hljs-params\">(UserHandler userHandler)</span> {\n        <span class=\"hljs-keyword\">return</span> RouterFunctions\n                .route(GET(<span class=\"hljs-string\">&quot;/user/findOne/{id}&quot;</span>).and(accept(MediaType.APPLICATION_JSON)), userHandler::findOne)\n                .andRoute(GET(<span class=\"hljs-string\">&quot;/user/findAll&quot;</span>).and(accept(MediaType.APPLICATION_JSON)), userHandler::findAll)\n                .andRoute(POST(<span class=\"hljs-string\">&quot;/user/save&quot;</span>).and(accept(MediaType.APPLICATION_JSON)), userHandler::save)\n                .andRoute(POST(<span class=\"hljs-string\">&quot;/user/delete&quot;</span>).and(accept(MediaType.APPLICATION_JSON)), userHandler::delete)\n                .andRoute(POST(<span class=\"hljs-string\">&quot;/user/update&quot;</span>).and(accept(MediaType.APPLICATION_JSON)), userHandler::update);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"714,729"}},{"content":"<pre data-lines=\"730,731\"><code>com.caochenlei.webfluxdemo01.WebfluxDemo02Application&#xff0c;&#x542f;&#x52a8;&#x4e3b;&#x51fd;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"730,731"}},{"content":"<pre data-lines=\"732,743\"><code class=\"language-java\"><span class=\"hljs-meta\">@SpringBootApplication</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">WebfluxDemo02Application</span> {\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        SpringApplication.run(WebfluxDemo02Application.class, args);\n    }\n\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"732,743"}},{"content":"<pre data-lines=\"744,745\"><code>&#x67e5;&#x8be2;&#x4e00;&#x4e2a;&#xff1a;http://localhost:8080/user/findOne/1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"744,745"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7243f10de12c75d98bb2e25dc525ee2b.png\" alt>","children":[],"payload":{"tag":"img","lines":"746,747"}},{"content":"<pre data-lines=\"748,749\"><code>&#x67e5;&#x8be2;&#x5168;&#x90e8;&#xff1a;http://localhost:8080/user/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"748,749"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f61260576b9d94abe9050fc5c1e7b05c.png\" alt>","children":[],"payload":{"tag":"img","lines":"750,751"}},{"content":"<pre data-lines=\"752,753\"><code>&#x65b0;&#x589e;&#x4e00;&#x4e2a;&#xff1a;http://localhost:8080/user/save\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"752,753"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/b8f9a2f41324d9ed29ccfafa0b14c174.png\" alt>","children":[],"payload":{"tag":"img","lines":"754,755"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f3ffe08d27f9ae0c4053b8309755478c.png\" alt>","children":[],"payload":{"tag":"img","lines":"756,757"}},{"content":"<pre data-lines=\"758,759\"><code>&#x5220;&#x9664;&#x4e00;&#x4e2a;&#xff1a;http://localhost:8080/user/delete\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"758,759"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/bff35b4e1e6fcd1515032d0d7c675353.png\" alt>","children":[],"payload":{"tag":"img","lines":"760,761"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/491be5a08d36428b31e4dcd40aa5c972.png\" alt>","children":[],"payload":{"tag":"img","lines":"762,763"}},{"content":"<pre data-lines=\"764,765\"><code>&#x4fee;&#x6539;&#x4e00;&#x4e2a;&#xff1a;http://localhost:8080/user/update\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"764,765"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a9285f564c816340e9f95d258f68a0a1.png\" alt>","children":[],"payload":{"tag":"img","lines":"766,767"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/5ace799c86632bd07cad8fc02b50cf65.png\" alt>","children":[],"payload":{"tag":"img","lines":"768,769"}},{"content":"<pre data-lines=\"770,773\"><code>**&#x672c;&#x7ae0;&#x524d;&#x63d0;&#xff1a;**  &#x9700;&#x8981; webflux-demo-02 &#x5904;&#x4e8e;&#x542f;&#x52a8;&#x72b6;&#x6001;&#xff0c;&#x6211;&#x4eec;&#x9700;&#x8981;&#x624b;&#x52a8;&#x7f16;&#x7a0b;&#x5b9e;&#x73b0;&#x8bbf;&#x95ee;&#x8def;&#x7531;\n\n**&#x9879;&#x76ee;&#x540d;&#x79f0;&#xff1a;**  webflux-demo-03\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"770,773"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/6e8eccc04f58b6784db7ddcebe4fba61.png\" alt>","children":[],"payload":{"tag":"img","lines":"774,775"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f4283375d269ee0d52df10a58f4cb995.png\" alt>","children":[],"payload":{"tag":"img","lines":"776,777"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d618b7a75a7dab3d27ad0eb7c230b60f.png\" alt>","children":[],"payload":{"tag":"img","lines":"778,779"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/78eee6047579603e56caeee8ec641343.png\" alt>","children":[],"payload":{"tag":"img","lines":"780,781"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/3cb8ef0f4224d1285c91b27138ce3e3c.png\" alt>","children":[],"payload":{"tag":"img","lines":"782,783"}},{"content":"<pre data-lines=\"784,785\"><code>pom.xml\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"784,785"}},{"content":"<pre data-lines=\"786,801\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependencies</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-webflux<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-test<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">scope</span>&gt;</span>test<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">scope</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependencies</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"786,801"}},{"content":"<pre data-lines=\"802,803\"><code>com.caochenlei.webfluxdemo03.entity.User\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"802,803"}},{"content":"<pre data-lines=\"804,865\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">User</span> {\n    <span class=\"hljs-keyword\">private</span> Integer id;\n    <span class=\"hljs-keyword\">private</span> String name;\n    <span class=\"hljs-keyword\">private</span> String gender;\n    <span class=\"hljs-keyword\">private</span> Integer age;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">User</span><span class=\"hljs-params\">()</span> {\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">User</span><span class=\"hljs-params\">(Integer id, String name, String gender, Integer age)</span> {\n        <span class=\"hljs-built_in\">this</span>.id = id;\n        <span class=\"hljs-built_in\">this</span>.name = name;\n        <span class=\"hljs-built_in\">this</span>.gender = gender;\n        <span class=\"hljs-built_in\">this</span>.age = age;\n    }\n\n    <span class=\"hljs-keyword\">public</span> Integer <span class=\"hljs-title function_\">getId</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> id;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setId</span><span class=\"hljs-params\">(Integer id)</span> {\n        <span class=\"hljs-built_in\">this</span>.id = id;\n    }\n\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getName</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> name;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setName</span><span class=\"hljs-params\">(String name)</span> {\n        <span class=\"hljs-built_in\">this</span>.name = name;\n    }\n\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">getGender</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> gender;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setGender</span><span class=\"hljs-params\">(String gender)</span> {\n        <span class=\"hljs-built_in\">this</span>.gender = gender;\n    }\n\n    <span class=\"hljs-keyword\">public</span> Integer <span class=\"hljs-title function_\">getAge</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> age;\n    }\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">setAge</span><span class=\"hljs-params\">(Integer age)</span> {\n        <span class=\"hljs-built_in\">this</span>.age = age;\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">toString</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;User{&quot;</span> +\n                <span class=\"hljs-string\">&quot;id=&quot;</span> + id +\n                <span class=\"hljs-string\">&quot;, name=&apos;&quot;</span> + name + <span class=\"hljs-string\">&apos;\\&apos;&apos;</span> +\n                <span class=\"hljs-string\">&quot;, gender=&apos;&quot;</span> + gender + <span class=\"hljs-string\">&apos;\\&apos;&apos;</span> +\n                <span class=\"hljs-string\">&quot;, age=&quot;</span> + age +\n                <span class=\"hljs-string\">&apos;}&apos;</span>;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"804,865"}},{"content":"<pre data-lines=\"866,867\"><code>com.caochenlei.webfluxdemo03.WebClientDemo\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"866,867"}},{"content":"<pre data-lines=\"868,931\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">WebClientDemo</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        \n        <span class=\"hljs-type\">WebClient</span> <span class=\"hljs-variable\">webClient</span> <span class=\"hljs-operator\">=</span> WebClient.create(<span class=\"hljs-string\">&quot;http://localhost:8080&quot;</span>);\n        \n        \n        <span class=\"hljs-type\">User</span> <span class=\"hljs-variable\">user</span> <span class=\"hljs-operator\">=</span> webClient\n                .get()\n                .uri(<span class=\"hljs-string\">&quot;/user/findOne/{id}&quot;</span>, <span class=\"hljs-number\">2</span>)\n                .accept(MediaType.APPLICATION_JSON)\n                .retrieve()\n                .bodyToMono(User.class)\n                .block();\n        System.out.println(user);\n        \n        \n        Flux&lt;User&gt; userFlux = webClient\n                .get()\n                .uri(<span class=\"hljs-string\">&quot;/user/findAll&quot;</span>)\n                .accept(MediaType.APPLICATION_JSON)\n                .retrieve()\n                .bodyToFlux(User.class);\n        userFlux.buffer().doOnNext(System.out::println).blockFirst();\n        \n        \n        <span class=\"hljs-type\">User</span> <span class=\"hljs-variable\">user1</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">User</span>(<span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&quot;&#x8d75;&#x516d;&quot;</span>, <span class=\"hljs-string\">&quot;&#x7537;&quot;</span>, <span class=\"hljs-number\">16</span>);\n        <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">returnValue1</span> <span class=\"hljs-operator\">=</span> webClient\n                .post()\n                .uri(<span class=\"hljs-string\">&quot;/user/save&quot;</span>)\n                .body(Mono.just(user1), User.class)\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n        System.out.println(returnValue1);\n        \n        \n        <span class=\"hljs-type\">User</span> <span class=\"hljs-variable\">user2</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">User</span>();\n        user2.setId(<span class=\"hljs-number\">4</span>);\n        <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">returnValue2</span> <span class=\"hljs-operator\">=</span> webClient\n                .post()\n                .uri(<span class=\"hljs-string\">&quot;/user/delete&quot;</span>)\n                .body(Mono.just(user2), User.class)\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n        System.out.println(returnValue2);\n        \n        \n        <span class=\"hljs-type\">User</span> <span class=\"hljs-variable\">user3</span> <span class=\"hljs-operator\">=</span> user;\n        user3.setName(<span class=\"hljs-string\">&quot;&#x674e;&#x601d;&#x601d;&quot;</span>);\n        <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">returnValue3</span> <span class=\"hljs-operator\">=</span> webClient\n                .post()\n                .uri(<span class=\"hljs-string\">&quot;/user/update&quot;</span>)\n                .body(Mono.just(user3), User.class)\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n        System.out.println(returnValue3);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"868,931"}}],"payload":{"tag":"h2","lines":"104,106"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
