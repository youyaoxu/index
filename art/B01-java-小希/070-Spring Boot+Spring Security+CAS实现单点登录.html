<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Spring Boot+Spring Security+CAS&#x5b9e;&#x73b0;&#x5355;&#x70b9;&#x767b;&#x5f55;","children":[{"content":"1.1&#x3001;SSO","children":[{"content":"<pre data-lines=\"5,6\"><code>[&#x5355;&#x70b9;&#x767b;&#x5f55;](https://so.csdn.net/so/search?q=%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95&amp;spm=1001.2101.3001.7020)(SingleSignOn&#xff0c;SSO)&#xff0c;&#x5c31;&#x662f;&#x901a;&#x8fc7;&#x7528;&#x6237;&#x7684;&#x4e00;&#x6b21;&#x6027;&#x9274;&#x522b;&#x767b;&#x5f55;&#x3002;&#x5f53;&#x7528;&#x6237;&#x5728;&#x8eab;&#x4efd;&#x8ba4;&#x8bc1;&#x670d;&#x52a1;&#x5668;&#x4e0a;&#x767b;&#x5f55;&#x4e00;&#x6b21;&#x4ee5;&#x540e;&#xff0c;&#x5373;&#x53ef;&#x83b7;&#x5f97;&#x8bbf;&#x95ee;&#x5355;&#x70b9;&#x767b;&#x5f55;&#x7cfb;&#x7edf;&#x4e2d;&#x5176;&#x4ed6;&#x5173;&#x8054;&#x7cfb;&#x7edf;&#x548c;&#x5e94;&#x7528;&#x8f6f;&#x4ef6;&#x7684;&#x6743;&#x9650;&#xff0c;&#x540c;&#x65f6;&#x8fd9;&#x79cd;&#x5b9e;&#x73b0;&#x662f;&#x4e0d;&#x9700;&#x8981;&#x7ba1;&#x7406;&#x5458;&#x5bf9;&#x7528;&#x6237;&#x7684;&#x767b;&#x5f55;&#x72b6;&#x6001;&#x6216;&#x5176;&#x4ed6;&#x4fe1;&#x606f;&#x8fdb;&#x884c;&#x4fee;&#x6539;&#x7684;&#xff0c;&#x8fd9;&#x610f;&#x5473;&#x7740;&#x5728;&#x591a;&#x4e2a;&#x5e94;&#x7528;&#x7cfb;&#x7edf;&#x4e2d;&#xff0c;&#x7528;&#x6237;&#x53ea;&#x9700;&#x4e00;&#x6b21;&#x767b;&#x5f55;&#x5c31;&#x53ef;&#x4ee5;&#x8bbf;&#x95ee;&#x6240;&#x6709;&#x76f8;&#x4e92;&#x4fe1;&#x4efb;&#x7684;&#x5e94;&#x7528;&#x7cfb;&#x7edf;&#x3002;&#x8fd9;&#x79cd;&#x65b9;&#x5f0f;&#x51cf;&#x5c11;&#x4e86;&#x7531;&#x767b;&#x5f55;&#x4ea7;&#x751f;&#x7684;&#x65f6;&#x95f4;&#x6d88;&#x8017;&#xff0c;&#x8f85;&#x52a9;&#x4e86;&#x7528;&#x6237;&#x7ba1;&#x7406;&#xff0c;&#x662f;&#x76ee;&#x524d;&#x6bd4;&#x8f83;&#x6d41;&#x884c;&#x7684;&#x4e00;&#x79cd;&#x5206;&#x5e03;&#x5f0f;&#x767b;&#x5f55;&#x65b9;&#x5f0f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"5,6"}}],"payload":{"tag":"h2","lines":"2,4"}},{"content":"1.2&#x3001;CAS","children":[{"content":"<pre data-lines=\"10,26\"><code>CAS&#xff08;Central Authentication Service&#x7684;&#x7f29;&#x5199;&#xff0c;&#x4e2d;&#x592e;&#x8ba4;&#x8bc1;&#x670d;&#x52a1;&#xff09;&#x662f;&#x8036;&#x9c81;&#x5927;&#x5b66; Technology and Planning &#x5b9e;&#x9a8c;&#x5ba4;&#x7684; Shawn Bayern &#x5728;2002&#x5e74;&#x51fa;&#x7684;&#x4e00;&#x4e2a;&#x5f00;&#x6e90;&#x7cfb;&#x7edf;&#x3002;&#x521a;&#x5f00;&#x59cb;&#x540d;&#x5b57;&#x53eb;Yale CAS&#x3002;Yale CAS 1.0&#x7684;&#x76ee;&#x6807;&#x53ea;&#x662f;&#x4e00;&#x4e2a;&#x5355;&#x70b9;&#x767b;&#x5f55;&#x7684;&#x7cfb;&#x7edf;&#xff0c;&#x968f;&#x7740;&#x6162;&#x6162;&#x516c;&#x5f00;&#xff0c;&#x529f;&#x80fd;&#x5c31;&#x8d8a;&#x6765;&#x8d8a;&#x591a;&#x4e86;&#xff0c;2.0&#x5c31;&#x63d0;&#x4f9b;&#x4e86;&#x591a;&#x79cd;&#x8ba4;&#x8bc1;&#x7684;&#x65b9;&#x5f0f;&#x3002;&#x4ece;&#x7ed3;&#x6784;&#x4e0a;&#x770b;&#xff0c;CAS &#x5305;&#x542b;&#x4e24;&#x4e2a;&#x90e8;&#x5206;&#xff1a; CAS Server &#x548c; CAS Client&#x3002;\n\n2004&#x5e74;12&#x6708;&#xff0c;CAS&#x8f6c;&#x6210; JASIG(Java Administration Special Interesting Group) &#x7684;&#x4e00;&#x4e2a;&#x9879;&#x76ee;&#xff0c;&#x9879;&#x76ee;&#x4e5f;&#x968f;&#x7740;&#x6539;&#x540d;&#x4e3a; JASIG CAS&#xff0c;&#x8fd9;&#x5c31;&#x662f;&#x4e3a;&#x4ec0;&#x4e48;&#x73b0;&#x5728;&#x6709;&#x4e9b;CAS&#x7684;&#x94fe;&#x63a5;&#x8fd8;&#x662f;&#x6709; jasig &#x7684;&#x5b57;&#x6837;&#x3002;\n\n2012&#x5e74;&#xff0c;JASIG &#x8ddf; Sakai &#x57fa;&#x91d1;&#x4f1a;&#x5408;&#x5e76;&#xff0c;&#x6539;&#x540d;&#x4e3a; Apereo &#x57fa;&#x91d1;&#x4f1a;&#xff0c;&#x6240;&#x6709; CAS &#x4e5f;&#x968f;&#x7740;&#x6539;&#x540d;&#x4e3a; Apereo CAS&#x3002;\n\n*   &#x5b98;&#x7f51;&#x5730;&#x5740;&#xff1a;https://www.apereo.org/projects/cas\n    \n*   &#x6e90;&#x7801;&#x5730;&#x5740;&#xff1a;https://github.com/apereo/cas-overlay-template/tree/5.3\n    \n\nCAS &#x5177;&#x6709;&#x4ee5;&#x4e0b;&#x7279;&#x70b9;&#xff1a;\n\n1.  &#x5f00;&#x6e90;&#x7684;&#x4f01;&#x4e1a;&#x7ea7;&#x5355;&#x70b9;&#x767b;&#x5f55;&#x89e3;&#x51b3;&#x65b9;&#x6848;&#x3002;\n2.  CAS Server &#x4e3a;&#x9700;&#x8981;&#x72ec;&#x7acb;&#x90e8;&#x7f72;&#x7684; Web &#x5e94;&#x7528;&#x3002;\n3.  CAS Client &#x652f;&#x6301;&#x975e;&#x5e38;&#x591a;&#x7684;&#x5ba2;&#x6237;&#x7aef;(&#x8fd9;&#x91cc;&#x6307;&#x5355;&#x70b9;&#x767b;&#x5f55;&#x7cfb;&#x7edf;&#x4e2d;&#x7684;&#x5404;&#x4e2a; Web &#x5e94;&#x7528;)&#xff0c;&#x5305; &#x62ec; Java, .Net, PHP, Perl,Apache, uPortal, Ruby &#x7b49;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"10,26"}}],"payload":{"tag":"h2","lines":"7,9"}},{"content":"2.1&#x3001;CAS&#x670d;&#x52a1;&#x7aef;","children":[{"content":"<pre data-lines=\"30,31\"><code>CAS Server &#x9700;&#x8981;&#x72ec;&#x7acb;&#x90e8;&#x7f72;&#xff0c;&#x4e3b;&#x8981;&#x8d1f;&#x8d23;&#x5bf9;&#x7528;&#x6237;&#x7684;&#x8ba4;&#x8bc1;&#x5de5;&#x4f5c;&#xff1b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"30,31"}}],"payload":{"tag":"h2","lines":"27,29"}},{"content":"2.2&#x3001;CAS&#x5ba2;&#x6237;&#x7aef;","children":[{"content":"<pre data-lines=\"35,36\"><code>CAS Client &#x8d1f;&#x8d23;&#x5904;&#x7406;&#x5bf9;&#x5ba2;&#x6237;&#x7aef;&#x53d7;&#x4fdd;&#x62a4;&#x8d44;&#x6e90;&#x7684;&#x8bbf;&#x95ee;&#x8bf7;&#x6c42;&#xff0c;&#x9700;&#x8981;&#x767b;&#x5f55;&#x65f6;&#xff0c;&#x91cd;&#x5b9a;&#x5411;&#x5230; CAS Server&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"35,36"}}],"payload":{"tag":"h2","lines":"32,34"}},{"content":"2.3&#x3001;CAS&#x6d41;&#x7a0b;&#x56fe;","children":[{"content":"<pre data-lines=\"40,48\"><code>&#x4e0b;&#x56fe;&#x662f; CAS &#x6700;&#x57fa;&#x672c;&#x7684;&#x534f;&#x8bae;&#x8fc7;&#x7a0b;&#xff0c;&#x4e3b;&#x8981;&#x6709;&#x4ee5;&#x4e0b;&#x6b65;&#x9aa4;&#xff1a;\n\n1.  &#x8bbf;&#x95ee;&#x670d;&#x52a1;&#xff1a; CAS &#x5ba2;&#x6237;&#x7aef;&#x53d1;&#x9001;&#x8bf7;&#x6c42;&#x8bbf;&#x95ee;&#x5e94;&#x7528;&#x7cfb;&#x7edf;&#x63d0;&#x4f9b;&#x7684;&#x670d;&#x52a1;&#x8d44;&#x6e90;&#x3002;\n2.  &#x5b9a;&#x5411;&#x8ba4;&#x8bc1;&#xff1a; CAS &#x5ba2;&#x6237;&#x7aef;&#x4f1a;&#x91cd;&#x5b9a;&#x5411;&#x7528;&#x6237;&#x8bf7;&#x6c42;&#x5230; CAS &#x670d;&#x52a1;&#x5668;&#x3002;\n3.  &#x7528;&#x6237;&#x8ba4;&#x8bc1;&#xff1a;&#x7528;&#x6237;&#x8eab;&#x4efd;&#x8ba4;&#x8bc1;&#x3002;\n4.  &#x53d1;&#x653e;&#x7968;&#x636e;&#xff1a; CAS &#x670d;&#x52a1;&#x5668;&#x4f1a;&#x4ea7;&#x751f;&#x4e00;&#x4e2a;&#x968f;&#x673a;&#x7684; Service Ticket &#x3002;\n5.  &#x9a8c;&#x8bc1;&#x7968;&#x636e;&#xff1a; CAS &#x670d;&#x52a1;&#x5668;&#x9a8c;&#x8bc1;&#x7968;&#x636e; Service Ticket &#x7684;&#x5408;&#x6cd5;&#x6027;&#xff0c;&#x9a8c;&#x8bc1;&#x901a;&#x8fc7;&#x540e;&#xff0c;&#x5141;&#x8bb8;&#x5ba2;&#x6237;&#x7aef;&#x8bbf;&#x95ee;&#x670d;&#x52a1;&#x3002;\n6.  &#x4f20;&#x8f93;&#x7528;&#x6237;&#x4fe1;&#x606f;&#xff1a;CAS &#x670d;&#x52a1;&#x5668;&#x9a8c;&#x8bc1;&#x7968;&#x636e;&#x901a;&#x8fc7;&#x540e;&#xff0c;&#x4f20;&#x8f93;&#x7528;&#x6237;&#x8ba4;&#x8bc1;&#x7ed3;&#x679c;&#x4fe1;&#x606f;&#x7ed9;&#x5ba2;&#x6237;&#x7aef;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"40,48"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/62be197797e1d4216dc5c930760d0e4d.png\" alt>","children":[],"payload":{"tag":"img","lines":"49,50"}}],"payload":{"tag":"h2","lines":"37,39"}},{"content":"3.1&#x3001;&#x6e90;&#x7801;&#x4e0b;&#x8f7d;","children":[{"content":"<pre data-lines=\"54,57\"><code>&#x4e0b;&#x8f7d;&#x5730;&#x5740;&#xff1a;https://codeload.github.com/apereo/cas-overlay-template/zip/5.3\n\n&gt; &#x6ce8;&#x610f;&#xff1a;&#x7531;&#x4e8e;github&#x662f;&#x5728;&#x56fd;&#x5916;&#xff0c;&#x53ef;&#x80fd;&#x4e2a;&#x522b;&#x4eba;&#x4e0b;&#x8f7d;&#x4f1a;&#x5f88;&#x6162;&#xff0c;&#x4f60;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x624b;&#x673a;&#x4e0b;&#x8f7d;&#x8bd5;&#x8bd5;&#xff0c;&#x5e76;&#x4e14;&#x5c1d;&#x8bd5;&#x4e00;&#x4e0b;&#x4e0d;&#x540c;&#x7684;&#x7f51;&#x7edc;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"54,57"}}],"payload":{"tag":"h2","lines":"51,53"}},{"content":"3.2&#x3001;&#x6e90;&#x7801;&#x6253;&#x5305;","children":[{"content":"<pre data-lines=\"61,64\"><code>&#x6253;&#x5305;&#x547d;&#x4ee4;&#xff1a;`mvn clean package -Dmaven.test.skip=true`\n\n&gt; &#x6ce8;&#x610f;&#xff1a;&#x6253;&#x5305;&#x7684;&#x901f;&#x5ea6;&#x662f;&#x5f88;&#x5feb;&#x7684;&#xff0c;&#x4f46;&#x662f;&#x6253;&#x5305;&#x6240;&#x9700;&#x8981;&#x7684;&#x4f9d;&#x8d56;&#x5747;&#x5728;&#x4e92;&#x8054;&#x7f51;&#x4e0a;&#xff0c;&#x4e2a;&#x522b;&#x5305;&#x975e;&#x5e38;&#x5927;&#xff0c;&#x7b2c;&#x4e00;&#x6b21;&#x6253;&#x5305;&#x4f1a;&#x4e0b;&#x8f7d;&#x5f88;&#x591a;&#x4e1c;&#x897f;&#x5f88;&#x6162;&#xff0c;&#x8bf7;&#x8010;&#x5fc3;&#x7b49;&#x5019;&#xff0c;&#x5982;&#x679c;&#x5931;&#x8d25;&#x8bf7;&#x591a;&#x5c1d;&#x8bd5;&#x51e0;&#x6b21;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"61,64"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/dd24997e33b74aca20caa3b6537397fc.png\" alt>","children":[],"payload":{"tag":"img","lines":"65,66"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f4573bb0ffa4fe2f101c418648795681.png\" alt>","children":[],"payload":{"tag":"img","lines":"67,68"}},{"content":"<pre data-lines=\"69,72\"><code>&#x66f4;&#x6362;&#x4e0b;&#x8f7d;&#x6e90;\n\n&#x5982;&#x679c;&#x4f60;&#x60f3;&#x8981;&#x4e0b;&#x8f7d;&#x901f;&#x5ea6;&#x5feb;&#x70b9;&#xff0c;&#x8bf7;&#x66f4;&#x6362;&#x4e0b;&#x8f7d;&#x6e90;&#xff0c;&#x627e;&#x5230;`pom.xml`&#x4e2d;&#x7684;`repositories`&#xff0c;&#x628a;&#x4ee5;&#x4e0b;&#x4ee3;&#x7801;&#x653e;&#x5230;&#x7b2c;&#x4e00;&#x4e2a;&#xff0c;&#x5177;&#x4f53;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"69,72"}},{"content":"<pre data-lines=\"73,80\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">repository</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">id</span>&gt;</span>aliyunmaven<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">id</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">url</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">repository</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"73,80"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/456eea433243416bf11de57815ef3ebd.png\" alt>","children":[],"payload":{"tag":"img","lines":"81,82"}}],"payload":{"tag":"h2","lines":"58,60"}},{"content":"3.3&#x3001;&#x90e8;&#x7f72;&#x8fd0;&#x884c;","children":[{"content":"<pre data-lines=\"86,100\"><code>&#x7531;&#x4e8e;&#x6253;&#x5b8c;&#x5305;&#x540e;&#x662f;&#x4e00;&#x4e2a;`war`&#x5305;&#xff0c;&#x9700;&#x8981;tomcat&#x8fdb;&#x884c;&#x90e8;&#x7f72;&#xff0c;&#x7136;&#x540e;&#x624d;&#x80fd;&#x8fd0;&#x884c;&#xff0c;&#x5982;&#x679c;&#x4f60;&#x6ca1;&#x6709;`tomcat`&#x8bf7;&#x4e0b;&#x8f7d;&#x3002;\n\n*   32&#x4f4d;tomcat&#xff1a;https://mirrors.bfsu.edu.cn/apache/tomcat/tomcat-8/v8.5.61/bin/apache-tomcat-8.5.61-windows-x86.zip\n*   64&#x4f4d;tomcat&#xff1a;https://mirrors.bfsu.edu.cn/apache/tomcat/tomcat-8/v8.5.61/bin/apache-tomcat-8.5.61-windows-x64.zip\n\n&#x5c06;&#x6253;&#x5305;&#x597d;&#x7684;`war`&#x5305;&#xff0c;&#x653e;&#x5230;`tomcat`&#x7684;`webapps`&#x76ee;&#x5f55;&#x4e2d;&#xff0c;&#x7136;&#x540e;&#x70b9;&#x51fb;`bin`&#x76ee;&#x5f55;&#x4e0b;&#x7684;`startup.bat`&#x542f;&#x52a8;&#x3002;\n\n&gt; &#x6ce8;&#x610f;&#xff1a;&#x5982;&#x679c;&#x4f60;&#x5728;&#x542f;&#x52a8;&#x7684;&#x8fc7;&#x7a0b;&#x4e2d;&#xff0c;&#x53d1;&#x73b0;`tomcat`&#x4e00;&#x95ea;&#x800c;&#x8fc7;&#x6216;&#x542f;&#x52a8;&#x5931;&#x8d25;&#xff0c;&#x53ef;&#x80fd;&#x7684;&#x539f;&#x56e0;&#x5c31;&#x662f;`jdk`&#x7684;&#x73af;&#x5883;&#x53d8;&#x91cf;&#x6ca1;&#x6709;&#x914d;&#x597d;&#xff0c;&#x5728;&#x4e00;&#x4e2a;&#x5c31;&#x662f;&#x7aef;&#x53e3;&#x5360;&#x7528;&#x4e86;&#xff0c;`tomcat`&#x9ed8;&#x8ba4;&#x7aef;&#x53e3;&#x4e3a;8080&#x3002;\n\n&#x5982;&#x679c;&#x4e00;&#x5207;&#x8fd0;&#x884c;&#x6b63;&#x5e38;&#xff0c;&#x90a3;&#x4e48;&#x4f60;&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x4e2d;&#x8f93;&#x5165;&#x5730;&#x5740;&#xff1a;`http://localhost:8080/cas/login`&#xff0c;&#x5c06;&#x4f1a;&#x770b;&#x5230;&#x5982;&#x4e0b;&#x754c;&#x9762;&#xff1a;\n\n*   &#x9ed8;&#x8ba4;&#x7528;&#x6237;&#x540d;&#xff1a;casuser\n    \n*   &#x9ed8;&#x8ba4;&#x5bc6;&#x7801;&#xff1a;Mellon\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"86,100"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/94c747b8820dbdad9abe13e1b523c676.png\" alt>","children":[],"payload":{"tag":"img","lines":"102,103"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/0154b2a7ed0643eb07231ffee6e56d8e.png\" alt>","children":[],"payload":{"tag":"img","lines":"104,105"}},{"content":"<pre data-lines=\"106,107\"><code>&#x9664;&#x4e86;&#x4f7f;&#x7528;&#x4e0a;&#x8fb9;&#x63d0;&#x4f9b;&#x7684;&#x767b;&#x51fa;&#x94fe;&#x63a5;&#xff0c;&#x8fd8;&#x53ef;&#x4ee5;&#x624b;&#x52a8;&#x5728;&#x5730;&#x5740;&#x680f;&#x8f93;&#x5165;`http://localhost:8080/cas/logout`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"106,107"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/b093e3ef871d7c94be441ae3c055f650.png\" alt>","children":[],"payload":{"tag":"img","lines":"108,109"}}],"payload":{"tag":"h2","lines":"83,85"}},{"content":"4.1&#x3001;&#x5b9a;&#x5236;&#x6570;&#x636e;&#x6e90;","children":[{"content":"<pre data-lines=\"115,116\"><code>&#x627e;&#x5230;&#x6e90;&#x7801;&#x76ee;&#x5f55;`cas-overlay-template-5.3`&#x4e2d;&#x7684;`pom.xml`&#xff0c;&#x5728;&#x7b2c;125-127&#x6ce8;&#x91ca;&#x540e;&#x8fb9;&#x52a0;&#x5165;&#x5982;&#x4e0b;&#x4f9d;&#x8d56;&#x4ee3;&#x7801;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"115,116"}},{"content":"<pre data-lines=\"117,137\"><code class=\"language-xml\">\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.apereo.cas<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>cas-server-support-jdbc<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>&#x24;{cas.version}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.apereo.cas<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>cas-server-support-jdbc-drivers<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>&#x24;{cas.version}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>mysql<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>mysql-connector-java<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>5.1.49<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"117,137"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f6596c9c9a996cebbe952441c994fa6e.png\" alt>","children":[],"payload":{"tag":"img","lines":"138,139"}},{"content":"<pre data-lines=\"140,153\"><code>**&#xff08;2&#xff09;&#x3001;&#x91cd;&#x65b0;&#x6253;&#x5305;&#x90e8;&#x7f72;&#x9879;&#x76ee;**\n\n&#x91cd;&#x65b0;&#x6253;&#x5305;\n\n&#x627e;&#x5230;&#x6e90;&#x7801;&#x76ee;&#x5f55;`cas-overlay-template-5.3`&#xff0c;&#x5728;&#x5730;&#x5740;&#x680f;&#x8f93;&#x5165;cmd&#xff0c;&#x7136;&#x540e;&#x56de;&#x8f66;&#xff0c;&#x8fd0;&#x884c;&#x6253;&#x5305;&#x547d;&#x4ee4;&#xff1a;`mvn clean package -Dmaven.test.skip=true`&#xff0c;&#x8fd9;&#x4e00;&#x6b21;&#x6253;&#x5305;&#x901f;&#x5ea6;&#x4f1a;&#x5f88;&#x5feb;&#xff0c;&#x56e0;&#x4e3a;&#x5927;&#x90e8;&#x5206;&#x4f9d;&#x8d56;&#x90fd;&#x5df2;&#x7ecf;&#x4e0b;&#x8f7d;&#x5230;&#x4e86;&#x672c;&#x5730;&#xff0c;&#x4f46;&#x662f;&#x56e0;&#x4e3a;&#x53c8;&#x65b0;&#x589e;&#x4e86;&#x90e8;&#x5206;&#x6570;&#x636e;&#x6e90;&#x7684;&#x4f9d;&#x8d56;&#xff0c;&#x6240;&#x4ee5;&#x8fd8;&#x662f;&#x4f1a;&#x8054;&#x7f51;&#x4e0b;&#x8f7d;&#xff0c;&#x8bf7;&#x8010;&#x5fc3;&#x7b49;&#x5f85;&#xff0c;&#x6211;&#x53d1;&#x8a93;&#x8fd9;&#x662f;&#x6700;&#x540e;&#x4e00;&#x6b21;&#x6253;&#x5305;&#x4e86;&#x3002;\n\n&#x5173;&#x95ed;&#x9879;&#x76ee;\n\n&#x628a;&#x4e4b;&#x524d;&#x5f00;&#x542f;&#x7684;`tomcat`&#x5173;&#x6389;&#x3002;\n\n&#x5220;&#x9664;&#x6587;&#x4ef6;\n\n&#x627e;&#x5230;`apache-tomcat-8.5.61\\webapps`&#x76ee;&#x5f55;&#xff0c;&#x628a;&#x91cc;&#x8fb9;&#x6240;&#x6709;&#x7684;&#x6587;&#x4ef6;&#x53ca;&#x76ee;&#x5f55;&#x5168;&#x90e8;&#x5220;&#x9664;&#x5e72;&#x51c0;&#xff08;&#x5305;&#x62ec;tomcat&#x81ea;&#x5e26;&#x7684;&#xff09;&#xff0c;&#x56e0;&#x4e3a;&#x90fd;&#x6ca1;&#x6709;&#x7528;&#xff0c;&#x7559;&#x7740;&#x53cd;&#x800c;&#x4f1a;&#x5f71;&#x54cd;&#x542f;&#x52a8;&#x901f;&#x5ea6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"140,153"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/2a2f2d004dc258b6b7188b942e80c85a.png\" alt>","children":[],"payload":{"tag":"img","lines":"154,155"}},{"content":"<pre data-lines=\"156,163\"><code>&#x91cd;&#x65b0;&#x90e8;&#x7f72;\n\n&#x628a;&#x6253;&#x5305;&#x597d;&#x7684;`war`&#x5305;&#xff0c;&#x91cd;&#x65b0;&#x653e;&#x5230;`webapps`&#x76ee;&#x5f55;&#x4e2d;&#xff0c;&#x7136;&#x540e;&#x542f;&#x52a8;tomcat&#x670d;&#x52a1;&#x5668;&#x8fdb;&#x884c;&#x89e3;&#x538b;&#x3002;\n\n**&#xff08;3&#xff09;&#x3001;&#x52a0;&#x5165;&#x6570;&#x636e;&#x6e90;&#x7684;&#x914d;&#x7f6e;**\n\n&#x6253;&#x5f00;`apache-tomcat-8.5.61\\webapps\\cas\\WEB-INF\\classes`&#x89e3;&#x538b;&#x540e;&#x7684;&#x7c7b;&#x8def;&#x5f84;&#x76ee;&#x5f55;&#xff0c;&#x5728;&#x8fd9;&#x91cc;&#x4f60;&#x5c06;&#x4f1a;&#x770b;&#x5230;&#x5f88;&#x591a;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#xff0c;&#x63a5;&#x4e0b;&#x6765;&#xff0c;&#x6211;&#x4eec;&#x9700;&#x8981;&#x52a0;&#x4e0a;&#x6570;&#x636e;&#x5e93;&#x7684;&#x76f8;&#x5173;&#x914d;&#x7f6e;&#xff0c;&#x5177;&#x4f53;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff0c;&#x628a;&#x4ed6;&#x590d;&#x5236;&#x5230;`application.properties`&#x7684;&#x6700;&#x540e;&#x90e8;&#x5206;&#xff0c;&#x5c06; `cas.authn.accept.users=....` &#x52a0;&#x4e95;&#x53f7;&#x6ce8;&#x91ca;&#x6389;&#xff0c;&#x518d;&#x52a0;&#x5165;&#x4ee5;&#x4e0b;&#x5185;&#x5bb9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"156,163"}},{"content":"<pre data-lines=\"164,173\"><code class=\"language-properties\">cas.authn.jdbc.query[0].driverClass=com.mysql.jdbc.Driver\ncas.authn.jdbc.query[0].url=jdbc:mysql://localhost:3306/test\ncas.authn.jdbc.query[0].user=root\ncas.authn.jdbc.query[0].password=root\ncas.authn.jdbc.query[0].sql=select password from sys_user where username=?\ncas.authn.jdbc.query[0].fieldPassword=password\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"164,173"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/3dae2edc85c9d30bb6f5fddb32e7da4c.png\" alt>","children":[],"payload":{"tag":"img","lines":"174,175"}},{"content":"<pre data-lines=\"176,179\"><code>**&#xff08;4&#xff09;&#x3001;&#x52a0;&#x5165;&#x5bc6;&#x7801;&#x52a0;&#x5bc6;&#x89c4;&#x5219;**\n\ncas5.X &#x63d0;&#x4f9b;&#x4e86;4&#x79cd;&#x52a0;&#x5bc6;&#x914d;&#x7f6e;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"176,179"}},{"content":"<pre data-lines=\"180,184\"><code class=\"language-properties\">cas.authn.jdbc.query[0].passwordEncoder.type=NONE|DEFAULT|STANDARD|BCRYPT\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"180,184"}},{"content":"<pre data-lines=\"185,202\"><code>&#x9ed8;&#x8ba4;&#x503c;&#x4e3a; NONE&#x8fd9;&#x56db;&#x79cd;&#x65b9;&#x5f0f;&#x5176;&#x5b9e;&#x8131;&#x80ce;&#x4e8e;spring security&#x4e2d;&#x7684;&#x52a0;&#x5bc6;&#x65b9;&#x5f0f;&#xff0c;spring security&#x63d0;&#x4f9b;&#x4e86; MD5PasswordEncoder&#x3001;SHAPasswordEncoder&#x3001;StandardPasswordEncoder&#x548c; BCryptPasswordEncoder&#x3002;\n\n*   NONE&#xff1a;&#x8bf4;&#x660e;&#x5bf9;&#x5bc6;&#x7801;&#x4e0d;&#x505a;&#x4efb;&#x4f55;&#x52a0;&#x5bc6;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x4fdd;&#x7559;&#x660e;&#x6587;&#x3002;\n    \n*   DEFAULT&#xff1a;&#x542f;&#x7528;DefaultPasswordEncoder&#x3002; MD5PasswordEncoder&#x548c; SHAPasswordEncoder&#x52a0;&#x5bc6;&#x662f;&#x7f16;&#x7801;&#x7b97;&#x6cd5;&#x52a0;&#x5bc6;&#xff0c;&#x73b0;&#x5728;cas&#x628a;&#x4ed6;&#x4eec;&#x5f52;&#x5c5e;&#x4e8e; DefaultPasswordEncoder&#x3002;DefaultPasswordEncoder&#x9700;&#x8981;&#x5e26;&#x53c2;&#x6570; encodingAlgorithm&#xff1a;\n\n```properties\ncas.authn.accept.passwordEncoder.encodingAlgorithm=MD5|SHA\n\n```\n\n*   STANDARD&#xff1a;&#x542f;&#x7528;StandardPasswordEncoder&#x52a0;&#x5bc6;&#x65b9;&#x5f0f; &#x3002;1024&#x6b21;&#x8fed;&#x4ee3;&#x7684; SHA&#x2010;256 &#x6563;&#x5217; &#x54c8;&#x5e0c;&#x52a0;&#x5bc6;&#x5b9e;&#x73b0;&#xff0c;&#x5e76;&#x4f7f;&#x7528;&#x4e00;&#x4e2a;&#x968f;&#x673a;8&#x5b57;&#x8282;&#x7684;salt&#x3002;\n    \n*   BCRYPT&#xff1a;&#x542f;&#x7528;BCryptPasswordEncoder&#x52a0;&#x5bc6;&#x65b9;&#x5f0f;&#x3002;\n    \n\n&#x6211;&#x4eec;&#x8fd9;&#x91cc;&#x91c7;&#x7528;BCRYPT&#x52a0;&#x5bc6;&#xff0c;&#x56e0;&#x4e3a;&#x6211;&#x4eec;&#x6570;&#x636e;&#x5e93;&#x4e2d;&#x7684;&#x5bc6;&#x7801;&#x52a0;&#x5bc6;&#x65b9;&#x5f0f;&#x5c31;&#x662f;&#x8fd9;&#x79cd;&#x52a0;&#x5bc6;&#xff0c;&#x5e94;&#x8be5;&#x4fdd;&#x6301;&#x4e00;&#x81f4;&#xff0c;&#x4fee;&#x6539;application.properties &#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"185,202"}},{"content":"<pre data-lines=\"203,208\"><code class=\"language-properties\">cas.authn.jdbc.query[0].passwordEncoder.type=BCRYPT\ncas.authn.jdbc.query[0].passwordEncoder.characterEncoding=UTF-8\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"203,208"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a09d21371f0bc04a35bf532946c97dfb.png\" alt>","children":[],"payload":{"tag":"img","lines":"209,210"}},{"content":"<pre data-lines=\"211,212\"><code>**&#xff08;5&#xff09;&#x3001;&#x5bfc;&#x5165;&#x6570;&#x636e;&#x5e93;&#x6570;&#x636e;&#x8868;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"211,212"}},{"content":"<pre data-lines=\"213,266\"><code class=\"language-sql\"><span class=\"hljs-keyword\">DROP</span> DATABASE IF <span class=\"hljs-keyword\">EXISTS</span> `test`;\n\n<span class=\"hljs-keyword\">CREATE</span> DATABASE `test`;\n\nUSE `test`;\n\n<span class=\"hljs-keyword\">DROP</span> <span class=\"hljs-keyword\">TABLE</span> IF <span class=\"hljs-keyword\">EXISTS</span> `sys_role`;\n\n<span class=\"hljs-keyword\">CREATE TABLE</span> `sys_role` (\n  `id` <span class=\"hljs-type\">int</span>(<span class=\"hljs-number\">11</span>) <span class=\"hljs-keyword\">NOT NULL</span> AUTO_INCREMENT COMMENT <span class=\"hljs-string\">&apos;&#x89d2;&#x8272;&#x7f16;&#x53f7;&apos;</span>,\n  `name` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">32</span>) <span class=\"hljs-keyword\">NOT NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x89d2;&#x8272;&#x540d;&#x79f0;&apos;</span>,\n  `<span class=\"hljs-keyword\">desc</span>` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">32</span>) <span class=\"hljs-keyword\">NOT NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x89d2;&#x8272;&#x63cf;&#x8ff0;&apos;</span>,\n  <span class=\"hljs-keyword\">PRIMARY KEY</span> (`id`)\n) ENGINE<span class=\"hljs-operator\">=</span>InnoDB AUTO_INCREMENT<span class=\"hljs-operator\">=</span><span class=\"hljs-number\">5</span> <span class=\"hljs-keyword\">DEFAULT</span> CHARSET<span class=\"hljs-operator\">=</span>utf8;\n\n<span class=\"hljs-keyword\">insert  into</span> `sys_role`(`id`,`name`,`<span class=\"hljs-keyword\">desc</span>`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">1</span>,<span class=\"hljs-string\">&apos;ROLE_USER&apos;</span>,<span class=\"hljs-string\">&apos;&#x7528;&#x6237;&#x6743;&#x9650;&apos;</span>);\n<span class=\"hljs-keyword\">insert  into</span> `sys_role`(`id`,`name`,`<span class=\"hljs-keyword\">desc</span>`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">2</span>,<span class=\"hljs-string\">&apos;ROLE_ADMIN&apos;</span>,<span class=\"hljs-string\">&apos;&#x7ba1;&#x7406;&#x6743;&#x9650;&apos;</span>);\n<span class=\"hljs-keyword\">insert  into</span> `sys_role`(`id`,`name`,`<span class=\"hljs-keyword\">desc</span>`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">3</span>,<span class=\"hljs-string\">&apos;ROLE_PRODUCT&apos;</span>,<span class=\"hljs-string\">&apos;&#x4ea7;&#x54c1;&#x6743;&#x9650;&apos;</span>);\n<span class=\"hljs-keyword\">insert  into</span> `sys_role`(`id`,`name`,`<span class=\"hljs-keyword\">desc</span>`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">4</span>,<span class=\"hljs-string\">&apos;ROLE_ORDER&apos;</span>,<span class=\"hljs-string\">&apos;&#x8ba2;&#x5355;&#x6743;&#x9650;&apos;</span>);\n\n<span class=\"hljs-keyword\">DROP</span> <span class=\"hljs-keyword\">TABLE</span> IF <span class=\"hljs-keyword\">EXISTS</span> `sys_user`;\n\n<span class=\"hljs-keyword\">CREATE TABLE</span> `sys_user` (\n  `id` <span class=\"hljs-type\">int</span>(<span class=\"hljs-number\">11</span>) <span class=\"hljs-keyword\">NOT NULL</span> AUTO_INCREMENT COMMENT <span class=\"hljs-string\">&apos;&#x7528;&#x6237;&#x7f16;&#x53f7;&apos;</span>,\n  `username` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">32</span>) <span class=\"hljs-keyword\">NOT NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x7528;&#x6237;&#x540d;&#x79f0;&apos;</span>,\n  `password` <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">128</span>) <span class=\"hljs-keyword\">NOT NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x7528;&#x6237;&#x5bc6;&#x7801;&apos;</span>,\n  `status` <span class=\"hljs-type\">int</span>(<span class=\"hljs-number\">1</span>) <span class=\"hljs-keyword\">NOT NULL</span> <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-string\">&apos;1&apos;</span> COMMENT <span class=\"hljs-string\">&apos;&#x7528;&#x6237;&#x72b6;&#x6001;&#xff08;0&#xff1a;&#x5173;&#x95ed;&#x3001;1&#xff1a;&#x5f00;&#x542f;&#xff09;&apos;</span>,\n  <span class=\"hljs-keyword\">PRIMARY KEY</span> (`id`)\n) ENGINE<span class=\"hljs-operator\">=</span>InnoDB AUTO_INCREMENT<span class=\"hljs-operator\">=</span><span class=\"hljs-number\">4</span> <span class=\"hljs-keyword\">DEFAULT</span> CHARSET<span class=\"hljs-operator\">=</span>utf8;\n\n<span class=\"hljs-keyword\">insert  into</span> `sys_user`(`id`,`username`,`password`,`status`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">1</span>,<span class=\"hljs-string\">&apos;zhangsan&apos;</span>,<span class=\"hljs-string\">&apos;&#x24;2a&#x24;10&#x24;M7fmKpMZEkkzrTBiKie.EeAKZhQDrWAltpCA1y/py5AU/8lyiNB8y&apos;</span>,<span class=\"hljs-number\">0</span>);\n<span class=\"hljs-keyword\">insert  into</span> `sys_user`(`id`,`username`,`password`,`status`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">2</span>,<span class=\"hljs-string\">&apos;lisi&apos;</span>,<span class=\"hljs-string\">&apos;&#x24;2a&#x24;10&#x24;M7fmKpMZEkkzrTBiKie.EeAKZhQDrWAltpCA1y/py5AU/8lyiNB8y&apos;</span>,<span class=\"hljs-number\">0</span>);\n<span class=\"hljs-keyword\">insert  into</span> `sys_user`(`id`,`username`,`password`,`status`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">3</span>,<span class=\"hljs-string\">&apos;wangwu&apos;</span>,<span class=\"hljs-string\">&apos;&#x24;2a&#x24;10&#x24;M7fmKpMZEkkzrTBiKie.EeAKZhQDrWAltpCA1y/py5AU/8lyiNB8y&apos;</span>,<span class=\"hljs-number\">0</span>);\n\n<span class=\"hljs-keyword\">DROP</span> <span class=\"hljs-keyword\">TABLE</span> IF <span class=\"hljs-keyword\">EXISTS</span> `sys_user_role`;\n\n<span class=\"hljs-keyword\">CREATE TABLE</span> `sys_user_role` (\n  `uid` <span class=\"hljs-type\">int</span>(<span class=\"hljs-number\">11</span>) <span class=\"hljs-keyword\">NOT NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x7528;&#x6237;&#x7f16;&#x53f7;&apos;</span>,\n  `rid` <span class=\"hljs-type\">int</span>(<span class=\"hljs-number\">11</span>) <span class=\"hljs-keyword\">NOT NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x89d2;&#x8272;&#x7f16;&#x53f7;&apos;</span>,\n  <span class=\"hljs-keyword\">PRIMARY KEY</span> (`uid`,`rid`)\n) ENGINE<span class=\"hljs-operator\">=</span>InnoDB <span class=\"hljs-keyword\">DEFAULT</span> CHARSET<span class=\"hljs-operator\">=</span>utf8;\n\n<span class=\"hljs-keyword\">insert  into</span> `sys_user_role`(`uid`,`rid`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">1</span>);\n<span class=\"hljs-keyword\">insert  into</span> `sys_user_role`(`uid`,`rid`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">3</span>);\n<span class=\"hljs-keyword\">insert  into</span> `sys_user_role`(`uid`,`rid`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">1</span>);\n<span class=\"hljs-keyword\">insert  into</span> `sys_user_role`(`uid`,`rid`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>);\n<span class=\"hljs-keyword\">insert  into</span> `sys_user_role`(`uid`,`rid`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">1</span>);\n<span class=\"hljs-keyword\">insert  into</span> `sys_user_role`(`uid`,`rid`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">2</span>);\n<span class=\"hljs-keyword\">insert  into</span> `sys_user_role`(`uid`,`rid`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">3</span>);\n<span class=\"hljs-keyword\">insert  into</span> `sys_user_role`(`uid`,`rid`) <span class=\"hljs-keyword\">values</span> (<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>);\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"213,266"}},{"content":"<pre data-lines=\"267,277\"><code>**&#xff08;6&#xff09;&#x3001;&#x91cd;&#x65b0;&#x542f;&#x52a8;tomcat**\n\n&#x628a;&#x4e4b;&#x524d;&#x542f;&#x52a8;&#x7684;tomcat&#x5173;&#x95ed;&#xff0c;&#x7136;&#x540e;&#x91cd;&#x65b0;&#x542f;&#x52a8;&#xff0c;&#x8ba9;&#x54b1;&#x4eec;&#x7684;&#x914d;&#x7f6e;&#x751f;&#x6548;&#x3002;\n\n**&#xff08;7&#xff09;&#x3001;&#x91cd;&#x65b0;&#x5f00;&#x6d4f;&#x89c8;&#x5668;&#x6d4b;&#x8bd5;**\n\n&#x6253;&#x5f00;&#x6d4f;&#x89c8;&#x5668;&#x8f93;&#x5165;&#x5730;&#x5740;&#xff1a;http://localhost:8080/cas/login\n\n*   &#x8d26;&#x6237;&#xff1a;zhangsan\n*   &#x5bc6;&#x7801;&#xff1a;&#x5168;&#x90e8;&#x90fd;&#x662f;123456\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"267,277"}}],"payload":{"tag":"h2","lines":"110,112"}},{"content":"4.2&#x3001;&#x517c;&#x5bb9; HTTP","children":[{"content":"<pre data-lines=\"281,282\"><code>&#xff08;1&#xff09;&#x3001;&#x7531;&#x4e8e;CAS&#x9ed8;&#x8ba4;&#x4f7f;&#x7528;&#x7684;&#x662f;&#x57fa;&#x4e8e;https&#x534f;&#x8bae;&#xff0c;&#x9700;&#x8981;&#x6539;&#x4e3a;&#x517c;&#x5bb9;&#x4f7f;&#x7528;http&#x534f;&#x8bae;&#xff0c;&#x5230;`apache-tomcat-8.5.61\\webapps\\cas\\WEB-INF\\classes`&#x76ee;&#x5f55;&#x7684;`application.properties`&#x6dfb;&#x52a0;&#x5982;&#x4e0b;&#x7684;&#x5185;&#x5bb9;&#xff0c;&#x5176;&#x4e2d;&#xff0c;TGC&#xff1a;Ticket Granted Cookie (&#x5ba2;&#x6237;&#x7aef;&#x7528;&#x6237;&#x6301;&#x6709;&#xff0c;&#x4f20;&#x9001;&#x5230;&#x670d;&#x52a1;&#x5668;&#xff0c;&#x7528;&#x4e8e;&#x9a8c;&#x8bc1;&#xff09;&#x5b58;&#x653e;&#x7528;&#x6237;&#x8eab;&#x4efd;&#x8ba4;&#x8bc1;&#x51ed;&#x8bc1;&#x7684;cookie&#xff0c;&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x548c;CAS Server&#x95f4;&#x901a;&#x8baf;&#x65f6;&#x4f7f;&#x7528;&#xff0c;&#x5e76;&#x4e14;&#x53ea;&#x80fd;&#x57fa;&#x4e8e;&#x5b89;&#x5168;&#x901a;&#x9053;&#x4f20;&#x8f93;&#xff08;Https&#xff09;&#xff0c;&#x662f;CAS Server&#x7528;&#x6765;&#x660e;&#x786e;&#x7528;&#x6237;&#x8eab;&#x4efd;&#x7684;&#x51ed;&#x8bc1;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"281,282"}},{"content":"<pre data-lines=\"283,288\"><code class=\"language-properties\">cas.tgc.secure=false\ncas.serviceRegistry.initFromJson=true\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"283,288"}},{"content":"<pre data-lines=\"289,290\"><code>&#xff08;2&#xff09;&#x3001;&#x5230;`apache-tomcat-8.5.61\\webapps\\cas\\WEB-INF\\classes\\services`&#x76ee;&#x5f55;&#x4e0b;&#x7684; `HTTPSandIMAPS-10000001.json` &#x4fee;&#x6539;&#x5185;&#x5bb9;&#x5982;&#x4e0b;&#xff0c;&#x5373;&#x6dfb;&#x52a0;`http`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"289,290"}},{"content":"<pre data-lines=\"291,302\"><code class=\"language-properties\">{\n  &quot;@class&quot; : &quot;org.apereo.cas.services.RegexRegisteredService&quot;,\n  &quot;serviceId&quot; : &quot;^(https|http|imaps)://.*&quot;,\n  &quot;name&quot; : &quot;HTTPS and IMAPS&quot;,\n  &quot;id&quot; : 10000001,\n  &quot;description&quot; : &quot;This service definition authorizes all application urls that support HTTPS and IMAPS protocols.&quot;,\n  &quot;evaluationOrder&quot; : 10000\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"291,302"}},{"content":"<pre data-lines=\"303,304\"><code>&#xff08;3&#xff09;&#x3001;&#x91cd;&#x65b0;&#x542f;&#x52a8;tomcat&#xff0c;&#x7136;&#x540e;&#x767b;&#x5f55;zhangsan&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff0c;&#x6216;&#x8bb8;&#x770b;&#x8d77;&#x6765;&#x5e76;&#x6ca1;&#x6709;&#x4ec0;&#x4e48;&#x4e0d;&#x4e00;&#x6837;&#xff0c;&#x4f46;&#x662f;&#x73b0;&#x5728;&#x5df2;&#x7ecf;&#x517c;&#x5bb9;http&#x534f;&#x8bae;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"303,304"}}],"payload":{"tag":"h2","lines":"278,280"}},{"content":"4.3&#x3001;&#x5b9a;&#x5236;&#x767b;&#x5f55;&#x9875;","children":[{"content":"<pre data-lines=\"308,319\"><code>&#x76f8;&#x5173;&#x89c4;&#x8303;\n\n&#x25cf; &#x9759;&#x6001;&#x8d44;&#x6e90;&#xff08;js&#x3001;css&#xff09;&#x5b58;&#x653e;&#x76ee;&#x5f55;&#x4e3a;WEB-INF\\\\classes\\\\static  \n&#x25cf; html&#x8d44;&#x6e90;&#xff08;thymeleaf&#x6a21;&#x677f;&#xff09;&#x5b58;&#x653e;&#x76ee;&#x5f55;&#x4e3a;WEB-INF\\\\classes\\\\templates  \n&#x25cf; &#x4e3b;&#x9898;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x5b58;&#x653e;&#x5728;WEB-INF\\\\classes&#xff0c;&#x5e76;&#x4e14;&#x547d;&#x540d;&#x4e3a;\\[theme\\_name\\].properties\n\n&#x51c6;&#x5907;&#x5de5;&#x4f5c;\n\n&gt; &#x6ce8;&#x610f;&#xff1a;&#x914d;&#x5957;&#x8d44;&#x6599;&#x4e2d;&#x6709;&#x9759;&#x6001;&#x8d44;&#x6e90;&#xff0c;&#x8bf7;&#x5728;&#x91cc;&#x8fb9;&#x627e;&#x5230;`cas&#x5355;&#x70b9;&#x767b;&#x5f55;&#x57fa;&#x7840;&#x4ee3;&#x7801;\\&#x767b;&#x5f55;&#x9875;&#x9762;&#x6e90;&#x4ee3;&#x7801;`\n\n&#xff08;1&#xff09;&#x3001;&#x5728;&#x9759;&#x6001;&#x8d44;&#x6e90;&#x76ee;&#x5f55;&#xff08;WEB-INF\\\\classes\\\\static\\\\themes&#xff09;&#x4e0b;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x5939;&#xff0c;&#x4e00;&#x822c;&#x8ddf;&#x5de5;&#x7a0b;&#x540d;&#x5b57;&#x4fdd;&#x6301;&#x4e00;&#x81f4;&#xff0c;&#x8fd9;&#x91cc;&#x6211;&#x4eec;&#x53eb;`mylogin`&#xff0c;&#x7136;&#x540e;&#x628a;&#x54b1;&#x4eec;&#x7684;css&#x548c;js&#x90fd;&#x62f7;&#x8d1d;&#x8fdb;&#x53bb;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"308,319"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/03528d0c33c9c168e4f80f51fa778a9a.png\" alt>","children":[],"payload":{"tag":"img","lines":"320,321"}},{"content":"<pre data-lines=\"322,323\"><code>&#xff08;2&#xff09;&#x3001;&#x5728;&#x6a21;&#x677f;&#x8d44;&#x6e90;&#x76ee;&#x5f55;&#xff08;WEB-INF\\\\classes\\\\static\\\\templates&#xff09;&#x4e0b;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x5939;&#xff0c;&#x4e00;&#x822c;&#x8ddf;&#x5de5;&#x7a0b;&#x540d;&#x5b57;&#x4fdd;&#x6301;&#x4e00;&#x81f4;&#xff0c;&#x8fd9;&#x91cc;&#x6211;&#x4eec;&#x53eb;`mylogin`&#xff0c;&#x628a;&#x54b1;&#x4eec;&#x7684;&#x9759;&#x6001;&#x8d44;&#x6e90; login.html &#x62f7;&#x8d1d;&#x5230;&#x8fd9;&#x91cc;&#xff0c;&#x7136;&#x540e;&#x628a;&#x540d;&#x79f0;&#x6539;&#x4e3a; `casLoginView.html`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"322,323"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/373bc2b20514f8cd96ffd71771d41e36.png\" alt>","children":[],"payload":{"tag":"img","lines":"324,325"}},{"content":"<pre data-lines=\"326,327\"><code>&#xff08;3&#xff09;&#x3001;&#x7ed9;&#x767b;&#x5f55;&#x9875;&#x9762;&#x6a21;&#x677f;&#x6dfb;&#x52a0;`thymeleaf`&#x7684;&#x547d;&#x540d;&#x7a7a;&#x95f4;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"326,327"}},{"content":"<pre data-lines=\"328,333\"><code class=\"language-html\"><span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-keyword\">html</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">html</span> <span class=\"hljs-attr\">xmlns:th</span>=<span class=\"hljs-string\">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"328,333"}},{"content":"<pre data-lines=\"334,335\"><code>&#xff08;4&#xff09;&#x3001;&#x4fee;&#x6539;&#x6240;&#x6709;&#x9759;&#x6001;&#x8d44;&#x6e90;&#x7684;&#x8def;&#x5f84;&#xff0c;&#x6539;&#x6210;&#x7edd;&#x5bf9;&#x8def;&#x5f84;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"334,335"}},{"content":"<pre data-lines=\"336,352\"><code class=\"language-html\"><span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-keyword\">html</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">html</span> <span class=\"hljs-attr\">xmlns:th</span>=<span class=\"hljs-string\">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">head</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">title</span>&gt;</span>&#x81ea;&#x5b9a;&#x4e49;&#x767b;&#x5f55;&#x9875;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">title</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">link</span> <span class=\"hljs-attr\">rel</span>=<span class=\"hljs-string\">&quot;stylesheet&quot;</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">&quot;/cas/themes/mylogin/css/bootstrap.min.css&quot;</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">head</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">body</span>&gt;</span>\n...\n...    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">&quot;/cas/themes/mylogin/js/jquery-3.5.1.min.js&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">&quot;/cas/themes/mylogin/js/bootstrap.bundle.min.js&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">html</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"336,352"}},{"content":"<pre data-lines=\"353,354\"><code>&#xff08;5&#xff09;&#x3001;&#x4fee;&#x6539;&#x8868;&#x5355;&#x7684;&#x63d0;&#x4ea4;&#x8def;&#x5f84;&#x5e76;&#x52a0;&#x4e0a;&#x7279;&#x5b9a;&#x5bf9;&#x8c61;&#x5c5e;&#x6027;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"353,354"}},{"content":"<pre data-lines=\"355,362\"><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">form</span> <span class=\"hljs-attr\">th:object</span>=<span class=\"hljs-string\">&quot;&#x24;{credential}&quot;</span> <span class=\"hljs-attr\">action</span>=<span class=\"hljs-string\">&quot;login&quot;</span> <span class=\"hljs-attr\">method</span>=<span class=\"hljs-string\">&quot;post&quot;</span>&gt;</span>\n...\n...    \n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">form</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"355,362"}},{"content":"<pre data-lines=\"363,364\"><code>&#xff08;6&#xff09;&#x3001;&#x4fee;&#x6539;&#x8868;&#x5355;&#x7684;&#x7528;&#x6237;&#x540d;&#x548c;&#x5bc6;&#x7801;&#x6587;&#x672c;&#x6846;&#x90fd;&#x6dfb;&#x52a0;&#x4e0a;&#x4e00;&#x4e2a;`th:field`&#x5c5e;&#x6027;&#xff0c;&#x5e76;&#x53bb;&#x6389;&#x65e0;&#x7528;&#x5c5e;&#x6027;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"363,364"}},{"content":"<pre data-lines=\"365,373\"><code class=\"language-html\">...\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;text&quot;</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;form-control&quot;</span> <span class=\"hljs-attr\">th:field</span>=<span class=\"hljs-string\">&quot;*{username}&quot;</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">&quot;&#x8bf7;&#x8f93;&#x5165;&#x7528;&#x6237;&quot;</span> <span class=\"hljs-attr\">required</span>&gt;</span>\n...\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;text&quot;</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;form-control&quot;</span> <span class=\"hljs-attr\">th:field</span>=<span class=\"hljs-string\">&quot;*{password}&quot;</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">&quot;&#x8bf7;&#x8f93;&#x5165;&#x5bc6;&#x7801;&quot;</span> <span class=\"hljs-attr\">required</span>&gt;</span>\n...\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"365,373"}},{"content":"<pre data-lines=\"374,375\"><code>&#xff08;7&#xff09;&#x3001;&#x4e3a;&#x6b64;&#x8868;&#x5355;&#x6dfb;&#x52a0;&#x767b;&#x5f55;&#x5931;&#x8d25;&#x9519;&#x8bef;&#x4fe1;&#x606f;&#x4ee5;&#x53ca;&#x9690;&#x85cf;&#x57df;&#x8868;&#x5355;&#x9879;&#xff0c;&#x76f4;&#x63a5;&#x62f7;&#x8d1d;&#x4ee5;&#x4e0b;&#x4ee3;&#x7801;&#x5230;`button`&#x63d0;&#x4ea4;&#x6309;&#x94ae;&#x4e0a;&#x8fb9;&#x5373;&#x53ef;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"374,375"}},{"content":"<pre data-lines=\"376,385\"><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">class</span>=<span class=\"hljs-string\">&quot;form-group&quot;</span> <span class=\"hljs-attr\">th:if</span>=<span class=\"hljs-string\">&quot;&#x24;{#fields.hasErrors(&apos;*&apos;)}&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">th:each</span>=<span class=\"hljs-string\">&quot;err : &#x24;{#fields.errors(&apos;*&apos;)}&quot;</span> <span class=\"hljs-attr\">th:utext</span>=<span class=\"hljs-string\">&quot;&#x24;{err}&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;hidden&quot;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;execution&quot;</span> <span class=\"hljs-attr\">th:value</span>=<span class=\"hljs-string\">&quot;&#x24;{flowExecutionKey}&quot;</span>/&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;hidden&quot;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;_eventId&quot;</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">&quot;submit&quot;</span>/&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;hidden&quot;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;geolocation&quot;</span>/&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"376,385"}},{"content":"<pre data-lines=\"386,387\"><code>&#xff08;8&#xff09;&#x3001;&#x5728;`apache-tomcat-8.5.61\\webapps\\cas\\WEB-INF\\classes`&#x76ee;&#x5f55;&#x4e0b;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x4e3b;&#x9898;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#xff0c;&#x540d;&#x5b57;&#x53eb;`mylogin.properties`&#xff0c;&#x914d;&#x7f6e;&#x5185;&#x5bb9;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"386,387"}},{"content":"<pre data-lines=\"388,392\"><code class=\"language-properties\">cas.standard.css.file=/css/cas.css\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"388,392"}},{"content":"<pre data-lines=\"393,394\"><code>&#xff08;9&#xff09;&#x3001;&#x627e;&#x5230;`application.properties`&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#xff0c;&#x5728;&#x6587;&#x4ef6;&#x7684;&#x6700;&#x540e;&#xff0c;&#x6211;&#x4eec;&#x542f;&#x7528;&#x9ed8;&#x8ba4;&#x4e3b;&#x9898;&#x4e3a;&#x6211;&#x4eec;&#x81ea;&#x5df1;&#x7684;&#x4e3b;&#x9898;&#x5373;&#x53ef;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"393,394"}},{"content":"<pre data-lines=\"395,399\"><code class=\"language-properties\">cas.theme.defaultThemeName=mylogin\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"395,399"}},{"content":"<pre data-lines=\"400,401\"><code>&#xff08;10&#xff09;&#x3001;&#x91cd;&#x542f;tomcat&#x5e94;&#x7528;&#xff0c;&#x8bbf;&#x95ee;&#x767b;&#x5f55;&#x5730;&#x5740;&#xff1a;http://localhost:8080/cas/login&#xff0c;&#x5982;&#x679c;&#x4e00;&#x5207;&#x987a;&#x5229;&#xff0c;&#x90a3;&#x4e48;&#xff0c;&#x60a8;&#x5c06;&#x4f1a;&#x770b;&#x5230;&#x5982;&#x4e0b;&#x754c;&#x9762;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"400,401"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/070590eef96b6364f1b768234bfb82a8.png\" alt>","children":[],"payload":{"tag":"img","lines":"402,403"}},{"content":"<pre data-lines=\"404,405\"><code>&#xff08;11&#xff09;&#x3001;&#x767b;&#x5f55;&#x6d4b;&#x8bd5;&#xff0c;&#x4f7f;&#x7528;&#x8d26;&#x53f7;zhangsan&#xff0c;&#x5bc6;&#x7801;&#xff1a;123456&#x8fdb;&#x884c;&#x767b;&#x5f55;&#x6d4b;&#x8bd5;&#x3002;&#x597d;&#x5c31;&#x8fd9;&#x6837;&#xff0c;&#x6211;&#x4eec;&#x4fdd;&#x6301;&#x5de5;&#x7a0b;&#x542f;&#x52a8;&#x72b6;&#x6001;&#xff0c;&#x63a5;&#x4e0b;&#x6765;&#xff0c;&#x8fdb;&#x884c;&#x4e0b;&#x4e00;&#x73af;&#x8282;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"404,405"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d064d19f4f51f6b3b21fceb488dbe9f6.png\" alt>","children":[],"payload":{"tag":"img","lines":"406,407"}}],"payload":{"tag":"h2","lines":"305,307"}},{"content":"5.1&#x3001;&#x5de5;&#x7a0b;&#x521b;&#x5efa;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/9d6d19686cd2859706e3b173c9c0d10b.png\" alt>","children":[],"payload":{"tag":"img","lines":"411,412"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/1bcfcbd328bed5e54a496ac0320ecfb6.png\" alt>","children":[],"payload":{"tag":"img","lines":"413,414"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/3635a9a0935da5776fe6eb938d1d8242.png\" alt>","children":[],"payload":{"tag":"img","lines":"415,416"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/fee1f70af06910095d23dfd0c94ca772.png\" alt>","children":[],"payload":{"tag":"img","lines":"417,418"}}],"payload":{"tag":"h2","lines":"408,410"}},{"content":"5.2&#x3001;&#x5bfc;&#x5165;&#x4f9d;&#x8d56;","children":[{"content":"<pre data-lines=\"424,447\"><code class=\"language-xml\">\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.mybatis.spring.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>2.1.4<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>mysql<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>mysql-connector-java<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>5.1.49<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-security<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.security<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-security-cas<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"424,447"}}],"payload":{"tag":"h2","lines":"419,421"}},{"content":"5.3&#x3001;&#x4fee;&#x6539;&#x5305;&#x540d;","children":[{"content":"<pre data-lines=\"451,461\"><code>&#x5c06;`com.caochenlei.casresourceorder`&#x4fee;&#x6539;&#x4e3a;`com.caochenlei`&#xff0c;&#x7136;&#x540e;&#x5728;&#x5206;&#x522b;&#x521b;&#x5efa;&#x4ee5;&#x4e0b;&#x5305;&#x540d;\n\n1.  com.caochenlei.domain&#xff1a;&#x7528;&#x4e8e;&#x5b58;&#x653e;&#x5b9e;&#x4f53;&#x5bf9;&#x8c61;\n2.  com.caochenlei.prop&#xff1a;&#x7528;&#x4e8e;&#x5b58;&#x653e;&#x914d;&#x7f6e;&#x5c5e;&#x6027;&#x7c7b;\n3.  com.caochenlei.mapper&#xff1a;&#x7528;&#x4e8e;&#x5b58;&#x653e;&#x6620;&#x5c04;&#x6587;&#x4ef6;\n4.  com.caochenlei.service&#xff1a;&#x7528;&#x4e8e;&#x5b58;&#x653e;&#x670d;&#x52a1;&#x63a5;&#x53e3;\n5.  com.caochenlei.controller&#xff1a;&#x7528;&#x4e8e;&#x5b58;&#x653e;&#x63a7;&#x5236;&#x5668;&#x7c7b;\n6.  com.caochenlei.config&#xff1a;&#x7528;&#x4e8e;&#x5b58;&#x653e;&#x914d;&#x7f6e;&#x5bf9;&#x8c61;\n\n&#x5c06;&#x8d44;&#x6599;&#x4e2d;&#x63d0;&#x4f9b;&#x7684; `cas&#x5355;&#x70b9;&#x767b;&#x5f55;&#x57fa;&#x7840;&#x4ee3;&#x7801;\\&#x6620;&#x5c04;&#x670d;&#x52a1;&#x7684;&#x4ee3;&#x7801;` &#x4e2d;&#x7684;mapper&#x548c;service&#x4e2d;&#x7684;&#x4ee3;&#x7801;&#x76f4;&#x63a5;&#x62f7;&#x8d1d;&#x5230;&#x5de5;&#x7a0b;&#x6240;&#x5bf9;&#x5e94;&#x7684;&#x5305;&#x4e2d;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x5e26;&#x5305;&#x62f7;&#x8d1d;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"451,461"}}],"payload":{"tag":"h2","lines":"448,450"}},{"content":"5.4&#x3001;&#x7f16;&#x5199;&#x914d;&#x7f6e;&#x6587;&#x4ef6;","children":[{"content":"<pre data-lines=\"465,466\"><code>application.yaml\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"465,466"}},{"content":"<pre data-lines=\"467,509\"><code class=\"language-yaml\"><span class=\"hljs-attr\">server:</span>\n  <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">9001</span>\n  <span class=\"hljs-attr\">servlet:</span>\n    <span class=\"hljs-attr\">application-display-name:</span> <span class=\"hljs-string\">cas-resource-order</span>\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">datasource:</span>\n    <span class=\"hljs-attr\">driver-class-name:</span> <span class=\"hljs-string\">com.mysql.jdbc.Driver</span>\n    <span class=\"hljs-attr\">url:</span> <span class=\"hljs-string\">jdbc:mysql://localhost:3306/test</span>\n    <span class=\"hljs-attr\">username:</span> <span class=\"hljs-string\">root</span>\n    <span class=\"hljs-attr\">password:</span> <span class=\"hljs-string\">root</span>\n<span class=\"hljs-attr\">mybatis:</span>\n  <span class=\"hljs-attr\">type-aliases-package:</span> <span class=\"hljs-string\">com.caochenlei.domain</span>\n  <span class=\"hljs-attr\">configuration:</span>\n    <span class=\"hljs-attr\">map-underscore-to-camel-case:</span> <span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attr\">logging:</span>\n  <span class=\"hljs-attr\">level:</span>\n    <span class=\"hljs-attr\">com.caochenlei:</span> <span class=\"hljs-string\">debug</span>\n\n\n<span class=\"hljs-attr\">app:</span>\n  <span class=\"hljs-attr\">server:</span>\n    <span class=\"hljs-attr\">host:</span>\n      \n      <span class=\"hljs-attr\">url:</span> <span class=\"hljs-string\">http://localhost:9001</span>\n      \n      <span class=\"hljs-attr\">login_url:</span> <span class=\"hljs-string\">/login</span>\n      \n      <span class=\"hljs-attr\">logout_url:</span> <span class=\"hljs-string\">/logout</span>\n\n\n<span class=\"hljs-attr\">cas:</span>\n  <span class=\"hljs-attr\">server:</span>\n    <span class=\"hljs-attr\">host:</span>\n      \n      <span class=\"hljs-attr\">url:</span> <span class=\"hljs-string\">http://localhost:8080/cas</span>\n      \n      <span class=\"hljs-attr\">login_url:</span> <span class=\"hljs-string\">&#x24;{cas.server.host.url}/login</span>\n      \n      <span class=\"hljs-attr\">logout_url:</span> <span class=\"hljs-string\">&#x24;{cas.server.host.url}/logout?service=&#x24;{app.server.host.url}</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"467,509"}}],"payload":{"tag":"h2","lines":"462,464"}},{"content":"5.5&#x3001;&#x7f16;&#x5199;&#x89d2;&#x8272;&#x6388;&#x6743;","children":[{"content":"<pre data-lines=\"513,514\"><code>com.caochenlei.service.CustomUserDetailsService\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"513,514"}},{"content":"<pre data-lines=\"515,529\"><code class=\"language-java\"><span class=\"hljs-meta\">@Service</span>\n<span class=\"hljs-meta\">@Transactional</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CustomUserDetailsService</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">UserDetailsService</span> {\n    <span class=\"hljs-meta\">@Autowired(required = false)</span>\n    <span class=\"hljs-keyword\">private</span> SysUserMapper sysUserMapper;\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> UserDetails <span class=\"hljs-title function_\">loadUserByUsername</span><span class=\"hljs-params\">(String username)</span> <span class=\"hljs-keyword\">throws</span> UsernameNotFoundException {\n        <span class=\"hljs-keyword\">return</span> sysUserMapper.findByUsername(username);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"515,529"}}],"payload":{"tag":"h2","lines":"510,512"}},{"content":"5.6&#x3001;&#x7f16;&#x5199;&#x914d;&#x7f6e;&#x5bf9;&#x8c61;","children":[{"content":"<pre data-lines=\"533,534\"><code>com.caochenlei.prop.CasProperties\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"533,534"}},{"content":"<pre data-lines=\"535,560\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Component</span>\n<span class=\"hljs-meta\">@Data</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">CasProperties</span> {\n    <span class=\"hljs-meta\">@Value(&quot;&#x24;{cas.server.host.url}&quot;)</span>\n    <span class=\"hljs-keyword\">private</span> String casServerUrl;\n\n    <span class=\"hljs-meta\">@Value(&quot;&#x24;{cas.server.host.login_url}&quot;)</span>\n    <span class=\"hljs-keyword\">private</span> String casServerLoginUrl;\n\n    <span class=\"hljs-meta\">@Value(&quot;&#x24;{cas.server.host.logout_url}&quot;)</span>\n    <span class=\"hljs-keyword\">private</span> String casServerLogoutUrl;\n\n    <span class=\"hljs-meta\">@Value(&quot;&#x24;{app.server.host.url}&quot;)</span>\n    <span class=\"hljs-keyword\">private</span> String appServerUrl;\n\n    <span class=\"hljs-meta\">@Value(&quot;&#x24;{app.server.host.login_url}&quot;)</span>\n    <span class=\"hljs-keyword\">private</span> String appServerLoginUrl;\n\n    <span class=\"hljs-meta\">@Value(&quot;&#x24;{app.server.host.logout_url}&quot;)</span>\n    <span class=\"hljs-keyword\">private</span> String appServerLogoutUrl;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"535,560"}},{"content":"<pre data-lines=\"561,562\"><code>com.caochenlei.config.SecurityConfig\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"561,562"}},{"content":"<pre data-lines=\"563,662\"><code class=\"language-java\"><span class=\"hljs-meta\">@Configuration</span>\n<span class=\"hljs-meta\">@EnableWebSecurity</span> \n<span class=\"hljs-meta\">@EnableGlobalMethodSecurity(securedEnabled = true)</span> \n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">SecurityConfig</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">WebSecurityConfigurerAdapter</span> {\n    <span class=\"hljs-meta\">@Autowired</span>\n    <span class=\"hljs-keyword\">private</span> CasProperties casProperties;\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">configure</span><span class=\"hljs-params\">(AuthenticationManagerBuilder auth)</span> <span class=\"hljs-keyword\">throws</span> Exception {\n        <span class=\"hljs-built_in\">super</span>.configure(auth);\n        auth.authenticationProvider(casAuthenticationProvider());\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">protected</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">configure</span><span class=\"hljs-params\">(HttpSecurity http)</span> <span class=\"hljs-keyword\">throws</span> Exception {\n        \n        http.csrf().disable();\n        \n        http.cors().disable();\n        \n        http.formLogin().disable();\n        \n        http.exceptionHandling()\n                .authenticationEntryPoint(casAuthenticationEntryPoint())\n                .and()\n                .addFilterAt(casAuthenticationFilter(), CasAuthenticationFilter.class)\n                .addFilterBefore(logoutFilter(), LogoutFilter.class)\n                .addFilterBefore(singleSignOutFilter(), CasAuthenticationFilter.class);\n    }\n\n    \n    <span class=\"hljs-meta\">@Bean</span>\n    <span class=\"hljs-keyword\">public</span> CasAuthenticationEntryPoint <span class=\"hljs-title function_\">casAuthenticationEntryPoint</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-type\">CasAuthenticationEntryPoint</span> <span class=\"hljs-variable\">casAuthenticationEntryPoint</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">CasAuthenticationEntryPoint</span>();\n        casAuthenticationEntryPoint.setLoginUrl(casProperties.getCasServerLoginUrl());\n        casAuthenticationEntryPoint.setServiceProperties(serviceProperties());\n        <span class=\"hljs-keyword\">return</span> casAuthenticationEntryPoint;\n    }\n\n    <span class=\"hljs-meta\">@Bean</span>\n    <span class=\"hljs-keyword\">public</span> ServiceProperties <span class=\"hljs-title function_\">serviceProperties</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-type\">ServiceProperties</span> <span class=\"hljs-variable\">serviceProperties</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ServiceProperties</span>();\n        serviceProperties.setService(casProperties.getAppServerUrl() + casProperties.getAppServerLoginUrl());\n        serviceProperties.setAuthenticateAllArtifacts(<span class=\"hljs-literal\">true</span>);\n        <span class=\"hljs-keyword\">return</span> serviceProperties;\n    }\n    \n\n    \n    <span class=\"hljs-meta\">@Bean</span>\n    <span class=\"hljs-keyword\">public</span> CasAuthenticationFilter <span class=\"hljs-title function_\">casAuthenticationFilter</span><span class=\"hljs-params\">()</span> <span class=\"hljs-keyword\">throws</span> Exception {\n        <span class=\"hljs-type\">CasAuthenticationFilter</span> <span class=\"hljs-variable\">casAuthenticationFilter</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">CasAuthenticationFilter</span>();\n        casAuthenticationFilter.setAuthenticationManager(authenticationManager());\n        casAuthenticationFilter.setFilterProcessesUrl(casProperties.getAppServerLoginUrl());\n        <span class=\"hljs-keyword\">return</span> casAuthenticationFilter;\n    }\n\n    <span class=\"hljs-meta\">@Bean</span>\n    <span class=\"hljs-keyword\">public</span> CasAuthenticationProvider <span class=\"hljs-title function_\">casAuthenticationProvider</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-type\">CasAuthenticationProvider</span> <span class=\"hljs-variable\">casAuthenticationProvider</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">CasAuthenticationProvider</span>();\n        casAuthenticationProvider.setAuthenticationUserDetailsService(userDetailsByNameServiceWrapper());\n        casAuthenticationProvider.setServiceProperties(serviceProperties());\n        casAuthenticationProvider.setTicketValidator(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Cas20ServiceTicketValidator</span>(casProperties.getCasServerUrl()));\n        casAuthenticationProvider.setKey(<span class=\"hljs-string\">&quot;an_id_for_this_auth_provider_only&quot;</span>);\n        <span class=\"hljs-keyword\">return</span> casAuthenticationProvider;\n    }\n\n    <span class=\"hljs-meta\">@Bean</span>\n    <span class=\"hljs-keyword\">public</span> UserDetailsByNameServiceWrapper <span class=\"hljs-title function_\">userDetailsByNameServiceWrapper</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-type\">UserDetailsByNameServiceWrapper</span> <span class=\"hljs-variable\">userDetailsByNameServiceWrapper</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">UserDetailsByNameServiceWrapper</span>();\n        userDetailsByNameServiceWrapper.setUserDetailsService(userDetailsService());\n        <span class=\"hljs-keyword\">return</span> userDetailsByNameServiceWrapper;\n    }\n\n    <span class=\"hljs-meta\">@Bean</span>\n    <span class=\"hljs-keyword\">public</span> UserDetailsService <span class=\"hljs-title function_\">userDetailsService</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">CustomUserDetailsService</span>();\n    }\n    \n\n    \n    <span class=\"hljs-meta\">@Bean</span>\n    <span class=\"hljs-keyword\">public</span> LogoutFilter <span class=\"hljs-title function_\">logoutFilter</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-type\">LogoutFilter</span> <span class=\"hljs-variable\">logoutFilter</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LogoutFilter</span>(casProperties.getCasServerLogoutUrl(), <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SecurityContextLogoutHandler</span>());\n        logoutFilter.setFilterProcessesUrl(casProperties.getAppServerLogoutUrl());\n        <span class=\"hljs-keyword\">return</span> logoutFilter;\n    }\n\n    <span class=\"hljs-meta\">@Bean</span>\n    <span class=\"hljs-keyword\">public</span> SingleSignOutFilter <span class=\"hljs-title function_\">singleSignOutFilter</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-type\">SingleSignOutFilter</span> <span class=\"hljs-variable\">singleSignOutFilter</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SingleSignOutFilter</span>();\n        singleSignOutFilter.setIgnoreInitConfiguration(<span class=\"hljs-literal\">true</span>);\n        <span class=\"hljs-keyword\">return</span> singleSignOutFilter;\n    }\n    \n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"563,662"}}],"payload":{"tag":"h2","lines":"530,532"}},{"content":"5.7&#x3001;&#x7f16;&#x5199;&#x63a7;&#x5236;&#x5668;&#x7c7b;","children":[{"content":"<pre data-lines=\"668,680\"><code class=\"language-java\"><span class=\"hljs-meta\">@RestController</span>\n<span class=\"hljs-meta\">@RequestMapping(&quot;/order&quot;)</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">OrderController</span> {\n    <span class=\"hljs-meta\">@Secured({&quot;ROLE_ADMIN&quot;, &quot;ROLE_ORDER&quot;})</span>\n    <span class=\"hljs-meta\">@RequestMapping(&quot;/info&quot;)</span>\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">info</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;Order Controller ...&quot;</span>;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"668,680"}}],"payload":{"tag":"h2","lines":"663,665"}},{"content":"5.8&#x3001;&#x542f;&#x52a8;&#x9879;&#x76ee;&#x6d4b;&#x8bd5;","children":[{"content":"<pre data-lines=\"684,685\"><code>&#x542f;&#x52a8;&#x9879;&#x76ee;&#xff0c;&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x8f93;&#x5165;&#x5730;&#x5740;&#x8fdb;&#x884c;&#x8bbf;&#x95ee;&#xff1a;http://localhost:9001/order/info &#xff0c;&#x53d1;&#x73b0;&#x62a5;&#x9519;&#x4e86;&#xff0c;&#x62a5;&#x9519;&#x7684;&#x539f;&#x56e0;&#x5f88;&#x7b80;&#x5355;&#xff0c;zhangsan&#x4e0d;&#x80fd;&#x8bbf;&#x95ee;&#x8ba2;&#x5355;&#xff0c;&#x53ea;&#x6709;lisi&#x53ef;&#x4ee5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"684,685"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/620cc55762c08bbe2686ce5d3817aaa3.png\" alt>","children":[],"payload":{"tag":"img","lines":"686,687"}},{"content":"<pre data-lines=\"688,689\"><code>&#x90a3;&#x6211;&#x4eec;&#x4f7f;&#x7528;&#x9000;&#x51fa;&#x94fe;&#x63a5; http://localhost:9001/logout &#x8fdb;&#x884c;&#x9000;&#x51fa;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"688,689"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/1a644821042ced54876f2fc1092ce25f.png\" alt>","children":[],"payload":{"tag":"img","lines":"690,691"}},{"content":"<pre data-lines=\"692,693\"><code>&#x7136;&#x540e;&#x4f7f;&#x7528;lisi&#x8fdb;&#x884c;&#x91cd;&#x65b0;&#x8bbf;&#x95ee;&#xff1a;http://localhost:9001/order/info&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"692,693"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/fa0dcb81566e6850ea93b0235b064e29.png\" alt>","children":[],"payload":{"tag":"img","lines":"694,695"}},{"content":"<pre data-lines=\"696,697\"><code>&#x767b;&#x5f55;&#x4ee5;&#x540e;&#xff0c;&#x6211;&#x4eec;&#x5c31;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#x6211;&#x4eec;&#x7684;&#x4e1a;&#x52a1;&#x903b;&#x8f91;&#x6267;&#x884c;&#x540e;&#x6240;&#x8fd4;&#x56de;&#x7684;&#x6570;&#x636e;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"696,697"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/fb3795711f07945966808c4c9a23194f.png\" alt>","children":[],"payload":{"tag":"img","lines":"698,699"}}],"payload":{"tag":"h2","lines":"681,683"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
