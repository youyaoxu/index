<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"PIG &#x6574;&#x5408; RabbitMQ &#x6d88;&#x606f;&#x961f;&#x5217;","children":[{"content":"&#x8ba4;&#x8bc6;","children":[{"content":"<pre data-lines=\"6,9\"><code>&#x5728; Pig &#x6846;&#x67b6;&#x4e2d;&#x96c6;&#x6210; RabbitMQ &#x6d88;&#x606f;&#x961f;&#x5217;&#x7684;&#x914d;&#x7f6e;&#x548c;&#x4f7f;&#x7528;&#x6307;&#x5357;\n\n&#x672c;&#x6587;&#x6863;&#x4ecb;&#x7ecd;&#x5982;&#x4f55;&#x5728; Pig &#x6846;&#x67b6;&#x4e2d;&#x96c6;&#x6210; RabbitMQ &#x6d88;&#x606f;&#x961f;&#x5217;&#xff0c;&#x5305;&#x62ec;&#x5b89;&#x88c5;&#x3001;&#x914d;&#x7f6e;&#x548c;&#x4f7f;&#x7528;&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"6,9"}}],"payload":{"tag":"h2","lines":"3,5"}},{"content":"&#x5b89;&#x88c5; RabbitMQ","children":[{"content":"1. Docker &#x5b89;&#x88c5;","children":[{"content":"<pre data-lines=\"16,17\"><code>&#x4f7f;&#x7528; Docker &#x5feb;&#x901f;&#x90e8;&#x7f72; RabbitMQ&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"16,17"}},{"content":"<pre data-lines=\"20,23\"><code data-lines=\"20,23\"><span class=\"hljs-attribute\">docker</span> run -d -p <span class=\"hljs-number\">5672</span>:<span class=\"hljs-number\">5672</span> -p <span class=\"hljs-number\">15672</span>:<span class=\"hljs-number\">15672</span> --name rabbitmq rabbitmq:management \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"20,23"}}],"payload":{"tag":"h3","lines":"14,15"}},{"content":"2. &#x8bbf;&#x95ee;&#x7ba1;&#x7406;&#x754c;&#x9762;","children":[{"content":"<pre data-lines=\"26,27\"><code>&#x5b89;&#x88c5;&#x5b8c;&#x6210;&#x540e;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x4ee5;&#x4e0b;&#x5730;&#x5740;&#x8bbf;&#x95ee; RabbitMQ &#x7ba1;&#x7406;&#x754c;&#x9762;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"26,27"}},{"content":"<pre data-lines=\"30,33\"><code data-lines=\"30,33\"><span class=\"hljs-symbol\">http:</span><span class=\"hljs-comment\">//ip:15672 </span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"30,33"}}],"payload":{"tag":"h3","lines":"24,25"}},{"content":"3. &#x9ed8;&#x8ba4;&#x767b;&#x5f55;&#x4fe1;&#x606f;","children":[{"content":"<table data-lines=\"36,39\">\n<thead data-lines=\"36,37\">\n<tr data-lines=\"36,37\">\n<th>&#x7528;&#x6237;&#x540d;</th>\n<th>&#x5bc6;&#x7801;</th>\n</tr>\n</thead>\n<tbody data-lines=\"38,39\">\n<tr data-lines=\"38,39\">\n<td>guest</td>\n<td>guest</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"36,39"}}],"payload":{"tag":"h3","lines":"34,35"}}],"payload":{"tag":"h2","lines":"11,13"}},{"content":"&#x4ee3;&#x7801;&#x96c6;&#x6210;","children":[{"content":"1. &#x6dfb;&#x52a0;&#x4f9d;&#x8d56;","children":[{"content":"<pre data-lines=\"46,47\"><code>&#x5728;&#x76ee;&#x6807;&#x670d;&#x52a1;&#x4e2d;&#x6dfb;&#x52a0; AMQP &#x4f9d;&#x8d56;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"46,47"}},{"content":"<pre data-lines=\"50,56\"><code data-lines=\"50,56\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-boot-starter-amqp<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span> \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"50,56"}}],"payload":{"tag":"h3","lines":"44,45"}},{"content":"2. &#x914d;&#x7f6e;&#x8fde;&#x63a5;&#x4fe1;&#x606f;","children":[{"content":"<pre data-lines=\"59,60\"><code>&#x5728; Nacos &#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x4e2d;&#x6dfb;&#x52a0; RabbitMQ &#x8fde;&#x63a5;&#x4fe1;&#x606f;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"59,60"}},{"content":"<pre data-lines=\"63,71\"><code data-lines=\"63,71\"><span class=\"hljs-attr\">spring:</span>\n <span class=\"hljs-attr\">rabbitmq:</span>\n <span class=\"hljs-attr\">host:</span> <span class=\"hljs-number\">172.16</span><span class=\"hljs-number\">.1</span><span class=\"hljs-number\">.199</span>\n <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">5672</span>\n <span class=\"hljs-attr\">username:</span> <span class=\"hljs-string\">guest</span>\n <span class=\"hljs-attr\">password:</span> <span class=\"hljs-string\">guest</span> \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"63,71"}}],"payload":{"tag":"h3","lines":"57,58"}},{"content":"3. &#x914d;&#x7f6e;&#x961f;&#x5217;","children":[{"content":"<pre data-lines=\"74,75\"><code>&#x521b;&#x5efa;&#x961f;&#x5217;&#x914d;&#x7f6e;&#x7c7b;&#xff0c;&#x5728;&#x670d;&#x52a1;&#x542f;&#x52a8;&#x65f6;&#x81ea;&#x52a8;&#x521b;&#x5efa;&#x961f;&#x5217;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"74,75"}},{"content":"<pre data-lines=\"78,90\"><code data-lines=\"78,90\"><span class=\"hljs-meta\">@Configuration</span>(proxyBeanMethods = <span class=\"hljs-literal\">false</span>)\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-title class_\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">RabbitQueueConfiguration</span> </span>{\n <span class=\"hljs-comment\">/**\n * &#x542f;&#x52a8;&#x65f6;&#x521b;&#x5efa;&#x961f;&#x5217;\n */</span>\n <span class=\"hljs-meta\">@Bean</span>\n <span class=\"hljs-keyword\">public</span> Queue queue() {\n <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span><span class=\"hljs-type\"></span> Queue(<span class=\"hljs-string\">&quot;hello&quot;</span>);\n }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"78,90"}}],"payload":{"tag":"h3","lines":"72,73"}},{"content":"4. &#x914d;&#x7f6e;&#x6d88;&#x606f;&#x76d1;&#x542c;","children":[{"content":"<pre data-lines=\"93,94\"><code>&#x521b;&#x5efa;&#x6d88;&#x606f;&#x76d1;&#x542c;&#x5668;&#xff0c;&#x76d1;&#x542c;&#x6307;&#x5b9a;&#x961f;&#x5217;&#x7684;&#x6d88;&#x606f;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"93,94"}},{"content":"<pre data-lines=\"97,110\"><code data-lines=\"97,110\"><span class=\"hljs-variable\">@Component</span>\npublic class RabbitQueueListener {\n <span class=\"hljs-comment\">/**\n * &#x76d1;&#x542c; hello &#x961f;&#x5217;&#x7684;&#x5904;&#x7406;&#x5668;\n */</span>\n <span class=\"hljs-variable\">@RabbitListener</span>(queues = <span class=\"hljs-string\">&quot;hello&quot;</span>)\n <span class=\"hljs-variable\">@RabbitHandler</span>\n public void <span class=\"hljs-built_in\">onMessage</span>(Message message) {\n <span class=\"hljs-selector-tag\">log</span><span class=\"hljs-selector-class\">.info</span>(<span class=\"hljs-string\">&quot;&#x6d88;&#x8d39;&#x7aef; Payload: &quot;</span> + message.<span class=\"hljs-built_in\">getPayload</span>().<span class=\"hljs-built_in\">toString</span>());\n }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"97,110"}}],"payload":{"tag":"h3","lines":"91,92"}},{"content":"5. &#x53d1;&#x9001;&#x6d88;&#x606f;","children":[{"content":"<pre data-lines=\"113,114\"><code>&#x5728;&#x4ee3;&#x7801;&#x4e2d;&#x4f7f;&#x7528; `AmqpTemplate` &#x53d1;&#x9001;&#x6d88;&#x606f;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"113,114"}},{"content":"<pre data-lines=\"117,123\"><code data-lines=\"117,123\"><span class=\"hljs-meta\">@Autowired</span>\n<span class=\"hljs-keyword\">private</span> AmqpTemplate amqpTemplate;\n<span class=\"hljs-comment\">// &#x53d1;&#x9001;&#x6d88;&#x606f;</span>\namqpTemplate.convertAndSend(<span class=\"hljs-string\">&quot;&#x961f;&#x5217;&#x540d;&#x79f0;&quot;</span>, <span class=\"hljs-string\">&quot;&#x4fe1;&#x606f;&quot;</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"117,123"}}],"payload":{"tag":"h3","lines":"111,112"}}],"payload":{"tag":"h2","lines":"41,43"}},{"content":"&#x7279;&#x6b8a;&#x8bf4;&#x660e;","children":[{"content":"1. &#x5185;&#x90e8;&#x670d;&#x52a1;&#x8c03;&#x7528;","children":[{"content":"<pre data-lines=\"129,134\"><code>&#x5728; MQ &#x6d88;&#x8d39;&#x76d1;&#x542c;&#x903b;&#x8f91;&#x4e2d;&#x8c03;&#x7528; Feign &#x670d;&#x52a1;&#x65f6;&#xff0c;&#x9700;&#x8981;&#x6ce8;&#x610f;&#x4ee5;&#x4e0b;&#x4e8b;&#x9879;&#xff1a;\n\n&#x670d;&#x52a1; A &#x53ef;&#x80fd;&#x6ca1;&#x6709; token &#x53bb;&#x8bf7;&#x6c42;&#x670d;&#x52a1; B&#xff0c;Pig &#x6846;&#x67b6;&#x5bf9;&#x6b64;&#x60c5;&#x51b5;&#x8fdb;&#x884c;&#x4e86;&#x517c;&#x5bb9;&#x5904;&#x7406;&#x3002;\n\n1.  &#x5728; FeignClient &#x4e2d;&#x58f0;&#x660e;&#x5185;&#x90e8;&#x8c03;&#x7528;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"129,134"}},{"content":"<pre data-lines=\"137,140\"><code data-lines=\"137,140\"><span class=\"hljs-comment\">remoteLogService.saveLog(sysLog, SecurityConstants.FROM_IN); </span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"137,140"}},{"content":"<pre data-lines=\"141,142\"><code>2.  &#x5728;&#x76ee;&#x6807;&#x63a5;&#x53e3;&#x4e0a;&#x6dfb;&#x52a0; `@Inner` &#x6ce8;&#x89e3;&#xff0c;&#x9650;&#x5236;&#x53ea;&#x80fd;&#x901a;&#x8fc7;&#x5185;&#x90e8;&#x8c03;&#x7528;&#x8bbf;&#x95ee;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"141,142"}},{"content":"<pre data-lines=\"145,152\"><code data-lines=\"145,152\"><span class=\"hljs-meta\">@Inner</span>\n<span class=\"hljs-meta\">@PostMapping</span>\n<span class=\"hljs-keyword\">public</span> R <span class=\"hljs-title function_\">save</span>(<span class=\"hljs-params\"><span class=\"hljs-meta\">@Valid</span> <span class=\"hljs-meta\">@RequestBody</span> <span class=\"hljs-title class_\">SysLog</span> sysLog</span>) {\n <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> R&lt;&gt;(sysLogService.<span class=\"hljs-title function_\">save</span>(sysLog));\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"145,152"}},{"content":"<pre data-lines=\"153,154\"><code>&#x4f7f;&#x7528; `@Inner` &#x6ce8;&#x89e3;&#x53ef;&#x4ee5;&#x907f;&#x514d;&#x63a5;&#x53e3;&#x5bf9;&#x5916;&#x66b4;&#x9732;&#x7684;&#x5b89;&#x5168;&#x95ee;&#x9898;&#xff0c;&#x786e;&#x4fdd;&#x53ea;&#x80fd;&#x901a;&#x8fc7;&#x5185;&#x90e8;&#x8c03;&#x7528;&#x8bbf;&#x95ee;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"153,154"}}],"payload":{"tag":"h3","lines":"127,128"}}],"payload":{"tag":"h2","lines":"124,126"}}],"payload":{"tag":"h1","lines":"0,2"}},{})</script>
</body>
</html>
