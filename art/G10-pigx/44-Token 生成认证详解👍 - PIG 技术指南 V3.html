<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Token &#x751f;&#x6210;&#x8ba4;&#x8bc1;&#x8be6;&#x89e3;","children":[{"content":"&#x8ba4;&#x8bc6;","children":[{"content":"<pre data-lines=\"5,13\"><code data-lines=\"5,13\">POST <span class=\"hljs-operator\">/</span>auth<span class=\"hljs-operator\">/</span>oauth2<span class=\"hljs-operator\">/</span>token<span class=\"hljs-operator\">?</span>grant_type<span class=\"hljs-operator\">=</span>password&amp;scope<span class=\"hljs-operator\">=</span>server HTTP<span class=\"hljs-symbol\">/1.1</span>\n<span class=\"hljs-params\">Host:</span> pig-gateway:<span class=\"hljs-number\">9999</span>\n<span class=\"hljs-params\">Authorization:</span> Basic dGVzdDp0ZXN0\n<span class=\"hljs-params\">Content-Type:</span> application<span class=\"hljs-symbol\">/x-www-form-urlencoded</span>\n<span class=\"hljs-params\">Content-Length:</span> <span class=\"hljs-number\">32</span>\nu<span class=\"hljs-attr\">sername</span><span class=\"hljs-operator\">=</span>admin&amp;password<span class=\"hljs-operator\">=</span>YehdBPev\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"5,13"}},{"content":"<img src=\"https://mintlify.s3.us-west-1.amazonaws.com/xzcxz/images/1655009689863-67ed08c2-cf22-449a-9d75-fc6831c17e8c.png\" alt>","children":[],"payload":{"tag":"img","lines":"14,15"}}],"payload":{"tag":"h2","lines":"2,4"}},{"content":"&#x7f51;&#x5173;&#x524d;&#x7f6e;&#x5904;&#x7406;","children":[{"content":"<pre data-lines=\"19,22\"><code>&#x7f51;&#x5173;&#x4e2d;&#x6700;&#x91cd;&#x8981;&#x7684;&#x529f;&#x80fd;&#x662f;**&#x8def;&#x7531;&#x8f6c;&#x53d1;**&#xff0c;&#x6839;&#x636e;&#x8bf7;&#x6c42;&#x524d;&#x7f00;&#x5339;&#x914d;&#x5230;&#x5bf9;&#x5e94;&#x670d;&#x52a1;&#x3002;&#x6bd4;&#x5982;&#x6240;&#x6709;&#x4ee5; **/auth** &#x5f00;&#x5934;&#x7684;&#x8bf7;&#x6c42;&#x4f1a;&#x81ea;&#x52a8;&#x8f6c;&#x53d1;&#x81f3; pig-auth &#x670d;&#x52a1;&#x7684;&#x63a5;&#x53e3;&#x5904;&#x7406;&#x3002;\n\n&#x4f8b;&#x5982;&#xff1a;[http://127.0.0.1:9999/auth/oauth2/token](http://127.0.0.1:9999/auth/oauth2/token) &#x8f6c;&#x53d1;&#x5230; pig-auth &#x7684;&#x8bf7;&#x6c42;&#x8def;&#x5f84;&#x81ea;&#x52a8;&#x622a;&#x53d6; &#x524d;&#x7f00;&#x53d8;&#x6210;[http://127.0.0.1:3000/oauth2/token](http://127.0.0.1:3000/oauth2/token)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"19,22"}}],"payload":{"tag":"h2","lines":"16,18"}},{"content":"&#x9a8c;&#x8bc1;&#x7801;&#x6821;&#x9a8c;&#x5904;&#x7406;","children":[{"content":"<pre data-lines=\"26,27\"><code>pig-auth &#x8ba4;&#x8bc1;&#x4e2d;&#x5fc3;&#x5728;&#x63a5;&#x6536;&#x5230;&#x7f51;&#x5173;&#x8f6c;&#x53d1;&#x7684;&#x8bf7;&#x6c42;&#x540e;&#xff0c;&#x4f1a;&#x901a;&#x8fc7; ValidateCodeFilter &#x5bf9;&#x9a8c;&#x8bc1;&#x7801;&#xff08;&#x56fe;&#x5f62;&#x3001;&#x77ed;&#x4fe1;&#xff09;&#x7b49;&#x8fdb;&#x884c;&#x6821;&#x9a8c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"26,27"}},{"content":"<img src=\"https://minio.pigx.top/oss/202407/1721222163.png\" alt>","children":[],"payload":{"tag":"img","lines":"28,29"}}],"payload":{"tag":"h2","lines":"23,25"}},{"content":"&#x524d;&#x7aef;&#x8bf7;&#x6c42;&#x5bc6;&#x6587;&#x89e3;&#x5bc6;","children":[{"content":"<pre data-lines=\"33,34\"><code>pig-auth &#x5728;&#x5904;&#x7406;&#x5b8c;&#x9a8c;&#x8bc1;&#x7801;&#x5224;&#x65ad;&#x903b;&#x8f91;&#x540e;&#xff0c;PasswordDecoderFilter &#x9488;&#x5bf9; `/oauth2/token` &#x8bf7;&#x6c42;&#x4f1a;&#x8fdb;&#x884c;&#x524d;&#x7aef;&#x5bc6;&#x7801;&#x89e3;&#x5bc6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"33,34"}}],"payload":{"tag":"h2","lines":"30,32"}},{"content":"&#x5ba2;&#x6237;&#x7aef;&#x8ba4;&#x8bc1;&#x5904;&#x7406;","children":[{"content":"<img src=\"https://mintlify.s3.us-west-1.amazonaws.com/xzcxz/images/1655008151609-259b5111-2af6-4652-9667-de8c3271c67e.png\" alt>","children":[],"payload":{"tag":"img","lines":"38,39"}},{"content":"<pre data-lines=\"40,41\"><code>&#x5982;&#x4e0a;&#x56fe;&#x5728;&#x767b;&#x5f55;&#x8bf7;&#x6c42;&#x4e2d;&#x4f1a;&#x643a;&#x5e26; Basic base64(clientId:clientSecret)&#xff0c;&#x90a3;&#x4e48;&#x9996;&#x5148;**OAuth2ClientAuthenticationFilter &#x4f1a;&#x901a;&#x8fc7;&#x8c03;&#x7528; RegisteredClientRepository (&#x6570;&#x636e;&#x5e93;&#x5b58;&#x50a8;) &#x6765;&#x5224;&#x65ad;&#x4f20;&#x5165;&#x7684;&#x5ba2;&#x6237;&#x7aef;&#x662f;&#x5426;&#x6b63;&#x786e;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"40,41"}},{"content":"<img src=\"https://mintlify.s3.us-west-1.amazonaws.com/xzcxz/images/1655008257496-fc950ccb-525d-42d6-bebf-575202042472.png\" alt>","children":[],"payload":{"tag":"img","lines":"42,43"}}],"payload":{"tag":"h2","lines":"35,37"}},{"content":"&#x6b63;&#x5f0f;&#x63a5;&#x6536;&#x767b;&#x5f55;&#x8bf7;&#x6c42;","children":[{"content":"<img src=\"https://mintlify.s3.us-west-1.amazonaws.com/xzcxz/images/1655008604032-0907b2ab-6cd8-4c51-9794-9176a105f0f7.png\" alt>","children":[],"payload":{"tag":"img","lines":"47,48"}}],"payload":{"tag":"h2","lines":"44,46"}},{"content":"&#x7ec4;&#x88c5;&#x8ba4;&#x8bc1;&#x5bf9;&#x8c61;","children":[{"content":"<img src=\"https://mintlify.s3.us-west-1.amazonaws.com/xzcxz/images/1655009149085-435ed4ec-fa3a-405c-afcf-aa8389a70673.png\" alt>","children":[],"payload":{"tag":"img","lines":"52,53"}}],"payload":{"tag":"h2","lines":"49,51"}},{"content":"&#x767b;&#x5f55;&#x8ba4;&#x8bc1;&#x5bf9;&#x8c61;","children":[{"content":"<img src=\"https://mintlify.s3.us-west-1.amazonaws.com/xzcxz/images/1655009498004-55ff0b5b-ccd4-4df8-afd0-971844375546.png\" alt>","children":[],"payload":{"tag":"img","lines":"57,58"}}],"payload":{"tag":"h2","lines":"54,56"}},{"content":"&#x6388;&#x6743;&#x8ba4;&#x8bc1;&#x8c03;&#x7528;","children":[{"content":"<img src=\"https://mintlify.s3.us-west-1.amazonaws.com/xzcxz/images/1655010008256-24f23104-de2a-4f0a-a275-f3d043456f6f.png\" alt>","children":[],"payload":{"tag":"img","lines":"62,63"}}],"payload":{"tag":"h2","lines":"59,61"}},{"content":"&#x6838;&#x5fc3;&#x8ba4;&#x8bc1;&#x903b;&#x8f91;","children":[{"content":"&#x591a;&#x7528;&#x6237;&#x4f53;&#x7cfb;&#x5339;&#x914d; UserDetailsService","children":[{"content":"<img src=\"https://mintlify.s3.us-west-1.amazonaws.com/xzcxz/images/1655010271235-ab36132e-9809-4c54-b345-9d3eeb3522e6.png\" alt>","children":[],"payload":{"tag":"img","lines":"71,72"}}],"payload":{"tag":"h3","lines":"69,70"}},{"content":"&#x5bc6;&#x7801;&#x5339;&#x914d;&#x6821;&#x9a8c;","children":[{"content":"<img src=\"https://mintlify.s3.us-west-1.amazonaws.com/xzcxz/images/1655010332384-c12b9906-c1c4-4bb4-9884-23681eeed841.png\" alt>","children":[],"payload":{"tag":"img","lines":"75,76"}}],"payload":{"tag":"h3","lines":"73,74"}},{"content":"&#x7528;&#x6237;&#x72b6;&#x6001;&#x6821;&#x9a8c;","children":[{"content":"<img src=\"https://minio.pigx.vip/oss/1655010392.png\" alt>","children":[],"payload":{"tag":"img","lines":"79,80"}}],"payload":{"tag":"h3","lines":"77,78"}}],"payload":{"tag":"h2","lines":"64,66"}},{"content":"&#x7528;&#x6237;&#x67e5;&#x8be2;&#x903b;&#x8f91;","children":[{"content":"<img src=\"https://mintlify.s3.us-west-1.amazonaws.com/xzcxz/images/1655010519353-b93f1831-22f0-4c9e-80cb-75c514c87949.png\" alt>","children":[],"payload":{"tag":"img","lines":"84,85"}}],"payload":{"tag":"h2","lines":"81,83"}},{"content":"&#x5bc6;&#x7801;&#x6821;&#x9a8c;&#x903b;&#x8f91;","children":[{"content":"<img src=\"https://mintlify.s3.us-west-1.amazonaws.com/xzcxz/images/1655010719145-1bdf7f3d-e099-48eb-9efa-dcca983b4d1b.png\" alt>","children":[],"payload":{"tag":"img","lines":"89,90"}},{"content":"<img src=\"https://mintlify.s3.us-west-1.amazonaws.com/xzcxz/images/1655010844595-0631d528-a839-4018-95c2-9d45aa0ad6d1.png\" alt>","children":[],"payload":{"tag":"img","lines":"91,92"}}],"payload":{"tag":"h2","lines":"86,88"}},{"content":"&#x751f;&#x6210; OAuth2AccessToken","children":[{"content":"<img src=\"https://cdn.nlark.com/yuque/0/2022/png/283679/1655011218322-a85228ac-a530-4572-9d07-b6585abfb528.png\" alt>","children":[],"payload":{"tag":"img","lines":"96,97"}}],"payload":{"tag":"h2","lines":"93,95"}},{"content":"Token &#x5b58;&#x50a8;&#x6301;&#x4e45;&#x5316;","children":[{"content":"<img src=\"https://cdn.nlark.com/yuque/0/2022/png/283679/1655011284442-089a170b-ed3f-439e-9f9e-215009094fd8.png\" alt>","children":[],"payload":{"tag":"img","lines":"101,102"}},{"content":"<img src=\"https://cdn.nlark.com/yuque/0/2022/png/283679/1655011370387-4e6e89c9-2df8-437f-9e21-36f2b9fa3d9.png\" alt>","children":[],"payload":{"tag":"img","lines":"103,104"}}],"payload":{"tag":"h2","lines":"98,100"}},{"content":"&#x767b;&#x5f55;&#x6210;&#x529f;&#x4e8b;&#x4ef6;&#x5904;&#x7406;","children":[{"content":"<img src=\"https://mintlify.s3.us-west-1.amazonaws.com/xzcxz/images/1655011452193-a994951e-e12a-43a4-aa18-295038ae04fc.png\" alt>","children":[],"payload":{"tag":"img","lines":"108,109"}}],"payload":{"tag":"h2","lines":"105,107"}},{"content":"&#x8bf7;&#x6c42;&#x7ed3;&#x679c;&#x8f93;&#x51fa; Token","children":[{"content":"<img src=\"https://cdn.nlark.com/yuque/0/2022/png/283679/1655011584261-60f14aa1-a6b2-41d0-82c3-37e1bb0a2b45.png\" alt>","children":[],"payload":{"tag":"img","lines":"113,114"}}],"payload":{"tag":"h2","lines":"110,112"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
