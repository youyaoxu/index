<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"","children":[{"content":"&#x7ec3;&#x4e60;1 - &#x7535;&#x5f71;&#x5929;&#x5802;&#x4e8c;&#x7ea7;&#x9875;&#x9762;&#x6293;&#x53d6;","children":[{"content":"&#x9886;&#x53d6;&#x4efb;&#x52a1;","children":[{"content":"<pre data-lines=\"4,25\"><code class=\"language-python\"><span class=\"hljs-comment\">## html = requests.get(url=url,headers=headres).content.decode(&apos;gb2312&apos;,&apos;ignore&apos;)</span>\n<span class=\"hljs-comment\"># &#x5730;&#x5740;</span>\n&#x7535;&#x5f71;&#x5929;&#x5802; - <span class=\"hljs-number\">2019</span>&#x5e74;&#x65b0;&#x7247;&#x7cbe;&#x54c1; - &#x66f4;&#x591a;\n<span class=\"hljs-comment\"># &#x76ee;&#x6807;</span>\n&#x7535;&#x5f71;&#x540d;&#x79f0;&#x3001;&#x4e0b;&#x8f7d;&#x94fe;&#x63a5;\n\n<span class=\"hljs-comment\"># &#x5206;&#x6790;</span>\n*&#x4e00;&#x7ea7;&#x9875;&#x9762;&#x9700;&#x6293;&#x53d6;*\n        <span class=\"hljs-number\">1</span>&#x3001;&#x7535;&#x5f71;&#x8be6;&#x60c5;&#x9875;&#x94fe;&#x63a5;\n        \n*&#x4e8c;&#x7ea7;&#x9875;&#x9762;&#x9700;&#x6293;&#x53d6;*\n        <span class=\"hljs-number\">1</span>&#x3001;&#x7535;&#x5f71;&#x540d;&#x79f0;\n  \t\t<span class=\"hljs-number\">2</span>&#x3001;&#x7535;&#x5f71;&#x4e0b;&#x8f7d;&#x94fe;&#x63a5;\n        \n&#x3010;<span class=\"hljs-number\">1</span>&#x3011;&#x6240;&#x6293;&#x6570;&#x636e;&#x5b58;&#x5165;MySQL&#x6570;&#x636e;&#x5e93;\n&#x3010;<span class=\"hljs-number\">2</span>&#x3011;&#x6240;&#x6293;&#x6570;&#x636e;&#x5b58;&#x5165;mongodb&#x6570;&#x636e;&#x5e93;\n&#x3010;<span class=\"hljs-number\">3</span>&#x3011;&#x6240;&#x6293;&#x6570;&#x636e;&#x5b58;&#x5165;csv&#x6587;&#x4ef6;\n&#x3010;<span class=\"hljs-number\">4</span>&#x3011;MySQL&#x5b9e;&#x73b0;&#x589e;&#x91cf;&#x722c;&#x866b;\n&#x3010;<span class=\"hljs-number\">5</span>&#x3011;redis&#x5b9e;&#x73b0;&#x589e;&#x91cf;&#x722c;&#x866b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,25"}}],"payload":{"tag":"h3","lines":"2,3"}},{"content":"&#x5b9e;&#x73b0;&#x6b65;&#x9aa4;","children":[{"content":"1&#x3001;&#x786e;&#x5b9a;&#x54cd;&#x5e94;&#x5185;&#x5bb9;&#x4e2d;&#x662f;&#x5426;&#x5b58;&#x5728;&#x6240;&#x9700;&#x6293;&#x53d6;&#x6570;&#x636e;","children":[],"payload":{"tag":"h4","lines":"28,29"}},{"content":"2&#x3001;&#x627e;URL&#x89c4;&#x5f8b;","children":[{"content":"<pre data-lines=\"32,37\"><code class=\"language-python\">&#x7b2c;1&#x9875; &#xff1a;https://www.dytt8.net/html/gndy/dyzz/list_23_1.html\n&#x7b2c;2&#x9875; &#xff1a;https://www.dytt8.net/html/gndy/dyzz/list_23_2.html\n&#x7b2c;n&#x9875; &#xff1a;https://www.dytt8.net/html/gndy/dyzz/list_23_n.html\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"32,37"}}],"payload":{"tag":"h4","lines":"30,31"}},{"content":"3&#x3001;&#x5199;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;","children":[{"content":"<pre data-lines=\"40,46\"><code class=\"language-python\">1&#x3001;&#x4e00;&#x7ea7;&#x9875;&#x9762;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;\n   &lt;table width=&quot;100%&quot;.*?&lt;td width=&quot;5%&quot;.*?&lt;a href=&quot;(.*?)&quot;.*?ulink&quot;&gt;.*?&lt;/table&gt;\n2&#x3001;&#x4e8c;&#x7ea7;&#x9875;&#x9762;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;\n   &lt;div class=&quot;title_all&quot;&gt;&lt;h1&gt;&lt;font color=#07519a&gt;(.*?)&lt;/font&gt;&lt;/h1&gt;&lt;/div&gt;.*?&lt;td style=&quot;WORD-WRAP.*?&gt;.*?&gt;(.*?)&lt;/a&gt; \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"40,46"}}],"payload":{"tag":"h4","lines":"38,39"}},{"content":"4&#x3001;&#x4ee3;&#x7801;&#x5b9e;&#x73b0;","children":[{"content":"<pre data-lines=\"49,120\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> urllib <span class=\"hljs-keyword\">import</span> request\n<span class=\"hljs-keyword\">import</span> re\n<span class=\"hljs-keyword\">from</span> useragents <span class=\"hljs-keyword\">import</span> ua_list\n<span class=\"hljs-keyword\">import</span> time\n<span class=\"hljs-keyword\">import</span> random\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">FilmSkySpider</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n  <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n    <span class=\"hljs-comment\"># &#x4e00;&#x7ea7;&#x9875;&#x9762;url&#x5730;&#x5740;</span>\n    <span class=\"hljs-variable language_\">self</span>.url = <span class=\"hljs-string\">&apos;https://www.dytt8.net/html/gndy/dyzz/list_23_{}.html&apos;</span>\n\n  <span class=\"hljs-comment\"># &#x83b7;&#x53d6;html&#x529f;&#x80fd;&#x51fd;&#x6570;</span>\n  <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_html</span>(<span class=\"hljs-params\">self,url</span>):\n    headers = {\n      <span class=\"hljs-string\">&apos;User-Agent&apos;</span>:random.choice(ua_list)\n    }\n    req = request.Request(url=url,headers=headers)\n    res = request.urlopen(req)\n    <span class=\"hljs-comment\"># &#x901a;&#x8fc7;&#x7f51;&#x7ad9;&#x67e5;&#x770b;&#x7f51;&#x9875;&#x6e90;&#x7801;,&#x67e5;&#x770b;&#x7f51;&#x7ad9;charset=&apos;gb2312&apos;</span>\n    <span class=\"hljs-comment\"># &#x5982;&#x679c;&#x9047;&#x5230;&#x89e3;&#x7801;&#x9519;&#x8bef;,&#x8bc6;&#x522b;&#x4e0d;&#x4e86;&#x4e00;&#x4e9b;&#x5b57;&#x7b26;,&#x5219; ignore &#x5ffd;&#x7565;&#x6389;</span>\n    html = res.read().decode(<span class=\"hljs-string\">&apos;gb2312&apos;</span>,<span class=\"hljs-string\">&apos;ignore&apos;</span>)\n\n    <span class=\"hljs-keyword\">return</span> html\n\n  <span class=\"hljs-comment\"># &#x6b63;&#x5219;&#x89e3;&#x6790;&#x529f;&#x80fd;&#x51fd;&#x6570;</span>\n  <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">re_func</span>(<span class=\"hljs-params\">self,re_bds,html</span>):\n    pattern = re.<span class=\"hljs-built_in\">compile</span>(re_bds,re.S)\n    r_list = pattern.findall(html)\n\n    <span class=\"hljs-keyword\">return</span> r_list\n\n  <span class=\"hljs-comment\"># &#x83b7;&#x53d6;&#x6570;&#x636e;&#x51fd;&#x6570; - html&#x662f;&#x4e00;&#x7ea7;&#x9875;&#x9762;&#x54cd;&#x5e94;&#x5185;&#x5bb9;</span>\n  <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">parse_page</span>(<span class=\"hljs-params\">self,one_url</span>):\n    html = <span class=\"hljs-variable language_\">self</span>.get_html(one_url)\n    re_bds = <span class=\"hljs-string\">r&apos;&lt;table width=&quot;100%&quot;.*?&lt;td width=&quot;5%&quot;.*?&lt;a href=&quot;(.*?)&quot;.*?ulink&quot;&gt;.*?&lt;/table&gt;&apos;</span>\n    <span class=\"hljs-comment\"># one_page_list: [&apos;/html/xxx&apos;,&apos;/html/xxx&apos;,&apos;/html/xxx&apos;]</span>\n    one_page_list = <span class=\"hljs-variable language_\">self</span>.re_func(re_bds,html)\n\n    <span class=\"hljs-keyword\">for</span> href <span class=\"hljs-keyword\">in</span> one_page_list:\n      two_url = <span class=\"hljs-string\">&apos;https://www.dytt8.net&apos;</span> + href\n      <span class=\"hljs-variable language_\">self</span>.parse_two_page(two_url)\n      <span class=\"hljs-comment\"># uniform: &#x6d6e;&#x70b9;&#x6570;,&#x722c;&#x53d6;1&#x4e2a;&#x7535;&#x5f71;&#x4fe1;&#x606f;&#x540e;sleep</span>\n      time.sleep(random.uniform(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">3</span>))\n\n\n  <span class=\"hljs-comment\"># &#x89e3;&#x6790;&#x4e8c;&#x7ea7;&#x9875;&#x9762;&#x6570;&#x636e;</span>\n  <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">parse_two_page</span>(<span class=\"hljs-params\">self,two_url</span>):\n    item = {}\n    html = <span class=\"hljs-variable language_\">self</span>.get_html(two_url)\n    re_bds = <span class=\"hljs-string\">r&apos;&lt;div class=&quot;title_all&quot;&gt;&lt;h1&gt;&lt;font color=#07519a&gt;(.*?)&lt;/font&gt;&lt;/h1&gt;&lt;/div&gt;.*?&lt;td style=&quot;WORD-WRAP.*?&gt;.*?&gt;(.*?)&lt;/a&gt;&apos;</span>\n    <span class=\"hljs-comment\"># two_page_list: [(&apos;&#x540d;&#x79f0;1&apos;,&apos;ftp://xxxx.mkv&apos;)]</span>\n    two_page_list = <span class=\"hljs-variable language_\">self</span>.re_func(re_bds,html)\n\n    item[<span class=\"hljs-string\">&apos;name&apos;</span>] = two_page_list[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">0</span>].strip()\n    item[<span class=\"hljs-string\">&apos;download&apos;</span>] = two_page_list[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">1</span>].strip()\n\n    <span class=\"hljs-built_in\">print</span>(item)\n\n\n  <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">main</span>(<span class=\"hljs-params\">self</span>):\n    <span class=\"hljs-keyword\">for</span> page <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">201</span>):\n      one_url = <span class=\"hljs-variable language_\">self</span>.url.<span class=\"hljs-built_in\">format</span>(page)\n      <span class=\"hljs-variable language_\">self</span>.parse_page(one_url)\n      <span class=\"hljs-comment\"># uniform: &#x6d6e;&#x70b9;&#x6570;</span>\n      time.sleep(random.uniform(<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">3</span>))\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n  spider = FilmSkySpider()\n  spider.main()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"49,120"}}],"payload":{"tag":"h4","lines":"47,48"}},{"content":"5&#x3001;&#x7ec3;&#x4e60;","children":[{"content":"<pre data-lines=\"123,126\"><code data-lines=\"123,126\">&#x628a;&#x7535;&#x5f71;&#x5929;&#x5802;&#x6570;&#x636e;&#x5b58;&#x5165;MySQL&#x6570;&#x636e;&#x5e93; - &#x589e;&#x91cf;&#x722c;&#x53d6;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"123,126"}},{"content":"<pre data-lines=\"129,134\"><code class=\"language-python\"><span class=\"hljs-comment\"># &#x601d;&#x8def;</span>\n<span class=\"hljs-comment\"># 1&#x3001;MySQL&#x4e2d;&#x65b0;&#x5efa;&#x8868; urltab,&#x5b58;&#x50a8;&#x6240;&#x6709;&#x722c;&#x53d6;&#x8fc7;&#x7684;&#x94fe;&#x63a5;&#x7684;&#x6307;&#x7eb9;</span>\n<span class=\"hljs-comment\"># 2&#x3001;&#x5728;&#x722c;&#x53d6;&#x4e4b;&#x524d;,&#x5148;&#x5224;&#x65ad;&#x8be5;&#x6307;&#x7eb9;&#x662f;&#x5426;&#x722c;&#x53d6;&#x8fc7;,&#x5982;&#x679c;&#x722c;&#x53d6;&#x8fc7;,&#x5219;&#x4e0d;&#x518d;&#x7ee7;&#x7eed;&#x722c;&#x53d6;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"129,134"}},{"content":"<pre data-lines=\"135,138\"><code data-lines=\"135,138\">&#x7ec3;&#x4e60;&#x4ee3;&#x7801;&#x5b9e;&#x73b0;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"135,138"}},{"content":"<pre data-lines=\"141,153\"><code class=\"language-mysql\"># &#x5efa;&#x5e93;&#x5efa;&#x8868;\ncreate database filmskydb charset utf8;\nuse filmskydb;\ncreate table request_finger(\nfinger char(32)\n)charset=utf8;\ncreate table filmtab(\nname varchar(200),\ndownload varchar(500)\n)charset=utf8;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"141,153"}},{"content":"<pre data-lines=\"154,247\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> urllib <span class=\"hljs-keyword\">import</span> request\n<span class=\"hljs-keyword\">import</span> re\n<span class=\"hljs-keyword\">from</span> useragents <span class=\"hljs-keyword\">import</span> ua_list\n<span class=\"hljs-keyword\">import</span> time\n<span class=\"hljs-keyword\">import</span> random\n<span class=\"hljs-keyword\">import</span> pymysql\n<span class=\"hljs-keyword\">from</span> hashlib <span class=\"hljs-keyword\">import</span> md5\n<span class=\"hljs-keyword\">import</span> sys\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">FilmSkySpider</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n  <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n    <span class=\"hljs-comment\"># &#x4e00;&#x7ea7;&#x9875;&#x9762;url&#x5730;&#x5740;</span>\n    <span class=\"hljs-variable language_\">self</span>.url = <span class=\"hljs-string\">&apos;https://www.dytt8.net/html/gndy/dyzz/list_23_{}.html&apos;</span>\n    <span class=\"hljs-variable language_\">self</span>.db = pymysql.connect(<span class=\"hljs-string\">&apos;localhost&apos;</span>,<span class=\"hljs-string\">&apos;root&apos;</span>,<span class=\"hljs-string\">&apos;123456&apos;</span>,<span class=\"hljs-string\">&apos;filmskydb&apos;</span>,charset=<span class=\"hljs-string\">&apos;utf8&apos;</span>)\n    <span class=\"hljs-variable language_\">self</span>.cursor = <span class=\"hljs-variable language_\">self</span>.db.cursor()\n\n  <span class=\"hljs-comment\"># &#x83b7;&#x53d6;html&#x529f;&#x80fd;&#x51fd;&#x6570;</span>\n  <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_html</span>(<span class=\"hljs-params\">self,url</span>):\n    headers = {\n      <span class=\"hljs-string\">&apos;User-Agent&apos;</span>:random.choice(ua_list)\n    }\n    req = request.Request(url=url,headers=headers)\n    res = request.urlopen(req)\n    <span class=\"hljs-comment\"># &#x901a;&#x8fc7;&#x7f51;&#x7ad9;&#x67e5;&#x770b;&#x7f51;&#x9875;&#x6e90;&#x7801;,&#x67e5;&#x770b;&#x7f51;&#x7ad9;charset=&apos;gb2312&apos;</span>\n    <span class=\"hljs-comment\"># &#x5982;&#x679c;&#x9047;&#x5230;&#x89e3;&#x7801;&#x9519;&#x8bef;,&#x8bc6;&#x522b;&#x4e0d;&#x4e86;&#x4e00;&#x4e9b;&#x5b57;&#x7b26;,&#x5219; ignore &#x5ffd;&#x7565;&#x6389;</span>\n    html = res.read().decode(<span class=\"hljs-string\">&apos;gb2312&apos;</span>,<span class=\"hljs-string\">&apos;ignore&apos;</span>)\n\n    <span class=\"hljs-keyword\">return</span> html\n\n  <span class=\"hljs-comment\"># &#x6b63;&#x5219;&#x89e3;&#x6790;&#x529f;&#x80fd;&#x51fd;&#x6570;</span>\n  <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">re_func</span>(<span class=\"hljs-params\">self,re_bds,html</span>):\n    pattern = re.<span class=\"hljs-built_in\">compile</span>(re_bds,re.S)\n    r_list = pattern.findall(html)\n\n    <span class=\"hljs-keyword\">return</span> r_list\n\n  <span class=\"hljs-comment\"># &#x83b7;&#x53d6;&#x6570;&#x636e;&#x51fd;&#x6570; - html&#x662f;&#x4e00;&#x7ea7;&#x9875;&#x9762;&#x54cd;&#x5e94;&#x5185;&#x5bb9;</span>\n  <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">parse_page</span>(<span class=\"hljs-params\">self,one_url</span>):\n    html = <span class=\"hljs-variable language_\">self</span>.get_html(one_url)\n    re_bds = <span class=\"hljs-string\">r&apos;&lt;table width=&quot;100%&quot;.*?&lt;td width=&quot;5%&quot;.*?&lt;a href=&quot;(.*?)&quot;.*?ulink&quot;&gt;.*?&lt;/table&gt;&apos;</span>\n    <span class=\"hljs-comment\"># one_page_list: [&apos;/html/xxx&apos;,&apos;/html/xxx&apos;,&apos;/html/xxx&apos;]</span>\n    one_page_list = <span class=\"hljs-variable language_\">self</span>.re_func(re_bds,html)\n\n    <span class=\"hljs-keyword\">for</span> href <span class=\"hljs-keyword\">in</span> one_page_list:\n      two_url = <span class=\"hljs-string\">&apos;https://www.dytt8.net&apos;</span> + href\n      <span class=\"hljs-comment\"># &#x5224;&#x65ad;&#x5728;&#x6570;&#x636e;&#x5e93;&#x4e2d;&#x662f;&#x5426;&#x5b58;&#x5728;&#x6b64;&#x94fe;&#x63a5;&#xff0c;&#x4e00;&#x65e6;&#x5b58;&#x5728;&#xff0c;&#x76f4;&#x63a5;break&#xff0c;&#x65b0;&#x66f4;&#x65b0;&#x7684;&#x94fe;&#x63a5;&#x90fd;&#x5728;&#x4e0a;&#x9762;</span>\n      sel = <span class=\"hljs-string\">&apos;select finger from request_finger where finger=%s&apos;</span>\n      s = md5()\n      s.update(two_url.encode())\n      finger = s.hexdigest()\n      result = <span class=\"hljs-variable language_\">self</span>.cursor.execute(sel,[finger])\n      <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> result:\n        <span class=\"hljs-variable language_\">self</span>.parse_two_page(two_url)\n        <span class=\"hljs-comment\"># uniform: &#x6d6e;&#x70b9;&#x6570;,&#x722c;&#x53d6;1&#x4e2a;&#x7535;&#x5f71;&#x4fe1;&#x606f;&#x540e;sleep</span>\n        time.sleep(random.uniform(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">3</span>))\n        ins = <span class=\"hljs-string\">&apos;insert into request_finger values(%s)&apos;</span>\n        <span class=\"hljs-variable language_\">self</span>.cursor.execute(ins,[finger])\n        <span class=\"hljs-variable language_\">self</span>.db.commit()\n      <span class=\"hljs-keyword\">else</span>:\n        sys.exit(<span class=\"hljs-string\">&apos;&#x672a;&#x66f4;&#x65b0;&apos;</span>)\n\n\n  <span class=\"hljs-comment\"># &#x89e3;&#x6790;&#x4e8c;&#x7ea7;&#x9875;&#x9762;&#x6570;&#x636e;</span>\n  <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">parse_two_page</span>(<span class=\"hljs-params\">self,two_url</span>):\n    item = {}\n    html = <span class=\"hljs-variable language_\">self</span>.get_html(two_url)\n    re_bds = <span class=\"hljs-string\">r&apos;&lt;div class=&quot;title_all&quot;&gt;&lt;h1&gt;&lt;font color=#07519a&gt;(.*?)&lt;/font&gt;&lt;/h1&gt;&lt;/div&gt;.*?&lt;td style=&quot;WORD-WRAP.*?&gt;.*?&gt;(.*?)&lt;/a&gt;&apos;</span>\n    <span class=\"hljs-comment\"># two_page_list: [(&apos;&#x540d;&#x79f0;1&apos;,&apos;ftp://xxxx.mkv&apos;)]</span>\n    two_page_list = <span class=\"hljs-variable language_\">self</span>.re_func(re_bds,html)\n\n    item[<span class=\"hljs-string\">&apos;name&apos;</span>] = two_page_list[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">0</span>].strip()\n    item[<span class=\"hljs-string\">&apos;download&apos;</span>] = two_page_list[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">1</span>].strip()\n    ins = <span class=\"hljs-string\">&apos;insert into filmtab values(%s,%s)&apos;</span>\n    film_list = [\n      item[<span class=\"hljs-string\">&apos;name&apos;</span>],item[<span class=\"hljs-string\">&apos;download&apos;</span>]\n    ]\n    <span class=\"hljs-variable language_\">self</span>.cursor.execute(ins,film_list)\n    <span class=\"hljs-variable language_\">self</span>.db.commit()\n    <span class=\"hljs-built_in\">print</span>(film_list)\n\n\n  <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">run</span>(<span class=\"hljs-params\">self</span>):\n    <span class=\"hljs-keyword\">for</span> page <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">201</span>):\n      one_url = <span class=\"hljs-variable language_\">self</span>.url.<span class=\"hljs-built_in\">format</span>(page)\n      <span class=\"hljs-variable language_\">self</span>.parse_page(one_url)\n      <span class=\"hljs-comment\"># uniform: &#x6d6e;&#x70b9;&#x6570;</span>\n      time.sleep(random.uniform(<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">3</span>))\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n  spider = FilmSkySpider()\n  spider.run()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"154,247"}}],"payload":{"tag":"h4","lines":"121,122"}}],"payload":{"tag":"h3","lines":"26,27"}}],"payload":{"tag":"h1","lines":"0,1"}},{"content":"&#x7ec3;&#x4e60;2 - 4567tv&#x6570;&#x636e;&#x6293;&#x53d6;","children":[{"content":"&#x9886;&#x53d6;&#x4efb;&#x52a1;","children":[{"content":"<pre data-lines=\"252,274\"><code class=\"language-python\"><span class=\"hljs-comment\"># 1&#x3001;&#x722c;&#x53d6;&#x5730;&#x5740;</span>\nhttps://www<span class=\"hljs-number\">.4567</span>tv.tv/  --&gt; &#x52a8;&#x4f5c;&#x7247;\n\n  \n<span class=\"hljs-comment\"># 2&#x3001;&#x722c;&#x53d6;&#x76ee;&#x6807;</span>\n&#x7535;&#x5f71;&#x540d;&#x79f0;&#x3001;&#x7535;&#x5f71;&#x7b80;&#x4ecb;\n\n<span class=\"hljs-comment\"># 3&#x3001;&#x722c;&#x53d6;&#x5206;&#x6790;</span>\n*&#x4e00;&#x7ea7;&#x9875;&#x9762;&#x9700;&#x6293;&#x53d6;*\n<span class=\"hljs-number\">1</span>&#x3001;&#x7535;&#x5f71;&#x8be6;&#x60c5;&#x9875;&#x7684;&#x94fe;&#x63a5;\n        \n*&#x4e8c;&#x7ea7;&#x9875;&#x9762;&#x9700;&#x6293;&#x53d6;*\n<span class=\"hljs-number\">1</span>&#x3001;&#x7535;&#x5f71;&#x540d;&#x79f0;\n<span class=\"hljs-number\">2</span>&#x3001;&#x7535;&#x5f71;&#x7b80;&#x4ecb;\n\n&#x3010;<span class=\"hljs-number\">1</span>&#x3011;&#x6240;&#x6293;&#x6570;&#x636e;&#x5b58;&#x5165;MySQL&#x6570;&#x636e;&#x5e93;\n&#x3010;<span class=\"hljs-number\">2</span>&#x3011;&#x6240;&#x6293;&#x6570;&#x636e;&#x5b58;&#x5165;mongodb&#x6570;&#x636e;&#x5e93;\n&#x3010;<span class=\"hljs-number\">3</span>&#x3011;&#x6240;&#x6293;&#x6570;&#x636e;&#x5b58;&#x5165;csv&#x6587;&#x4ef6;\n&#x3010;<span class=\"hljs-number\">4</span>&#x3011;MySQL&#x5b9e;&#x73b0;&#x589e;&#x91cf;&#x722c;&#x866b;\n&#x3010;<span class=\"hljs-number\">5</span>&#x3011;redis&#x5b9e;&#x73b0;&#x589e;&#x91cf;&#x722c;&#x866b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"252,274"}}],"payload":{"tag":"h3","lines":"250,251"}},{"content":"&#x5b9e;&#x73b0;&#x6b65;&#x9aa4;","children":[{"content":"<pre data-lines=\"277,293\"><code class=\"language-python\"># 1. &#x786e;&#x5b9a;&#x54cd;&#x5e94;&#x5185;&#x5bb9;&#x4e2d;&#x662f;&#x5426;&#x5b58;&#x5728;&#x6240;&#x9700;&#x6293;&#x53d6;&#x6570;&#x636e; - &#x5b58;&#x5728;\n# 2. &#x627e;URL&#x5730;&#x5740;&#x89c4;&#x5f8b;\n&#x7b2c;1&#x9875;: https://www.4567tv.tv/index.php/vod/show/id/5/page/1.html\n&#x7b2c;2&#x9875;: https://www.4567tv.tv/index.php/vod/show/id/5/page/2.html\n&#x7b2c;n&#x9875;: https://www.4567tv.tv/index.php/vod/show/id/5/page/3.html\n    \n# 3. &#x5199;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;\n&#x4e00;&#x7ea7;&#x9875;&#x9762;&#x6b63;&#x5219;:\n&lt;li class=&quot;col-md-6 col-sm-4 col-xs-3&quot;&gt;.*?&lt;a class=&quot;stui-vodlist__thumb lazyload&quot; href=&quot;(.*?)&quot;.*?&lt;/li&gt;\n  \n&#x4e8c;&#x7ea7;&#x9875;&#x9762;&#x6b63;&#x5219;:\n&lt;div class=&quot;stui-content__detail&quot;&gt;.*?&lt;h1 class=&quot;title&quot;&gt;(.*?)&lt;/h1&gt;.*?&lt;span class=&quot;detail-content&quot; style=&quot;display: none;&quot;&gt;(.*?)&lt;/span&gt;\n\n# 4. &#x4ee3;&#x7801;&#x5b9e;&#x73b0;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"277,293"}}],"payload":{"tag":"h3","lines":"275,276"}},{"content":"&#x4ee3;&#x7801;&#x5b9e;&#x73b0;","children":[{"content":"<pre data-lines=\"296,345\"><code class=\"language-python\"><span class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\">import</span> re\n<span class=\"hljs-keyword\">import</span> time\n<span class=\"hljs-keyword\">import</span> random\n<span class=\"hljs-keyword\">from</span> fake_useragent <span class=\"hljs-keyword\">import</span> UserAgent\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">TvSpider</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-variable language_\">self</span>.url = <span class=\"hljs-string\">&apos;https://www.4567tv.tv/index.php/vod/show/id/5/page/{}.html&apos;</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_html</span>(<span class=\"hljs-params\">self,url</span>):\n        headers = { <span class=\"hljs-string\">&apos;User-Agent&apos;</span>:UserAgent().random }\n        html = requests.get(url=url,headers=headers).content.decode(<span class=\"hljs-string\">&apos;utf-8&apos;</span>)\n        <span class=\"hljs-keyword\">return</span> html\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">regex_func</span>(<span class=\"hljs-params\">self,regex,html</span>):\n        pattern = re.<span class=\"hljs-built_in\">compile</span>(regex,re.S)\n        r_list = pattern.findall(html)\n        <span class=\"hljs-keyword\">return</span> r_list\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">parse_html</span>(<span class=\"hljs-params\">self,one_url</span>):\n        one_html = <span class=\"hljs-variable language_\">self</span>.get_html(one_url)\n        one_regex = <span class=\"hljs-string\">&apos;&lt;li class=&quot;col-md-6 col-sm-4 col-xs-3&quot;&gt;.*?&lt;a class=&quot;stui-vodlist__thumb lazyload&quot; href=&quot;(.*?)&quot;.*?&lt;/li&gt;&apos;</span>\n        href_list = <span class=\"hljs-variable language_\">self</span>.regex_func(one_regex,one_html)\n        <span class=\"hljs-keyword\">for</span> href <span class=\"hljs-keyword\">in</span> href_list:\n            two_link = <span class=\"hljs-string\">&apos;https://www.4567tv.tv&apos;</span> + href\n            <span class=\"hljs-variable language_\">self</span>.get_data(two_link)\n            time.sleep(random.uniform(<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>))\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_data</span>(<span class=\"hljs-params\">self,two_link</span>):\n        two_html = <span class=\"hljs-variable language_\">self</span>.get_html(two_link)\n        two_regex = <span class=\"hljs-string\">&apos;&lt;div class=&quot;stui-content__detail&quot;&gt;.*?&lt;h1 class=&quot;title&quot;&gt;(.*?)&lt;/h1&gt;.*?&lt;span class=&quot;detail-content&quot; style=&quot;display: none;&quot;&gt;(.*?)&lt;/span&gt;&apos;</span>\n        film_list = <span class=\"hljs-variable language_\">self</span>.regex_func(two_regex,two_html)\n        item = {}\n        item[<span class=\"hljs-string\">&apos;film_name&apos;</span>] = film_list[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">0</span>]\n        item[<span class=\"hljs-string\">&apos;film_content&apos;</span>] = film_list[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">1</span>]\n\n        <span class=\"hljs-built_in\">print</span>(item)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">run</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">11</span>):\n            one_url = <span class=\"hljs-variable language_\">self</span>.url.<span class=\"hljs-built_in\">format</span>(i)\n            <span class=\"hljs-variable language_\">self</span>.parse_html(one_url)\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n    spider = TvSpider()\n    spider.run()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"296,345"}}],"payload":{"tag":"h3","lines":"294,295"}},{"content":"&#x6269;&#x5c55; - &#x589e;&#x91cf;&#x722c;&#x53d6;","children":[{"content":"<pre data-lines=\"348,366\"><code class=\"language-mysql\">&#x5c06;&#x6570;&#x636e;&#x5b58;&#x5165;MySQL&#x6570;&#x636e;&#x5e93; - &#x589e;&#x91cf;&#x722c;&#x53d6;\n\n# &#x601d;&#x8def;\n1&#x3001;MySQL&#x4e2d;&#x65b0;&#x5efa;&#x8868; urltab,&#x5b58;&#x50a8;&#x6240;&#x6709;&#x722c;&#x53d6;&#x8fc7;&#x7684;&#x94fe;&#x63a5;&#x7684;&#x6307;&#x7eb9;\n2&#x3001;&#x5728;&#x722c;&#x53d6;&#x4e4b;&#x524d;,&#x5148;&#x5224;&#x65ad;&#x8be5;&#x6307;&#x7eb9;&#x662f;&#x5426;&#x722c;&#x53d6;&#x8fc7;,&#x5982;&#x679c;&#x722c;&#x53d6;&#x8fc7;,&#x5219;&#x4e0d;&#x518d;&#x7ee7;&#x7eed;&#x722c;&#x53d6;\n\n# &#x5efa;&#x5e93;&#x5efa;&#x8868;\ncreate database tvdb charset utf8;\nuse tvdb;\ncreate table request_finger(\nfinger char(32)\n)charset=utf8;\ncreate table tvtab(\nname varchar(100),\ncomment varchar(1000)\n)charset=utf8;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"348,366"}}],"payload":{"tag":"h3","lines":"346,347"}},{"content":"&#x589e;&#x91cf;&#x722c;&#x53d6; - MySQL","children":[{"content":"<pre data-lines=\"369,439\"><code class=\"language-python\"><span class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\">import</span> re\n<span class=\"hljs-keyword\">import</span> time\n<span class=\"hljs-keyword\">import</span> random\n<span class=\"hljs-keyword\">from</span> fake_useragent <span class=\"hljs-keyword\">import</span> UserAgent\n<span class=\"hljs-keyword\">import</span> pymysql\n<span class=\"hljs-keyword\">from</span> hashlib <span class=\"hljs-keyword\">import</span> md5\n<span class=\"hljs-keyword\">import</span> sys\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">TvSpider</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-variable language_\">self</span>.url = <span class=\"hljs-string\">&apos;https://www.4567tv.tv/index.php/vod/show/id/5/page/{}.html&apos;</span>\n        <span class=\"hljs-variable language_\">self</span>.db = pymysql.connect(<span class=\"hljs-string\">&apos;localhost&apos;</span>, <span class=\"hljs-string\">&apos;root&apos;</span>, <span class=\"hljs-string\">&apos;123456&apos;</span>, <span class=\"hljs-string\">&apos;tvdb&apos;</span>, charset=<span class=\"hljs-string\">&apos;utf8&apos;</span>)\n        <span class=\"hljs-variable language_\">self</span>.cursor = <span class=\"hljs-variable language_\">self</span>.db.cursor()\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_html</span>(<span class=\"hljs-params\">self, url</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x529f;&#x80fd;&#x51fd;&#x6570;1 - &#x83b7;&#x53d6;&#x76f8;&#x5e94;&#x5185;&#x5bb9;&quot;&quot;&quot;</span>\n        headers = {<span class=\"hljs-string\">&apos;User-Agent&apos;</span>: UserAgent().random}\n        html = requests.get(url=url, headers=headers).content.decode(<span class=\"hljs-string\">&apos;utf-8&apos;</span>)\n        <span class=\"hljs-keyword\">return</span> html\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">regex_func</span>(<span class=\"hljs-params\">self, regex, html</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x529f;&#x80fd;&#x51fd;&#x6570;2 - &#x6b63;&#x5219;&#x89e3;&#x6790;&#x51fd;&#x6570;&quot;&quot;&quot;</span>\n        pattern = re.<span class=\"hljs-built_in\">compile</span>(regex, re.S)\n        r_list = pattern.findall(html)\n        <span class=\"hljs-keyword\">return</span> r_list\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">parse_html</span>(<span class=\"hljs-params\">self, one_url</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;&#x6570;&#x636e;&#x63d0;&#x53d6;&#x51fd;&#x6570;&quot;&quot;&quot;</span>\n        one_html = <span class=\"hljs-variable language_\">self</span>.get_html(one_url)\n        one_regex = <span class=\"hljs-string\">&apos;&lt;li class=&quot;col-md-6 col-sm-4 col-xs-3&quot;&gt;.*?&lt;a class=&quot;stui-vodlist__thumb lazyload&quot; href=&quot;(.*?)&quot;.*?&lt;/li&gt;&apos;</span>\n        href_list = <span class=\"hljs-variable language_\">self</span>.regex_func(one_regex, one_html)\n        <span class=\"hljs-keyword\">for</span> href <span class=\"hljs-keyword\">in</span> href_list:\n            two_link = <span class=\"hljs-string\">&apos;https://www.4567tv.tv&apos;</span> + href\n            <span class=\"hljs-comment\"># &#x5bf9;&#x94fe;&#x63a5;&#x8fdb;&#x884c;md5&#x52a0;&#x5bc6;</span>\n            finger = md5(two_link.encode()).hexdigest()\n            sel = <span class=\"hljs-string\">&apos;select finger from request_finger where finger=%s&apos;</span>\n            result = <span class=\"hljs-variable language_\">self</span>.cursor.execute(sel, [finger])\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> result:\n                <span class=\"hljs-variable language_\">self</span>.get_data(two_link)\n                time.sleep(random.uniform(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>))\n                <span class=\"hljs-comment\"># &#x6293;&#x53d6;&#x5b8c;&#x6210;&#x540e;&#x5343;&#x4e07;&#x4e0d;&#x8981;&#x5fd8;&#x8bb0;&#x5b58;&#x5165;&#x6307;&#x7eb9;</span>\n                ins = <span class=\"hljs-string\">&apos;insert into request_finger values(%s)&apos;</span>\n                <span class=\"hljs-variable language_\">self</span>.cursor.execute(ins, [finger])\n                <span class=\"hljs-variable language_\">self</span>.db.commit()\n            <span class=\"hljs-keyword\">else</span>:\n                sys.exit(<span class=\"hljs-string\">&apos;&#x7f51;&#x7ad9;&#x672a;&#x66f4;&#x65b0;&#x6570;&#x636e;&apos;</span>)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_data</span>(<span class=\"hljs-params\">self, two_link</span>):\n        two_html = <span class=\"hljs-variable language_\">self</span>.get_html(two_link)\n        two_regex = <span class=\"hljs-string\">&apos;&lt;div class=&quot;stui-content__detail&quot;&gt;.*?&lt;h1 class=&quot;title&quot;&gt;(.*?)&lt;/h1&gt;.*?&lt;span class=&quot;detail-content&quot; style=&quot;display: none;&quot;&gt;(.*?)&lt;/span&gt;&apos;</span>\n        film_list = <span class=\"hljs-variable language_\">self</span>.regex_func(two_regex, two_html)\n\n        film_name = film_list[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">0</span>]\n        film_content = film_list[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">1</span>]\n        ins = <span class=\"hljs-string\">&apos;insert into tvtab values(%s,%s)&apos;</span>\n        <span class=\"hljs-variable language_\">self</span>.cursor.execute(ins, [film_name, film_content])\n        <span class=\"hljs-variable language_\">self</span>.db.commit()\n        <span class=\"hljs-built_in\">print</span>(film_name, film_content)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">run</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">11</span>):\n            one_url = <span class=\"hljs-variable language_\">self</span>.url.<span class=\"hljs-built_in\">format</span>(i)\n            <span class=\"hljs-variable language_\">self</span>.parse_html(one_url)\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n    spider = TvSpider()\n    spider.run()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"369,439"}}],"payload":{"tag":"h3","lines":"367,368"}},{"content":"&#x80fd;&#x4e0d;&#x80fd;&#x4f7f;&#x7528;redis&#x6765;&#x5b9e;&#x73b0;&#x589e;&#x91cf;","children":[{"content":"<pre data-lines=\"442,513\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\n  &#x63d0;&#x793a;: &#x4f7f;&#x7528;redis&#x4e2d;&#x7684;&#x96c6;&#x5408;,sadd()&#x65b9;&#x6cd5;,&#x6dfb;&#x52a0;&#x6210;&#x529f;&#x8fd4;&#x56de;1,&#x5426;&#x5219;&#x8fd4;&#x56de;0\n  &#x8bf7;&#x5404;&#x4f4d;&#x5927;&#x4f6c;&#x5ffd;&#x7565;&#x6389;&#x4e0b;&#x9762;&#x4ee3;&#x7801;,&#x81ea;&#x5df1;&#x72ec;&#x7acb;&#x5b9e;&#x73b0;\n&quot;&quot;&quot;</span>\n\n<span class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\">import</span> re\n<span class=\"hljs-keyword\">import</span> time\n<span class=\"hljs-keyword\">import</span> random\n<span class=\"hljs-keyword\">from</span> fake_useragent <span class=\"hljs-keyword\">import</span> UserAgent\n<span class=\"hljs-keyword\">import</span> redis\n<span class=\"hljs-keyword\">from</span> hashlib <span class=\"hljs-keyword\">import</span> md5\n<span class=\"hljs-keyword\">import</span> sys\n<span class=\"hljs-keyword\">import</span> pymysql\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">TvSpider</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-variable language_\">self</span>.url = <span class=\"hljs-string\">&apos;https://www.4567tv.tv/index.php/vod/show/id/5/page/{}.html&apos;</span>\n        <span class=\"hljs-variable language_\">self</span>.r = redis.Redis(host=<span class=\"hljs-string\">&apos;localhost&apos;</span>, port=<span class=\"hljs-number\">6379</span>, db=<span class=\"hljs-number\">0</span>)\n        <span class=\"hljs-variable language_\">self</span>.db = pymysql.connect(<span class=\"hljs-string\">&apos;localhost&apos;</span>,<span class=\"hljs-string\">&apos;root&apos;</span>,<span class=\"hljs-string\">&apos;attack&apos;</span>,<span class=\"hljs-string\">&apos;tvdb&apos;</span>,charset=<span class=\"hljs-string\">&apos;utf8&apos;</span>)\n        <span class=\"hljs-variable language_\">self</span>.cursor = <span class=\"hljs-variable language_\">self</span>.db.cursor()\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_html</span>(<span class=\"hljs-params\">self, url</span>):\n        headers = {<span class=\"hljs-string\">&apos;User-Agent&apos;</span>: UserAgent().random}\n        html = requests.get(url=url, headers=headers).content.decode(<span class=\"hljs-string\">&apos;utf-8&apos;</span>)\n        <span class=\"hljs-keyword\">return</span> html\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">regex_func</span>(<span class=\"hljs-params\">self, regex, html</span>):\n        pattern = re.<span class=\"hljs-built_in\">compile</span>(regex, re.S)\n        r_list = pattern.findall(html)\n        <span class=\"hljs-keyword\">return</span> r_list\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">parse_html</span>(<span class=\"hljs-params\">self, one_url</span>):\n        one_html = <span class=\"hljs-variable language_\">self</span>.get_html(one_url)\n        one_regex = <span class=\"hljs-string\">&apos;&lt;li class=&quot;col-md-6 col-sm-4 col-xs-3&quot;&gt;.*?&lt;a class=&quot;stui-vodlist__thumb lazyload&quot; href=&quot;(.*?)&quot;.*?&lt;/li&gt;&apos;</span>\n        href_list = <span class=\"hljs-variable language_\">self</span>.regex_func(one_regex, one_html)\n        <span class=\"hljs-keyword\">for</span> href <span class=\"hljs-keyword\">in</span> href_list:\n            two_link = <span class=\"hljs-string\">&apos;https://www.4567tv.tv&apos;</span> + href\n            finger = md5(two_link.encode()).hexdigest()\n            <span class=\"hljs-comment\"># sadd()&#x6dfb;&#x52a0;&#x6210;&#x529f;&#x8fd4;&#x56de; 1 , &#x5426;&#x5219;&#x8fd4;&#x56de; 0</span>\n            result = <span class=\"hljs-variable language_\">self</span>.r.sadd(<span class=\"hljs-string\">&apos;tv:urls&apos;</span>, finger)\n            <span class=\"hljs-keyword\">if</span> result:\n                <span class=\"hljs-variable language_\">self</span>.get_data(two_link)\n                time.sleep(random.uniform(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>))\n            <span class=\"hljs-keyword\">else</span>:\n                sys.exit(<span class=\"hljs-string\">&apos;&#x7f51;&#x7ad9;&#x672a;&#x66f4;&#x65b0;&#x6570;&#x636e;&apos;</span>)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_data</span>(<span class=\"hljs-params\">self, two_link</span>):\n        two_html = <span class=\"hljs-variable language_\">self</span>.get_html(two_link)\n        two_regex = <span class=\"hljs-string\">&apos;&lt;div class=&quot;stui-content__detail&quot;&gt;.*?&lt;h1 class=&quot;title&quot;&gt;(.*?)&lt;/h1&gt;.*?&lt;span class=&quot;detail-content&quot; style=&quot;display: none;&quot;&gt;(.*?)&lt;/span&gt;&apos;</span>\n        film_list = <span class=\"hljs-variable language_\">self</span>.regex_func(two_regex, two_html)\n        <span class=\"hljs-keyword\">if</span> film_list:\n            film_name = film_list[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">0</span>]\n            film_content = film_list[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">1</span>]\n            ins = <span class=\"hljs-string\">&apos;insert into tvtab values(%s,%s)&apos;</span>\n            <span class=\"hljs-variable language_\">self</span>.cursor.execute(ins, [film_name, film_content])\n            <span class=\"hljs-variable language_\">self</span>.db.commit()\n            <span class=\"hljs-built_in\">print</span>(film_name, film_content)\n\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">run</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">11</span>):\n            one_url = <span class=\"hljs-variable language_\">self</span>.url.<span class=\"hljs-built_in\">format</span>(i)\n            <span class=\"hljs-variable language_\">self</span>.parse_html(one_url)\n\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n    spider = TvSpider()\n    spider.run()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"442,513"}}],"payload":{"tag":"h3","lines":"440,441"}}],"payload":{"tag":"h1","lines":"248,249"}},{"content":"&#x7ec3;&#x4e60;3 - &#x7eb5;&#x6a2a;&#x4e2d;&#x6587;&#x7f51;&#x5168;&#x7ad9;&#x6293;&#x53d6;","children":[{"content":"&#x76ee;&#x6807;","children":[{"content":"<pre data-lines=\"518,522\"><code class=\"language-python\">1&#x3001;&#x7eb5;&#x6a2a;&#x4e2d;&#x6587;&#x7f51; - &#x4e66;&#x5e93; - &#x5168;&#x90e8;&#x4f5c;&#x54c1;\n2&#x3001;URL&#x5730;&#x5740;&#xff1a;http://book.zongheng.com/store/c0/c0/b0/u0/p{}/v9/s9/t0/u0/i1/ALL.html\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"518,522"}}],"payload":{"tag":"h3","lines":"516,517"}},{"content":"&#x601d;&#x8def;","children":[{"content":"<pre data-lines=\"525,532\"><code class=\"language-python\">1&#x3001;&#x4e00;&#x7ea7;&#x9875;&#x9762;&#xff1a;&#x63d0;&#x53d6; &#x5c0f;&#x8bf4;&#x94fe;&#x63a5;\n2&#x3001;&#x4e8c;&#x7ea7;&#x9875;&#x9762;&#xff1a;&#x63d0;&#x53d6; &#x5f00;&#x59cb;&#x9605;&#x8bfb;&#x5bf9;&#x5e94;&#x7684;&#x5c0f;&#x8bf4;&#x5177;&#x4f53;&#x7ae0;&#x8282;&#x5185;&#x5bb9;&#x7684;&#x94fe;&#x63a5;\n3&#x3001;&#x4e09;&#x7ea7;&#x9875;&#x9762;&#xff1a;&#x63d0;&#x53d6; &#x76ee;&#x5f55; &#x5bf9;&#x5e94;&#x7684;&#x94fe;&#x63a5;&#xff08;&#x94fe;&#x63a5;&#x4e2d;&#x6709;&#x6b64;&#x5c0f;&#x8bf4;&#x6240;&#x6709;&#x7ae0;&#x8282;&#x7684;&#x660e;&#x7ec6;&#x53ca;URL&#x5730;&#x5740;&#xff09;\n4&#x3001;&#x56db;&#x7ea7;&#x9875;&#x9762;&#xff1a;&#x63d0;&#x53d6; &#x6b64;&#x5c0f;&#x8bf4;&#x6240;&#x6709;&#x7ae0;&#x8282;&#x7684;&#x94fe;&#x63a5;\n5&#x3001;&#x4e94;&#x7ea7;&#x9875;&#x9762;&#xff1a;&#x63d0;&#x53d6; &#x5177;&#x4f53;&#x7684;&#x5c0f;&#x8bf4;&#x5185;&#x5bb9;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"525,532"}}],"payload":{"tag":"h3","lines":"523,524"}},{"content":"&#x51c6;&#x5907;&#x5de5;&#x4f5c;","children":[{"content":"<pre data-lines=\"535,548\"><code class=\"language-python\"><span class=\"hljs-number\">1</span>&#x3001;&#x4e00;&#x7ea7;&#x9875;&#x9762;&#xff1a;&#x63d0;&#x53d6; &#x5c0f;&#x8bf4;&#x94fe;&#x63a5;\n&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#xff1a;<span class=\"hljs-string\">&apos;&lt;div class=&quot;bookname&quot;&gt;.*?href=&quot;(.*?)&quot;.*?&lt;/div&gt;&apos;</span>\n<span class=\"hljs-number\">2</span>&#x3001;&#x4e8c;&#x7ea7;&#x9875;&#x9762;&#xff1a;&#x63d0;&#x53d6; &#x5f00;&#x59cb;&#x9605;&#x8bfb;&#x5bf9;&#x5e94;&#x7684;&#x5c0f;&#x8bf4;&#x5177;&#x4f53;&#x7ae0;&#x8282;&#x5185;&#x5bb9;&#x7684;&#x94fe;&#x63a5;\n&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#xff1a;<span class=\"hljs-string\">&apos;&lt;div class=&quot;btn-group&quot;&gt;.*?href=&quot;(.*?)&quot;.*?&lt;/div&gt;&apos;</span>\n<span class=\"hljs-number\">3</span>&#x3001;&#x4e09;&#x7ea7;&#x9875;&#x9762;&#xff1a;&#x63d0;&#x53d6; &#x76ee;&#x5f55; &#x5bf9;&#x5e94;&#x7684;&#x94fe;&#x63a5;&#xff08;&#x94fe;&#x63a5;&#x4e2d;&#x6709;&#x6b64;&#x5c0f;&#x8bf4;&#x6240;&#x6709;&#x7ae0;&#x8282;&#x7684;&#x660e;&#x7ec6;&#x53ca;URL&#x5730;&#x5740;&#xff09;\n&#x76ee;&#x5f55;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#xff1a;<span class=\"hljs-string\">&apos;&lt;div class=&quot;chap_btnbox&quot;&gt;.*?&lt;a href=&quot;(.*?)&quot;.*?&gt;&#x76ee;&#x5f55;&lt;/a&gt;&apos;</span>\n&#x540d;&#x79f0;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#xff1a;<span class=\"hljs-string\">&apos;&lt;body.*?bookName=&quot;(.*?)&quot;&apos;</span>\n<span class=\"hljs-number\">4</span>&#x3001;&#x56db;&#x7ea7;&#x9875;&#x9762;&#xff1a;&#x63d0;&#x53d6; &#x6b64;&#x5c0f;&#x8bf4;&#x6240;&#x6709;&#x7ae0;&#x8282;&#x7684;&#x94fe;&#x63a5;\n&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#xff1a;<span class=\"hljs-string\">&apos;&lt;li class=&quot; col-4&quot;&gt;.*?&lt;a  href=&quot;(.*?)&quot;.*?&lt;/a&gt;&apos;</span>\n<span class=\"hljs-number\">5</span>&#x3001;&#x4e94;&#x7ea7;&#x9875;&#x9762;&#xff1a;&#x63d0;&#x53d6; &#x5177;&#x4f53;&#x7684;&#x5c0f;&#x8bf4;&#x5185;&#x5bb9;\n&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#xff1a;<span class=\"hljs-string\">&apos;&lt;div class=&quot;content&quot;.*?&gt;(.*?)&lt;/div&gt;&apos;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"535,548"}}],"payload":{"tag":"h3","lines":"533,534"}},{"content":"&#x4ee3;&#x7801;&#x5b9e;&#x73b0;","children":[{"content":"<pre data-lines=\"551,647\"><code class=\"language-python\"><span class=\"hljs-keyword\">from</span> urllib <span class=\"hljs-keyword\">import</span> request\n<span class=\"hljs-keyword\">import</span> re\n<span class=\"hljs-keyword\">import</span> time\n<span class=\"hljs-keyword\">import</span> random\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">NovelSpider</span>(<span class=\"hljs-title class_ inherited__\">object</span>):\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-comment\"># &#x4e3b;&#x9875;&#x7684;URL&#x5730;&#x5740;</span>\n        <span class=\"hljs-variable language_\">self</span>.url = <span class=\"hljs-string\">&apos;http://book.zongheng.com/store/c0/c0/b0/u0/p{}/v9/s9/t0/u0/i1/ALL.html&apos;</span>\n        <span class=\"hljs-variable language_\">self</span>.headers = {\n            <span class=\"hljs-string\">&apos;User-Agent&apos;</span>:<span class=\"hljs-string\">&apos;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36&apos;</span>\n        }\n\n    <span class=\"hljs-comment\"># &#x529f;&#x80fd;&#x51fd;&#x6570;1 - &#x83b7;&#x53d6;html</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_html</span>(<span class=\"hljs-params\">self,url</span>):\n        req = request.Request(url=url,headers=<span class=\"hljs-variable language_\">self</span>.headers)\n        res = request.urlopen(req)\n        html = res.read().decode()\n\n        <span class=\"hljs-keyword\">return</span> html\n\n    <span class=\"hljs-comment\"># &#x529f;&#x80fd;&#x51fd;&#x6570;2 - xpath&#x89e3;&#x6790;</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">re_func</span>(<span class=\"hljs-params\">self,regex,html</span>):\n        pattern = re.<span class=\"hljs-built_in\">compile</span>(regex,re.S)\n        r_list = pattern.findall(html)\n\n        <span class=\"hljs-keyword\">return</span> r_list\n\n    <span class=\"hljs-comment\"># &#x4e00;&#x7ea7;&#x9875;&#x9762;&#xff1a;&#x63d0;&#x53d6;&#x5c0f;&#x8bf4;&#x94fe;&#x63a5;</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">parse_one_page</span>(<span class=\"hljs-params\">self,one_url</span>):\n        one_html = <span class=\"hljs-variable language_\">self</span>.get_html(url=one_url)\n        regex = <span class=\"hljs-string\">&apos;&lt;div class=&quot;bookname&quot;&gt;.*?href=&quot;(.*?)&quot;.*?&lt;/div&gt;&apos;</span>\n        <span class=\"hljs-comment\"># one_link_list: [&#x5f53;&#x9875;&#x6240;&#x6709;&#x5c0f;&#x8bf4;&#x7684;&#x94fe;&#x63a5;]</span>\n        one_link_list = <span class=\"hljs-variable language_\">self</span>.re_func(regex,one_html)\n        <span class=\"hljs-keyword\">for</span> one_link <span class=\"hljs-keyword\">in</span> one_link_list:\n            <span class=\"hljs-comment\"># &#x5c06;&#x6b64;&#x5c0f;&#x8bf4;&#x7684;&#x5185;&#x5bb9;&#x6240;&#x6709;&#x7ae0;&#x8282;&#x5185;&#x5bb9;&#x83b7;&#x53d6;&#x5230;</span>\n            <span class=\"hljs-variable language_\">self</span>.get_novel(one_link)\n\n    <span class=\"hljs-comment\"># &#x83b7;&#x53d6;1&#x4e2a;&#x5c0f;&#x8bf4;&#x7684;&#x6240;&#x6709;&#x7ae0;&#x8282;&#x5185;&#x5bb9;</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_novel</span>(<span class=\"hljs-params\">self,one_link</span>):\n        two_html = <span class=\"hljs-variable language_\">self</span>.get_html(url=one_link)\n        <span class=\"hljs-comment\"># &#x4ece;&#x5f00;&#x59cb;&#x9605;&#x8bfb;&#x8282;&#x70b9;&#x83b7;&#x53d6;&#x5230;&#x5c0f;&#x8bf4;&#x5177;&#x4f53;&#x5185;&#x5bb9;&#x7684;&#x94fe;&#x63a5;</span>\n        regex = <span class=\"hljs-string\">&quot;&quot;&quot;&lt;div class=&quot;btn-group&quot;&gt;.*?href=&quot;(.*?)&quot;.*?&lt;/div&gt;&quot;&quot;&quot;</span>\n        two_link_list = <span class=\"hljs-variable language_\">self</span>.re_func(regex,two_html)\n        two_link = two_link_list[<span class=\"hljs-number\">0</span>] <span class=\"hljs-keyword\">if</span> two_link_list <span class=\"hljs-keyword\">else</span> <span class=\"hljs-literal\">None</span>\n        <span class=\"hljs-comment\"># &#x89e3;&#x6790;&#x5e76;&#x63d0;&#x53d6;&#x6b64;&#x5c0f;&#x8bf4;&#x76ee;&#x5f55;&#x94fe;&#x63a5;</span>\n        <span class=\"hljs-keyword\">if</span> two_link:\n            <span class=\"hljs-variable language_\">self</span>.get_novel_directory(two_link)\n\n    <span class=\"hljs-comment\"># &#x63d0;&#x53d6;&#x6b64;&#x5c0f;&#x8bf4;&#x76ee;&#x5f55;&#x94fe;&#x63a5;</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_novel_directory</span>(<span class=\"hljs-params\">self,two_link</span>):\n        directory_html = <span class=\"hljs-variable language_\">self</span>.get_html(url=two_link)\n        regex = <span class=\"hljs-string\">&apos;&lt;div class=&quot;chap_btnbox&quot;&gt;.*?&lt;a href=&quot;(.*?)&quot;.*?&gt;&#x76ee;&#x5f55;&lt;/a&gt;&apos;</span>\n        directory_link_list = <span class=\"hljs-variable language_\">self</span>.re_func(regex,directory_html)\n        directory_link = directory_link_list[<span class=\"hljs-number\">0</span>] <span class=\"hljs-keyword\">if</span> directory_link_list <span class=\"hljs-keyword\">else</span> <span class=\"hljs-literal\">None</span>\n        <span class=\"hljs-comment\"># &#x83b7;&#x53d6;&#x5c0f;&#x8bf4;&#x540d;&#x79f0;</span>\n        regex_name = <span class=\"hljs-string\">&apos;&lt;body.*?bookName=&quot;(.*?)&quot;&apos;</span>\n        name_list = <span class=\"hljs-variable language_\">self</span>.re_func(regex_name,directory_html)\n        novel_name = name_list[<span class=\"hljs-number\">0</span>] <span class=\"hljs-keyword\">if</span> name_list <span class=\"hljs-keyword\">else</span> <span class=\"hljs-literal\">None</span>\n        <span class=\"hljs-built_in\">print</span>(novel_name)\n        <span class=\"hljs-keyword\">if</span> directory_link <span class=\"hljs-keyword\">and</span> novel_name:\n            <span class=\"hljs-comment\"># &#x83b7;&#x53d6;&#x5177;&#x4f53;&#x7ae0;&#x8282;&#x7684;&#x76ee;&#x5f55;&#x94fe;&#x63a5;</span>\n            <span class=\"hljs-variable language_\">self</span>.get_all_link(directory_link,novel_name)\n\n    <span class=\"hljs-comment\"># &#x83b7;&#x53d6;&#x5177;&#x4f53;&#x7ae0;&#x8282;&#x7684;&#x76ee;&#x5f55;&#x94fe;&#x63a5;</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_all_link</span>(<span class=\"hljs-params\">self,directory_link,novel_name</span>):\n        directory_html = <span class=\"hljs-variable language_\">self</span>.get_html(url=directory_link)\n        regex = <span class=\"hljs-string\">&apos;&lt;li class=&quot; col-4&quot;&gt;.*?&lt;a  href=&quot;(.*?)&quot;.*?&lt;/a&gt;&apos;</span>\n        novel_text_link_list = <span class=\"hljs-variable language_\">self</span>.re_func(regex,directory_html)\n\n        <span class=\"hljs-keyword\">for</span> novel_text_link <span class=\"hljs-keyword\">in</span> novel_text_link_list:\n            <span class=\"hljs-comment\"># &#x83b7;&#x53d6;&#x5177;&#x4f53;&#x5c0f;&#x8bf4;&#x7ae0;&#x8282;&#x5185;&#x5bb9;</span>\n            novel_text = <span class=\"hljs-variable language_\">self</span>.get_novel_content(novel_text_link)\n            time.sleep(random.randint(<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>))\n\n\n    <span class=\"hljs-comment\"># &#x83b7;&#x53d6;&#x5177;&#x4f53;&#x5c0f;&#x8bf4;&#x7ae0;&#x8282;&#x5185;&#x5bb9;</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_novel_content</span>(<span class=\"hljs-params\">self,novel_text_link</span>):\n        novel_text_html = <span class=\"hljs-variable language_\">self</span>.get_html(url=novel_text_link)\n        regex = <span class=\"hljs-string\">&apos;&lt;div class=&quot;content&quot;.*?&gt;(.*?)&lt;/div&gt;&apos;</span>\n        novel_text = re.findall(regex,novel_text_html,re.S)[<span class=\"hljs-number\">0</span>].replace(<span class=\"hljs-string\">&apos;&lt;p&gt;&apos;</span>,<span class=\"hljs-string\">&apos;&apos;</span>).replace(<span class=\"hljs-string\">&apos;&lt;/p&gt;&apos;</span>,<span class=\"hljs-string\">&apos;\\n&apos;</span>)\n        <span class=\"hljs-built_in\">print</span>(novel_text)\n        <span class=\"hljs-keyword\">return</span> novel_text\n\n\n    <span class=\"hljs-comment\"># &#x7a0b;&#x5e8f;&#x5165;&#x53e3;&#x51fd;&#x6570;</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">run</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-keyword\">for</span> p <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">967</span>):\n            url = <span class=\"hljs-variable language_\">self</span>.url.<span class=\"hljs-built_in\">format</span>(p)\n            <span class=\"hljs-variable language_\">self</span>.parse_one_page(url)\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&apos;__main__&apos;</span>:\n    spider = NovelSpider()\n    spider.run()\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"551,647"}}],"payload":{"tag":"h3","lines":"549,550"}}],"payload":{"tag":"h1","lines":"514,515"}}]},{})</script>
</body>
</html>
