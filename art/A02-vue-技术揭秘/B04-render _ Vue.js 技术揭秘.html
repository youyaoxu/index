<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"<a href=\"#render\">#</a> render","children":[{"content":"&#x8ba4;&#x8bc6;","children":[{"content":"<pre data-lines=\"6,7\"><code>Vue &#x7684; `_render` &#x65b9;&#x6cd5;&#x662f;&#x5b9e;&#x4f8b;&#x7684;&#x4e00;&#x4e2a;&#x79c1;&#x6709;&#x65b9;&#x6cd5;&#xff0c;&#x5b83;&#x7528;&#x6765;&#x628a;&#x5b9e;&#x4f8b;&#x6e32;&#x67d3;&#x6210;&#x4e00;&#x4e2a;&#x865a;&#x62df; Node&#x3002;&#x5b83;&#x7684;&#x5b9a;&#x4e49;&#x5728; `src/core/instance/render.js` &#x6587;&#x4ef6;&#x4e2d;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"6,7"}},{"content":"<pre data-lines=\"8,68\"><code data-lines=\"8,68\">Vue.prototype._render = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>): <span class=\"hljs-title\">VNode</span> </span>{\n  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-variable constant_\">vm</span>: Component = this\n  <span class=\"hljs-keyword\">const</span> { render, _parentVnode } = vm.<span class=\"hljs-variable\">&#x24;options</span>\n\n  <span class=\"hljs-comment\">// reset _rendered flag on slots for duplicate slot check</span>\n  <span class=\"hljs-keyword\">if</span> (process.env.NODE_ENV !== <span class=\"hljs-string\">&apos;production&apos;</span>) {\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">const</span> <span class=\"hljs-variable constant_\">key</span> in vm.<span class=\"hljs-variable\">&#x24;slots</span>) {\n      <span class=\"hljs-comment\">// &#x24;flow-disable-line</span>\n      vm.<span class=\"hljs-variable\">&#x24;slots</span>[key]._rendered = <span class=\"hljs-literal\">false</span>\n    }\n  }\n\n  <span class=\"hljs-keyword\">if</span> (_parentVnode) {\n    vm.<span class=\"hljs-variable\">&#x24;scopedSlots</span> = _parentVnode.data.scopedSlots || emptyObject\n  }\n\n  <span class=\"hljs-comment\">// set parent vnode. this allows render functions to have access</span>\n  <span class=\"hljs-comment\">// to the data on the placeholder node.</span>\n  vm.<span class=\"hljs-variable\">&#x24;vnode</span> = _parentVnode\n  <span class=\"hljs-comment\">// render self</span>\n  let vnode\n  <span class=\"hljs-keyword\">try</span> {\n    vnode = render.<span class=\"hljs-title function_ invoke__\">call</span>(vm._renderProxy, vm.<span class=\"hljs-variable\">&#x24;createElement</span>)\n  } <span class=\"hljs-keyword\">catch</span> (e) {\n    <span class=\"hljs-title function_ invoke__\">handleError</span>(e, vm, `render`)\n    <span class=\"hljs-comment\">// return error render result,</span>\n    <span class=\"hljs-comment\">// or previous vnode to prevent render error causing blank component</span>\n    <span class=\"hljs-comment\">/* istanbul ignore else */</span>\n    <span class=\"hljs-keyword\">if</span> (process.env.NODE_ENV !== <span class=\"hljs-string\">&apos;production&apos;</span>) {\n      <span class=\"hljs-keyword\">if</span> (vm.<span class=\"hljs-variable\">&#x24;options</span>.renderError) {\n        <span class=\"hljs-keyword\">try</span> {\n          vnode = vm.<span class=\"hljs-variable\">&#x24;options</span>.renderError.<span class=\"hljs-title function_ invoke__\">call</span>(vm._renderProxy, vm.<span class=\"hljs-variable\">&#x24;createElement</span>, e)\n        } <span class=\"hljs-keyword\">catch</span> (e) {\n          <span class=\"hljs-title function_ invoke__\">handleError</span>(e, vm, `renderError`)\n          vnode = vm._vnode\n        }\n      } <span class=\"hljs-keyword\">else</span> {\n        vnode = vm._vnode\n      }\n    } <span class=\"hljs-keyword\">else</span> {\n      vnode = vm._vnode\n    }\n  }\n  <span class=\"hljs-comment\">// return empty vnode in case the render function errored out</span>\n  <span class=\"hljs-keyword\">if</span> (!(vnode <span class=\"hljs-keyword\">instanceof</span> VNode)) {\n    <span class=\"hljs-keyword\">if</span> (process.env.NODE_ENV !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; Array.<span class=\"hljs-title function_ invoke__\">isArray</span>(vnode)) {\n      <span class=\"hljs-title function_ invoke__\">warn</span>(\n        <span class=\"hljs-string\">&apos;Multiple root nodes returned from render function. Render function &apos;</span> +\n        <span class=\"hljs-string\">&apos;should return a single root node.&apos;</span>,\n        vm\n      )\n    }\n    vnode = <span class=\"hljs-title function_ invoke__\">createEmptyVNode</span>()\n  }\n  <span class=\"hljs-comment\">// set parent</span>\n  vnode.<span class=\"hljs-built_in\">parent</span> = _parentVnode\n  <span class=\"hljs-keyword\">return</span> vnode\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"8,68"}},{"content":"<pre data-lines=\"69,72\"><code>&#x8fd9;&#x6bb5;&#x4ee3;&#x7801;&#x6700;&#x5173;&#x952e;&#x7684;&#x662f; `render` &#x65b9;&#x6cd5;&#x7684;&#x8c03;&#x7528;&#xff0c;&#x6211;&#x4eec;&#x5728;&#x5e73;&#x65f6;&#x7684;&#x5f00;&#x53d1;&#x5de5;&#x4f5c;&#x4e2d;&#x624b;&#x5199; `render` &#x65b9;&#x6cd5;&#x7684;&#x573a;&#x666f;&#x6bd4;&#x8f83;&#x5c11;&#xff0c;&#x800c;&#x5199;&#x7684;&#x6bd4;&#x8f83;&#x591a;&#x7684;&#x662f; `template` &#x6a21;&#x677f;&#xff0c;&#x5728;&#x4e4b;&#x524d;&#x7684; `mounted` &#x65b9;&#x6cd5;&#x7684;&#x5b9e;&#x73b0;&#x4e2d;&#xff0c;&#x4f1a;&#x628a; `template` &#x7f16;&#x8bd1;&#x6210; `render` &#x65b9;&#x6cd5;&#xff0c;&#x4f46;&#x8fd9;&#x4e2a;&#x7f16;&#x8bd1;&#x8fc7;&#x7a0b;&#x662f;&#x975e;&#x5e38;&#x590d;&#x6742;&#x7684;&#xff0c;&#x6211;&#x4eec;&#x4e0d;&#x6253;&#x7b97;&#x5728;&#x8fd9;&#x91cc;&#x5c55;&#x5f00;&#x8bb2;&#xff0c;&#x4e4b;&#x540e;&#x4f1a;&#x4e13;&#x95e8;&#x82b1;&#x4e00;&#x4e2a;&#x7ae0;&#x8282;&#x6765;&#x5206;&#x6790; Vue &#x7684;&#x7f16;&#x8bd1;&#x8fc7;&#x7a0b;&#x3002;\n\n&#x5728; Vue &#x7684;&#x5b98;&#x65b9;&#x6587;&#x6863;&#x4e2d;&#x4ecb;&#x7ecd;&#x4e86; `render` &#x51fd;&#x6570;&#x7684;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x662f; `createElement`&#xff0c;&#x90a3;&#x4e48;&#x7ed3;&#x5408;&#x4e4b;&#x524d;&#x7684;&#x4f8b;&#x5b50;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"69,72"}},{"content":"<pre data-lines=\"73,78\"><code data-lines=\"73,78\"><span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;app&quot;</span>&gt;</span>\n  </span><span class=\"hljs-template-variable\">{{ <span class=\"hljs-name\">message</span> }}</span><span class=\"language-xml\">\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span> \n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"73,78"}},{"content":"<pre data-lines=\"79,80\"><code>&#x76f8;&#x5f53;&#x4e8e;&#x6211;&#x4eec;&#x7f16;&#x5199;&#x5982;&#x4e0b; `render` &#x51fd;&#x6570;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"79,80"}},{"content":"<pre data-lines=\"81,90\"><code data-lines=\"81,90\">render: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">createElement</span>) </span>{\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_ invoke__\">createElement</span>(<span class=\"hljs-string\">&apos;div&apos;</span>, {\n     <span class=\"hljs-attr\">attrs</span>: {\n        <span class=\"hljs-attr\">id</span>: <span class=\"hljs-string\">&apos;app&apos;</span>\n      },\n  }, this.message)\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"81,90"}},{"content":"<pre data-lines=\"91,92\"><code>&#x518d;&#x56de;&#x5230; `_render` &#x51fd;&#x6570;&#x4e2d;&#x7684; `render` &#x65b9;&#x6cd5;&#x7684;&#x8c03;&#x7528;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"91,92"}},{"content":"<pre data-lines=\"93,96\"><code data-lines=\"93,96\"><span class=\"hljs-attr\">vnode</span> = render.call(vm._renderProxy, vm.<span class=\"hljs-variable\">&#x24;createElement</span>) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"93,96"}},{"content":"<pre data-lines=\"97,98\"><code>&#x53ef;&#x4ee5;&#x770b;&#x5230;&#xff0c;`render` &#x51fd;&#x6570;&#x4e2d;&#x7684; `createElement` &#x65b9;&#x6cd5;&#x5c31;&#x662f; `vm.&#x24;createElement` &#x65b9;&#x6cd5;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"97,98"}},{"content":"<pre data-lines=\"99,112\"><code data-lines=\"99,112\">export function initRender (vm: Component) {\n  <span class=\"hljs-comment\">// ...</span>\n  <span class=\"hljs-comment\">// bind the createElement fn to this instance</span>\n  <span class=\"hljs-comment\">// so that we get proper render context inside it.</span>\n  <span class=\"hljs-comment\">// args order: tag, data, children, normalizationType, alwaysNormalize</span>\n  <span class=\"hljs-comment\">// internal version is used by render functions compiled from templates</span>\n  vm._c = (<span class=\"hljs-selector-tag\">a</span>, <span class=\"hljs-selector-tag\">b</span>, c, d) =&gt; <span class=\"hljs-built_in\">createElement</span>(vm, <span class=\"hljs-selector-tag\">a</span>, <span class=\"hljs-selector-tag\">b</span>, c, d, false)\n  <span class=\"hljs-comment\">// normalization is always applied for the public version, used in</span>\n  <span class=\"hljs-comment\">// user-written render functions.</span>\n  vm.<span class=\"hljs-variable\">&#x24;createElement</span> = (<span class=\"hljs-selector-tag\">a</span>, <span class=\"hljs-selector-tag\">b</span>, c, d) =&gt; <span class=\"hljs-built_in\">createElement</span>(vm, <span class=\"hljs-selector-tag\">a</span>, <span class=\"hljs-selector-tag\">b</span>, c, d, true)\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"99,112"}},{"content":"<pre data-lines=\"113,114\"><code>&#x5b9e;&#x9645;&#x4e0a;&#xff0c;`vm.&#x24;createElement` &#x65b9;&#x6cd5;&#x5b9a;&#x4e49;&#x662f;&#x5728;&#x6267;&#x884c; `initRender` &#x65b9;&#x6cd5;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#x9664;&#x4e86; `vm.&#x24;createElement` &#x65b9;&#x6cd5;&#xff0c;&#x8fd8;&#x6709;&#x4e00;&#x4e2a; `vm._c` &#x65b9;&#x6cd5;&#xff0c;&#x5b83;&#x662f;&#x88ab;&#x6a21;&#x677f;&#x7f16;&#x8bd1;&#x6210;&#x7684; `render` &#x51fd;&#x6570;&#x4f7f;&#x7528;&#xff0c;&#x800c; `vm.&#x24;createElement` &#x662f;&#x7528;&#x6237;&#x624b;&#x5199; `render` &#x65b9;&#x6cd5;&#x4f7f;&#x7528;&#x7684;&#xff0c; &#x8fd9;&#x4fe9;&#x4e2a;&#x65b9;&#x6cd5;&#x652f;&#x6301;&#x7684;&#x53c2;&#x6570;&#x76f8;&#x540c;&#xff0c;&#x5e76;&#x4e14;&#x5185;&#x90e8;&#x90fd;&#x8c03;&#x7528;&#x4e86; `createElement` &#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"113,114"}}],"payload":{"tag":"h2","lines":"3,5"}},{"content":"<a href=\"#%E6%80%BB%E7%BB%93\">#</a> &#x603b;&#x7ed3;","children":[{"content":"<pre data-lines=\"118,119\"><code>`vm._render` &#x6700;&#x7ec8;&#x662f;&#x901a;&#x8fc7;&#x6267;&#x884c; `createElement` &#x65b9;&#x6cd5;&#x5e76;&#x8fd4;&#x56de;&#x7684;&#x662f; `vnode`&#xff0c;&#x5b83;&#x662f;&#x4e00;&#x4e2a;&#x865a;&#x62df; Node&#x3002;Vue 2.0 &#x76f8;&#x6bd4; Vue 1.0 &#x6700;&#x5927;&#x7684;&#x5347;&#x7ea7;&#x5c31;&#x662f;&#x5229;&#x7528;&#x4e86; Virtual DOM&#x3002;&#x56e0;&#x6b64;&#x5728;&#x5206;&#x6790; `createElement` &#x7684;&#x5b9e;&#x73b0;&#x524d;&#xff0c;&#x6211;&#x4eec;&#x5148;&#x4e86;&#x89e3;&#x4e00;&#x4e0b; Virtual DOM &#x7684;&#x6982;&#x5ff5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"118,119"}}],"payload":{"tag":"h2","lines":"115,117"}}],"payload":{"tag":"h1","lines":"0,2"}},{})</script>
</body>
</html>
