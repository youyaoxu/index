<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"ArrayBuffer","children":[{"content":"&#x8ba4;&#x8bc6;","children":[{"content":"<pre data-lines=\"5,30\"><code>1.  [ArrayBuffer &#x5bf9;&#x8c61;](#docs/arraybuffer#ArrayBuffer &#x5bf9;&#x8c61;)\n2.  [TypedArray &#x89c6;&#x56fe;](#docs/arraybuffer#TypedArray &#x89c6;&#x56fe;)\n3.  [&#x590d;&#x5408;&#x89c6;&#x56fe;](#docs/arraybuffer#&#x590d;&#x5408;&#x89c6;&#x56fe;)\n4.  [DataView &#x89c6;&#x56fe;](#docs/arraybuffer#DataView &#x89c6;&#x56fe;)\n5.  [&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x7ec4;&#x7684;&#x5e94;&#x7528;](#docs/arraybuffer#&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x7ec4;&#x7684;&#x5e94;&#x7528;)\n6.  [SharedArrayBuffer](#docs/arraybuffer#SharedArrayBuffer)\n7.  [Atomics &#x5bf9;&#x8c61;](#docs/arraybuffer#Atomics &#x5bf9;&#x8c61;)\n\n`ArrayBuffer`&#x5bf9;&#x8c61;&#x3001;`TypedArray`&#x89c6;&#x56fe;&#x548c;`DataView`&#x89c6;&#x56fe;&#x662f; JavaScript &#x64cd;&#x4f5c;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x7684;&#x4e00;&#x4e2a;&#x63a5;&#x53e3;&#x3002;&#x8fd9;&#x4e9b;&#x5bf9;&#x8c61;&#x65e9;&#x5c31;&#x5b58;&#x5728;&#xff0c;&#x5c5e;&#x4e8e;&#x72ec;&#x7acb;&#x7684;&#x89c4;&#x683c;&#xff08;2011 &#x5e74; 2 &#x6708;&#x53d1;&#x5e03;&#xff09;&#xff0c;ES6 &#x5c06;&#x5b83;&#x4eec;&#x7eb3;&#x5165;&#x4e86; ECMAScript &#x89c4;&#x683c;&#xff0c;&#x5e76;&#x4e14;&#x589e;&#x52a0;&#x4e86;&#x65b0;&#x7684;&#x65b9;&#x6cd5;&#x3002;&#x5b83;&#x4eec;&#x90fd;&#x662f;&#x4ee5;&#x6570;&#x7ec4;&#x7684;&#x8bed;&#x6cd5;&#x5904;&#x7406;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#xff0c;&#x6240;&#x4ee5;&#x7edf;&#x79f0;&#x4e3a;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x7ec4;&#x3002;\n\n&#x8fd9;&#x4e2a;&#x63a5;&#x53e3;&#x7684;&#x539f;&#x59cb;&#x8bbe;&#x8ba1;&#x76ee;&#x7684;&#xff0c;&#x4e0e; WebGL &#x9879;&#x76ee;&#x6709;&#x5173;&#x3002;&#x6240;&#x8c13; WebGL&#xff0c;&#x5c31;&#x662f;&#x6307;&#x6d4f;&#x89c8;&#x5668;&#x4e0e;&#x663e;&#x5361;&#x4e4b;&#x95f4;&#x7684;&#x901a;&#x4fe1;&#x63a5;&#x53e3;&#xff0c;&#x4e3a;&#x4e86;&#x6ee1;&#x8db3; JavaScript &#x4e0e;&#x663e;&#x5361;&#x4e4b;&#x95f4;&#x5927;&#x91cf;&#x7684;&#x3001;&#x5b9e;&#x65f6;&#x7684;&#x6570;&#x636e;&#x4ea4;&#x6362;&#xff0c;&#x5b83;&#x4eec;&#x4e4b;&#x95f4;&#x7684;&#x6570;&#x636e;&#x901a;&#x4fe1;&#x5fc5;&#x987b;&#x662f;&#x4e8c;&#x8fdb;&#x5236;&#x7684;&#xff0c;&#x800c;&#x4e0d;&#x80fd;&#x662f;&#x4f20;&#x7edf;&#x7684;&#x6587;&#x672c;&#x683c;&#x5f0f;&#x3002;&#x6587;&#x672c;&#x683c;&#x5f0f;&#x4f20;&#x9012;&#x4e00;&#x4e2a; 32 &#x4f4d;&#x6574;&#x6570;&#xff0c;&#x4e24;&#x7aef;&#x7684; JavaScript &#x811a;&#x672c;&#x4e0e;&#x663e;&#x5361;&#x90fd;&#x8981;&#x8fdb;&#x884c;&#x683c;&#x5f0f;&#x8f6c;&#x5316;&#xff0c;&#x5c06;&#x975e;&#x5e38;&#x8017;&#x65f6;&#x3002;&#x8fd9;&#x65f6;&#x8981;&#x662f;&#x5b58;&#x5728;&#x4e00;&#x79cd;&#x673a;&#x5236;&#xff0c;&#x53ef;&#x4ee5;&#x50cf; C &#x8bed;&#x8a00;&#x90a3;&#x6837;&#xff0c;&#x76f4;&#x63a5;&#x64cd;&#x4f5c;&#x5b57;&#x8282;&#xff0c;&#x5c06; 4 &#x4e2a;&#x5b57;&#x8282;&#x7684; 32 &#x4f4d;&#x6574;&#x6570;&#xff0c;&#x4ee5;&#x4e8c;&#x8fdb;&#x5236;&#x5f62;&#x5f0f;&#x539f;&#x5c01;&#x4e0d;&#x52a8;&#x5730;&#x9001;&#x5165;&#x663e;&#x5361;&#xff0c;&#x811a;&#x672c;&#x7684;&#x6027;&#x80fd;&#x5c31;&#x4f1a;&#x5927;&#x5e45;&#x63d0;&#x5347;&#x3002;\n\n&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x7ec4;&#x5c31;&#x662f;&#x5728;&#x8fd9;&#x79cd;&#x80cc;&#x666f;&#x4e0b;&#x8bde;&#x751f;&#x7684;&#x3002;&#x5b83;&#x5f88;&#x50cf; C &#x8bed;&#x8a00;&#x7684;&#x6570;&#x7ec4;&#xff0c;&#x5141;&#x8bb8;&#x5f00;&#x53d1;&#x8005;&#x4ee5;&#x6570;&#x7ec4;&#x4e0b;&#x6807;&#x7684;&#x5f62;&#x5f0f;&#xff0c;&#x76f4;&#x63a5;&#x64cd;&#x4f5c;&#x5185;&#x5b58;&#xff0c;&#x5927;&#x5927;&#x589e;&#x5f3a;&#x4e86; JavaScript &#x5904;&#x7406;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x7684;&#x80fd;&#x529b;&#xff0c;&#x4f7f;&#x5f97;&#x5f00;&#x53d1;&#x8005;&#x6709;&#x53ef;&#x80fd;&#x901a;&#x8fc7; JavaScript &#x4e0e;&#x64cd;&#x4f5c;&#x7cfb;&#x7edf;&#x7684;&#x539f;&#x751f;&#x63a5;&#x53e3;&#x8fdb;&#x884c;&#x4e8c;&#x8fdb;&#x5236;&#x901a;&#x4fe1;&#x3002;\n\n&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x7ec4;&#x7531;&#x4e09;&#x7c7b;&#x5bf9;&#x8c61;&#x7ec4;&#x6210;&#x3002;\n\n**&#xff08;1&#xff09;`ArrayBuffer`&#x5bf9;&#x8c61;**&#xff1a;&#x4ee3;&#x8868;&#x5185;&#x5b58;&#x4e4b;&#x4e2d;&#x7684;&#x4e00;&#x6bb5;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x201c;&#x89c6;&#x56fe;&#x201d;&#x8fdb;&#x884c;&#x64cd;&#x4f5c;&#x3002;&#x201c;&#x89c6;&#x56fe;&#x201d;&#x90e8;&#x7f72;&#x4e86;&#x6570;&#x7ec4;&#x63a5;&#x53e3;&#xff0c;&#x8fd9;&#x610f;&#x5473;&#x7740;&#xff0c;&#x53ef;&#x4ee5;&#x7528;&#x6570;&#x7ec4;&#x7684;&#x65b9;&#x6cd5;&#x64cd;&#x4f5c;&#x5185;&#x5b58;&#x3002;\n\n**&#xff08;2&#xff09;`TypedArray`&#x89c6;&#x56fe;**&#xff1a;&#x5171;&#x5305;&#x62ec; 9 &#x79cd;&#x7c7b;&#x578b;&#x7684;&#x89c6;&#x56fe;&#xff0c;&#x6bd4;&#x5982;`Uint8Array`&#xff08;&#x65e0;&#x7b26;&#x53f7; 8 &#x4f4d;&#x6574;&#x6570;&#xff09;&#x6570;&#x7ec4;&#x89c6;&#x56fe;, `Int16Array`&#xff08;16 &#x4f4d;&#x6574;&#x6570;&#xff09;&#x6570;&#x7ec4;&#x89c6;&#x56fe;, `Float32Array`&#xff08;32 &#x4f4d;&#x6d6e;&#x70b9;&#x6570;&#xff09;&#x6570;&#x7ec4;&#x89c6;&#x56fe;&#x7b49;&#x7b49;&#x3002;\n\n**&#xff08;3&#xff09;`DataView`&#x89c6;&#x56fe;**&#xff1a;&#x53ef;&#x4ee5;&#x81ea;&#x5b9a;&#x4e49;&#x590d;&#x5408;&#x683c;&#x5f0f;&#x7684;&#x89c6;&#x56fe;&#xff0c;&#x6bd4;&#x5982;&#x7b2c;&#x4e00;&#x4e2a;&#x5b57;&#x8282;&#x662f; Uint8&#xff08;&#x65e0;&#x7b26;&#x53f7; 8 &#x4f4d;&#x6574;&#x6570;&#xff09;&#x3001;&#x7b2c;&#x4e8c;&#x3001;&#x4e09;&#x4e2a;&#x5b57;&#x8282;&#x662f; Int16&#xff08;16 &#x4f4d;&#x6574;&#x6570;&#xff09;&#x3001;&#x7b2c;&#x56db;&#x4e2a;&#x5b57;&#x8282;&#x5f00;&#x59cb;&#x662f; Float32&#xff08;32 &#x4f4d;&#x6d6e;&#x70b9;&#x6570;&#xff09;&#x7b49;&#x7b49;&#xff0c;&#x6b64;&#x5916;&#x8fd8;&#x53ef;&#x4ee5;&#x81ea;&#x5b9a;&#x4e49;&#x5b57;&#x8282;&#x5e8f;&#x3002;\n\n&#x7b80;&#x5355;&#x8bf4;&#xff0c;`ArrayBuffer`&#x5bf9;&#x8c61;&#x4ee3;&#x8868;&#x539f;&#x59cb;&#x7684;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#xff0c;`TypedArray`&#x89c6;&#x56fe;&#x7528;&#x6765;&#x8bfb;&#x5199;&#x7b80;&#x5355;&#x7c7b;&#x578b;&#x7684;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#xff0c;`DataView`&#x89c6;&#x56fe;&#x7528;&#x6765;&#x8bfb;&#x5199;&#x590d;&#x6742;&#x7c7b;&#x578b;&#x7684;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x3002;\n\n`TypedArray`&#x89c6;&#x56fe;&#x652f;&#x6301;&#x7684;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x4e00;&#x5171;&#x6709; 9 &#x79cd;&#xff08;`DataView`&#x89c6;&#x56fe;&#x652f;&#x6301;&#x9664;`Uint8C`&#x4ee5;&#x5916;&#x7684;&#x5176;&#x4ed6; 8 &#x79cd;&#xff09;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"5,30"}},{"content":"<table data-lines=\"31,42\">\n<thead data-lines=\"31,32\">\n<tr data-lines=\"31,32\">\n<th>&#x6570;&#x636e;&#x7c7b;&#x578b;</th>\n<th>&#x5b57;&#x8282;&#x957f;&#x5ea6;</th>\n<th>&#x542b;&#x4e49;</th>\n<th>&#x5bf9;&#x5e94;&#x7684; C &#x8bed;&#x8a00;&#x7c7b;&#x578b;</th>\n</tr>\n</thead>\n<tbody data-lines=\"33,42\">\n<tr data-lines=\"33,34\">\n<td>Int8</td>\n<td>1</td>\n<td>8 &#x4f4d;&#x5e26;&#x7b26;&#x53f7;&#x6574;&#x6570;</td>\n<td>signed char</td>\n</tr>\n<tr data-lines=\"34,35\">\n<td>Uint8</td>\n<td>1</td>\n<td>8 &#x4f4d;&#x4e0d;&#x5e26;&#x7b26;&#x53f7;&#x6574;&#x6570;</td>\n<td>unsigned char</td>\n</tr>\n<tr data-lines=\"35,36\">\n<td>Uint8C</td>\n<td>1</td>\n<td>8 &#x4f4d;&#x4e0d;&#x5e26;&#x7b26;&#x53f7;&#x6574;&#x6570;&#xff08;&#x81ea;&#x52a8;&#x8fc7;&#x6ee4;&#x6ea2;&#x51fa;&#xff09;</td>\n<td>unsigned char</td>\n</tr>\n<tr data-lines=\"36,37\">\n<td>Int16</td>\n<td>2</td>\n<td>16 &#x4f4d;&#x5e26;&#x7b26;&#x53f7;&#x6574;&#x6570;</td>\n<td>short</td>\n</tr>\n<tr data-lines=\"37,38\">\n<td>Uint16</td>\n<td>2</td>\n<td>16 &#x4f4d;&#x4e0d;&#x5e26;&#x7b26;&#x53f7;&#x6574;&#x6570;</td>\n<td>unsigned short</td>\n</tr>\n<tr data-lines=\"38,39\">\n<td>Int32</td>\n<td>4</td>\n<td>32 &#x4f4d;&#x5e26;&#x7b26;&#x53f7;&#x6574;&#x6570;</td>\n<td>int</td>\n</tr>\n<tr data-lines=\"39,40\">\n<td>Uint32</td>\n<td>4</td>\n<td>32 &#x4f4d;&#x4e0d;&#x5e26;&#x7b26;&#x53f7;&#x7684;&#x6574;&#x6570;</td>\n<td>unsigned int</td>\n</tr>\n<tr data-lines=\"40,41\">\n<td>Float32</td>\n<td>4</td>\n<td>32 &#x4f4d;&#x6d6e;&#x70b9;&#x6570;</td>\n<td>float</td>\n</tr>\n<tr data-lines=\"41,42\">\n<td>Float64</td>\n<td>8</td>\n<td>64 &#x4f4d;&#x6d6e;&#x70b9;&#x6570;</td>\n<td>double</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"31,42"}},{"content":"<pre data-lines=\"43,52\"><code>&#x6ce8;&#x610f;&#xff0c;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x7ec4;&#x5e76;&#x4e0d;&#x662f;&#x771f;&#x6b63;&#x7684;&#x6570;&#x7ec4;&#xff0c;&#x800c;&#x662f;&#x7c7b;&#x4f3c;&#x6570;&#x7ec4;&#x7684;&#x5bf9;&#x8c61;&#x3002;\n\n&#x5f88;&#x591a;&#x6d4f;&#x89c8;&#x5668;&#x64cd;&#x4f5c;&#x7684; API&#xff0c;&#x7528;&#x5230;&#x4e86;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x7ec4;&#x64cd;&#x4f5c;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#xff0c;&#x4e0b;&#x9762;&#x662f;&#x5176;&#x4e2d;&#x7684;&#x51e0;&#x4e2a;&#x3002;\n\n*   [Canvas](#canvas)\n*   [Fetch API](#fetch-api)\n*   [File API](#file-api)\n*   [WebSockets](#websocket)\n*   [XMLHttpRequest](#ajax)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"43,52"}}],"payload":{"tag":"h2","lines":"2,4"}},{"content":"ArrayBuffer &#x5bf9;&#x8c61;","children":[{"content":"&#x6982;&#x8ff0;","children":[{"content":"<pre data-lines=\"58,61\"><code>`ArrayBuffer`&#x5bf9;&#x8c61;&#x4ee3;&#x8868;&#x50a8;&#x5b58;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x7684;&#x4e00;&#x6bb5;&#x5185;&#x5b58;&#xff0c;&#x5b83;&#x4e0d;&#x80fd;&#x76f4;&#x63a5;&#x8bfb;&#x5199;&#xff0c;&#x53ea;&#x80fd;&#x901a;&#x8fc7;&#x89c6;&#x56fe;&#xff08;`TypedArray`&#x89c6;&#x56fe;&#x548c;`DataView`&#x89c6;&#x56fe;)&#x6765;&#x8bfb;&#x5199;&#xff0c;&#x89c6;&#x56fe;&#x7684;&#x4f5c;&#x7528;&#x662f;&#x4ee5;&#x6307;&#x5b9a;&#x683c;&#x5f0f;&#x89e3;&#x8bfb;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x3002;\n\n`ArrayBuffer`&#x4e5f;&#x662f;&#x4e00;&#x4e2a;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x53ef;&#x4ee5;&#x5206;&#x914d;&#x4e00;&#x6bb5;&#x53ef;&#x4ee5;&#x5b58;&#x653e;&#x6570;&#x636e;&#x7684;&#x8fde;&#x7eed;&#x5185;&#x5b58;&#x533a;&#x57df;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"58,61"}},{"content":"<pre data-lines=\"62,65\"><code data-lines=\"62,65\"><span class=\"hljs-keyword\">const</span> buf = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ArrayBuffer</span>(<span class=\"hljs-number\">32</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"62,65"}},{"content":"<pre data-lines=\"66,69\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x751f;&#x6210;&#x4e86;&#x4e00;&#x6bb5; 32 &#x5b57;&#x8282;&#x7684;&#x5185;&#x5b58;&#x533a;&#x57df;&#xff0c;&#x6bcf;&#x4e2a;&#x5b57;&#x8282;&#x7684;&#x503c;&#x9ed8;&#x8ba4;&#x90fd;&#x662f; 0&#x3002;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#xff0c;`ArrayBuffer`&#x6784;&#x9020;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;&#x662f;&#x6240;&#x9700;&#x8981;&#x7684;&#x5185;&#x5b58;&#x5927;&#x5c0f;&#xff08;&#x5355;&#x4f4d;&#x5b57;&#x8282;&#xff09;&#x3002;\n\n&#x4e3a;&#x4e86;&#x8bfb;&#x5199;&#x8fd9;&#x6bb5;&#x5185;&#x5bb9;&#xff0c;&#x9700;&#x8981;&#x4e3a;&#x5b83;&#x6307;&#x5b9a;&#x89c6;&#x56fe;&#x3002;`DataView`&#x89c6;&#x56fe;&#x7684;&#x521b;&#x5efa;&#xff0c;&#x9700;&#x8981;&#x63d0;&#x4f9b;`ArrayBuffer`&#x5bf9;&#x8c61;&#x5b9e;&#x4f8b;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"66,69"}},{"content":"<pre data-lines=\"70,75\"><code data-lines=\"70,75\"><span class=\"hljs-keyword\">const</span> buf = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ArrayBuffer</span>(<span class=\"hljs-number\">32</span>);\n<span class=\"hljs-keyword\">const</span> dataView = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">DataView</span>(buf);\ndataView.<span class=\"hljs-title function_\">getUint8</span>(<span class=\"hljs-number\">0</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"70,75"}},{"content":"<pre data-lines=\"76,79\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5bf9;&#x4e00;&#x6bb5; 32 &#x5b57;&#x8282;&#x7684;&#x5185;&#x5b58;&#xff0c;&#x5efa;&#x7acb;`DataView`&#x89c6;&#x56fe;&#xff0c;&#x7136;&#x540e;&#x4ee5;&#x4e0d;&#x5e26;&#x7b26;&#x53f7;&#x7684; 8 &#x4f4d;&#x6574;&#x6570;&#x683c;&#x5f0f;&#xff0c;&#x4ece;&#x5934;&#x8bfb;&#x53d6; 8 &#x4f4d;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#xff0c;&#x7ed3;&#x679c;&#x5f97;&#x5230; 0&#xff0c;&#x56e0;&#x4e3a;&#x539f;&#x59cb;&#x5185;&#x5b58;&#x7684;`ArrayBuffer`&#x5bf9;&#x8c61;&#xff0c;&#x9ed8;&#x8ba4;&#x6240;&#x6709;&#x4f4d;&#x90fd;&#x662f; 0&#x3002;\n\n&#x53e6;&#x4e00;&#x79cd;`TypedArray`&#x89c6;&#x56fe;&#xff0c;&#x4e0e;`DataView`&#x89c6;&#x56fe;&#x7684;&#x4e00;&#x4e2a;&#x533a;&#x522b;&#x662f;&#xff0c;&#x5b83;&#x4e0d;&#x662f;&#x4e00;&#x4e2a;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x800c;&#x662f;&#x4e00;&#x7ec4;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x4ee3;&#x8868;&#x4e0d;&#x540c;&#x7684;&#x6570;&#x636e;&#x683c;&#x5f0f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"76,79"}},{"content":"<pre data-lines=\"80,90\"><code data-lines=\"80,90\">const buffer <span class=\"hljs-operator\">=</span> new ArrayBuffer(<span class=\"hljs-number\">12</span>)<span class=\"hljs-comment\">;</span>\n\nconst x1 <span class=\"hljs-operator\">=</span> new Int32Array(buffer)<span class=\"hljs-comment\">;</span>\nx1[<span class=\"hljs-number\">0</span>] <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span><span class=\"hljs-comment\">;</span>\nconst x2 <span class=\"hljs-operator\">=</span> new Uint8Array(buffer)<span class=\"hljs-comment\">;</span>\nx2[<span class=\"hljs-number\">0</span>]  <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">2</span><span class=\"hljs-comment\">;</span>\n\nx1[<span class=\"hljs-number\">0</span>]\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"80,90"}},{"content":"<pre data-lines=\"91,94\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5bf9;&#x540c;&#x4e00;&#x6bb5;&#x5185;&#x5b58;&#xff0c;&#x5206;&#x522b;&#x5efa;&#x7acb;&#x4e24;&#x79cd;&#x89c6;&#x56fe;&#xff1a;32 &#x4f4d;&#x5e26;&#x7b26;&#x53f7;&#x6574;&#x6570;&#xff08;`Int32Array`&#x6784;&#x9020;&#x51fd;&#x6570;&#xff09;&#x548c; 8 &#x4f4d;&#x4e0d;&#x5e26;&#x7b26;&#x53f7;&#x6574;&#x6570;&#xff08;`Uint8Array`&#x6784;&#x9020;&#x51fd;&#x6570;&#xff09;&#x3002;&#x7531;&#x4e8e;&#x4e24;&#x4e2a;&#x89c6;&#x56fe;&#x5bf9;&#x5e94;&#x7684;&#x662f;&#x540c;&#x4e00;&#x6bb5;&#x5185;&#x5b58;&#xff0c;&#x4e00;&#x4e2a;&#x89c6;&#x56fe;&#x4fee;&#x6539;&#x5e95;&#x5c42;&#x5185;&#x5b58;&#xff0c;&#x4f1a;&#x5f71;&#x54cd;&#x5230;&#x53e6;&#x4e00;&#x4e2a;&#x89c6;&#x56fe;&#x3002;\n\n`TypedArray`&#x89c6;&#x56fe;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x9664;&#x4e86;&#x63a5;&#x53d7;`ArrayBuffer`&#x5b9e;&#x4f8b;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x8fd8;&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#x666e;&#x901a;&#x6570;&#x7ec4;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x76f4;&#x63a5;&#x5206;&#x914d;&#x5185;&#x5b58;&#x751f;&#x6210;&#x5e95;&#x5c42;&#x7684;`ArrayBuffer`&#x5b9e;&#x4f8b;&#xff0c;&#x5e76;&#x540c;&#x65f6;&#x5b8c;&#x6210;&#x5bf9;&#x8fd9;&#x6bb5;&#x5185;&#x5b58;&#x7684;&#x8d4b;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"91,94"}},{"content":"<pre data-lines=\"95,101\"><code data-lines=\"95,101\"><span class=\"hljs-attribute\">const</span> typedArray = new Uint8Array([<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>]);\n<span class=\"hljs-attribute\">typedArray</span>.length\n<span class=\"hljs-attribute\">typedArray</span>[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">5</span>;\n<span class=\"hljs-attribute\">typedArray</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"95,101"}},{"content":"<pre data-lines=\"102,103\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4f7f;&#x7528;`TypedArray`&#x89c6;&#x56fe;&#x7684;`Uint8Array`&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x65b0;&#x5efa;&#x4e00;&#x4e2a;&#x4e0d;&#x5e26;&#x7b26;&#x53f7;&#x7684; 8 &#x4f4d;&#x6574;&#x6570;&#x89c6;&#x56fe;&#x3002;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#xff0c;`Uint8Array`&#x76f4;&#x63a5;&#x4f7f;&#x7528;&#x666e;&#x901a;&#x6570;&#x7ec4;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x5bf9;&#x5e95;&#x5c42;&#x5185;&#x5b58;&#x7684;&#x8d4b;&#x503c;&#x540c;&#x65f6;&#x5b8c;&#x6210;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"102,103"}}],"payload":{"tag":"h3","lines":"56,57"}},{"content":"ArrayBuffer.prototype.byteLength","children":[{"content":"<pre data-lines=\"106,107\"><code>`ArrayBuffer`&#x5b9e;&#x4f8b;&#x7684;`byteLength`&#x5c5e;&#x6027;&#xff0c;&#x8fd4;&#x56de;&#x6240;&#x5206;&#x914d;&#x7684;&#x5185;&#x5b58;&#x533a;&#x57df;&#x7684;&#x5b57;&#x8282;&#x957f;&#x5ea6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"106,107"}},{"content":"<pre data-lines=\"108,112\"><code data-lines=\"108,112\"><span class=\"hljs-type\">const</span> buffer = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">ArrayBuffer</span>(<span class=\"hljs-number\">32</span>);\nbuffer.byteLength\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"108,112"}},{"content":"<pre data-lines=\"113,114\"><code>&#x5982;&#x679c;&#x8981;&#x5206;&#x914d;&#x7684;&#x5185;&#x5b58;&#x533a;&#x57df;&#x5f88;&#x5927;&#xff0c;&#x6709;&#x53ef;&#x80fd;&#x5206;&#x914d;&#x5931;&#x8d25;&#xff08;&#x56e0;&#x4e3a;&#x6ca1;&#x6709;&#x90a3;&#x4e48;&#x591a;&#x7684;&#x8fde;&#x7eed;&#x7a7a;&#x4f59;&#x5185;&#x5b58;&#xff09;&#xff0c;&#x6240;&#x4ee5;&#x6709;&#x5fc5;&#x8981;&#x68c0;&#x67e5;&#x662f;&#x5426;&#x5206;&#x914d;&#x6210;&#x529f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"113,114"}},{"content":"<pre data-lines=\"115,120\"><code data-lines=\"115,120\">if (buffer.byteLength <span class=\"hljs-operator\">=</span><span class=\"hljs-operator\">=</span><span class=\"hljs-operator\">=</span> n) {\n } else {\n } \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"115,120"}}],"payload":{"tag":"h3","lines":"104,105"}},{"content":"ArrayBuffer.prototype.slice()","children":[{"content":"<pre data-lines=\"123,124\"><code>`ArrayBuffer`&#x5b9e;&#x4f8b;&#x6709;&#x4e00;&#x4e2a;`slice`&#x65b9;&#x6cd5;&#xff0c;&#x5141;&#x8bb8;&#x5c06;&#x5185;&#x5b58;&#x533a;&#x57df;&#x7684;&#x4e00;&#x90e8;&#x5206;&#xff0c;&#x62f7;&#x8d1d;&#x751f;&#x6210;&#x4e00;&#x4e2a;&#x65b0;&#x7684;`ArrayBuffer`&#x5bf9;&#x8c61;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"123,124"}},{"content":"<pre data-lines=\"125,129\"><code data-lines=\"125,129\"><span class=\"hljs-type\">const</span> buffer = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">ArrayBuffer</span>(<span class=\"hljs-number\">8</span>);\n<span class=\"hljs-type\">const</span> newBuffer = buffer.<span class=\"hljs-built_in\">slice</span>(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">3</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"125,129"}},{"content":"<pre data-lines=\"130,135\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x62f7;&#x8d1d;`buffer`&#x5bf9;&#x8c61;&#x7684;&#x524d; 3 &#x4e2a;&#x5b57;&#x8282;&#xff08;&#x4ece; 0 &#x5f00;&#x59cb;&#xff0c;&#x5230;&#x7b2c; 3 &#x4e2a;&#x5b57;&#x8282;&#x524d;&#x9762;&#x7ed3;&#x675f;&#xff09;&#xff0c;&#x751f;&#x6210;&#x4e00;&#x4e2a;&#x65b0;&#x7684;`ArrayBuffer`&#x5bf9;&#x8c61;&#x3002;`slice`&#x65b9;&#x6cd5;&#x5176;&#x5b9e;&#x5305;&#x542b;&#x4e24;&#x6b65;&#xff0c;&#x7b2c;&#x4e00;&#x6b65;&#x662f;&#x5148;&#x5206;&#x914d;&#x4e00;&#x6bb5;&#x65b0;&#x5185;&#x5b58;&#xff0c;&#x7b2c;&#x4e8c;&#x6b65;&#x662f;&#x5c06;&#x539f;&#x6765;&#x90a3;&#x4e2a;`ArrayBuffer`&#x5bf9;&#x8c61;&#x62f7;&#x8d1d;&#x8fc7;&#x53bb;&#x3002;\n\n`slice`&#x65b9;&#x6cd5;&#x63a5;&#x53d7;&#x4e24;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x8868;&#x793a;&#x62f7;&#x8d1d;&#x5f00;&#x59cb;&#x7684;&#x5b57;&#x8282;&#x5e8f;&#x53f7;&#xff08;&#x542b;&#x8be5;&#x5b57;&#x8282;&#xff09;&#xff0c;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#x8868;&#x793a;&#x62f7;&#x8d1d;&#x622a;&#x6b62;&#x7684;&#x5b57;&#x8282;&#x5e8f;&#x53f7;&#xff08;&#x4e0d;&#x542b;&#x8be5;&#x5b57;&#x8282;&#xff09;&#x3002;&#x5982;&#x679c;&#x7701;&#x7565;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x5219;&#x9ed8;&#x8ba4;&#x5230;&#x539f;`ArrayBuffer`&#x5bf9;&#x8c61;&#x7684;&#x7ed3;&#x5c3e;&#x3002;\n\n&#x9664;&#x4e86;`slice`&#x65b9;&#x6cd5;&#xff0c;`ArrayBuffer`&#x5bf9;&#x8c61;&#x4e0d;&#x63d0;&#x4f9b;&#x4efb;&#x4f55;&#x76f4;&#x63a5;&#x8bfb;&#x5199;&#x5185;&#x5b58;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x53ea;&#x5141;&#x8bb8;&#x5728;&#x5176;&#x4e0a;&#x65b9;&#x5efa;&#x7acb;&#x89c6;&#x56fe;&#xff0c;&#x7136;&#x540e;&#x901a;&#x8fc7;&#x89c6;&#x56fe;&#x8bfb;&#x5199;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"130,135"}}],"payload":{"tag":"h3","lines":"121,122"}},{"content":"ArrayBuffer.isView()","children":[{"content":"<pre data-lines=\"138,139\"><code>`ArrayBuffer`&#x6709;&#x4e00;&#x4e2a;&#x9759;&#x6001;&#x65b9;&#x6cd5;`isView`&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x5e03;&#x5c14;&#x503c;&#xff0c;&#x8868;&#x793a;&#x53c2;&#x6570;&#x662f;&#x5426;&#x4e3a;`ArrayBuffer`&#x7684;&#x89c6;&#x56fe;&#x5b9e;&#x4f8b;&#x3002;&#x8fd9;&#x4e2a;&#x65b9;&#x6cd5;&#x5927;&#x81f4;&#x76f8;&#x5f53;&#x4e8e;&#x5224;&#x65ad;&#x53c2;&#x6570;&#xff0c;&#x662f;&#x5426;&#x4e3a;`TypedArray`&#x5b9e;&#x4f8b;&#x6216;`DataView`&#x5b9e;&#x4f8b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"138,139"}},{"content":"<pre data-lines=\"140,146\"><code data-lines=\"140,146\"><span class=\"hljs-keyword\">const</span> buffer = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ArrayBuffer</span>(<span class=\"hljs-number\">8</span>);\n<span class=\"hljs-title class_\">ArrayBuffer</span>.<span class=\"hljs-title function_\">isView</span>(buffer)\n<span class=\"hljs-keyword\">const</span> v = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Int32Array</span>(buffer);\n<span class=\"hljs-title class_\">ArrayBuffer</span>.<span class=\"hljs-title function_\">isView</span>(v)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"140,146"}}],"payload":{"tag":"h3","lines":"136,137"}}],"payload":{"tag":"h2","lines":"53,55"}},{"content":"TypedArray &#x89c6;&#x56fe;","children":[{"content":"&#x6982;&#x8ff0;","children":[{"content":"<pre data-lines=\"152,172\"><code>`ArrayBuffer`&#x5bf9;&#x8c61;&#x4f5c;&#x4e3a;&#x5185;&#x5b58;&#x533a;&#x57df;&#xff0c;&#x53ef;&#x4ee5;&#x5b58;&#x653e;&#x591a;&#x79cd;&#x7c7b;&#x578b;&#x7684;&#x6570;&#x636e;&#x3002;&#x540c;&#x4e00;&#x6bb5;&#x5185;&#x5b58;&#xff0c;&#x4e0d;&#x540c;&#x6570;&#x636e;&#x6709;&#x4e0d;&#x540c;&#x7684;&#x89e3;&#x8bfb;&#x65b9;&#x5f0f;&#xff0c;&#x8fd9;&#x5c31;&#x53eb;&#x505a;&#x201c;&#x89c6;&#x56fe;&#x201d;&#xff08;view&#xff09;&#x3002;`ArrayBuffer`&#x6709;&#x4e24;&#x79cd;&#x89c6;&#x56fe;&#xff0c;&#x4e00;&#x79cd;&#x662f;`TypedArray`&#x89c6;&#x56fe;&#xff0c;&#x53e6;&#x4e00;&#x79cd;&#x662f;`DataView`&#x89c6;&#x56fe;&#x3002;&#x524d;&#x8005;&#x7684;&#x6570;&#x7ec4;&#x6210;&#x5458;&#x90fd;&#x662f;&#x540c;&#x4e00;&#x4e2a;&#x6570;&#x636e;&#x7c7b;&#x578b;&#xff0c;&#x540e;&#x8005;&#x7684;&#x6570;&#x7ec4;&#x6210;&#x5458;&#x53ef;&#x4ee5;&#x662f;&#x4e0d;&#x540c;&#x7684;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x3002;\n\n&#x76ee;&#x524d;&#xff0c;`TypedArray`&#x89c6;&#x56fe;&#x4e00;&#x5171;&#x5305;&#x62ec; 9 &#x79cd;&#x7c7b;&#x578b;&#xff0c;&#x6bcf;&#x4e00;&#x79cd;&#x89c6;&#x56fe;&#x90fd;&#x662f;&#x4e00;&#x79cd;&#x6784;&#x9020;&#x51fd;&#x6570;&#x3002;\n\n*   **`Int8Array`**&#xff1a;8 &#x4f4d;&#x6709;&#x7b26;&#x53f7;&#x6574;&#x6570;&#xff0c;&#x957f;&#x5ea6; 1 &#x4e2a;&#x5b57;&#x8282;&#x3002;\n*   **`Uint8Array`**&#xff1a;8 &#x4f4d;&#x65e0;&#x7b26;&#x53f7;&#x6574;&#x6570;&#xff0c;&#x957f;&#x5ea6; 1 &#x4e2a;&#x5b57;&#x8282;&#x3002;\n*   **`Uint8ClampedArray`**&#xff1a;8 &#x4f4d;&#x65e0;&#x7b26;&#x53f7;&#x6574;&#x6570;&#xff0c;&#x957f;&#x5ea6; 1 &#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x6ea2;&#x51fa;&#x5904;&#x7406;&#x4e0d;&#x540c;&#x3002;\n*   **`Int16Array`**&#xff1a;16 &#x4f4d;&#x6709;&#x7b26;&#x53f7;&#x6574;&#x6570;&#xff0c;&#x957f;&#x5ea6; 2 &#x4e2a;&#x5b57;&#x8282;&#x3002;\n*   **`Uint16Array`**&#xff1a;16 &#x4f4d;&#x65e0;&#x7b26;&#x53f7;&#x6574;&#x6570;&#xff0c;&#x957f;&#x5ea6; 2 &#x4e2a;&#x5b57;&#x8282;&#x3002;\n*   **`Int32Array`**&#xff1a;32 &#x4f4d;&#x6709;&#x7b26;&#x53f7;&#x6574;&#x6570;&#xff0c;&#x957f;&#x5ea6; 4 &#x4e2a;&#x5b57;&#x8282;&#x3002;\n*   **`Uint32Array`**&#xff1a;32 &#x4f4d;&#x65e0;&#x7b26;&#x53f7;&#x6574;&#x6570;&#xff0c;&#x957f;&#x5ea6; 4 &#x4e2a;&#x5b57;&#x8282;&#x3002;\n*   **`Float32Array`**&#xff1a;32 &#x4f4d;&#x6d6e;&#x70b9;&#x6570;&#xff0c;&#x957f;&#x5ea6; 4 &#x4e2a;&#x5b57;&#x8282;&#x3002;\n*   **`Float64Array`**&#xff1a;64 &#x4f4d;&#x6d6e;&#x70b9;&#x6570;&#xff0c;&#x957f;&#x5ea6; 8 &#x4e2a;&#x5b57;&#x8282;&#x3002;\n\n&#x8fd9; 9 &#x4e2a;&#x6784;&#x9020;&#x51fd;&#x6570;&#x751f;&#x6210;&#x7684;&#x6570;&#x7ec4;&#xff0c;&#x7edf;&#x79f0;&#x4e3a;`TypedArray`&#x89c6;&#x56fe;&#x3002;&#x5b83;&#x4eec;&#x5f88;&#x50cf;&#x666e;&#x901a;&#x6570;&#x7ec4;&#xff0c;&#x90fd;&#x6709;`length`&#x5c5e;&#x6027;&#xff0c;&#x90fd;&#x80fd;&#x7528;&#x65b9;&#x62ec;&#x53f7;&#x8fd0;&#x7b97;&#x7b26;&#xff08;`[]`&#xff09;&#x83b7;&#x53d6;&#x5355;&#x4e2a;&#x5143;&#x7d20;&#xff0c;&#x6240;&#x6709;&#x6570;&#x7ec4;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x5728;&#x5b83;&#x4eec;&#x4e0a;&#x9762;&#x90fd;&#x80fd;&#x4f7f;&#x7528;&#x3002;&#x666e;&#x901a;&#x6570;&#x7ec4;&#x4e0e; TypedArray &#x6570;&#x7ec4;&#x7684;&#x5dee;&#x5f02;&#x4e3b;&#x8981;&#x5728;&#x4ee5;&#x4e0b;&#x65b9;&#x9762;&#x3002;\n\n*   TypedArray &#x6570;&#x7ec4;&#x7684;&#x6240;&#x6709;&#x6210;&#x5458;&#xff0c;&#x90fd;&#x662f;&#x540c;&#x4e00;&#x79cd;&#x7c7b;&#x578b;&#x3002;\n*   TypedArray &#x6570;&#x7ec4;&#x7684;&#x6210;&#x5458;&#x662f;&#x8fde;&#x7eed;&#x7684;&#xff0c;&#x4e0d;&#x4f1a;&#x6709;&#x7a7a;&#x4f4d;&#x3002;\n*   TypedArray &#x6570;&#x7ec4;&#x6210;&#x5458;&#x7684;&#x9ed8;&#x8ba4;&#x503c;&#x4e3a; 0&#x3002;&#x6bd4;&#x5982;&#xff0c;`new Array(10)`&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x666e;&#x901a;&#x6570;&#x7ec4;&#xff0c;&#x91cc;&#x9762;&#x6ca1;&#x6709;&#x4efb;&#x4f55;&#x6210;&#x5458;&#xff0c;&#x53ea;&#x662f; 10 &#x4e2a;&#x7a7a;&#x4f4d;&#xff1b;`new Uint8Array(10)`&#x8fd4;&#x56de;&#x4e00;&#x4e2a; TypedArray &#x6570;&#x7ec4;&#xff0c;&#x91cc;&#x9762; 10 &#x4e2a;&#x6210;&#x5458;&#x90fd;&#x662f; 0&#x3002;\n*   TypedArray &#x6570;&#x7ec4;&#x53ea;&#x662f;&#x4e00;&#x5c42;&#x89c6;&#x56fe;&#xff0c;&#x672c;&#x8eab;&#x4e0d;&#x50a8;&#x5b58;&#x6570;&#x636e;&#xff0c;&#x5b83;&#x7684;&#x6570;&#x636e;&#x90fd;&#x50a8;&#x5b58;&#x5728;&#x5e95;&#x5c42;&#x7684;`ArrayBuffer`&#x5bf9;&#x8c61;&#x4e4b;&#x4e2d;&#xff0c;&#x8981;&#x83b7;&#x53d6;&#x5e95;&#x5c42;&#x5bf9;&#x8c61;&#x5fc5;&#x987b;&#x4f7f;&#x7528;`buffer`&#x5c5e;&#x6027;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"152,172"}}],"payload":{"tag":"h3","lines":"150,151"}},{"content":"&#x6784;&#x9020;&#x51fd;&#x6570;","children":[{"content":"<pre data-lines=\"175,182\"><code>TypedArray &#x6570;&#x7ec4;&#x63d0;&#x4f9b; 9 &#x79cd;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x7528;&#x6765;&#x751f;&#x6210;&#x76f8;&#x5e94;&#x7c7b;&#x578b;&#x7684;&#x6570;&#x7ec4;&#x5b9e;&#x4f8b;&#x3002;\n\n&#x6784;&#x9020;&#x51fd;&#x6570;&#x6709;&#x591a;&#x79cd;&#x7528;&#x6cd5;&#x3002;\n\n**&#xff08;1&#xff09;TypedArray(buffer, byteOffset=0, length?)**\n\n&#x540c;&#x4e00;&#x4e2a;`ArrayBuffer`&#x5bf9;&#x8c61;&#x4e4b;&#x4e0a;&#xff0c;&#x53ef;&#x4ee5;&#x6839;&#x636e;&#x4e0d;&#x540c;&#x7684;&#x6570;&#x636e;&#x7c7b;&#x578b;&#xff0c;&#x5efa;&#x7acb;&#x591a;&#x4e2a;&#x89c6;&#x56fe;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"175,182"}},{"content":"<pre data-lines=\"183,189\"><code data-lines=\"183,189\"><span class=\"hljs-keyword\">const</span> b = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ArrayBuffer</span>(<span class=\"hljs-number\">8</span>);\n<span class=\"hljs-keyword\">const</span> v1 = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Int32Array</span>(b);\n<span class=\"hljs-keyword\">const</span> v2 = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Uint8Array</span>(b, <span class=\"hljs-number\">2</span>);\n<span class=\"hljs-keyword\">const</span> v3 = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Int16Array</span>(b, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">2</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"183,189"}},{"content":"<pre data-lines=\"190,201\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5728;&#x4e00;&#x6bb5;&#x957f;&#x5ea6;&#x4e3a; 8 &#x4e2a;&#x5b57;&#x8282;&#x7684;&#x5185;&#x5b58;&#xff08;`b`&#xff09;&#x4e4b;&#x4e0a;&#xff0c;&#x751f;&#x6210;&#x4e86;&#x4e09;&#x4e2a;&#x89c6;&#x56fe;&#xff1a;`v1`&#x3001;`v2`&#x548c;`v3`&#x3002;\n\n&#x89c6;&#x56fe;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#xff1a;\n\n*   &#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#xff08;&#x5fc5;&#x9700;&#xff09;&#xff1a;&#x89c6;&#x56fe;&#x5bf9;&#x5e94;&#x7684;&#x5e95;&#x5c42;`ArrayBuffer`&#x5bf9;&#x8c61;&#x3002;\n*   &#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#xff08;&#x53ef;&#x9009;&#xff09;&#xff1a;&#x89c6;&#x56fe;&#x5f00;&#x59cb;&#x7684;&#x5b57;&#x8282;&#x5e8f;&#x53f7;&#xff0c;&#x9ed8;&#x8ba4;&#x4ece; 0 &#x5f00;&#x59cb;&#x3002;\n*   &#x7b2c;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#xff08;&#x53ef;&#x9009;&#xff09;&#xff1a;&#x89c6;&#x56fe;&#x5305;&#x542b;&#x7684;&#x6570;&#x636e;&#x4e2a;&#x6570;&#xff0c;&#x9ed8;&#x8ba4;&#x76f4;&#x5230;&#x672c;&#x6bb5;&#x5185;&#x5b58;&#x533a;&#x57df;&#x7ed3;&#x675f;&#x3002;\n\n&#x56e0;&#x6b64;&#xff0c;`v1`&#x3001;`v2`&#x548c;`v3`&#x662f;&#x91cd;&#x53e0;&#x7684;&#xff1a;`v1[0]`&#x662f;&#x4e00;&#x4e2a; 32 &#x4f4d;&#x6574;&#x6570;&#xff0c;&#x6307;&#x5411;&#x5b57;&#x8282; 0 &#xff5e;&#x5b57;&#x8282; 3&#xff1b;`v2[0]`&#x662f;&#x4e00;&#x4e2a; 8 &#x4f4d;&#x65e0;&#x7b26;&#x53f7;&#x6574;&#x6570;&#xff0c;&#x6307;&#x5411;&#x5b57;&#x8282; 2&#xff1b;`v3[0]`&#x662f;&#x4e00;&#x4e2a; 16 &#x4f4d;&#x6574;&#x6570;&#xff0c;&#x6307;&#x5411;&#x5b57;&#x8282; 2 &#xff5e;&#x5b57;&#x8282; 3&#x3002;&#x53ea;&#x8981;&#x4efb;&#x4f55;&#x4e00;&#x4e2a;&#x89c6;&#x56fe;&#x5bf9;&#x5185;&#x5b58;&#x6709;&#x6240;&#x4fee;&#x6539;&#xff0c;&#x5c31;&#x4f1a;&#x5728;&#x53e6;&#x5916;&#x4e24;&#x4e2a;&#x89c6;&#x56fe;&#x4e0a;&#x53cd;&#x5e94;&#x51fa;&#x6765;&#x3002;\n\n&#x6ce8;&#x610f;&#xff0c;`byteOffset`&#x5fc5;&#x987b;&#x4e0e;&#x6240;&#x8981;&#x5efa;&#x7acb;&#x7684;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x4e00;&#x81f4;&#xff0c;&#x5426;&#x5219;&#x4f1a;&#x62a5;&#x9519;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"190,201"}},{"content":"<pre data-lines=\"202,206\"><code data-lines=\"202,206\"><span class=\"hljs-type\">const</span> buffer = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">ArrayBuffer</span>(<span class=\"hljs-number\">8</span>);\n<span class=\"hljs-type\">const</span> i16 = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">Int16Array</span>(buffer, <span class=\"hljs-number\">1</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"202,206"}},{"content":"<pre data-lines=\"207,214\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x65b0;&#x751f;&#x6210;&#x4e00;&#x4e2a; 8 &#x4e2a;&#x5b57;&#x8282;&#x7684;`ArrayBuffer`&#x5bf9;&#x8c61;&#xff0c;&#x7136;&#x540e;&#x5728;&#x8fd9;&#x4e2a;&#x5bf9;&#x8c61;&#x7684;&#x7b2c;&#x4e00;&#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x5efa;&#x7acb;&#x5e26;&#x7b26;&#x53f7;&#x7684; 16 &#x4f4d;&#x6574;&#x6570;&#x89c6;&#x56fe;&#xff0c;&#x7ed3;&#x679c;&#x62a5;&#x9519;&#x3002;&#x56e0;&#x4e3a;&#xff0c;&#x5e26;&#x7b26;&#x53f7;&#x7684; 16 &#x4f4d;&#x6574;&#x6570;&#x9700;&#x8981;&#x4e24;&#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x6240;&#x4ee5;`byteOffset`&#x53c2;&#x6570;&#x5fc5;&#x987b;&#x80fd;&#x591f;&#x88ab; 2 &#x6574;&#x9664;&#x3002;\n\n&#x5982;&#x679c;&#x60f3;&#x4ece;&#x4efb;&#x610f;&#x5b57;&#x8282;&#x5f00;&#x59cb;&#x89e3;&#x8bfb;`ArrayBuffer`&#x5bf9;&#x8c61;&#xff0c;&#x5fc5;&#x987b;&#x4f7f;&#x7528;`DataView`&#x89c6;&#x56fe;&#xff0c;&#x56e0;&#x4e3a;`TypedArray`&#x89c6;&#x56fe;&#x53ea;&#x63d0;&#x4f9b; 9 &#x79cd;&#x56fa;&#x5b9a;&#x7684;&#x89e3;&#x8bfb;&#x683c;&#x5f0f;&#x3002;\n\n**&#xff08;2&#xff09;TypedArray(length)**\n\n&#x89c6;&#x56fe;&#x8fd8;&#x53ef;&#x4ee5;&#x4e0d;&#x901a;&#x8fc7;`ArrayBuffer`&#x5bf9;&#x8c61;&#xff0c;&#x76f4;&#x63a5;&#x5206;&#x914d;&#x5185;&#x5b58;&#x800c;&#x751f;&#x6210;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"207,214"}},{"content":"<pre data-lines=\"215,221\"><code data-lines=\"215,221\"><span class=\"hljs-attribute\">const</span> f64a = new Float64Array(<span class=\"hljs-number\">8</span>);\n<span class=\"hljs-attribute\">f64a</span>[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">10</span>;\n<span class=\"hljs-attribute\">f64a</span>[<span class=\"hljs-number\">1</span>] = <span class=\"hljs-number\">20</span>;\n<span class=\"hljs-attribute\">f64a</span>[<span class=\"hljs-number\">2</span>] = f64a[<span class=\"hljs-number\">0</span>] + f64a[<span class=\"hljs-number\">1</span>]; \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"215,221"}},{"content":"<pre data-lines=\"222,227\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x751f;&#x6210;&#x4e00;&#x4e2a; 8 &#x4e2a;&#x6210;&#x5458;&#x7684;`Float64Array`&#x6570;&#x7ec4;&#xff08;&#x5171; 64 &#x5b57;&#x8282;&#xff09;&#xff0c;&#x7136;&#x540e;&#x4f9d;&#x6b21;&#x5bf9;&#x6bcf;&#x4e2a;&#x6210;&#x5458;&#x8d4b;&#x503c;&#x3002;&#x8fd9;&#x65f6;&#xff0c;&#x89c6;&#x56fe;&#x6784;&#x9020;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;&#x5c31;&#x662f;&#x6210;&#x5458;&#x7684;&#x4e2a;&#x6570;&#x3002;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#xff0c;&#x89c6;&#x56fe;&#x6570;&#x7ec4;&#x7684;&#x8d4b;&#x503c;&#x64cd;&#x4f5c;&#x4e0e;&#x666e;&#x901a;&#x6570;&#x7ec4;&#x7684;&#x64cd;&#x4f5c;&#x6beb;&#x65e0;&#x4e24;&#x6837;&#x3002;\n\n**&#xff08;3&#xff09;TypedArray(typedArray)**\n\nTypedArray &#x6570;&#x7ec4;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#x53e6;&#x4e00;&#x4e2a;`TypedArray`&#x5b9e;&#x4f8b;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"222,227"}},{"content":"<pre data-lines=\"228,231\"><code data-lines=\"228,231\"><span class=\"hljs-keyword\">const</span> typedArray = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Int8Array</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Uint8Array</span>(<span class=\"hljs-number\">4</span>)); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"228,231"}},{"content":"<pre data-lines=\"232,235\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`Int8Array`&#x6784;&#x9020;&#x51fd;&#x6570;&#x63a5;&#x53d7;&#x4e00;&#x4e2a;`Uint8Array`&#x5b9e;&#x4f8b;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#x3002;\n\n&#x6ce8;&#x610f;&#xff0c;&#x6b64;&#x65f6;&#x751f;&#x6210;&#x7684;&#x65b0;&#x6570;&#x7ec4;&#xff0c;&#x53ea;&#x662f;&#x590d;&#x5236;&#x4e86;&#x53c2;&#x6570;&#x6570;&#x7ec4;&#x7684;&#x503c;&#xff0c;&#x5bf9;&#x5e94;&#x7684;&#x5e95;&#x5c42;&#x5185;&#x5b58;&#x662f;&#x4e0d;&#x4e00;&#x6837;&#x7684;&#x3002;&#x65b0;&#x6570;&#x7ec4;&#x4f1a;&#x5f00;&#x8f9f;&#x4e00;&#x6bb5;&#x65b0;&#x7684;&#x5185;&#x5b58;&#x50a8;&#x5b58;&#x6570;&#x636e;&#xff0c;&#x4e0d;&#x4f1a;&#x5728;&#x539f;&#x6570;&#x7ec4;&#x7684;&#x5185;&#x5b58;&#x4e4b;&#x4e0a;&#x5efa;&#x7acb;&#x89c6;&#x56fe;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"232,235"}},{"content":"<pre data-lines=\"236,243\"><code data-lines=\"236,243\">const <span class=\"hljs-variable language_\">x</span> = <span class=\"hljs-keyword\">new</span> Int8Array([<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">1</span>]);\nconst <span class=\"hljs-variable language_\">y</span> = <span class=\"hljs-keyword\">new</span> Int8Array(<span class=\"hljs-variable language_\">x</span>);\n<span class=\"hljs-variable language_\">x</span>[<span class=\"hljs-number\">0</span>]<span class=\"hljs-variable language_\">y</span>[<span class=\"hljs-number\">0</span>]\n<span class=\"hljs-variable language_\">x</span>[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">2</span>;\n<span class=\"hljs-variable language_\">y</span>[<span class=\"hljs-number\">0</span>]\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"236,243"}},{"content":"<pre data-lines=\"244,247\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x6570;&#x7ec4;`y`&#x662f;&#x4ee5;&#x6570;&#x7ec4;`x`&#x4e3a;&#x6a21;&#x677f;&#x800c;&#x751f;&#x6210;&#x7684;&#xff0c;&#x5f53;`x`&#x53d8;&#x52a8;&#x7684;&#x65f6;&#x5019;&#xff0c;`y`&#x5e76;&#x6ca1;&#x6709;&#x53d8;&#x52a8;&#x3002;\n\n&#x5982;&#x679c;&#x60f3;&#x57fa;&#x4e8e;&#x540c;&#x4e00;&#x6bb5;&#x5185;&#x5b58;&#xff0c;&#x6784;&#x9020;&#x4e0d;&#x540c;&#x7684;&#x89c6;&#x56fe;&#xff0c;&#x53ef;&#x4ee5;&#x91c7;&#x7528;&#x4e0b;&#x9762;&#x7684;&#x5199;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"244,247"}},{"content":"<pre data-lines=\"248,255\"><code data-lines=\"248,255\">const <span class=\"hljs-variable language_\">x</span> = <span class=\"hljs-keyword\">new</span> Int8Array([<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">1</span>]);\nconst <span class=\"hljs-variable language_\">y</span> = <span class=\"hljs-keyword\">new</span> Int8Array(<span class=\"hljs-variable language_\">x</span>.buffer);\n<span class=\"hljs-variable language_\">x</span>[<span class=\"hljs-number\">0</span>]<span class=\"hljs-variable language_\">y</span>[<span class=\"hljs-number\">0</span>]\n<span class=\"hljs-variable language_\">x</span>[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">2</span>;\n<span class=\"hljs-variable language_\">y</span>[<span class=\"hljs-number\">0</span>]\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"248,255"}},{"content":"<pre data-lines=\"256,259\"><code>**&#xff08;4&#xff09;TypedArray(arrayLikeObject)**\n\n&#x6784;&#x9020;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;&#x4e5f;&#x53ef;&#x4ee5;&#x662f;&#x4e00;&#x4e2a;&#x666e;&#x901a;&#x6570;&#x7ec4;&#xff0c;&#x7136;&#x540e;&#x76f4;&#x63a5;&#x751f;&#x6210;`TypedArray`&#x5b9e;&#x4f8b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"256,259"}},{"content":"<pre data-lines=\"260,263\"><code data-lines=\"260,263\"><span class=\"hljs-attribute\">const</span> typedArray = new Uint8Array([<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>]); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"260,263"}},{"content":"<pre data-lines=\"264,269\"><code>&#x6ce8;&#x610f;&#xff0c;&#x8fd9;&#x65f6;`TypedArray`&#x89c6;&#x56fe;&#x4f1a;&#x91cd;&#x65b0;&#x5f00;&#x8f9f;&#x5185;&#x5b58;&#xff0c;&#x4e0d;&#x4f1a;&#x5728;&#x539f;&#x6570;&#x7ec4;&#x7684;&#x5185;&#x5b58;&#x4e0a;&#x5efa;&#x7acb;&#x89c6;&#x56fe;&#x3002;\n\n&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4ece;&#x4e00;&#x4e2a;&#x666e;&#x901a;&#x7684;&#x6570;&#x7ec4;&#xff0c;&#x751f;&#x6210;&#x4e00;&#x4e2a; 8 &#x4f4d;&#x65e0;&#x7b26;&#x53f7;&#x6574;&#x6570;&#x7684;`TypedArray`&#x5b9e;&#x4f8b;&#x3002;\n\nTypedArray &#x6570;&#x7ec4;&#x4e5f;&#x53ef;&#x4ee5;&#x8f6c;&#x6362;&#x56de;&#x666e;&#x901a;&#x6570;&#x7ec4;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"264,269"}},{"content":"<pre data-lines=\"270,273\"><code data-lines=\"270,273\"><span class=\"hljs-keyword\">const</span> normalArray = [...typedArray];<span class=\"hljs-keyword\">const</span> normalArray = <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">from</span>(typedArray);<span class=\"hljs-keyword\">const</span> normalArray = <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">slice</span>.<span class=\"hljs-title function_\">call</span>(typedArray); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"270,273"}}],"payload":{"tag":"h3","lines":"173,174"}},{"content":"&#x6570;&#x7ec4;&#x65b9;&#x6cd5;","children":[{"content":"<pre data-lines=\"276,304\"><code>&#x666e;&#x901a;&#x6570;&#x7ec4;&#x7684;&#x64cd;&#x4f5c;&#x65b9;&#x6cd5;&#x548c;&#x5c5e;&#x6027;&#xff0c;&#x5bf9; TypedArray &#x6570;&#x7ec4;&#x5b8c;&#x5168;&#x9002;&#x7528;&#x3002;\n\n*   `TypedArray.prototype.copyWithin(target, start[, end = this.length])`\n*   `TypedArray.prototype.entries()`\n*   `TypedArray.prototype.every(callbackfn, thisArg?)`\n*   `TypedArray.prototype.fill(value, start=0, end=this.length)`\n*   `TypedArray.prototype.filter(callbackfn, thisArg?)`\n*   `TypedArray.prototype.find(predicate, thisArg?)`\n*   `TypedArray.prototype.findIndex(predicate, thisArg?)`\n*   `TypedArray.prototype.forEach(callbackfn, thisArg?)`\n*   `TypedArray.prototype.indexOf(searchElement, fromIndex=0)`\n*   `TypedArray.prototype.join(separator)`\n*   `TypedArray.prototype.keys()`\n*   `TypedArray.prototype.lastIndexOf(searchElement, fromIndex?)`\n*   `TypedArray.prototype.map(callbackfn, thisArg?)`\n*   `TypedArray.prototype.reduce(callbackfn, initialValue?)`\n*   `TypedArray.prototype.reduceRight(callbackfn, initialValue?)`\n*   `TypedArray.prototype.reverse()`\n*   `TypedArray.prototype.slice(start=0, end=this.length)`\n*   `TypedArray.prototype.some(callbackfn, thisArg?)`\n*   `TypedArray.prototype.sort(comparefn)`\n*   `TypedArray.prototype.toLocaleString(reserved1?, reserved2?)`\n*   `TypedArray.prototype.toString()`\n*   `TypedArray.prototype.values()`\n\n&#x4e0a;&#x9762;&#x6240;&#x6709;&#x65b9;&#x6cd5;&#x7684;&#x7528;&#x6cd5;&#xff0c;&#x8bf7;&#x53c2;&#x9605;&#x6570;&#x7ec4;&#x65b9;&#x6cd5;&#x7684;&#x4ecb;&#x7ecd;&#xff0c;&#x8fd9;&#x91cc;&#x4e0d;&#x518d;&#x91cd;&#x590d;&#x4e86;&#x3002;\n\n&#x6ce8;&#x610f;&#xff0c;TypedArray &#x6570;&#x7ec4;&#x6ca1;&#x6709;`concat`&#x65b9;&#x6cd5;&#x3002;&#x5982;&#x679c;&#x60f3;&#x8981;&#x5408;&#x5e76;&#x591a;&#x4e2a; TypedArray &#x6570;&#x7ec4;&#xff0c;&#x53ef;&#x4ee5;&#x7528;&#x4e0b;&#x9762;&#x8fd9;&#x4e2a;&#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"276,304"}},{"content":"<pre data-lines=\"305,322\"><code data-lines=\"305,322\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">concatenate</span><span class=\"hljs-params\">(resultConstructor, <span class=\"hljs-rest_arg\">...arrays</span>)</span> {\n  let totalLength = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">for</span> (let arr of arrays) {\n    totalLength += arr.length;\n  }\n  let result = <span class=\"hljs-keyword\">new</span> resultConstructor(totalLength);\n  let offset = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">for</span> (let arr of arrays) {\n    result.set(arr, offset);\n    offset += arr.length;\n  }\n  <span class=\"hljs-keyword\">return</span> result;\n}\n\nconcatenate(Uint8Array, Uint8Array.of(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>), Uint8Array.of(<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>))\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"305,322"}},{"content":"<pre data-lines=\"323,324\"><code>&#x53e6;&#x5916;&#xff0c;TypedArray &#x6570;&#x7ec4;&#x4e0e;&#x666e;&#x901a;&#x6570;&#x7ec4;&#x4e00;&#x6837;&#xff0c;&#x90e8;&#x7f72;&#x4e86; Iterator &#x63a5;&#x53e3;&#xff0c;&#x6240;&#x4ee5;&#x53ef;&#x4ee5;&#x88ab;&#x904d;&#x5386;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"323,324"}},{"content":"<pre data-lines=\"325,331\"><code data-lines=\"325,331\"><span class=\"hljs-keyword\">let</span> ui8 = Uint8Array.of(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>);\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> <span class=\"hljs-built_in\">byte</span> of ui8) {\n  console.log(<span class=\"hljs-built_in\">byte</span>);\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"325,331"}}],"payload":{"tag":"h3","lines":"274,275"}},{"content":"&#x5b57;&#x8282;&#x5e8f;","children":[{"content":"<pre data-lines=\"334,335\"><code>&#x5b57;&#x8282;&#x5e8f;&#x6307;&#x7684;&#x662f;&#x6570;&#x503c;&#x5728;&#x5185;&#x5b58;&#x4e2d;&#x7684;&#x8868;&#x793a;&#x65b9;&#x5f0f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"334,335"}},{"content":"<pre data-lines=\"336,344\"><code data-lines=\"336,344\">const buffer <span class=\"hljs-operator\">=</span> new ArrayBuffer(<span class=\"hljs-number\">16</span>)<span class=\"hljs-comment\">;</span>\nconst int32View <span class=\"hljs-operator\">=</span> new Int32Array(buffer)<span class=\"hljs-comment\">;</span>\n\nfor (let i <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span><span class=\"hljs-comment\">; i &lt; int32View.length; i++) {</span>\n  int32View[i] <span class=\"hljs-operator\">=</span> i * <span class=\"hljs-number\">2</span><span class=\"hljs-comment\">;</span>\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"336,344"}},{"content":"<pre data-lines=\"345,348\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x751f;&#x6210;&#x4e00;&#x4e2a; 16 &#x5b57;&#x8282;&#x7684;`ArrayBuffer`&#x5bf9;&#x8c61;&#xff0c;&#x7136;&#x540e;&#x5728;&#x5b83;&#x7684;&#x57fa;&#x7840;&#x4e0a;&#xff0c;&#x5efa;&#x7acb;&#x4e86;&#x4e00;&#x4e2a; 32 &#x4f4d;&#x6574;&#x6570;&#x7684;&#x89c6;&#x56fe;&#x3002;&#x7531;&#x4e8e;&#x6bcf;&#x4e2a; 32 &#x4f4d;&#x6574;&#x6570;&#x5360;&#x636e; 4 &#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x6240;&#x4ee5;&#x4e00;&#x5171;&#x53ef;&#x4ee5;&#x5199;&#x5165; 4 &#x4e2a;&#x6574;&#x6570;&#xff0c;&#x4f9d;&#x6b21;&#x4e3a; 0&#xff0c;2&#xff0c;4&#xff0c;6&#x3002;\n\n&#x5982;&#x679c;&#x5728;&#x8fd9;&#x6bb5;&#x6570;&#x636e;&#x4e0a;&#x63a5;&#x7740;&#x5efa;&#x7acb;&#x4e00;&#x4e2a; 16 &#x4f4d;&#x6574;&#x6570;&#x7684;&#x89c6;&#x56fe;&#xff0c;&#x5219;&#x53ef;&#x4ee5;&#x8bfb;&#x51fa;&#x5b8c;&#x5168;&#x4e0d;&#x4e00;&#x6837;&#x7684;&#x7ed3;&#x679c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"345,348"}},{"content":"<pre data-lines=\"349,356\"><code data-lines=\"349,356\">const int16View = <span class=\"hljs-keyword\">new</span> Int16Array(<span class=\"hljs-built_in\">buffer</span>);\n\n<span class=\"hljs-keyword\">for</span> (let i = <span class=\"hljs-number\">0</span>; i &lt; int16View.<span class=\"hljs-built_in\">length</span>; i++) {\n  <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(<span class=\"hljs-string\">&quot;Entry &quot;</span> + i + <span class=\"hljs-string\">&quot;: &quot;</span> + int16View[i]);\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"349,356"}},{"content":"<pre data-lines=\"357,364\"><code>&#x7531;&#x4e8e;&#x6bcf;&#x4e2a; 16 &#x4f4d;&#x6574;&#x6570;&#x5360;&#x636e; 2 &#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x6240;&#x4ee5;&#x6574;&#x4e2a;`ArrayBuffer`&#x5bf9;&#x8c61;&#x73b0;&#x5728;&#x5206;&#x6210; 8 &#x6bb5;&#x3002;&#x7136;&#x540e;&#xff0c;&#x7531;&#x4e8e; x86 &#x4f53;&#x7cfb;&#x7684;&#x8ba1;&#x7b97;&#x673a;&#x90fd;&#x91c7;&#x7528;&#x5c0f;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#xff08;little endian&#xff09;&#xff0c;&#x76f8;&#x5bf9;&#x91cd;&#x8981;&#x7684;&#x5b57;&#x8282;&#x6392;&#x5728;&#x540e;&#x9762;&#x7684;&#x5185;&#x5b58;&#x5730;&#x5740;&#xff0c;&#x76f8;&#x5bf9;&#x4e0d;&#x91cd;&#x8981;&#x5b57;&#x8282;&#x6392;&#x5728;&#x524d;&#x9762;&#x7684;&#x5185;&#x5b58;&#x5730;&#x5740;&#xff0c;&#x6240;&#x4ee5;&#x5c31;&#x5f97;&#x5230;&#x4e86;&#x4e0a;&#x9762;&#x7684;&#x7ed3;&#x679c;&#x3002;\n\n&#x6bd4;&#x5982;&#xff0c;&#x4e00;&#x4e2a;&#x5360;&#x636e;&#x56db;&#x4e2a;&#x5b57;&#x8282;&#x7684; 16 &#x8fdb;&#x5236;&#x6570;`0x12345678`&#xff0c;&#x51b3;&#x5b9a;&#x5176;&#x5927;&#x5c0f;&#x7684;&#x6700;&#x91cd;&#x8981;&#x7684;&#x5b57;&#x8282;&#x662f;&#x201c;12&#x201d;&#xff0c;&#x6700;&#x4e0d;&#x91cd;&#x8981;&#x7684;&#x662f;&#x201c;78&#x201d;&#x3002;&#x5c0f;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x5c06;&#x6700;&#x4e0d;&#x91cd;&#x8981;&#x7684;&#x5b57;&#x8282;&#x6392;&#x5728;&#x524d;&#x9762;&#xff0c;&#x50a8;&#x5b58;&#x987a;&#x5e8f;&#x5c31;&#x662f;`78563412`&#xff1b;&#x5927;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x5219;&#x5b8c;&#x5168;&#x76f8;&#x53cd;&#xff0c;&#x5c06;&#x6700;&#x91cd;&#x8981;&#x7684;&#x5b57;&#x8282;&#x6392;&#x5728;&#x524d;&#x9762;&#xff0c;&#x50a8;&#x5b58;&#x987a;&#x5e8f;&#x5c31;&#x662f;`12345678`&#x3002;&#x76ee;&#x524d;&#xff0c;&#x6240;&#x6709;&#x4e2a;&#x4eba;&#x7535;&#x8111;&#x51e0;&#x4e4e;&#x90fd;&#x662f;&#x5c0f;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#xff0c;&#x6240;&#x4ee5; TypedArray &#x6570;&#x7ec4;&#x5185;&#x90e8;&#x4e5f;&#x91c7;&#x7528;&#x5c0f;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x8bfb;&#x5199;&#x6570;&#x636e;&#xff0c;&#x6216;&#x8005;&#x66f4;&#x51c6;&#x786e;&#x7684;&#x8bf4;&#xff0c;&#x6309;&#x7167;&#x672c;&#x673a;&#x64cd;&#x4f5c;&#x7cfb;&#x7edf;&#x8bbe;&#x5b9a;&#x7684;&#x5b57;&#x8282;&#x5e8f;&#x8bfb;&#x5199;&#x6570;&#x636e;&#x3002;\n\n&#x8fd9;&#x5e76;&#x4e0d;&#x610f;&#x5473;&#x5927;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x4e0d;&#x91cd;&#x8981;&#xff0c;&#x4e8b;&#x5b9e;&#x4e0a;&#xff0c;&#x5f88;&#x591a;&#x7f51;&#x7edc;&#x8bbe;&#x5907;&#x548c;&#x7279;&#x5b9a;&#x7684;&#x64cd;&#x4f5c;&#x7cfb;&#x7edf;&#x91c7;&#x7528;&#x7684;&#x662f;&#x5927;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x3002;&#x8fd9;&#x5c31;&#x5e26;&#x6765;&#x4e00;&#x4e2a;&#x4e25;&#x91cd;&#x7684;&#x95ee;&#x9898;&#xff1a;&#x5982;&#x679c;&#x4e00;&#x6bb5;&#x6570;&#x636e;&#x662f;&#x5927;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#xff0c;TypedArray &#x6570;&#x7ec4;&#x5c06;&#x65e0;&#x6cd5;&#x6b63;&#x786e;&#x89e3;&#x6790;&#xff0c;&#x56e0;&#x4e3a;&#x5b83;&#x53ea;&#x80fd;&#x5904;&#x7406;&#x5c0f;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#xff01;&#x4e3a;&#x4e86;&#x89e3;&#x51b3;&#x8fd9;&#x4e2a;&#x95ee;&#x9898;&#xff0c;JavaScript &#x5f15;&#x5165;`DataView`&#x5bf9;&#x8c61;&#xff0c;&#x53ef;&#x4ee5;&#x8bbe;&#x5b9a;&#x5b57;&#x8282;&#x5e8f;&#xff0c;&#x4e0b;&#x6587;&#x4f1a;&#x8be6;&#x7ec6;&#x4ecb;&#x7ecd;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x53e6;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"357,364"}},{"content":"<pre data-lines=\"365,378\"><code data-lines=\"365,378\"><span class=\"hljs-attribute\">const</span> buffer = new ArrayBuffer(<span class=\"hljs-number\">4</span>);\n<span class=\"hljs-attribute\">const</span> v1 = new Uint8Array(buffer);\n<span class=\"hljs-attribute\">v1</span>[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">2</span>;\n<span class=\"hljs-attribute\">v1</span>[<span class=\"hljs-number\">1</span>] = <span class=\"hljs-number\">1</span>;\n<span class=\"hljs-attribute\">v1</span>[<span class=\"hljs-number\">2</span>] = <span class=\"hljs-number\">3</span>;\n<span class=\"hljs-attribute\">v1</span>[<span class=\"hljs-number\">3</span>] = <span class=\"hljs-number\">7</span>;\n\n<span class=\"hljs-attribute\">const</span> uInt16View = new Uint16Array(buffer);\n<span class=\"hljs-attribute\">if</span> (uInt16View[<span class=\"hljs-number\">0</span>] === <span class=\"hljs-number\">258</span>) {\n  <span class=\"hljs-attribute\">console</span>.log(&apos;OK&apos;);}\n<span class=\"hljs-attribute\">uInt16View</span>[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">255</span>;   uInt16View[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">0</span>xff05;uInt16View[<span class=\"hljs-number\">1</span>] = <span class=\"hljs-number\">0</span>x0210;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"365,378"}},{"content":"<pre data-lines=\"379,380\"><code>&#x4e0b;&#x9762;&#x7684;&#x51fd;&#x6570;&#x53ef;&#x4ee5;&#x7528;&#x6765;&#x5224;&#x65ad;&#xff0c;&#x5f53;&#x524d;&#x89c6;&#x56fe;&#x662f;&#x5c0f;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#xff0c;&#x8fd8;&#x662f;&#x5927;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"379,380"}},{"content":"<pre data-lines=\"381,398\"><code data-lines=\"381,398\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-variable constant_\">BIG_ENDIAN</span> = <span class=\"hljs-title class_\">Symbol</span>(<span class=\"hljs-string\">&apos;BIG_ENDIAN&apos;</span>);\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-variable constant_\">LITTLE_ENDIAN</span> = <span class=\"hljs-title class_\">Symbol</span>(<span class=\"hljs-string\">&apos;LITTLE_ENDIAN&apos;</span>);\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getPlatformEndianness</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">let</span> arr32 = <span class=\"hljs-title class_\">Uint32Array</span>.<span class=\"hljs-title function_\">of</span>(<span class=\"hljs-number\">0x12345678</span>);\n  <span class=\"hljs-keyword\">let</span> arr8 = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Uint8Array</span>(arr32.<span class=\"hljs-property\">buffer</span>);\n  <span class=\"hljs-keyword\">switch</span> ((arr8[<span class=\"hljs-number\">0</span>]*<span class=\"hljs-number\">0x1000000</span>) + (arr8[<span class=\"hljs-number\">1</span>]*<span class=\"hljs-number\">0x10000</span>) + (arr8[<span class=\"hljs-number\">2</span>]*<span class=\"hljs-number\">0x100</span>) + (arr8[<span class=\"hljs-number\">3</span>])) {\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">0x12345678</span>:\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable constant_\">BIG_ENDIAN</span>;\n    <span class=\"hljs-keyword\">case</span> <span class=\"hljs-number\">0x78563412</span>:\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable constant_\">LITTLE_ENDIAN</span>;\n    <span class=\"hljs-attr\">default</span>:\n      <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(<span class=\"hljs-string\">&apos;Unknown endianness&apos;</span>);\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"381,398"}},{"content":"<pre data-lines=\"399,400\"><code>&#x603b;&#x4e4b;&#xff0c;&#x4e0e;&#x666e;&#x901a;&#x6570;&#x7ec4;&#x76f8;&#x6bd4;&#xff0c;TypedArray &#x6570;&#x7ec4;&#x7684;&#x6700;&#x5927;&#x4f18;&#x70b9;&#x5c31;&#x662f;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x64cd;&#x4f5c;&#x5185;&#x5b58;&#xff0c;&#x4e0d;&#x9700;&#x8981;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x8f6c;&#x6362;&#xff0c;&#x6240;&#x4ee5;&#x901f;&#x5ea6;&#x5feb;&#x5f97;&#x591a;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"399,400"}}],"payload":{"tag":"h3","lines":"332,333"}},{"content":"BYTES_PER_ELEMENT &#x5c5e;&#x6027;","children":[{"content":"<pre data-lines=\"403,404\"><code>&#x6bcf;&#x4e00;&#x79cd;&#x89c6;&#x56fe;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x90fd;&#x6709;&#x4e00;&#x4e2a;`BYTES_PER_ELEMENT`&#x5c5e;&#x6027;&#xff0c;&#x8868;&#x793a;&#x8fd9;&#x79cd;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x5360;&#x636e;&#x7684;&#x5b57;&#x8282;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"403,404"}},{"content":"<pre data-lines=\"405,408\"><code data-lines=\"405,408\">Int8Array<span class=\"hljs-selector-class\">.BYTES_PER_ELEMENTUint8Array</span><span class=\"hljs-selector-class\">.BYTES_PER_ELEMENTUint8ClampedArray</span><span class=\"hljs-selector-class\">.BYTES_PER_ELEMENTInt16Array</span><span class=\"hljs-selector-class\">.BYTES_PER_ELEMENTUint16Array</span><span class=\"hljs-selector-class\">.BYTES_PER_ELEMENTInt32Array</span><span class=\"hljs-selector-class\">.BYTES_PER_ELEMENTUint32Array</span><span class=\"hljs-selector-class\">.BYTES_PER_ELEMENTFloat32Array</span><span class=\"hljs-selector-class\">.BYTES_PER_ELEMENTFloat64Array</span><span class=\"hljs-selector-class\">.BYTES_PER_ELEMENT</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"405,408"}},{"content":"<pre data-lines=\"409,410\"><code>&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x5728;`TypedArray`&#x5b9e;&#x4f8b;&#x4e0a;&#x4e5f;&#x80fd;&#x83b7;&#x53d6;&#xff0c;&#x5373;&#x6709;`TypedArray.prototype.BYTES_PER_ELEMENT`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"409,410"}}],"payload":{"tag":"h3","lines":"401,402"}},{"content":"ArrayBuffer &#x4e0e;&#x5b57;&#x7b26;&#x4e32;&#x7684;&#x4e92;&#x76f8;&#x8f6c;&#x6362;","children":[{"content":"<pre data-lines=\"413,414\"><code>`ArrayBuffer` &#x548c;&#x5b57;&#x7b26;&#x4e32;&#x7684;&#x76f8;&#x4e92;&#x8f6c;&#x6362;&#xff0c;&#x4f7f;&#x7528;&#x539f;&#x751f; `TextEncoder` &#x548c; `TextDecoder` &#x65b9;&#x6cd5;&#x3002;&#x4e3a;&#x4e86;&#x4fbf;&#x4e8e;&#x8bf4;&#x660e;&#x7528;&#x6cd5;&#xff0c;&#x4e0b;&#x9762;&#x7684;&#x4ee3;&#x7801;&#x90fd;&#x6309;&#x7167; TypeScript &#x7684;&#x7528;&#x6cd5;&#xff0c;&#x7ed9;&#x51fa;&#x4e86;&#x7c7b;&#x578b;&#x7b7e;&#x540d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"413,414"}},{"content":"<pre data-lines=\"415,435\"><code data-lines=\"415,435\"> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">ab2str</span>(<span class=\"hljs-params\">\n  <span class=\"hljs-attr\">input</span>: <span class=\"hljs-title class_\">ArrayBuffer</span> | <span class=\"hljs-title class_\">Uint8Array</span> | <span class=\"hljs-title class_\">Int8Array</span> | <span class=\"hljs-title class_\">Uint16Array</span> | <span class=\"hljs-title class_\">Int16Array</span> | <span class=\"hljs-title class_\">Uint32Array</span> | <span class=\"hljs-title class_\">Int32Array</span>,\n  <span class=\"hljs-attr\">outputEncoding</span>: <span class=\"hljs-built_in\">string</span> = <span class=\"hljs-string\">&apos;utf8&apos;</span>,\n</span>): <span class=\"hljs-built_in\">string</span> {\n  <span class=\"hljs-keyword\">const</span> decoder = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">TextDecoder</span>(outputEncoding)\n  <span class=\"hljs-keyword\">return</span> decoder.<span class=\"hljs-title function_\">decode</span>(input)\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">str2ab</span>(<span class=\"hljs-params\"><span class=\"hljs-attr\">input</span>: <span class=\"hljs-built_in\">string</span></span>): <span class=\"hljs-title class_\">ArrayBuffer</span> {\n  <span class=\"hljs-keyword\">const</span> view = <span class=\"hljs-title function_\">str2Uint8Array</span>(input)\n  <span class=\"hljs-keyword\">return</span> view.<span class=\"hljs-property\">buffer</span>\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">str2Uint8Array</span>(<span class=\"hljs-params\"><span class=\"hljs-attr\">input</span>: <span class=\"hljs-built_in\">string</span></span>): <span class=\"hljs-title class_\">Uint8Array</span> {\n  <span class=\"hljs-keyword\">const</span> encoder = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">TextEncoder</span>()\n  <span class=\"hljs-keyword\">const</span> view = encoder.<span class=\"hljs-title function_\">encode</span>(input)\n  <span class=\"hljs-keyword\">return</span> view\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"415,435"}},{"content":"<pre data-lines=\"436,437\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`ab2str()`&#x7684;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;`outputEncoding`&#x7ed9;&#x51fa;&#x4e86;&#x8f93;&#x51fa;&#x7f16;&#x7801;&#x7684;&#x7f16;&#x7801;&#xff0c;&#x4e00;&#x822c;&#x4fdd;&#x6301;&#x9ed8;&#x8ba4;&#x503c;&#xff08;`utf-8`&#xff09;&#xff0c;&#x5176;&#x4ed6;&#x53ef;&#x9009;&#x503c;&#x53c2;&#x89c1;[&#x5b98;&#x65b9;&#x6587;&#x6863;](https://encoding.spec.whatwg.org/)&#x6216; [Node.js &#x6587;&#x6863;](https://nodejs.org/api/util.html#util_whatwg_supported_encodings)&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"436,437"}}],"payload":{"tag":"h3","lines":"411,412"}},{"content":"&#x6ea2;&#x51fa;","children":[{"content":"<pre data-lines=\"440,443\"><code>&#x4e0d;&#x540c;&#x7684;&#x89c6;&#x56fe;&#x7c7b;&#x578b;&#xff0c;&#x6240;&#x80fd;&#x5bb9;&#x7eb3;&#x7684;&#x6570;&#x503c;&#x8303;&#x56f4;&#x662f;&#x786e;&#x5b9a;&#x7684;&#x3002;&#x8d85;&#x51fa;&#x8fd9;&#x4e2a;&#x8303;&#x56f4;&#xff0c;&#x5c31;&#x4f1a;&#x51fa;&#x73b0;&#x6ea2;&#x51fa;&#x3002;&#x6bd4;&#x5982;&#xff0c;8 &#x4f4d;&#x89c6;&#x56fe;&#x53ea;&#x80fd;&#x5bb9;&#x7eb3;&#x4e00;&#x4e2a; 8 &#x4f4d;&#x7684;&#x4e8c;&#x8fdb;&#x5236;&#x503c;&#xff0c;&#x5982;&#x679c;&#x653e;&#x5165;&#x4e00;&#x4e2a; 9 &#x4f4d;&#x7684;&#x503c;&#xff0c;&#x5c31;&#x4f1a;&#x6ea2;&#x51fa;&#x3002;\n\nTypedArray &#x6570;&#x7ec4;&#x7684;&#x6ea2;&#x51fa;&#x5904;&#x7406;&#x89c4;&#x5219;&#xff0c;&#x7b80;&#x5355;&#x6765;&#x8bf4;&#xff0c;&#x5c31;&#x662f;&#x629b;&#x5f03;&#x6ea2;&#x51fa;&#x7684;&#x4f4d;&#xff0c;&#x7136;&#x540e;&#x6309;&#x7167;&#x89c6;&#x56fe;&#x7c7b;&#x578b;&#x8fdb;&#x884c;&#x89e3;&#x91ca;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"440,443"}},{"content":"<pre data-lines=\"444,452\"><code data-lines=\"444,452\"><span class=\"hljs-attribute\">const</span> uint8 = new Uint8Array(<span class=\"hljs-number\">1</span>);\n\n<span class=\"hljs-attribute\">uint8</span>[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">256</span>;\n<span class=\"hljs-attribute\">uint8</span>[<span class=\"hljs-number\">0</span>]\n<span class=\"hljs-attribute\">uint8</span>[<span class=\"hljs-number\">0</span>] = -<span class=\"hljs-number\">1</span>;\n<span class=\"hljs-attribute\">uint8</span>[<span class=\"hljs-number\">0</span>]\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"444,452"}},{"content":"<pre data-lines=\"453,463\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`uint8`&#x662f;&#x4e00;&#x4e2a; 8 &#x4f4d;&#x89c6;&#x56fe;&#xff0c;&#x800c; 256 &#x7684;&#x4e8c;&#x8fdb;&#x5236;&#x5f62;&#x5f0f;&#x662f;&#x4e00;&#x4e2a; 9 &#x4f4d;&#x7684;&#x503c;`100000000`&#xff0c;&#x8fd9;&#x65f6;&#x5c31;&#x4f1a;&#x53d1;&#x751f;&#x6ea2;&#x51fa;&#x3002;&#x6839;&#x636e;&#x89c4;&#x5219;&#xff0c;&#x53ea;&#x4f1a;&#x4fdd;&#x7559;&#x540e; 8 &#x4f4d;&#xff0c;&#x5373;`00000000`&#x3002;`uint8`&#x89c6;&#x56fe;&#x7684;&#x89e3;&#x91ca;&#x89c4;&#x5219;&#x662f;&#x65e0;&#x7b26;&#x53f7;&#x7684; 8 &#x4f4d;&#x6574;&#x6570;&#xff0c;&#x6240;&#x4ee5;`00000000`&#x5c31;&#x662f;`0`&#x3002;\n\n&#x8d1f;&#x6570;&#x5728;&#x8ba1;&#x7b97;&#x673a;&#x5185;&#x90e8;&#x91c7;&#x7528;&#x201c;2 &#x7684;&#x8865;&#x7801;&#x201d;&#x8868;&#x793a;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x5c06;&#x5bf9;&#x5e94;&#x7684;&#x6b63;&#x6570;&#x503c;&#x8fdb;&#x884c;&#x5426;&#x8fd0;&#x7b97;&#xff0c;&#x7136;&#x540e;&#x52a0;`1`&#x3002;&#x6bd4;&#x5982;&#xff0c;`-1`&#x5bf9;&#x5e94;&#x7684;&#x6b63;&#x503c;&#x662f;`1`&#xff0c;&#x8fdb;&#x884c;&#x5426;&#x8fd0;&#x7b97;&#x4ee5;&#x540e;&#xff0c;&#x5f97;&#x5230;`11111110`&#xff0c;&#x518d;&#x52a0;&#x4e0a;`1`&#x5c31;&#x662f;&#x8865;&#x7801;&#x5f62;&#x5f0f;`11111111`&#x3002;`uint8`&#x6309;&#x7167;&#x65e0;&#x7b26;&#x53f7;&#x7684; 8 &#x4f4d;&#x6574;&#x6570;&#x89e3;&#x91ca;`11111111`&#xff0c;&#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x5c31;&#x662f;`255`&#x3002;\n\n&#x4e00;&#x4e2a;&#x7b80;&#x5355;&#x8f6c;&#x6362;&#x89c4;&#x5219;&#xff0c;&#x53ef;&#x4ee5;&#x8fd9;&#x6837;&#x8868;&#x793a;&#x3002;\n\n*   &#x6b63;&#x5411;&#x6ea2;&#x51fa;&#xff08;overflow&#xff09;&#xff1a;&#x5f53;&#x8f93;&#x5165;&#x503c;&#x5927;&#x4e8e;&#x5f53;&#x524d;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x7684;&#x6700;&#x5927;&#x503c;&#xff0c;&#x7ed3;&#x679c;&#x7b49;&#x4e8e;&#x5f53;&#x524d;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x7684;&#x6700;&#x5c0f;&#x503c;&#x52a0;&#x4e0a;&#x4f59;&#x503c;&#xff0c;&#x518d;&#x51cf;&#x53bb; 1&#x3002;\n*   &#x8d1f;&#x5411;&#x6ea2;&#x51fa;&#xff08;underflow&#xff09;&#xff1a;&#x5f53;&#x8f93;&#x5165;&#x503c;&#x5c0f;&#x4e8e;&#x5f53;&#x524d;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x7684;&#x6700;&#x5c0f;&#x503c;&#xff0c;&#x7ed3;&#x679c;&#x7b49;&#x4e8e;&#x5f53;&#x524d;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x7684;&#x6700;&#x5927;&#x503c;&#x51cf;&#x53bb;&#x4f59;&#x503c;&#x7684;&#x7edd;&#x5bf9;&#x503c;&#xff0c;&#x518d;&#x52a0;&#x4e0a; 1&#x3002;\n\n&#x4e0a;&#x9762;&#x7684;&#x201c;&#x4f59;&#x503c;&#x201d;&#x5c31;&#x662f;&#x6a21;&#x8fd0;&#x7b97;&#x7684;&#x7ed3;&#x679c;&#xff0c;&#x5373; JavaScript &#x91cc;&#x9762;&#x7684;`%`&#x8fd0;&#x7b97;&#x7b26;&#x7684;&#x7ed3;&#x679c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"453,463"}},{"content":"<pre data-lines=\"464,467\"><code data-lines=\"464,467\"><span class=\"hljs-symbol\">12 </span>% <span class=\"hljs-number\">412</span> % <span class=\"hljs-number\">5</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"464,467"}},{"content":"<pre data-lines=\"468,471\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;12 &#x9664;&#x4ee5; 4 &#x662f;&#x6ca1;&#x6709;&#x4f59;&#x503c;&#x7684;&#xff0c;&#x800c;&#x9664;&#x4ee5; 5 &#x4f1a;&#x5f97;&#x5230;&#x4f59;&#x503c; 2&#x3002;\n\n&#x8bf7;&#x770b;&#x4e0b;&#x9762;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"468,471"}},{"content":"<pre data-lines=\"472,480\"><code data-lines=\"472,480\"><span class=\"hljs-attribute\">const</span> int8 = new Int8Array(<span class=\"hljs-number\">1</span>);\n\n<span class=\"hljs-attribute\">int8</span>[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">128</span>;\n<span class=\"hljs-attribute\">int8</span>[<span class=\"hljs-number\">0</span>]\n<span class=\"hljs-attribute\">int8</span>[<span class=\"hljs-number\">0</span>] = -<span class=\"hljs-number\">129</span>;\n<span class=\"hljs-attribute\">int8</span>[<span class=\"hljs-number\">0</span>]\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"472,480"}},{"content":"<pre data-lines=\"481,484\"><code>&#x4e0a;&#x9762;&#x4f8b;&#x5b50;&#x4e2d;&#xff0c;`int8`&#x662f;&#x4e00;&#x4e2a;&#x5e26;&#x7b26;&#x53f7;&#x7684; 8 &#x4f4d;&#x6574;&#x6570;&#x89c6;&#x56fe;&#xff0c;&#x5b83;&#x7684;&#x6700;&#x5927;&#x503c;&#x662f; 127&#xff0c;&#x6700;&#x5c0f;&#x503c;&#x662f;-128&#x3002;&#x8f93;&#x5165;&#x503c;&#x4e3a;`128`&#x65f6;&#xff0c;&#x76f8;&#x5f53;&#x4e8e;&#x6b63;&#x5411;&#x6ea2;&#x51fa;`1`&#xff0c;&#x6839;&#x636e;&#x201c;&#x6700;&#x5c0f;&#x503c;&#x52a0;&#x4e0a;&#x4f59;&#x503c;&#xff08;128 &#x9664;&#x4ee5; 127 &#x7684;&#x4f59;&#x503c;&#x662f; 1&#xff09;&#xff0c;&#x518d;&#x51cf;&#x53bb; 1&#x201d;&#x7684;&#x89c4;&#x5219;&#xff0c;&#x5c31;&#x4f1a;&#x8fd4;&#x56de;`-128`&#xff1b;&#x8f93;&#x5165;&#x503c;&#x4e3a;`-129`&#x65f6;&#xff0c;&#x76f8;&#x5f53;&#x4e8e;&#x8d1f;&#x5411;&#x6ea2;&#x51fa;`1`&#xff0c;&#x6839;&#x636e;&#x201c;&#x6700;&#x5927;&#x503c;&#x51cf;&#x53bb;&#x4f59;&#x503c;&#x7684;&#x7edd;&#x5bf9;&#x503c;&#xff08;-129 &#x9664;&#x4ee5;-128 &#x7684;&#x4f59;&#x503c;&#x7684;&#x7edd;&#x5bf9;&#x503c;&#x662f; 1&#xff09;&#xff0c;&#x518d;&#x52a0;&#x4e0a; 1&#x201d;&#x7684;&#x89c4;&#x5219;&#xff0c;&#x5c31;&#x4f1a;&#x8fd4;&#x56de;`127`&#x3002;\n\n`Uint8ClampedArray`&#x89c6;&#x56fe;&#x7684;&#x6ea2;&#x51fa;&#x89c4;&#x5219;&#xff0c;&#x4e0e;&#x4e0a;&#x9762;&#x7684;&#x89c4;&#x5219;&#x4e0d;&#x540c;&#x3002;&#x5b83;&#x89c4;&#x5b9a;&#xff0c;&#x51e1;&#x662f;&#x53d1;&#x751f;&#x6b63;&#x5411;&#x6ea2;&#x51fa;&#xff0c;&#x8be5;&#x503c;&#x4e00;&#x5f8b;&#x7b49;&#x4e8e;&#x5f53;&#x524d;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x7684;&#x6700;&#x5927;&#x503c;&#xff0c;&#x5373; 255&#xff1b;&#x5982;&#x679c;&#x53d1;&#x751f;&#x8d1f;&#x5411;&#x6ea2;&#x51fa;&#xff0c;&#x8be5;&#x503c;&#x4e00;&#x5f8b;&#x7b49;&#x4e8e;&#x5f53;&#x524d;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x7684;&#x6700;&#x5c0f;&#x503c;&#xff0c;&#x5373; 0&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"481,484"}},{"content":"<pre data-lines=\"485,493\"><code data-lines=\"485,493\"><span class=\"hljs-attribute\">const</span> uint8c = new Uint8ClampedArray(<span class=\"hljs-number\">1</span>);\n\n<span class=\"hljs-attribute\">uint8c</span>[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">256</span>;\n<span class=\"hljs-attribute\">uint8c</span>[<span class=\"hljs-number\">0</span>]\n<span class=\"hljs-attribute\">uint8c</span>[<span class=\"hljs-number\">0</span>] = -<span class=\"hljs-number\">1</span>;\n<span class=\"hljs-attribute\">uint8c</span>[<span class=\"hljs-number\">0</span>]\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"485,493"}},{"content":"<pre data-lines=\"494,495\"><code>&#x4e0a;&#x9762;&#x4f8b;&#x5b50;&#x4e2d;&#xff0c;`uint8C`&#x662f;&#x4e00;&#x4e2a;`Uint8ClampedArray`&#x89c6;&#x56fe;&#xff0c;&#x6b63;&#x5411;&#x6ea2;&#x51fa;&#x65f6;&#x90fd;&#x8fd4;&#x56de; 255&#xff0c;&#x8d1f;&#x5411;&#x6ea2;&#x51fa;&#x90fd;&#x8fd4;&#x56de; 0&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"494,495"}}],"payload":{"tag":"h3","lines":"438,439"}},{"content":"TypedArray.prototype.buffer","children":[{"content":"<pre data-lines=\"498,499\"><code>`TypedArray`&#x5b9e;&#x4f8b;&#x7684;`buffer`&#x5c5e;&#x6027;&#xff0c;&#x8fd4;&#x56de;&#x6574;&#x6bb5;&#x5185;&#x5b58;&#x533a;&#x57df;&#x5bf9;&#x5e94;&#x7684;`ArrayBuffer`&#x5bf9;&#x8c61;&#x3002;&#x8be5;&#x5c5e;&#x6027;&#x4e3a;&#x53ea;&#x8bfb;&#x5c5e;&#x6027;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"498,499"}},{"content":"<pre data-lines=\"500,504\"><code data-lines=\"500,504\"><span class=\"hljs-keyword\">const</span> a = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Float32Array</span>(<span class=\"hljs-number\">64</span>);\n<span class=\"hljs-keyword\">const</span> b = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Uint8Array</span>(a.<span class=\"hljs-property\">buffer</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"500,504"}},{"content":"<pre data-lines=\"505,506\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;`a`&#x89c6;&#x56fe;&#x5bf9;&#x8c61;&#x548c;`b`&#x89c6;&#x56fe;&#x5bf9;&#x8c61;&#xff0c;&#x5bf9;&#x5e94;&#x540c;&#x4e00;&#x4e2a;`ArrayBuffer`&#x5bf9;&#x8c61;&#xff0c;&#x5373;&#x540c;&#x4e00;&#x6bb5;&#x5185;&#x5b58;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"505,506"}}],"payload":{"tag":"h3","lines":"496,497"}},{"content":"TypedArray.prototype.byteLength&#xff0c;TypedArray.prototype.byteOffset","children":[{"content":"<pre data-lines=\"509,510\"><code>`byteLength`&#x5c5e;&#x6027;&#x8fd4;&#x56de; TypedArray &#x6570;&#x7ec4;&#x5360;&#x636e;&#x7684;&#x5185;&#x5b58;&#x957f;&#x5ea6;&#xff0c;&#x5355;&#x4f4d;&#x4e3a;&#x5b57;&#x8282;&#x3002;`byteOffset`&#x5c5e;&#x6027;&#x8fd4;&#x56de; TypedArray &#x6570;&#x7ec4;&#x4ece;&#x5e95;&#x5c42;`ArrayBuffer`&#x5bf9;&#x8c61;&#x7684;&#x54ea;&#x4e2a;&#x5b57;&#x8282;&#x5f00;&#x59cb;&#x3002;&#x8fd9;&#x4e24;&#x4e2a;&#x5c5e;&#x6027;&#x90fd;&#x662f;&#x53ea;&#x8bfb;&#x5c5e;&#x6027;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"509,510"}},{"content":"<pre data-lines=\"511,521\"><code data-lines=\"511,521\">const b =<span class=\"hljs-built_in\"> new </span>ArrayBuffer(8);\n<span class=\"hljs-built_in\">\nconst </span>v1 =<span class=\"hljs-built_in\"> new </span>Int32Array(b);<span class=\"hljs-built_in\">\nconst </span>v2 =<span class=\"hljs-built_in\"> new </span>Uint8Array(b, 2);<span class=\"hljs-built_in\">\nconst </span>v3 =<span class=\"hljs-built_in\"> new </span>Int16Array(b, 2, 2);\n\nv1.byteLengthv2.byteLengthv3.byteLength\nv1.byteOffsetv2.byteOffsetv3.byteOffset\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"511,521"}}],"payload":{"tag":"h3","lines":"507,508"}},{"content":"TypedArray.prototype.length","children":[{"content":"<pre data-lines=\"524,525\"><code>`length`&#x5c5e;&#x6027;&#x8868;&#x793a; `TypedArray` &#x6570;&#x7ec4;&#x542b;&#x6709;&#x591a;&#x5c11;&#x4e2a;&#x6210;&#x5458;&#x3002;&#x6ce8;&#x610f;&#x5c06; `length` &#x5c5e;&#x6027;&#x548c; `byteLength` &#x5c5e;&#x6027;&#x533a;&#x5206;&#xff0c;&#x524d;&#x8005;&#x662f;&#x6210;&#x5458;&#x957f;&#x5ea6;&#xff0c;&#x540e;&#x8005;&#x662f;&#x5b57;&#x8282;&#x957f;&#x5ea6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"524,525"}},{"content":"<pre data-lines=\"526,531\"><code data-lines=\"526,531\"><span class=\"hljs-keyword\">const</span> a = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Int16Array</span>(<span class=\"hljs-number\">8</span>);\n\na.<span class=\"hljs-property\">lengtha</span>.<span class=\"hljs-property\">byteLength</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"526,531"}}],"payload":{"tag":"h3","lines":"522,523"}},{"content":"TypedArray.prototype.set()","children":[{"content":"<pre data-lines=\"534,535\"><code>TypedArray &#x6570;&#x7ec4;&#x7684;`set`&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x590d;&#x5236;&#x6570;&#x7ec4;&#xff08;&#x666e;&#x901a;&#x6570;&#x7ec4;&#x6216; TypedArray &#x6570;&#x7ec4;&#xff09;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x5c06;&#x4e00;&#x6bb5;&#x5185;&#x5bb9;&#x5b8c;&#x5168;&#x590d;&#x5236;&#x5230;&#x53e6;&#x4e00;&#x6bb5;&#x5185;&#x5b58;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"534,535"}},{"content":"<pre data-lines=\"536,542\"><code data-lines=\"536,542\"><span class=\"hljs-keyword\">const</span> a = <span class=\"hljs-keyword\">new</span> Uint8<span class=\"hljs-built_in\">Array</span>(<span class=\"hljs-number\">8</span>);\n<span class=\"hljs-keyword\">const</span> b = <span class=\"hljs-keyword\">new</span> Uint8<span class=\"hljs-built_in\">Array</span>(<span class=\"hljs-number\">8</span>);\n\nb.<span class=\"hljs-keyword\">set</span>(a); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"536,542"}},{"content":"<pre data-lines=\"543,546\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x590d;&#x5236;`a`&#x6570;&#x7ec4;&#x7684;&#x5185;&#x5bb9;&#x5230;`b`&#x6570;&#x7ec4;&#xff0c;&#x5b83;&#x662f;&#x6574;&#x6bb5;&#x5185;&#x5b58;&#x7684;&#x590d;&#x5236;&#xff0c;&#x6bd4;&#x4e00;&#x4e2a;&#x4e2a;&#x62f7;&#x8d1d;&#x6210;&#x5458;&#x7684;&#x90a3;&#x79cd;&#x590d;&#x5236;&#x5feb;&#x5f97;&#x591a;&#x3002;\n\n`set`&#x65b9;&#x6cd5;&#x8fd8;&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x8868;&#x793a;&#x4ece;`b`&#x5bf9;&#x8c61;&#x7684;&#x54ea;&#x4e00;&#x4e2a;&#x6210;&#x5458;&#x5f00;&#x59cb;&#x590d;&#x5236;`a`&#x5bf9;&#x8c61;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"543,546"}},{"content":"<pre data-lines=\"547,553\"><code data-lines=\"547,553\"><span class=\"hljs-keyword\">const</span> a = <span class=\"hljs-keyword\">new</span> Uint16<span class=\"hljs-built_in\">Array</span>(<span class=\"hljs-number\">8</span>);\n<span class=\"hljs-keyword\">const</span> b = <span class=\"hljs-keyword\">new</span> Uint16<span class=\"hljs-built_in\">Array</span>(<span class=\"hljs-number\">10</span>);\n\nb.<span class=\"hljs-keyword\">set</span>(a, <span class=\"hljs-number\">2</span>) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"547,553"}},{"content":"<pre data-lines=\"554,555\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;`b`&#x6570;&#x7ec4;&#x6bd4;`a`&#x6570;&#x7ec4;&#x591a;&#x4e24;&#x4e2a;&#x6210;&#x5458;&#xff0c;&#x6240;&#x4ee5;&#x4ece;`b[2]`&#x5f00;&#x59cb;&#x590d;&#x5236;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"554,555"}}],"payload":{"tag":"h3","lines":"532,533"}},{"content":"TypedArray.prototype.subarray()","children":[{"content":"<pre data-lines=\"558,559\"><code>`subarray`&#x65b9;&#x6cd5;&#x662f;&#x5bf9;&#x4e8e; TypedArray &#x6570;&#x7ec4;&#x7684;&#x4e00;&#x90e8;&#x5206;&#xff0c;&#x518d;&#x5efa;&#x7acb;&#x4e00;&#x4e2a;&#x65b0;&#x7684;&#x89c6;&#x56fe;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"558,559"}},{"content":"<pre data-lines=\"560,566\"><code data-lines=\"560,566\"><span class=\"hljs-keyword\">const</span> a = <span class=\"hljs-keyword\">new</span> Uint16<span class=\"hljs-built_in\">Array</span>(<span class=\"hljs-number\">8</span>);\n<span class=\"hljs-keyword\">const</span> b = a.<span class=\"hljs-keyword\">sub</span><span class=\"hljs-built_in\">array</span>(<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>);\n\na.byteLengthb.byteLength\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"560,566"}},{"content":"<pre data-lines=\"567,568\"><code>`subarray`&#x65b9;&#x6cd5;&#x7684;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x8d77;&#x59cb;&#x7684;&#x6210;&#x5458;&#x5e8f;&#x53f7;&#xff0c;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x7ed3;&#x675f;&#x7684;&#x6210;&#x5458;&#x5e8f;&#x53f7;&#xff08;&#x4e0d;&#x542b;&#x8be5;&#x6210;&#x5458;&#xff09;&#xff0c;&#x5982;&#x679c;&#x7701;&#x7565;&#x5219;&#x5305;&#x542b;&#x5269;&#x4f59;&#x7684;&#x5168;&#x90e8;&#x6210;&#x5458;&#x3002;&#x6240;&#x4ee5;&#xff0c;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;`a.subarray(2,3)`&#xff0c;&#x610f;&#x5473;&#x7740; b &#x53ea;&#x5305;&#x542b;`a[2]`&#x4e00;&#x4e2a;&#x6210;&#x5458;&#xff0c;&#x5b57;&#x8282;&#x957f;&#x5ea6;&#x4e3a; 2&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"567,568"}}],"payload":{"tag":"h3","lines":"556,557"}},{"content":"TypedArray.prototype.slice()","children":[{"content":"<pre data-lines=\"571,572\"><code>TypeArray &#x5b9e;&#x4f8b;&#x7684;`slice`&#x65b9;&#x6cd5;&#xff0c;&#x53ef;&#x4ee5;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x6307;&#x5b9a;&#x4f4d;&#x7f6e;&#x7684;&#x65b0;&#x7684;`TypedArray`&#x5b9e;&#x4f8b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"571,572"}},{"content":"<pre data-lines=\"573,577\"><code data-lines=\"573,577\"><span class=\"hljs-attribute\">let</span> ui8 = Uint8Array.of(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>);\n<span class=\"hljs-attribute\">ui8</span>.slice(-<span class=\"hljs-number\">1</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"573,577"}},{"content":"<pre data-lines=\"578,581\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`ui8`&#x662f; 8 &#x4f4d;&#x65e0;&#x7b26;&#x53f7;&#x6574;&#x6570;&#x6570;&#x7ec4;&#x89c6;&#x56fe;&#x7684;&#x4e00;&#x4e2a;&#x5b9e;&#x4f8b;&#x3002;&#x5b83;&#x7684;`slice`&#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x4ece;&#x5f53;&#x524d;&#x89c6;&#x56fe;&#x4e4b;&#x4e2d;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x65b0;&#x7684;&#x89c6;&#x56fe;&#x5b9e;&#x4f8b;&#x3002;\n\n`slice`&#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x8868;&#x793a;&#x539f;&#x6570;&#x7ec4;&#x7684;&#x5177;&#x4f53;&#x4f4d;&#x7f6e;&#xff0c;&#x5f00;&#x59cb;&#x751f;&#x6210;&#x65b0;&#x6570;&#x7ec4;&#x3002;&#x8d1f;&#x503c;&#x8868;&#x793a;&#x9006;&#x5411;&#x7684;&#x4f4d;&#x7f6e;&#xff0c;&#x5373;-1 &#x4e3a;&#x5012;&#x6570;&#x7b2c;&#x4e00;&#x4e2a;&#x4f4d;&#x7f6e;&#xff0c;-2 &#x8868;&#x793a;&#x5012;&#x6570;&#x7b2c;&#x4e8c;&#x4e2a;&#x4f4d;&#x7f6e;&#xff0c;&#x4ee5;&#x6b64;&#x7c7b;&#x63a8;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"578,581"}}],"payload":{"tag":"h3","lines":"569,570"}},{"content":"TypedArray.of()","children":[{"content":"<pre data-lines=\"584,585\"><code>TypedArray &#x6570;&#x7ec4;&#x7684;&#x6240;&#x6709;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x90fd;&#x6709;&#x4e00;&#x4e2a;&#x9759;&#x6001;&#x65b9;&#x6cd5;`of`&#xff0c;&#x7528;&#x4e8e;&#x5c06;&#x53c2;&#x6570;&#x8f6c;&#x4e3a;&#x4e00;&#x4e2a;`TypedArray`&#x5b9e;&#x4f8b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"584,585"}},{"content":"<pre data-lines=\"586,589\"><code data-lines=\"586,589\"><span class=\"hljs-attribute\">Float32Array</span>.of(<span class=\"hljs-number\">0</span>.<span class=\"hljs-number\">151</span>, -<span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">3</span>.<span class=\"hljs-number\">7</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"586,589"}},{"content":"<pre data-lines=\"590,591\"><code>&#x4e0b;&#x9762;&#x4e09;&#x79cd;&#x65b9;&#x6cd5;&#x90fd;&#x4f1a;&#x751f;&#x6210;&#x540c;&#x6837;&#x4e00;&#x4e2a; TypedArray &#x6570;&#x7ec4;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"590,591"}},{"content":"<pre data-lines=\"592,600\"><code data-lines=\"592,600\"><span class=\"hljs-attribute\">let</span> tarr = new Uint8Array([<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>]);\n<span class=\"hljs-attribute\">let</span> tarr = Uint8Array.of(<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>);\n<span class=\"hljs-attribute\">let</span> tarr = new Uint8Array(<span class=\"hljs-number\">3</span>);\n<span class=\"hljs-attribute\">tarr</span>[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">1</span>;\n<span class=\"hljs-attribute\">tarr</span>[<span class=\"hljs-number\">1</span>] = <span class=\"hljs-number\">2</span>;\n<span class=\"hljs-attribute\">tarr</span>[<span class=\"hljs-number\">2</span>] = <span class=\"hljs-number\">3</span>; \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"592,600"}}],"payload":{"tag":"h3","lines":"582,583"}},{"content":"TypedArray.from()","children":[{"content":"<pre data-lines=\"603,604\"><code>&#x9759;&#x6001;&#x65b9;&#x6cd5;`from`&#x63a5;&#x53d7;&#x4e00;&#x4e2a;&#x53ef;&#x904d;&#x5386;&#x7684;&#x6570;&#x636e;&#x7ed3;&#x6784;&#xff08;&#x6bd4;&#x5982;&#x6570;&#x7ec4;&#xff09;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x57fa;&#x4e8e;&#x8fd9;&#x4e2a;&#x7ed3;&#x6784;&#x7684;`TypedArray`&#x5b9e;&#x4f8b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"603,604"}},{"content":"<pre data-lines=\"605,608\"><code data-lines=\"605,608\"><span class=\"hljs-attribute\">Uint16Array</span>.from([<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>])\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"605,608"}},{"content":"<pre data-lines=\"609,610\"><code>&#x8fd9;&#x4e2a;&#x65b9;&#x6cd5;&#x8fd8;&#x53ef;&#x4ee5;&#x5c06;&#x4e00;&#x79cd;`TypedArray`&#x5b9e;&#x4f8b;&#xff0c;&#x8f6c;&#x4e3a;&#x53e6;&#x4e00;&#x79cd;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"609,610"}},{"content":"<pre data-lines=\"611,615\"><code data-lines=\"611,615\"><span class=\"hljs-keyword\">const</span> ui16 = <span class=\"hljs-built_in\">Uint16Array</span>.<span class=\"hljs-keyword\">from</span>(<span class=\"hljs-built_in\">Uint8Array</span>.<span class=\"hljs-keyword\">of</span>(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>));\nui16 <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-built_in\">Uint16Array</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"611,615"}},{"content":"<pre data-lines=\"616,617\"><code>`from`&#x65b9;&#x6cd5;&#x8fd8;&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#x4e00;&#x4e2a;&#x51fd;&#x6570;&#xff0c;&#x4f5c;&#x4e3a;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x7528;&#x6765;&#x5bf9;&#x6bcf;&#x4e2a;&#x5143;&#x7d20;&#x8fdb;&#x884c;&#x904d;&#x5386;&#xff0c;&#x529f;&#x80fd;&#x7c7b;&#x4f3c;`map`&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"616,617"}},{"content":"<pre data-lines=\"618,622\"><code data-lines=\"618,622\"><span class=\"hljs-attribute\">Int8Array</span>.of(<span class=\"hljs-number\">127</span>, <span class=\"hljs-number\">126</span>, <span class=\"hljs-number\">125</span>).map(x =&gt; <span class=\"hljs-number\">2</span> * x)\n<span class=\"hljs-attribute\">Int16Array</span>.from(Int8Array.of(<span class=\"hljs-number\">127</span>, <span class=\"hljs-number\">126</span>, <span class=\"hljs-number\">125</span>), x =&gt; <span class=\"hljs-number\">2</span> * x)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"618,622"}},{"content":"<pre data-lines=\"623,624\"><code>&#x4e0a;&#x9762;&#x7684;&#x4f8b;&#x5b50;&#x4e2d;&#xff0c;`from`&#x65b9;&#x6cd5;&#x6ca1;&#x6709;&#x53d1;&#x751f;&#x6ea2;&#x51fa;&#xff0c;&#x8fd9;&#x8bf4;&#x660e;&#x904d;&#x5386;&#x4e0d;&#x662f;&#x9488;&#x5bf9;&#x539f;&#x6765;&#x7684; 8 &#x4f4d;&#x6574;&#x6570;&#x6570;&#x7ec4;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;`from`&#x4f1a;&#x5c06;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x6307;&#x5b9a;&#x7684; TypedArray &#x6570;&#x7ec4;&#xff0c;&#x62f7;&#x8d1d;&#x5230;&#x53e6;&#x4e00;&#x6bb5;&#x5185;&#x5b58;&#x4e4b;&#x4e2d;&#xff0c;&#x5904;&#x7406;&#x4e4b;&#x540e;&#x518d;&#x5c06;&#x7ed3;&#x679c;&#x8f6c;&#x6210;&#x6307;&#x5b9a;&#x7684;&#x6570;&#x7ec4;&#x683c;&#x5f0f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"623,624"}}],"payload":{"tag":"h3","lines":"601,602"}}],"payload":{"tag":"h2","lines":"147,149"}},{"content":"&#x590d;&#x5408;&#x89c6;&#x56fe;","children":[{"content":"<pre data-lines=\"628,629\"><code>&#x7531;&#x4e8e;&#x89c6;&#x56fe;&#x7684;&#x6784;&#x9020;&#x51fd;&#x6570;&#x53ef;&#x4ee5;&#x6307;&#x5b9a;&#x8d77;&#x59cb;&#x4f4d;&#x7f6e;&#x548c;&#x957f;&#x5ea6;&#xff0c;&#x6240;&#x4ee5;&#x5728;&#x540c;&#x4e00;&#x6bb5;&#x5185;&#x5b58;&#x4e4b;&#x4e2d;&#xff0c;&#x53ef;&#x4ee5;&#x4f9d;&#x6b21;&#x5b58;&#x653e;&#x4e0d;&#x540c;&#x7c7b;&#x578b;&#x7684;&#x6570;&#x636e;&#xff0c;&#x8fd9;&#x53eb;&#x505a;&#x201c;&#x590d;&#x5408;&#x89c6;&#x56fe;&#x201d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"628,629"}},{"content":"<pre data-lines=\"630,637\"><code data-lines=\"630,637\"><span class=\"hljs-type\">const</span> buffer = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">ArrayBuffer</span>(<span class=\"hljs-number\">24</span>);\n\n<span class=\"hljs-type\">const</span> idView = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">Uint32Array</span>(buffer, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>);\n<span class=\"hljs-type\">const</span> usernameView = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">Uint8Array</span>(buffer, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">16</span>);\n<span class=\"hljs-type\">const</span> amountDueView = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">Float32Array</span>(buffer, <span class=\"hljs-number\">20</span>, <span class=\"hljs-number\">1</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"630,637"}},{"content":"<pre data-lines=\"638,645\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5c06;&#x4e00;&#x4e2a; 24 &#x5b57;&#x8282;&#x957f;&#x5ea6;&#x7684;`ArrayBuffer`&#x5bf9;&#x8c61;&#xff0c;&#x5206;&#x6210;&#x4e09;&#x4e2a;&#x90e8;&#x5206;&#xff1a;\n\n*   &#x5b57;&#x8282; 0 &#x5230;&#x5b57;&#x8282; 3&#xff1a;1 &#x4e2a; 32 &#x4f4d;&#x65e0;&#x7b26;&#x53f7;&#x6574;&#x6570;\n*   &#x5b57;&#x8282; 4 &#x5230;&#x5b57;&#x8282; 19&#xff1a;16 &#x4e2a; 8 &#x4f4d;&#x6574;&#x6570;\n*   &#x5b57;&#x8282; 20 &#x5230;&#x5b57;&#x8282; 23&#xff1a;1 &#x4e2a; 32 &#x4f4d;&#x6d6e;&#x70b9;&#x6570;\n\n&#x8fd9;&#x79cd;&#x6570;&#x636e;&#x7ed3;&#x6784;&#x53ef;&#x4ee5;&#x7528;&#x5982;&#x4e0b;&#x7684; C &#x8bed;&#x8a00;&#x63cf;&#x8ff0;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"638,645"}},{"content":"<pre data-lines=\"646,654\"><code data-lines=\"646,654\"><span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title class_\">someStruct</span> {\n  <span class=\"hljs-type\">unsigned</span> <span class=\"hljs-type\">long</span> id;\n  <span class=\"hljs-type\">char</span> username[<span class=\"hljs-number\">16</span>];\n  <span class=\"hljs-type\">float</span> amountDue;\n};\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"646,654"}}],"payload":{"tag":"h2","lines":"625,627"}},{"content":"DataView &#x89c6;&#x56fe;","children":[{"content":"<pre data-lines=\"658,663\"><code>&#x5982;&#x679c;&#x4e00;&#x6bb5;&#x6570;&#x636e;&#x5305;&#x62ec;&#x591a;&#x79cd;&#x7c7b;&#x578b;&#xff08;&#x6bd4;&#x5982;&#x670d;&#x52a1;&#x5668;&#x4f20;&#x6765;&#x7684; HTTP &#x6570;&#x636e;&#xff09;&#xff0c;&#x8fd9;&#x65f6;&#x9664;&#x4e86;&#x5efa;&#x7acb;`ArrayBuffer`&#x5bf9;&#x8c61;&#x7684;&#x590d;&#x5408;&#x89c6;&#x56fe;&#x4ee5;&#x5916;&#xff0c;&#x8fd8;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;`DataView`&#x89c6;&#x56fe;&#x8fdb;&#x884c;&#x64cd;&#x4f5c;&#x3002;\n\n`DataView`&#x89c6;&#x56fe;&#x63d0;&#x4f9b;&#x66f4;&#x591a;&#x64cd;&#x4f5c;&#x9009;&#x9879;&#xff0c;&#x800c;&#x4e14;&#x652f;&#x6301;&#x8bbe;&#x5b9a;&#x5b57;&#x8282;&#x5e8f;&#x3002;&#x672c;&#x6765;&#xff0c;&#x5728;&#x8bbe;&#x8ba1;&#x76ee;&#x7684;&#x4e0a;&#xff0c;`ArrayBuffer`&#x5bf9;&#x8c61;&#x7684;&#x5404;&#x79cd;`TypedArray`&#x89c6;&#x56fe;&#xff0c;&#x662f;&#x7528;&#x6765;&#x5411;&#x7f51;&#x5361;&#x3001;&#x58f0;&#x5361;&#x4e4b;&#x7c7b;&#x7684;&#x672c;&#x673a;&#x8bbe;&#x5907;&#x4f20;&#x9001;&#x6570;&#x636e;&#xff0c;&#x6240;&#x4ee5;&#x4f7f;&#x7528;&#x672c;&#x673a;&#x7684;&#x5b57;&#x8282;&#x5e8f;&#x5c31;&#x53ef;&#x4ee5;&#x4e86;&#xff1b;&#x800c;`DataView`&#x89c6;&#x56fe;&#x7684;&#x8bbe;&#x8ba1;&#x76ee;&#x7684;&#xff0c;&#x662f;&#x7528;&#x6765;&#x5904;&#x7406;&#x7f51;&#x7edc;&#x8bbe;&#x5907;&#x4f20;&#x6765;&#x7684;&#x6570;&#x636e;&#xff0c;&#x6240;&#x4ee5;&#x5927;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x6216;&#x5c0f;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x662f;&#x53ef;&#x4ee5;&#x81ea;&#x884c;&#x8bbe;&#x5b9a;&#x7684;&#x3002;\n\n`DataView`&#x89c6;&#x56fe;&#x672c;&#x8eab;&#x4e5f;&#x662f;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x63a5;&#x53d7;&#x4e00;&#x4e2a;`ArrayBuffer`&#x5bf9;&#x8c61;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x751f;&#x6210;&#x89c6;&#x56fe;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"658,663"}},{"content":"<pre data-lines=\"664,667\"><code data-lines=\"664,667\"><span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">DataView</span>(<span class=\"hljs-built_in\">ArrayBuffer</span> buffer [, &#x5b57;&#x8282;&#x8d77;&#x59cb;&#x4f4d;&#x7f6e; [, &#x957f;&#x5ea6;]]); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"664,667"}},{"content":"<pre data-lines=\"668,669\"><code>&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"668,669"}},{"content":"<pre data-lines=\"670,674\"><code data-lines=\"670,674\"><span class=\"hljs-type\">const</span> buffer = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">ArrayBuffer</span>(<span class=\"hljs-number\">24</span>);\n<span class=\"hljs-type\">const</span> dv = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">DataView</span>(buffer); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"670,674"}},{"content":"<pre data-lines=\"675,693\"><code>`DataView`&#x5b9e;&#x4f8b;&#x6709;&#x4ee5;&#x4e0b;&#x5c5e;&#x6027;&#xff0c;&#x542b;&#x4e49;&#x4e0e;`TypedArray`&#x5b9e;&#x4f8b;&#x7684;&#x540c;&#x540d;&#x65b9;&#x6cd5;&#x76f8;&#x540c;&#x3002;\n\n*   `DataView.prototype.buffer`&#xff1a;&#x8fd4;&#x56de;&#x5bf9;&#x5e94;&#x7684; ArrayBuffer &#x5bf9;&#x8c61;\n*   `DataView.prototype.byteLength`&#xff1a;&#x8fd4;&#x56de;&#x5360;&#x636e;&#x7684;&#x5185;&#x5b58;&#x5b57;&#x8282;&#x957f;&#x5ea6;\n*   `DataView.prototype.byteOffset`&#xff1a;&#x8fd4;&#x56de;&#x5f53;&#x524d;&#x89c6;&#x56fe;&#x4ece;&#x5bf9;&#x5e94;&#x7684; ArrayBuffer &#x5bf9;&#x8c61;&#x7684;&#x54ea;&#x4e2a;&#x5b57;&#x8282;&#x5f00;&#x59cb;\n\n`DataView`&#x5b9e;&#x4f8b;&#x63d0;&#x4f9b; 8 &#x4e2a;&#x65b9;&#x6cd5;&#x8bfb;&#x53d6;&#x5185;&#x5b58;&#x3002;\n\n*   **`getInt8`**&#xff1a;&#x8bfb;&#x53d6; 1 &#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; 8 &#x4f4d;&#x6574;&#x6570;&#x3002;\n*   **`getUint8`**&#xff1a;&#x8bfb;&#x53d6; 1 &#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x65e0;&#x7b26;&#x53f7;&#x7684; 8 &#x4f4d;&#x6574;&#x6570;&#x3002;\n*   **`getInt16`**&#xff1a;&#x8bfb;&#x53d6; 2 &#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; 16 &#x4f4d;&#x6574;&#x6570;&#x3002;\n*   **`getUint16`**&#xff1a;&#x8bfb;&#x53d6; 2 &#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x65e0;&#x7b26;&#x53f7;&#x7684; 16 &#x4f4d;&#x6574;&#x6570;&#x3002;\n*   **`getInt32`**&#xff1a;&#x8bfb;&#x53d6; 4 &#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; 32 &#x4f4d;&#x6574;&#x6570;&#x3002;\n*   **`getUint32`**&#xff1a;&#x8bfb;&#x53d6; 4 &#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x65e0;&#x7b26;&#x53f7;&#x7684; 32 &#x4f4d;&#x6574;&#x6570;&#x3002;\n*   **`getFloat32`**&#xff1a;&#x8bfb;&#x53d6; 4 &#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; 32 &#x4f4d;&#x6d6e;&#x70b9;&#x6570;&#x3002;\n*   **`getFloat64`**&#xff1a;&#x8bfb;&#x53d6; 8 &#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; 64 &#x4f4d;&#x6d6e;&#x70b9;&#x6570;&#x3002;\n\n&#x8fd9;&#x4e00;&#x7cfb;&#x5217;`get`&#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;&#x90fd;&#x662f;&#x4e00;&#x4e2a;&#x5b57;&#x8282;&#x5e8f;&#x53f7;&#xff08;&#x4e0d;&#x80fd;&#x662f;&#x8d1f;&#x6570;&#xff0c;&#x5426;&#x5219;&#x4f1a;&#x62a5;&#x9519;&#xff09;&#xff0c;&#x8868;&#x793a;&#x4ece;&#x54ea;&#x4e2a;&#x5b57;&#x8282;&#x5f00;&#x59cb;&#x8bfb;&#x53d6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"675,693"}},{"content":"<pre data-lines=\"694,701\"><code data-lines=\"694,701\">const buffer <span class=\"hljs-operator\">=</span> new ArrayBuffer(<span class=\"hljs-number\">24</span>)<span class=\"hljs-comment\">;</span>\nconst dv <span class=\"hljs-operator\">=</span> new DataView(buffer)<span class=\"hljs-comment\">;</span>\nconst v1 <span class=\"hljs-operator\">=</span> dv.getUint8(<span class=\"hljs-number\">0</span>)<span class=\"hljs-comment\">;</span>\nconst v2 <span class=\"hljs-operator\">=</span> dv.getUint16(<span class=\"hljs-number\">1</span>)<span class=\"hljs-comment\">;</span>\nconst v3 <span class=\"hljs-operator\">=</span> dv.getUint16(<span class=\"hljs-number\">3</span>)<span class=\"hljs-comment\">; </span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"694,701"}},{"content":"<pre data-lines=\"702,705\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x8bfb;&#x53d6;&#x4e86;`ArrayBuffer`&#x5bf9;&#x8c61;&#x7684;&#x524d; 5 &#x4e2a;&#x5b57;&#x8282;&#xff0c;&#x5176;&#x4e2d;&#x6709;&#x4e00;&#x4e2a; 8 &#x4f4d;&#x6574;&#x6570;&#x548c;&#x4e24;&#x4e2a;&#x5341;&#x516d;&#x4f4d;&#x6574;&#x6570;&#x3002;\n\n&#x5982;&#x679c;&#x4e00;&#x6b21;&#x8bfb;&#x53d6;&#x4e24;&#x4e2a;&#x6216;&#x4e24;&#x4e2a;&#x4ee5;&#x4e0a;&#x5b57;&#x8282;&#xff0c;&#x5c31;&#x5fc5;&#x987b;&#x660e;&#x786e;&#x6570;&#x636e;&#x7684;&#x5b58;&#x50a8;&#x65b9;&#x5f0f;&#xff0c;&#x5230;&#x5e95;&#x662f;&#x5c0f;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x8fd8;&#x662f;&#x5927;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x3002;&#x9ed8;&#x8ba4;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;`DataView`&#x7684;`get`&#x65b9;&#x6cd5;&#x4f7f;&#x7528;&#x5927;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x89e3;&#x8bfb;&#x6570;&#x636e;&#xff0c;&#x5982;&#x679c;&#x9700;&#x8981;&#x4f7f;&#x7528;&#x5c0f;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x89e3;&#x8bfb;&#xff0c;&#x5fc5;&#x987b;&#x5728;`get`&#x65b9;&#x6cd5;&#x7684;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#x6307;&#x5b9a;`true`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"702,705"}},{"content":"<pre data-lines=\"706,711\"><code data-lines=\"706,711\"><span class=\"hljs-keyword\">const</span> v1 = dv.getUint16(<span class=\"hljs-number\">1</span>, <span class=\"hljs-literal\">true</span>);\n<span class=\"hljs-keyword\">const</span> v2 = dv.getUint16(<span class=\"hljs-number\">3</span>, <span class=\"hljs-literal\">false</span>);\n<span class=\"hljs-keyword\">const</span> v3 = dv.getUint16(<span class=\"hljs-number\">3</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"706,711"}},{"content":"<pre data-lines=\"712,724\"><code>DataView &#x89c6;&#x56fe;&#x63d0;&#x4f9b; 8 &#x4e2a;&#x65b9;&#x6cd5;&#x5199;&#x5165;&#x5185;&#x5b58;&#x3002;\n\n*   **`setInt8`**&#xff1a;&#x5199;&#x5165; 1 &#x4e2a;&#x5b57;&#x8282;&#x7684; 8 &#x4f4d;&#x6574;&#x6570;&#x3002;\n*   **`setUint8`**&#xff1a;&#x5199;&#x5165; 1 &#x4e2a;&#x5b57;&#x8282;&#x7684; 8 &#x4f4d;&#x65e0;&#x7b26;&#x53f7;&#x6574;&#x6570;&#x3002;\n*   **`setInt16`**&#xff1a;&#x5199;&#x5165; 2 &#x4e2a;&#x5b57;&#x8282;&#x7684; 16 &#x4f4d;&#x6574;&#x6570;&#x3002;\n*   **`setUint16`**&#xff1a;&#x5199;&#x5165; 2 &#x4e2a;&#x5b57;&#x8282;&#x7684; 16 &#x4f4d;&#x65e0;&#x7b26;&#x53f7;&#x6574;&#x6570;&#x3002;\n*   **`setInt32`**&#xff1a;&#x5199;&#x5165; 4 &#x4e2a;&#x5b57;&#x8282;&#x7684; 32 &#x4f4d;&#x6574;&#x6570;&#x3002;\n*   **`setUint32`**&#xff1a;&#x5199;&#x5165; 4 &#x4e2a;&#x5b57;&#x8282;&#x7684; 32 &#x4f4d;&#x65e0;&#x7b26;&#x53f7;&#x6574;&#x6570;&#x3002;\n*   **`setFloat32`**&#xff1a;&#x5199;&#x5165; 4 &#x4e2a;&#x5b57;&#x8282;&#x7684; 32 &#x4f4d;&#x6d6e;&#x70b9;&#x6570;&#x3002;\n*   **`setFloat64`**&#xff1a;&#x5199;&#x5165; 8 &#x4e2a;&#x5b57;&#x8282;&#x7684; 64 &#x4f4d;&#x6d6e;&#x70b9;&#x6570;&#x3002;\n\n&#x8fd9;&#x4e00;&#x7cfb;&#x5217;`set`&#x65b9;&#x6cd5;&#xff0c;&#x63a5;&#x53d7;&#x4e24;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x5b57;&#x8282;&#x5e8f;&#x53f7;&#xff0c;&#x8868;&#x793a;&#x4ece;&#x54ea;&#x4e2a;&#x5b57;&#x8282;&#x5f00;&#x59cb;&#x5199;&#x5165;&#xff0c;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#x4e3a;&#x5199;&#x5165;&#x7684;&#x6570;&#x636e;&#x3002;&#x5bf9;&#x4e8e;&#x90a3;&#x4e9b;&#x5199;&#x5165;&#x4e24;&#x4e2a;&#x6216;&#x4e24;&#x4e2a;&#x4ee5;&#x4e0a;&#x5b57;&#x8282;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x9700;&#x8981;&#x6307;&#x5b9a;&#x7b2c;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#xff0c;`false`&#x6216;&#x8005;`undefined`&#x8868;&#x793a;&#x4f7f;&#x7528;&#x5927;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x5199;&#x5165;&#xff0c;`true`&#x8868;&#x793a;&#x4f7f;&#x7528;&#x5c0f;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x5199;&#x5165;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"712,724"}},{"content":"<pre data-lines=\"725,730\"><code data-lines=\"725,730\"><span class=\"hljs-attribute\">dv</span>.setInt32(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">25</span>, false);\n<span class=\"hljs-attribute\">dv</span>.setInt32(<span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">25</span>);\n<span class=\"hljs-attribute\">dv</span>.setFloat32(<span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">2</span>.<span class=\"hljs-number\">5</span>, true); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"725,730"}},{"content":"<pre data-lines=\"731,732\"><code>&#x5982;&#x679c;&#x4e0d;&#x786e;&#x5b9a;&#x6b63;&#x5728;&#x4f7f;&#x7528;&#x7684;&#x8ba1;&#x7b97;&#x673a;&#x7684;&#x5b57;&#x8282;&#x5e8f;&#xff0c;&#x53ef;&#x4ee5;&#x91c7;&#x7528;&#x4e0b;&#x9762;&#x7684;&#x5224;&#x65ad;&#x65b9;&#x5f0f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"731,732"}},{"content":"<pre data-lines=\"733,740\"><code data-lines=\"733,740\"><span class=\"hljs-keyword\">const</span> littleEndian = (<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">const</span> buffer = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ArrayBuffer</span>(<span class=\"hljs-number\">2</span>);\n  <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">DataView</span>(buffer).<span class=\"hljs-title function_\">setInt16</span>(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">256</span>, <span class=\"hljs-literal\">true</span>);\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Int16Array</span>(buffer)[<span class=\"hljs-number\">0</span>] === <span class=\"hljs-number\">256</span>;\n})(); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"733,740"}},{"content":"<pre data-lines=\"741,742\"><code>&#x5982;&#x679c;&#x8fd4;&#x56de;`true`&#xff0c;&#x5c31;&#x662f;&#x5c0f;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#xff1b;&#x5982;&#x679c;&#x8fd4;&#x56de;`false`&#xff0c;&#x5c31;&#x662f;&#x5927;&#x7aef;&#x5b57;&#x8282;&#x5e8f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"741,742"}}],"payload":{"tag":"h2","lines":"655,657"}},{"content":"&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x7ec4;&#x7684;&#x5e94;&#x7528;","children":[{"content":"AJAX","children":[{"content":"<pre data-lines=\"750,751\"><code>&#x4f20;&#x7edf;&#x4e0a;&#xff0c;&#x670d;&#x52a1;&#x5668;&#x901a;&#x8fc7; AJAX &#x64cd;&#x4f5c;&#x53ea;&#x80fd;&#x8fd4;&#x56de;&#x6587;&#x672c;&#x6570;&#x636e;&#xff0c;&#x5373;`responseType`&#x5c5e;&#x6027;&#x9ed8;&#x8ba4;&#x4e3a;`text`&#x3002;`XMLHttpRequest`&#x7b2c;&#x4e8c;&#x7248;`XHR2`&#x5141;&#x8bb8;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#xff0c;&#x8fd9;&#x65f6;&#x5206;&#x6210;&#x4e24;&#x79cd;&#x60c5;&#x51b5;&#x3002;&#x5982;&#x679c;&#x660e;&#x786e;&#x77e5;&#x9053;&#x8fd4;&#x56de;&#x7684;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x7c7b;&#x578b;&#xff0c;&#x53ef;&#x4ee5;&#x628a;&#x8fd4;&#x56de;&#x7c7b;&#x578b;&#xff08;`responseType`&#xff09;&#x8bbe;&#x4e3a;`arraybuffer`&#xff1b;&#x5982;&#x679c;&#x4e0d;&#x77e5;&#x9053;&#xff0c;&#x5c31;&#x8bbe;&#x4e3a;`blob`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"750,751"}},{"content":"<pre data-lines=\"752,763\"><code data-lines=\"752,763\"><span class=\"hljs-keyword\">let</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;GET&apos;</span>, someUrl);\nxhr.<span class=\"hljs-property\">responseType</span> = <span class=\"hljs-string\">&apos;arraybuffer&apos;</span>;\n\nxhr.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">let</span> arrayBuffer = xhr.<span class=\"hljs-property\">response</span>;\n };\n\nxhr.<span class=\"hljs-title function_\">send</span>(); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"752,763"}},{"content":"<pre data-lines=\"764,765\"><code>&#x5982;&#x679c;&#x77e5;&#x9053;&#x4f20;&#x56de;&#x6765;&#x7684;&#x662f; 32 &#x4f4d;&#x6574;&#x6570;&#xff0c;&#x53ef;&#x4ee5;&#x50cf;&#x4e0b;&#x9762;&#x8fd9;&#x6837;&#x5904;&#x7406;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"764,765"}},{"content":"<pre data-lines=\"766,778\"><code data-lines=\"766,778\">xhr.<span class=\"hljs-property\">onreadystatechange</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">if</span> (req.<span class=\"hljs-property\">readyState</span> === <span class=\"hljs-number\">4</span> ) {\n    <span class=\"hljs-keyword\">const</span> arrayResponse = xhr.<span class=\"hljs-property\">response</span>;\n    <span class=\"hljs-keyword\">const</span> dataView = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">DataView</span>(arrayResponse);\n    <span class=\"hljs-keyword\">const</span> ints = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Uint32Array</span>(dataView.<span class=\"hljs-property\">byteLength</span> / <span class=\"hljs-number\">4</span>);\n\n    xhrDiv.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">backgroundColor</span> = <span class=\"hljs-string\">&quot;#00FF00&quot;</span>;\n    xhrDiv.<span class=\"hljs-property\">innerText</span> = <span class=\"hljs-string\">&quot;Array is &quot;</span> + ints.<span class=\"hljs-property\">length</span> + <span class=\"hljs-string\">&quot;uints long&quot;</span>;\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"766,778"}}],"payload":{"tag":"h3","lines":"748,749"}},{"content":"Canvas","children":[{"content":"<pre data-lines=\"781,782\"><code>&#x7f51;&#x9875;`Canvas`&#x5143;&#x7d20;&#x8f93;&#x51fa;&#x7684;&#x4e8c;&#x8fdb;&#x5236;&#x50cf;&#x7d20;&#x6570;&#x636e;&#xff0c;&#x5c31;&#x662f; TypedArray &#x6570;&#x7ec4;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"781,782"}},{"content":"<pre data-lines=\"783,790\"><code data-lines=\"783,790\"><span class=\"hljs-keyword\">const</span> canvas = <span class=\"hljs-built_in\">document</span>.getElementById(<span class=\"hljs-string\">&apos;myCanvas&apos;</span>);\n<span class=\"hljs-keyword\">const</span> ctx = canvas.getContext(<span class=\"hljs-string\">&apos;2d&apos;</span>);\n\n<span class=\"hljs-keyword\">const</span> imageData = ctx.getImageData(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, canvas.width, canvas.height);\n<span class=\"hljs-keyword\">const</span> uint8ClampedArray = imageData.data; \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"783,790"}},{"content":"<pre data-lines=\"791,794\"><code>&#x9700;&#x8981;&#x6ce8;&#x610f;&#x7684;&#x662f;&#xff0c;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;`uint8ClampedArray`&#x867d;&#x7136;&#x662f;&#x4e00;&#x4e2a; TypedArray &#x6570;&#x7ec4;&#xff0c;&#x4f46;&#x662f;&#x5b83;&#x7684;&#x89c6;&#x56fe;&#x7c7b;&#x578b;&#x662f;&#x4e00;&#x79cd;&#x9488;&#x5bf9;`Canvas`&#x5143;&#x7d20;&#x7684;&#x4e13;&#x6709;&#x7c7b;&#x578b;`Uint8ClampedArray`&#x3002;&#x8fd9;&#x4e2a;&#x89c6;&#x56fe;&#x7c7b;&#x578b;&#x7684;&#x7279;&#x70b9;&#xff0c;&#x5c31;&#x662f;&#x4e13;&#x95e8;&#x9488;&#x5bf9;&#x989c;&#x8272;&#xff0c;&#x628a;&#x6bcf;&#x4e2a;&#x5b57;&#x8282;&#x89e3;&#x8bfb;&#x4e3a;&#x65e0;&#x7b26;&#x53f7;&#x7684; 8 &#x4f4d;&#x6574;&#x6570;&#xff0c;&#x5373;&#x53ea;&#x80fd;&#x53d6;&#x503c; 0 &#xff5e; 255&#xff0c;&#x800c;&#x4e14;&#x53d1;&#x751f;&#x8fd0;&#x7b97;&#x7684;&#x65f6;&#x5019;&#x81ea;&#x52a8;&#x8fc7;&#x6ee4;&#x9ad8;&#x4f4d;&#x6ea2;&#x51fa;&#x3002;&#x8fd9;&#x4e3a;&#x56fe;&#x50cf;&#x5904;&#x7406;&#x5e26;&#x6765;&#x4e86;&#x5de8;&#x5927;&#x7684;&#x65b9;&#x4fbf;&#x3002;\n\n&#x4e3e;&#x4f8b;&#x6765;&#x8bf4;&#xff0c;&#x5982;&#x679c;&#x628a;&#x50cf;&#x7d20;&#x7684;&#x989c;&#x8272;&#x503c;&#x8bbe;&#x4e3a;`Uint8Array`&#x7c7b;&#x578b;&#xff0c;&#x90a3;&#x4e48;&#x4e58;&#x4ee5;&#x4e00;&#x4e2a; gamma &#x503c;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x5c31;&#x5fc5;&#x987b;&#x8fd9;&#x6837;&#x8ba1;&#x7b97;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"791,794"}},{"content":"<pre data-lines=\"795,798\"><code data-lines=\"795,798\">u8[i] = Math.<span class=\"hljs-built_in\">min</span>(<span class=\"hljs-number\">255</span>, Math.<span class=\"hljs-built_in\">max</span>(<span class=\"hljs-number\">0</span>, u8[i] * <span class=\"hljs-built_in\">gamma</span>)); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"795,798"}},{"content":"<pre data-lines=\"799,800\"><code>&#x56e0;&#x4e3a;`Uint8Array`&#x7c7b;&#x578b;&#x5bf9;&#x4e8e;&#x5927;&#x4e8e; 255 &#x7684;&#x8fd0;&#x7b97;&#x7ed3;&#x679c;&#xff08;&#x6bd4;&#x5982;`0xFF+1`&#xff09;&#xff0c;&#x4f1a;&#x81ea;&#x52a8;&#x53d8;&#x4e3a;`0x00`&#xff0c;&#x6240;&#x4ee5;&#x56fe;&#x50cf;&#x5904;&#x7406;&#x5fc5;&#x987b;&#x8981;&#x50cf;&#x4e0a;&#x9762;&#x8fd9;&#x6837;&#x7b97;&#x3002;&#x8fd9;&#x6837;&#x505a;&#x5f88;&#x9ebb;&#x70e6;&#xff0c;&#x800c;&#x4e14;&#x5f71;&#x54cd;&#x6027;&#x80fd;&#x3002;&#x5982;&#x679c;&#x5c06;&#x989c;&#x8272;&#x503c;&#x8bbe;&#x4e3a;`Uint8ClampedArray`&#x7c7b;&#x578b;&#xff0c;&#x8ba1;&#x7b97;&#x5c31;&#x7b80;&#x5316;&#x8bb8;&#x591a;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"799,800"}},{"content":"<pre data-lines=\"801,804\"><code data-lines=\"801,804\">pixels[i] *<span class=\"hljs-operator\">=</span> gamma<span class=\"hljs-comment\">; </span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"801,804"}},{"content":"<pre data-lines=\"805,806\"><code>`Uint8ClampedArray`&#x7c7b;&#x578b;&#x786e;&#x4fdd;&#x5c06;&#x5c0f;&#x4e8e; 0 &#x7684;&#x503c;&#x8bbe;&#x4e3a; 0&#xff0c;&#x5c06;&#x5927;&#x4e8e; 255 &#x7684;&#x503c;&#x8bbe;&#x4e3a; 255&#x3002;&#x6ce8;&#x610f;&#xff0c;IE 10 &#x4e0d;&#x652f;&#x6301;&#x8be5;&#x7c7b;&#x578b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"805,806"}}],"payload":{"tag":"h3","lines":"779,780"}},{"content":"WebSocket","children":[{"content":"<pre data-lines=\"809,810\"><code>`WebSocket`&#x53ef;&#x4ee5;&#x901a;&#x8fc7;`ArrayBuffer`&#xff0c;&#x53d1;&#x9001;&#x6216;&#x63a5;&#x6536;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"809,810"}},{"content":"<pre data-lines=\"811,822\"><code data-lines=\"811,822\"><span class=\"hljs-keyword\">let</span> socket = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">WebSocket</span>(<span class=\"hljs-string\">&apos;ws://127.0.0.1:8081&apos;</span>);\nsocket.<span class=\"hljs-property\">binaryType</span> = <span class=\"hljs-string\">&apos;arraybuffer&apos;</span>;\nsocket.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;open&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">event</span>) {\n   <span class=\"hljs-keyword\">const</span> typedArray = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Uint8Array</span>(<span class=\"hljs-number\">4</span>);\n  socket.<span class=\"hljs-title function_\">send</span>(typedArray.<span class=\"hljs-property\">buffer</span>);\n});\nsocket.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;message&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">event</span>) {\n  <span class=\"hljs-keyword\">const</span> arrayBuffer = event.<span class=\"hljs-property\">data</span>;\n }); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"811,822"}}],"payload":{"tag":"h3","lines":"807,808"}},{"content":"Fetch API","children":[{"content":"<pre data-lines=\"825,826\"><code>Fetch API &#x53d6;&#x56de;&#x7684;&#x6570;&#x636e;&#xff0c;&#x5c31;&#x662f;`ArrayBuffer`&#x5bf9;&#x8c61;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"825,826"}},{"content":"<pre data-lines=\"827,835\"><code data-lines=\"827,835\"><span class=\"hljs-title function_\">fetch</span>(<span class=\"hljs-variable\">url</span>)\n.<span class=\"hljs-property\">then</span>(<span class=\"hljs-title function_\">function</span>(<span class=\"hljs-params\">response</span>){\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">response</span>.<span class=\"hljs-property\">arrayBuffer</span>()\n})\n.<span class=\"hljs-property\">then</span>(<span class=\"hljs-title function_\">function</span>(<span class=\"hljs-params\">arrayBuffer</span>){\n }); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"827,835"}}],"payload":{"tag":"h3","lines":"823,824"}},{"content":"File API","children":[{"content":"<pre data-lines=\"838,839\"><code>&#x5982;&#x679c;&#x77e5;&#x9053;&#x4e00;&#x4e2a;&#x6587;&#x4ef6;&#x7684;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x7c7b;&#x578b;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x5c06;&#x8fd9;&#x4e2a;&#x6587;&#x4ef6;&#x8bfb;&#x53d6;&#x4e3a;`ArrayBuffer`&#x5bf9;&#x8c61;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"838,839"}},{"content":"<pre data-lines=\"840,849\"><code data-lines=\"840,849\"><span class=\"hljs-keyword\">const</span> fileInput = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&apos;fileInput&apos;</span>);\n<span class=\"hljs-keyword\">const</span> file = fileInput.<span class=\"hljs-property\">files</span>[<span class=\"hljs-number\">0</span>];\n<span class=\"hljs-keyword\">const</span> reader = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileReader</span>();\nreader.<span class=\"hljs-title function_\">readAsArrayBuffer</span>(file);\nreader.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">const</span> arrayBuffer = reader.<span class=\"hljs-property\">result</span>;\n }; \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"840,849"}},{"content":"<pre data-lines=\"850,851\"><code>&#x4e0b;&#x9762;&#x4ee5;&#x5904;&#x7406; bmp &#x6587;&#x4ef6;&#x4e3a;&#x4f8b;&#x3002;&#x5047;&#x5b9a;`file`&#x53d8;&#x91cf;&#x662f;&#x4e00;&#x4e2a;&#x6307;&#x5411; bmp &#x6587;&#x4ef6;&#x7684;&#x6587;&#x4ef6;&#x5bf9;&#x8c61;&#xff0c;&#x9996;&#x5148;&#x8bfb;&#x53d6;&#x6587;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"850,851"}},{"content":"<pre data-lines=\"852,857\"><code data-lines=\"852,857\"><span class=\"hljs-keyword\">const</span> reader = <span class=\"hljs-keyword\">new</span> FileReader();\nreader.addEventListener(<span class=\"hljs-string\">&quot;load&quot;</span>, processimage, <span class=\"hljs-literal\">false</span>);\nreader.readAsArrayBuffer(<span class=\"hljs-keyword\">file</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"852,857"}},{"content":"<pre data-lines=\"858,859\"><code>&#x7136;&#x540e;&#xff0c;&#x5b9a;&#x4e49;&#x5904;&#x7406;&#x56fe;&#x50cf;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff1a;&#x5148;&#x5728;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x4e4b;&#x4e0a;&#x5efa;&#x7acb;&#x4e00;&#x4e2a;`DataView`&#x89c6;&#x56fe;&#xff0c;&#x518d;&#x5efa;&#x7acb;&#x4e00;&#x4e2a;`bitmap`&#x5bf9;&#x8c61;&#xff0c;&#x7528;&#x4e8e;&#x5b58;&#x653e;&#x5904;&#x7406;&#x540e;&#x7684;&#x6570;&#x636e;&#xff0c;&#x6700;&#x540e;&#x5c06;&#x56fe;&#x50cf;&#x5c55;&#x793a;&#x5728;`Canvas`&#x5143;&#x7d20;&#x4e4b;&#x4e2d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"858,859"}},{"content":"<pre data-lines=\"860,867\"><code data-lines=\"860,867\"><span class=\"hljs-function\">function <span class=\"hljs-title\">processimage</span><span class=\"hljs-params\">(e)</span> </span>{\n  <span class=\"hljs-type\">const</span> buffer = e.target.result;\n  <span class=\"hljs-type\">const</span> datav = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">DataView</span>(buffer);\n  <span class=\"hljs-type\">const</span> bitmap = {};\n } \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"860,867"}},{"content":"<pre data-lines=\"868,869\"><code>&#x5177;&#x4f53;&#x5904;&#x7406;&#x56fe;&#x50cf;&#x6570;&#x636e;&#x65f6;&#xff0c;&#x5148;&#x5904;&#x7406; bmp &#x7684;&#x6587;&#x4ef6;&#x5934;&#x3002;&#x5177;&#x4f53;&#x6bcf;&#x4e2a;&#x6587;&#x4ef6;&#x5934;&#x7684;&#x683c;&#x5f0f;&#x548c;&#x5b9a;&#x4e49;&#xff0c;&#x8bf7;&#x53c2;&#x9605;&#x6709;&#x5173;&#x8d44;&#x6599;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"868,869"}},{"content":"<pre data-lines=\"870,878\"><code data-lines=\"870,878\"><span class=\"hljs-attr\">bitmap.fileheader</span> = {}<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.fileheader.bfType</span> = datav.getUint16(<span class=\"hljs-number\">0</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.fileheader.bfSize</span> = datav.getUint32(<span class=\"hljs-number\">2</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.fileheader.bfReserved1</span> = datav.getUint16(<span class=\"hljs-number\">6</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.fileheader.bfReserved2</span> = datav.getUint16(<span class=\"hljs-number\">8</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.fileheader.bfOffBits</span> = datav.getUint32(<span class=\"hljs-number\">10</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">; </span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"870,878"}},{"content":"<pre data-lines=\"879,880\"><code>&#x63a5;&#x7740;&#x5904;&#x7406;&#x56fe;&#x50cf;&#x5143;&#x4fe1;&#x606f;&#x90e8;&#x5206;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"879,880"}},{"content":"<pre data-lines=\"881,895\"><code data-lines=\"881,895\"><span class=\"hljs-attr\">bitmap.infoheader</span> = {}<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.infoheader.biSize</span> = datav.getUint32(<span class=\"hljs-number\">14</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.infoheader.biWidth</span> = datav.getUint32(<span class=\"hljs-number\">18</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.infoheader.biHeight</span> = datav.getUint32(<span class=\"hljs-number\">22</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.infoheader.biPlanes</span> = datav.getUint16(<span class=\"hljs-number\">26</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.infoheader.biBitCount</span> = datav.getUint16(<span class=\"hljs-number\">28</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.infoheader.biCompression</span> = datav.getUint32(<span class=\"hljs-number\">30</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.infoheader.biSizeImage</span> = datav.getUint32(<span class=\"hljs-number\">34</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.infoheader.biXPelsPerMeter</span> = datav.getUint32(<span class=\"hljs-number\">38</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.infoheader.biYPelsPerMeter</span> = datav.getUint32(<span class=\"hljs-number\">42</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.infoheader.biClrUsed</span> = datav.getUint32(<span class=\"hljs-number\">46</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-attr\">bitmap.infoheader.biClrImportant</span> = datav.getUint32(<span class=\"hljs-number\">50</span>, <span class=\"hljs-literal\">true</span>)<span class=\"hljs-comment\">; </span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"881,895"}},{"content":"<pre data-lines=\"896,897\"><code>&#x6700;&#x540e;&#x5904;&#x7406;&#x56fe;&#x50cf;&#x672c;&#x8eab;&#x7684;&#x50cf;&#x7d20;&#x4fe1;&#x606f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"896,897"}},{"content":"<pre data-lines=\"898,902\"><code data-lines=\"898,902\"><span class=\"hljs-type\">const</span> start = bitmap.fileheader.bfOffBits;\nbitmap.pixels = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">Uint8Array</span>(buffer, start); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"898,902"}},{"content":"<pre data-lines=\"903,906\"><code>&#x81f3;&#x6b64;&#xff0c;&#x56fe;&#x50cf;&#x6587;&#x4ef6;&#x7684;&#x6570;&#x636e;&#x5168;&#x90e8;&#x5904;&#x7406;&#x5b8c;&#x6210;&#x3002;&#x4e0b;&#x4e00;&#x6b65;&#xff0c;&#x53ef;&#x4ee5;&#x6839;&#x636e;&#x9700;&#x8981;&#xff0c;&#x8fdb;&#x884c;&#x56fe;&#x50cf;&#x53d8;&#x5f62;&#xff0c;&#x6216;&#x8005;&#x8f6c;&#x6362;&#x683c;&#x5f0f;&#xff0c;&#x6216;&#x8005;&#x5c55;&#x793a;&#x5728;`Canvas`&#x7f51;&#x9875;&#x5143;&#x7d20;&#x4e4b;&#x4e2d;&#x3002;\n\nJavaScript &#x662f;&#x5355;&#x7ebf;&#x7a0b;&#x7684;&#xff0c;Web worker &#x5f15;&#x5165;&#x4e86;&#x591a;&#x7ebf;&#x7a0b;&#xff1a;&#x4e3b;&#x7ebf;&#x7a0b;&#x7528;&#x6765;&#x4e0e;&#x7528;&#x6237;&#x4e92;&#x52a8;&#xff0c;Worker &#x7ebf;&#x7a0b;&#x7528;&#x6765;&#x627f;&#x62c5;&#x8ba1;&#x7b97;&#x4efb;&#x52a1;&#x3002;&#x6bcf;&#x4e2a;&#x7ebf;&#x7a0b;&#x7684;&#x6570;&#x636e;&#x90fd;&#x662f;&#x9694;&#x79bb;&#x7684;&#xff0c;&#x901a;&#x8fc7;`postMessage()`&#x901a;&#x4fe1;&#x3002;&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"903,906"}},{"content":"<pre data-lines=\"907,910\"><code data-lines=\"907,910\"><span class=\"hljs-keyword\">const</span> w = <span class=\"hljs-keyword\">new</span> Worker(<span class=\"hljs-string\">&apos;myworker.js&apos;</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"907,910"}},{"content":"<pre data-lines=\"911,912\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x4e3b;&#x7ebf;&#x7a0b;&#x65b0;&#x5efa;&#x4e86;&#x4e00;&#x4e2a; Worker &#x7ebf;&#x7a0b;&#x3002;&#x8be5;&#x7ebf;&#x7a0b;&#x4e0e;&#x4e3b;&#x7ebf;&#x7a0b;&#x4e4b;&#x95f4;&#x4f1a;&#x6709;&#x4e00;&#x4e2a;&#x901a;&#x4fe1;&#x6e20;&#x9053;&#xff0c;&#x4e3b;&#x7ebf;&#x7a0b;&#x901a;&#x8fc7;`w.postMessage`&#x5411; Worker &#x7ebf;&#x7a0b;&#x53d1;&#x6d88;&#x606f;&#xff0c;&#x540c;&#x65f6;&#x901a;&#x8fc7;`message`&#x4e8b;&#x4ef6;&#x76d1;&#x542c; Worker &#x7ebf;&#x7a0b;&#x7684;&#x56de;&#x5e94;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"911,912"}},{"content":"<pre data-lines=\"913,919\"><code data-lines=\"913,919\">w.postMessage(<span class=\"hljs-string\">&apos;hi&apos;</span>);\nw.onmessage = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">ev</span>) {\n  <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(ev.data);\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"913,919"}},{"content":"<pre data-lines=\"920,923\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x4e3b;&#x7ebf;&#x7a0b;&#x5148;&#x53d1;&#x4e00;&#x4e2a;&#x6d88;&#x606f;`hi`&#xff0c;&#x7136;&#x540e;&#x5728;&#x76d1;&#x542c;&#x5230; Worker &#x7ebf;&#x7a0b;&#x7684;&#x56de;&#x5e94;&#x540e;&#xff0c;&#x5c31;&#x5c06;&#x5176;&#x6253;&#x5370;&#x51fa;&#x6765;&#x3002;\n\nWorker &#x7ebf;&#x7a0b;&#x4e5f;&#x662f;&#x901a;&#x8fc7;&#x76d1;&#x542c;`message`&#x4e8b;&#x4ef6;&#xff0c;&#x6765;&#x83b7;&#x53d6;&#x4e3b;&#x7ebf;&#x7a0b;&#x53d1;&#x6765;&#x7684;&#x6d88;&#x606f;&#xff0c;&#x5e76;&#x4f5c;&#x51fa;&#x53cd;&#x5e94;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"920,923"}},{"content":"<pre data-lines=\"924,930\"><code data-lines=\"924,930\">onmessage = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">ev</span>) {\n  <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(ev.data);\n  postMessage(<span class=\"hljs-string\">&apos;ho&apos;</span>);\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"924,930"}},{"content":"<pre data-lines=\"931,934\"><code>&#x7ebf;&#x7a0b;&#x4e4b;&#x95f4;&#x7684;&#x6570;&#x636e;&#x4ea4;&#x6362;&#x53ef;&#x4ee5;&#x662f;&#x5404;&#x79cd;&#x683c;&#x5f0f;&#xff0c;&#x4e0d;&#x4ec5;&#x4ec5;&#x662f;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x662f;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x3002;&#x8fd9;&#x79cd;&#x4ea4;&#x6362;&#x91c7;&#x7528;&#x7684;&#x662f;&#x590d;&#x5236;&#x673a;&#x5236;&#xff0c;&#x5373;&#x4e00;&#x4e2a;&#x8fdb;&#x7a0b;&#x5c06;&#x9700;&#x8981;&#x5206;&#x4eab;&#x7684;&#x6570;&#x636e;&#x590d;&#x5236;&#x4e00;&#x4efd;&#xff0c;&#x901a;&#x8fc7;`postMessage`&#x65b9;&#x6cd5;&#x4ea4;&#x7ed9;&#x53e6;&#x4e00;&#x4e2a;&#x8fdb;&#x7a0b;&#x3002;&#x5982;&#x679c;&#x6570;&#x636e;&#x91cf;&#x6bd4;&#x8f83;&#x5927;&#xff0c;&#x8fd9;&#x79cd;&#x901a;&#x4fe1;&#x7684;&#x6548;&#x7387;&#x663e;&#x7136;&#x6bd4;&#x8f83;&#x4f4e;&#x3002;&#x5f88;&#x5bb9;&#x6613;&#x60f3;&#x5230;&#xff0c;&#x8fd9;&#x65f6;&#x53ef;&#x4ee5;&#x7559;&#x51fa;&#x4e00;&#x5757;&#x5185;&#x5b58;&#x533a;&#x57df;&#xff0c;&#x7531;&#x4e3b;&#x7ebf;&#x7a0b;&#x4e0e; Worker &#x7ebf;&#x7a0b;&#x5171;&#x4eab;&#xff0c;&#x4e24;&#x65b9;&#x90fd;&#x53ef;&#x4ee5;&#x8bfb;&#x5199;&#xff0c;&#x90a3;&#x4e48;&#x5c31;&#x4f1a;&#x5927;&#x5927;&#x63d0;&#x9ad8;&#x6548;&#x7387;&#xff0c;&#x534f;&#x4f5c;&#x8d77;&#x6765;&#x4e5f;&#x4f1a;&#x6bd4;&#x8f83;&#x7b80;&#x5355;&#xff08;&#x4e0d;&#x50cf;`postMessage`&#x90a3;&#x4e48;&#x9ebb;&#x70e6;&#xff09;&#x3002;\n\nES2017 &#x5f15;&#x5165;[`SharedArrayBuffer`](https://github.com/tc39/ecmascript_sharedmem/blob/master/TUTORIAL.md)&#xff0c;&#x5141;&#x8bb8; Worker &#x7ebf;&#x7a0b;&#x4e0e;&#x4e3b;&#x7ebf;&#x7a0b;&#x5171;&#x4eab;&#x540c;&#x4e00;&#x5757;&#x5185;&#x5b58;&#x3002;`SharedArrayBuffer`&#x7684; API &#x4e0e;`ArrayBuffer`&#x4e00;&#x6a21;&#x4e00;&#x6837;&#xff0c;&#x552f;&#x4e00;&#x7684;&#x533a;&#x522b;&#x662f;&#x540e;&#x8005;&#x65e0;&#x6cd5;&#x5171;&#x4eab;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"931,934"}},{"content":"<pre data-lines=\"935,940\"><code data-lines=\"935,940\"><span class=\"hljs-keyword\">const</span> sharedBuffer = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SharedArrayBuffer</span>(<span class=\"hljs-number\">1024</span>);\nw.<span class=\"hljs-title function_\">postMessage</span>(sharedBuffer);\n<span class=\"hljs-keyword\">const</span> sharedArray = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Int32Array</span>(sharedBuffer); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"935,940"}},{"content":"<pre data-lines=\"941,944\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`postMessage`&#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;&#x662f;`SharedArrayBuffer`&#x5bf9;&#x8c61;&#x3002;\n\nWorker &#x7ebf;&#x7a0b;&#x4ece;&#x4e8b;&#x4ef6;&#x7684;`data`&#x5c5e;&#x6027;&#x4e0a;&#x9762;&#x53d6;&#x5230;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"941,944"}},{"content":"<pre data-lines=\"945,953\"><code data-lines=\"945,953\"><span class=\"hljs-attribute\">onmessage</span> <span class=\"hljs-operator\">=</span> function (ev) {\n   const sharedBuffer <span class=\"hljs-operator\">=</span> ev.data<span class=\"hljs-comment\">;</span>\n\n   const sharedArray <span class=\"hljs-operator\">=</span> new Int32Array(sharedBuffer)<span class=\"hljs-comment\">;</span>\n\n }<span class=\"hljs-comment\">; </span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"945,953"}},{"content":"<pre data-lines=\"954,957\"><code>&#x5171;&#x4eab;&#x5185;&#x5b58;&#x4e5f;&#x53ef;&#x4ee5;&#x5728; Worker &#x7ebf;&#x7a0b;&#x521b;&#x5efa;&#xff0c;&#x53d1;&#x7ed9;&#x4e3b;&#x7ebf;&#x7a0b;&#x3002;\n\n`SharedArrayBuffer`&#x4e0e;`ArrayBuffer`&#x4e00;&#x6837;&#xff0c;&#x672c;&#x8eab;&#x662f;&#x65e0;&#x6cd5;&#x8bfb;&#x5199;&#x7684;&#xff0c;&#x5fc5;&#x987b;&#x5728;&#x4e0a;&#x9762;&#x5efa;&#x7acb;&#x89c6;&#x56fe;&#xff0c;&#x7136;&#x540e;&#x901a;&#x8fc7;&#x89c6;&#x56fe;&#x8bfb;&#x5199;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"954,957"}},{"content":"<pre data-lines=\"958,965\"><code data-lines=\"958,965\"><span class=\"hljs-keyword\">const</span> sab = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SharedArrayBuffer</span>(<span class=\"hljs-title class_\">Int32Array</span>.<span class=\"hljs-property\">BYTES_PER_ELEMENT</span> * <span class=\"hljs-number\">100000</span>);\n<span class=\"hljs-keyword\">const</span> ia = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Int32Array</span>(sab); <span class=\"hljs-keyword\">const</span> primes = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">PrimeGenerator</span>();\n<span class=\"hljs-keyword\">for</span> ( <span class=\"hljs-keyword\">let</span> i=<span class=\"hljs-number\">0</span> ; i &lt; ia.<span class=\"hljs-property\">length</span> ; i++ )\n  ia[i] = primes.<span class=\"hljs-title function_\">next</span>();\nw.<span class=\"hljs-title function_\">postMessage</span>(ia); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"958,965"}},{"content":"<pre data-lines=\"966,967\"><code>Worker &#x7ebf;&#x7a0b;&#x6536;&#x5230;&#x6570;&#x636e;&#x540e;&#x7684;&#x5904;&#x7406;&#x5982;&#x4e0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"966,967"}},{"content":"<pre data-lines=\"968,974\"><code data-lines=\"968,974\">let ia;\nonmessage = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">ev</span>) {\n  ia = ev.data;\n  <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(ia.<span class=\"hljs-built_in\">length</span>);  <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(ia[<span class=\"hljs-number\">37</span>]);}; \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"968,974"}}],"payload":{"tag":"h3","lines":"836,837"}}],"payload":{"tag":"h2","lines":"743,745"}},{"content":"Atomics &#x5bf9;&#x8c61;","children":[{"content":"<pre data-lines=\"978,981\"><code>&#x591a;&#x7ebf;&#x7a0b;&#x5171;&#x4eab;&#x5185;&#x5b58;&#xff0c;&#x6700;&#x5927;&#x7684;&#x95ee;&#x9898;&#x5c31;&#x662f;&#x5982;&#x4f55;&#x9632;&#x6b62;&#x4e24;&#x4e2a;&#x7ebf;&#x7a0b;&#x540c;&#x65f6;&#x4fee;&#x6539;&#x67d0;&#x4e2a;&#x5730;&#x5740;&#xff0c;&#x6216;&#x8005;&#x8bf4;&#xff0c;&#x5f53;&#x4e00;&#x4e2a;&#x7ebf;&#x7a0b;&#x4fee;&#x6539;&#x5171;&#x4eab;&#x5185;&#x5b58;&#x4ee5;&#x540e;&#xff0c;&#x5fc5;&#x987b;&#x6709;&#x4e00;&#x4e2a;&#x673a;&#x5236;&#x8ba9;&#x5176;&#x4ed6;&#x7ebf;&#x7a0b;&#x540c;&#x6b65;&#x3002;SharedArrayBuffer API &#x63d0;&#x4f9b;`Atomics`&#x5bf9;&#x8c61;&#xff0c;&#x4fdd;&#x8bc1;&#x6240;&#x6709;&#x5171;&#x4eab;&#x5185;&#x5b58;&#x7684;&#x64cd;&#x4f5c;&#x90fd;&#x662f;&#x201c;&#x539f;&#x5b50;&#x6027;&#x201d;&#x7684;&#xff0c;&#x5e76;&#x4e14;&#x53ef;&#x4ee5;&#x5728;&#x6240;&#x6709;&#x7ebf;&#x7a0b;&#x5185;&#x540c;&#x6b65;&#x3002;\n\n&#x4ec0;&#x4e48;&#x53eb;&#x201c;&#x539f;&#x5b50;&#x6027;&#x64cd;&#x4f5c;&#x201d;&#x5462;&#xff1f;&#x73b0;&#x4ee3;&#x7f16;&#x7a0b;&#x8bed;&#x8a00;&#x4e2d;&#xff0c;&#x4e00;&#x6761;&#x666e;&#x901a;&#x7684;&#x547d;&#x4ee4;&#x88ab;&#x7f16;&#x8bd1;&#x5668;&#x5904;&#x7406;&#x4ee5;&#x540e;&#xff0c;&#x4f1a;&#x53d8;&#x6210;&#x591a;&#x6761;&#x673a;&#x5668;&#x6307;&#x4ee4;&#x3002;&#x5982;&#x679c;&#x662f;&#x5355;&#x7ebf;&#x7a0b;&#x8fd0;&#x884c;&#xff0c;&#x8fd9;&#x662f;&#x6ca1;&#x6709;&#x95ee;&#x9898;&#x7684;&#xff1b;&#x591a;&#x7ebf;&#x7a0b;&#x73af;&#x5883;&#x5e76;&#x4e14;&#x5171;&#x4eab;&#x5185;&#x5b58;&#x65f6;&#xff0c;&#x5c31;&#x4f1a;&#x51fa;&#x95ee;&#x9898;&#xff0c;&#x56e0;&#x4e3a;&#x8fd9;&#x4e00;&#x7ec4;&#x673a;&#x5668;&#x6307;&#x4ee4;&#x7684;&#x8fd0;&#x884c;&#x671f;&#x95f4;&#xff0c;&#x53ef;&#x80fd;&#x4f1a;&#x63d2;&#x5165;&#x5176;&#x4ed6;&#x7ebf;&#x7a0b;&#x7684;&#x6307;&#x4ee4;&#xff0c;&#x4ece;&#x800c;&#x5bfc;&#x81f4;&#x8fd0;&#x884c;&#x7ed3;&#x679c;&#x51fa;&#x9519;&#x3002;&#x8bf7;&#x770b;&#x4e0b;&#x9762;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"978,981"}},{"content":"<pre data-lines=\"982,986\"><code data-lines=\"982,986\"><span class=\"hljs-attribute\">ia</span>[<span class=\"hljs-number\">42</span>] = <span class=\"hljs-number\">314159</span>; ia[<span class=\"hljs-number\">37</span>] = <span class=\"hljs-number\">123456</span>; console.log(ia[<span class=\"hljs-number\">37</span>]);\n<span class=\"hljs-attribute\">console</span>.log(ia[<span class=\"hljs-number\">42</span>]);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"982,986"}},{"content":"<pre data-lines=\"987,990\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x4e3b;&#x7ebf;&#x7a0b;&#x7684;&#x539f;&#x59cb;&#x987a;&#x5e8f;&#x662f;&#x5148;&#x5bf9; 42 &#x53f7;&#x4f4d;&#x7f6e;&#x8d4b;&#x503c;&#xff0c;&#x518d;&#x5bf9; 37 &#x53f7;&#x4f4d;&#x7f6e;&#x8d4b;&#x503c;&#x3002;&#x4f46;&#x662f;&#xff0c;&#x7f16;&#x8bd1;&#x5668;&#x548c; CPU &#x4e3a;&#x4e86;&#x4f18;&#x5316;&#xff0c;&#x53ef;&#x80fd;&#x4f1a;&#x6539;&#x53d8;&#x8fd9;&#x4e24;&#x4e2a;&#x64cd;&#x4f5c;&#x7684;&#x6267;&#x884c;&#x987a;&#x5e8f;&#xff08;&#x56e0;&#x4e3a;&#x5b83;&#x4eec;&#x4e4b;&#x95f4;&#x4e92;&#x4e0d;&#x4f9d;&#x8d56;&#xff09;&#xff0c;&#x5148;&#x5bf9; 37 &#x53f7;&#x4f4d;&#x7f6e;&#x8d4b;&#x503c;&#xff0c;&#x518d;&#x5bf9; 42 &#x53f7;&#x4f4d;&#x7f6e;&#x8d4b;&#x503c;&#x3002;&#x800c;&#x6267;&#x884c;&#x5230;&#x4e00;&#x534a;&#x7684;&#x65f6;&#x5019;&#xff0c;Worker &#x7ebf;&#x7a0b;&#x53ef;&#x80fd;&#x5c31;&#x4f1a;&#x6765;&#x8bfb;&#x53d6;&#x6570;&#x636e;&#xff0c;&#x5bfc;&#x81f4;&#x6253;&#x5370;&#x51fa;`123456`&#x548c;`191`&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x53e6;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"987,990"}},{"content":"<pre data-lines=\"991,999\"><code data-lines=\"991,999\"><span class=\"hljs-keyword\">const</span> sab = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SharedArrayBuffer</span>(<span class=\"hljs-title class_\">Int32Array</span>.<span class=\"hljs-property\">BYTES_PER_ELEMENT</span> * <span class=\"hljs-number\">100000</span>);\n<span class=\"hljs-keyword\">const</span> ia = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Int32Array</span>(sab);\n\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> i = <span class=\"hljs-number\">0</span>; i &lt; ia.<span class=\"hljs-property\">length</span>; i++) {\n  ia[i] = primes.<span class=\"hljs-title function_\">next</span>();}\nia[<span class=\"hljs-number\">112</span>]++;<span class=\"hljs-title class_\">Atomics</span>.<span class=\"hljs-title function_\">add</span>(ia, <span class=\"hljs-number\">112</span>, <span class=\"hljs-number\">1</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"991,999"}},{"content":"<pre data-lines=\"1000,1011\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;Worker &#x7ebf;&#x7a0b;&#x76f4;&#x63a5;&#x6539;&#x5199;&#x5171;&#x4eab;&#x5185;&#x5b58;`ia[112]++`&#x662f;&#x4e0d;&#x6b63;&#x786e;&#x7684;&#x3002;&#x56e0;&#x4e3a;&#x8fd9;&#x884c;&#x8bed;&#x53e5;&#x4f1a;&#x88ab;&#x7f16;&#x8bd1;&#x6210;&#x591a;&#x6761;&#x673a;&#x5668;&#x6307;&#x4ee4;&#xff0c;&#x8fd9;&#x4e9b;&#x6307;&#x4ee4;&#x4e4b;&#x95f4;&#x65e0;&#x6cd5;&#x4fdd;&#x8bc1;&#x4e0d;&#x4f1a;&#x63d2;&#x5165;&#x5176;&#x4ed6;&#x8fdb;&#x7a0b;&#x7684;&#x6307;&#x4ee4;&#x3002;&#x8bf7;&#x8bbe;&#x60f3;&#x5982;&#x679c;&#x4e24;&#x4e2a;&#x7ebf;&#x7a0b;&#x540c;&#x65f6;`ia[112]++`&#xff0c;&#x5f88;&#x53ef;&#x80fd;&#x5b83;&#x4eec;&#x5f97;&#x5230;&#x7684;&#x7ed3;&#x679c;&#x90fd;&#x662f;&#x4e0d;&#x6b63;&#x786e;&#x7684;&#x3002;\n\n`Atomics`&#x5bf9;&#x8c61;&#x5c31;&#x662f;&#x4e3a;&#x4e86;&#x89e3;&#x51b3;&#x8fd9;&#x4e2a;&#x95ee;&#x9898;&#x800c;&#x63d0;&#x51fa;&#xff0c;&#x5b83;&#x53ef;&#x4ee5;&#x4fdd;&#x8bc1;&#x4e00;&#x4e2a;&#x64cd;&#x4f5c;&#x6240;&#x5bf9;&#x5e94;&#x7684;&#x591a;&#x6761;&#x673a;&#x5668;&#x6307;&#x4ee4;&#xff0c;&#x4e00;&#x5b9a;&#x662f;&#x4f5c;&#x4e3a;&#x4e00;&#x4e2a;&#x6574;&#x4f53;&#x8fd0;&#x884c;&#x7684;&#xff0c;&#x4e2d;&#x95f4;&#x4e0d;&#x4f1a;&#x88ab;&#x6253;&#x65ad;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x5b83;&#x6240;&#x6d89;&#x53ca;&#x7684;&#x64cd;&#x4f5c;&#x90fd;&#x53ef;&#x4ee5;&#x770b;&#x4f5c;&#x662f;&#x539f;&#x5b50;&#x6027;&#x7684;&#x5355;&#x64cd;&#x4f5c;&#xff0c;&#x8fd9;&#x53ef;&#x4ee5;&#x907f;&#x514d;&#x7ebf;&#x7a0b;&#x7ade;&#x4e89;&#xff0c;&#x63d0;&#x9ad8;&#x591a;&#x7ebf;&#x7a0b;&#x5171;&#x4eab;&#x5185;&#x5b58;&#x65f6;&#x7684;&#x64cd;&#x4f5c;&#x5b89;&#x5168;&#x3002;&#x6240;&#x4ee5;&#xff0c;`ia[112]++`&#x8981;&#x6539;&#x5199;&#x6210;`Atomics.add(ia, 112, 1)`&#x3002;\n\n`Atomics`&#x5bf9;&#x8c61;&#x63d0;&#x4f9b;&#x591a;&#x79cd;&#x65b9;&#x6cd5;&#x3002;\n\n**&#xff08;1&#xff09;Atomics.store()&#xff0c;Atomics.load()**\n\n`store()`&#x65b9;&#x6cd5;&#x7528;&#x6765;&#x5411;&#x5171;&#x4eab;&#x5185;&#x5b58;&#x5199;&#x5165;&#x6570;&#x636e;&#xff0c;`load()`&#x65b9;&#x6cd5;&#x7528;&#x6765;&#x4ece;&#x5171;&#x4eab;&#x5185;&#x5b58;&#x8bfb;&#x51fa;&#x6570;&#x636e;&#x3002;&#x6bd4;&#x8d77;&#x76f4;&#x63a5;&#x7684;&#x8bfb;&#x5199;&#x64cd;&#x4f5c;&#xff0c;&#x5b83;&#x4eec;&#x7684;&#x597d;&#x5904;&#x662f;&#x4fdd;&#x8bc1;&#x4e86;&#x8bfb;&#x5199;&#x64cd;&#x4f5c;&#x7684;&#x539f;&#x5b50;&#x6027;&#x3002;\n\n&#x6b64;&#x5916;&#xff0c;&#x5b83;&#x4eec;&#x8fd8;&#x7528;&#x6765;&#x89e3;&#x51b3;&#x4e00;&#x4e2a;&#x95ee;&#x9898;&#xff1a;&#x591a;&#x4e2a;&#x7ebf;&#x7a0b;&#x4f7f;&#x7528;&#x5171;&#x4eab;&#x5185;&#x5b58;&#x7684;&#x67d0;&#x4e2a;&#x4f4d;&#x7f6e;&#x4f5c;&#x4e3a;&#x5f00;&#x5173;&#xff08;flag&#xff09;&#xff0c;&#x4e00;&#x65e6;&#x8be5;&#x4f4d;&#x7f6e;&#x7684;&#x503c;&#x53d8;&#x4e86;&#xff0c;&#x5c31;&#x6267;&#x884c;&#x7279;&#x5b9a;&#x64cd;&#x4f5c;&#x3002;&#x8fd9;&#x65f6;&#xff0c;&#x5fc5;&#x987b;&#x4fdd;&#x8bc1;&#x8be5;&#x4f4d;&#x7f6e;&#x7684;&#x8d4b;&#x503c;&#x64cd;&#x4f5c;&#xff0c;&#x4e00;&#x5b9a;&#x662f;&#x5728;&#x5b83;&#x524d;&#x9762;&#x7684;&#x6240;&#x6709;&#x53ef;&#x80fd;&#x4f1a;&#x6539;&#x5199;&#x5185;&#x5b58;&#x7684;&#x64cd;&#x4f5c;&#x7ed3;&#x675f;&#x540e;&#x6267;&#x884c;&#xff1b;&#x800c;&#x8be5;&#x4f4d;&#x7f6e;&#x7684;&#x53d6;&#x503c;&#x64cd;&#x4f5c;&#xff0c;&#x4e00;&#x5b9a;&#x662f;&#x5728;&#x5b83;&#x540e;&#x9762;&#x6240;&#x6709;&#x53ef;&#x80fd;&#x4f1a;&#x8bfb;&#x53d6;&#x8be5;&#x4f4d;&#x7f6e;&#x7684;&#x64cd;&#x4f5c;&#x5f00;&#x59cb;&#x4e4b;&#x524d;&#x6267;&#x884c;&#x3002;`store()`&#x65b9;&#x6cd5;&#x548c;`load()`&#x65b9;&#x6cd5;&#x5c31;&#x80fd;&#x505a;&#x5230;&#x8fd9;&#x4e00;&#x70b9;&#xff0c;&#x7f16;&#x8bd1;&#x5668;&#x4e0d;&#x4f1a;&#x4e3a;&#x4e86;&#x4f18;&#x5316;&#xff0c;&#x800c;&#x6253;&#x4e71;&#x673a;&#x5668;&#x6307;&#x4ee4;&#x7684;&#x6267;&#x884c;&#x987a;&#x5e8f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1000,1011"}},{"content":"<pre data-lines=\"1012,1016\"><code data-lines=\"1012,1016\">Atomics.<span class=\"hljs-keyword\">load</span>(typedArray, <span class=\"hljs-keyword\">index</span>)\nAtomics.store(typedArray, <span class=\"hljs-keyword\">index</span>, <span class=\"hljs-keyword\">value</span>) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1012,1016"}},{"content":"<pre data-lines=\"1017,1018\"><code>`store()`&#x65b9;&#x6cd5;&#x63a5;&#x53d7;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#xff1a;`typedArray`&#x5bf9;&#x8c61;&#xff08;SharedArrayBuffer &#x7684;&#x89c6;&#x56fe;&#xff09;&#x3001;&#x4f4d;&#x7f6e;&#x7d22;&#x5f15;&#x548c;&#x503c;&#xff0c;&#x8fd4;&#x56de;`typedArray[index]`&#x7684;&#x503c;&#x3002;`load()`&#x65b9;&#x6cd5;&#x53ea;&#x63a5;&#x53d7;&#x4e24;&#x4e2a;&#x53c2;&#x6570;&#xff1a;`typedArray`&#x5bf9;&#x8c61;&#xff08;SharedArrayBuffer &#x7684;&#x89c6;&#x56fe;&#xff09;&#x548c;&#x4f4d;&#x7f6e;&#x7d22;&#x5f15;&#xff0c;&#x4e5f;&#x662f;&#x8fd4;&#x56de;`typedArray[index]`&#x7684;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1017,1018"}},{"content":"<pre data-lines=\"1019,1023\"><code data-lines=\"1019,1023\"><span class=\"hljs-attribute\">ia</span>[<span class=\"hljs-number\">42</span>] = <span class=\"hljs-number\">314159</span>; Atomics.store(ia, <span class=\"hljs-number\">37</span>, <span class=\"hljs-number\">123456</span>); while (Atomics.load(ia, <span class=\"hljs-number\">37</span>) == <span class=\"hljs-number\">163</span>);\n<span class=\"hljs-attribute\">console</span>.log(ia[<span class=\"hljs-number\">37</span>]); console.log(ia[<span class=\"hljs-number\">42</span>]); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1019,1023"}},{"content":"<pre data-lines=\"1024,1027\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x4e3b;&#x7ebf;&#x7a0b;&#x7684;`Atomics.store()`&#x5411; 42 &#x53f7;&#x4f4d;&#x7f6e;&#x7684;&#x8d4b;&#x503c;&#xff0c;&#x4e00;&#x5b9a;&#x662f;&#x65e9;&#x4e8e; 37 &#x4f4d;&#x7f6e;&#x7684;&#x8d4b;&#x503c;&#x3002;&#x53ea;&#x8981; 37 &#x53f7;&#x4f4d;&#x7f6e;&#x7b49;&#x4e8e; 163&#xff0c;Worker &#x7ebf;&#x7a0b;&#x5c31;&#x4e0d;&#x4f1a;&#x7ec8;&#x6b62;&#x5faa;&#x73af;&#xff0c;&#x800c;&#x5bf9; 37 &#x53f7;&#x4f4d;&#x7f6e;&#x548c; 42 &#x53f7;&#x4f4d;&#x7f6e;&#x7684;&#x53d6;&#x503c;&#xff0c;&#x4e00;&#x5b9a;&#x662f;&#x5728;`Atomics.load()`&#x64cd;&#x4f5c;&#x4e4b;&#x540e;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x53e6;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1024,1027"}},{"content":"<pre data-lines=\"1028,1038\"><code data-lines=\"1028,1038\"><span class=\"hljs-keyword\">const</span> worker = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Worker</span>(<span class=\"hljs-string\">&apos;worker.js&apos;</span>);\n<span class=\"hljs-keyword\">const</span> length = <span class=\"hljs-number\">10</span>;\n<span class=\"hljs-keyword\">const</span> size = <span class=\"hljs-title class_\">Int32Array</span>.<span class=\"hljs-property\">BYTES_PER_ELEMENT</span> * length;<span class=\"hljs-keyword\">const</span> sharedBuffer = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SharedArrayBuffer</span>(size);\n<span class=\"hljs-keyword\">const</span> sharedArray = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Int32Array</span>(sharedBuffer);\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> i = <span class=\"hljs-number\">0</span>; i &lt; <span class=\"hljs-number\">10</span>; i++) {\n   <span class=\"hljs-title class_\">Atomics</span>.<span class=\"hljs-title function_\">store</span>(sharedArray, i, <span class=\"hljs-number\">0</span>);\n}\nworker.<span class=\"hljs-title function_\">postMessage</span>(sharedBuffer); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1028,1038"}},{"content":"<pre data-lines=\"1039,1040\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x4e3b;&#x7ebf;&#x7a0b;&#x7528;`Atomics.store()`&#x65b9;&#x6cd5;&#x5199;&#x5165;&#x6570;&#x636e;&#x3002;&#x4e0b;&#x9762;&#x662f; Worker &#x7ebf;&#x7a0b;&#x7528;`Atomics.load()`&#x65b9;&#x6cd5;&#x8bfb;&#x53d6;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1039,1040"}},{"content":"<pre data-lines=\"1041,1050\"><code data-lines=\"1041,1050\">self.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;message&apos;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">event</span>) =&gt;</span> {\n  <span class=\"hljs-keyword\">const</span> sharedArray = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Int32Array</span>(event.<span class=\"hljs-property\">data</span>);\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> i = <span class=\"hljs-number\">0</span>; i &lt; <span class=\"hljs-number\">10</span>; i++) {\n    <span class=\"hljs-keyword\">const</span> arrayValue = <span class=\"hljs-title class_\">Atomics</span>.<span class=\"hljs-title function_\">load</span>(sharedArray, i);\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">`The item at array index <span class=\"hljs-subst\">&#x24;{i}</span> is <span class=\"hljs-subst\">&#x24;{arrayValue}</span>`</span>);\n  }\n}, <span class=\"hljs-literal\">false</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1041,1050"}},{"content":"<pre data-lines=\"1051,1054\"><code>**&#xff08;2&#xff09;Atomics.exchange()**\n\nWorker &#x7ebf;&#x7a0b;&#x5982;&#x679c;&#x8981;&#x5199;&#x5165;&#x6570;&#x636e;&#xff0c;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x4e0a;&#x9762;&#x7684;`Atomics.store()`&#x65b9;&#x6cd5;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;`Atomics.exchange()`&#x65b9;&#x6cd5;&#x3002;&#x5b83;&#x4eec;&#x7684;&#x533a;&#x522b;&#x662f;&#xff0c;`Atomics.store()`&#x8fd4;&#x56de;&#x5199;&#x5165;&#x7684;&#x503c;&#xff0c;&#x800c;`Atomics.exchange()`&#x8fd4;&#x56de;&#x88ab;&#x66ff;&#x6362;&#x7684;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1051,1054"}},{"content":"<pre data-lines=\"1055,1069\"><code data-lines=\"1055,1069\">self.addEventListener(&apos;message&apos;, (event) =&gt; {\n <span class=\"hljs-built_in\"> const </span>sharedArray =<span class=\"hljs-built_in\"> new </span>Int32Array(event.data);\n  for (let i = 0; i &lt; 10; i++) {\n   <span class=\"hljs-built_in\"> if </span>(i % 2 === 0) {\n     <span class=\"hljs-built_in\"> const </span>storedValue = Atomics.store(sharedArray, i, 1);\n      console.log(`The item at<span class=\"hljs-built_in\"> array </span>index &#x24;{i} is now &#x24;{storedValue}`);\n    } else {\n     <span class=\"hljs-built_in\"> const </span>exchangedValue = Atomics.exchange(sharedArray, i, 2);\n      console.log(`The item at<span class=\"hljs-built_in\"> array </span>index &#x24;{i} was &#x24;{exchangedValue}, now 2`);\n    }\n  }\n}, false); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1055,1069"}},{"content":"<pre data-lines=\"1070,1077\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5c06;&#x5171;&#x4eab;&#x5185;&#x5b58;&#x7684;&#x5076;&#x6570;&#x4f4d;&#x7f6e;&#x7684;&#x503c;&#x6539;&#x6210;`1`&#xff0c;&#x5947;&#x6570;&#x4f4d;&#x7f6e;&#x7684;&#x503c;&#x6539;&#x6210;`2`&#x3002;\n\n**&#xff08;3&#xff09;Atomics.wait()&#xff0c;Atomics.notify()**\n\n&#x4f7f;&#x7528;`while`&#x5faa;&#x73af;&#x7b49;&#x5f85;&#x4e3b;&#x7ebf;&#x7a0b;&#x7684;&#x901a;&#x77e5;&#xff0c;&#x4e0d;&#x662f;&#x5f88;&#x9ad8;&#x6548;&#xff0c;&#x5982;&#x679c;&#x7528;&#x5728;&#x4e3b;&#x7ebf;&#x7a0b;&#xff0c;&#x5c31;&#x4f1a;&#x9020;&#x6210;&#x5361;&#x987f;&#xff0c;`Atomics`&#x5bf9;&#x8c61;&#x63d0;&#x4f9b;&#x4e86;`wait()`&#x548c;`notify()`&#x4e24;&#x4e2a;&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x7b49;&#x5f85;&#x901a;&#x77e5;&#x3002;&#x8fd9;&#x4e24;&#x4e2a;&#x65b9;&#x6cd5;&#x76f8;&#x5f53;&#x4e8e;&#x9501;&#x5185;&#x5b58;&#xff0c;&#x5373;&#x5728;&#x4e00;&#x4e2a;&#x7ebf;&#x7a0b;&#x8fdb;&#x884c;&#x64cd;&#x4f5c;&#x65f6;&#xff0c;&#x8ba9;&#x5176;&#x4ed6;&#x7ebf;&#x7a0b;&#x4f11;&#x7720;&#xff08;&#x5efa;&#x7acb;&#x9501;&#xff09;&#xff0c;&#x7b49;&#x5230;&#x64cd;&#x4f5c;&#x7ed3;&#x675f;&#xff0c;&#x518d;&#x5524;&#x9192;&#x90a3;&#x4e9b;&#x4f11;&#x7720;&#x7684;&#x7ebf;&#x7a0b;&#xff08;&#x89e3;&#x9664;&#x9501;&#xff09;&#x3002;\n\n`Atomics.notify()`&#x65b9;&#x6cd5;&#x4ee5;&#x524d;&#x53eb;&#x505a;`Atomics.wake()`&#xff0c;&#x540e;&#x6765;&#x8fdb;&#x884c;&#x4e86;&#x6539;&#x540d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1070,1077"}},{"content":"<pre data-lines=\"1078,1087\"><code data-lines=\"1078,1087\">self.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;message&apos;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">event</span>) =&gt;</span> {\n  <span class=\"hljs-keyword\">const</span> sharedArray = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Int32Array</span>(event.<span class=\"hljs-property\">data</span>);\n  <span class=\"hljs-keyword\">const</span> arrayIndex = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">const</span> expectedStoredValue = <span class=\"hljs-number\">50</span>;\n  <span class=\"hljs-title class_\">Atomics</span>.<span class=\"hljs-title function_\">wait</span>(sharedArray, arrayIndex, expectedStoredValue);\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title class_\">Atomics</span>.<span class=\"hljs-title function_\">load</span>(sharedArray, arrayIndex));\n}, <span class=\"hljs-literal\">false</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1078,1087"}},{"content":"<pre data-lines=\"1088,1091\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`Atomics.wait()`&#x65b9;&#x6cd5;&#x7b49;&#x540c;&#x4e8e;&#x544a;&#x8bc9; Worker &#x7ebf;&#x7a0b;&#xff0c;&#x53ea;&#x8981;&#x6ee1;&#x8db3;&#x7ed9;&#x5b9a;&#x6761;&#x4ef6;&#xff08;`sharedArray`&#x7684;`0`&#x53f7;&#x4f4d;&#x7f6e;&#x7b49;&#x4e8e;`50`&#xff09;&#xff0c;&#x5c31;&#x5728;&#x8fd9;&#x4e00;&#x884c; Worker &#x7ebf;&#x7a0b;&#x8fdb;&#x5165;&#x4f11;&#x7720;&#x3002;\n\n&#x4e3b;&#x7ebf;&#x7a0b;&#x4e00;&#x65e6;&#x66f4;&#x6539;&#x4e86;&#x6307;&#x5b9a;&#x4f4d;&#x7f6e;&#x7684;&#x503c;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x5524;&#x9192; Worker &#x7ebf;&#x7a0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1088,1091"}},{"content":"<pre data-lines=\"1092,1099\"><code data-lines=\"1092,1099\"><span class=\"hljs-keyword\">const</span> newArrayValue = <span class=\"hljs-number\">100</span>;\nAtomics.store(sharedArray, <span class=\"hljs-number\">0</span>, newArrayValue);\n<span class=\"hljs-keyword\">const</span> arrayIndex = <span class=\"hljs-number\">0</span>;\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">queue</span>P<span class=\"hljs-keyword\">os</span> = <span class=\"hljs-number\">1</span>;\nAtomics.notify(sharedArray, arrayIndex, <span class=\"hljs-keyword\">queue</span>P<span class=\"hljs-keyword\">os</span>); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1092,1099"}},{"content":"<pre data-lines=\"1100,1103\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`sharedArray`&#x7684;`0`&#x53f7;&#x4f4d;&#x7f6e;&#x6539;&#x4e3a;`100`&#xff0c;&#x7136;&#x540e;&#x5c31;&#x6267;&#x884c;`Atomics.notify()`&#x65b9;&#x6cd5;&#xff0c;&#x5524;&#x9192;&#x5728;`sharedArray`&#x7684;`0`&#x53f7;&#x4f4d;&#x7f6e;&#x4f11;&#x7720;&#x961f;&#x5217;&#x91cc;&#x7684;&#x4e00;&#x4e2a;&#x7ebf;&#x7a0b;&#x3002;\n\n`Atomics.wait()`&#x65b9;&#x6cd5;&#x7684;&#x4f7f;&#x7528;&#x683c;&#x5f0f;&#x5982;&#x4e0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1100,1103"}},{"content":"<pre data-lines=\"1104,1107\"><code data-lines=\"1104,1107\">Atomics.<span class=\"hljs-built_in\">wait</span>(sharedArray, index, value, <span class=\"hljs-built_in\">timeout</span>) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1104,1107"}},{"content":"<pre data-lines=\"1108,1118\"><code>&#x5b83;&#x7684;&#x56db;&#x4e2a;&#x53c2;&#x6570;&#x542b;&#x4e49;&#x5982;&#x4e0b;&#x3002;\n\n*   sharedArray&#xff1a;&#x5171;&#x4eab;&#x5185;&#x5b58;&#x7684;&#x89c6;&#x56fe;&#x6570;&#x7ec4;&#x3002;\n*   index&#xff1a;&#x89c6;&#x56fe;&#x6570;&#x636e;&#x7684;&#x4f4d;&#x7f6e;&#xff08;&#x4ece;0&#x5f00;&#x59cb;&#xff09;&#x3002;\n*   value&#xff1a;&#x8be5;&#x4f4d;&#x7f6e;&#x7684;&#x9884;&#x671f;&#x503c;&#x3002;&#x4e00;&#x65e6;&#x5b9e;&#x9645;&#x503c;&#x7b49;&#x4e8e;&#x9884;&#x671f;&#x503c;&#xff0c;&#x5c31;&#x8fdb;&#x5165;&#x4f11;&#x7720;&#x3002;\n*   timeout&#xff1a;&#x6574;&#x6570;&#xff0c;&#x8868;&#x793a;&#x8fc7;&#x4e86;&#x8fd9;&#x4e2a;&#x65f6;&#x95f4;&#x4ee5;&#x540e;&#xff0c;&#x5c31;&#x81ea;&#x52a8;&#x5524;&#x9192;&#xff0c;&#x5355;&#x4f4d;&#x6beb;&#x79d2;&#x3002;&#x8be5;&#x53c2;&#x6570;&#x53ef;&#x9009;&#xff0c;&#x9ed8;&#x8ba4;&#x503c;&#x662f;`Infinity`&#xff0c;&#x5373;&#x65e0;&#x9650;&#x671f;&#x7684;&#x4f11;&#x7720;&#xff0c;&#x53ea;&#x6709;&#x901a;&#x8fc7;`Atomics.notify()`&#x65b9;&#x6cd5;&#x624d;&#x80fd;&#x5524;&#x9192;&#x3002;\n\n`Atomics.wait()`&#x7684;&#x8fd4;&#x56de;&#x503c;&#x662f;&#x4e00;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x5171;&#x6709;&#x4e09;&#x79cd;&#x53ef;&#x80fd;&#x7684;&#x503c;&#x3002;&#x5982;&#x679c;`sharedArray[index]`&#x4e0d;&#x7b49;&#x4e8e;`value`&#xff0c;&#x5c31;&#x8fd4;&#x56de;&#x5b57;&#x7b26;&#x4e32;`not-equal`&#xff0c;&#x5426;&#x5219;&#x5c31;&#x8fdb;&#x5165;&#x4f11;&#x7720;&#x3002;&#x5982;&#x679c;`Atomics.notify()`&#x65b9;&#x6cd5;&#x5524;&#x9192;&#xff0c;&#x5c31;&#x8fd4;&#x56de;&#x5b57;&#x7b26;&#x4e32;`ok`&#xff1b;&#x5982;&#x679c;&#x56e0;&#x4e3a;&#x8d85;&#x65f6;&#x5524;&#x9192;&#xff0c;&#x5c31;&#x8fd4;&#x56de;&#x5b57;&#x7b26;&#x4e32;`timed-out`&#x3002;\n\n`Atomics.notify()`&#x65b9;&#x6cd5;&#x7684;&#x4f7f;&#x7528;&#x683c;&#x5f0f;&#x5982;&#x4e0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1108,1118"}},{"content":"<pre data-lines=\"1119,1122\"><code data-lines=\"1119,1122\">Atomics.notify(sharedArray, <span class=\"hljs-keyword\">index</span>, <span class=\"hljs-keyword\">count</span>) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1119,1122"}},{"content":"<pre data-lines=\"1123,1132\"><code>&#x5b83;&#x7684;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#x542b;&#x4e49;&#x5982;&#x4e0b;&#x3002;\n\n*   sharedArray&#xff1a;&#x5171;&#x4eab;&#x5185;&#x5b58;&#x7684;&#x89c6;&#x56fe;&#x6570;&#x7ec4;&#x3002;\n*   index&#xff1a;&#x89c6;&#x56fe;&#x6570;&#x636e;&#x7684;&#x4f4d;&#x7f6e;&#xff08;&#x4ece;0&#x5f00;&#x59cb;&#xff09;&#x3002;\n*   count&#xff1a;&#x9700;&#x8981;&#x5524;&#x9192;&#x7684; Worker &#x7ebf;&#x7a0b;&#x7684;&#x6570;&#x91cf;&#xff0c;&#x9ed8;&#x8ba4;&#x4e3a;`Infinity`&#x3002;\n\n`Atomics.notify()`&#x65b9;&#x6cd5;&#x4e00;&#x65e6;&#x5524;&#x9192;&#x4f11;&#x7720;&#x7684; Worker &#x7ebf;&#x7a0b;&#xff0c;&#x5c31;&#x4f1a;&#x8ba9;&#x5b83;&#x7ee7;&#x7eed;&#x5f80;&#x4e0b;&#x8fd0;&#x884c;&#x3002;\n\n&#x8bf7;&#x770b;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1123,1132"}},{"content":"<pre data-lines=\"1133,1139\"><code data-lines=\"1133,1139\"><span class=\"hljs-attribute\">console</span>.log(ia[<span class=\"hljs-number\">37</span>]); Atomics.store(ia, <span class=\"hljs-number\">37</span>, <span class=\"hljs-number\">123456</span>);\n<span class=\"hljs-attribute\">Atomics</span>.notify(ia, <span class=\"hljs-number\">37</span>, <span class=\"hljs-number\">1</span>);\n<span class=\"hljs-attribute\">Atomics</span>.wait(ia, <span class=\"hljs-number\">37</span>, <span class=\"hljs-number\">163</span>);\n<span class=\"hljs-attribute\">console</span>.log(ia[<span class=\"hljs-number\">37</span>]); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1133,1139"}},{"content":"<pre data-lines=\"1140,1149\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x89c6;&#x56fe;&#x6570;&#x7ec4;`ia`&#x7684;&#x7b2c; 37 &#x53f7;&#x4f4d;&#x7f6e;&#xff0c;&#x539f;&#x6765;&#x7684;&#x503c;&#x662f;`163`&#x3002;Worker &#x7ebf;&#x7a0b;&#x4f7f;&#x7528;`Atomics.wait()`&#x65b9;&#x6cd5;&#xff0c;&#x6307;&#x5b9a;&#x53ea;&#x8981;`ia[37]`&#x7b49;&#x4e8e;`163`&#xff0c;&#x5c31;&#x8fdb;&#x5165;&#x4f11;&#x7720;&#x72b6;&#x6001;&#x3002;&#x4e3b;&#x7ebf;&#x7a0b;&#x4f7f;&#x7528;`Atomics.store()`&#x65b9;&#x6cd5;&#xff0c;&#x5c06;`123456`&#x5199;&#x5165;`ia[37]`&#xff0c;&#x7136;&#x540e;&#x4f7f;&#x7528;`Atomics.notify()`&#x65b9;&#x6cd5;&#x5524;&#x9192; Worker &#x7ebf;&#x7a0b;&#x3002;\n\n&#x53e6;&#x5916;&#xff0c;&#x57fa;&#x4e8e;`wait`&#x548c;`notify`&#x8fd9;&#x4e24;&#x4e2a;&#x65b9;&#x6cd5;&#x7684;&#x9501;&#x5185;&#x5b58;&#x5b9e;&#x73b0;&#xff0c;&#x53ef;&#x4ee5;&#x770b; Lars T Hansen &#x7684; [js-lock-and-condition](https://github.com/lars-t-hansen/js-lock-and-condition) &#x8fd9;&#x4e2a;&#x5e93;&#x3002;\n\n&#x6ce8;&#x610f;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x7684;&#x4e3b;&#x7ebf;&#x7a0b;&#x4e0d;&#x5b9c;&#x8bbe;&#x7f6e;&#x4f11;&#x7720;&#xff0c;&#x8fd9;&#x4f1a;&#x5bfc;&#x81f4;&#x7528;&#x6237;&#x5931;&#x53bb;&#x54cd;&#x5e94;&#x3002;&#x800c;&#x4e14;&#xff0c;&#x4e3b;&#x7ebf;&#x7a0b;&#x5b9e;&#x9645;&#x4e0a;&#x4f1a;&#x62d2;&#x7edd;&#x8fdb;&#x5165;&#x4f11;&#x7720;&#x3002;\n\n**&#xff08;4&#xff09;&#x8fd0;&#x7b97;&#x65b9;&#x6cd5;**\n\n&#x5171;&#x4eab;&#x5185;&#x5b58;&#x4e0a;&#x9762;&#x7684;&#x67d0;&#x4e9b;&#x8fd0;&#x7b97;&#x662f;&#x4e0d;&#x80fd;&#x88ab;&#x6253;&#x65ad;&#x7684;&#xff0c;&#x5373;&#x4e0d;&#x80fd;&#x5728;&#x8fd0;&#x7b97;&#x8fc7;&#x7a0b;&#x4e2d;&#xff0c;&#x8ba9;&#x5176;&#x4ed6;&#x7ebf;&#x7a0b;&#x6539;&#x5199;&#x5185;&#x5b58;&#x4e0a;&#x9762;&#x7684;&#x503c;&#x3002;Atomics &#x5bf9;&#x8c61;&#x63d0;&#x4f9b;&#x4e86;&#x4e00;&#x4e9b;&#x8fd0;&#x7b97;&#x65b9;&#x6cd5;&#xff0c;&#x9632;&#x6b62;&#x6570;&#x636e;&#x88ab;&#x6539;&#x5199;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1140,1149"}},{"content":"<pre data-lines=\"1150,1153\"><code data-lines=\"1150,1153\">Atomics.<span class=\"hljs-keyword\">add</span>(sharedArray, <span class=\"hljs-keyword\">index</span>, <span class=\"hljs-keyword\">value</span>) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1150,1153"}},{"content":"<pre data-lines=\"1154,1155\"><code>`Atomics.add`&#x7528;&#x4e8e;&#x5c06;`value`&#x52a0;&#x5230;`sharedArray[index]`&#xff0c;&#x8fd4;&#x56de;`sharedArray[index]`&#x65e7;&#x7684;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1154,1155"}},{"content":"<pre data-lines=\"1156,1159\"><code data-lines=\"1156,1159\">Atomics.sub(sharedArray, <span class=\"hljs-keyword\">index</span>, value) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1156,1159"}},{"content":"<pre data-lines=\"1160,1161\"><code>`Atomics.sub`&#x7528;&#x4e8e;&#x5c06;`value`&#x4ece;`sharedArray[index]`&#x51cf;&#x53bb;&#xff0c;&#x8fd4;&#x56de;`sharedArray[index]`&#x65e7;&#x7684;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1160,1161"}},{"content":"<pre data-lines=\"1162,1165\"><code data-lines=\"1162,1165\">Atomics.and(sharedArray, <span class=\"hljs-keyword\">index</span>, value) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1162,1165"}},{"content":"<pre data-lines=\"1166,1167\"><code>`Atomics.and`&#x7528;&#x4e8e;&#x5c06;`value`&#x4e0e;`sharedArray[index]`&#x8fdb;&#x884c;&#x4f4d;&#x8fd0;&#x7b97;`and`&#xff0c;&#x653e;&#x5165;`sharedArray[index]`&#xff0c;&#x5e76;&#x8fd4;&#x56de;&#x65e7;&#x7684;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1166,1167"}},{"content":"<pre data-lines=\"1168,1171\"><code data-lines=\"1168,1171\">Atomics.or(sharedArray, <span class=\"hljs-keyword\">index</span>, value) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1168,1171"}},{"content":"<pre data-lines=\"1172,1173\"><code>`Atomics.or`&#x7528;&#x4e8e;&#x5c06;`value`&#x4e0e;`sharedArray[index]`&#x8fdb;&#x884c;&#x4f4d;&#x8fd0;&#x7b97;`or`&#xff0c;&#x653e;&#x5165;`sharedArray[index]`&#xff0c;&#x5e76;&#x8fd4;&#x56de;&#x65e7;&#x7684;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1172,1173"}},{"content":"<pre data-lines=\"1174,1177\"><code data-lines=\"1174,1177\">Atomics.<span class=\"hljs-built_in\">xor</span>(sharedArray, <span class=\"hljs-built_in\">index</span>, value) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1174,1177"}},{"content":"<pre data-lines=\"1178,1188\"><code>`Atomic.xor`&#x7528;&#x4e8e;&#x5c06;`vaule`&#x4e0e;`sharedArray[index]`&#x8fdb;&#x884c;&#x4f4d;&#x8fd0;&#x7b97;`xor`&#xff0c;&#x653e;&#x5165;`sharedArray[index]`&#xff0c;&#x5e76;&#x8fd4;&#x56de;&#x65e7;&#x7684;&#x503c;&#x3002;\n\n**&#xff08;5&#xff09;&#x5176;&#x4ed6;&#x65b9;&#x6cd5;**\n\n`Atomics`&#x5bf9;&#x8c61;&#x8fd8;&#x6709;&#x4ee5;&#x4e0b;&#x65b9;&#x6cd5;&#x3002;\n\n*   `Atomics.compareExchange(sharedArray, index, oldval, newval)`&#xff1a;&#x5982;&#x679c;`sharedArray[index]`&#x7b49;&#x4e8e;`oldval`&#xff0c;&#x5c31;&#x5199;&#x5165;`newval`&#xff0c;&#x8fd4;&#x56de;`oldval`&#x3002;\n*   `Atomics.isLockFree(size)`&#xff1a;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x5e03;&#x5c14;&#x503c;&#xff0c;&#x8868;&#x793a;`Atomics`&#x5bf9;&#x8c61;&#x662f;&#x5426;&#x53ef;&#x4ee5;&#x5904;&#x7406;&#x67d0;&#x4e2a;`size`&#x7684;&#x5185;&#x5b58;&#x9501;&#x5b9a;&#x3002;&#x5982;&#x679c;&#x8fd4;&#x56de;`false`&#xff0c;&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#x5c31;&#x9700;&#x8981;&#x81ea;&#x5df1;&#x6765;&#x5b9e;&#x73b0;&#x9501;&#x5b9a;&#x3002;\n\n`Atomics.compareExchange`&#x7684;&#x4e00;&#x4e2a;&#x7528;&#x9014;&#x662f;&#xff0c;&#x4ece; SharedArrayBuffer &#x8bfb;&#x53d6;&#x4e00;&#x4e2a;&#x503c;&#xff0c;&#x7136;&#x540e;&#x5bf9;&#x8be5;&#x503c;&#x8fdb;&#x884c;&#x67d0;&#x4e2a;&#x64cd;&#x4f5c;&#xff0c;&#x64cd;&#x4f5c;&#x7ed3;&#x675f;&#x4ee5;&#x540e;&#xff0c;&#x68c0;&#x67e5;&#x4e00;&#x4e0b; SharedArrayBuffer &#x91cc;&#x9762;&#x539f;&#x6765;&#x90a3;&#x4e2a;&#x503c;&#x662f;&#x5426;&#x53d1;&#x751f;&#x53d8;&#x5316;&#xff08;&#x5373;&#x88ab;&#x5176;&#x4ed6;&#x7ebf;&#x7a0b;&#x6539;&#x5199;&#x8fc7;&#xff09;&#x3002;&#x5982;&#x679c;&#x6ca1;&#x6709;&#x6539;&#x5199;&#x8fc7;&#xff0c;&#x5c31;&#x5c06;&#x5b83;&#x5199;&#x56de;&#x539f;&#x6765;&#x7684;&#x4f4d;&#x7f6e;&#xff0c;&#x5426;&#x5219;&#x8bfb;&#x53d6;&#x65b0;&#x7684;&#x503c;&#xff0c;&#x518d;&#x91cd;&#x5934;&#x8fdb;&#x884c;&#x4e00;&#x6b21;&#x64cd;&#x4f5c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1178,1188"}}],"payload":{"tag":"h2","lines":"975,977"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
