<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Stream&#x63a5;&#x53e3;","children":[{"content":"&#x8ba4;&#x8bc6;","children":[{"content":"<pre data-lines=\"4,33\"><code data-lines=\"4,33\">&#x6982;&#x8ff0;\n    &#x6982;&#x5ff5;\n&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;\n  readable &#x5c5e;&#x6027;\n  <span class=\"hljs-built_in\">read</span>()\n  <span class=\"hljs-built_in\">_read</span>()\n  <span class=\"hljs-built_in\">setEncoding</span>()\n  <span class=\"hljs-built_in\">resume</span>()\n  <span class=\"hljs-attribute\">pause</span>()\n  <span class=\"hljs-built_in\">isPaused</span>()\n  <span class=\"hljs-built_in\">pipe</span>()\n  <span class=\"hljs-built_in\">unpipe</span>()\n  &#x4e8b;&#x4ef6;\n&#x7ee7;&#x627f;&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;&#x63a5;&#x53e3;\n  &#x5b9e;&#x4f8b;&#xff1a; fs &#x6a21;&#x5757;&#x7684;&#x8bfb;&#x6570;&#x636e;&#x6d41;\n&#x53ef;&#x5199;&#x6570;&#x636e;&#x6d41;\n  writable&#x5c5e;&#x6027;\n  <span class=\"hljs-built_in\">write</span>()\n  <span class=\"hljs-built_in\">cork</span>()&#xff0c;<span class=\"hljs-built_in\">uncork</span>()\n  <span class=\"hljs-built_in\">setDefaultEncoding</span>()\n  <span class=\"hljs-built_in\">end</span>()\n  &#x4e8b;&#x4ef6;\npipe &#x65b9;&#x6cd5;\n&#x8f6c;&#x6362;&#x6570;&#x636e;&#x6d41;\nHTTP&#x8bf7;&#x6c42;\nfs&#x6a21;&#x5757;\n&#x9519;&#x8bef;&#x5904;&#x7406;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,33"}},{"content":"<pre data-lines=\"34,37\"><code>&#x6570;&#x636e;&#x8bfb;&#x5199;&#x53ef;&#x4ee5;&#x770b;&#x4f5c;&#x662f;&#x4e8b;&#x4ef6;&#x6a21;&#x5f0f;&#xff08;Event&#xff09;&#x7684;&#x7279;&#x4f8b;&#xff0c;&#x4e0d;&#x65ad;&#x53d1;&#x9001;&#x7684;&#x6570;&#x636e;&#x5757;&#x597d;&#x6bd4;&#x4e00;&#x4e2a;&#x4e2a;&#x7684;&#x4e8b;&#x4ef6;&#x3002;\n&#x8bfb;&#x6570;&#x636e;&#x662f;read&#x4e8b;&#x4ef6;&#xff0c;&#x5199;&#x6570;&#x636e;&#x662f;write&#x4e8b;&#x4ef6;&#xff0c;&#x800c;&#x6570;&#x636e;&#x5757;&#x662f;&#x4e8b;&#x4ef6;&#x9644;&#x5e26;&#x7684;&#x4fe1;&#x606f;&#x3002;\nNode &#x4e3a;&#x8fd9;&#x7c7b;&#x60c5;&#x51b5;&#x63d0;&#x4f9b;&#x4e86;&#x4e00;&#x4e2a;&#x7279;&#x6b8a;&#x63a5;&#x53e3;Stream&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"34,37"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"&#x6982;&#x8ff0;","children":[{"content":"&#x6982;&#x5ff5;","children":[{"content":"<pre data-lines=\"42,53\"><code>&#x201d;&#x6570;&#x636e;&#x6d41;&#x201c;&#xff08;stream&#xff09;&#x662f;&#x5904;&#x7406;&#x7cfb;&#x7edf;&#x7f13;&#x5b58;&#x7684;&#x4e00;&#x79cd;&#x65b9;&#x5f0f;&#x3002;&#x64cd;&#x4f5c;&#x7cfb;&#x7edf;&#x91c7;&#x7528;&#x6570;&#x636e;&#x5757;&#xff08;chunk&#xff09;&#x7684;&#x65b9;&#x5f0f;&#x8bfb;&#x53d6;&#x6570;&#x636e;&#xff0c;\n&#x6bcf;&#x6536;&#x5230;&#x4e00;&#x6b21;&#x6570;&#x636e;&#xff0c;&#x5c31;&#x5b58;&#x5165;&#x7f13;&#x5b58;&#x3002;\n\nNode&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#x6709;&#x4e24;&#x79cd;&#x7f13;&#x5b58;&#x7684;&#x5904;&#x7406;&#x65b9;&#x5f0f;&#xff0c;\n&#x7b2c;&#x4e00;&#x79cd;&#x662f;&#x7b49;&#x5230;&#x6240;&#x6709;&#x6570;&#x636e;&#x63a5;&#x6536;&#x5b8c;&#x6bd5;&#xff0c;&#x4e00;&#x6b21;&#x6027;&#x4ece;&#x7f13;&#x5b58;&#x8bfb;&#x53d6;&#xff0c;&#x8fd9;&#x5c31;&#x662f;&#x4f20;&#x7edf;&#x7684;&#x8bfb;&#x53d6;&#x6587;&#x4ef6;&#x7684;&#x65b9;&#x5f0f;&#xff1b;\n&#x7b2c;&#x4e8c;&#x79cd;&#x662f;&#x91c7;&#x7528;&#x201c;&#x6570;&#x636e;&#x6d41;&#x201d;&#x7684;&#x65b9;&#x5f0f;&#xff0c;&#x6536;&#x5230;&#x4e00;&#x5757;&#x6570;&#x636e;&#xff0c;&#x5c31;&#x8bfb;&#x53d6;&#x4e00;&#x5757;&#xff0c;&#x5373;&#x5728;&#x6570;&#x636e;&#x8fd8;&#x6ca1;&#x6709;&#x63a5;&#x6536;&#x5b8c;&#x6210;&#x65f6;&#xff0c;&#x5c31;&#x5f00;&#x59cb;&#x5904;&#x7406;&#x5b83;&#x3002;\n\n&#x7b2c;&#x4e00;&#x79cd;&#x65b9;&#x5f0f;&#x5148;&#x5c06;&#x6570;&#x636e;&#x5168;&#x90e8;&#x8bfb;&#x5165;&#x5185;&#x5b58;&#xff0c;&#x7136;&#x540e;&#x5904;&#x7406;&#xff0c;&#x4f18;&#x70b9;&#x662f;&#x7b26;&#x5408;&#x76f4;&#x89c9;&#xff0c;&#x6d41;&#x7a0b;&#x975e;&#x5e38;&#x81ea;&#x7136;&#xff0c;&#x7f3a;&#x70b9;&#x662f;&#x5982;&#x679c;&#x9047;&#x5230;&#x5927;&#x6587;&#x4ef6;&#xff0c;&#x8981;&#x82b1;&#x5f88;&#x957f;&#x65f6;&#x95f4;&#xff0c;&#x624d;&#x80fd;&#x8fdb;&#x5165;&#x6570;&#x636e;&#x5904;&#x7406;&#x7684;&#x6b65;&#x9aa4;&#x3002;\n\n&#x7b2c;&#x4e8c;&#x79cd;&#x65b9;&#x5f0f;&#x6bcf;&#x6b21;&#x53ea;&#x8bfb;&#x5165;&#x6570;&#x636e;&#x7684;&#x4e00;&#x5c0f;&#x5757;&#xff0c;&#x50cf;&#x201c;&#x6d41;&#x6c34;&#x201d;&#x4e00;&#x6837;&#xff0c;&#x6bcf;&#x5f53;&#x7cfb;&#x7edf;&#x8bfb;&#x5165;&#x4e86;&#x4e00;&#x5c0f;&#x5757;&#x6570;&#x636e;&#xff0c;&#x5c31;&#x4f1a;&#x89e6;&#x53d1;&#x4e00;&#x4e2a;&#x4e8b;&#x4ef6;&#xff0c;&#x53d1;&#x51fa;&#x201c;&#x65b0;&#x6570;&#x636e;&#x5757;&#x201d;&#x7684;&#x4fe1;&#x53f7;&#x3002;\n&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#x53ea;&#x8981;&#x76d1;&#x542c;&#x8fd9;&#x4e2a;&#x4e8b;&#x4ef6;&#xff0c;&#x5c31;&#x80fd;&#x638c;&#x63e1;&#x6570;&#x636e;&#x8bfb;&#x53d6;&#x7684;&#x8fdb;&#x5c55;&#xff0c;&#x505a;&#x51fa;&#x76f8;&#x5e94;&#x5904;&#x7406;&#xff0c;&#x8fd9;&#x6837;&#x5c31;&#x63d0;&#x9ad8;&#x4e86;&#x7a0b;&#x5e8f;&#x7684;&#x6027;&#x80fd;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"42,53"}},{"content":"<pre data-lines=\"54,61\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> fs = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;fs&apos;</span>);\n\nfs\n.<span class=\"hljs-title function_\">createReadStream</span>(<span class=\"hljs-string\">&apos;./data/customers.csv&apos;</span>)\n.<span class=\"hljs-title function_\">pipe</span>(process.<span class=\"hljs-property\">stdout</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"54,61"}},{"content":"<pre data-lines=\"62,81\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;fs.createReadStream&#x65b9;&#x6cd5;&#x5c31;&#x662f;&#x4ee5;&#x201d;&#x6570;&#x636e;&#x6d41;&#x201c;&#x7684;&#x65b9;&#x5f0f;&#x8bfb;&#x53d6;&#x6587;&#x4ef6;&#xff0c;&#x8fd9;&#x53ef;&#x4ee5;&#x5728;&#x6587;&#x4ef6;&#x8fd8;&#x6ca1;&#x6709;&#x8bfb;&#x53d6;&#x5b8c;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x5c31;&#x8f93;&#x51fa;&#x5230;&#x6807;&#x51c6;&#x8f93;&#x51fa;&#x3002;\n&#x8fd9;&#x663e;&#x7136;&#x5bf9;&#x5927;&#x6587;&#x4ef6;&#x7684;&#x8bfb;&#x53d6;&#x975e;&#x5e38;&#x6709;&#x5229;&#x3002;\n\nUnix&#x64cd;&#x4f5c;&#x7cfb;&#x7edf;&#x4ece;&#x5f88;&#x65e9;&#x4ee5;&#x524d;&#xff0c;&#x5c31;&#x6709;&#x201c;&#x6570;&#x636e;&#x6d41;&#x201d;&#x8fd9;&#x4e2a;&#x6982;&#x5ff5;&#xff0c;&#x5b83;&#x662f;&#x4e0d;&#x540c;&#x8fdb;&#x7a0b;&#x4e4b;&#x95f4;&#x4f20;&#x9012;&#x6570;&#x636e;&#x7684;&#x4e00;&#x79cd;&#x65b9;&#x5f0f;&#x3002;\n&#x7ba1;&#x9053;&#x547d;&#x4ee4;&#xff08;pipe&#xff09;&#x5c31;&#x8d77;&#x5230;&#x5728;&#x4e0d;&#x540c;&#x547d;&#x4ee4;&#x4e4b;&#x95f4;&#xff0c;&#x8fde;&#x63a5;&#x6570;&#x636e;&#x6d41;&#x7684;&#x4f5c;&#x7528;&#x3002;&#x201c;&#x6570;&#x636e;&#x6d41;&#x201d;&#x76f8;&#x5f53;&#x4e8e;&#x628a;&#x8f83;&#x5927;&#x7684;&#x6570;&#x636e;&#x62c6;&#x6210;&#x5f88;&#x5c0f;&#x7684;&#x90e8;&#x5206;&#xff0c;\n&#x4e00;&#x4e2a;&#x547d;&#x4ee4;&#x53ea;&#x8981;&#x90e8;&#x7f72;&#x4e86;&#x6570;&#x636e;&#x6d41;&#x63a5;&#x53e3;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x628a;&#x4e00;&#x4e2a;&#x6d41;&#x7684;&#x8f93;&#x51fa;&#x63a5;&#x5230;&#x53e6;&#x4e00;&#x4e2a;&#x6d41;&#x7684;&#x8f93;&#x5165;&#x3002;\nNode&#x5f15;&#x5165;&#x4e86;&#x8fd9;&#x4e2a;&#x6982;&#x5ff5;&#xff0c;&#x901a;&#x8fc7;&#x6570;&#x636e;&#x6d41;&#x63a5;&#x53e3;&#x4e3a;&#x5f02;&#x6b65;&#x8bfb;&#x5199;&#x6570;&#x636e;&#x63d0;&#x4f9b;&#x7684;&#x7edf;&#x4e00;&#x63a5;&#x53e3;&#xff0c;&#x65e0;&#x8bba;&#x662f;&#x786c;&#x76d8;&#x6570;&#x636e;&#x3001;&#x7f51;&#x7edc;&#x6570;&#x636e;&#xff0c;&#x8fd8;&#x662f;&#x5185;&#x5b58;&#x6570;&#x636e;&#xff0c;&#x90fd;&#x53ef;&#x4ee5;&#x91c7;&#x7528;&#x8fd9;&#x4e2a;&#x63a5;&#x53e3;&#x8bfb;&#x5199;&#x3002;\n\n&#x6570;&#x636e;&#x6d41;&#x63a5;&#x53e3;&#x6700;&#x5927;&#x7279;&#x70b9;&#x5c31;&#x662f;&#x901a;&#x8fc7;&#x4e8b;&#x4ef6;&#x901a;&#x4fe1;&#xff0c;&#x5177;&#x6709;readable&#x3001;writable&#x3001;drain&#x3001;data&#x3001;end&#x3001;close&#x7b49;&#x4e8b;&#x4ef6;&#xff0c;\n&#x65e2;&#x53ef;&#x4ee5;&#x8bfb;&#x53d6;&#x6570;&#x636e;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x5199;&#x5165;&#x6570;&#x636e;&#x3002;&#x8bfb;&#x5199;&#x6570;&#x636e;&#x65f6;&#xff0c;&#x6bcf;&#x8bfb;&#x5165;&#xff08;&#x6216;&#x5199;&#x5165;&#xff09;&#x4e00;&#x6bb5;&#x6570;&#x636e;&#xff0c;&#x5c31;&#x4f1a;&#x89e6;&#x53d1;&#x4e00;&#x6b21;data&#x4e8b;&#x4ef6;&#xff0c;&#x5168;&#x90e8;&#x8bfb;&#x53d6;&#xff08;&#x6216;&#x5199;&#x5165;&#xff09;&#x5b8c;&#x6bd5;&#xff0c;&#x89e6;&#x53d1;end&#x4e8b;&#x4ef6;&#x3002;\n&#x5982;&#x679c;&#x53d1;&#x751f;&#x9519;&#x8bef;&#xff0c;&#x5219;&#x89e6;&#x53d1;error&#x4e8b;&#x4ef6;&#x3002;\n\n&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#x53ea;&#x8981;&#x90e8;&#x7f72;&#x4e86;&#x6570;&#x636e;&#x6d41;&#x63a5;&#x53e3;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x4ece;&#x5b83;&#x8bfb;&#x53d6;&#x6570;&#x636e;&#xff0c;&#x6216;&#x8005;&#x5199;&#x5165;&#x6570;&#x636e;&#x3002;\nNode&#x5185;&#x90e8;&#x5f88;&#x591a;&#x6d89;&#x53ca;IO&#x5904;&#x7406;&#x7684;&#x5bf9;&#x8c61;&#xff0c;&#x90fd;&#x90e8;&#x7f72;&#x4e86;Stream&#x63a5;&#x53e3;&#xff0c;&#x4e0b;&#x9762;&#x5c31;&#x662f;&#x5176;&#x4e2d;&#x7684;&#x4e00;&#x4e9b;&#x3002;\n\n- &#x6587;&#x4ef6;&#x8bfb;&#x5199;\n- HTTP &#x8bf7;&#x6c42;&#x7684;&#x8bfb;&#x5199;\n- TCP &#x8fde;&#x63a5;\n- &#x6807;&#x51c6;&#x8f93;&#x5165;&#x8f93;&#x51fa;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"62,81"}}],"payload":{"tag":"h3","lines":"40,41"}}],"payload":{"tag":"h2","lines":"38,39"}},{"content":"&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;","children":[{"content":"readable &#x5c5e;&#x6027;","children":[{"content":"<pre data-lines=\"188,189\"><code>&#x4e00;&#x4e2a;&#x6570;&#x636e;&#x6d41;&#x7684;readable&#x5c5e;&#x6027;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x5e03;&#x5c14;&#x503c;&#x3002;&#x5982;&#x679c;&#x6570;&#x636e;&#x6d41;&#x662f;&#x4e00;&#x4e2a;&#x4ecd;&#x7136;&#x6253;&#x5f00;&#x7684;&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;&#xff0c;&#x5c31;&#x8fd4;&#x56de;true&#xff0c;&#x5426;&#x5219;&#x8fd4;&#x56de;false&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"188,189"}}],"payload":{"tag":"h3","lines":"186,187"}},{"content":"read()","children":[{"content":"<pre data-lines=\"192,198\"><code>read&#x65b9;&#x6cd5;&#x4ece;&#x7cfb;&#x7edf;&#x7f13;&#x5b58;&#x8bfb;&#x53d6;&#x5e76;&#x8fd4;&#x56de;&#x6570;&#x636e;&#x3002;&#x5982;&#x679c;&#x8bfb;&#x4e0d;&#x5230;&#x6570;&#x636e;&#xff0c;&#x5219;&#x8fd4;&#x56de;null&#x3002;\n\n&#x8be5;&#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#x4e00;&#x4e2a;&#x6574;&#x6570;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x8868;&#x793a;&#x6240;&#x8981;&#x8bfb;&#x53d6;&#x6570;&#x636e;&#x7684;&#x6570;&#x91cf;&#xff0c;&#x7136;&#x540e;&#x4f1a;&#x8fd4;&#x56de;&#x8be5;&#x6570;&#x91cf;&#x7684;&#x6570;&#x636e;&#x3002;\n&#x5982;&#x679c;&#x8bfb;&#x4e0d;&#x5230;&#x8db3;&#x591f;&#x6570;&#x91cf;&#x7684;&#x6570;&#x636e;&#xff0c;&#x8fd4;&#x56de;null&#x3002;&#x5982;&#x679c;&#x4e0d;&#x63d0;&#x4f9b;&#x8fd9;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x9ed8;&#x8ba4;&#x8fd4;&#x56de;&#x7cfb;&#x7edf;&#x7f13;&#x5b58;&#x4e4b;&#x4e2d;&#x7684;&#x6240;&#x6709;&#x6570;&#x636e;&#x3002;\n\n&#x53ea;&#x5728;&#x201c;&#x6682;&#x505c;&#x6001;&#x201d;&#x65f6;&#xff0c;&#x8be5;&#x65b9;&#x6cd5;&#x624d;&#x6709;&#x5fc5;&#x8981;&#x624b;&#x52a8;&#x8c03;&#x7528;&#x3002;&#x201c;&#x6d41;&#x52a8;&#x6001;&#x201d;&#x65f6;&#xff0c;&#x8be5;&#x65b9;&#x6cd5;&#x662f;&#x81ea;&#x52a8;&#x8c03;&#x7528;&#x7684;&#xff0c;&#x76f4;&#x5230;&#x7cfb;&#x7edf;&#x7f13;&#x5b58;&#x4e4b;&#x4e2d;&#x7684;&#x6570;&#x636e;&#x88ab;&#x8bfb;&#x5149;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"192,198"}},{"content":"<pre data-lines=\"199,208\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> readable = <span class=\"hljs-title function_\">getReadableStreamSomehow</span>();\nreadable.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;readable&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">var</span> chunk;\n  <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">null</span> !== (chunk = readable.<span class=\"hljs-title function_\">read</span>())) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;got %d bytes of data&apos;</span>, chunk.<span class=\"hljs-property\">length</span>);\n  }\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"199,208"}},{"content":"<pre data-lines=\"209,210\"><code>&#x5982;&#x679c;&#x8be5;&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x6570;&#x636e;&#x5757;&#xff0c;&#x90a3;&#x4e48;&#x5b83;&#x5c31;&#x89e6;&#x53d1;&#x4e86;data&#x4e8b;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"209,210"}}],"payload":{"tag":"h3","lines":"190,191"}},{"content":"_read()","children":[{"content":"<pre data-lines=\"213,214\"><code>&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;&#x7684;_read&#x65b9;&#x6cd5;&#xff0c;&#x53ef;&#x4ee5;&#x5c06;&#x6570;&#x636e;&#x653e;&#x5165;&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"213,214"}},{"content":"<pre data-lines=\"215,227\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">Readable</span> = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;stream&apos;</span>).<span class=\"hljs-property\">Readable</span>;\n<span class=\"hljs-keyword\">var</span> rs = <span class=\"hljs-title class_\">Readable</span>();\n\n<span class=\"hljs-keyword\">var</span> c = <span class=\"hljs-number\">97</span>;\nrs.<span class=\"hljs-property\">_read</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  rs.<span class=\"hljs-title function_\">push</span>(<span class=\"hljs-title class_\">String</span>.<span class=\"hljs-title function_\">fromCharCode</span>(c++));\n  <span class=\"hljs-keyword\">if</span> (c &gt; <span class=\"hljs-string\">&apos;z&apos;</span>.<span class=\"hljs-title function_\">charCodeAt</span>(<span class=\"hljs-number\">0</span>)) rs.<span class=\"hljs-title function_\">push</span>(<span class=\"hljs-literal\">null</span>);\n};\n\nrs.<span class=\"hljs-title function_\">pipe</span>(process.<span class=\"hljs-property\">stdout</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"215,227"}},{"content":"<pre data-lines=\"228,229\"><code>&#x8fd0;&#x884c;&#x7ed3;&#x679c;&#x5982;&#x4e0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"228,229"}},{"content":"<pre data-lines=\"230,234\"><code class=\"language-bash\">&#x24; node read1.js\nabcdefghijklmnopqrstuvwxyz\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"230,234"}}],"payload":{"tag":"h3","lines":"211,212"}},{"content":"setEncoding()","children":[{"content":"<pre data-lines=\"237,245\"><code>&#x8c03;&#x7528;&#x8be5;&#x65b9;&#x6cd5;&#xff0c;&#x4f1a;&#x4f7f;&#x5f97;&#x6570;&#x636e;&#x6d41;&#x8fd4;&#x56de;&#x6307;&#x5b9a;&#x7f16;&#x7801;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x7f13;&#x5b58;&#x4e4b;&#x4e2d;&#x7684;&#x4e8c;&#x8fdb;&#x5236;&#x5bf9;&#x8c61;&#x3002;\n&#x6bd4;&#x5982;&#xff0c;&#x8c03;&#x7528;setEncoding(&apos;utf8&apos;)&#xff0c;&#x6570;&#x636e;&#x6d41;&#x4f1a;&#x8fd4;&#x56de;UTF-8&#x5b57;&#x7b26;&#x4e32;&#xff0c;\n&#x8c03;&#x7528;setEncoding(&apos;hex&apos;)&#xff0c;&#x6570;&#x636e;&#x6d41;&#x4f1a;&#x8fd4;&#x56de;16&#x8fdb;&#x5236;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#x3002;\n\nsetEncoding&#x7684;&#x53c2;&#x6570;&#x662f;&#x5b57;&#x7b26;&#x4e32;&#x7684;&#x7f16;&#x7801;&#x65b9;&#x6cd5;&#xff0c;&#x6bd4;&#x5982;utf8&#x3001;ascii&#x3001;base64&#x7b49;&#x3002;\n\n&#x8be5;&#x65b9;&#x6cd5;&#x4f1a;&#x6b63;&#x786e;&#x5904;&#x7406;&#x591a;&#x5b57;&#x8282;&#x7684;&#x5b57;&#x7b26;&#xff0c;&#x800c;&#x7f13;&#x5b58;&#x7684;&#x65b9;&#x6cd5;buf.toString(encoding)&#x4e0d;&#x4f1a;&#x3002;\n&#x6240;&#x4ee5;&#x5982;&#x679c;&#x60f3;&#x8981;&#x4ece;&#x6570;&#x636e;&#x6d41;&#x8bfb;&#x53d6;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x5e94;&#x8be5;&#x603b;&#x662f;&#x4f7f;&#x7528;&#x8be5;&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"237,245"}},{"content":"<pre data-lines=\"246,254\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> readable = <span class=\"hljs-title function_\">getReadableStreamSomehow</span>();\nreadable.<span class=\"hljs-title function_\">setEncoding</span>(<span class=\"hljs-string\">&apos;utf8&apos;</span>);\nreadable.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;data&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">chunk</span>) {\n  assert.<span class=\"hljs-title function_\">equal</span>(<span class=\"hljs-keyword\">typeof</span> chunk, <span class=\"hljs-string\">&apos;string&apos;</span>);\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;got %d characters of string data&apos;</span>, chunk.<span class=\"hljs-property\">length</span>);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"246,254"}}],"payload":{"tag":"h3","lines":"235,236"}},{"content":"resume()","children":[{"content":"<pre data-lines=\"257,258\"><code>resume&#x65b9;&#x6cd5;&#x4f1a;&#x4f7f;&#x5f97;&#x201c;&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;&#x201d;&#x7ee7;&#x7eed;&#x91ca;&#x653e;data&#x4e8b;&#x4ef6;&#xff0c;&#x5373;&#x8f6c;&#x4e3a;&#x6d41;&#x52a8;&#x6001;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"257,258"}},{"content":"<pre data-lines=\"259,267\"><code class=\"language-js\"><span class=\"hljs-comment\">// &#x65b0;&#x5efa;&#x4e00;&#x4e2a;readable&#x6570;&#x636e;&#x6d41;</span>\n<span class=\"hljs-keyword\">var</span> readable = <span class=\"hljs-title function_\">getReadableStreamSomehow</span>();\nreadable.<span class=\"hljs-title function_\">resume</span>();\nreadable.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;end&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">chunk</span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x6570;&#x636e;&#x6d41;&#x5230;&#x8fbe;&#x5c3e;&#x90e8;&#xff0c;&#x672a;&#x8bfb;&#x53d6;&#x4efb;&#x52a1;&#x6570;&#x636e;&apos;</span>);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"259,267"}},{"content":"<pre data-lines=\"268,270\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x8c03;&#x7528;resume&#x65b9;&#x6cd5;&#x4f7f;&#x5f97;&#x6570;&#x636e;&#x6d41;&#x8fdb;&#x5165;&#x6d41;&#x52a8;&#x6001;&#xff0c;&#x53ea;&#x5b9a;&#x4e49;end&#x4e8b;&#x4ef6;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;&#xff0c;\n&#x4e0d;&#x5b9a;&#x4e49;data&#x4e8b;&#x4ef6;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;&#xff0c;&#x8868;&#x793a;&#x4e0d;&#x4ece;&#x6570;&#x636e;&#x6d41;&#x8bfb;&#x53d6;&#x4efb;&#x4f55;&#x6570;&#x636e;&#xff0c;&#x53ea;&#x76d1;&#x542c;&#x6570;&#x636e;&#x6d41;&#x5230;&#x8fbe;&#x5c3e;&#x90e8;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"268,270"}}],"payload":{"tag":"h3","lines":"255,256"}},{"content":"pause()","children":[{"content":"<pre data-lines=\"273,275\"><code>pause&#x65b9;&#x6cd5;&#x4f7f;&#x5f97;&#x6d41;&#x52a8;&#x6001;&#x7684;&#x6570;&#x636e;&#x6d41;&#xff0c;&#x505c;&#x6b62;&#x91ca;&#x653e;data&#x4e8b;&#x4ef6;&#xff0c;&#x8f6c;&#x800c;&#x8fdb;&#x5165;&#x6682;&#x505c;&#x6001;&#x3002;\n&#x4efb;&#x4f55;&#x6b64;&#x65f6;&#x5df2;&#x7ecf;&#x53ef;&#x4ee5;&#x8bfb;&#x5230;&#x7684;&#x6570;&#x636e;&#xff0c;&#x90fd;&#x5c06;&#x505c;&#x7559;&#x5728;&#x7cfb;&#x7edf;&#x7f13;&#x5b58;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"273,275"}},{"content":"<pre data-lines=\"276,289\"><code class=\"language-js\"><span class=\"hljs-comment\">// &#x65b0;&#x5efa;&#x4e00;&#x4e2a;readable&#x6570;&#x636e;&#x6d41;</span>\n<span class=\"hljs-keyword\">var</span> readable = <span class=\"hljs-title function_\">getReadableStreamSomehow</span>();\nreadable.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;data&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">chunk</span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x8bfb;&#x53d6;%d&#x5b57;&#x8282;&#x7684;&#x6570;&#x636e;&apos;</span>, chunk.<span class=\"hljs-property\">length</span>);\n  readable.<span class=\"hljs-title function_\">pause</span>();\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x63a5;&#x4e0b;&#x6765;&#x7684;1&#x79d2;&#x5185;&#x4e0d;&#x8bfb;&#x53d6;&#x6570;&#x636e;&apos;</span>);\n  <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x6570;&#x636e;&#x6062;&#x590d;&#x8bfb;&#x53d6;&apos;</span>);\n    readable.<span class=\"hljs-title function_\">resume</span>();\n  }, <span class=\"hljs-number\">1000</span>);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"276,289"}}],"payload":{"tag":"h3","lines":"271,272"}},{"content":"isPaused()","children":[{"content":"<pre data-lines=\"292,294\"><code>&#x8be5;&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x5e03;&#x5c14;&#x503c;&#xff0c;&#x8868;&#x793a;&#x201c;&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;&#x201d;&#x88ab;&#x5ba2;&#x6237;&#x7aef;&#x624b;&#x52a8;&#x6682;&#x505c;&#xff08;&#x5373;&#x8c03;&#x7528;&#x4e86;pause&#x65b9;&#x6cd5;&#xff09;&#xff0c;\n&#x76ee;&#x524d;&#x8fd8;&#x6ca1;&#x6709;&#x8c03;&#x7528;resume&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"292,294"}},{"content":"<pre data-lines=\"295,304\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> readable = <span class=\"hljs-keyword\">new</span> stream.<span class=\"hljs-property\">Readable</span>\n\nreadable.<span class=\"hljs-title function_\">isPaused</span>() <span class=\"hljs-comment\">// === false</span>\nreadable.<span class=\"hljs-title function_\">pause</span>()\nreadable.<span class=\"hljs-title function_\">isPaused</span>() <span class=\"hljs-comment\">// === true</span>\nreadable.<span class=\"hljs-title function_\">resume</span>()\nreadable.<span class=\"hljs-title function_\">isPaused</span>() <span class=\"hljs-comment\">// === false</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"295,304"}}],"payload":{"tag":"h3","lines":"290,291"}},{"content":"pipe()","children":[{"content":"<pre data-lines=\"307,309\"><code>pipe&#x65b9;&#x6cd5;&#x662f;&#x81ea;&#x52a8;&#x4f20;&#x9001;&#x6570;&#x636e;&#x7684;&#x673a;&#x5236;&#xff0c;&#x5c31;&#x50cf;&#x7ba1;&#x9053;&#x4e00;&#x6837;&#x3002;\n&#x5b83;&#x4ece;&#x201c;&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;&#x201d;&#x8bfb;&#x51fa;&#x6240;&#x6709;&#x6570;&#x636e;&#xff0c;&#x5c06;&#x5176;&#x5199;&#x51fa;&#x6307;&#x5b9a;&#x7684;&#x76ee;&#x7684;&#x5730;&#x3002;&#x6574;&#x4e2a;&#x8fc7;&#x7a0b;&#x662f;&#x81ea;&#x52a8;&#x7684;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"307,309"}},{"content":"<pre data-lines=\"310,313\"><code class=\"language-js\">src.pipe(dst)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"310,313"}},{"content":"<pre data-lines=\"314,315\"><code>pipe&#x65b9;&#x6cd5;&#x5fc5;&#x987b;&#x5728;&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;&#x4e0a;&#x8c03;&#x7528;&#xff0c;&#x5b83;&#x7684;&#x53c2;&#x6570;&#x5fc5;&#x987b;&#x662f;&#x53ef;&#x5199;&#x6570;&#x636e;&#x6d41;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"314,315"}},{"content":"<pre data-lines=\"316,323\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> fs = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;fs&apos;</span>);\n<span class=\"hljs-keyword\">var</span> readableStream = fs.<span class=\"hljs-title function_\">createReadStream</span>(<span class=\"hljs-string\">&apos;file1.txt&apos;</span>);\n<span class=\"hljs-keyword\">var</span> writableStream = fs.<span class=\"hljs-title function_\">createWriteStream</span>(<span class=\"hljs-string\">&apos;file2.txt&apos;</span>);\n\nreadableStream.<span class=\"hljs-title function_\">pipe</span>(writableStream);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"316,323"}},{"content":"<pre data-lines=\"324,327\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4f7f;&#x7528;pipe&#x65b9;&#x6cd5;&#xff0c;&#x5c06;file1&#x7684;&#x5185;&#x5bb9;&#x5199;&#x5165;file2&#x3002;&#x6574;&#x4e2a;&#x8fc7;&#x7a0b;&#x7531;pipe&#x65b9;&#x6cd5;&#x7ba1;&#x7406;&#xff0c;&#x4e0d;&#x7528;&#x624b;&#x52a8;&#x5e72;&#x9884;&#xff0c;&#x6240;&#x4ee5;&#x53ef;&#x4ee5;&#x5c06;&#x4f20;&#x9001;&#x6570;&#x636e;&#x5199;&#x5f97;&#x5f88;&#x7b80;&#x6d01;&#x3002;\n\npipe&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x76ee;&#x7684;&#x5730;&#x7684;&#x6570;&#x636e;&#x6d41;&#xff0c;&#x56e0;&#x6b64;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x94fe;&#x5f0f;&#x5199;&#x6cd5;&#xff0c;&#x5c06;&#x591a;&#x4e2a;&#x6570;&#x636e;&#x6d41;&#x64cd;&#x4f5c;&#x8fde;&#x5728;&#x4e00;&#x8d77;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"324,327"}},{"content":"<pre data-lines=\"328,335\"><code class=\"language-js\">a.<span class=\"hljs-title function_\">pipe</span>(b).<span class=\"hljs-title function_\">pipe</span>(c).<span class=\"hljs-title function_\">pipe</span>(d)\n<span class=\"hljs-comment\">// &#x7b49;&#x540c;&#x4e8e;</span>\na.<span class=\"hljs-title function_\">pipe</span>(b);\nb.<span class=\"hljs-title function_\">pipe</span>(c);\nc.<span class=\"hljs-title function_\">pipe</span>(d);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"328,335"}},{"content":"<pre data-lines=\"336,337\"><code>&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"336,337"}},{"content":"<pre data-lines=\"338,346\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> fs = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;fs&apos;</span>);\n<span class=\"hljs-keyword\">var</span> zlib = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;zlib&apos;</span>);\n\nfs.<span class=\"hljs-title function_\">createReadStream</span>(<span class=\"hljs-string\">&apos;input.txt.gz&apos;</span>)\n  .<span class=\"hljs-title function_\">pipe</span>(zlib.<span class=\"hljs-title function_\">createGunzip</span>())\n  .<span class=\"hljs-title function_\">pipe</span>(fs.<span class=\"hljs-title function_\">createWriteStream</span>(<span class=\"hljs-string\">&apos;output.txt&apos;</span>));\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"338,346"}},{"content":"<pre data-lines=\"347,350\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x91c7;&#x7528;&#x94fe;&#x5f0f;&#x5199;&#x6cd5;&#xff0c;&#x5148;&#x8bfb;&#x53d6;&#x6587;&#x4ef6;&#xff0c;&#x7136;&#x540e;&#x8fdb;&#x884c;&#x538b;&#x7f29;&#xff0c;&#x6700;&#x540e;&#x8f93;&#x51fa;&#x3002;\n\n&#x4e0b;&#x9762;&#x7684;&#x5199;&#x6cd5;&#x6a21;&#x62df;&#x4e86;Unix&#x7cfb;&#x7edf;&#x7684;cat&#x547d;&#x4ee4;&#xff0c;&#x5c06;&#x6807;&#x51c6;&#x8f93;&#x51fa;&#x5199;&#x5165;&#x6807;&#x51c6;&#x8f93;&#x5165;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"347,350"}},{"content":"<pre data-lines=\"351,354\"><code class=\"language-js\">process.stdin.pipe(process.stdout);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"351,354"}},{"content":"<pre data-lines=\"355,356\"><code>&#x5f53;&#x6765;&#x6e90;&#x5730;&#x7684;&#x6570;&#x636e;&#x6d41;&#x8bfb;&#x53d6;&#x5b8c;&#x6210;&#xff0c;&#x9ed8;&#x8ba4;&#x4f1a;&#x8c03;&#x7528;&#x76ee;&#x7684;&#x5730;&#x7684;end&#x65b9;&#x6cd5;&#xff0c;&#x5c31;&#x4e0d;&#x518d;&#x80fd;&#x591f;&#x5199;&#x5165;&#x3002;&#x5bf9;pipe&#x65b9;&#x6cd5;&#x4f20;&#x5165;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;{ end: false }&#xff0c;&#x53ef;&#x4ee5;&#x8ba9;&#x76ee;&#x7684;&#x5730;&#x7684;&#x6570;&#x636e;&#x6d41;&#x4fdd;&#x6301;&#x6253;&#x5f00;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"355,356"}},{"content":"<pre data-lines=\"357,363\"><code class=\"language-js\">reader.<span class=\"hljs-title function_\">pipe</span>(writer, { <span class=\"hljs-attr\">end</span>: <span class=\"hljs-literal\">false</span> });\nreader.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;end&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n  writer.<span class=\"hljs-title function_\">end</span>(<span class=\"hljs-string\">&apos;Goodbye\\n&apos;</span>);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"357,363"}},{"content":"<pre data-lines=\"364,365\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x76ee;&#x7684;&#x5730;&#x6570;&#x636e;&#x6d41;&#x9ed8;&#x8ba4;&#x4e0d;&#x4f1a;&#x8c03;&#x7528;end&#x65b9;&#x6cd5;&#xff0c;&#x53ea;&#x80fd;&#x624b;&#x52a8;&#x8c03;&#x7528;&#xff0c;&#x56e0;&#x6b64;&#x201c;Goodbye&#x201d;&#x4f1a;&#x88ab;&#x5199;&#x5165;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"364,365"}}],"payload":{"tag":"h3","lines":"305,306"}},{"content":"unpipe()","children":[{"content":"<pre data-lines=\"368,370\"><code>&#x8be5;&#x65b9;&#x6cd5;&#x79fb;&#x9664;pipe&#x65b9;&#x6cd5;&#x6307;&#x5b9a;&#x7684;&#x6570;&#x636e;&#x6d41;&#x76ee;&#x7684;&#x5730;&#x3002;&#x5982;&#x679c;&#x6ca1;&#x6709;&#x53c2;&#x6570;&#xff0c;&#x5219;&#x79fb;&#x9664;&#x6240;&#x6709;&#x7684;pipe&#x65b9;&#x6cd5;&#x76ee;&#x7684;&#x5730;&#x3002;\n&#x5982;&#x679c;&#x6709;&#x53c2;&#x6570;&#xff0c;&#x5219;&#x79fb;&#x9664;&#x8be5;&#x53c2;&#x6570;&#x6307;&#x5b9a;&#x7684;&#x76ee;&#x7684;&#x5730;&#x3002;&#x5982;&#x679c;&#x6ca1;&#x6709;&#x5339;&#x914d;&#x53c2;&#x6570;&#x7684;&#x76ee;&#x7684;&#x5730;&#xff0c;&#x5219;&#x4e0d;&#x4f1a;&#x4ea7;&#x751f;&#x4efb;&#x4f55;&#x6548;&#x679c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"368,370"}},{"content":"<pre data-lines=\"371,382\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> readable = <span class=\"hljs-title function_\">getReadableStreamSomehow</span>();\n<span class=\"hljs-keyword\">var</span> writable = fs.<span class=\"hljs-title function_\">createWriteStream</span>(<span class=\"hljs-string\">&apos;file.txt&apos;</span>);\nreadable.<span class=\"hljs-title function_\">pipe</span>(writable);\n<span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x505c;&#x6b62;&#x5199;&#x5165;file.txt&apos;</span>);\n  readable.<span class=\"hljs-title function_\">unpipe</span>(writable);\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x624b;&#x52a8;&#x5173;&#x95ed;file.txt&#x7684;&#x5199;&#x5165;&#x6570;&#x636e;&#x6d41;&apos;</span>);\n  writable.<span class=\"hljs-title function_\">end</span>();\n}, <span class=\"hljs-number\">1000</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"371,382"}},{"content":"<pre data-lines=\"383,384\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5199;&#x5165;file.txt&#x7684;&#x65f6;&#x95f4;&#xff0c;&#x53ea;&#x6709;1&#x79d2;&#x949f;&#xff0c;&#x7136;&#x540e;&#x5c31;&#x505c;&#x6b62;&#x5199;&#x5165;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"383,384"}}],"payload":{"tag":"h3","lines":"366,367"}},{"content":"&#x4e8b;&#x4ef6;","children":[{"content":"<pre data-lines=\"387,388\"><code>&#x4e0b;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;s&#x662f;&#x4e00;&#x4e2a;readable&#x6570;&#x636e;&#x6d41;&#xff0c;&#x5b83;&#x53ef;&#x4ee5;&#x76d1;&#x542c;&#x4ee5;&#x4e0b;&#x4e8b;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"387,388"}},{"content":"<pre data-lines=\"389,398\"><code class=\"language-js\">s.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;data&apos;</span>, f);    <span class=\"hljs-comment\">// &#x6536;&#x5230;&#x65b0;&#x7684;&#x6570;&#x636e;&#x65f6;&#xff0c;data&#x4e8b;&#x4ef6;&#x5c31;&#x4f1a;&#x53d1;&#x751f;&#xff0c;&#x89e6;&#x53d1;f()</span>\ns.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;end&apos;</span>, f);     <span class=\"hljs-comment\">// &#x6570;&#x636e;&#x8bfb;&#x53d6;&#x5b8c;&#x4ee5;&#x540e;&#xff0c;&#x4e0d;&#x4f1a;&#x518d;&#x6536;&#x5230;&#x6570;&#x636e;&#x4e86;&#xff0c;end&#x4e8b;&#x4ef6;&#x53d1;&#x751f;&#xff0c;&#x89e6;&#x53d1;f()</span>\ns.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;error&apos;</span>, f);   <span class=\"hljs-comment\">// &#x53d1;&#x751f;&#x9519;&#x8bef;&#x65f6;&#xff0c;error&#x4e8b;&#x4ef6;&#x53d1;&#x751f;&#xff0c;&#x89e6;&#x53d1;f()</span>\ns.<span class=\"hljs-property\">readable</span>          <span class=\"hljs-comment\">// =&gt; true if it is a readable stream that is still open</span>\ns.<span class=\"hljs-title function_\">pause</span>();          <span class=\"hljs-comment\">// Pause &quot;data&quot; events.  For throttling uploads, e.g.</span>\ns.<span class=\"hljs-title function_\">resume</span>();         <span class=\"hljs-comment\">// Resume again</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"389,398"}},{"content":"<pre data-lines=\"399,402\"><code>**&#xff08;1&#xff09;readable**\n\nreadable&#x4e8b;&#x4ef6;&#x5728;&#x6570;&#x636e;&#x6d41;&#x80fd;&#x591f;&#x5411;&#x5916;&#x63d0;&#x4f9b;&#x6570;&#x636e;&#x65f6;&#x89e6;&#x53d1;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"399,402"}},{"content":"<pre data-lines=\"403,409\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> readable = <span class=\"hljs-title function_\">getReadableStreamSomehow</span>();\nreadable.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;readable&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-comment\">// there is some data to read now</span>\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"403,409"}},{"content":"<pre data-lines=\"410,411\"><code>&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"410,411"}},{"content":"<pre data-lines=\"412,418\"><code class=\"language-js\">process.<span class=\"hljs-property\">stdin</span>.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;readable&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">var</span> buf = process.<span class=\"hljs-property\">stdin</span>.<span class=\"hljs-title function_\">read</span>();\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">dir</span>(buf);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"412,418"}},{"content":"<pre data-lines=\"419,422\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5c06;&#x6807;&#x51c6;&#x8f93;&#x5165;&#x7684;&#x6570;&#x636e;&#x8bfb;&#x51fa;&#x3002;\n\nread&#x65b9;&#x6cd5;&#x63a5;&#x53d7;&#x4e00;&#x4e2a;&#x6574;&#x6570;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x8868;&#x793a;&#x4ee5;&#x591a;&#x5c11;&#x4e2a;&#x5b57;&#x8282;&#x4e3a;&#x5355;&#x4f4d;&#x8fdb;&#x884c;&#x8bfb;&#x53d6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"419,422"}},{"content":"<pre data-lines=\"423,429\"><code class=\"language-js\">process.<span class=\"hljs-property\">stdin</span>.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;readable&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-keyword\">var</span> buf = process.<span class=\"hljs-property\">stdin</span>.<span class=\"hljs-title function_\">read</span>(<span class=\"hljs-number\">3</span>);\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">dir</span>(buf);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"423,429"}},{"content":"<pre data-lines=\"430,435\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5c06;&#x4ee5;3&#x4e2a;&#x5b57;&#x8282;&#x4e3a;&#x5355;&#x4f4d;&#x8fdb;&#x884c;&#x8f93;&#x51fa;&#x5185;&#x5bb9;&#x3002;\n\n**&#xff08;2&#xff09;data**\n\n&#x5bf9;&#x4e8e;&#x90a3;&#x4e9b;&#x6ca1;&#x6709;&#x663e;&#x5f0f;&#x6682;&#x505c;&#x7684;&#x6570;&#x636e;&#x6d41;&#xff0c;&#x6dfb;&#x52a0;data&#x4e8b;&#x4ef6;&#x76d1;&#x542c;&#x51fd;&#x6570;&#xff0c;&#x4f1a;&#x5c06;&#x6570;&#x636e;&#x6d41;&#x5207;&#x6362;&#x5230;&#x6d41;&#x52a8;&#x6001;&#xff0c;&#x5c3d;&#x5feb;&#x5411;&#x5916;&#x63d0;&#x4f9b;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"430,435"}},{"content":"<pre data-lines=\"436,442\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> readable = <span class=\"hljs-title function_\">getReadableStreamSomehow</span>();\nreadable.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;data&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">chunk</span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;got %d bytes of data&apos;</span>, chunk.<span class=\"hljs-property\">length</span>);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"436,442"}},{"content":"<pre data-lines=\"443,446\"><code>**&#xff08;3&#xff09;end**\n\n&#x65e0;&#x6cd5;&#x518d;&#x8bfb;&#x53d6;&#x5230;&#x6570;&#x636e;&#x65f6;&#xff0c;&#x4f1a;&#x89e6;&#x53d1;end&#x4e8b;&#x4ef6;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x53ea;&#x6709;&#x5f53;&#x524d;&#x6570;&#x636e;&#x88ab;&#x5b8c;&#x5168;&#x8bfb;&#x53d6;&#x5b8c;&#xff0c;&#x624d;&#x4f1a;&#x89e6;&#x53d1;end&#x4e8b;&#x4ef6;&#xff0c;&#x6bd4;&#x5982;&#x4e0d;&#x505c;&#x5730;&#x8c03;&#x7528;read&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"443,446"}},{"content":"<pre data-lines=\"447,456\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> readable = <span class=\"hljs-title function_\">getReadableStreamSomehow</span>();\nreadable.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;data&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">chunk</span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;got %d bytes of data&apos;</span>, chunk.<span class=\"hljs-property\">length</span>);\n});\nreadable.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;end&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;there will be no more data.&apos;</span>);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"447,456"}},{"content":"<pre data-lines=\"457,464\"><code>**&#xff08;4&#xff09;close**\n\n&#x6570;&#x636e;&#x6e90;&#x5173;&#x95ed;&#x65f6;&#xff0c;close&#x4e8b;&#x4ef6;&#x88ab;&#x89e6;&#x53d1;&#x3002;&#x5e76;&#x4e0d;&#x662f;&#x6240;&#x6709;&#x7684;&#x6570;&#x636e;&#x6d41;&#x90fd;&#x652f;&#x6301;&#x8fd9;&#x4e2a;&#x4e8b;&#x4ef6;&#x3002;\n\n**&#xff08;5&#xff09;error**\n\n&#x5f53;&#x8bfb;&#x53d6;&#x6570;&#x636e;&#x53d1;&#x751f;&#x9519;&#x8bef;&#x65f6;&#xff0c;error&#x4e8b;&#x4ef6;&#x88ab;&#x89e6;&#x53d1;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"457,464"}}],"payload":{"tag":"h3","lines":"385,386"}},{"content":"pipe &#x65b9;&#x6cd5;","children":[{"content":"<pre data-lines=\"467,468\"><code>&#x4f60;&#x53ef;&#x80fd;&#x4f1a;&#x95ee;&#x4e3a;&#x4ec0;&#x4e48;&#x6570;&#x636e;&#x5e93;&#x8981;&#x90e8;&#x7f72;&#x201c;&#x53ef;&#x5199;&#x6570;&#x636e;&#x6d41;&#x201d;&#x63a5;&#x53e3;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x76f4;&#x63a5;&#x4f7f;&#x7528;&#x539f;&#x59cb;&#x7684;&#x5199;&#x5165;&#x63a5;&#x53e3;&#x3002;&#x7b54;&#x6848;&#x5c31;&#x662f;&#x4e3a;&#x4e86;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;pipe&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"467,468"}},{"content":"<pre data-lines=\"469,483\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">DbWriteStream</span> = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;./db_write_stream&apos;</span>);\n<span class=\"hljs-keyword\">var</span> db = <span class=\"hljs-title class_\">DbWriteStream</span>();\n\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">Thermometer</span> = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;./thermometer&apos;</span>);\n<span class=\"hljs-keyword\">var</span> thermomether = <span class=\"hljs-title class_\">Thermometer</span>();\n\nthermomether.<span class=\"hljs-title function_\">pipe</span>(db);\n\n<span class=\"hljs-comment\">// 10&#x79d2;&#x540e;&#x65ad;&#x5f00;&#x8fde;&#x63a5;</span>\n<span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  thermometer.<span class=\"hljs-title function_\">unpipe</span>(db);\n}, <span class=\"hljs-number\">10e3</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"469,483"}},{"content":"<pre data-lines=\"484,488\"><code>&#x5f53;&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;&#x4e0e;&#x53ef;&#x5199;&#x6570;&#x636e;&#x6d41;&#x901a;&#x8fc7;readable.pipe(writable)&#x7ed3;&#x5408;&#x5728;&#x4e00;&#x8d77;&#x65f6;&#xff0c;&#x6570;&#x636e;&#x4f1a;&#x81ea;&#x52a8;&#x8c03;&#x6574;&#x5230;&#x6d88;&#x8d39;&#x8005;&#x7684;&#x901f;&#x7387;&#x3002;\n&#x5728;&#x5185;&#x90e8;&#xff0c;pipe&#x4f7f;&#x7528;&#x201c;&#x53ef;&#x5199;&#x6570;&#x636e;&#x6d41;&#x201d;&#x7684;.write()&#x65b9;&#x6cd5;&#x7684;&#x8fd4;&#x56de;&#x503c;&#xff0c;&#x6765;&#x51b3;&#x5b9a;&#x662f;&#x5426;&#x662f;&#x5426;&#x6682;&#x505c;&#x8bfb;&#x6570;&#x636e;&#xff1a;&#x5982;&#x679c;writable.write&#x8fd4;&#x56de;true&#xff0c;\n&#x8868;&#x660e;&#x6570;&#x636e;&#x5df2;&#x7ecf;&#x5199;&#x5165;&#x5b8c;&#x6bd5;&#xff0c;&#x7f13;&#x5b58;&#x5df2;&#x7ecf;&#x7a7a;&#x4e86;&#xff1b;&#x5982;&#x679c;&#x8fd4;&#x56de;false&#xff0c;&#x5c31;&#x8868;&#x793a;&#x53ef;&#x5199;&#x6570;&#x636e;&#x6d41;&#x6b63;&#x5728;&#x7f13;&#x5b58;&#x5199;&#x5165;&#x7684;&#x6570;&#x636e;&#xff0c;&#x8fd9;&#x610f;&#x5473;&#x7740;&#x53ef;&#x4ee5;&#x8bfb;&#x53d6;&#x6570;&#x636e;&#x3002;\n&#x7b49;&#x5230;&#x201d;&#x53ef;&#x5199;&#x6570;&#x636e;&#x6d41;&#x201c;&#x6392;&#x7a7a;&#xff0c;&#x5c31;&#x4f1a;&#x91ca;&#x653e;drain&#x4e8b;&#x4ef6;&#xff0c;&#x544a;&#x8bc9;&#x6570;&#x636e;&#x6e90;&#x53ef;&#x4ee5;&#x6062;&#x590d;&#x91ca;&#x653e;&#x6570;&#x636e;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"484,488"}}],"payload":{"tag":"h3","lines":"465,466"}},{"content":"&#x8f6c;&#x6362;&#x6570;&#x636e;&#x6d41;","children":[{"content":"<pre data-lines=\"491,494\"><code>&#x8f6c;&#x6362;&#x6570;&#x636e;&#x6d41;&#x7528;&#x4e8e;&#x5c06;&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;&#x91ca;&#x653e;&#x7684;&#x6570;&#x636e;&#xff0c;&#x8f6c;&#x6362;&#x6210;&#x53e6;&#x4e00;&#x79cd;&#x683c;&#x5f0f;&#xff0c;&#x7136;&#x540e;&#x518d;&#x53d1;&#x7ed9;&#x53ef;&#x5199;&#x6570;&#x636e;&#x6d41;&#x3002;\n\n&#x4e0b;&#x9762;&#x7684;&#x4f8b;&#x5b50;&#x662f;&#x5c06;&#x4e00;&#x4e2a;JavaScript&#x5bf9;&#x8c61;&#x7684;&#x6570;&#x636e;&#x6d41;&#xff0c;&#x8f6c;&#x4e3a;JSON&#x5b57;&#x7b26;&#x4e32;&#x7684;&#x6570;&#x636e;&#x6d41;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"491,494"}},{"content":"<pre data-lines=\"495,524\"><code class=\"language-js\"><span class=\"hljs-comment\">// json_encode_stream.js</span>\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">Transform</span> = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;stream&apos;</span>).<span class=\"hljs-property\">Transform</span>;\n<span class=\"hljs-keyword\">var</span> inherits = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;util&apos;</span>).<span class=\"hljs-property\">inherits</span>;\n\n<span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = <span class=\"hljs-title class_\">JSON</span>Encode;\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">JSONEncode</span>(<span class=\"hljs-params\">options</span>) {\n  <span class=\"hljs-keyword\">if</span> ( ! (<span class=\"hljs-variable language_\">this</span> <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">JSON</span>Encode))\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">JSON</span>Encode(options);\n\n  <span class=\"hljs-keyword\">if</span> (! options) options = {};\n  options.<span class=\"hljs-property\">objectMode</span> = <span class=\"hljs-literal\">true</span>;\n  <span class=\"hljs-title class_\">Transform</span>.<span class=\"hljs-title function_\">call</span>(<span class=\"hljs-variable language_\">this</span>, options);\n}\n\n<span class=\"hljs-title function_\">inherits</span>(<span class=\"hljs-title class_\">JSON</span>Encode, <span class=\"hljs-title class_\">Transform</span>);\n\n<span class=\"hljs-title class_\">JSON</span>Encode.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">_transform</span> = <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">_transform</span>(<span class=\"hljs-params\">obj, encoding, callback</span>) {\n  <span class=\"hljs-keyword\">try</span> {\n    obj = <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>(obj);\n  } <span class=\"hljs-keyword\">catch</span>(err) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">callback</span>(err);\n  }\n\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">push</span>(obj);\n  <span class=\"hljs-title function_\">callback</span>();\n};\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"495,524"}},{"content":"<pre data-lines=\"525,528\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;_transform&#x65b9;&#x6cd5;&#x63a5;&#x53d7;&#x539f;&#x59cb;&#x7684;JavaScript&#x5bf9;&#x8c61;&#xff0c;&#x5c06;&#x5b83;&#x4eec;&#x8f6c;&#x4e3a;JSON&#x5b57;&#x7b26;&#x4e32;&#x3002;\n\n&#x7136;&#x540e;&#xff0c;&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;&#x4e0e;&#x53ef;&#x5199;&#x6570;&#x636e;&#x6d41;&#x4e4b;&#x95f4;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x7528;&#x8f6c;&#x6362;&#x6570;&#x636e;&#x6d41;&#x8fde;&#x8d77;&#x6765;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"525,528"}},{"content":"<pre data-lines=\"529,541\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">DbWriteStream</span> = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;./db_write_stream&apos;</span>);\n<span class=\"hljs-keyword\">var</span> db = <span class=\"hljs-title class_\">DbWriteStream</span>();\n\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">JSON</span>EncodeStream = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;./json_encode_stream&apos;</span>);\n<span class=\"hljs-keyword\">var</span> json = <span class=\"hljs-title class_\">JSON</span>EncodeStream();\n\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">Thermometer</span> = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;../thermometer&apos;</span>);\n<span class=\"hljs-keyword\">var</span> thermometer = <span class=\"hljs-title class_\">Thermometer</span>();\n\nthermometer.<span class=\"hljs-title function_\">pipe</span>(json).<span class=\"hljs-title function_\">pipe</span>(db);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"529,541"}}],"payload":{"tag":"h3","lines":"489,490"}},{"content":"HTTP&#x8bf7;&#x6c42;","children":[{"content":"<pre data-lines=\"544,545\"><code>HTTP&#x5bf9;&#x8c61;&#x4f7f;&#x7528;Stream&#x63a5;&#x53e3;&#xff0c;&#x5b9e;&#x73b0;&#x7f51;&#x7edc;&#x6570;&#x636e;&#x7684;&#x8bfb;&#x5199;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"544,545"}},{"content":"<pre data-lines=\"546,588\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> http = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;http&apos;</span>);\n\n<span class=\"hljs-keyword\">var</span> server = http.<span class=\"hljs-title function_\">createServer</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">req, res</span>) {\n  <span class=\"hljs-comment\">// req is an http.IncomingMessage, which is a Readable Stream</span>\n  <span class=\"hljs-comment\">// res is an http.ServerResponse, which is a Writable Stream</span>\n\n  <span class=\"hljs-keyword\">var</span> body = <span class=\"hljs-string\">&apos;&apos;</span>;\n  <span class=\"hljs-comment\">// we want to get the data as utf8 strings</span>\n  <span class=\"hljs-comment\">// If you don&apos;t set an encoding, then you&apos;ll get Buffer objects</span>\n  req.<span class=\"hljs-title function_\">setEncoding</span>(<span class=\"hljs-string\">&apos;utf8&apos;</span>);\n\n  <span class=\"hljs-comment\">// Readable streams emit &apos;data&apos; events once a listener is added</span>\n  req.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;data&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">chunk</span>) {\n    body += chunk;\n  });\n\n  <span class=\"hljs-comment\">// the end event tells you that you have entire body</span>\n  req.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;end&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-keyword\">try</span> {\n      <span class=\"hljs-keyword\">var</span> data = <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">parse</span>(body);\n    } <span class=\"hljs-keyword\">catch</span> (er) {\n      <span class=\"hljs-comment\">// uh oh!  bad json!</span>\n      res.<span class=\"hljs-property\">statusCode</span> = <span class=\"hljs-number\">400</span>;\n      <span class=\"hljs-keyword\">return</span> res.<span class=\"hljs-title function_\">end</span>(<span class=\"hljs-string\">&apos;error: &apos;</span> + er.<span class=\"hljs-property\">message</span>);\n    }\n\n    <span class=\"hljs-comment\">// write back something interesting to the user:</span>\n    res.<span class=\"hljs-title function_\">write</span>(<span class=\"hljs-keyword\">typeof</span> data);\n    res.<span class=\"hljs-title function_\">end</span>();\n  });\n});\n\nserver.<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">1337</span>);\n\n<span class=\"hljs-comment\">// &#x24; curl localhost:1337 -d &apos;{}&apos;</span>\n<span class=\"hljs-comment\">// object</span>\n<span class=\"hljs-comment\">// &#x24; curl localhost:1337 -d &apos;&quot;foo&quot;&apos;</span>\n<span class=\"hljs-comment\">// string</span>\n<span class=\"hljs-comment\">// &#x24; curl localhost:1337 -d &apos;not json&apos;</span>\n<span class=\"hljs-comment\">// error: Unexpected token o</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"546,588"}},{"content":"<pre data-lines=\"589,590\"><code>data&#x4e8b;&#x4ef6;&#x8868;&#x793a;&#x8bfb;&#x53d6;&#x6216;&#x5199;&#x5165;&#x4e86;&#x4e00;&#x5757;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"589,590"}},{"content":"<pre data-lines=\"591,596\"><code class=\"language-js\">req.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;data&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">buf</span>){\n  <span class=\"hljs-comment\">// Do something with the Buffer</span>\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"591,596"}},{"content":"<pre data-lines=\"597,598\"><code>&#x4f7f;&#x7528;req.setEncoding&#x65b9;&#x6cd5;&#xff0c;&#x53ef;&#x4ee5;&#x8bbe;&#x5b9a;&#x5b57;&#x7b26;&#x4e32;&#x7f16;&#x7801;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"597,598"}},{"content":"<pre data-lines=\"599,605\"><code class=\"language-js\">req.<span class=\"hljs-title function_\">setEncoding</span>(<span class=\"hljs-string\">&apos;utf8&apos;</span>);\nreq.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;data&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">str</span>){\n    <span class=\"hljs-comment\">// Do something with the String</span>\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"599,605"}},{"content":"<pre data-lines=\"606,607\"><code>end&#x4e8b;&#x4ef6;&#xff0c;&#x8868;&#x793a;&#x8bfb;&#x53d6;&#x6216;&#x5199;&#x5165;&#x6570;&#x636e;&#x5b8c;&#x6bd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"606,607"}},{"content":"<pre data-lines=\"608,621\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> http = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;http&apos;</span>);\n\nhttp.<span class=\"hljs-title function_\">createServer</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>){\n    res.<span class=\"hljs-title function_\">writeHead</span>(<span class=\"hljs-number\">200</span>);\n    req.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;data&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">data</span>){\n        res.<span class=\"hljs-title function_\">write</span>(data);\n    });\n    req.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;end&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n        res.<span class=\"hljs-title function_\">end</span>();\n    });\n}).<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">3000</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"608,621"}},{"content":"<pre data-lines=\"622,626\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x76f8;&#x5f53;&#x4e8e;&#x5efa;&#x7acb;&#x4e86;&#x201c;&#x56de;&#x58f0;&#x201d;&#x670d;&#x52a1;&#xff0c;&#x5c06;HTTP&#x8bf7;&#x6c42;&#x7684;&#x6570;&#x636e;&#x4f53;&#xff0c;&#x7528;HTTP&#x56de;&#x5e94;&#x539f;&#x6837;&#x53d1;&#x9001;&#x56de;&#x53bb;&#x3002;\n\nsystem&#x6a21;&#x5757;&#x63d0;&#x4f9b;&#x4e86;pump&#x65b9;&#x6cd5;&#xff0c;&#x6709;&#x70b9;&#x50cf;Linux&#x7cfb;&#x7edf;&#x7684;&#x7ba1;&#x9053;&#x529f;&#x80fd;&#xff0c;&#x53ef;&#x4ee5;&#x5c06;&#x4e00;&#x4e2a;&#x6570;&#x636e;&#x6d41;&#xff0c;&#x539f;&#x5c01;&#x4e0d;&#x52a8;&#x5f97;&#x8f6c;&#x7ed9;&#x53e6;&#x4e00;&#x4e2a;&#x6570;&#x636e;&#x6d41;&#x3002;\n&#x6240;&#x4ee5;&#xff0c;&#x4e0a;&#x9762;&#x7684;&#x4f8b;&#x5b50;&#x4e5f;&#x53ef;&#x4ee5;&#x7528;pump&#x65b9;&#x6cd5;&#x5b9e;&#x73b0;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"622,626"}},{"content":"<pre data-lines=\"627,636\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> http = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;http&apos;</span>),\n    sys = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;sys&apos;</span>);\n\nhttp.<span class=\"hljs-title function_\">createServer</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">req, res</span>){\n    res.<span class=\"hljs-title function_\">writeHead</span>(<span class=\"hljs-number\">200</span>);\n    sys.<span class=\"hljs-title function_\">pump</span>(req, res);\n}).<span class=\"hljs-title function_\">listen</span>(<span class=\"hljs-number\">3000</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"627,636"}}],"payload":{"tag":"h3","lines":"542,543"}},{"content":"fs&#x6a21;&#x5757;","children":[{"content":"<pre data-lines=\"639,641\"><code>fs&#x6a21;&#x5757;&#x7684;createReadStream&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x65b0;&#x5efa;&#x8bfb;&#x53d6;&#x6570;&#x636e;&#x6d41;&#xff0c;createWriteStream&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x65b0;&#x5efa;&#x5199;&#x5165;&#x6570;&#x636e;&#x6d41;&#x3002;\n&#x4f7f;&#x7528;&#x8fd9;&#x4e24;&#x4e2a;&#x65b9;&#x6cd5;&#xff0c;&#x53ef;&#x4ee5;&#x505a;&#x51fa;&#x4e00;&#x4e2a;&#x7528;&#x4e8e;&#x6587;&#x4ef6;&#x590d;&#x5236;&#x7684;&#x811a;&#x672c;copy.js&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"639,641"}},{"content":"<pre data-lines=\"642,667\"><code class=\"language-js\">// copy.js\n\nvar fs = require(&apos;fs&apos;);\nconsole.log(process.argv[2], &apos;-&gt;&apos;, process.argv[3]);\n\nvar readStream = fs.createReadStream(process.argv[2]);\nvar writeStream = fs.createWriteStream(process.argv[3]);\n\nreadStream.on(&apos;data&apos;, function (chunk) {\n  writeStream.write(chunk);\n});\n\nreadStream.on(&apos;end&apos;, function () {\n  writeStream.end();\n});\n\nreadStream.on(&apos;error&apos;, function (err) {\n  console.log(&quot;ERROR&quot;, err);\n});\n\nwriteStream.on(&apos;error&apos;, function (err) {\n  console.log(&quot;ERROR&quot;, err);\n});d all your errors, you wouldn&apos;t need to use domains.\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"642,667"}},{"content":"<pre data-lines=\"668,669\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x975e;&#x5e38;&#x5bb9;&#x6613;&#x7406;&#x89e3;&#xff0c;&#x4f7f;&#x7528;&#x7684;&#x65f6;&#x5019;&#x76f4;&#x63a5;&#x63d0;&#x4f9b;&#x6e90;&#x6587;&#x4ef6;&#x8def;&#x5f84;&#x548c;&#x76ee;&#x6807;&#x6587;&#x4ef6;&#x8def;&#x5f84;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"668,669"}},{"content":"<pre data-lines=\"670,673\"><code class=\"language-bash\">node cp.js src.txt dest.txt\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"670,673"}},{"content":"<pre data-lines=\"674,676\"><code>Streams&#x5bf9;&#x8c61;&#x90fd;&#x5177;&#x6709;pipe&#x65b9;&#x6cd5;&#xff0c;&#x8d77;&#x5230;&#x7ba1;&#x9053;&#x4f5c;&#x7528;&#xff0c;&#x5c06;&#x4e00;&#x4e2a;&#x6570;&#x636e;&#x6d41;&#x8f93;&#x5165;&#x53e6;&#x4e00;&#x4e2a;&#x6570;&#x636e;&#x6d41;&#x3002;\n&#x6240;&#x4ee5;&#xff0c;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x53ef;&#x4ee5;&#x91cd;&#x5199;&#x6210;&#x4e0b;&#x9762;&#x8fd9;&#x6837;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"674,676"}},{"content":"<pre data-lines=\"677,692\"><code class=\"language-js\"><span class=\"hljs-keyword\">var</span> fs = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&apos;fs&apos;</span>);\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(process.<span class=\"hljs-property\">argv</span>[<span class=\"hljs-number\">2</span>], <span class=\"hljs-string\">&apos;-&gt;&apos;</span>, process.<span class=\"hljs-property\">argv</span>[<span class=\"hljs-number\">3</span>]);\n\n<span class=\"hljs-keyword\">var</span> readStream = fs.<span class=\"hljs-title function_\">createReadStream</span>(process.<span class=\"hljs-property\">argv</span>[<span class=\"hljs-number\">2</span>]);\n<span class=\"hljs-keyword\">var</span> writeStream = fs.<span class=\"hljs-title function_\">createWriteStream</span>(process.<span class=\"hljs-property\">argv</span>[<span class=\"hljs-number\">3</span>]);\n\nreadStream.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;open&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  readStream.<span class=\"hljs-title function_\">pipe</span>(writeStream);\n});\n\nreadStream.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;end&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  writeStream.<span class=\"hljs-title function_\">end</span>();\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"677,692"}}],"payload":{"tag":"h3","lines":"637,638"}},{"content":"&#x9519;&#x8bef;&#x5904;&#x7406;","children":[{"content":"<pre data-lines=\"695,696\"><code>&#x4e0b;&#x9762;&#x662f;&#x538b;&#x7f29;&#x540e;&#x53d1;&#x9001;&#x6587;&#x4ef6;&#x7684;&#x4ee3;&#x7801;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"695,696"}},{"content":"<pre data-lines=\"697,705\"><code class=\"language-js\">http.<span class=\"hljs-title function_\">createServer</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">req, res</span>) {\n  <span class=\"hljs-comment\">// set the content headers</span>\n  fs.<span class=\"hljs-title function_\">createReadStream</span>(<span class=\"hljs-string\">&apos;filename.txt&apos;</span>)\n  .<span class=\"hljs-title function_\">pipe</span>(zlib.<span class=\"hljs-title function_\">createGzip</span>())\n  .<span class=\"hljs-title function_\">pipe</span>(res)\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"697,705"}},{"content":"<pre data-lines=\"706,707\"><code>&#x4e0a;&#x9762;&#x7684;&#x4ee3;&#x7801;&#x6ca1;&#x6709;&#x90e8;&#x7f72;&#x9519;&#x8bef;&#x5904;&#x7406;&#x673a;&#x5236;&#xff0c;&#x4e00;&#x65e6;&#x53d1;&#x751f;&#x9519;&#x8bef;&#xff0c;&#x5c31;&#x65e0;&#x6cd5;&#x5904;&#x7406;&#x3002;&#x6240;&#x4ee5;&#xff0c;&#x9700;&#x8981;&#x52a0;&#x4e0a;error&#x4e8b;&#x4ef6;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"706,707"}},{"content":"<pre data-lines=\"708,722\"><code class=\"language-js\">http.<span class=\"hljs-title function_\">createServer</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">req, res</span>) {\n  <span class=\"hljs-comment\">// set the content headers</span>\n  fs.<span class=\"hljs-title function_\">createReadStream</span>(<span class=\"hljs-string\">&apos;filename.txt&apos;</span>)\n  .<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;error&apos;</span>, onerror)\n  .<span class=\"hljs-title function_\">pipe</span>(zlib.<span class=\"hljs-title function_\">createGzip</span>())\n  .<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;error&apos;</span>, onerror)\n  .<span class=\"hljs-title function_\">pipe</span>(res)\n\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">onerror</span>(<span class=\"hljs-params\">err</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(err.<span class=\"hljs-property\">stack</span>)\n  }\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"708,722"}},{"content":"<pre data-lines=\"723,724\"><code>&#x4e0a;&#x9762;&#x7684;&#x4ee3;&#x7801;&#x8fd8;&#x662f;&#x5b58;&#x5728;&#x95ee;&#x9898;&#xff0c;&#x5982;&#x679c;&#x5ba2;&#x6237;&#x7aef;&#x4e2d;&#x65ad;&#x4e0b;&#x8f7d;&#xff0c;&#x5199;&#x5165;&#x7684;&#x6570;&#x636e;&#x6d41;&#x5c31;&#x4f1a;&#x6536;&#x4e0d;&#x5230;close&#x4e8b;&#x4ef6;&#xff0c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"723,724"}},{"content":"<pre data-lines=\"726,743\"><code class=\"language-js\">http.<span class=\"hljs-title function_\">createServer</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">req, res</span>) {\n  <span class=\"hljs-keyword\">var</span> stream = fs.<span class=\"hljs-title function_\">createReadStream</span>(<span class=\"hljs-string\">&apos;filename.txt&apos;</span>)\n\n  <span class=\"hljs-comment\">// set the content headers</span>\n  stream\n  .<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;error&apos;</span>, onerror)\n  .<span class=\"hljs-title function_\">pipe</span>(zlib.<span class=\"hljs-title function_\">createGzip</span>())\n  .<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;error&apos;</span>, onerror)\n  .<span class=\"hljs-title function_\">pipe</span>(res)\n\n  <span class=\"hljs-title function_\">onFinished</span>(res, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-comment\">// make sure the stream is always destroyed</span>\n    stream.<span class=\"hljs-title function_\">destroy</span>()\n  })\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"726,743"}},{"content":"<pre data-lines=\"744,775\"><code data-lines=\"744,775\">&#x76ee;&#x5f55;\n\n&#x6982;&#x8ff0;\n    &#x6982;&#x5ff5;\n&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;\n  readable &#x5c5e;&#x6027;\n  <span class=\"hljs-built_in\">read</span>()\n  <span class=\"hljs-built_in\">_read</span>()\n  <span class=\"hljs-built_in\">setEncoding</span>()\n  <span class=\"hljs-built_in\">resume</span>()\n  <span class=\"hljs-attribute\">pause</span>()\n  <span class=\"hljs-built_in\">isPaused</span>()\n  <span class=\"hljs-built_in\">pipe</span>()\n  <span class=\"hljs-built_in\">unpipe</span>()\n  &#x4e8b;&#x4ef6;\n&#x7ee7;&#x627f;&#x53ef;&#x8bfb;&#x6570;&#x636e;&#x6d41;&#x63a5;&#x53e3;\n  &#x5b9e;&#x4f8b;&#xff1a; fs &#x6a21;&#x5757;&#x7684;&#x8bfb;&#x6570;&#x636e;&#x6d41;\n&#x53ef;&#x5199;&#x6570;&#x636e;&#x6d41;\n  writable&#x5c5e;&#x6027;\n  <span class=\"hljs-built_in\">write</span>()\n  <span class=\"hljs-built_in\">cork</span>()&#xff0c;<span class=\"hljs-built_in\">uncork</span>()\n  <span class=\"hljs-built_in\">setDefaultEncoding</span>()\n  <span class=\"hljs-built_in\">end</span>()\n  &#x4e8b;&#x4ef6;\npipe &#x65b9;&#x6cd5;\n&#x8f6c;&#x6362;&#x6570;&#x636e;&#x6d41;\nHTTP&#x8bf7;&#x6c42;\nfs&#x6a21;&#x5757;\n&#x9519;&#x8bef;&#x5904;&#x7406;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"744,775"}}],"payload":{"tag":"h3","lines":"693,694"}}],"payload":{"tag":"h2","lines":"82,83"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
