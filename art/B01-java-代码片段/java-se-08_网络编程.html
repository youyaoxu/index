<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"java-se-08_&#x7f51;&#x7edc;&#x7f16;&#x7a0b;","children":[{"content":"&#x7b2c;&#x516b;&#x7ae0; &#x7f51;&#x7edc;&#x7f16;&#x7a0b;","children":[{"content":"<pre data-lines=\"4,19\"><code data-lines=\"4,19\"><span class=\"hljs-bullet\">*</span> \t\t8.1&#x3001;&#x6982;&#x8ff0;\n<span class=\"hljs-bullet\">*</span> \t\t8.2&#x3001;&#x4e09;&#x8981;&#x7d20;\n<span class=\"hljs-bullet\">*</span> \t\t8.3&#x3001;UDP&#x7f16;&#x7a0b;\n<span class=\"hljs-bullet\">  *</span> \t\t8.3.1&#x3001;&#x53d1;&#x9001;&#x6570;&#x636e;\n<span class=\"hljs-bullet\">  *</span> \t\t8.3.2&#x3001;&#x63a5;&#x6536;&#x6570;&#x636e;\n<span class=\"hljs-bullet\">  *</span> \t\t8.3.3&#x3001;&#x7ec3;&#x4e60;\n<span class=\"hljs-bullet\">*</span> \t\t8.4&#x3001;TCP&#x7f16;&#x7a0b;\n<span class=\"hljs-bullet\">  *</span> \t\t8.4.1&#x3001;&#x53d1;&#x9001;&#x6570;&#x636e;\n<span class=\"hljs-bullet\">  *</span> \t\t8.4.2&#x3001;&#x63a5;&#x6536;&#x6570;&#x636e;\n<span class=\"hljs-bullet\">  *</span> \t\t8.4.3&#x3001;&#x7ec3;&#x4e60;\n<span class=\"hljs-bullet\">*</span> \t\t8.5&#x3001;&#x6587;&#x4ef6;&#x4e0a;&#x4f20;\n<span class=\"hljs-bullet\">  *</span> \t\t8.5.1&#x3001;&#x5355;&#x7ebf;&#x7a0b;&#x6587;&#x4ef6;&#x4e0a;&#x4f20;\n<span class=\"hljs-bullet\">  *</span> \t\t8.5.2&#x3001;&#x591a;&#x7ebf;&#x7a0b;&#x6587;&#x4ef6;&#x4e0a;&#x4f20;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,19"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"8.1&#x3001;&#x6982;&#x8ff0;","children":[{"content":"<pre data-lines=\"24,28\"><code data-lines=\"24,28\">&#x8ba1;&#x7b97;&#x673a;&#x7f51;&#x7edc;&#xff1a;&#x662f;&#x6307;&#x5c06;&#x5730;&#x7406;&#x4f4d;&#x7f6e;&#x4e0d;&#x540c;&#x7684;&#x5177;&#x6709;&#x72ec;&#x7acb;&#x529f;&#x80fd;&#x7684;&#x591a;&#x53f0;&#x8ba1;&#x7b97;&#x673a;&#x53ca;&#x5176;&#x5916;&#x90e8;&#x8bbe;&#x5907;&#xff0c;&#x901a;&#x8fc7;&#x901a;&#x4fe1;&#x7ebf;&#x8def;&#x8fde;&#x63a5;&#x8d77;&#x6765;&#xff0c;&#x5728;&#x7f51;&#x7edc;&#x64cd;&#x4f5c;&#x7cfb;&#x7edf;&#x3001;&#x7f51;&#x7edc;&#x7ba1;&#x7406;&#x8f6f;&#x4ef6;&#x53ca;&#x7f51;&#x7edc;&#x901a;&#x4fe1;&#x534f;&#x8bae;&#x7684;&#x7ba1;&#x7406;&#x548c;&#x534f;&#x8c03;&#x4e0b;&#xff0c;&#x5b9e;&#x73b0;&#x8d44;&#x6e90;&#x5171;&#x4eab;&#x548c;&#x4fe1;&#x606f;&#x4f20;&#x9012;&#x7684;&#x8ba1;&#x7b97;&#x673a;&#x7cfb;&#x7edf;\n&#x7f51;&#x7edc;&#x7f16;&#x7a0b;&#xff1a;&#x5728;&#x7f51;&#x7edc;&#x901a;&#x4fe1;&#x534f;&#x8bae;&#x4e0b;&#xff0c;&#x5b9e;&#x73b0;&#x7f51;&#x7edc;&#x4e92;&#x8fde;&#x7684;&#x4e0d;&#x540c;&#x8ba1;&#x7b97;&#x673a;&#x4e0a;&#x8fd0;&#x884c;&#x7684;&#x7a0b;&#x5e8f;&#x95f4;&#x53ef;&#x4ee5;&#x8fdb;&#x884c;&#x6570;&#x636e;&#x4ea4;&#x6362;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"24,28"}}],"payload":{"tag":"h2","lines":"22,23"}},{"content":"8.2&#x3001;&#x4e09;&#x8981;&#x7d20;","children":[{"content":"<pre data-lines=\"33,38\"><code data-lines=\"33,38\">IP&#x5730;&#x5740;&#xff1a;&#x662f;&#x7f51;&#x7edc;&#x4e2d;&#x8bbe;&#x5907;&#x7684;&#x552f;&#x4e00;&#x6807;&#x8bc6;&#xff0c;&#x4e00;&#x822c;&#x5206;&#x4e24;&#x7c7b;&#xff1a;IPV4&#x3001;IPV6\n&#x7aef;&#x53e3;&#xff1a;&#x8bbe;&#x5907;&#x4e0a;&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#x7684;&#x552f;&#x4e00;&#x6807;&#x8bc6;&#xff0c;&#x5e38;&#x89c1;&#x7684;&#x7aef;&#x53e3;&#xff1a;<span class=\"hljs-number\">8080&#x3001;3306</span>\n&#x534f;&#x8bae;&#xff1a;&#x8ba1;&#x7b97;&#x673a;&#x7f51;&#x7edc;&#x4e2d;&#xff0c;&#x8fde;&#x63a5;&#x548c;&#x901a;&#x4fe1;&#x7684;&#x89c4;&#x5219;&#x88ab;&#x79f0;&#x4e3a;&#x7f51;&#x7edc;&#x901a;&#x4fe1;&#x534f;&#x8bae;&#xff0c;&#x5e38;&#x89c1;&#x7684;&#x534f;&#x8bae;&#xff1a;UDP&#x534f;&#x8bae;&#x3001;TCP&#x534f;&#x8bae;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"33,38"}}],"payload":{"tag":"h2","lines":"31,32"}},{"content":"8.3&#x3001;UDP&#x7f16;&#x7a0b;","children":[{"content":"8.3.1&#x3001;&#x53d1;&#x9001;&#x6570;&#x636e;","children":[{"content":"<pre data-lines=\"51,71\"><code data-lines=\"51,71\"><span class=\"hljs-keyword\">import</span> java.io.IOException;\n<span class=\"hljs-keyword\">import</span> java.net.DatagramPacket;\n<span class=\"hljs-keyword\">import</span> java.net.DatagramSocket;\n<span class=\"hljs-keyword\">import</span> java.net.InetAddress;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">SendDemo</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> <span class=\"hljs-keyword\">throws</span> IOException {\n\t\t<span class=\"hljs-comment\">// 1.&#x521b;&#x5efa;&#x53d1;&#x9001;&#x7aef;&#x5957;&#x63a5;&#x5b57;&#x5bf9;&#x8c61;</span>\n\t\t<span class=\"hljs-type\">DatagramSocket</span> <span class=\"hljs-variable\">ds</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">DatagramSocket</span>();\n\t\t<span class=\"hljs-comment\">// 2.&#x521b;&#x5efa;&#x6570;&#x636e;&#x5e76;&#x628a;&#x6570;&#x636e;&#x6253;&#x5305;</span>\n\t\t<span class=\"hljs-type\">byte</span>[] bys = <span class=\"hljs-string\">&quot;Hello,World!&quot;</span>.getBytes();\n\t\t<span class=\"hljs-type\">DatagramPacket</span> <span class=\"hljs-variable\">dp</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">DatagramPacket</span>(bys, bys.length, InetAddress.getByName(<span class=\"hljs-string\">&quot;127.0.0.1&quot;</span>), <span class=\"hljs-number\">10086</span>);\n\t\t<span class=\"hljs-comment\">// 3.&#x4ece;&#x6b64;&#x5957;&#x63a5;&#x5b57;&#x53d1;&#x9001;&#x6570;&#x636e;&#x5305;</span>\n\t\tds.send(dp);\n\t\t<span class=\"hljs-comment\">// 4.&#x5173;&#x95ed;&#x6b64;&#x6570;&#x636e;&#x5305;&#x7684;&#x5957;&#x63a5;&#x5b57;</span>\n\t\tds.close();\n\t}\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"51,71"}}],"payload":{"tag":"h3","lines":"49,50"}},{"content":"8.3.2&#x3001;&#x63a5;&#x6536;&#x6570;&#x636e;","children":[{"content":"<pre data-lines=\"76,96\"><code data-lines=\"76,96\"><span class=\"hljs-keyword\">import</span> java.io.IOException;\n<span class=\"hljs-keyword\">import</span> java.net.DatagramPacket;\n<span class=\"hljs-keyword\">import</span> java.net.DatagramSocket;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ReceiveDemo</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> <span class=\"hljs-keyword\">throws</span> IOException {\n\t\t<span class=\"hljs-comment\">// 1.&#x521b;&#x5efa;&#x63a5;&#x6536;&#x7aef;&#x5957;&#x63a5;&#x5b57;&#x5bf9;&#x8c61;</span>\n\t\t<span class=\"hljs-type\">DatagramSocket</span> <span class=\"hljs-variable\">ds</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">DatagramSocket</span>(<span class=\"hljs-number\">10086</span>);\n\t\t<span class=\"hljs-comment\">// 2.&#x521b;&#x5efa;&#x6570;&#x636e;&#x5305;&#x7528;&#x4e8e;&#x63a5;&#x6536;&#x6570;&#x636e;</span>\n\t\t<span class=\"hljs-type\">byte</span>[] bys = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">byte</span>[<span class=\"hljs-number\">1024</span>];\n\t\t<span class=\"hljs-type\">DatagramPacket</span> <span class=\"hljs-variable\">dp</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">DatagramPacket</span>(bys, bys.length);\n\t\tds.receive(dp);\n\t\t<span class=\"hljs-comment\">// 3.&#x89e3;&#x6790;&#x6570;&#x636e;&#x5305;&#x5e76;&#x628a;&#x6570;&#x636e;&#x8f93;&#x51fa;</span>\n\t\tSystem.out.println(<span class=\"hljs-string\">&quot;&#x6570;&#x636e;&#x662f;&#xff1a;&quot;</span> + <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">String</span>(dp.getData(), <span class=\"hljs-number\">0</span>, dp.getLength()));\n\t\t<span class=\"hljs-comment\">// 4.&#x5173;&#x95ed;&#x6b64;&#x6570;&#x636e;&#x5305;&#x7684;&#x5957;&#x63a5;&#x5b57;</span>\n\t\tds.close();\n\t}\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"76,96"}}],"payload":{"tag":"h3","lines":"74,75"}},{"content":"8.3.3&#x3001;&#x7ec3;&#x4e60;","children":[{"content":"<pre data-lines=\"99,105\"><code data-lines=\"99,105\"><span class=\"hljs-bullet\">* </span>&#x6848;&#x4f8b;&#x9700;&#x6c42;&#xff1a;\nUDP&#x53d1;&#x9001;&#x6570;&#x636e;&#xff1a;&#x6570;&#x636e;&#x6765;&#x81ea;&#x4e8e;&#x952e;&#x76d8;&#x5f55;&#x5165;&#xff0c;&#x76f4;&#x5230;&#x8f93;&#x5165;&#x7684;&#x6570;&#x636e;&#x662f;886&#xff0c;&#x53d1;&#x9001;&#x6570;&#x636e;&#x624d;&#x7ed3;&#x675f;\nUDP&#x63a5;&#x6536;&#x6570;&#x636e;&#xff1a;&#x56e0;&#x4e3a;&#x63a5;&#x6536;&#x7aef;&#x4e0d;&#x77e5;&#x9053;&#x53d1;&#x9001;&#x7aef;&#x4ec0;&#x4e48;&#x65f6;&#x5019;&#x505c;&#x6b62;&#x53d1;&#x9001;&#xff0c;&#x6545;&#x91c7;&#x7528;&#x6b7b;&#x5faa;&#x73af;&#x63a5;&#x6536;\n<span class=\"hljs-bullet\">* </span>&#x4ee3;&#x7801;&#x5b9e;&#x73b0;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"99,105"}},{"content":"<pre data-lines=\"108,151\"><code data-lines=\"108,151\"><span class=\"hljs-comment\">// &#x53d1;&#x9001;&#x7aef;&#x4ee3;&#x7801;&#xff1a;</span>\n<span class=\"hljs-keyword\">import</span> java.io.BufferedReader;\n<span class=\"hljs-keyword\">import</span> java.io.IOException;\n<span class=\"hljs-keyword\">import</span> java.io.InputStreamReader;\n<span class=\"hljs-keyword\">import</span> java.net.DatagramPacket;\n<span class=\"hljs-keyword\">import</span> java.net.DatagramSocket;\n<span class=\"hljs-keyword\">import</span> java.net.InetAddress;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">SendDemo</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> <span class=\"hljs-keyword\">throws</span> IOException {\n\t\t<span class=\"hljs-type\">DatagramSocket</span> <span class=\"hljs-variable\">ds</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">DatagramSocket</span>();\n\t\t<span class=\"hljs-type\">BufferedReader</span> <span class=\"hljs-variable\">br</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedReader</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">InputStreamReader</span>(System.in));\n\t\tString line;\n\t\t<span class=\"hljs-keyword\">while</span> ((line = br.readLine()) != <span class=\"hljs-literal\">null</span>) {\n\t\t\t<span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;886&quot;</span>.equals(line)) {\n\t\t\t\t<span class=\"hljs-keyword\">break</span>;\n\t\t\t}\n\t\t\t<span class=\"hljs-type\">byte</span>[] bys = line.getBytes();\n\t\t\t<span class=\"hljs-type\">DatagramPacket</span> <span class=\"hljs-variable\">dp</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">DatagramPacket</span>(bys, bys.length, InetAddress.getByName(<span class=\"hljs-string\">&quot;127.0.0.1&quot;</span>), <span class=\"hljs-number\">10086</span>);\n\t\t\tds.send(dp);\n\t\t}\n\t\tds.close();\n\t}\n}\n\n<span class=\"hljs-comment\">// &#x63a5;&#x6536;&#x7aef;&#x4ee3;&#x7801;&#xff1a;</span>\n<span class=\"hljs-keyword\">import</span> java.io.IOException;\n<span class=\"hljs-keyword\">import</span> java.net.DatagramPacket;\n<span class=\"hljs-keyword\">import</span> java.net.DatagramSocket;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ReceiveDemo</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> <span class=\"hljs-keyword\">throws</span> IOException {\n\t\t<span class=\"hljs-type\">DatagramSocket</span> <span class=\"hljs-variable\">ds</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">DatagramSocket</span>(<span class=\"hljs-number\">10086</span>);\n\t\t<span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n\t\t\t<span class=\"hljs-type\">byte</span>[] bys = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">byte</span>[<span class=\"hljs-number\">1024</span>];\n\t\t\t<span class=\"hljs-type\">DatagramPacket</span> <span class=\"hljs-variable\">dp</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">DatagramPacket</span>(bys, bys.length);\n\t\t\tds.receive(dp);\n\t\t\tSystem.out.println(<span class=\"hljs-string\">&quot;&#x6570;&#x636e;&#x662f;&#xff1a;&quot;</span> + <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">String</span>(dp.getData(), <span class=\"hljs-number\">0</span>, dp.getLength()));\n\t\t}\n\t}\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"108,151"}}],"payload":{"tag":"h3","lines":"97,98"}}],"payload":{"tag":"h2","lines":"41,42"}},{"content":"8.4&#x3001;TCP&#x7f16;&#x7a0b;","children":[{"content":"8.4.1&#x3001;&#x53d1;&#x9001;&#x6570;&#x636e;","children":[{"content":"<pre data-lines=\"162,179\"><code data-lines=\"162,179\"><span class=\"hljs-keyword\">import</span> java.io.IOException;\n<span class=\"hljs-keyword\">import</span> java.io.OutputStream;\n<span class=\"hljs-keyword\">import</span> java.net.Socket;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ClientDemo</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> <span class=\"hljs-keyword\">throws</span> IOException {\n\t\t<span class=\"hljs-comment\">// 1.&#x521b;&#x5efa;&#x5ba2;&#x6237;&#x7aef;&#x7684;Socket&#x5bf9;&#x8c61;</span>\n\t\t<span class=\"hljs-type\">Socket</span> <span class=\"hljs-variable\">s</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Socket</span>(<span class=\"hljs-string\">&quot;127.0.0.1&quot;</span>, <span class=\"hljs-number\">10086</span>);\n\t\t<span class=\"hljs-comment\">// 2.&#x83b7;&#x53d6;&#x8f93;&#x51fa;&#x6d41;&#x5bf9;&#x8c61;&#xff0c;&#x5199;&#x6570;&#x636e;</span>\n\t\t<span class=\"hljs-type\">OutputStream</span> <span class=\"hljs-variable\">os</span> <span class=\"hljs-operator\">=</span> s.getOutputStream();\n\t\tos.write(<span class=\"hljs-string\">&quot;Hello,World!&quot;</span>.getBytes());\n\t\t<span class=\"hljs-comment\">// 3.&#x91ca;&#x653e;&#x8d44;&#x6e90;</span>\n\t\ts.close();\n\t}\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"162,179"}}],"payload":{"tag":"h3","lines":"160,161"}},{"content":"8.4.2&#x3001;&#x63a5;&#x6536;&#x6570;&#x636e;","children":[{"content":"<pre data-lines=\"184,208\"><code data-lines=\"184,208\"><span class=\"hljs-keyword\">import</span> java.io.IOException;\n<span class=\"hljs-keyword\">import</span> java.io.InputStream;\n<span class=\"hljs-keyword\">import</span> java.net.ServerSocket;\n<span class=\"hljs-keyword\">import</span> java.net.Socket;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ServerDemo</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> <span class=\"hljs-keyword\">throws</span> IOException {\n\t\t<span class=\"hljs-comment\">// 1.&#x521b;&#x5efa;&#x670d;&#x52a1;&#x7aef;&#x7684;ServerSocket&#x5bf9;&#x8c61;</span>\n\t\t<span class=\"hljs-type\">ServerSocket</span> <span class=\"hljs-variable\">ss</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ServerSocket</span>(<span class=\"hljs-number\">10086</span>);\n\t\t<span class=\"hljs-comment\">// 2.&#x4fa6;&#x542c;&#x8981;&#x8fde;&#x63a5;&#x5230;&#x6b64;&#x5957;&#x63a5;&#x5b57;&#x5e76;&#x63a5;&#x53d7;&#x5b83;</span>\n\t\t<span class=\"hljs-type\">Socket</span> <span class=\"hljs-variable\">s</span> <span class=\"hljs-operator\">=</span> ss.accept();\n\t\t<span class=\"hljs-comment\">// 3.&#x83b7;&#x53d6;&#x8f93;&#x5165;&#x6d41;&#x5bf9;&#x8c61;&#xff0c;&#x8bfb;&#x6570;&#x636e;</span>\n\t\t<span class=\"hljs-type\">InputStream</span> <span class=\"hljs-variable\">is</span> <span class=\"hljs-operator\">=</span> s.getInputStream();\n\t\t<span class=\"hljs-type\">byte</span>[] bys = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">byte</span>[<span class=\"hljs-number\">1024</span>];\n\t\t<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">len</span> <span class=\"hljs-operator\">=</span> is.read(bys);\n\t\t<span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">data</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">String</span>(bys, <span class=\"hljs-number\">0</span>, len);\n\t\tSystem.out.println(<span class=\"hljs-string\">&quot;&#x6570;&#x636e;&#x662f;&#xff1a;&quot;</span> + data);\n\t\t<span class=\"hljs-comment\">// 4.&#x91ca;&#x653e;&#x8d44;&#x6e90;</span>\n\t\ts.close();\n\t\tss.close();\n\t}\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"184,208"}}],"payload":{"tag":"h3","lines":"182,183"}},{"content":"8.4.3&#x3001;&#x7ec3;&#x4e60;","children":[{"content":"<pre data-lines=\"213,264\"><code data-lines=\"213,264\"><span class=\"hljs-comment\">// &#x6848;&#x4f8b;&#x9700;&#x6c42;</span>\n<span class=\"hljs-comment\">// &#x5ba2;&#x6237;&#x7aef;&#xff1a;&#x6570;&#x636e;&#x6765;&#x81ea;&#x4e8e;&#x952e;&#x76d8;&#x5f55;&#x5165;&#xff0c;&#x76f4;&#x5230;&#x8f93;&#x5165;&#x7684;&#x6570;&#x636e;&#x662f;886&#xff0c;&#x53d1;&#x9001;&#x6570;&#x636e;&#x624d;&#x7ed3;&#x675f;</span>\n<span class=\"hljs-comment\">// &#x670d;&#x52a1;&#x7aef;&#xff1a;&#x56e0;&#x4e3a;&#x63a5;&#x6536;&#x7aef;&#x4e0d;&#x77e5;&#x9053;&#x53d1;&#x9001;&#x7aef;&#x4ec0;&#x4e48;&#x65f6;&#x5019;&#x505c;&#x6b62;&#x53d1;&#x9001;&#xff0c;&#x6545;&#x91c7;&#x7528;&#x6b7b;&#x5faa;&#x73af;&#x63a5;&#x6536;</span>\n\n<span class=\"hljs-comment\">// &#x5ba2;&#x6237;&#x7aef;</span>\n<span class=\"hljs-keyword\">import</span> java.io.BufferedReader;\n<span class=\"hljs-keyword\">import</span> java.io.BufferedWriter;\n<span class=\"hljs-keyword\">import</span> java.io.IOException;\n<span class=\"hljs-keyword\">import</span> java.io.InputStreamReader;\n<span class=\"hljs-keyword\">import</span> java.io.OutputStreamWriter;\n<span class=\"hljs-keyword\">import</span> java.net.Socket;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ClientDemo</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> <span class=\"hljs-keyword\">throws</span> IOException {\n\t\t<span class=\"hljs-type\">Socket</span> <span class=\"hljs-variable\">s</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Socket</span>(<span class=\"hljs-string\">&quot;127.0.0.1&quot;</span>, <span class=\"hljs-number\">10086</span>);\n\t\t<span class=\"hljs-type\">BufferedReader</span> <span class=\"hljs-variable\">br</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedReader</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">InputStreamReader</span>(System.in));\n\t\t<span class=\"hljs-type\">BufferedWriter</span> <span class=\"hljs-variable\">bw</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedWriter</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">OutputStreamWriter</span>(s.getOutputStream()));\n\t\tString line;\n\t\t<span class=\"hljs-keyword\">while</span> ((line = br.readLine()) != <span class=\"hljs-literal\">null</span>) {\n\t\t\t<span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;886&quot;</span>.equals(line)) {\n\t\t\t\t<span class=\"hljs-keyword\">break</span>;\n\t\t\t}\n\t\t\tbw.write(line);\n\t\t\tbw.newLine();\n\t\t\tbw.flush();\n\t\t}\n\t\ts.close();\n\t}\n}\n\n<span class=\"hljs-comment\">// &#x670d;&#x52a1;&#x7aef;</span>\n<span class=\"hljs-keyword\">import</span> java.io.BufferedReader;\n<span class=\"hljs-keyword\">import</span> java.io.IOException;\n<span class=\"hljs-keyword\">import</span> java.io.InputStreamReader;\n<span class=\"hljs-keyword\">import</span> java.net.ServerSocket;\n<span class=\"hljs-keyword\">import</span> java.net.Socket;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ServerDemo</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> <span class=\"hljs-keyword\">throws</span> IOException {\n\t\t<span class=\"hljs-type\">ServerSocket</span> <span class=\"hljs-variable\">ss</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ServerSocket</span>(<span class=\"hljs-number\">10086</span>);\n\t\t<span class=\"hljs-type\">Socket</span> <span class=\"hljs-variable\">s</span> <span class=\"hljs-operator\">=</span> ss.accept();\n\t\t<span class=\"hljs-type\">BufferedReader</span> <span class=\"hljs-variable\">br</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedReader</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">InputStreamReader</span>(s.getInputStream()));\n\t\tString line;\n\t\t<span class=\"hljs-keyword\">while</span> ((line = br.readLine()) != <span class=\"hljs-literal\">null</span>) {\n\t\t\tSystem.out.println(line);\n\t\t}\n\t\tss.close();\n\t}\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"213,264"}}],"payload":{"tag":"h3","lines":"211,212"}}],"payload":{"tag":"h2","lines":"152,153"}},{"content":"8.5&#x3001;&#x6587;&#x4ef6;&#x4e0a;&#x4f20;","children":[{"content":"8.5.1&#x3001;&#x5355;&#x7ebf;&#x7a0b;&#x6587;&#x4ef6;&#x4e0a;&#x4f20;","children":[{"content":"<pre data-lines=\"271,307\"><code data-lines=\"271,307\"><span class=\"hljs-comment\">// &#x5ba2;&#x6237;&#x7aef;&#x4ee3;&#x7801;</span>\n<span class=\"hljs-keyword\">import</span> java.io.BufferedReader;\n<span class=\"hljs-keyword\">import</span> java.io.BufferedWriter;\n<span class=\"hljs-keyword\">import</span> java.io.FileReader;\n<span class=\"hljs-keyword\">import</span> java.io.IOException;\n<span class=\"hljs-keyword\">import</span> java.io.InputStreamReader;\n<span class=\"hljs-keyword\">import</span> java.io.OutputStreamWriter;\n<span class=\"hljs-keyword\">import</span> java.net.Socket;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ClientDemo</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> <span class=\"hljs-keyword\">throws</span> IOException {\n\t\t<span class=\"hljs-comment\">// &#x521b;&#x5efa;&#x5ba2;&#x6237;&#x7aef;Socket&#x5bf9;&#x8c61;</span>\n\t\t<span class=\"hljs-type\">Socket</span> <span class=\"hljs-variable\">s</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Socket</span>(<span class=\"hljs-string\">&quot;127.0.0.1&quot;</span>, <span class=\"hljs-number\">10086</span>);\n\t\t<span class=\"hljs-comment\">// &#x5c01;&#x88c5;&#x6587;&#x672c;&#x6587;&#x4ef6;&#x7684;&#x6570;&#x636e;</span>\n\t\t<span class=\"hljs-type\">BufferedReader</span> <span class=\"hljs-variable\">br</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedReader</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileReader</span>(<span class=\"hljs-string\">&quot;src\\\\ClientDemo.java&quot;</span>));\n\t\t<span class=\"hljs-comment\">// &#x5c01;&#x88c5;&#x8f93;&#x51fa;&#x6d41;&#x5199;&#x51fa;&#x6570;&#x636e;</span>\n\t\t<span class=\"hljs-type\">BufferedWriter</span> <span class=\"hljs-variable\">bw</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedWriter</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">OutputStreamWriter</span>(s.getOutputStream()));\n\t\tString line;\n\t\t<span class=\"hljs-keyword\">while</span> ((line = br.readLine()) != <span class=\"hljs-literal\">null</span>) {\n\t\t\tbw.write(line);\n\t\t\tbw.newLine();\n\t\t\tbw.flush();\n\t\t}\n\t\t<span class=\"hljs-comment\">// &#x544a;&#x8bc9;&#x670d;&#x52a1;&#x5668;&#x4e0a;&#x4f20;&#x7ed3;&#x675f;</span>\n\t\ts.shutdownOutput();\n\t\t<span class=\"hljs-comment\">// &#x63a5;&#x6536;&#x670d;&#x52a1;&#x5668;&#x7aef;&#x7684;&#x53cd;&#x9988;</span>\n\t\t<span class=\"hljs-type\">BufferedReader</span> <span class=\"hljs-variable\">brClient</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedReader</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">InputStreamReader</span>(s.getInputStream()));\n\t\t<span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">data</span> <span class=\"hljs-operator\">=</span> brClient.readLine();\n\t\tSystem.out.println(<span class=\"hljs-string\">&quot;&#x670d;&#x52a1;&#x5668;&#x53cd;&#x9988;&#xff1a;&quot;</span> + data);\n\t\t<span class=\"hljs-comment\">// &#x91ca;&#x653e;&#x8d44;&#x6e90;</span>\n\t\tbr.close();\n\t\ts.close();\n\t}\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"271,307"}},{"content":"<pre data-lines=\"308,348\"><code data-lines=\"308,348\"><span class=\"hljs-comment\">// &#x670d;&#x52a1;&#x7aef;&#x4ee3;&#x7801;</span>\n\n<span class=\"hljs-keyword\">import</span> java.io.BufferedInputStream;\n<span class=\"hljs-keyword\">import</span> java.io.BufferedOutputStream;\n<span class=\"hljs-keyword\">import</span> java.io.BufferedWriter;\n<span class=\"hljs-keyword\">import</span> java.io.FileOutputStream;\n<span class=\"hljs-keyword\">import</span> java.io.IOException;\n<span class=\"hljs-keyword\">import</span> java.io.OutputStreamWriter;\n<span class=\"hljs-keyword\">import</span> java.net.ServerSocket;\n<span class=\"hljs-keyword\">import</span> java.net.Socket;\n<span class=\"hljs-keyword\">import</span> java.util.Random;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ServerDemo</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> <span class=\"hljs-keyword\">throws</span> IOException {\n\t\t<span class=\"hljs-comment\">// &#x521b;&#x5efa;&#x670d;&#x52a1;&#x5668;Socket&#x5bf9;&#x8c61;</span>\n\t\t<span class=\"hljs-type\">ServerSocket</span> <span class=\"hljs-variable\">ss</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ServerSocket</span>(<span class=\"hljs-number\">10086</span>);\n\t\t<span class=\"hljs-comment\">// &#x76d1;&#x542c;&#x5ba2;&#x6237;&#x7aef;&#x7684;&#x8fde;&#x63a5;&#x5bf9;&#x8c61;</span>\n\t\t<span class=\"hljs-type\">Socket</span> <span class=\"hljs-variable\">s</span> <span class=\"hljs-operator\">=</span> ss.accept();\n\t\t<span class=\"hljs-comment\">// &#x83b7;&#x53d6;&#x4e0a;&#x4f20;&#x6587;&#x4ef6;&#x968f;&#x673a;&#x540d;&#x79f0;</span>\n\t\t<span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">fileName</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&quot;src\\\\&quot;</span> + System.currentTimeMillis() + <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Random</span>().nextInt(<span class=\"hljs-number\">999999</span>) + <span class=\"hljs-string\">&quot;.java&quot;</span>;\n\t\t<span class=\"hljs-comment\">// &#x4fdd;&#x5b58;&#x5ba2;&#x6237;&#x7aef;&#x4e0a;&#x4f20;&#x7684;&#x6570;&#x636e;</span>\n\t\t<span class=\"hljs-type\">BufferedInputStream</span> <span class=\"hljs-variable\">bis</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedInputStream</span>(s.getInputStream());\n\t\t<span class=\"hljs-type\">BufferedOutputStream</span> <span class=\"hljs-variable\">bos</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedOutputStream</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileOutputStream</span>(fileName));\n\t\t<span class=\"hljs-type\">byte</span>[] bys = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">byte</span>[<span class=\"hljs-number\">1024</span>];\n\t\t<span class=\"hljs-type\">int</span> len;\n\t\t<span class=\"hljs-keyword\">while</span> ((len = bis.read(bys)) != -<span class=\"hljs-number\">1</span>) {\n\t\t\tbos.write(bys, <span class=\"hljs-number\">0</span>, len);\n\t\t}\n\t\t<span class=\"hljs-comment\">// &#x7ed9;&#x5ba2;&#x6237;&#x7aef;&#x53d1;&#x51fa;&#x53cd;&#x9988;&#x4fe1;&#x606f;</span>\n\t\t<span class=\"hljs-type\">BufferedWriter</span> <span class=\"hljs-variable\">bwServer</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedWriter</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">OutputStreamWriter</span>(s.getOutputStream()));\n\t\tbwServer.write(<span class=\"hljs-string\">&quot;&#x6587;&#x4ef6;&#x4e0a;&#x4f20;&#x6210;&#x529f;&quot;</span>);\n\t\tbwServer.newLine();\n\t\tbwServer.flush();\n\t\t<span class=\"hljs-comment\">// &#x91ca;&#x653e;&#x8d44;&#x6e90;</span>\n\t\tbos.close();\n\t\tss.close();\n\t}\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"308,348"}}],"payload":{"tag":"h3","lines":"269,270"}},{"content":"8.5.2&#x3001;&#x591a;&#x7ebf;&#x7a0b;&#x6587;&#x4ef6;&#x4e0a;&#x4f20;","children":[{"content":"<pre data-lines=\"353,388\"><code data-lines=\"353,388\"><span class=\"hljs-comment\">// &#x5ba2;&#x6237;&#x7aef;&#x4ee3;&#x7801;&#xff1a;</span>\n<span class=\"hljs-keyword\">import</span> java.io.BufferedInputStream;\n<span class=\"hljs-keyword\">import</span> java.io.BufferedOutputStream;\n<span class=\"hljs-keyword\">import</span> java.io.BufferedReader;\n<span class=\"hljs-keyword\">import</span> java.io.FileInputStream;\n<span class=\"hljs-keyword\">import</span> java.io.IOException;\n<span class=\"hljs-keyword\">import</span> java.io.InputStreamReader;\n<span class=\"hljs-keyword\">import</span> java.net.Socket;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ClientDemo</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> <span class=\"hljs-keyword\">throws</span> IOException {\n\t\t<span class=\"hljs-comment\">// &#x521b;&#x5efa;&#x5ba2;&#x6237;&#x7aef;Socket&#x5bf9;&#x8c61;</span>\n\t\t<span class=\"hljs-type\">Socket</span> <span class=\"hljs-variable\">s</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Socket</span>(<span class=\"hljs-string\">&quot;127.0.0.1&quot;</span>, <span class=\"hljs-number\">10086</span>);\n\t\t<span class=\"hljs-comment\">// &#x6253;&#x5f00;&#x672c;&#x5730;&#x6587;&#x4ef6;&#x51c6;&#x5907;&#x4e0a;&#x4f20;</span>\n\t\t<span class=\"hljs-type\">BufferedInputStream</span> <span class=\"hljs-variable\">bis</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedInputStream</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileInputStream</span>(<span class=\"hljs-string\">&quot;src\\\\ClientDemo.java&quot;</span>));\n\t\t<span class=\"hljs-type\">BufferedOutputStream</span> <span class=\"hljs-variable\">bos</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedOutputStream</span>(s.getOutputStream());\n\t\t<span class=\"hljs-type\">byte</span>[] bys = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">byte</span>[<span class=\"hljs-number\">1024</span>];\n\t\t<span class=\"hljs-type\">int</span> len;\n\t\t<span class=\"hljs-keyword\">while</span> ((len = bis.read(bys)) != -<span class=\"hljs-number\">1</span>) {\n\t\t\tbos.write(bys, <span class=\"hljs-number\">0</span>, len);\n\t\t\tbos.flush();\n\t\t}\n\t\t<span class=\"hljs-comment\">// &#x544a;&#x8bc9;&#x670d;&#x52a1;&#x5668;&#x4e0a;&#x4f20;&#x7ed3;&#x675f;</span>\n\t\ts.shutdownOutput();\n\t\t<span class=\"hljs-comment\">// &#x63a5;&#x6536;&#x670d;&#x52a1;&#x5668;&#x7aef;&#x7684;&#x53cd;&#x9988;</span>\n\t\t<span class=\"hljs-type\">BufferedReader</span> <span class=\"hljs-variable\">brClient</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedReader</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">InputStreamReader</span>(s.getInputStream()));\n\t\t<span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">data</span> <span class=\"hljs-operator\">=</span> brClient.readLine();\n\t\tSystem.out.println(<span class=\"hljs-string\">&quot;&#x670d;&#x52a1;&#x5668;&#x53cd;&#x9988;&#xff1a;&quot;</span> + data);\n\t\t<span class=\"hljs-comment\">// &#x91ca;&#x653e;&#x8d44;&#x6e90;</span>\n\t\tbis.close();\n\t\ts.close();\n\t}\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"353,388"}},{"content":"<pre data-lines=\"389,448\"><code data-lines=\"389,448\"><span class=\"hljs-comment\">// &#x670d;&#x52a1;&#x7aef;&#x4ee3;&#x7801;</span>\n\n<span class=\"hljs-keyword\">import</span> java.io.BufferedInputStream;\n<span class=\"hljs-keyword\">import</span> java.io.BufferedOutputStream;\n<span class=\"hljs-keyword\">import</span> java.io.BufferedWriter;\n<span class=\"hljs-keyword\">import</span> java.io.FileOutputStream;\n<span class=\"hljs-keyword\">import</span> java.io.IOException;\n<span class=\"hljs-keyword\">import</span> java.io.OutputStreamWriter;\n<span class=\"hljs-keyword\">import</span> java.net.ServerSocket;\n<span class=\"hljs-keyword\">import</span> java.net.Socket;\n<span class=\"hljs-keyword\">import</span> java.util.Random;\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ServerThread</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Runnable</span> {\n\t<span class=\"hljs-keyword\">private</span> Socket s;\n\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">ServerThread</span><span class=\"hljs-params\">(Socket s)</span> {\n\t\t<span class=\"hljs-built_in\">this</span>.s = s;\n\t}\n\t\n\t<span class=\"hljs-meta\">@Override</span>\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">try</span> {\n\t\t\t<span class=\"hljs-comment\">// &#x83b7;&#x53d6;&#x4e0a;&#x4f20;&#x6587;&#x4ef6;&#x968f;&#x673a;&#x540d;&#x79f0;</span>\n\t\t\t<span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">fileName</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&quot;src\\\\&quot;</span> + System.currentTimeMillis() + <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Random</span>().nextInt(<span class=\"hljs-number\">999999</span>) + <span class=\"hljs-string\">&quot;.java&quot;</span>;\n\t\t\t<span class=\"hljs-comment\">// &#x4fdd;&#x5b58;&#x5ba2;&#x6237;&#x7aef;&#x4e0a;&#x4f20;&#x7684;&#x6570;&#x636e;</span>\n\t\t\t<span class=\"hljs-type\">BufferedInputStream</span> <span class=\"hljs-variable\">bis</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedInputStream</span>(s.getInputStream());\n\t\t\t<span class=\"hljs-type\">BufferedOutputStream</span> <span class=\"hljs-variable\">bos</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedOutputStream</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileOutputStream</span>(fileName));\n\t\t\t<span class=\"hljs-type\">byte</span>[] bys = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">byte</span>[<span class=\"hljs-number\">1024</span>];\n\t\t\t<span class=\"hljs-type\">int</span> len;\n\t\t\t<span class=\"hljs-keyword\">while</span> ((len = bis.read(bys)) != -<span class=\"hljs-number\">1</span>) {\n\t\t\t\tbos.write(bys, <span class=\"hljs-number\">0</span>, len);\n\t\t\t}\n\t\t\t<span class=\"hljs-comment\">// &#x7ed9;&#x5ba2;&#x6237;&#x7aef;&#x53d1;&#x51fa;&#x53cd;&#x9988;&#x4fe1;&#x606f;</span>\n\t\t\t<span class=\"hljs-type\">BufferedWriter</span> <span class=\"hljs-variable\">bwServer</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BufferedWriter</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">OutputStreamWriter</span>(s.getOutputStream()));\n\t\t\tbwServer.write(<span class=\"hljs-string\">&quot;&#x6587;&#x4ef6;&#x4e0a;&#x4f20;&#x6210;&#x529f;&quot;</span>);\n\t\t\tbwServer.newLine();\n\t\t\tbwServer.flush();\n\t\t\t<span class=\"hljs-comment\">// &#x91ca;&#x653e;&#x8d44;&#x6e90;</span>\n\t\t\tbos.close();\n\t\t\ts.close();\n\t\t} <span class=\"hljs-keyword\">catch</span> (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t}\n\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ServerDemo</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> <span class=\"hljs-keyword\">throws</span> IOException {\n\t\t<span class=\"hljs-type\">ServerSocket</span> <span class=\"hljs-variable\">ss</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ServerSocket</span>(<span class=\"hljs-number\">10086</span>);\n\t\t<span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n\t\t\t<span class=\"hljs-type\">Socket</span> <span class=\"hljs-variable\">s</span> <span class=\"hljs-operator\">=</span> ss.accept();\n\t\t\t<span class=\"hljs-type\">ServerThread</span> <span class=\"hljs-variable\">serverThread</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ServerThread</span>(s);\n\t\t\t<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(serverThread).start();\n\t\t}\n\t}\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"389,448"}}],"payload":{"tag":"h3","lines":"351,352"}}],"payload":{"tag":"h2","lines":"267,268"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
