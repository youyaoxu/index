<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x524d;&#x7aef;&#x6570;&#x636e;&#x72b6;&#x6001;&#x7ba1;&#x7406;","children":[{"content":"Pinia &#x72b6;&#x6001;&#x7ba1;&#x7406;","children":[{"content":"<pre data-lines=\"5,6\"><code>&#x4ee3;&#x7801;&#xff1a; `/src/stores`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"5,6"}}],"payload":{"tag":"h2","lines":"2,4"}},{"content":"&#x5168;&#x5c40;&#x5f15;&#x5165;","children":[{"content":"<pre data-lines=\"10,28\"><code data-lines=\"10,28\"><span class=\"hljs-keyword\">const</span> modulesFiles = <span class=\"hljs-keyword\">import</span>.<span class=\"hljs-property\">meta</span>.<span class=\"hljs-title function_\">globEager</span>(<span class=\"hljs-string\">&quot;./modules/*.ts&quot;</span>);\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-attr\">pathList</span>: <span class=\"hljs-built_in\">string</span>[] = [];\n\n<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">const</span> path <span class=\"hljs-keyword\">in</span> modulesFiles) {\n pathList.<span class=\"hljs-title function_\">push</span>(path);\n}\n\n<span class=\"hljs-keyword\">const</span> modules = pathList.<span class=\"hljs-title function_\">reduce</span>(\n <span class=\"hljs-function\">(<span class=\"hljs-params\"><span class=\"hljs-attr\">modules</span>: { [x: <span class=\"hljs-built_in\">string</span>]: <span class=\"hljs-built_in\">any</span> }, <span class=\"hljs-attr\">modulePath</span>: <span class=\"hljs-built_in\">string</span></span>) =&gt;</span> {\n <span class=\"hljs-keyword\">const</span> moduleName = modulePath.<span class=\"hljs-title function_\">replace</span>(<span class=\"hljs-regexp\">/^\\.\\/modules\\/(.*)\\.\\w+&#x24;/</span>, <span class=\"hljs-string\">&quot;&#x24;1&quot;</span>);\n <span class=\"hljs-keyword\">const</span> value = modulesFiles[modulePath];\n modules[moduleName] = value.<span class=\"hljs-property\">default</span>;\n <span class=\"hljs-keyword\">return</span> modules;\n },\n {}\n); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"10,28"}}],"payload":{"tag":"h2","lines":"7,9"}},{"content":"&#x5b9a;&#x4e49;&#x63a5;&#x53e3;","children":[{"content":"Interface &#x5b9a;&#x4e49;","children":[{"content":"<pre data-lines=\"34,35\"><code>&#x5728; `/@/store/interface/index.ts` &#x4e2d;&#x5b9a;&#x4e49;&#x63a5;&#x53e3;&#xff0c;&#x4f8b;&#x5982;&#x8def;&#x7531;&#x7f13;&#x5b58;&#x5217;&#x8868; `KeepAliveNamesState`&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"34,35"}},{"content":"<pre data-lines=\"36,42\"><code data-lines=\"36,42\"><span class=\"hljs-comment\">// &#x8def;&#x7531;&#x7f13;&#x5b58;&#x5217;&#x8868;</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title class_\">KeepAliveNamesState</span> {\n <span class=\"hljs-attr\">keepAliveNames</span>: <span class=\"hljs-title class_\">Array</span>&lt;<span class=\"hljs-built_in\">string</span>&gt;;\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"36,42"}}],"payload":{"tag":"h3","lines":"32,33"}},{"content":"Interface &#x4f7f;&#x7528;","children":[{"content":"<pre data-lines=\"45,46\"><code>&#x5728; `/@/store/modules/` &#x76ee;&#x5f55;&#x4e0b;&#x521b;&#x5efa; `keepAliveNames.ts`&#xff0c;&#x5199;&#x5165;&#x5982;&#x4e0b;&#x4ee3;&#x7801;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"45,46"}},{"content":"<pre data-lines=\"47,72\"><code data-lines=\"47,72\">import { Module } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;vuex&quot;</span>;\nimport { KeepAliveNamesState, RootStateTypes } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;/@/store/interface/index&quot;</span>;\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-keyword\">keep</span>AliveNamesModule: Module<span class=\"hljs-variable\">&lt;KeepAliveNamesState, RootStateTypes&gt;</span> = {\n namespaced: true,\n <span class=\"hljs-keyword\">state</span>: {\n <span class=\"hljs-keyword\">keep</span>AliveNames: [],\n },\n mutations: {\n // &#x8bbe;&#x7f6e;&#x8def;&#x7531;&#x7f13;&#x5b58;&#xff08;name &#x5b57;&#x6bb5;&#xff09;\n getCacheKeepAlive(<span class=\"hljs-keyword\">state</span>: <span class=\"hljs-literal\">any</span>, data: Array<span class=\"hljs-variable\">&lt;string&gt;</span>) {\n <span class=\"hljs-keyword\">state</span>.<span class=\"hljs-keyword\">keep</span>AliveNames = data;\n },\n },\n actions: {\n // &#x8bbe;&#x7f6e;&#x8def;&#x7531;&#x7f13;&#x5b58;&#xff08;name &#x5b57;&#x6bb5;&#xff09;\n async <span class=\"hljs-built_in\">set</span>CacheKeepAlive({ commit }, data: Array<span class=\"hljs-variable\">&lt;string&gt;</span>) {\n commit(<span class=\"hljs-string\">&quot;getCacheKeepAlive&quot;</span>, data);\n },\n },\n};\n\nexport <span class=\"hljs-keyword\">default</span> <span class=\"hljs-keyword\">keep</span>AliveNamesModule; \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"47,72"}}],"payload":{"tag":"h3","lines":"43,44"}}],"payload":{"tag":"h2","lines":"29,31"}},{"content":"&#x5b9a;&#x4e49;&#x6a21;&#x5757;","children":[{"content":"<pre data-lines=\"76,77\"><code>&#x5982;&#x4e0a;&#x6240;&#x793a;&#xff0c;&#x6211;&#x4eec;&#x5728; `/@/store/modules/` &#x4e0b;&#x65b0;&#x589e;&#x4e86; `keepAliveNames.ts` &#x6587;&#x4ef6;&#xff0c;&#x5e76;&#x5b9a;&#x4e49;&#x4e86;&#x65b9;&#x6cd5; `mutations`&#x3001;`actions`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"76,77"}}],"payload":{"tag":"h2","lines":"73,75"}},{"content":"&#x4f7f;&#x7528;&#x6a21;&#x5757;","children":[{"content":"&#x5728; TypeScript &#x6587;&#x4ef6;&#x4e2d;&#x4f7f;&#x7528;","children":[{"content":"<pre data-lines=\"83,92\"><code data-lines=\"83,92\"><span class=\"hljs-keyword\">import</span> { store } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;/@/store/index.ts&quot;</span>;\n\n<span class=\"hljs-comment\">// dispatch</span>\nstore.dispatch(<span class=\"hljs-string\">&quot;keepAliveNames/setCacheKeepAlive&quot;</span>, cacheList);\n\n<span class=\"hljs-comment\">// &#x6216;&#x8005; commit</span>\n<span class=\"hljs-comment\">// store.commit(&quot;keepAliveNames/getCacheKeepAlive&quot;, cacheList); </span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"83,92"}}],"payload":{"tag":"h3","lines":"81,82"}},{"content":"&#x5728; Vue &#x7ec4;&#x4ef6;&#x4e2d;&#x4f7f;&#x7528;","children":[{"content":"<pre data-lines=\"95,116\"><code data-lines=\"95,116\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">template</span>&gt;</span>\n <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">v-if</span>=<span class=\"hljs-string\">&quot;getThemeConfig.isLockScreen&quot;</span>&gt;</span>&#x5728; .vue &#x4e2d;&#x4f7f;&#x7528;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">template</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span> <span class=\"hljs-attr\">lang</span>=<span class=\"hljs-string\">&quot;ts&quot;</span>&gt;</span><span class=\"language-javascript\">\n<span class=\"hljs-keyword\">import</span> { computed, defineComponent } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;vue&quot;</span>;\n<span class=\"hljs-keyword\">import</span> { useStore } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;/@/store/index&quot;</span>;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title function_\">defineComponent</span>({\n <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&quot;app&quot;</span>,\n <span class=\"hljs-title function_\">setup</span>(<span class=\"hljs-params\"></span>) {\n <span class=\"hljs-keyword\">const</span> store = <span class=\"hljs-title function_\">useStore</span>();\n <span class=\"hljs-comment\">// &#x83b7;&#x53d6;&#x5e03;&#x5c40;&#x914d;&#x7f6e;&#x4fe1;&#x606f;</span>\n <span class=\"hljs-keyword\">const</span> getThemeConfig = <span class=\"hljs-title function_\">computed</span>(<span class=\"hljs-function\">() =&gt;</span> {\n <span class=\"hljs-keyword\">return</span> store.<span class=\"hljs-property\">state</span>.<span class=\"hljs-property\">themeConfig</span>.<span class=\"hljs-property\">themeConfig</span>;\n });\n },\n});\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span> \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"95,116"}}],"payload":{"tag":"h3","lines":"93,94"}}],"payload":{"tag":"h2","lines":"78,80"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
