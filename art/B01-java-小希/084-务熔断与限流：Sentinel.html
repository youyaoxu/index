<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x670d;&#x52a1;&#x7194;&#x65ad;&#x4e0e;&#x9650;&#x6d41;&#xff1a;Sentinel","children":[{"content":"1.1&#x3001;Sentinel&#x662f;&#x4ec0;&#x4e48;","children":[{"content":"<pre data-lines=\"5,6\"><code>&#x968f;&#x7740;&#x5fae;&#x670d;&#x52a1;&#x7684;&#x6d41;&#x884c;&#xff0c;&#x670d;&#x52a1;&#x548c;&#x670d;&#x52a1;&#x4e4b;&#x95f4;&#x7684;&#x7a33;&#x5b9a;&#x6027;&#x53d8;&#x5f97;&#x8d8a;&#x6765;&#x8d8a;&#x91cd;&#x8981;&#x3002;&#x63d0;&#x8d77; Spring Cloud &#x7684;&#x9650;&#x6d41;&#x964d;&#x7ea7;&#x7ec4;&#x4ef6;&#xff0c;&#x4e00;&#x822c;&#x9996;&#x5148;&#x60f3;&#x5230;&#x7684;&#x662f; Netflix &#x7684; Hystrix&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"5,6"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/57940bfe233b6072ba1f7bf6593ae2d9.png\" alt>","children":[],"payload":{"tag":"img","lines":"7,8"}},{"content":"<pre data-lines=\"9,12\"><code>&#x4e0d;&#x8fc7;&#x5c31;&#x5728;2018&#x5e74;&#x5e95;&#xff0c;Netflix &#x5ba3;&#x5e03;&#x4e0d;&#x518d;&#x79ef;&#x6781;&#x5f00;&#x53d1; Hystrix&#xff0c;&#x8be5;&#x9879;&#x76ee;&#x5c06;&#x5904;&#x4e8e;&#x7ef4;&#x62a4;&#x6a21;&#x5f0f;&#x3002;&#x5b98;&#x65b9;&#x8868;&#x793a; 1.5.18 &#x7248;&#x672c;&#x7684; Hystrix &#x5df2;&#x7ecf;&#x8db3;&#x591f;&#x7a33;&#x5b9a;&#xff0c;&#x53ef;&#x4ee5;&#x6ee1;&#x8db3; Netflix &#x73b0;&#x6709;&#x5e94;&#x7528;&#x7684;&#x9700;&#x6c42;&#xff0c;&#x6240;&#x4ee5;&#x63a5;&#x4e0b;&#x6765;&#x5176;&#x4f1a;&#x628a;&#x7126;&#x70b9;&#x8f6c;&#x5411;&#x5bf9;&#x4e8e;&#x81ea;&#x9002;&#x5e94;&#x7684;&#x5b9e;&#x73b0;&#xff0c;&#x66f4;&#x591a;&#x5173;&#x6ce8;&#x5bf9;&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#x7684;&#x5b9e;&#x65f6;&#x6027;&#x80fd;&#x505a;&#x51fa;&#x54cd;&#x5e94;&#x3002;&#x5bf9;&#x4e8e;&#x65b0;&#x5e94;&#x7528;&#x7684;&#x7194;&#x65ad;&#x9700;&#x6c42;&#xff0c;&#x5c06;&#x91c7;&#x7528;&#x5176;&#x5b83;&#x9879;&#x76ee;&#x5b9e;&#x73b0;&#xff0c;Netflix &#x63a8;&#x8350;&#x4e86; Resilience4j&#x3002;\n\n&#x4f5c;&#x4e3a; Spring Cloud Netflix &#x91cd;&#x8981;&#x5957;&#x4ef6;&#xff0c;Hystrix&#x5df2;&#x7ecf;&#x6210;&#x4e3a;&#x4fdd;&#x969c;&#x5fae;&#x670d;&#x52a1;&#x7a33;&#x5b9a;&#x6027;&#x7684;&#x9996;&#x9009;&#x5e94;&#x7528;&#x3002;&#x5176;&#x5b9e;&#x9664;&#x4e86; Netflix &#x548c; Resilience4j&#xff0c;&#x9650;&#x6d41;&#x964d;&#x7ea7;&#x8fd8;&#x6709;&#x4e00;&#x4e2a;&#x65b0;&#x7684;&#x9009;&#x62e9;&#xff0c;&#x5c31;&#x662f;&#x963f;&#x91cc;&#x5df4;&#x5df4;&#x7684; Sentinel &#x7ec4;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"9,12"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/0a724c5f622e7247fa6824ac47833152.png\" alt>","children":[],"payload":{"tag":"img","lines":"13,14"}},{"content":"<pre data-lines=\"15,28\"><code>Sentinel &#x662f;&#x9762;&#x5411;&#x5206;&#x5e03;&#x5f0f;&#x670d;&#x52a1;&#x67b6;&#x6784;&#x7684;&#x6d41;&#x91cf;&#x63a7;&#x5236;&#x7ec4;&#x4ef6;&#xff0c;&#x4e3b;&#x8981;&#x4ee5;&#x6d41;&#x91cf;&#x4e3a;&#x5207;&#x5165;&#x70b9;&#xff0c;&#x4ece;&#x9650;&#x6d41;&#x3001;&#x6d41;&#x91cf;&#x6574;&#x5f62;&#x3001;&#x7194;&#x65ad;&#x964d;&#x7ea7;&#x3001;&#x7cfb;&#x7edf;&#x8d1f;&#x8f7d;&#x4fdd;&#x62a4;&#x3001;&#x70ed;&#x70b9;&#x9632;&#x62a4;&#x7b49;&#x591a;&#x4e2a;&#x7ef4;&#x5ea6;&#x6765;&#x5e2e;&#x52a9;&#x5f00;&#x53d1;&#x8005;&#x4fdd;&#x969c;&#x5fae;&#x670d;&#x52a1;&#x7684;&#x7a33;&#x5b9a;&#x6027;&#x3002;\n\n*   2012 &#x5e74;&#xff0c;Sentinel &#x8bde;&#x751f;&#xff0c;&#x4e3b;&#x8981;&#x529f;&#x80fd;&#x4e3a;&#x5165;&#x53e3;&#x6d41;&#x91cf;&#x63a7;&#x5236;&#x3002;\n*   2013-2017 &#x5e74;&#xff0c;Sentinel &#x5728;&#x963f;&#x91cc;&#x5df4;&#x5df4;&#x96c6;&#x56e2;&#x5185;&#x90e8;&#x8fc5;&#x901f;&#x53d1;&#x5c55;&#xff0c;&#x6210;&#x4e3a;&#x57fa;&#x7840;&#x6280;&#x672f;&#x6a21;&#x5757;&#xff0c;&#x8986;&#x76d6;&#x4e86;&#x6240;&#x6709;&#x7684;&#x6838;&#x5fc3;&#x573a;&#x666f;&#x3002;Sentinel &#x4e5f;&#x56e0;&#x6b64;&#x79ef;&#x7d2f;&#x4e86;&#x5927;&#x91cf;&#x7684;&#x6d41;&#x91cf;&#x5f52;&#x6574;&#x573a;&#x666f;&#x4ee5;&#x53ca;&#x751f;&#x4ea7;&#x5b9e;&#x8df5;&#x3002;\n*   2018 &#x5e74;&#xff0c;Sentinel &#x5f00;&#x6e90;&#xff0c;&#x5e76;&#x6301;&#x7eed;&#x6f14;&#x8fdb;&#x3002;\n*   2019 &#x5e74;&#xff0c;Sentinel &#x671d;&#x7740;&#x591a;&#x8bed;&#x8a00;&#x6269;&#x5c55;&#x7684;&#x65b9;&#x5411;&#x4e0d;&#x65ad;&#x63a2;&#x7d22;&#xff0c;&#x63a8;&#x51fa; [C++ &#x539f;&#x751f;&#x7248;&#x672c;](https://github.com/alibaba/sentinel-cpp)&#xff0c;&#x540c;&#x65f6;&#x9488;&#x5bf9; Service Mesh &#x573a;&#x666f;&#x4e5f;&#x63a8;&#x51fa;&#x4e86; [Envoy &#x96c6;&#x7fa4;&#x6d41;&#x91cf;&#x63a7;&#x5236;&#x652f;&#x6301;](https://github.com/alibaba/Sentinel/tree/master/sentinel-cluster/sentinel-cluster-server-envoy-rls)&#xff0c;&#x4ee5;&#x89e3;&#x51b3; Service Mesh &#x67b6;&#x6784;&#x4e0b;&#x591a;&#x8bed;&#x8a00;&#x9650;&#x6d41;&#x7684;&#x95ee;&#x9898;&#x3002;\n*   2020 &#x5e74;&#xff0c;&#x63a8;&#x51fa; [Sentinel Go &#x7248;&#x672c;](https://github.com/alibaba/sentinel-golang)&#xff0c;&#x7ee7;&#x7eed;&#x671d;&#x7740;&#x4e91;&#x539f;&#x751f;&#x65b9;&#x5411;&#x6f14;&#x8fdb;&#x3002;\n\nSentinel &#x5728;&#x7ecf;&#x8fc7;&#x963f;&#x91cc;&#x5df4;&#x5df4;&#x5185;&#x90e8;&#x4e00;&#x7cfb;&#x5217;&#x79d2;&#x6740;&#x5927;&#x4fc3;&#xff0c;&#x7279;&#x522b;&#x662f;&#x53cc;11&#x8fd9;&#x6837;&#x7535;&#x5546;&#x5927;&#x4fc3;&#x4e2d;&#x7684;&#x9524;&#x70bc;&#xff0c;&#x76ee;&#x524d;&#x5df2;&#x6709;&#x4e0d;&#x5c11;&#x4f01;&#x4e1a;&#x5728;&#x4f7f;&#x7528;&#x5f00;&#x6e90;&#x7248;&#x672c;&#x548c;&#x4e91;&#x7248;&#x672c;&#x7684; Sentinel&#xff0c;&#x5305;&#x62ec;&#x987a;&#x4e30;&#x3001;VIVO&#x3001;&#x6bcf;&#x65e5;&#x4f18;&#x9c9c;&#x3001;&#x62fc;&#x591a;&#x591a;&#x3001;&#x6613;&#x4f01;&#x79c0;&#x3001;&#x7231;&#x5947;&#x827a;&#x3001;&#x878d;&#x91d1;&#x6240;&#x3001;VIPKID&#x3001;&#x559c;&#x9a6c;&#x62c9;&#x96c5;FM&#x3001;&#x767e;&#x878d;&#x91d1;&#x670d;&#x7b49;&#x3002;\n\n&#x5b98;&#x65b9;&#x6587;&#x6863;&#xff1a;https://github.com/alibaba/Sentinel/wiki\n\n&#x6e90;&#x7801;&#x5730;&#x5740;&#xff1a;https://github.com/alibaba/Sentinel\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"15,28"}}],"payload":{"tag":"h2","lines":"2,4"}},{"content":"1.2&#x3001;Sentinel&#x7684;&#x7279;&#x6027;","children":[{"content":"<pre data-lines=\"32,40\"><code>Sentinel &#x6709;&#x4ee5;&#x4e0b;&#x7279;&#x5f81;:\n\n*   **&#x4e30;&#x5bcc;&#x7684;&#x5e94;&#x7528;&#x573a;&#x666f;**&#xff1a;Sentinel &#x627f;&#x63a5;&#x4e86;&#x963f;&#x91cc;&#x5df4;&#x5df4;&#x8fd1; 10 &#x5e74;&#x7684;&#x53cc;&#x5341;&#x4e00;&#x5927;&#x4fc3;&#x6d41;&#x91cf;&#x7684;&#x6838;&#x5fc3;&#x573a;&#x666f;&#xff0c;&#x4f8b;&#x5982;&#x79d2;&#x6740;&#xff08;&#x5373;&#x7a81;&#x53d1;&#x6d41;&#x91cf;&#x63a7;&#x5236;&#x5728;&#x7cfb;&#x7edf;&#x5bb9;&#x91cf;&#x53ef;&#x4ee5;&#x627f;&#x53d7;&#x7684;&#x8303;&#x56f4;&#xff09;&#x3001;&#x6d88;&#x606f;&#x524a;&#x5cf0;&#x586b;&#x8c37;&#x3001;&#x96c6;&#x7fa4;&#x6d41;&#x91cf;&#x63a7;&#x5236;&#x3001;&#x5b9e;&#x65f6;&#x7194;&#x65ad;&#x4e0b;&#x6e38;&#x4e0d;&#x53ef;&#x7528;&#x5e94;&#x7528;&#x7b49;&#x3002;\n*   **&#x5b8c;&#x5907;&#x7684;&#x5b9e;&#x65f6;&#x76d1;&#x63a7;**&#xff1a;Sentinel &#x540c;&#x65f6;&#x63d0;&#x4f9b;&#x5b9e;&#x65f6;&#x7684;&#x76d1;&#x63a7;&#x529f;&#x80fd;&#x3002;&#x60a8;&#x53ef;&#x4ee5;&#x5728;&#x63a7;&#x5236;&#x53f0;&#x4e2d;&#x770b;&#x5230;&#x63a5;&#x5165;&#x5e94;&#x7528;&#x7684;&#x5355;&#x53f0;&#x673a;&#x5668;&#x79d2;&#x7ea7;&#x6570;&#x636e;&#xff0c;&#x751a;&#x81f3; 500 &#x53f0;&#x4ee5;&#x4e0b;&#x89c4;&#x6a21;&#x7684;&#x96c6;&#x7fa4;&#x7684;&#x6c47;&#x603b;&#x8fd0;&#x884c;&#x60c5;&#x51b5;&#x3002;\n*   **&#x5e7f;&#x6cdb;&#x7684;&#x5f00;&#x6e90;&#x751f;&#x6001;**&#xff1a;Sentinel &#x63d0;&#x4f9b;&#x5f00;&#x7bb1;&#x5373;&#x7528;&#x7684;&#x4e0e;&#x5176;&#x5b83;&#x5f00;&#x6e90;&#x6846;&#x67b6;/&#x5e93;&#x7684;&#x6574;&#x5408;&#x6a21;&#x5757;&#xff0c;&#x4f8b;&#x5982;&#x4e0e; Spring Cloud&#x3001;Dubbo&#x3001;gRPC &#x7684;&#x6574;&#x5408;&#x3002;&#x60a8;&#x53ea;&#x9700;&#x8981;&#x5f15;&#x5165;&#x76f8;&#x5e94;&#x7684;&#x4f9d;&#x8d56;&#x5e76;&#x8fdb;&#x884c;&#x7b80;&#x5355;&#x7684;&#x914d;&#x7f6e;&#x5373;&#x53ef;&#x5feb;&#x901f;&#x5730;&#x63a5;&#x5165; Sentinel&#x3002;\n*   **&#x5b8c;&#x5584;&#x7684; SPI &#x6269;&#x5c55;&#x70b9;**&#xff1a;Sentinel &#x63d0;&#x4f9b;&#x7b80;&#x5355;&#x6613;&#x7528;&#x3001;&#x5b8c;&#x5584;&#x7684; SPI &#x6269;&#x5c55;&#x63a5;&#x53e3;&#x3002;&#x60a8;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x5b9e;&#x73b0;&#x6269;&#x5c55;&#x63a5;&#x53e3;&#x6765;&#x5feb;&#x901f;&#x5730;&#x5b9a;&#x5236;&#x903b;&#x8f91;&#x3002;&#x4f8b;&#x5982;&#x5b9a;&#x5236;&#x89c4;&#x5219;&#x7ba1;&#x7406;&#x3001;&#x9002;&#x914d;&#x52a8;&#x6001;&#x6570;&#x636e;&#x6e90;&#x7b49;&#x3002;\n\nSentinel &#x7684;&#x4e3b;&#x8981;&#x7279;&#x6027;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"32,40"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/e3415755549d3af34ea4e91980d87da6.png\" alt>","children":[],"payload":{"tag":"img","lines":"41,42"}},{"content":"<pre data-lines=\"43,44\"><code>Sentinel &#x7684;&#x5f00;&#x6e90;&#x751f;&#x6001;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"43,44"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/4f5023fc7de67b29444e5586654375ab.png\" alt>","children":[],"payload":{"tag":"img","lines":"45,46"}},{"content":"<pre data-lines=\"47,51\"><code>Sentinel &#x7684;&#x7ec4;&#x6210;&#x90e8;&#x5206;:\n\n*   &#x6838;&#x5fc3;&#x5e93;&#xff08;Java &#x5ba2;&#x6237;&#x7aef;&#xff09;&#x4e0d;&#x4f9d;&#x8d56;&#x4efb;&#x4f55;&#x6846;&#x67b6;/&#x5e93;&#xff0c;&#x80fd;&#x591f;&#x8fd0;&#x884c;&#x4e8e;&#x6240;&#x6709; Java &#x8fd0;&#x884c;&#x65f6;&#x73af;&#x5883;&#xff0c;&#x540c;&#x65f6;&#x5bf9; Dubbo / Spring Cloud &#x7b49;&#x6846;&#x67b6;&#x4e5f;&#x6709;&#x8f83;&#x597d;&#x7684;&#x652f;&#x6301;&#x3002;\n*   &#x63a7;&#x5236;&#x53f0;&#xff08;Dashboard&#xff09;&#x57fa;&#x4e8e; Spring Boot &#x5f00;&#x53d1;&#xff0c;&#x6253;&#x5305;&#x540e;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x8fd0;&#x884c;&#xff0c;&#x4e0d;&#x9700;&#x8981;&#x989d;&#x5916;&#x7684; Tomcat &#x7b49;&#x5e94;&#x7528;&#x5bb9;&#x5668;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"47,51"}}],"payload":{"tag":"h2","lines":"29,31"}},{"content":"1.3&#x3001;Sentinel&#x7684;&#x5bf9;&#x6bd4;","children":[{"content":"<table data-lines=\"55,71\">\n<thead data-lines=\"55,56\">\n<tr data-lines=\"55,56\">\n<th></th>\n<th>Sentinel</th>\n<th>Hystrix</th>\n<th>resilience4j</th>\n</tr>\n</thead>\n<tbody data-lines=\"57,71\">\n<tr data-lines=\"57,58\">\n<td>&#x9694;&#x79bb;&#x7b56;&#x7565;</td>\n<td>&#x4fe1;&#x53f7;&#x91cf;&#x9694;&#x79bb;&#xff08;&#x5e76;&#x53d1;&#x63a7;&#x5236;&#xff09;</td>\n<td>&#x7ebf;&#x7a0b;&#x6c60;&#x9694;&#x79bb;/&#x4fe1;&#x53f7;&#x91cf;&#x9694;&#x79bb;</td>\n<td>&#x4fe1;&#x53f7;&#x91cf;&#x9694;&#x79bb;</td>\n</tr>\n<tr data-lines=\"58,59\">\n<td>&#x7194;&#x65ad;&#x964d;&#x7ea7;&#x7b56;&#x7565;</td>\n<td>&#x57fa;&#x4e8e;&#x6162;&#x8c03;&#x7528;&#x6bd4;&#x4f8b;&#x3001;&#x5f02;&#x5e38;&#x6bd4;&#x4f8b;&#x3001;&#x5f02;&#x5e38;&#x6570;</td>\n<td>&#x57fa;&#x4e8e;&#x5f02;&#x5e38;&#x6bd4;&#x4f8b;</td>\n<td>&#x57fa;&#x4e8e;&#x5f02;&#x5e38;&#x6bd4;&#x4f8b;&#x3001;&#x54cd;&#x5e94;&#x65f6;&#x95f4;</td>\n</tr>\n<tr data-lines=\"59,60\">\n<td>&#x5b9e;&#x65f6;&#x7edf;&#x8ba1;&#x5b9e;&#x73b0;</td>\n<td>&#x6ed1;&#x52a8;&#x7a97;&#x53e3;&#xff08;LeapArray&#xff09;</td>\n<td>&#x6ed1;&#x52a8;&#x7a97;&#x53e3;&#xff08;&#x57fa;&#x4e8e; RxJava&#xff09;</td>\n<td>Ring Bit Buffer</td>\n</tr>\n<tr data-lines=\"60,61\">\n<td>&#x52a8;&#x6001;&#x89c4;&#x5219;&#x914d;&#x7f6e;</td>\n<td>&#x652f;&#x6301;&#x8fd1;&#x5341;&#x79cd;&#x52a8;&#x6001;&#x6570;&#x636e;&#x6e90;</td>\n<td>&#x652f;&#x6301;&#x591a;&#x79cd;&#x6570;&#x636e;&#x6e90;</td>\n<td>&#x6709;&#x9650;&#x652f;&#x6301;</td>\n</tr>\n<tr data-lines=\"61,62\">\n<td>&#x6269;&#x5c55;&#x6027;</td>\n<td>&#x591a;&#x4e2a;&#x6269;&#x5c55;&#x70b9;</td>\n<td>&#x63d2;&#x4ef6;&#x7684;&#x5f62;&#x5f0f;</td>\n<td>&#x63a5;&#x53e3;&#x7684;&#x5f62;&#x5f0f;</td>\n</tr>\n<tr data-lines=\"62,63\">\n<td>&#x57fa;&#x4e8e;&#x6ce8;&#x89e3;&#x7684;&#x652f;&#x6301;</td>\n<td>&#x652f;&#x6301;</td>\n<td>&#x652f;&#x6301;</td>\n<td>&#x652f;&#x6301;</td>\n</tr>\n<tr data-lines=\"63,64\">\n<td>&#x5355;&#x673a;&#x9650;&#x6d41;</td>\n<td>&#x57fa;&#x4e8e; QPS&#xff0c;&#x652f;&#x6301;&#x57fa;&#x4e8e;&#x8c03;&#x7528;&#x5173;&#x7cfb;&#x7684;&#x9650;&#x6d41;</td>\n<td>&#x6709;&#x9650;&#x7684;&#x652f;&#x6301;</td>\n<td>Rate Limiter</td>\n</tr>\n<tr data-lines=\"64,65\">\n<td>&#x96c6;&#x7fa4;&#x6d41;&#x63a7;</td>\n<td>&#x652f;&#x6301;</td>\n<td>&#x4e0d;&#x652f;&#x6301;</td>\n<td>&#x4e0d;&#x652f;&#x6301;</td>\n</tr>\n<tr data-lines=\"65,66\">\n<td>&#x6d41;&#x91cf;&#x6574;&#x5f62;</td>\n<td>&#x652f;&#x6301;&#x9884;&#x70ed;&#x6a21;&#x5f0f;&#x4e0e;&#x5300;&#x901f;&#x6392;&#x961f;&#x63a7;&#x5236;&#x6548;&#x679c;</td>\n<td>&#x4e0d;&#x652f;&#x6301;</td>\n<td>&#x7b80;&#x5355;&#x7684; Rate Limiter &#x6a21;&#x5f0f;</td>\n</tr>\n<tr data-lines=\"66,67\">\n<td>&#x7cfb;&#x7edf;&#x81ea;&#x9002;&#x5e94;&#x4fdd;&#x62a4;</td>\n<td>&#x652f;&#x6301;</td>\n<td>&#x4e0d;&#x652f;&#x6301;</td>\n<td>&#x4e0d;&#x652f;&#x6301;</td>\n</tr>\n<tr data-lines=\"67,68\">\n<td>&#x70ed;&#x70b9;&#x8bc6;&#x522b;/&#x9632;&#x62a4;</td>\n<td>&#x652f;&#x6301;</td>\n<td>&#x4e0d;&#x652f;&#x6301;</td>\n<td>&#x4e0d;&#x652f;&#x6301;</td>\n</tr>\n<tr data-lines=\"68,69\">\n<td>&#x591a;&#x8bed;&#x8a00;&#x652f;&#x6301;</td>\n<td>Java/Go/C++</td>\n<td>Java</td>\n<td>Java</td>\n</tr>\n<tr data-lines=\"69,70\">\n<td>Service Mesh &#x652f;&#x6301;</td>\n<td>&#x652f;&#x6301; Envoy/Istio</td>\n<td>&#x4e0d;&#x652f;&#x6301;</td>\n<td>&#x4e0d;&#x652f;&#x6301;</td>\n</tr>\n<tr data-lines=\"70,71\">\n<td>&#x63a7;&#x5236;&#x53f0;</td>\n<td>&#x63d0;&#x4f9b;&#x5f00;&#x7bb1;&#x5373;&#x7528;&#x7684;&#x63a7;&#x5236;&#x53f0;&#xff0c;&#x53ef;&#x914d;&#x7f6e;&#x89c4;&#x5219;&#x3001;&#x5b9e;&#x65f6;&#x76d1;&#x63a7;&#x3001;&#x673a;&#x5668;&#x53d1;&#x73b0;&#x7b49;</td>\n<td>&#x7b80;&#x5355;&#x7684;&#x76d1;&#x63a7;&#x67e5;&#x770b;</td>\n<td>&#x4e0d;&#x63d0;&#x4f9b;&#x63a7;&#x5236;&#x53f0;&#xff0c;&#x53ef;&#x5bf9;&#x63a5;&#x5176;&#x5b83;&#x76d1;&#x63a7;&#x7cfb;&#x7edf;</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"55,71"}}],"payload":{"tag":"h2","lines":"52,54"}},{"content":"2.1&#x3001;&#x4e0b;&#x8f7d;Sentinel","children":[],"payload":{"tag":"h2","lines":"72,74"}},{"content":"2.2&#x3001;&#x8fd0;&#x884c;Sentinel","children":[{"content":"<pre data-lines=\"80,81\"><code>&#x8fd0;&#x884c;&#x547d;&#x4ee4;&#xff1a;`java -jar sentinel-dashboard-1.8.1.jar`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"80,81"}}],"payload":{"tag":"h2","lines":"77,79"}},{"content":"2.3&#x3001;&#x8bbf;&#x95ee;Sentinel","children":[{"content":"<pre data-lines=\"85,86\"><code>&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:8080/&#xff0c;&#x767b;&#x5f55;&#x8d26;&#x6237;&#xff1a;sentinel&#xff0c;&#x767b;&#x5f55;&#x5bc6;&#x7801;&#xff1a;sentinel\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"85,86"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/de2f1fc3bd213dcf259c896c3ad6bdc5.png\" alt>","children":[],"payload":{"tag":"img","lines":"87,88"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/93fd0f70200794db91820a0f657fe688.png\" alt>","children":[],"payload":{"tag":"img","lines":"89,90"}}],"payload":{"tag":"h2","lines":"82,84"}},{"content":"3.1&#x3001;&#x9879;&#x76ee;&#x7684;&#x51c6;&#x5907;&#x4e0e;&#x542f;&#x52a8;","children":[{"content":"<pre data-lines=\"94,97\"><code>&#xff08;1&#xff09;&#x4ee5;&#x5355;&#x673a;&#x6a21;&#x5f0f;&#x542f;&#x52a8;nacos&#xff1a;`startup.cmd -m standalone`\n\n&#xff08;2&#xff09;&#x4f7f;&#x7528;idea&#x5bfc;&#x5165;`02-&#x670d;&#x52a1;&#x6ce8;&#x518c;&#x4e0e;&#x914d;&#x7f6e;&#xff1a;Nacos`&#x4e2d;&#x7684;`spring-cloud-alibaba-study`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"94,97"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d44fd9f473b7f1a8002893c1c226a2af.png\" alt>","children":[],"payload":{"tag":"img","lines":"98,99"}}],"payload":{"tag":"h2","lines":"91,93"}},{"content":"3.2&#x3001;&#x5546;&#x54c1;&#x670d;&#x52a1;&#x6574;&#x5408;&#x54e8;&#x5175;","children":[{"content":"3.2.1&#x3001;&#x65b0;&#x589e;&#x4f9d;&#x8d56;","children":[{"content":"<pre data-lines=\"105,106\"><code>&#x5728;`service-goods`&#x7684;`pom.xml`&#x4e2d;&#x65b0;&#x589e;&#x5982;&#x4e0b;&#x4f9d;&#x8d56;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"105,106"}},{"content":"<pre data-lines=\"107,114\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.alibaba.cloud<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-sentinel<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"107,114"}}],"payload":{"tag":"h3","lines":"103,104"}},{"content":"3.2.2&#x3001;&#x65b0;&#x589e;&#x914d;&#x7f6e;","children":[{"content":"<pre data-lines=\"117,118\"><code>&#x5728;`service-goods`&#x7684;`application.yaml`&#x4e2d;&#x65b0;&#x589e;&#x5982;&#x4e0b;&#x914d;&#x7f6e;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"117,118"}},{"content":"<pre data-lines=\"119,127\"><code class=\"language-yaml\"><span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">sentinel:</span>\n      <span class=\"hljs-attr\">transport:</span>\n        <span class=\"hljs-attr\">dashboard:</span> <span class=\"hljs-string\">http://localhost:8080</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"119,127"}},{"content":"<pre data-lines=\"130,148\"><code class=\"language-yaml\"><span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">service-goods</span>\n  <span class=\"hljs-attr\">profiles:</span>\n    <span class=\"hljs-attr\">active:</span> <span class=\"hljs-string\">dev</span> \n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">nacos:</span>\n      <span class=\"hljs-attr\">discovery:</span>\n        <span class=\"hljs-attr\">server-addr:</span> <span class=\"hljs-string\">http://localhost:8848</span>\n\n\n\n\n\n\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"130,148"}},{"content":"<pre data-lines=\"149,150\"><code>&#x5728;`service-goods`&#x4e2d;&#x5220;&#x9664;`ReadConfigController`&#x63a7;&#x5236;&#x7c7b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"149,150"}}],"payload":{"tag":"h3","lines":"115,116"}},{"content":"3.2.3&#x3001;&#x5b9e;&#x65f6;&#x76d1;&#x63a7;","children":[{"content":"<pre data-lines=\"153,154\"><code>&#x542f;&#x52a8;`ServiceGoodsApplication7001`&#xff0c;&#x7136;&#x540e;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;`http://localhost:7001/goods/findByGid?gid=1`&#xff0c;&#x7136;&#x540e;&#x67e5;&#x770b;Sentinel&#x63a7;&#x5236;&#x53f0;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"153,154"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/39b0938e60cc70fe92260c70bc65614b.png\" alt>","children":[],"payload":{"tag":"img","lines":"155,156"}}],"payload":{"tag":"h3","lines":"151,152"}},{"content":"3.2.4&#x3001;&#x7c07;&#x70b9;&#x94fe;&#x8def;","children":[{"content":"<pre data-lines=\"159,164\"><code>&#x7c07;&#x70b9;&#x94fe;&#x8def;&#xff1a;\n\n&#x5728;&#x8fd9;&#x4e2a;&#x529f;&#x80fd;&#x6a21;&#x5757;&#x4e0b;&#xff0c;&#x4f60;&#x53ef;&#x4ee5;&#x6e05;&#x6670;&#x5730;&#x770b;&#x51fa;&#x5f53;&#x524d;&#x8d44;&#x6e90;&#x7684;&#x8bbf;&#x95ee;&#x60c5;&#x51b5;&#xff0c;&#x5e76;&#x4e14;&#x53ef;&#x4ee5;&#x4e3a;&#x8d44;&#x6e90;&#x6dfb;&#x52a0;`&#x6d41;&#x63a7;`&#x3001;`&#x964d;&#x7ea7;`&#x3001;`&#x70ed;&#x70b9;`&#x3001;`&#x6388;&#x6743;`&#x7b49;&#x89c4;&#x5219;&#xff0c;&#x8fd9;&#x4e9b;&#x89c4;&#x5219;&#x4f1a;&#x5728;&#x540e;&#x8fb9;&#x8be6;&#x7ec6;&#x4ecb;&#x7ecd;&#x3002;\n\n&#x6811;&#x72b6;&#x89c6;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"159,164"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/2cbae91fcae2fe2d0ad14ff8dd2ebdaf.png\" alt>","children":[],"payload":{"tag":"img","lines":"165,166"}},{"content":"<pre data-lines=\"167,168\"><code>&#x5217;&#x8868;&#x89c6;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"167,168"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/5160641c334104a3d64bb9b101fbbcbc.png\" alt>","children":[],"payload":{"tag":"img","lines":"169,170"}},{"content":"<pre data-lines=\"171,176\"><code>&#x76f8;&#x5173;&#x6982;&#x5ff5;&#xff1a;\n\n&#x6bcf;&#x79d2;&#x67e5;&#x8be2;&#x7387;(QPS) &#xff1a;&#x6bcf;&#x79d2;&#x67e5;&#x8be2;&#x7387;QPS&#x662f;&#x5bf9;&#x4e00;&#x4e2a;&#x7279;&#x5b9a;&#x7684;&#x67e5;&#x8be2;&#x670d;&#x52a1;&#x5668;&#x5728;&#x89c4;&#x5b9a;&#x65f6;&#x95f4;&#x5185;&#x6240;&#x5904;&#x7406;&#x6d41;&#x91cf;&#x591a;&#x5c11;&#x7684;&#x8861;&#x91cf;&#x6807;&#x51c6;&#xff0c;&#x5728;&#x56e0;&#x7279;&#x7f51;&#x4e0a;&#xff0c;&#x4f5c;&#x4e3a;&#x57df;&#x540d;&#x7cfb;&#x7edf;&#x670d;&#x52a1;&#x5668;&#x7684;&#x673a;&#x5668;&#x7684;&#x6027;&#x80fd;&#x7ecf;&#x5e38;&#x7528;&#x6bcf;&#x79d2;&#x67e5;&#x8be2;&#x7387;&#x6765;&#x8861;&#x91cf;&#x3002;&#x5bf9;&#x5e94;fetches/sec&#xff0c;&#x5373;&#x6bcf;&#x79d2;&#x7684;&#x54cd;&#x5e94;&#x8bf7;&#x6c42;&#x6570;&#xff0c;&#x4e5f;&#x5373;&#x662f;&#x6700;&#x5927;&#x541e;&#x5410;&#x80fd;&#x529b;&#x3002;\n\n&#x54cd;&#x5e94;&#x65f6;&#x95f4;(RT) &#xff1a;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x662f;&#x6307;&#x7cfb;&#x7edf;&#x5bf9;&#x8bf7;&#x6c42;&#x4f5c;&#x51fa;&#x54cd;&#x5e94;&#x7684;&#x65f6;&#x95f4;&#x3002;&#x76f4;&#x89c2;&#x4e0a;&#x770b;&#xff0c;&#x8fd9;&#x4e2a;&#x6307;&#x6807;&#x4e0e;&#x4eba;&#x5bf9;&#x8f6f;&#x4ef6;&#x6027;&#x80fd;&#x7684;&#x4e3b;&#x89c2;&#x611f;&#x53d7;&#x662f;&#x975e;&#x5e38;&#x4e00;&#x81f4;&#x7684;&#xff0c;&#x56e0;&#x4e3a;&#x5b83;&#x5b8c;&#x6574;&#x5730;&#x8bb0;&#x5f55;&#x4e86;&#x6574;&#x4e2a;&#x8ba1;&#x7b97;&#x673a;&#x7cfb;&#x7edf;&#x5904;&#x7406;&#x8bf7;&#x6c42;&#x7684;&#x65f6;&#x95f4;&#x3002;&#x7531;&#x4e8e;&#x4e00;&#x4e2a;&#x7cfb;&#x7edf;&#x901a;&#x5e38;&#x4f1a;&#x63d0;&#x4f9b;&#x8bb8;&#x591a;&#x529f;&#x80fd;&#xff0c;&#x800c;&#x4e0d;&#x540c;&#x529f;&#x80fd;&#x7684;&#x5904;&#x7406;&#x903b;&#x8f91;&#x4e5f;&#x5343;&#x5dee;&#x4e07;&#x522b;&#xff0c;&#x56e0;&#x800c;&#x4e0d;&#x540c;&#x529f;&#x80fd;&#x7684;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x4e5f;&#x4e0d;&#x5c3d;&#x76f8;&#x540c;&#xff0c;&#x751a;&#x81f3;&#x540c;&#x4e00;&#x529f;&#x80fd;&#x5728;&#x4e0d;&#x540c;&#x8f93;&#x5165;&#x6570;&#x636e;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x4e5f;&#x4e0d;&#x76f8;&#x540c;&#x3002;&#x6240;&#x4ee5;&#xff0c;&#x5728;&#x8ba8;&#x8bba;&#x4e00;&#x4e2a;&#x7cfb;&#x7edf;&#x7684;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x65f6;&#xff0c;&#x4eba;&#x4eec;&#x901a;&#x5e38;&#x662f;&#x6307;&#x8be5;&#x7cfb;&#x7edf;&#x6240;&#x6709;&#x529f;&#x80fd;&#x7684;&#x5e73;&#x5747;&#x65f6;&#x95f4;&#x6216;&#x8005;&#x6240;&#x6709;&#x529f;&#x80fd;&#x7684;&#x6700;&#x5927;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x3002;&#x5f53;&#x7136;&#xff0c;&#x5f80;&#x5f80;&#x4e5f;&#x9700;&#x8981;&#x5bf9;&#x6bcf;&#x4e2a;&#x6216;&#x6bcf;&#x7ec4;&#x529f;&#x80fd;&#x8ba8;&#x8bba;&#x5176;&#x5e73;&#x5747;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x548c;&#x6700;&#x5927;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x3002;&#x5bf9;&#x4e8e;&#x5355;&#x673a;&#x7684;&#x6ca1;&#x6709;&#x5e76;&#x53d1;&#x64cd;&#x4f5c;&#x7684;&#x5e94;&#x7528;&#x7cfb;&#x7edf;&#x800c;&#x8a00;&#xff0c;&#x4eba;&#x4eec;&#x666e;&#x904d;&#x8ba4;&#x4e3a;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x662f;&#x4e00;&#x4e2a;&#x5408;&#x7406;&#x4e14;&#x51c6;&#x786e;&#x7684;&#x6027;&#x80fd;&#x6307;&#x6807;&#x3002;&#x9700;&#x8981;&#x6307;&#x51fa;&#x7684;&#x662f;&#xff0c;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x7684;&#x7edd;&#x5bf9;&#x503c;&#x5e76;&#x4e0d;&#x80fd;&#x76f4;&#x63a5;&#x53cd;&#x6620;&#x8f6f;&#x4ef6;&#x7684;&#x6027;&#x80fd;&#x7684;&#x9ad8;&#x4f4e;&#xff0c;&#x8f6f;&#x4ef6;&#x6027;&#x80fd;&#x7684;&#x9ad8;&#x4f4e;&#x5b9e;&#x9645;&#x4e0a;&#x53d6;&#x51b3;&#x4e8e;&#x7528;&#x6237;&#x5bf9;&#x8be5;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x7684;&#x63a5;&#x53d7;&#x7a0b;&#x5ea6;&#x3002;&#x5bf9;&#x4e8e;&#x4e00;&#x4e2a;&#x6e38;&#x620f;&#x8f6f;&#x4ef6;&#x6765;&#x8bf4;&#xff0c;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x5c0f;&#x4e8e;100&#x6beb;&#x79d2;&#x5e94;&#x8be5;&#x662f;&#x4e0d;&#x9519;&#x7684;&#xff0c;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x5728;1&#x79d2;&#x5de6;&#x53f3;&#x53ef;&#x80fd;&#x5c5e;&#x4e8e;&#x52c9;&#x5f3a;&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#xff0c;&#x5982;&#x679c;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x8fbe;&#x5230;3&#x79d2;&#x5c31;&#x5b8c;&#x5168;&#x96be;&#x4ee5;&#x63a5;&#x53d7;&#x4e86;&#x3002;&#x800c;&#x5bf9;&#x4e8e;&#x7f16;&#x8bd1;&#x7cfb;&#x7edf;&#x6765;&#x8bf4;&#xff0c;&#x5b8c;&#x6574;&#x7f16;&#x8bd1;&#x4e00;&#x4e2a;&#x8f83;&#x5927;&#x89c4;&#x6a21;&#x8f6f;&#x4ef6;&#x7684;&#x6e90;&#x4ee3;&#x7801;&#x53ef;&#x80fd;&#x9700;&#x8981;&#x51e0;&#x5341;&#x5206;&#x949f;&#x751a;&#x81f3;&#x66f4;&#x957f;&#x65f6;&#x95f4;&#xff0c;&#x4f46;&#x8fd9;&#x4e9b;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x5bf9;&#x4e8e;&#x7528;&#x6237;&#x6765;&#x8bf4;&#x90fd;&#x662f;&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#x7684;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"171,176"}}],"payload":{"tag":"h3","lines":"157,158"}}],"payload":{"tag":"h2","lines":"100,102"}},{"content":"4.1&#x3001;&#x89c4;&#x5219;&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"180,181\"><code>&#x5b98;&#x65b9;&#x8bf4;&#x660e;&#xff1a;https://github.com/alibaba/Sentinel/wiki/%E6%B5%81%E9%87%8F%E6%8E%A7%E5%88%B6\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"180,181"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/296b01c9e10e5fea64dc2506502aa6e8.png\" alt>","children":[],"payload":{"tag":"img","lines":"182,183"}},{"content":"<pre data-lines=\"184,197\"><code>*   &#x8d44;&#x6e90;&#x540d;&#xff1a;&#x4e00;&#x822c;&#x662f;&#x6211;&#x4eec;&#x7684;&#x8bf7;&#x6c42;&#x8def;&#x5f84;\n*   &#x9488;&#x5bf9;&#x6765;&#x6e90;&#xff1a;&#x662f;&#x6307;&#x6765;&#x81ea;&#x4e8e;&#x54ea;&#x4e2a;&#x5e94;&#x7528;\n*   &#x9608;&#x503c;&#x7c7b;&#x578b;&#xff1a;&#x5206;&#x4e3a;QPS&#x6216;&#x7ebf;&#x7a0b;&#x6570;\n*   &#x5355;&#x673a;&#x9608;&#x503c;&#xff1a;&#x5355;&#x4e2a;&#x8282;&#x70b9;&#x7684;QPS&#x6216;&#x7ebf;&#x7a0b;&#x6570;&#x9608;&#x503c;\n*   &#x662f;&#x5426;&#x96c6;&#x7fa4;&#xff1a;&#x88ab;&#x8bf7;&#x6c42;&#x7684;&#x670d;&#x52a1;&#x662f;&#x5426;&#x96c6;&#x7fa4;&#x90e8;&#x7f72;\n*   &#x6d41;&#x63a7;&#x6a21;&#x5f0f;&#xff1a;\n\t*   &#x76f4;&#x63a5;&#xff0c;&#x5c31;&#x662f;&#x76f4;&#x63a5;&#x5bf9;&#x8be5;&#x8d44;&#x6e90;&#x8fdb;&#x884c;&#x63a7;&#x5236;\n\t*   &#x5173;&#x8054;&#xff0c;&#x5173;&#x8054;&#x67d0;&#x4e00;&#x4e2a;&#x8d44;&#x6e90;&#xff08;/app2&#xff09;&#xff0c;&#x88ab;&#x5173;&#x8054;&#x7684;&#x8d44;&#x6e90;/app2&#x8fbe;&#x5230;&#x9608;&#x503c;2&#xff0c;&#x5219;&#x9650;&#x5236;&#x5f53;&#x524d;&#x8d44;&#x6e90;/test&#x7684;&#x8bbf;&#x95ee;\n\t*   &#x94fe;&#x8def;&#xff0c;&#x8bb0;&#x5f55;&#x6307;&#x5b9a;&#x94fe;&#x8def;&#x4e0a;&#x7684;&#x6d41;&#x91cf;\n*   &#x6d41;&#x63a7;&#x6548;&#x679c;&#xff1a;&#xff08;&#x7ebf;&#x7a0b;&#x6570;&#x9608;&#x503c;&#x7c7b;&#x578b;&#x4e0d;&#x5b58;&#x5728;&#x6b64;&#x5c5e;&#x6027;&#xff09;\n\t*   &#x5feb;&#x901f;&#x5931;&#x8d25; &#xff0c;&#x76f4;&#x63a5;&#x9650;&#x5236;\n\t*   Warm Up&#xff0c;&#x6839;&#x636e;coldFactor&#xff08;&#x9ed8;&#x8ba4;&#x4e3a;3&#xff09;&#x7684;&#x503c;&#xff0c;&#x4ece; &#x9608;&#x503c;/coldFactor&#xff0c;&#x7ecf;&#x8fc7;&#x9884;&#x70ed;&#x7684;&#x65f6;&#x957f;&#xff0c;&#x624d;&#x8fbe;&#x5230;&#x8bbe;&#x7f6e;&#x7684;QPS&#x9608;&#x503c;&#xff0c;&#x6bd4;&#x5982;&#x8bbe;&#x7f6e;QPS&#x9608;&#x503c;&#x4e3a;100&#xff0c;&#x90a3;&#x4e48;100/3 =33&#xff0c;&#x7528;33&#x4f5c;&#x4e3a;&#x6700;&#x521d;&#x7684;&#x9608;&#x503c;&#xff0c;&#x7136;&#x540e;&#x5728;10&#x79d2;&#x5230;&#x8fbe;100&#x540e;&#x518d;&#x5f00;&#x59cb;&#x9650;&#x6d41;&#xff0c;&#x8fd9;&#x4e2a;coldFactor&#x503c;&#xff0c;&#x53ef;&#x4ee5;&#x5728;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x4e2d;&#x914d;&#x7f6e;\n\t*   &#x6392;&#x961f;&#x7b49;&#x5f85;&#xff0c;&#x5728;QPS&#x9608;&#x503c;&#x5230;&#x8fbe;&#x540e;&#xff0c;&#x65b0;&#x7684;&#x8bf7;&#x6c42;&#x5c31;&#x7b49;&#x5f85;&#xff0c;&#x76f4;&#x5230;&#x8d85;&#x65f6;&#xff0c;&#x53ef;&#x4ee5;&#x9002;&#x7528;&#x4e8e;&#x7a81;&#x53d1;&#x6d41;&#x91cf;&#x7684;&#x8bf7;&#x6c42;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"184,197"}}],"payload":{"tag":"h2","lines":"177,179"}},{"content":"4.2&#x3001;&#x89c4;&#x5219;&#x6f14;&#x793a;","children":[{"content":"4.2.1&#x3001;&#x6d41;&#x63a7;&#x6a21;&#x5f0f;&#xff1a;&#x76f4;&#x63a5;","children":[{"content":"<pre data-lines=\"203,204\"><code>&#xff08;1&#xff09;&#x5728;`GoodsController`&#x4e2d;&#xff0c;&#x6dfb;&#x52a0;&#x6d4b;&#x8bd5;&#x65b9;&#x6cd5;&#xff0c;&#x7136;&#x540e;&#x91cd;&#x542f;&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"203,204"}},{"content":"<pre data-lines=\"205,212\"><code class=\"language-java\"><span class=\"hljs-meta\">@RequestMapping(&quot;/goods/testA&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">testA</span><span class=\"hljs-params\">()</span> {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;server port:&quot;</span> + port + <span class=\"hljs-string\">&quot;,testA...&quot;</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"205,212"}},{"content":"<pre data-lines=\"213,214\"><code>&#xff08;2&#xff09;&#x8bbf;&#x95ee;&#x6d4b;&#x8bd5;&#x65b9;&#x6cd5;&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testA\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"213,214"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f836b4db6f88b1eea39f55e88170c00d.png\" alt>","children":[],"payload":{"tag":"img","lines":"215,216"}},{"content":"<pre data-lines=\"217,218\"><code>&#xff08;3&#xff09;&#x6dfb;&#x52a0;&#x6d41;&#x63a7;&#x89c4;&#x5219;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"217,218"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/5746baf7f2af4274d1c995cacdf61d68.png\" alt>","children":[],"payload":{"tag":"img","lines":"219,220"}},{"content":"<pre data-lines=\"221,222\"><code>&#xff08;4&#xff09;&#x8bbf;&#x95ee;&#x6d4b;&#x8bd5;&#x65b9;&#x6cd5;&#xff0c;&#x5feb;&#x901f;&#x8fde;&#x7eed;&#x8bbf;&#x95ee;&#x591a;&#x6b21;&#xff1a;http://localhost:7001/goods/testA\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"221,222"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/6ff12c1a788d3d19e6d90526a08f95cc.png\" alt>","children":[],"payload":{"tag":"img","lines":"223,224"}},{"content":"<pre data-lines=\"225,226\"><code>&#x6309;&#x7167;&#x6211;&#x4eec;&#x7684;&#x914d;&#x7f6e;&#xff0c;1&#x79d2;&#x949f;&#x4ee5;&#x5185;&#x53ea;&#x80fd;&#x6709;1&#x4e2a;&#x8bf7;&#x6c42;&#xff08;&#x5355;&#x673a;&#x9608;&#x503c;&#xff09;&#x901a;&#x8fc7;&#xff0c;&#x5982;&#x679c;&#x4f60;&#x5728;1&#x79d2;&#x4ee5;&#x5185;&#x5feb;&#x901f;&#x8fde;&#x7eed;&#x8bbf;&#x95ee;&#xff0c;&#x5c31;&#x4f1a;&#x89e6;&#x53d1;&#x6d41;&#x91cf;&#x9650;&#x5236;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"225,226"}}],"payload":{"tag":"h3","lines":"201,202"}},{"content":"4.2.2&#x3001;&#x6d41;&#x63a7;&#x6a21;&#x5f0f;&#xff1a;&#x5173;&#x8054;","children":[{"content":"<pre data-lines=\"229,230\"><code>&#xff08;1&#xff09;&#x5728;`GoodsController`&#x4e2d;&#xff0c;&#x6dfb;&#x52a0;&#x6d4b;&#x8bd5;&#x65b9;&#x6cd5;&#xff0c;&#x7136;&#x540e;&#x91cd;&#x542f;&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"229,230"}},{"content":"<pre data-lines=\"231,238\"><code class=\"language-java\"><span class=\"hljs-meta\">@RequestMapping(&quot;/goods/testB&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">testB</span><span class=\"hljs-params\">()</span> {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;server port:&quot;</span> + port + <span class=\"hljs-string\">&quot;,testB...&quot;</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"231,238"}},{"content":"<pre data-lines=\"239,240\"><code>&#xff08;2&#xff09;&#x8bbf;&#x95ee;&#x6d4b;&#x8bd5;&#x65b9;&#x6cd5;&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testA\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"239,240"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f836b4db6f88b1eea39f55e88170c00d.png\" alt>","children":[],"payload":{"tag":"img","lines":"241,242"}},{"content":"<pre data-lines=\"243,244\"><code>&#xff08;3&#xff09;&#x8bbf;&#x95ee;&#x6d4b;&#x8bd5;&#x65b9;&#x6cd5;&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testB\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"243,244"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/850f4dea9430f14ff34a5f67cd461cec.png\" alt>","children":[],"payload":{"tag":"img","lines":"245,246"}},{"content":"<pre data-lines=\"247,248\"><code>&#xff08;4&#xff09;&#x6dfb;&#x52a0;&#x6d41;&#x63a7;&#x89c4;&#x5219;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"247,248"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/4135c762f96da6f431596e8377c70c33.png\" alt>","children":[],"payload":{"tag":"img","lines":"249,250"}},{"content":"<pre data-lines=\"251,252\"><code>&#xff08;5&#xff09;&#x8bbf;&#x95ee;&#x6d4b;&#x8bd5;&#x65b9;&#x6cd5;&#xff0c;&#x5e76;&#x53d1;&#x8bbf;&#x95ee;&#xff1a;http://localhost:7001/goods/testB&#xff0c;&#x8fd9;&#x91cc;&#x53ef;&#x4ee5;&#x91c7;&#x7528;`JMeter`&#x6216;&#x8005;`Postman`&#xff0c;&#x7136;&#x540e;&#x8bbf;&#x95ee;&#xff1a;http://localhost:7001/goods/testA\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"251,252"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/fb3a1d843ca50c1e3e962873f9aa558f.png\" alt>","children":[],"payload":{"tag":"img","lines":"253,254"}},{"content":"<pre data-lines=\"255,256\"><code>&#x7b80;&#x5355;&#x7684;&#x6765;&#x8bf4;&#xff1a;&#x5173;&#x8054;&#x7684;`/goods/testB`&#x8d44;&#x6e90;&#x4e00;&#x65e6;&#x9650;&#x6d41;&#xff0c;&#x5f53;&#x524d;&#x8d44;&#x6e90;`/goods/testA`&#x4e5f;&#x4f1a;&#x88ab;&#x9650;&#x6d41;&#x4fdd;&#x62a4;&#x8d77;&#x6765;&#xff0c;&#x4f46;&#x662f;&#x6d4b;&#x8bd5;&#x7684;&#x65f6;&#x5019;&#x5e76;&#x4e0d;&#x597d;&#x6d4b;&#xff0c;&#x9700;&#x8981;&#x638c;&#x63e1;&#x5e76;&#x53d1;&#x6d4b;&#x8bd5;&#x77e5;&#x8bc6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"255,256"}}],"payload":{"tag":"h3","lines":"227,228"}},{"content":"4.2.3&#x3001;&#x6d41;&#x63a7;&#x6a21;&#x5f0f;&#xff1a;&#x94fe;&#x8def;","children":[{"content":"<pre data-lines=\"259,260\"><code>&#xff08;1&#xff09;&#x6dfb;&#x52a0;&#x6d41;&#x63a7;&#x89c4;&#x5219;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"259,260"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/337a305d21645d3a3761f6d4c64d13f7.png\" alt>","children":[],"payload":{"tag":"img","lines":"261,262"}},{"content":"<pre data-lines=\"263,264\"><code>&#xff08;2&#xff09;&#x8bbf;&#x95ee;&#x6d4b;&#x8bd5;&#x65b9;&#x6cd5;&#xff0c;&#x5feb;&#x901f;&#x8fde;&#x7eed;&#x8bbf;&#x95ee;&#x591a;&#x6b21;&#xff1a;http://localhost:7001/goods/testB\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"263,264"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/0073ef2ef4804dc5e9ec98f86a6597bb.png\" alt>","children":[],"payload":{"tag":"img","lines":"265,266"}},{"content":"<pre data-lines=\"267,270\"><code>`NodeSelectorSlot` &#x4e2d;&#x8bb0;&#x5f55;&#x4e86;&#x8d44;&#x6e90;&#x4e4b;&#x95f4;&#x7684;&#x8c03;&#x7528;&#x94fe;&#x8def;&#xff0c;&#x8fd9;&#x4e9b;&#x8d44;&#x6e90;&#x901a;&#x8fc7;&#x8c03;&#x7528;&#x5173;&#x7cfb;&#xff0c;&#x76f8;&#x4e92;&#x4e4b;&#x95f4;&#x6784;&#x6210;&#x4e00;&#x68f5;&#x8c03;&#x7528;&#x6811;&#x3002;&#x8fd9;&#x68f5;&#x6811;&#x7684;&#x6839;&#x8282;&#x70b9;&#x662f;&#x4e00;&#x4e2a;&#x540d;&#x5b57;&#x4e3a; `machine-root` &#x7684;&#x865a;&#x62df;&#x8282;&#x70b9;&#xff0c;&#x8c03;&#x7528;&#x94fe;&#x7684;&#x5165;&#x53e3;&#x90fd;&#x662f;&#x8fd9;&#x4e2a;&#x865a;&#x8282;&#x70b9;&#x7684;&#x5b50;&#x8282;&#x70b9;&#x3002;\n\n&#x4e00;&#x68f5;&#x5178;&#x578b;&#x7684;&#x8c03;&#x7528;&#x6811;&#x5982;&#x4e0b;&#x56fe;&#x6240;&#x793a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"267,270"}},{"content":"<pre data-lines=\"271,281\"><code data-lines=\"271,281\">     \t          machine-root\n                    /       <span class=\"hljs-string\">\\</span>\n                   /         <span class=\"hljs-string\">\\</span>\n             Entrance1     Entrance2\n                /             <span class=\"hljs-string\">\\</span>\n               /               <span class=\"hljs-string\">\\</span>\n      DefaultNode(nodeA)   DefaultNode(nodeA)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"271,281"}},{"content":"<pre data-lines=\"282,285\"><code>&#x4e0a;&#x56fe;&#x4e2d;&#x6765;&#x81ea;&#x5165;&#x53e3; `Entrance1` &#x548c; `Entrance2` &#x7684;&#x8bf7;&#x6c42;&#x90fd;&#x8c03;&#x7528;&#x5230;&#x4e86;&#x8d44;&#x6e90; `NodeA`&#xff0c;Sentinel &#x5141;&#x8bb8;&#x53ea;&#x6839;&#x636e;&#x67d0;&#x4e2a;&#x5165;&#x53e3;&#x7684;&#x7edf;&#x8ba1;&#x4fe1;&#x606f;&#x5bf9;&#x8d44;&#x6e90;&#x9650;&#x6d41;&#x3002;&#x6bd4;&#x5982;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x8bbe;&#x7f6e; `strategy` &#x4e3a; `RuleConstant.STRATEGY_CHAIN`&#xff0c;&#x540c;&#x65f6;&#x8bbe;&#x7f6e; `refResource` &#x4e3a; `Entrance1` &#x6765;&#x8868;&#x793a;&#x53ea;&#x6709;&#x4ece;&#x5165;&#x53e3; `Entrance1` &#x7684;&#x8c03;&#x7528;&#x624d;&#x4f1a;&#x8bb0;&#x5f55;&#x5230; `NodeA` &#x7684;&#x9650;&#x6d41;&#x7edf;&#x8ba1;&#x5f53;&#x4e2d;&#xff0c;&#x800c;&#x4e0d;&#x5173;&#x5fc3;&#x7ecf; `Entrance2` &#x5230;&#x6765;&#x7684;&#x8c03;&#x7528;&#x3002;\n\n&#x540c;&#x7406;&#xff0c;&#x6211;&#x4eec;&#x73b0;&#x5728;&#x5bf9;`/goods/testB`&#x7684;&#x9650;&#x6d41;&#x90fd;&#x662f;&#x7ecf;&#x8fc7;`sentinel_spring_web_context`&#x8fd9;&#x4e2a;&#x865a;&#x62df;&#x8282;&#x70b9;&#x7684;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"282,285"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/596d4cce92e26fb215b4b3e1434da4d1.png\" alt>","children":[],"payload":{"tag":"img","lines":"286,287"}}],"payload":{"tag":"h3","lines":"257,258"}},{"content":"4.2.4&#x3001;&#x6d41;&#x63a7;&#x6548;&#x679c;&#xff1a;&#x5feb;&#x901f;&#x5931;&#x8d25;","children":[{"content":"<pre data-lines=\"290,291\"><code>**&#x5feb;&#x901f;&#x5931;&#x8d25;**&#xff08;`RuleConstant.CONTROL_BEHAVIOR_DEFAULT`&#xff09;&#x65b9;&#x5f0f;&#x662f;&#x9ed8;&#x8ba4;&#x7684;&#x6d41;&#x91cf;&#x63a7;&#x5236;&#x65b9;&#x5f0f;&#xff0c;&#x5f53;QPS&#x8d85;&#x8fc7;&#x4efb;&#x610f;&#x89c4;&#x5219;&#x7684;&#x9608;&#x503c;&#x540e;&#xff0c;&#x65b0;&#x7684;&#x8bf7;&#x6c42;&#x5c31;&#x4f1a;&#x88ab;&#x7acb;&#x5373;&#x62d2;&#x7edd;&#xff0c;&#x62d2;&#x7edd;&#x65b9;&#x5f0f;&#x4e3a;&#x629b;&#x51fa;`FlowException`&#x3002;&#x8fd9;&#x79cd;&#x65b9;&#x5f0f;&#x9002;&#x7528;&#x4e8e;&#x5bf9;&#x7cfb;&#x7edf;&#x5904;&#x7406;&#x80fd;&#x529b;&#x786e;&#x5207;&#x5df2;&#x77e5;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x6bd4;&#x5982;&#x901a;&#x8fc7;&#x538b;&#x6d4b;&#x786e;&#x5b9a;&#x4e86;&#x7cfb;&#x7edf;&#x7684;&#x51c6;&#x786e;&#x6c34;&#x4f4d;&#x65f6;&#x3002;&#x6211;&#x4eec;&#x4e4b;&#x524d;&#x6240;&#x6709;&#x7684;&#x6d4b;&#x8bd5;&#x7684;&#x6d41;&#x63a7;&#x6548;&#x679c;&#x90fd;&#x662f;&#x5feb;&#x901f;&#x5931;&#x8d25;&#xff0c;&#x5f53;&#x5931;&#x8d25;&#x4f1a;&#x663e;&#x793a;&#x5982;&#x4e0b;&#x4fe1;&#x606f;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"290,291"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/225425f7ab19aae8905347eac808baae.png\" alt>","children":[],"payload":{"tag":"img","lines":"292,293"}}],"payload":{"tag":"h3","lines":"288,289"}},{"content":"4.2.5&#x3001;&#x6d41;&#x63a7;&#x6548;&#x679c;&#xff1a;Warm Up","children":[{"content":"<pre data-lines=\"296,301\"><code>**Warm Up**&#xff08;`RuleConstant.CONTROL_BEHAVIOR_WARM_UP`&#xff09;&#x65b9;&#x5f0f;&#xff0c;&#x5373;&#x9884;&#x70ed;/&#x51b7;&#x542f;&#x52a8;&#x65b9;&#x5f0f;&#x3002;&#x5f53;&#x7cfb;&#x7edf;&#x957f;&#x671f;&#x5904;&#x4e8e;&#x4f4e;&#x6c34;&#x4f4d;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x5f53;&#x6d41;&#x91cf;&#x7a81;&#x7136;&#x589e;&#x52a0;&#x65f6;&#xff0c;&#x76f4;&#x63a5;&#x628a;&#x7cfb;&#x7edf;&#x62c9;&#x5347;&#x5230;&#x9ad8;&#x6c34;&#x4f4d;&#x53ef;&#x80fd;&#x77ac;&#x95f4;&#x628a;&#x7cfb;&#x7edf;&#x538b;&#x57ae;&#x3002;&#x901a;&#x8fc7;&quot;&#x51b7;&#x542f;&#x52a8;&quot;&#xff0c;&#x8ba9;&#x901a;&#x8fc7;&#x7684;&#x6d41;&#x91cf;&#x7f13;&#x6162;&#x589e;&#x52a0;&#xff0c;&#x5728;&#x4e00;&#x5b9a;&#x65f6;&#x95f4;&#x5185;&#x9010;&#x6e10;&#x589e;&#x52a0;&#x5230;&#x9608;&#x503c;&#x4e0a;&#x9650;&#xff0c;&#x7ed9;&#x51b7;&#x7cfb;&#x7edf;&#x4e00;&#x4e2a;&#x9884;&#x70ed;&#x7684;&#x65f6;&#x95f4;&#xff0c;&#x907f;&#x514d;&#x51b7;&#x7cfb;&#x7edf;&#x88ab;&#x538b;&#x57ae;&#x3002;\n\n&#x5f53;&#x6d41;&#x91cf;&#x7a81;&#x7136;&#x589e;&#x5927;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x6211;&#x4eec;&#x5e38;&#x5e38;&#x4f1a;&#x5e0c;&#x671b;&#x7cfb;&#x7edf;&#x4ece;&#x7a7a;&#x95f2;&#x72b6;&#x6001;&#x5230;&#x7e41;&#x5fd9;&#x72b6;&#x6001;&#x7684;&#x5207;&#x6362;&#x7684;&#x65f6;&#x95f4;&#x957f;&#x4e00;&#x4e9b;&#x3002;&#x5373;&#x5982;&#x679c;&#x7cfb;&#x7edf;&#x5728;&#x6b64;&#x4e4b;&#x524d;&#x957f;&#x671f;&#x5904;&#x4e8e;&#x7a7a;&#x95f2;&#x7684;&#x72b6;&#x6001;&#xff0c;&#x6211;&#x4eec;&#x5e0c;&#x671b;&#x5904;&#x7406;&#x8bf7;&#x6c42;&#x7684;&#x6570;&#x91cf;&#x662f;&#x7f13;&#x6b65;&#x7684;&#x589e;&#x591a;&#xff0c;&#x7ecf;&#x8fc7;&#x9884;&#x671f;&#x7684;&#x65f6;&#x95f4;&#x4ee5;&#x540e;&#xff0c;&#x5230;&#x8fbe;&#x7cfb;&#x7edf;&#x5904;&#x7406;&#x8bf7;&#x6c42;&#x4e2a;&#x6570;&#x7684;&#x6700;&#x5927;&#x503c;&#x3002;Warm Up&#xff08;&#x51b7;&#x542f;&#x52a8;&#xff0c;&#x9884;&#x70ed;&#xff09;&#x6a21;&#x5f0f;&#x5c31;&#x662f;&#x4e3a;&#x4e86;&#x5b9e;&#x73b0;&#x8fd9;&#x4e2a;&#x76ee;&#x7684;&#x7684;&#x3002;\n\n&#x901a;&#x5e38;&#x51b7;&#x542f;&#x52a8;&#x7684;&#x8fc7;&#x7a0b;&#x7cfb;&#x7edf;&#x5141;&#x8bb8;&#x901a;&#x8fc7;&#x7684; QPS &#x66f2;&#x7ebf;&#x5982;&#x4e0b;&#x56fe;&#x6240;&#x793a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"296,301"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/c7c35ff350f33d9966fb0a5a47eb4896.png\" alt>","children":[],"payload":{"tag":"img","lines":"302,303"}}],"payload":{"tag":"h3","lines":"294,295"}},{"content":"4.2.6&#x3001;&#x6d41;&#x63a7;&#x6548;&#x679c;&#xff1a;&#x6392;&#x961f;&#x7b49;&#x5f85;","children":[{"content":"<pre data-lines=\"306,313\"><code>**&#x6392;&#x961f;&#x7b49;&#x5f85;**&#xff08;`RuleConstant.CONTROL_BEHAVIOR_RATE_LIMITER`&#xff09;&#x65b9;&#x5f0f;&#x4f1a;&#x4e25;&#x683c;&#x63a7;&#x5236;&#x8bf7;&#x6c42;&#x901a;&#x8fc7;&#x7684;&#x95f4;&#x9694;&#x65f6;&#x95f4;&#xff0c;&#x4e5f;&#x5373;&#x662f;&#x8ba9;&#x8bf7;&#x6c42;&#x4ee5;&#x5747;&#x5300;&#x7684;&#x901f;&#x5ea6;&#x901a;&#x8fc7;&#xff0c;&#x5bf9;&#x5e94;&#x7684;&#x662f;&#x6f0f;&#x6876;&#x7b97;&#x6cd5;&#x3002;\n\n&#x5b83;&#x7684;&#x4e2d;&#x5fc3;&#x601d;&#x60f3;&#x662f;&#xff0c;&#x4ee5;&#x56fa;&#x5b9a;&#x7684;&#x95f4;&#x9694;&#x65f6;&#x95f4;&#x8ba9;&#x8bf7;&#x6c42;&#x901a;&#x8fc7;&#x3002;&#x5f53;&#x8bf7;&#x6c42;&#x5230;&#x6765;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x5982;&#x679c;&#x5f53;&#x524d;&#x8bf7;&#x6c42;&#x8ddd;&#x79bb;&#x4e0a;&#x4e2a;&#x901a;&#x8fc7;&#x7684;&#x8bf7;&#x6c42;&#x901a;&#x8fc7;&#x7684;&#x65f6;&#x95f4;&#x95f4;&#x9694;&#x4e0d;&#x5c0f;&#x4e8e;&#x9884;&#x8bbe;&#x503c;&#xff0c;&#x5219;&#x8ba9;&#x5f53;&#x524d;&#x8bf7;&#x6c42;&#x901a;&#x8fc7;&#xff1b;&#x5426;&#x5219;&#xff0c;&#x8ba1;&#x7b97;&#x5f53;&#x524d;&#x8bf7;&#x6c42;&#x7684;&#x9884;&#x671f;&#x901a;&#x8fc7;&#x65f6;&#x95f4;&#xff0c;&#x5982;&#x679c;&#x8be5;&#x8bf7;&#x6c42;&#x7684;&#x9884;&#x671f;&#x901a;&#x8fc7;&#x65f6;&#x95f4;&#x5c0f;&#x4e8e;&#x89c4;&#x5219;&#x9884;&#x8bbe;&#x7684; timeout &#x65f6;&#x95f4;&#xff0c;&#x5219;&#x8be5;&#x8bf7;&#x6c42;&#x4f1a;&#x7b49;&#x5f85;&#x76f4;&#x5230;&#x9884;&#x8bbe;&#x65f6;&#x95f4;&#x5230;&#x6765;&#x901a;&#x8fc7;&#xff08;&#x6392;&#x961f;&#x7b49;&#x5f85;&#x5904;&#x7406;&#xff09;&#xff1b;&#x82e5;&#x9884;&#x671f;&#x7684;&#x901a;&#x8fc7;&#x65f6;&#x95f4;&#x8d85;&#x51fa;&#x6700;&#x5927;&#x6392;&#x961f;&#x65f6;&#x957f;&#xff0c;&#x5219;&#x76f4;&#x63a5;&#x62d2;&#x63a5;&#x8fd9;&#x4e2a;&#x8bf7;&#x6c42;&#x3002;\n\n&#x8fd9;&#x79cd;&#x65b9;&#x5f0f;&#x9002;&#x5408;&#x7528;&#x4e8e;&#x8bf7;&#x6c42;&#x4ee5;&#x7a81;&#x523a;&#x72b6;&#x6765;&#x5230;&#xff0c;&#x8fd9;&#x4e2a;&#x65f6;&#x5019;&#x6211;&#x4eec;&#x4e0d;&#x5e0c;&#x671b;&#x4e00;&#x4e0b;&#x5b50;&#x628a;&#x6240;&#x6709;&#x7684;&#x8bf7;&#x6c42;&#x90fd;&#x901a;&#x8fc7;&#xff0c;&#x8fd9;&#x6837;&#x53ef;&#x80fd;&#x4f1a;&#x628a;&#x7cfb;&#x7edf;&#x538b;&#x57ae;&#xff1b;&#x540c;&#x65f6;&#x6211;&#x4eec;&#x4e5f;&#x671f;&#x5f85;&#x7cfb;&#x7edf;&#x4ee5;&#x7a33;&#x5b9a;&#x7684;&#x901f;&#x5ea6;&#xff0c;&#x9010;&#x6b65;&#x5904;&#x7406;&#x8fd9;&#x4e9b;&#x8bf7;&#x6c42;&#xff0c;&#x4ee5;&#x8d77;&#x5230;&#x201c;&#x524a;&#x5cf0;&#x586b;&#x8c37;&#x201d;&#x7684;&#x6548;&#x679c;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x62d2;&#x7edd;&#x6240;&#x6709;&#x8bf7;&#x6c42;&#x3002;\n\n&#x4f8b;&#x5982;&#xff0c;&#x5982;&#x679c;&#x7cfb;&#x7edf;&#x4f7f;&#x7528; Apache RocketMQ &#x6765;&#x6536;&#x53d1;&#x6d88;&#x606f;&#xff0c;&#x7cfb;&#x7edf;&#x5728;&#x67d0;&#x4e2a;&#x65f6;&#x95f4;&#x7a81;&#x7136;&#x6536;&#x5230;&#x5927;&#x91cf;&#x6d88;&#x606f;&#x3002;&#x6211;&#x4eec;&#x5e0c;&#x671b;&#x4ee5;&#x56fa;&#x5b9a;&#x7684;&#x901f;&#x7387;&#x6765;&#x5904;&#x7406;&#x6d88;&#x606f;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x4e00;&#x4e0b;&#x5b50;&#x62d2;&#x7edd;&#x8fd9;&#x4e9b;&#x6d88;&#x606f;&#x3002;&#x8fd9;&#x4e2a;&#x65f6;&#x5019;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x5300;&#x901f;&#x5668;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x7ed9;&#x6d88;&#x606f;**&#x6392;&#x961f;**&#x3002;&#x6548;&#x679c;&#x5982;&#x4e0b;&#x6240;&#x793a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"306,313"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/13a7349d3aed23c06f45676744cfd6ea.png\" alt>","children":[],"payload":{"tag":"img","lines":"314,315"}},{"content":"<pre data-lines=\"316,317\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x5300;&#x901f;&#x6392;&#x961f;&#x6a21;&#x5f0f;&#x6682;&#x65f6;&#x4e0d;&#x652f;&#x6301; QPS &gt; 1000 &#x7684;&#x573a;&#x666f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"316,317"}}],"payload":{"tag":"h3","lines":"304,305"}}],"payload":{"tag":"h2","lines":"198,200"}},{"content":"5.1&#x3001;&#x89c4;&#x5219;&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"321,324\"><code>&#x5b98;&#x65b9;&#x8bf4;&#x660e;&#xff1a;https://github.com/alibaba/Sentinel/wiki/%E7%86%94%E6%96%AD%E9%99%8D%E7%BA%A7\n\n&#x9664;&#x4e86;&#x6d41;&#x91cf;&#x63a7;&#x5236;&#x4ee5;&#x5916;&#xff0c;&#x5bf9;&#x8c03;&#x7528;&#x94fe;&#x8def;&#x4e2d;&#x4e0d;&#x7a33;&#x5b9a;&#x7684;&#x8d44;&#x6e90;&#x8fdb;&#x884c;&#x7194;&#x65ad;&#x964d;&#x7ea7;&#x4e5f;&#x662f;&#x4fdd;&#x969c;&#x9ad8;&#x53ef;&#x7528;&#x7684;&#x91cd;&#x8981;&#x63aa;&#x65bd;&#x4e4b;&#x4e00;&#x3002;&#x4e00;&#x4e2a;&#x670d;&#x52a1;&#x5e38;&#x5e38;&#x4f1a;&#x8c03;&#x7528;&#x522b;&#x7684;&#x6a21;&#x5757;&#xff0c;&#x53ef;&#x80fd;&#x662f;&#x53e6;&#x5916;&#x7684;&#x4e00;&#x4e2a;&#x8fdc;&#x7a0b;&#x670d;&#x52a1;&#x3001;&#x6570;&#x636e;&#x5e93;&#xff0c;&#x6216;&#x8005;&#x7b2c;&#x4e09;&#x65b9; API &#x7b49;&#x3002;&#x4f8b;&#x5982;&#xff0c;&#x652f;&#x4ed8;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x53ef;&#x80fd;&#x9700;&#x8981;&#x8fdc;&#x7a0b;&#x8c03;&#x7528;&#x94f6;&#x8054;&#x63d0;&#x4f9b;&#x7684; API&#xff1b;&#x67e5;&#x8be2;&#x67d0;&#x4e2a;&#x5546;&#x54c1;&#x7684;&#x4ef7;&#x683c;&#xff0c;&#x53ef;&#x80fd;&#x9700;&#x8981;&#x8fdb;&#x884c;&#x6570;&#x636e;&#x5e93;&#x67e5;&#x8be2;&#x3002;&#x7136;&#x800c;&#xff0c;&#x8fd9;&#x4e2a;&#x88ab;&#x4f9d;&#x8d56;&#x670d;&#x52a1;&#x7684;&#x7a33;&#x5b9a;&#x6027;&#x662f;&#x4e0d;&#x80fd;&#x4fdd;&#x8bc1;&#x7684;&#x3002;&#x5982;&#x679c;&#x4f9d;&#x8d56;&#x7684;&#x670d;&#x52a1;&#x51fa;&#x73b0;&#x4e86;&#x4e0d;&#x7a33;&#x5b9a;&#x7684;&#x60c5;&#x51b5;&#xff0c;&#x8bf7;&#x6c42;&#x7684;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x53d8;&#x957f;&#xff0c;&#x90a3;&#x4e48;&#x8c03;&#x7528;&#x670d;&#x52a1;&#x7684;&#x65b9;&#x6cd5;&#x7684;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x4e5f;&#x4f1a;&#x53d8;&#x957f;&#xff0c;&#x7ebf;&#x7a0b;&#x4f1a;&#x4ea7;&#x751f;&#x5806;&#x79ef;&#xff0c;&#x6700;&#x7ec8;&#x53ef;&#x80fd;&#x8017;&#x5c3d;&#x4e1a;&#x52a1;&#x81ea;&#x8eab;&#x7684;&#x7ebf;&#x7a0b;&#x6c60;&#xff0c;&#x670d;&#x52a1;&#x672c;&#x8eab;&#x4e5f;&#x53d8;&#x5f97;&#x4e0d;&#x53ef;&#x7528;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"321,324"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a86b4ec37d1bbec6123c5763137f3563.png\" alt>","children":[],"payload":{"tag":"img","lines":"325,326"}},{"content":"<pre data-lines=\"327,328\"><code>&#x73b0;&#x4ee3;&#x5fae;&#x670d;&#x52a1;&#x67b6;&#x6784;&#x90fd;&#x662f;&#x5206;&#x5e03;&#x5f0f;&#x7684;&#xff0c;&#x7531;&#x975e;&#x5e38;&#x591a;&#x7684;&#x670d;&#x52a1;&#x7ec4;&#x6210;&#x3002;&#x4e0d;&#x540c;&#x670d;&#x52a1;&#x4e4b;&#x95f4;&#x76f8;&#x4e92;&#x8c03;&#x7528;&#xff0c;&#x7ec4;&#x6210;&#x590d;&#x6742;&#x7684;&#x8c03;&#x7528;&#x94fe;&#x8def;&#x3002;&#x4ee5;&#x4e0a;&#x7684;&#x95ee;&#x9898;&#x5728;&#x94fe;&#x8def;&#x8c03;&#x7528;&#x4e2d;&#x4f1a;&#x4ea7;&#x751f;&#x653e;&#x5927;&#x7684;&#x6548;&#x679c;&#x3002;&#x590d;&#x6742;&#x94fe;&#x8def;&#x4e0a;&#x7684;&#x67d0;&#x4e00;&#x73af;&#x4e0d;&#x7a33;&#x5b9a;&#xff0c;&#x5c31;&#x53ef;&#x80fd;&#x4f1a;&#x5c42;&#x5c42;&#x7ea7;&#x8054;&#xff0c;&#x6700;&#x7ec8;&#x5bfc;&#x81f4;&#x6574;&#x4e2a;&#x94fe;&#x8def;&#x90fd;&#x4e0d;&#x53ef;&#x7528;&#x3002;&#x56e0;&#x6b64;&#x6211;&#x4eec;&#x9700;&#x8981;&#x5bf9;&#x4e0d;&#x7a33;&#x5b9a;&#x7684;**&#x5f31;&#x4f9d;&#x8d56;&#x670d;&#x52a1;&#x8c03;&#x7528;**&#x8fdb;&#x884c;&#x7194;&#x65ad;&#x964d;&#x7ea7;&#xff0c;&#x6682;&#x65f6;&#x5207;&#x65ad;&#x4e0d;&#x7a33;&#x5b9a;&#x8c03;&#x7528;&#xff0c;&#x907f;&#x514d;&#x5c40;&#x90e8;&#x4e0d;&#x7a33;&#x5b9a;&#x56e0;&#x7d20;&#x5bfc;&#x81f4;&#x6574;&#x4f53;&#x7684;&#x96ea;&#x5d29;&#x3002;&#x7194;&#x65ad;&#x964d;&#x7ea7;&#x4f5c;&#x4e3a;&#x4fdd;&#x62a4;&#x81ea;&#x8eab;&#x7684;&#x624b;&#x6bb5;&#xff0c;&#x901a;&#x5e38;&#x5728;&#x5ba2;&#x6237;&#x7aef;&#xff08;&#x8c03;&#x7528;&#x7aef;&#xff09;&#x8fdb;&#x884c;&#x914d;&#x7f6e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"327,328"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/012df120306e406b0694571ec4f2e7ca.png\" alt>","children":[],"payload":{"tag":"img","lines":"329,330"}},{"content":"<pre data-lines=\"331,340\"><code>Sentinel &#x63d0;&#x4f9b;&#x4ee5;&#x4e0b;&#x51e0;&#x79cd;&#x7194;&#x65ad;&#x7b56;&#x7565;&#xff1a;\n\n*   &#x6162;&#x8c03;&#x7528;&#x6bd4;&#x4f8b; (`SLOW_REQUEST_RATIO`)&#xff1a;&#x9009;&#x62e9;&#x4ee5;&#x6162;&#x8c03;&#x7528;&#x6bd4;&#x4f8b;&#x4f5c;&#x4e3a;&#x9608;&#x503c;&#xff0c;&#x9700;&#x8981;&#x8bbe;&#x7f6e;&#x5141;&#x8bb8;&#x7684;&#x6162;&#x8c03;&#x7528; RT&#xff08;&#x5373;&#x6700;&#x5927;&#x7684;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#xff09;&#xff0c;&#x8bf7;&#x6c42;&#x7684;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x5927;&#x4e8e;&#x8be5;&#x503c;&#x5219;&#x7edf;&#x8ba1;&#x4e3a;&#x6162;&#x8c03;&#x7528;&#x3002;&#x5f53;&#x5355;&#x4f4d;&#x7edf;&#x8ba1;&#x65f6;&#x957f;&#xff08;`statIntervalMs`&#xff09;&#x5185;&#x8bf7;&#x6c42;&#x6570;&#x76ee;&#x5927;&#x4e8e;&#x8bbe;&#x7f6e;&#x7684;&#x6700;&#x5c0f;&#x8bf7;&#x6c42;&#x6570;&#x76ee;&#xff0c;&#x5e76;&#x4e14;&#x6162;&#x8c03;&#x7528;&#x7684;&#x6bd4;&#x4f8b;&#x5927;&#x4e8e;&#x9608;&#x503c;&#xff0c;&#x5219;&#x63a5;&#x4e0b;&#x6765;&#x7684;&#x7194;&#x65ad;&#x65f6;&#x957f;&#x5185;&#x8bf7;&#x6c42;&#x4f1a;&#x81ea;&#x52a8;&#x88ab;&#x7194;&#x65ad;&#x3002;&#x7ecf;&#x8fc7;&#x7194;&#x65ad;&#x65f6;&#x957f;&#x540e;&#x7194;&#x65ad;&#x5668;&#x4f1a;&#x8fdb;&#x5165;&#x63a2;&#x6d4b;&#x6062;&#x590d;&#x72b6;&#x6001;&#xff08;HALF-OPEN &#x72b6;&#x6001;&#xff09;&#xff0c;&#x82e5;&#x63a5;&#x4e0b;&#x6765;&#x7684;&#x4e00;&#x4e2a;&#x8bf7;&#x6c42;&#x54cd;&#x5e94;&#x65f6;&#x95f4;&#x5c0f;&#x4e8e;&#x8bbe;&#x7f6e;&#x7684;&#x6162;&#x8c03;&#x7528; RT &#x5219;&#x7ed3;&#x675f;&#x7194;&#x65ad;&#xff0c;&#x82e5;&#x5927;&#x4e8e;&#x8bbe;&#x7f6e;&#x7684;&#x6162;&#x8c03;&#x7528; RT &#x5219;&#x4f1a;&#x518d;&#x6b21;&#x88ab;&#x7194;&#x65ad;&#x3002;\n*   &#x5f02;&#x5e38;&#x6bd4;&#x4f8b; (`ERROR_RATIO`)&#xff1a;&#x5f53;&#x5355;&#x4f4d;&#x7edf;&#x8ba1;&#x65f6;&#x957f;&#xff08;`statIntervalMs`&#xff09;&#x5185;&#x8bf7;&#x6c42;&#x6570;&#x76ee;&#x5927;&#x4e8e;&#x8bbe;&#x7f6e;&#x7684;&#x6700;&#x5c0f;&#x8bf7;&#x6c42;&#x6570;&#x76ee;&#xff0c;&#x5e76;&#x4e14;&#x5f02;&#x5e38;&#x7684;&#x6bd4;&#x4f8b;&#x5927;&#x4e8e;&#x9608;&#x503c;&#xff0c;&#x5219;&#x63a5;&#x4e0b;&#x6765;&#x7684;&#x7194;&#x65ad;&#x65f6;&#x957f;&#x5185;&#x8bf7;&#x6c42;&#x4f1a;&#x81ea;&#x52a8;&#x88ab;&#x7194;&#x65ad;&#x3002;&#x7ecf;&#x8fc7;&#x7194;&#x65ad;&#x65f6;&#x957f;&#x540e;&#x7194;&#x65ad;&#x5668;&#x4f1a;&#x8fdb;&#x5165;&#x63a2;&#x6d4b;&#x6062;&#x590d;&#x72b6;&#x6001;&#xff08;HALF-OPEN &#x72b6;&#x6001;&#xff09;&#xff0c;&#x82e5;&#x63a5;&#x4e0b;&#x6765;&#x7684;&#x4e00;&#x4e2a;&#x8bf7;&#x6c42;&#x6210;&#x529f;&#x5b8c;&#x6210;&#xff08;&#x6ca1;&#x6709;&#x9519;&#x8bef;&#xff09;&#x5219;&#x7ed3;&#x675f;&#x7194;&#x65ad;&#xff0c;&#x5426;&#x5219;&#x4f1a;&#x518d;&#x6b21;&#x88ab;&#x7194;&#x65ad;&#x3002;&#x5f02;&#x5e38;&#x6bd4;&#x7387;&#x7684;&#x9608;&#x503c;&#x8303;&#x56f4;&#x662f; `[0.0, 1.0]`&#xff0c;&#x4ee3;&#x8868; 0% - 100%&#x3002;\n*   &#x5f02;&#x5e38;&#x6570; (`ERROR_COUNT`)&#xff1a;&#x5f53;&#x5355;&#x4f4d;&#x7edf;&#x8ba1;&#x65f6;&#x957f;&#x5185;&#x7684;&#x5f02;&#x5e38;&#x6570;&#x76ee;&#x8d85;&#x8fc7;&#x9608;&#x503c;&#x4e4b;&#x540e;&#x4f1a;&#x81ea;&#x52a8;&#x8fdb;&#x884c;&#x7194;&#x65ad;&#x3002;&#x7ecf;&#x8fc7;&#x7194;&#x65ad;&#x65f6;&#x957f;&#x540e;&#x7194;&#x65ad;&#x5668;&#x4f1a;&#x8fdb;&#x5165;&#x63a2;&#x6d4b;&#x6062;&#x590d;&#x72b6;&#x6001;&#xff08;HALF-OPEN &#x72b6;&#x6001;&#xff09;&#xff0c;&#x82e5;&#x63a5;&#x4e0b;&#x6765;&#x7684;&#x4e00;&#x4e2a;&#x8bf7;&#x6c42;&#x6210;&#x529f;&#x5b8c;&#x6210;&#xff08;&#x6ca1;&#x6709;&#x9519;&#x8bef;&#xff09;&#x5219;&#x7ed3;&#x675f;&#x7194;&#x65ad;&#xff0c;&#x5426;&#x5219;&#x4f1a;&#x518d;&#x6b21;&#x88ab;&#x7194;&#x65ad;&#x3002;\n\n&#x6700;&#x5c0f;&#x8bf7;&#x6c42;&#x6570;&#xff1a;&#x89e6;&#x53d1;&#x7194;&#x65ad;&#x7684;&#x6700;&#x5c0f;&#x8bf7;&#x6c42;&#x6570;&#x76ee;&#xff0c;&#x82e5;&#x5f53;&#x524d;&#x7edf;&#x8ba1;&#x7a97;&#x53e3;&#x5185;&#x7684;&#x8bf7;&#x6c42;&#x6570;&#x5c0f;&#x4e8e;&#x6b64;&#x503c;&#xff0c;&#x5373;&#x4f7f;&#x8fbe;&#x5230;&#x7194;&#x65ad;&#x6761;&#x4ef6;&#x89c4;&#x5219;&#x4e5f;&#x4e0d;&#x4f1a;&#x89e6;&#x53d1;&#x3002;\n\n&#x6ce8;&#x610f;&#xff1a;&#x5f02;&#x5e38;&#x964d;&#x7ea7;**&#x4ec5;&#x9488;&#x5bf9;&#x4e1a;&#x52a1;&#x5f02;&#x5e38;**&#xff0c;&#x5bf9; Sentinel &#x9650;&#x6d41;&#x964d;&#x7ea7;&#x672c;&#x8eab;&#x7684;&#x5f02;&#x5e38;&#xff08;`BlockException`&#xff09;&#x4e0d;&#x751f;&#x6548;&#x3002;&#x4e3a;&#x4e86;&#x7edf;&#x8ba1;&#x5f02;&#x5e38;&#x6bd4;&#x4f8b;&#x6216;&#x5f02;&#x5e38;&#x6570;&#xff0c;&#x9700;&#x8981;&#x901a;&#x8fc7; `Tracer.trace(ex)` &#x8bb0;&#x5f55;&#x4e1a;&#x52a1;&#x5f02;&#x5e38;&#x3002;&#x5f00;&#x6e90;&#x6574;&#x5408;&#x6a21;&#x5757;&#xff0c;&#x5982; Sentinel Dubbo Adapter, Sentinel Web Servlet Filter &#x6216; `@SentinelResource` &#x6ce8;&#x89e3;&#x4f1a;&#x81ea;&#x52a8;&#x7edf;&#x8ba1;&#x4e1a;&#x52a1;&#x5f02;&#x5e38;&#xff0c;&#x65e0;&#x9700;&#x624b;&#x52a8;&#x8c03;&#x7528;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"331,340"}}],"payload":{"tag":"h2","lines":"318,320"}},{"content":"5.2&#x3001;&#x89c4;&#x5219;&#x6f14;&#x793a;","children":[{"content":"5.2.1&#x3001;&#x7194;&#x65ad;&#x7b56;&#x7565;&#xff1a;&#x6162;&#x8c03;&#x7528;&#x6bd4;&#x4f8b;","children":[{"content":"<pre data-lines=\"346,347\"><code>&#xff08;1&#xff09;&#x4fee;&#x6539;`service-goods`&#x7684;`GoodsController`&#x7684;`findByGid`&#x65b9;&#x6cd5;&#xff0c;&#x7136;&#x540e;&#x91cd;&#x542f;&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"346,347"}},{"content":"<pre data-lines=\"348,367\"><code class=\"language-java\"><span class=\"hljs-meta\">@RequestMapping(&quot;/goods/findByGid&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">findByGid</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@RequestParam(&quot;gid&quot;)</span> String gid)</span> {\n    \n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;0&quot;</span>.equals(gid)) {\n        <span class=\"hljs-keyword\">try</span> { Thread.sleep(<span class=\"hljs-number\">500</span>); } <span class=\"hljs-keyword\">catch</span> (Exception e) {}\n    }\n    \n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;1&quot;</span>.equals(gid)) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;server port:&quot;</span> + port + <span class=\"hljs-string\">&quot;,findByGid:&quot;</span> + gid;\n    }\n    \n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;2&quot;</span>.equals(gid)) {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span> / <span class=\"hljs-number\">0</span>;\n    }\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;other ...&quot;</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"348,367"}},{"content":"<pre data-lines=\"368,371\"><code>&#xff08;2&#xff09;&#x8bbf;&#x95ee;&#x6d4b;&#x8bd5;&#x65b9;&#x6cd5;&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/findByGid?gid=1\n\n&#xff08;3&#xff09;&#x6dfb;&#x52a0;&#x964d;&#x7ea7;&#x89c4;&#x5219;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"368,371"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/c391d12429a08a4954774156a50f4019.png\" alt>","children":[],"payload":{"tag":"img","lines":"372,373"}},{"content":"<pre data-lines=\"374,375\"><code>&#xff08;4&#xff09;&#x8bbf;&#x95ee;&#x8d85;&#x65f6;&#x65b9;&#x6cd5;&#xff0c;&#x8fde;&#x7eed;&#x591a;&#x6b21;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/findByGid?gid=0\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"374,375"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/c2d0fc900f0e915d2c414c3b4679b714.png\" alt>","children":[],"payload":{"tag":"img","lines":"376,377"}},{"content":"<pre data-lines=\"378,379\"><code>&#xff08;5&#xff09;&#x5982;&#x679c;&#x6b64;&#x65f6;&#x8bbf;&#x95ee;&#x6b63;&#x5e38;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/findByGid?gid=1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"378,379"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/8a29eb27e0e0720b06e36d19da11d871.png\" alt>","children":[],"payload":{"tag":"img","lines":"380,381"}},{"content":"<pre data-lines=\"382,383\"><code>&#xff08;6&#xff09;&#x8fc7;&#x4e00;&#x4f1a;&#xff0c;&#x518d;&#x6b21;&#x8bbf;&#x95ee;&#x6b63;&#x5e38;&#x7684;&#x4e1a;&#x52a1;&#x5730;&#x5740;&#xff0c;&#x53d1;&#x73b0;&#x670d;&#x52a1;&#x53c8;&#x6062;&#x590d;&#x4e86;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"382,383"}}],"payload":{"tag":"h3","lines":"344,345"}},{"content":"5.2.2&#x3001;&#x7194;&#x65ad;&#x7b56;&#x7565;&#xff1a;&#x5f02;&#x5e38;&#x6bd4;&#x4f8b;","children":[{"content":"<pre data-lines=\"386,387\"><code>&#xff08;1&#xff09;&#x4fee;&#x6539;&#x964d;&#x7ea7;&#x89c4;&#x5219;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"386,387"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/4976c40d17c5f816d36223e0cef111b3.png\" alt>","children":[],"payload":{"tag":"img","lines":"388,389"}},{"content":"<pre data-lines=\"390,391\"><code>&#xff08;2&#xff09;&#x8bbf;&#x95ee;&#x51fa;&#x9519;&#x5730;&#x5740;&#xff0c;&#x8fde;&#x7eed;&#x591a;&#x6b21;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/findByGid?gid=2\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"390,391"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/99dff1e47114c6f594914912981973e0.png\" alt>","children":[],"payload":{"tag":"img","lines":"392,393"}},{"content":"<pre data-lines=\"394,395\"><code>&#xff08;3&#xff09;&#x5982;&#x679c;&#x6b64;&#x65f6;&#x8bbf;&#x95ee;&#x6b63;&#x5e38;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/findByGid?gid=1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"394,395"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/8a29eb27e0e0720b06e36d19da11d871.png\" alt>","children":[],"payload":{"tag":"img","lines":"396,397"}},{"content":"<pre data-lines=\"398,399\"><code>&#xff08;4&#xff09;&#x8fc7;&#x4e00;&#x4f1a;&#xff0c;&#x518d;&#x6b21;&#x8bbf;&#x95ee;&#x6b63;&#x5e38;&#x7684;&#x4e1a;&#x52a1;&#x5730;&#x5740;&#xff0c;&#x53d1;&#x73b0;&#x670d;&#x52a1;&#x53c8;&#x6062;&#x590d;&#x4e86;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"398,399"}}],"payload":{"tag":"h3","lines":"384,385"}},{"content":"5.2.3&#x3001;&#x7194;&#x65ad;&#x7b56;&#x7565;&#xff1a;&#x5f02;&#x5e38;&#x6570;","children":[{"content":"<pre data-lines=\"402,403\"><code>&#xff08;1&#xff09;&#x4fee;&#x6539;&#x964d;&#x7ea7;&#x89c4;&#x5219;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"402,403"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d2ca50a01b463efe58296b41d8ac0a5a.png\" alt>","children":[],"payload":{"tag":"img","lines":"404,405"}},{"content":"<pre data-lines=\"406,407\"><code>&#xff08;2&#xff09;&#x8bbf;&#x95ee;&#x51fa;&#x9519;&#x5730;&#x5740;&#xff0c;&#x8fde;&#x7eed;&#x591a;&#x6b21;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/findByGid?gid=2\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"406,407"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/99dff1e47114c6f594914912981973e0.png\" alt>","children":[],"payload":{"tag":"img","lines":"408,409"}},{"content":"<pre data-lines=\"410,411\"><code>&#xff08;3&#xff09;&#x5982;&#x679c;&#x6b64;&#x65f6;&#x8bbf;&#x95ee;&#x6b63;&#x5e38;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/findByGid?gid=1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"410,411"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/8a29eb27e0e0720b06e36d19da11d871.png\" alt>","children":[],"payload":{"tag":"img","lines":"412,413"}},{"content":"<pre data-lines=\"414,415\"><code>&#xff08;4&#xff09;&#x8fc7;&#x4e00;&#x4f1a;&#xff0c;&#x518d;&#x6b21;&#x8bbf;&#x95ee;&#x6b63;&#x5e38;&#x7684;&#x4e1a;&#x52a1;&#x5730;&#x5740;&#xff0c;&#x53d1;&#x73b0;&#x670d;&#x52a1;&#x53c8;&#x6062;&#x590d;&#x4e86;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"414,415"}}],"payload":{"tag":"h3","lines":"400,401"}}],"payload":{"tag":"h2","lines":"341,343"}},{"content":"6.1&#x3001;&#x89c4;&#x5219;&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"419,429\"><code>&#x5b98;&#x65b9;&#x8bf4;&#x660e;&#xff1a;https://github.com/alibaba/Sentinel/wiki/%E7%83%AD%E7%82%B9%E5%8F%82%E6%95%B0%E9%99%90%E6%B5%81\n\n&#x4f55;&#x4e3a;&#x70ed;&#x70b9;&#xff1f;&#x70ed;&#x70b9;&#x5373;&#x7ecf;&#x5e38;&#x8bbf;&#x95ee;&#x7684;&#x6570;&#x636e;&#x3002;&#x5f88;&#x591a;&#x65f6;&#x5019;&#x6211;&#x4eec;&#x5e0c;&#x671b;&#x7edf;&#x8ba1;&#x67d0;&#x4e2a;&#x70ed;&#x70b9;&#x6570;&#x636e;&#x4e2d;&#x8bbf;&#x95ee;&#x9891;&#x6b21;&#x6700;&#x9ad8;&#x7684; Top K &#x6570;&#x636e;&#xff0c;&#x5e76;&#x5bf9;&#x5176;&#x8bbf;&#x95ee;&#x8fdb;&#x884c;&#x9650;&#x5236;&#x3002;&#x6bd4;&#x5982;&#xff1a;\n\n*   &#x5546;&#x54c1; ID &#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x7edf;&#x8ba1;&#x4e00;&#x6bb5;&#x65f6;&#x95f4;&#x5185;&#x6700;&#x5e38;&#x8d2d;&#x4e70;&#x7684;&#x5546;&#x54c1; ID &#x5e76;&#x8fdb;&#x884c;&#x9650;&#x5236;\n*   &#x7528;&#x6237; ID &#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x9488;&#x5bf9;&#x4e00;&#x6bb5;&#x65f6;&#x95f4;&#x5185;&#x9891;&#x7e41;&#x8bbf;&#x95ee;&#x7684;&#x7528;&#x6237; ID &#x8fdb;&#x884c;&#x9650;&#x5236;\n\n&#x70ed;&#x70b9;&#x53c2;&#x6570;&#x9650;&#x6d41;&#x4f1a;&#x7edf;&#x8ba1;&#x4f20;&#x5165;&#x53c2;&#x6570;&#x4e2d;&#x7684;&#x70ed;&#x70b9;&#x53c2;&#x6570;&#xff0c;&#x5e76;&#x6839;&#x636e;&#x914d;&#x7f6e;&#x7684;&#x9650;&#x6d41;&#x9608;&#x503c;&#x4e0e;&#x6a21;&#x5f0f;&#xff0c;&#x5bf9;&#x5305;&#x542b;&#x70ed;&#x70b9;&#x53c2;&#x6570;&#x7684;&#x8d44;&#x6e90;&#x8c03;&#x7528;&#x8fdb;&#x884c;&#x9650;&#x6d41;&#x3002;&#x70ed;&#x70b9;&#x53c2;&#x6570;&#x9650;&#x6d41;&#x53ef;&#x4ee5;&#x770b;&#x505a;&#x662f;&#x4e00;&#x79cd;&#x7279;&#x6b8a;&#x7684;&#x6d41;&#x91cf;&#x63a7;&#x5236;&#xff0c;&#x4ec5;&#x5bf9;&#x5305;&#x542b;&#x70ed;&#x70b9;&#x53c2;&#x6570;&#x7684;&#x8d44;&#x6e90;&#x8c03;&#x7528;&#x751f;&#x6548;&#x3002;\n\nSentinel &#x5229;&#x7528; LRU &#x7b56;&#x7565;&#x7edf;&#x8ba1;&#x6700;&#x8fd1;&#x6700;&#x5e38;&#x8bbf;&#x95ee;&#x7684;&#x70ed;&#x70b9;&#x53c2;&#x6570;&#xff0c;&#x7ed3;&#x5408;&#x4ee4;&#x724c;&#x6876;&#x7b97;&#x6cd5;&#x6765;&#x8fdb;&#x884c;&#x53c2;&#x6570;&#x7ea7;&#x522b;&#x7684;&#x6d41;&#x63a7;&#x3002;&#x70ed;&#x70b9;&#x53c2;&#x6570;&#x9650;&#x6d41;&#x652f;&#x6301;&#x96c6;&#x7fa4;&#x6a21;&#x5f0f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"419,429"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/b34736c39370a2c3df8cce4b172cbee0.png\" alt>","children":[],"payload":{"tag":"img","lines":"430,431"}},{"content":"<pre data-lines=\"432,433\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x70ed;&#x70b9;&#x89c4;&#x5219;&#x9700;&#x8981;&#x4f7f;&#x7528;@SentinelResource(&#x201c;app&#x201d;)&#x6ce8;&#x89e3;&#xff0c;&#x5426;&#x5219;&#x4e0d;&#x751f;&#x6548;&#xff0c;&#x5e76;&#x4e14;&#x53c2;&#x6570;&#x5fc5;&#x987b;&#x662f;7&#x79cd;&#x57fa;&#x672c;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x624d;&#x4f1a;&#x751f;&#x6548;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"432,433"}}],"payload":{"tag":"h2","lines":"416,418"}},{"content":"6.2&#x3001;&#x89c4;&#x5219;&#x6f14;&#x793a;","children":[{"content":"6.2.1&#x3001;&#x70ed;&#x70b9;&#x53c2;&#x6570;&#x9650;&#x6d41;","children":[{"content":"<pre data-lines=\"439,440\"><code>&#xff08;1&#xff09;&#x4fee;&#x6539;`service-goods`&#x7684;`GoodsController`&#x7684;`findByGid`&#x65b9;&#x6cd5;&#xff0c;&#x7136;&#x540e;&#x91cd;&#x542f;&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"439,440"}},{"content":"<pre data-lines=\"441,466\"><code class=\"language-java\"><span class=\"hljs-meta\">@RequestMapping(&quot;/goods/findByGid&quot;)</span>\n<span class=\"hljs-meta\">@SentinelResource(value = &quot;findByGidHotKey&quot;, blockHandler = &quot;findByGidBlockHandler&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">findByGid</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@RequestParam(&quot;gid&quot;)</span> String gid)</span> {\n    \n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;0&quot;</span>.equals(gid)) {\n        <span class=\"hljs-keyword\">try</span> { Thread.sleep(<span class=\"hljs-number\">500</span>); } <span class=\"hljs-keyword\">catch</span> (Exception e) {}\n    }\n    \n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;1&quot;</span>.equals(gid)) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;server port:&quot;</span> + port + <span class=\"hljs-string\">&quot;,findByGid:&quot;</span> + gid;\n    }\n    \n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;2&quot;</span>.equals(gid)) {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span> / <span class=\"hljs-number\">0</span>;\n    }\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;other ...&quot;</span>;\n}\n\n\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">findByGidBlockHandler</span><span class=\"hljs-params\">(String gid, BlockException exception)</span> {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;&#x9650;&#x6d41;&#x4e86;...&quot;</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"441,466"}},{"content":"<pre data-lines=\"467,470\"><code>&#xff08;2&#xff09;&#x8bbf;&#x95ee;&#x6d4b;&#x8bd5;&#x65b9;&#x6cd5;&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/findByGid?gid=1\n\n&#xff08;3&#xff09;&#x6dfb;&#x52a0;&#x70ed;&#x70b9;&#x89c4;&#x5219;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"467,470"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/bb3cffe4af8f45bca39f91762cd3537e.png\" alt>","children":[],"payload":{"tag":"img","lines":"471,472"}},{"content":"<pre data-lines=\"473,474\"><code>&#xff08;4&#xff09;&#x8bbf;&#x95ee;&#x6d4b;&#x8bd5;&#x5730;&#x5740;&#xff0c;&#x8fde;&#x7eed;&#x5feb;&#x901f;&#x8bbf;&#x95ee;&#xff1a;http://localhost:7001/goods/findByGid?gid=1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"473,474"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d4463465d113ba60fb0051d5cc966dc2.png\" alt>","children":[],"payload":{"tag":"img","lines":"475,476"}}],"payload":{"tag":"h3","lines":"437,438"}},{"content":"6.2.2&#x3001;&#x53c2;&#x6570;&#x4f8b;&#x5916;&#x9879;","children":[{"content":"<pre data-lines=\"479,480\"><code>&#xff08;1&#xff09;&#x4fee;&#x6539;&#x70ed;&#x70b9;&#x89c4;&#x5219;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"479,480"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/aa59d3036fa185bf5f412a0a0913338b.png\" alt>","children":[],"payload":{"tag":"img","lines":"481,482"}},{"content":"<pre data-lines=\"483,484\"><code>&#xff08;2&#xff09;&#x8bbf;&#x95ee;&#x6d4b;&#x8bd5;&#x5730;&#x5740;&#xff0c;&#x8fde;&#x7eed;&#x5feb;&#x901f;&#x8bbf;&#x95ee;&#xff0c;&#x53d1;&#x73b0;&#x5e76;&#x4e0d;&#x4f1a;&#x9650;&#x6d41;&#xff1a;http://localhost:7001/goods/findByGid?gid=10086\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"483,484"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/9611ce18ba6e513227797d355f740e1b.png\" alt>","children":[],"payload":{"tag":"img","lines":"485,486"}}],"payload":{"tag":"h3","lines":"477,478"}}],"payload":{"tag":"h2","lines":"434,436"}},{"content":"7.1&#x3001;&#x89c4;&#x5219;&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"490,493\"><code>&#x5b98;&#x65b9;&#x8bf4;&#x660e;&#xff1a;https://github.com/alibaba/Sentinel/wiki/%E9%BB%91%E7%99%BD%E5%90%8D%E5%8D%95%E6%8E%A7%E5%88%B6\n\n&#x5f88;&#x591a;&#x65f6;&#x5019;&#xff0c;&#x6211;&#x4eec;&#x9700;&#x8981;&#x6839;&#x636e;&#x8c03;&#x7528;&#x6765;&#x6e90;&#x6765;&#x5224;&#x65ad;&#x8be5;&#x6b21;&#x8bf7;&#x6c42;&#x662f;&#x5426;&#x5141;&#x8bb8;&#x653e;&#x884c;&#xff0c;&#x8fd9;&#x65f6;&#x5019;&#x53ef;&#x4ee5;&#x4f7f;&#x7528; Sentinel &#x7684;&#x6765;&#x6e90;&#x8bbf;&#x95ee;&#x63a7;&#x5236;&#xff08;&#x9ed1;&#x767d;&#x540d;&#x5355;&#x63a7;&#x5236;&#xff09;&#x7684;&#x529f;&#x80fd;&#x3002;&#x6765;&#x6e90;&#x8bbf;&#x95ee;&#x63a7;&#x5236;&#x6839;&#x636e;&#x8d44;&#x6e90;&#x7684;&#x8bf7;&#x6c42;&#x6765;&#x6e90;&#xff08;`origin`&#xff09;&#x9650;&#x5236;&#x8d44;&#x6e90;&#x662f;&#x5426;&#x901a;&#x8fc7;&#xff0c;&#x82e5;&#x914d;&#x7f6e;&#x767d;&#x540d;&#x5355;&#x5219;&#x53ea;&#x6709;&#x8bf7;&#x6c42;&#x6765;&#x6e90;&#x4f4d;&#x4e8e;&#x767d;&#x540d;&#x5355;&#x5185;&#x65f6;&#x624d;&#x53ef;&#x901a;&#x8fc7;&#xff1b;&#x82e5;&#x914d;&#x7f6e;&#x9ed1;&#x540d;&#x5355;&#x5219;&#x8bf7;&#x6c42;&#x6765;&#x6e90;&#x4f4d;&#x4e8e;&#x9ed1;&#x540d;&#x5355;&#x65f6;&#x4e0d;&#x901a;&#x8fc7;&#xff0c;&#x5176;&#x4f59;&#x7684;&#x8bf7;&#x6c42;&#x901a;&#x8fc7;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"490,493"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/652982afca4a3bc855e6163fb3b5dc7b.png\" alt>","children":[],"payload":{"tag":"img","lines":"494,495"}}],"payload":{"tag":"h2","lines":"487,489"}},{"content":"7.2&#x3001;&#x89c4;&#x5219;&#x6f14;&#x793a;","children":[{"content":"7.2.1&#x3001;&#x767d;&#x540d;&#x5355;&#x6d4b;&#x8bd5;","children":[{"content":"<pre data-lines=\"501,502\"><code>&#xff08;1&#xff09;&#x5728;`service-goods`&#x4e0b;&#xff0c;&#x6dfb;&#x52a0;&#x6765;&#x6e90;&#x89e3;&#x6790;&#x5668;&#xff0c;&#x7c7b;&#x540d;&#x79f0;`com.caochenlei.config.MyRequestOriginParser`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"501,502"}},{"content":"<pre data-lines=\"503,514\"><code class=\"language-java\"><span class=\"hljs-meta\">@Component</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyRequestOriginParser</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">RequestOriginParser</span> {\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">parseOrigin</span><span class=\"hljs-params\">(HttpServletRequest request)</span> {\n        <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">origin</span> <span class=\"hljs-operator\">=</span> request.getParameter(<span class=\"hljs-string\">&quot;origin&quot;</span>);\n        <span class=\"hljs-keyword\">return</span> origin;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"503,514"}},{"content":"<pre data-lines=\"515,518\"><code>&#xff08;2&#xff09;&#x91cd;&#x542f;&#x670d;&#x52a1;&#xff0c;&#x7136;&#x540e;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/findByGid?gid=1\n\n&#xff08;3&#xff09;&#x6dfb;&#x52a0;&#x6388;&#x6743;&#x89c4;&#x5219;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"515,518"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/731829a27cbaf0c91396f12f9e5ed31b.png\" alt>","children":[],"payload":{"tag":"img","lines":"519,520"}},{"content":"<pre data-lines=\"521,522\"><code>&#xff08;4&#xff09;&#x8bbf;&#x95ee;&#x6d4b;&#x8bd5;&#x5730;&#x5740;&#xff0c;&#x6211;&#x4eec;&#x643a;&#x5e26;&#x4e0a;&#x5141;&#x8bb8;&#x7684;&#x6765;&#x6e90;&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/findByGid?gid=1&amp;origin=myapp\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"521,522"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/e24261194d455007c9292a62412f0650.png\" alt>","children":[],"payload":{"tag":"img","lines":"523,524"}},{"content":"<pre data-lines=\"525,526\"><code>&#xff08;5&#xff09;&#x5982;&#x679c;&#x6211;&#x4eec;&#x6362;&#x4e00;&#x4e2a;&#x6765;&#x6e90;&#xff0c;&#x5219;&#x9650;&#x6d41;&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/findByGid?gid=1&amp;origin=aaa\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"525,526"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/23a586759a8d5c518d4eb8f81eff2c9e.png\" alt>","children":[],"payload":{"tag":"img","lines":"527,528"}}],"payload":{"tag":"h3","lines":"499,500"}},{"content":"7.2.2&#x3001;&#x9ed1;&#x540d;&#x5355;&#x6d4b;&#x8bd5;","children":[{"content":"<pre data-lines=\"531,532\"><code>&#xff08;1&#xff09;&#x4fee;&#x6539;&#x6388;&#x6743;&#x89c4;&#x5219;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"531,532"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/3283e3b8205d372dffea5c3581b625e0.png\" alt>","children":[],"payload":{"tag":"img","lines":"533,534"}},{"content":"<pre data-lines=\"535,536\"><code>&#xff08;2&#xff09;&#x5982;&#x679c;&#x6b64;&#x65f6;&#x662f;myapp&#x7684;&#x6765;&#x6e90;&#x8fdb;&#x884c;&#x8bbf;&#x95ee;&#xff0c;&#x4f1a;&#x88ab;&#x9650;&#x6d41;&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/findByGid?gid=1&amp;origin=myapp\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"535,536"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f8087f2bf0a59ae01bbb7c1cc8b95ff9.png\" alt>","children":[],"payload":{"tag":"img","lines":"537,538"}},{"content":"<pre data-lines=\"539,540\"><code>&#xff08;3&#xff09;&#x5982;&#x679c;&#x6211;&#x4eec;&#x4e0d;&#x643a;&#x5e26;&#x6216;&#x8005;&#x643a;&#x5e26;&#x4e0d;&#x662f;&#x9ed1;&#x540d;&#x5355;&#x7684;&#x6765;&#x6e90;&#xff0c;&#x5219;&#x4e0d;&#x4f1a;&#x9650;&#x6d41;&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/findByGid?gid=1&amp;origin=aaa\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"539,540"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/9c9de4a56baa53c27cf81ce6b63b5d2e.png\" alt>","children":[],"payload":{"tag":"img","lines":"541,542"}}],"payload":{"tag":"h3","lines":"529,530"}}],"payload":{"tag":"h2","lines":"496,498"}},{"content":"8.1&#x3001;&#x89c4;&#x5219;&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"546,549\"><code>&#x5b98;&#x65b9;&#x4ecb;&#x7ecd;&#xff1a;https://github.com/alibaba/Sentinel/wiki/%E7%B3%BB%E7%BB%9F%E8%87%AA%E9%80%82%E5%BA%94%E9%99%90%E6%B5%81\n\nSentinel &#x7cfb;&#x7edf;&#x81ea;&#x9002;&#x5e94;&#x9650;&#x6d41;&#x4ece;&#x6574;&#x4f53;&#x7ef4;&#x5ea6;&#x5bf9;&#x5e94;&#x7528;&#x5165;&#x53e3;&#x6d41;&#x91cf;&#x8fdb;&#x884c;&#x63a7;&#x5236;&#xff0c;&#x7ed3;&#x5408;&#x5e94;&#x7528;&#x7684; Load&#x3001;&#x603b;&#x4f53;&#x5e73;&#x5747; RT&#x3001;&#x5e76;&#x53d1;&#x7ebf;&#x7a0b;&#x6570;&#x3001;&#x5165;&#x53e3; QPS &#x3001;CPU &#x4f7f;&#x7528;&#x7387;&#x7b49;&#x51e0;&#x4e2a;&#x7ef4;&#x5ea6;&#x7684;&#x76d1;&#x63a7;&#x6307;&#x6807;&#xff0c;&#x901a;&#x8fc7;&#x81ea;&#x9002;&#x5e94;&#x7684;&#x6d41;&#x63a7;&#x7b56;&#x7565;&#xff0c;&#x8ba9;&#x7cfb;&#x7edf;&#x7684;&#x5165;&#x53e3;&#x6d41;&#x91cf;&#x548c;&#x7cfb;&#x7edf;&#x7684;&#x8d1f;&#x8f7d;&#x8fbe;&#x5230;&#x4e00;&#x4e2a;&#x5e73;&#x8861;&#xff0c;&#x8ba9;&#x7cfb;&#x7edf;&#x5c3d;&#x53ef;&#x80fd;&#x8dd1;&#x5728;&#x6700;&#x5927;&#x541e;&#x5410;&#x91cf;&#x7684;&#x540c;&#x65f6;&#x4fdd;&#x8bc1;&#x7cfb;&#x7edf;&#x6574;&#x4f53;&#x7684;&#x7a33;&#x5b9a;&#x6027;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"546,549"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/3ec5a3224ad6ca1f8928cc9bbd35f931.png\" alt>","children":[],"payload":{"tag":"img","lines":"550,551"}},{"content":"<pre data-lines=\"552,559\"><code>&#x7cfb;&#x7edf;&#x89c4;&#x5219;&#x652f;&#x6301;&#x4ee5;&#x4e0b;&#x7684;&#x6a21;&#x5f0f;&#xff1a;\n\n*   **Load &#x81ea;&#x9002;&#x5e94;**&#xff08;&#x4ec5;&#x5bf9; Linux/Unix-like &#x673a;&#x5668;&#x751f;&#x6548;&#xff09;&#xff1a;&#x7cfb;&#x7edf;&#x7684; load1 &#x4f5c;&#x4e3a;&#x542f;&#x53d1;&#x6307;&#x6807;&#xff0c;&#x8fdb;&#x884c;&#x81ea;&#x9002;&#x5e94;&#x7cfb;&#x7edf;&#x4fdd;&#x62a4;&#x3002;&#x5f53;&#x7cfb;&#x7edf; load1 &#x8d85;&#x8fc7;&#x8bbe;&#x5b9a;&#x7684;&#x542f;&#x53d1;&#x503c;&#xff0c;&#x4e14;&#x7cfb;&#x7edf;&#x5f53;&#x524d;&#x7684;&#x5e76;&#x53d1;&#x7ebf;&#x7a0b;&#x6570;&#x8d85;&#x8fc7;&#x4f30;&#x7b97;&#x7684;&#x7cfb;&#x7edf;&#x5bb9;&#x91cf;&#x65f6;&#x624d;&#x4f1a;&#x89e6;&#x53d1;&#x7cfb;&#x7edf;&#x4fdd;&#x62a4;&#xff08;BBR &#x9636;&#x6bb5;&#xff09;&#x3002;&#x7cfb;&#x7edf;&#x5bb9;&#x91cf;&#x7531;&#x7cfb;&#x7edf;&#x7684; `maxQps * minRt` &#x4f30;&#x7b97;&#x5f97;&#x51fa;&#x3002;&#x8bbe;&#x5b9a;&#x53c2;&#x8003;&#x503c;&#x4e00;&#x822c;&#x662f; `CPU cores * 2.5`&#x3002;\n*   **&#x5e73;&#x5747; RT**&#xff1a;&#x5f53;&#x5355;&#x53f0;&#x673a;&#x5668;&#x4e0a;&#x6240;&#x6709;&#x5165;&#x53e3;&#x6d41;&#x91cf;&#x7684;&#x5e73;&#x5747; RT &#x8fbe;&#x5230;&#x9608;&#x503c;&#x5373;&#x89e6;&#x53d1;&#x7cfb;&#x7edf;&#x4fdd;&#x62a4;&#xff0c;&#x5355;&#x4f4d;&#x662f;&#x6beb;&#x79d2;&#x3002;\n*   **&#x5e76;&#x53d1;&#x7ebf;&#x7a0b;&#x6570;**&#xff1a;&#x5f53;&#x5355;&#x53f0;&#x673a;&#x5668;&#x4e0a;&#x6240;&#x6709;&#x5165;&#x53e3;&#x6d41;&#x91cf;&#x7684;&#x5e76;&#x53d1;&#x7ebf;&#x7a0b;&#x6570;&#x8fbe;&#x5230;&#x9608;&#x503c;&#x5373;&#x89e6;&#x53d1;&#x7cfb;&#x7edf;&#x4fdd;&#x62a4;&#x3002;\n*   **&#x5165;&#x53e3; QPS**&#xff1a;&#x5f53;&#x5355;&#x53f0;&#x673a;&#x5668;&#x4e0a;&#x6240;&#x6709;&#x5165;&#x53e3;&#x6d41;&#x91cf;&#x7684; QPS &#x8fbe;&#x5230;&#x9608;&#x503c;&#x5373;&#x89e6;&#x53d1;&#x7cfb;&#x7edf;&#x4fdd;&#x62a4;&#x3002;\n*   **CPU usage**&#xff08;1.5.0+ &#x7248;&#x672c;&#xff09;&#xff1a;&#x5f53;&#x7cfb;&#x7edf; CPU &#x4f7f;&#x7528;&#x7387;&#x8d85;&#x8fc7;&#x9608;&#x503c;&#x5373;&#x89e6;&#x53d1;&#x7cfb;&#x7edf;&#x4fdd;&#x62a4;&#xff08;&#x53d6;&#x503c;&#x8303;&#x56f4; 0.0-1.0&#xff09;&#xff0c;&#x6bd4;&#x8f83;&#x7075;&#x654f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"552,559"}}],"payload":{"tag":"h2","lines":"543,545"}},{"content":"8.2&#x3001;&#x89c4;&#x5219;&#x6f14;&#x793a;","children":[{"content":"<pre data-lines=\"563,564\"><code>&#x7531;&#x4e8e;&#x90e8;&#x5206;&#x6548;&#x679c;&#x53ef;&#x80fd;&#x5e76;&#x4e0d;&#x597d;&#x6d4b;&#x8bd5;&#xff0c;&#x672c;&#x7ae0;&#x8282;&#x6682;&#x4e0d;&#x6f14;&#x793a;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"563,564"}}],"payload":{"tag":"h2","lines":"560,562"}},{"content":"9.1&#x3001;&#x9ed8;&#x8ba4;&#x5730;&#x5740;&#x57cb;&#x70b9;&#x4fdd;&#x62a4;","children":[{"content":"<pre data-lines=\"568,577\"><code>Sentinel&#x4e3a;Spring Boot&#x7a0b;&#x5e8f;&#x63d0;&#x4f9b;&#x4e86;&#x4e00;&#x4e2a;starter&#x4f9d;&#x8d56;&#xff0c;&#x7531;&#x4e8e;Sentinel starter&#x4f9d;&#x8d56;&#x9ed8;&#x8ba4;&#x60c5;&#x51b5;&#x4e0b;&#x5c31;&#x4f1a;&#x4e3a;&#x6240;&#x6709;&#x7684;HTTP&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x9650;&#x6d41;&#x57cb;&#x70b9;&#xff0c;&#x6240;&#x4ee5;&#x5728;Spring Boot&#x4e2d;&#x7684;Controller&#x90fd;&#x53ef;&#x4ee5;&#x53d7;&#x5230;Sentinel&#x7684;&#x4fdd;&#x62a4;&#xff0c;&#x5f53;&#x7136;&#xff0c;&#x6211;&#x4eec;&#x8fd8;&#x9700;&#x8981;&#x4e3a;Sentinel&#x914d;&#x7f6e;&#x4fdd;&#x62a4;&#x7684;&#x89c4;&#x5219;&#x3002;\n\n&#x4ed6;&#x7684;&#x5e95;&#x5c42;&#x662f;&#x901a;&#x8fc7;&#x4e00;&#x4e2a;&#x62e6;&#x622a;&#x5668;&#x5bf9;&#x8bf7;&#x6c42;url&#x8fdb;&#x884c;&#x62e6;&#x622a;&#xff1a;`com.alibaba.csp.sentinel.adapter.spring.webmvc.SentinelWebInterceptor`\n\n&#xff08;1&#xff09;&#x91cd;&#x65b0;&#x542f;&#x52a8;`service-goods`\n\n&#xff08;2&#xff09;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testA\n\n&#xff08;3&#xff09;&#x6dfb;&#x52a0;&#x9650;&#x6d41;&#x89c4;&#x5219;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"568,577"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/9dfbe43f7b7b34b1bf0f7d842b9d350a.png\" alt>","children":[],"payload":{"tag":"img","lines":"578,579"}},{"content":"<pre data-lines=\"580,581\"><code>&#xff08;4&#xff09;&#x5feb;&#x901f;&#x8fde;&#x7eed;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testA\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"580,581"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/feac7eb60fb48a86f52670979d5f5abe.png\" alt>","children":[],"payload":{"tag":"img","lines":"582,583"}},{"content":"<pre data-lines=\"584,585\"><code>&#xff08;5&#xff09;&#x53ef;&#x4ee5;&#x5728;`application.yaml`&#x4e2d;&#xff0c;&#x901a;&#x8fc7;&#x5982;&#x4e0b;&#x914d;&#x7f6e;&#x5173;&#x95ed;&#x5bf9;&#x5fae;&#x670d;&#x52a1;&#x7684;&#x4fdd;&#x62a4;&#xff0c;&#x7136;&#x540e;&#x91cd;&#x542f;`service-goods`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"584,585"}},{"content":"<pre data-lines=\"586,606\"><code class=\"language-yaml\"><span class=\"hljs-attr\">server:</span>\n  <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">7001</span>\n\n<span class=\"hljs-attr\">management:</span>\n  <span class=\"hljs-attr\">endpoints:</span>\n    <span class=\"hljs-attr\">web:</span>\n      <span class=\"hljs-attr\">exposure:</span>\n        <span class=\"hljs-attr\">include:</span> <span class=\"hljs-string\">&apos;*&apos;</span>\n\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">sentinel:</span>\n      <span class=\"hljs-attr\">transport:</span>\n        <span class=\"hljs-attr\">dashboard:</span> <span class=\"hljs-string\">http://localhost:8080</span>\n      \n      <span class=\"hljs-attr\">filter:</span>\n        <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">false</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"586,606"}},{"content":"<pre data-lines=\"607,608\"><code>&#xff08;6&#xff09;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testA&#xff0c;&#x65e0;&#x8bba;&#x4f60;&#x600e;&#x4e48;&#x8bbf;&#x95ee;&#xff0c;&#x4f60;&#x90fd;&#x4f1a;&#x53d1;&#x73b0;&#xff0c;&#x63a7;&#x5236;&#x53f0;&#x6839;&#x672c;&#x5c31;&#x4e0d;&#x663e;&#x793a;&#x7c07;&#x70b9;&#x94fe;&#x8def;&#x7684;&#x4fe1;&#x606f;&#x4e86;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"607,608"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/3c41190deae393446d9b5ae9bae2ee25.png\" alt>","children":[],"payload":{"tag":"img","lines":"609,610"}}],"payload":{"tag":"h2","lines":"565,567"}},{"content":"9.2&#x3001;&#x624b;&#x5199;&#x4ee3;&#x7801;&#x57cb;&#x70b9;&#x4fdd;&#x62a4;","children":[{"content":"<pre data-lines=\"614,617\"><code>&#x6211;&#x4eec;&#x5728;&#x4e0a;&#x4e00;&#x79cd;&#x65b9;&#x5f0f;&#x4e2d;&#x5df2;&#x7ecf;&#x7981;&#x7528;&#x4e86;sentinel&#x5bf9;controller&#x7684;url&#x7684;&#x4fdd;&#x62a4;&#xff0c;&#x63a5;&#x4e0b;&#x6765;&#xff0c;&#x6211;&#x4eec;&#x5c06;&#x4f7f;&#x7528;&#x4ee3;&#x7801;&#x7684;&#x5f62;&#x5f0f;&#x8fdb;&#x884c;&#x4fdd;&#x62a4;&#x3002;\n\n&#xff08;1&#xff09;&#x4fee;&#x6539;`service-goods`&#x7684;`GoodsController`&#x7684;&#x65b9;&#x6cd5;`testB`&#xff0c;&#x7136;&#x540e;&#x91cd;&#x542f;&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"614,617"}},{"content":"<pre data-lines=\"618,651\"><code class=\"language-java\"><span class=\"hljs-meta\">@RequestMapping(&quot;/goods/testB&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">testB</span><span class=\"hljs-params\">()</span> {\n    <span class=\"hljs-type\">Entry</span> <span class=\"hljs-variable\">entry</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-literal\">null</span>;\n    <span class=\"hljs-keyword\">try</span> {\n        entry = SphU.entry(<span class=\"hljs-string\">&quot;testB&quot;</span>);\n        \n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;server port:&quot;</span> + port + <span class=\"hljs-string\">&quot;,testB...&quot;</span>;\n    } <span class=\"hljs-keyword\">catch</span> (Exception e) {\n        e.printStackTrace();\n        Tracer.trace(e);\n\n        <span class=\"hljs-keyword\">if</span> (e <span class=\"hljs-keyword\">instanceof</span> FlowException) {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;&#x6d41;&#x91cf;&#x9650;&#x6d41;&quot;</span>;\n        } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (e <span class=\"hljs-keyword\">instanceof</span> DegradeException) {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;&#x670d;&#x52a1;&#x7194;&#x65ad;&#x964d;&#x7ea7;&quot;</span>;\n        } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (e <span class=\"hljs-keyword\">instanceof</span> ParamFlowException) {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;&#x70ed;&#x70b9;&#x53c2;&#x6570;&#x9650;&#x6d41;&quot;</span>;\n        } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (e <span class=\"hljs-keyword\">instanceof</span> AuthorityException) {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;&#x9ed1;&#x767d;&#x540d;&#x5355;&#x63a7;&#x5236;&quot;</span>;\n        } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (e <span class=\"hljs-keyword\">instanceof</span> SystemBlockException) {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;&#x7cfb;&#x7edf;&#x81ea;&#x9002;&#x5e94;&#x9650;&#x6d41;&quot;</span>;\n        }\n\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;Exception ...&quot;</span>;\n    } <span class=\"hljs-keyword\">finally</span> {\n        <span class=\"hljs-keyword\">if</span> (entry != <span class=\"hljs-literal\">null</span>) {\n            entry.exit();\n        }\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"618,651"}},{"content":"<pre data-lines=\"652,655\"><code>&#xff08;2&#xff09;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testB\n\n&#xff08;3&#xff09;&#x67e5;&#x770b;&#x63a7;&#x5236;&#x53f0;&#x7684;&#x7c07;&#x70b9;&#x94fe;&#x8def;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"652,655"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/0f080f8a6d1131041a486f06e3c7c32d.png\" alt>","children":[],"payload":{"tag":"img","lines":"656,657"}},{"content":"<pre data-lines=\"658,659\"><code>&#xff08;4&#xff09;&#x6dfb;&#x52a0;&#x6d41;&#x63a7;&#x89c4;&#x5219;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"658,659"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d97d4ea32a5263f3f460356cce34214d.png\" alt>","children":[],"payload":{"tag":"img","lines":"660,661"}},{"content":"<pre data-lines=\"662,663\"><code>&#xff08;5&#xff09;&#x5feb;&#x901f;&#x8fde;&#x7eed;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testB\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"662,663"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f651eda8eb05c4644779f25cd1db62dd.png\" alt>","children":[],"payload":{"tag":"img","lines":"664,665"}},{"content":"<pre data-lines=\"666,667\"><code>&#x6211;&#x4eec;&#x4e5f;&#x53d1;&#x73b0;&#x4e86;&#xff0c;&#x8fd9;&#x79cd;&#x624b;&#x5199;&#x4ee3;&#x7801;&#x867d;&#x7136;&#x4e5f;&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#xff0c;&#x800c;&#x4e14;&#x4ee3;&#x7801;&#x6bd4;&#x8f83;&#x56fa;&#x5b9a;&#xff0c;&#x867d;&#x7136;&#x4e0d;&#x96be;&#x7406;&#x89e3;&#xff0c;&#x4f46;&#x662f;&#x4f1a;&#x589e;&#x52a0;&#x4ee3;&#x7801;&#x7684;&#x5197;&#x4f59;&#xff0c;&#x5f88;&#x4e0d;&#x65b9;&#x4fbf;&#xff0c;&#x4e8e;&#x662f;&#x5c31;&#x6709;&#x4e86;&#x4e0b;&#x8fb9;&#x8fd9;&#x79cd;&#x6ce8;&#x89e3;&#x65b9;&#x5f0f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"666,667"}}],"payload":{"tag":"h2","lines":"611,613"}},{"content":"9.3&#x3001;&#x4f7f;&#x7528;&#x6ce8;&#x89e3;&#x57cb;&#x70b9;&#x4fdd;&#x62a4;","children":[{"content":"<pre data-lines=\"671,674\"><code>&#x5b98;&#x65b9;&#x8bf4;&#x660e;&#xff1a;https://github.com/alibaba/Sentinel/wiki/%E6%B3%A8%E8%A7%A3%E6%94%AF%E6%8C%81\n\n`@SentinelResource` &#x7528;&#x4e8e;&#x5b9a;&#x4e49;&#x8d44;&#x6e90;&#xff0c;&#x5e76;&#x63d0;&#x4f9b;&#x53ef;&#x9009;&#x7684;&#x5f02;&#x5e38;&#x5904;&#x7406;&#x548c; fallback &#x914d;&#x7f6e;&#x9879;&#x3002; `@SentinelResource` &#x6ce8;&#x89e3;&#x5305;&#x542b;&#x4ee5;&#x4e0b;&#x5c5e;&#x6027;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"671,674"}},{"content":"<pre data-lines=\"705,713\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyBlockHandler</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> String <span class=\"hljs-title function_\">testC</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@PathVariable(&quot;id&quot;)</span> <span class=\"hljs-type\">int</span> id, BlockException blockException)</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;testC:&quot;</span> + id + <span class=\"hljs-string\">&quot;,&#x9650;&#x6d41;&#x4e86;,msg:&quot;</span> + blockException.getMessage();\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"705,713"}},{"content":"<pre data-lines=\"714,715\"><code>&#xff08;2&#xff09;&#x7f16;&#x5199;&#x4e1a;&#x52a1;&#x51fa;&#x9519;&#x515c;&#x5e95;&#x65b9;&#x6cd5;&#xff0c;&#x5168;&#x7c7b;&#x540d;&#xff1a;`com.caochenlei.controller.MyFallback`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"714,715"}},{"content":"<pre data-lines=\"716,724\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyFallback</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> String <span class=\"hljs-title function_\">testC</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@PathVariable(&quot;id&quot;)</span> <span class=\"hljs-type\">int</span> id, Throwable t)</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;testC:&quot;</span> + id + <span class=\"hljs-string\">&quot;,&#x964d;&#x7ea7;&#x4e86;,msg:&quot;</span> + t.getMessage();\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"716,724"}},{"content":"<pre data-lines=\"725,726\"><code>&#xff08;3&#xff09;&#x65b0;&#x589e;&#x4e00;&#x4e2a;&#x6d4b;&#x8bd5;&#x65b9;&#x6cd5;&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"725,726"}},{"content":"<pre data-lines=\"727,747\"><code class=\"language-java\"><span class=\"hljs-meta\">@SentinelResource(value = &quot;testC&quot;,\n        blockHandler = &quot;testC&quot;, blockHandlerClass = MyBlockHandler.class,\n        fallback = &quot;testC&quot;, fallbackClass = MyFallback.class\n)</span>\n\n<span class=\"hljs-meta\">@RequestMapping(&quot;/goods/testC/{id}&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">testC</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@PathVariable(&quot;id&quot;)</span> <span class=\"hljs-type\">int</span> id)</span> {\n    \n    <span class=\"hljs-keyword\">if</span> (id == <span class=\"hljs-number\">1</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;server port:&quot;</span> + port + <span class=\"hljs-string\">&quot;,testC...&quot;</span>;\n    }\n    \n    <span class=\"hljs-keyword\">if</span> (id == <span class=\"hljs-number\">2</span>) {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span> / <span class=\"hljs-number\">0</span>;\n    }\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;other ...&quot;</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"727,747"}},{"content":"<pre data-lines=\"748,749\"><code>&#xff08;4&#xff09;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testC/1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"748,749"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/6b0cee3ce77182889a6e5bbcca3465a9.png\" alt>","children":[],"payload":{"tag":"img","lines":"750,751"}},{"content":"<pre data-lines=\"752,753\"><code>&#xff08;5&#xff09;&#x6dfb;&#x52a0;&#x6d41;&#x63a7;&#x89c4;&#x5219;&#xff0c;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"752,753"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/cf76c90aa9a9926845f3be9ddc761609.png\" alt>","children":[],"payload":{"tag":"img","lines":"754,755"}},{"content":"<pre data-lines=\"756,757\"><code>&#xff08;6&#xff09;&#x5feb;&#x901f;&#x8fde;&#x7eed;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testC/1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"756,757"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/11b3c5a21e53cb8e070f0541ea2afe2b.png\" alt>","children":[],"payload":{"tag":"img","lines":"758,759"}},{"content":"<pre data-lines=\"760,761\"><code>&#xff08;7&#xff09;&#x6d4b;&#x8bd5;&#x5f02;&#x5e38;&#x4e1a;&#x52a1;&#xff0c;&#x770b;&#x770b;&#x4f1a;&#x4e0d;&#x4f1a;&#x8d70;&#x515c;&#x5e95;&#x65b9;&#x6cd5;&#xff0c;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testC/2\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"760,761"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/9204ebb18c016c1fd4e4fa3f538662df.png\" alt>","children":[],"payload":{"tag":"img","lines":"762,763"}}],"payload":{"tag":"h2","lines":"668,670"}},{"content":"10.1&#x3001;RestTemplate&#x6574;&#x5408;Sentinel","children":[{"content":"10.1.1&#x3001;&#x5f00;&#x542f;Sentinel&#x914d;&#x7f6e;","children":[{"content":"<pre data-lines=\"769,770\"><code>&#x4fee;&#x6539;`service-goods`&#x7684;`application.yaml`&#xff0c;&#x914d;&#x7f6e;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"769,770"}},{"content":"<pre data-lines=\"771,797\"><code class=\"language-yaml\"><span class=\"hljs-attr\">server:</span>\n  <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">7001</span>\n\n<span class=\"hljs-attr\">management:</span>\n  <span class=\"hljs-attr\">endpoints:</span>\n    <span class=\"hljs-attr\">web:</span>\n      <span class=\"hljs-attr\">exposure:</span>\n        <span class=\"hljs-attr\">include:</span> <span class=\"hljs-string\">&apos;*&apos;</span>\n\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">sentinel:</span>\n      <span class=\"hljs-attr\">transport:</span>\n        <span class=\"hljs-attr\">dashboard:</span> <span class=\"hljs-string\">http://localhost:8080</span>\n      \n      <span class=\"hljs-attr\">filter:</span>\n        <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">true</span>\n\n\n<span class=\"hljs-attr\">resttemplate:</span>\n  <span class=\"hljs-attr\">sentinel:</span>\n    <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">true</span>\n\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"771,797"}}],"payload":{"tag":"h3","lines":"767,768"}},{"content":"10.1.2&#x3001;&#x6574;&#x5408;Sentinel&#x6ce8;&#x89e3;","children":[{"content":"<pre data-lines=\"800,801\"><code>&#x4fee;&#x6539;`service-goods`&#x7684;`ServiceGoodsApplication`&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"800,801"}},{"content":"<pre data-lines=\"802,823\"><code class=\"language-java\"><span class=\"hljs-meta\">@SpringBootApplication</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ServiceGoodsApplication</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        SpringApplication.run(ServiceGoodsApplication.class, args);\n    }\n\n\n    <span class=\"hljs-meta\">@SentinelRestTemplate(\n            \n            fallback = &quot;fallback&quot;, fallbackClass = SentinelRestTemplateExceptionUtil.class,\n            blockHandler = &quot;blockHandler&quot;, blockHandlerClass = SentinelRestTemplateExceptionUtil.class\n    )</span>\n    <span class=\"hljs-meta\">@LoadBalanced</span>\n    <span class=\"hljs-meta\">@Bean</span>\n    <span class=\"hljs-keyword\">public</span> RestTemplate <span class=\"hljs-title function_\">restTemplate</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">RestTemplate</span>();\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"802,823"}}],"payload":{"tag":"h3","lines":"798,799"}},{"content":"10.1.3&#x3001;&#x4fee;&#x6539;&#x5546;&#x54c1;&#x670d;&#x52a1;","children":[{"content":"<pre data-lines=\"826,827\"><code>&#xff08;1&#xff09;&#x6dfb;&#x52a0;&#x515c;&#x5e95;&#x5904;&#x7406;&#x7c7b;&#xff0c;&#x7c7b;&#x5168;&#x540d;&#xff1a;`com.caochenlei.controller.SentinelRestTemplateExceptionUtil`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"826,827"}},{"content":"<pre data-lines=\"828,844\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">SentinelRestTemplateExceptionUtil</span> {\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> SentinelClientHttpResponse <span class=\"hljs-title function_\">blockHandler</span>\n    <span class=\"hljs-params\">(HttpRequest request, <span class=\"hljs-type\">byte</span>[] body, ClientHttpRequestExecution execution, BlockException ex)</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SentinelClientHttpResponse</span>(<span class=\"hljs-string\">&quot;custom blockHandler info&quot;</span>);\n    }\n\n    \n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> SentinelClientHttpResponse <span class=\"hljs-title function_\">fallback</span>\n    <span class=\"hljs-params\">(HttpRequest request, <span class=\"hljs-type\">byte</span>[] body, ClientHttpRequestExecution execution, BlockException ex)</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SentinelClientHttpResponse</span>(<span class=\"hljs-string\">&quot;custom fallback info&quot;</span>);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"828,844"}},{"content":"<pre data-lines=\"845,846\"><code>&#xff08;2&#xff09;&#x5728;`GoodsController`&#x4e2d;&#x6dfb;&#x52a0;&#x65b0;&#x7684;&#x6d4b;&#x8bd5;&#x65b9;&#x6cd5;&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"845,846"}},{"content":"<pre data-lines=\"847,857\"><code class=\"language-java\"><span class=\"hljs-meta\">@Autowired</span>\n<span class=\"hljs-keyword\">private</span> RestTemplate restTemplate;\n\n<span class=\"hljs-meta\">@RequestMapping(&quot;/goods/testD/{id}&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">testD</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@PathVariable(&quot;id&quot;)</span> <span class=\"hljs-type\">int</span> id)</span> {\n    <span class=\"hljs-keyword\">return</span> restTemplate.getForObject(<span class=\"hljs-string\">&quot;http://service-order/order/&quot;</span> + id, String.class);\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"847,857"}},{"content":"<pre data-lines=\"858,859\"><code>&#xff08;3&#xff09;&#x91cd;&#x65b0;&#x542f;&#x52a8;`service-goods`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"858,859"}}],"payload":{"tag":"h3","lines":"824,825"}},{"content":"10.1.4&#x3001;&#x4fee;&#x6539;&#x8ba2;&#x5355;&#x670d;&#x52a1;","children":[{"content":"<pre data-lines=\"862,863\"><code>&#xff08;1&#xff09;&#x5728;`OrderController`&#x4e2d;&#x6dfb;&#x52a0;&#x65b0;&#x7684;&#x6d4b;&#x8bd5;&#x65b9;&#x6cd5;&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"862,863"}},{"content":"<pre data-lines=\"864,879\"><code class=\"language-java\"><span class=\"hljs-meta\">@RequestMapping(&quot;/order/{oid}&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">find</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@PathVariable(&quot;oid&quot;)</span> <span class=\"hljs-type\">int</span> oid)</span> {\n    \n    <span class=\"hljs-keyword\">if</span> (oid == <span class=\"hljs-number\">1</span>) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;&#x6b63;&#x5e38;&#x8fd4;&#x56de;&#x8ba2;&#x5355;&#x4fe1;&#x606f;&quot;</span>;\n    }\n    \n    <span class=\"hljs-keyword\">if</span> (oid == <span class=\"hljs-number\">2</span>) {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span> / <span class=\"hljs-number\">0</span>;\n    }\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;other...&quot;</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"864,879"}},{"content":"<pre data-lines=\"880,881\"><code>&#xff08;2&#xff09;&#x91cd;&#x65b0;&#x542f;&#x52a8;`service-order`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"880,881"}}],"payload":{"tag":"h3","lines":"860,861"}},{"content":"10.1.5&#x3001;&#x8bbf;&#x95ee;&#x6d4b;&#x8bd5;&#x5730;&#x5740;","children":[{"content":"<pre data-lines=\"884,885\"><code>&#xff08;1&#xff09;&#x5feb;&#x901f;&#x8fde;&#x7eed;&#x591a;&#x6b21;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testD/1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"884,885"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/1052ff5247eef5de08549b4a3b39042e.png\" alt>","children":[],"payload":{"tag":"img","lines":"886,887"}},{"content":"<pre data-lines=\"888,889\"><code>&#xff08;2&#xff09;&#x5feb;&#x901f;&#x8fde;&#x7eed;&#x591a;&#x6b21;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testD/2\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"888,889"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/3560314337dacbfcffbfa9917a9cdd2b.png\" alt>","children":[],"payload":{"tag":"img","lines":"890,891"}}],"payload":{"tag":"h3","lines":"882,883"}},{"content":"10.1.6&#x3001;&#x6dfb;&#x52a0;&#x6d41;&#x63a7;&#x89c4;&#x5219;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/5e83f81e77f02d7f4abae8b2f7acb3ee.png\" alt>","children":[],"payload":{"tag":"img","lines":"894,895"}}],"payload":{"tag":"h3","lines":"892,893"}},{"content":"10.1.7&#x3001;&#x6dfb;&#x52a0;&#x964d;&#x7ea7;&#x89c4;&#x5219;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/881adcba4d1c01be455b8de7e28f1973.png\" alt>","children":[],"payload":{"tag":"img","lines":"898,899"}}],"payload":{"tag":"h3","lines":"896,897"}},{"content":"10.1.8&#x3001;&#x6d4b;&#x8bd5;&#x6700;&#x7ec8;&#x6548;&#x679c;","children":[{"content":"<pre data-lines=\"902,903\"><code>&#xff08;1&#xff09;&#x5feb;&#x901f;&#x8fde;&#x7eed;&#x591a;&#x6b21;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testD/1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"902,903"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/0ad8dd3c0d28fb359a81ed7c786cb5f4.png\" alt>","children":[],"payload":{"tag":"img","lines":"904,905"}},{"content":"<pre data-lines=\"906,907\"><code>&#xff08;2&#xff09;&#x5feb;&#x901f;&#x8fde;&#x7eed;&#x591a;&#x6b21;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testD/2\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"906,907"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7a023666bbf83350740ce24919e1c0c4.png\" alt>","children":[],"payload":{"tag":"img","lines":"908,909"}}],"payload":{"tag":"h3","lines":"900,901"}}],"payload":{"tag":"h2","lines":"764,766"}},{"content":"10.2&#x3001;OpenFeign&#x6574;&#x5408;Sentinel","children":[{"content":"10.2.1&#x3001;&#x5bfc;&#x5165;&#x76f8;&#x5173;&#x4f9d;&#x8d56;","children":[{"content":"<pre data-lines=\"915,916\"><code>&#x5728;`service-goods`&#x7684;`pom.xml`&#x5bfc;&#x5165;&#x76f8;&#x5173;&#x4f9d;&#x8d56;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"915,916"}},{"content":"<pre data-lines=\"917,924\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-cloud-starter-openfeign<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"917,924"}}],"payload":{"tag":"h3","lines":"913,914"}},{"content":"10.2.2&#x3001;&#x5f00;&#x542f;&#x76f8;&#x5173;&#x914d;&#x7f6e;","children":[{"content":"<pre data-lines=\"927,928\"><code>&#x4fee;&#x6539;`service-goods`&#x7684;`application.yaml`&#x5bfc;&#x5165;&#x76f8;&#x5173;&#x914d;&#x7f6e;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"927,928"}},{"content":"<pre data-lines=\"929,959\"><code class=\"language-yaml\"><span class=\"hljs-attr\">server:</span>\n  <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">7001</span>\n\n<span class=\"hljs-attr\">management:</span>\n  <span class=\"hljs-attr\">endpoints:</span>\n    <span class=\"hljs-attr\">web:</span>\n      <span class=\"hljs-attr\">exposure:</span>\n        <span class=\"hljs-attr\">include:</span> <span class=\"hljs-string\">&apos;*&apos;</span>\n\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">sentinel:</span>\n      <span class=\"hljs-attr\">transport:</span>\n        <span class=\"hljs-attr\">dashboard:</span> <span class=\"hljs-string\">http://localhost:8080</span>\n      \n      <span class=\"hljs-attr\">filter:</span>\n        <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">true</span>\n\n\n<span class=\"hljs-attr\">resttemplate:</span>\n  <span class=\"hljs-attr\">sentinel:</span>\n    <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">true</span>\n\n\n<span class=\"hljs-attr\">feign:</span>\n  <span class=\"hljs-attr\">sentinel:</span>\n    <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">true</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"929,959"}}],"payload":{"tag":"h3","lines":"925,926"}},{"content":"10.2.3&#x3001;&#x914d;&#x7f6e;&#x4e3b;&#x542f;&#x52a8;&#x7c7b;","children":[{"content":"<pre data-lines=\"962,963\"><code>&#x4fee;&#x6539;`service-goods`&#x7684;`ServiceGoodsApplication`&#x5f00;&#x542f;Feign&#x529f;&#x80fd;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"962,963"}},{"content":"<pre data-lines=\"964,986\"><code class=\"language-java\"><span class=\"hljs-meta\">@SpringBootApplication</span>\n<span class=\"hljs-meta\">@EnableFeignClients</span> \n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ServiceGoodsApplication</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        SpringApplication.run(ServiceGoodsApplication.class, args);\n    }\n\n\n    <span class=\"hljs-meta\">@SentinelRestTemplate(\n            \n            fallback = &quot;fallback&quot;, fallbackClass = SentinelRestTemplateExceptionUtil.class,\n            blockHandler = &quot;blockHandler&quot;, blockHandlerClass = SentinelRestTemplateExceptionUtil.class\n    )</span>\n    <span class=\"hljs-meta\">@LoadBalanced</span>\n    <span class=\"hljs-meta\">@Bean</span>\n    <span class=\"hljs-keyword\">public</span> RestTemplate <span class=\"hljs-title function_\">restTemplate</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">RestTemplate</span>();\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"964,986"}}],"payload":{"tag":"h3","lines":"960,961"}},{"content":"10.2.4&#x3001;&#x7f16;&#x5199;&#x4e1a;&#x52a1;&#x63a5;&#x53e3;","children":[{"content":"<pre data-lines=\"989,990\"><code>&#xff08;1&#xff09;&#x5728;`service-goods`&#x4e0b;&#x7f16;&#x5199;Feign&#x7684;&#x4e1a;&#x52a1;&#x63a5;&#x53e3;&#xff0c;&#x8c03;&#x7528;&#x8fdc;&#x7a0b;&#x7684;&#x670d;&#x52a1;&#x662f;&#x8ba2;&#x5355;&#x670d;&#x52a1;&#xff0c;&#x63a5;&#x53e3;&#x5168;&#x540d;&#xff1a;`com.caochenlei.service.FeignOrderService`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"989,990"}},{"content":"<pre data-lines=\"991,999\"><code class=\"language-java\"><span class=\"hljs-meta\">@FeignClient(value = &quot;service-order&quot;,fallback = FeignOrderServiceFallback.class)</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title class_\">FeignOrderService</span> {\n    <span class=\"hljs-meta\">@RequestMapping(&quot;/order/{oid}&quot;)</span>\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">find</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@PathVariable(&quot;oid&quot;)</span> <span class=\"hljs-type\">int</span> oid)</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"991,999"}},{"content":"<pre data-lines=\"1000,1001\"><code>&#xff08;2&#xff09;&#x7f16;&#x5199;&#x515c;&#x5e95;&#x7684;fallback&#x7c7b;&#xff0c;&#x7c7b;&#x5168;&#x540d;&#xff1a;`com.caochenlei.service.FeignOrderServiceFallback`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1000,1001"}},{"content":"<pre data-lines=\"1002,1012\"><code class=\"language-java\"><span class=\"hljs-meta\">@Component</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">FeignOrderServiceFallback</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">FeignOrderService</span>{\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">find</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> oid)</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;FeignOrderServiceFallback &#x9650;&#x6d41;/&#x964d;&#x7ea7;...&quot;</span>;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1002,1012"}}],"payload":{"tag":"h3","lines":"987,988"}},{"content":"10.2.5&#x3001;&#x7f16;&#x5199;&#x63a7;&#x5236;&#x5668;&#x7c7b;","children":[{"content":"<pre data-lines=\"1015,1016\"><code>&#x5728;`service-goods`&#x7684;`GoodsController`&#x4e0b;&#xff0c;&#x6dfb;&#x52a0;&#x65b0;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1015,1016"}},{"content":"<pre data-lines=\"1017,1027\"><code class=\"language-java\"><span class=\"hljs-meta\">@Autowired</span>\n<span class=\"hljs-keyword\">private</span> FeignOrderService orderService;\n\n<span class=\"hljs-meta\">@RequestMapping(&quot;/goods/testE/{id}&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">testE</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@PathVariable(&quot;id&quot;)</span> <span class=\"hljs-type\">int</span> id)</span> {\n    <span class=\"hljs-keyword\">return</span> orderService.find(id);\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1017,1027"}},{"content":"<pre data-lines=\"1028,1029\"><code>&#x7136;&#x540e;&#x91cd;&#x65b0;&#x542f;&#x52a8;`service-goods`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1028,1029"}}],"payload":{"tag":"h3","lines":"1013,1014"}},{"content":"10.2.6&#x3001;&#x8bbf;&#x95ee;&#x6d4b;&#x8bd5;&#x5730;&#x5740;","children":[{"content":"<pre data-lines=\"1032,1033\"><code>&#xff08;1&#xff09;&#x5feb;&#x901f;&#x8fde;&#x7eed;&#x591a;&#x6b21;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testE/1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1032,1033"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/b0d8f204108ea57ce55161c11bf0407f.png\" alt>","children":[],"payload":{"tag":"img","lines":"1034,1035"}},{"content":"<pre data-lines=\"1036,1037\"><code>&#xff08;2&#xff09;&#x5feb;&#x901f;&#x8fde;&#x7eed;&#x591a;&#x6b21;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testE/2\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1036,1037"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/9aac04ceb59ef03e51f24df9903d09d0.png\" alt>","children":[],"payload":{"tag":"img","lines":"1038,1039"}}],"payload":{"tag":"h3","lines":"1030,1031"}},{"content":"10.2.7&#x3001;&#x6dfb;&#x52a0;&#x6d41;&#x63a7;&#x89c4;&#x5219;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/310d17fa3cf195b974d3e2612dce1bbd.png\" alt>","children":[],"payload":{"tag":"img","lines":"1042,1043"}}],"payload":{"tag":"h3","lines":"1040,1041"}},{"content":"10.2.8&#x3001;&#x6d4b;&#x8bd5;&#x6d41;&#x63a7;&#x89c4;&#x5219;","children":[{"content":"<pre data-lines=\"1046,1047\"><code>&#xff08;1&#xff09;&#x5feb;&#x901f;&#x8fde;&#x7eed;&#x591a;&#x6b21;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testE/1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1046,1047"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/1db4d9df3e183101b6e43f9c8d713b14.png\" alt>","children":[],"payload":{"tag":"img","lines":"1048,1049"}},{"content":"<pre data-lines=\"1052,1053\"><code>&#x4e00;&#x822c;&#x6765;&#x8bf4;&#xff0c;&#x89c4;&#x5219;&#x7684;&#x63a8;&#x9001;&#x6709;&#x4e0b;&#x9762;&#x4e09;&#x79cd;&#x6a21;&#x5f0f;:\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1052,1053"}},{"content":"<table data-lines=\"1054,1059\">\n<thead data-lines=\"1054,1055\">\n<tr data-lines=\"1054,1055\">\n<th>&#x63a8;&#x9001;&#x6a21;&#x5f0f;</th>\n<th>&#x8bf4;&#x660e;</th>\n<th>&#x4f18;&#x70b9;</th>\n<th>&#x7f3a;&#x70b9;</th>\n</tr>\n</thead>\n<tbody data-lines=\"1056,1059\">\n<tr data-lines=\"1056,1057\">\n<td><a href=\"https://github.com/alibaba/Sentinel/wiki/%E5%9C%A8%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%AD%E4%BD%BF%E7%94%A8-Sentinel#%E5%8E%9F%E5%A7%8B%E6%A8%A1%E5%BC%8F\">&#x539f;&#x59cb;&#x6a21;&#x5f0f;</a></td>\n<td>API &#x5c06;&#x89c4;&#x5219;&#x63a8;&#x9001;&#x81f3;&#x5ba2;&#x6237;&#x7aef;&#x5e76;&#x76f4;&#x63a5;&#x66f4;&#x65b0;&#x5230;&#x5185;&#x5b58;&#x4e2d;&#xff0c;&#x6269;&#x5c55;&#x5199;&#x6570;&#x636e;&#x6e90;&#xff08;<a href=\"https://github.com/alibaba/Sentinel/wiki/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%99%E6%89%A9%E5%B1%95\"><code>WritableDataSource</code></a>&#xff09;</td>\n<td>&#x7b80;&#x5355;&#xff0c;&#x65e0;&#x4efb;&#x4f55;&#x4f9d;&#x8d56;</td>\n<td>&#x4e0d;&#x4fdd;&#x8bc1;&#x4e00;&#x81f4;&#x6027;&#xff1b;&#x89c4;&#x5219;&#x4fdd;&#x5b58;&#x5728;&#x5185;&#x5b58;&#x4e2d;&#xff0c;&#x91cd;&#x542f;&#x5373;&#x6d88;&#x5931;&#x3002;&#x4e25;&#x91cd;&#x4e0d;&#x5efa;&#x8bae;&#x7528;&#x4e8e;&#x751f;&#x4ea7;&#x73af;&#x5883;</td>\n</tr>\n<tr data-lines=\"1057,1058\">\n<td><a href=\"https://github.com/alibaba/Sentinel/wiki/%E5%9C%A8%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%AD%E4%BD%BF%E7%94%A8-Sentinel#Pull%E6%A8%A1%E5%BC%8F\">Pull &#x6a21;&#x5f0f;</a></td>\n<td>&#x6269;&#x5c55;&#x5199;&#x6570;&#x636e;&#x6e90;&#xff08;<a href=\"https://github.com/alibaba/Sentinel/wiki/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%99%E6%89%A9%E5%B1%95\"><code>WritableDataSource</code></a>&#xff09;&#xff0c; &#x5ba2;&#x6237;&#x7aef;&#x4e3b;&#x52a8;&#x5411;&#x67d0;&#x4e2a;&#x89c4;&#x5219;&#x7ba1;&#x7406;&#x4e2d;&#x5fc3;&#x5b9a;&#x671f;&#x8f6e;&#x8be2;&#x62c9;&#x53d6;&#x89c4;&#x5219;&#xff0c;&#x8fd9;&#x4e2a;&#x89c4;&#x5219;&#x4e2d;&#x5fc3;&#x53ef;&#x4ee5;&#x662f; RDBMS&#x3001;&#x6587;&#x4ef6; &#x7b49;</td>\n<td>&#x7b80;&#x5355;&#xff0c;&#x65e0;&#x4efb;&#x4f55;&#x4f9d;&#x8d56;&#xff1b;&#x89c4;&#x5219;&#x6301;&#x4e45;&#x5316;</td>\n<td>&#x4e0d;&#x4fdd;&#x8bc1;&#x4e00;&#x81f4;&#x6027;&#xff1b;&#x5b9e;&#x65f6;&#x6027;&#x4e0d;&#x4fdd;&#x8bc1;&#xff0c;&#x62c9;&#x53d6;&#x8fc7;&#x4e8e;&#x9891;&#x7e41;&#x4e5f;&#x53ef;&#x80fd;&#x4f1a;&#x6709;&#x6027;&#x80fd;&#x95ee;&#x9898;&#x3002;</td>\n</tr>\n<tr data-lines=\"1058,1059\">\n<td><strong><a href=\"https://github.com/alibaba/Sentinel/wiki/%E5%9C%A8%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E4%B8%AD%E4%BD%BF%E7%94%A8-Sentinel#Push%E6%A8%A1%E5%BC%8F\">Push &#x6a21;&#x5f0f;</a></strong></td>\n<td>&#x6269;&#x5c55;&#x8bfb;&#x6570;&#x636e;&#x6e90;&#xff08;<a href=\"https://github.com/alibaba/Sentinel/wiki/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%99%E6%89%A9%E5%B1%95\"><code>ReadableDataSource</code></a>&#xff09;&#xff0c;&#x89c4;&#x5219;&#x4e2d;&#x5fc3;&#x7edf;&#x4e00;&#x63a8;&#x9001;&#xff0c;&#x5ba2;&#x6237;&#x7aef;&#x901a;&#x8fc7;&#x6ce8;&#x518c;&#x76d1;&#x542c;&#x5668;&#x7684;&#x65b9;&#x5f0f;&#x65f6;&#x523b;&#x76d1;&#x542c;&#x53d8;&#x5316;&#xff0c;&#x6bd4;&#x5982;&#x4f7f;&#x7528; Nacos&#x3001;Zookeeper &#x7b49;&#x914d;&#x7f6e;&#x4e2d;&#x5fc3;&#x3002;&#x8fd9;&#x79cd;&#x65b9;&#x5f0f;&#x6709;&#x66f4;&#x597d;&#x7684;&#x5b9e;&#x65f6;&#x6027;&#x548c;&#x4e00;&#x81f4;&#x6027;&#x4fdd;&#x8bc1;&#x3002;<strong>&#x751f;&#x4ea7;&#x73af;&#x5883;&#x4e0b;&#x4e00;&#x822c;&#x91c7;&#x7528; push &#x6a21;&#x5f0f;&#x7684;&#x6570;&#x636e;&#x6e90;&#x3002;</strong></td>\n<td>&#x89c4;&#x5219;&#x6301;&#x4e45;&#x5316;&#xff1b;&#x4e00;&#x81f4;&#x6027;&#xff1b;&#x5feb;&#x901f;</td>\n<td>&#x5f15;&#x5165;&#x7b2c;&#x4e09;&#x65b9;&#x4f9d;&#x8d56;</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"1054,1059"}}],"payload":{"tag":"h3","lines":"1044,1045"}}],"payload":{"tag":"h2","lines":"910,912"}},{"content":"11.1&#x3001;&#x539f;&#x59cb;&#x6a21;&#x5f0f;","children":[{"content":"<pre data-lines=\"1063,1064\"><code>&#x5982;&#x679c;&#x4e0d;&#x505a;&#x4efb;&#x4f55;&#x4fee;&#x6539;&#xff0c;Dashboard &#x7684;&#x63a8;&#x9001;&#x89c4;&#x5219;&#x65b9;&#x5f0f;&#x662f;&#x901a;&#x8fc7; API &#x5c06;&#x89c4;&#x5219;&#x63a8;&#x9001;&#x81f3;&#x5ba2;&#x6237;&#x7aef;&#x5e76;&#x76f4;&#x63a5;&#x66f4;&#x65b0;&#x5230;&#x5185;&#x5b58;&#x4e2d;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1063,1064"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/02a2af1d90b4e1f0abe4b69c6910e64c.png\" alt>","children":[],"payload":{"tag":"img","lines":"1065,1066"}},{"content":"<pre data-lines=\"1067,1068\"><code>&#x8fd9;&#x79cd;&#x505a;&#x6cd5;&#x7684;&#x597d;&#x5904;&#x662f;&#x7b80;&#x5355;&#xff0c;&#x65e0;&#x4f9d;&#x8d56;&#xff1b;&#x574f;&#x5904;&#x662f;&#x5e94;&#x7528;&#x91cd;&#x542f;&#x89c4;&#x5219;&#x5c31;&#x4f1a;&#x6d88;&#x5931;&#xff0c;&#x4ec5;&#x7528;&#x4e8e;&#x7b80;&#x5355;&#x6d4b;&#x8bd5;&#xff0c;&#x4e0d;&#x80fd;&#x7528;&#x4e8e;&#x751f;&#x4ea7;&#x73af;&#x5883;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1067,1068"}}],"payload":{"tag":"h2","lines":"1060,1062"}},{"content":"11.2&#x3001;Pull&#x6a21;&#x5f0f;","children":[{"content":"11.2.1&#x3001;&#x7f16;&#x5199;&#x4ee3;&#x7801;","children":[{"content":"<pre data-lines=\"1110,1111\"><code>&#x5728;`service-goods`&#x4e0b;&#x521b;&#x5efa;&#x7c7b;`com.caochenlei.FileDataSourceInit`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1110,1111"}},{"content":"<pre data-lines=\"1112,1254\"><code class=\"language-java\">\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">FileDataSourceInit</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">InitFunc</span> {\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">init</span><span class=\"hljs-params\">()</span> <span class=\"hljs-keyword\">throws</span> Exception {\n        \n        <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">ruleDir</span> <span class=\"hljs-operator\">=</span> System.getProperty(<span class=\"hljs-string\">&quot;user.home&quot;</span>) + <span class=\"hljs-string\">&quot;/sentinel/rules&quot;</span>;\n\n        <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">flowRulePath</span> <span class=\"hljs-operator\">=</span> ruleDir + <span class=\"hljs-string\">&quot;/flow-rule.json&quot;</span>;\n        <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">degradeRulePath</span> <span class=\"hljs-operator\">=</span> ruleDir + <span class=\"hljs-string\">&quot;/degrade-rule.json&quot;</span>;\n        <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">paramFlowRulePath</span> <span class=\"hljs-operator\">=</span> ruleDir + <span class=\"hljs-string\">&quot;/param-flow-rule.json&quot;</span>;\n        <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">systemRulePath</span> <span class=\"hljs-operator\">=</span> ruleDir + <span class=\"hljs-string\">&quot;/system-rule.json&quot;</span>;\n        <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">authorityRulePath</span> <span class=\"hljs-operator\">=</span> ruleDir + <span class=\"hljs-string\">&quot;/authority-rule.json&quot;</span>;\n\n        <span class=\"hljs-built_in\">this</span>.mkdirIfNotExits(ruleDir);\n\n        <span class=\"hljs-built_in\">this</span>.createFileIfNotExits(flowRulePath);\n        <span class=\"hljs-built_in\">this</span>.createFileIfNotExits(degradeRulePath);\n        <span class=\"hljs-built_in\">this</span>.createFileIfNotExits(paramFlowRulePath);\n        <span class=\"hljs-built_in\">this</span>.createFileIfNotExits(systemRulePath);\n        <span class=\"hljs-built_in\">this</span>.createFileIfNotExits(authorityRulePath);\n\n        \n        ReadableDataSource&lt;String, List&lt;FlowRule&gt;&gt; flowRuleRDS = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileRefreshableDataSource</span>&lt;&gt;(\n                flowRulePath,\n                flowRuleListParser\n        );\n        \n        \n        FlowRuleManager.register2Property(flowRuleRDS.getProperty());\n\n        \n        WritableDataSource&lt;List&lt;FlowRule&gt;&gt; flowRuleWDS = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileWritableDataSource</span>&lt;&gt;(\n                flowRulePath,\n                <span class=\"hljs-built_in\">this</span>::encodeJson\n        );\n        \n        \n        WritableDataSourceRegistry.registerFlowDataSource(flowRuleWDS);\n\n        \n        ReadableDataSource&lt;String, List&lt;DegradeRule&gt;&gt; degradeRuleRDS = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileRefreshableDataSource</span>&lt;&gt;(\n                degradeRulePath,\n                degradeRuleListParser\n        );\n        DegradeRuleManager.register2Property(degradeRuleRDS.getProperty());\n\n        \n        WritableDataSource&lt;List&lt;DegradeRule&gt;&gt; degradeRuleWDS = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileWritableDataSource</span>&lt;&gt;(\n                degradeRulePath,\n                <span class=\"hljs-built_in\">this</span>::encodeJson\n        );\n        WritableDataSourceRegistry.registerDegradeDataSource(degradeRuleWDS);\n\n        \n        ReadableDataSource&lt;String, List&lt;ParamFlowRule&gt;&gt; paramFlowRuleRDS = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileRefreshableDataSource</span>&lt;&gt;(\n                paramFlowRulePath,\n                paramFlowRuleListParser\n        );\n        ParamFlowRuleManager.register2Property(paramFlowRuleRDS.getProperty());\n\n        \n        WritableDataSource&lt;List&lt;ParamFlowRule&gt;&gt; paramFlowRuleWDS = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileWritableDataSource</span>&lt;&gt;(\n                paramFlowRulePath,\n                <span class=\"hljs-built_in\">this</span>::encodeJson\n        );\n        ModifyParamFlowRulesCommandHandler.setWritableDataSource(paramFlowRuleWDS);\n\n        \n        ReadableDataSource&lt;String, List&lt;SystemRule&gt;&gt; systemRuleRDS = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileRefreshableDataSource</span>&lt;&gt;(\n                systemRulePath,\n                systemRuleListParser\n        );\n        SystemRuleManager.register2Property(systemRuleRDS.getProperty());\n\n        \n        WritableDataSource&lt;List&lt;SystemRule&gt;&gt; systemRuleWDS = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileWritableDataSource</span>&lt;&gt;(\n                systemRulePath,\n                <span class=\"hljs-built_in\">this</span>::encodeJson\n        );\n        WritableDataSourceRegistry.registerSystemDataSource(systemRuleWDS);\n\n        \n        ReadableDataSource&lt;String, List&lt;AuthorityRule&gt;&gt; authorityRuleRDS = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileRefreshableDataSource</span>&lt;&gt;(\n                authorityRulePath,\n                authorityRuleListParser\n        );\n        AuthorityRuleManager.register2Property(authorityRuleRDS.getProperty());\n\n        \n        WritableDataSource&lt;List&lt;AuthorityRule&gt;&gt; authorityRuleWDS = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FileWritableDataSource</span>&lt;&gt;(\n                authorityRulePath,\n                <span class=\"hljs-built_in\">this</span>::encodeJson\n        );\n        WritableDataSourceRegistry.registerAuthorityDataSource(authorityRuleWDS);\n    }\n\n    <span class=\"hljs-keyword\">private</span> Converter&lt;String, List&lt;FlowRule&gt;&gt; flowRuleListParser = source -&gt; JSON.parseObject(\n            source,\n            <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">TypeReference</span>&lt;List&lt;FlowRule&gt;&gt;() {}\n    );\n\n    <span class=\"hljs-keyword\">private</span> Converter&lt;String, List&lt;DegradeRule&gt;&gt; degradeRuleListParser = source -&gt; JSON.parseObject(\n            source,\n            <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">TypeReference</span>&lt;List&lt;DegradeRule&gt;&gt;() {}\n    );\n\n    <span class=\"hljs-keyword\">private</span> Converter&lt;String, List&lt;SystemRule&gt;&gt; systemRuleListParser = source -&gt; JSON.parseObject(\n            source,\n            <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">TypeReference</span>&lt;List&lt;SystemRule&gt;&gt;() {}\n    );\n\n    <span class=\"hljs-keyword\">private</span> Converter&lt;String, List&lt;AuthorityRule&gt;&gt; authorityRuleListParser = source -&gt; JSON.parseObject(\n            source,\n            <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">TypeReference</span>&lt;List&lt;AuthorityRule&gt;&gt;() {}\n    );\n\n    <span class=\"hljs-keyword\">private</span> Converter&lt;String, List&lt;ParamFlowRule&gt;&gt; paramFlowRuleListParser = source -&gt; JSON.parseObject(\n            source,\n            <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">TypeReference</span>&lt;List&lt;ParamFlowRule&gt;&gt;() {}\n    );\n\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">mkdirIfNotExits</span><span class=\"hljs-params\">(String filePath)</span> <span class=\"hljs-keyword\">throws</span> IOException {\n        <span class=\"hljs-type\">File</span> <span class=\"hljs-variable\">file</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">File</span>(filePath);\n        <span class=\"hljs-keyword\">if</span> (!file.exists()) {\n            file.mkdirs();\n        }\n    }\n\n    <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">createFileIfNotExits</span><span class=\"hljs-params\">(String filePath)</span> <span class=\"hljs-keyword\">throws</span> IOException {\n        <span class=\"hljs-type\">File</span> <span class=\"hljs-variable\">file</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">File</span>(filePath);\n        <span class=\"hljs-keyword\">if</span> (!file.exists()) {\n            file.createNewFile();\n        }\n    }\n\n    <span class=\"hljs-keyword\">private</span> &lt;T&gt; String <span class=\"hljs-title function_\">encodeJson</span><span class=\"hljs-params\">(T t)</span> {\n        <span class=\"hljs-keyword\">return</span> JSON.toJSONString(t);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1112,1254"}}],"payload":{"tag":"h3","lines":"1108,1109"}},{"content":"11.2.2&#x3001;&#x914d;&#x7f6e;&#x4ee3;&#x7801;","children":[{"content":"<pre data-lines=\"1257,1258\"><code>&#x5728;`service-goods`&#x7684;`resources`&#x4e0b;&#x521b;&#x5efa;&#x6587;&#x4ef6;&#x5939;`META-INF\\services`&#xff0c;&#x7136;&#x540e;&#x521b;&#x5efa;&#x6587;&#x4ef6;&#xff1a;`META-INF\\services\\com.alibaba.csp.sentinel.init.InitFunc`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1257,1258"}},{"content":"<pre data-lines=\"1259,1263\"><code data-lines=\"1259,1263\">com<span class=\"hljs-selector-class\">.caochenlei</span><span class=\"hljs-selector-class\">.FileDataSourceInit</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1259,1263"}}],"payload":{"tag":"h3","lines":"1255,1256"}},{"content":"11.2.3&#x3001;&#x91cd;&#x542f;&#x5de5;&#x7a0b;","children":[{"content":"<pre data-lines=\"1266,1267\"><code>&#x91cd;&#x65b0;&#x542f;&#x52a8;`service-goods`&#xff0c;&#x7136;&#x540e;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testA\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1266,1267"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/243a4cedf37af951ecb1dc8108747200.png\" alt>","children":[],"payload":{"tag":"img","lines":"1268,1269"}}],"payload":{"tag":"h3","lines":"1264,1265"}},{"content":"11.2.4&#x3001;&#x6dfb;&#x52a0;&#x6d41;&#x63a7;&#x89c4;&#x5219;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/98468a3b66b8e0649fd98adcfa481c91.png\" alt>","children":[],"payload":{"tag":"img","lines":"1272,1273"}},{"content":"<pre data-lines=\"1274,1275\"><code>&#x6211;&#x4eec;&#x8fd9;&#x4e00;&#x7ae0;&#x4e3b;&#x8981;&#x5b66;&#x4e60;&#x5982;&#x4f55;&#x6301;&#x4e45;&#x5316;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x5404;&#x79cd;&#x9650;&#x6d41;&#x6d4b;&#x8bd5;&#xff0c;&#x6dfb;&#x52a0;&#x89c4;&#x5219;&#x4ee5;&#x540e;&#xff0c;&#x6211;&#x4eec;&#x5c31;&#x4f1a;&#x53d1;&#x73b0;&#x89c4;&#x5219;&#x5df2;&#x7ecf;&#x6301;&#x4e45;&#x5316;&#x5230;&#x4e86;&#x672c;&#x5730;&#x6307;&#x5b9a;&#x6587;&#x4ef6;&#x4e2d;&#x4e86;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1274,1275"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/10a922ff8639b1d49e00ada044490648.png\" alt>","children":[],"payload":{"tag":"img","lines":"1276,1277"}}],"payload":{"tag":"h3","lines":"1270,1271"}},{"content":"11.2.5&#x3001;&#x6dfb;&#x52a0;&#x964d;&#x7ea7;&#x89c4;&#x5219;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7680467ba847e54b82354a5e9d7d86b6.png\" alt>","children":[],"payload":{"tag":"img","lines":"1280,1281"}},{"content":"<pre data-lines=\"1282,1283\"><code>&#x6211;&#x4eec;&#x8fd9;&#x4e00;&#x7ae0;&#x4e3b;&#x8981;&#x5b66;&#x4e60;&#x5982;&#x4f55;&#x6301;&#x4e45;&#x5316;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x5404;&#x79cd;&#x9650;&#x6d41;&#x6d4b;&#x8bd5;&#xff0c;&#x6dfb;&#x52a0;&#x89c4;&#x5219;&#x4ee5;&#x540e;&#xff0c;&#x6211;&#x4eec;&#x5c31;&#x4f1a;&#x53d1;&#x73b0;&#x89c4;&#x5219;&#x5df2;&#x7ecf;&#x6301;&#x4e45;&#x5316;&#x5230;&#x4e86;&#x672c;&#x5730;&#x6307;&#x5b9a;&#x6587;&#x4ef6;&#x4e2d;&#x4e86;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1282,1283"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a03f87599432f39414e84f9ae6a98848.png\" alt>","children":[],"payload":{"tag":"img","lines":"1284,1285"}}],"payload":{"tag":"h3","lines":"1278,1279"}},{"content":"11.2.6&#x3001;&#x6dfb;&#x52a0;&#x70ed;&#x70b9;&#x89c4;&#x5219;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/98119d1eafd3087989c7e61fbbfc7e72.png\" alt>","children":[],"payload":{"tag":"img","lines":"1288,1289"}},{"content":"<pre data-lines=\"1290,1291\"><code>&#x6211;&#x4eec;&#x8fd9;&#x4e00;&#x7ae0;&#x4e3b;&#x8981;&#x5b66;&#x4e60;&#x5982;&#x4f55;&#x6301;&#x4e45;&#x5316;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x5404;&#x79cd;&#x9650;&#x6d41;&#x6d4b;&#x8bd5;&#xff0c;&#x6dfb;&#x52a0;&#x89c4;&#x5219;&#x4ee5;&#x540e;&#xff0c;&#x6211;&#x4eec;&#x5c31;&#x4f1a;&#x53d1;&#x73b0;&#x89c4;&#x5219;&#x5df2;&#x7ecf;&#x6301;&#x4e45;&#x5316;&#x5230;&#x4e86;&#x672c;&#x5730;&#x6307;&#x5b9a;&#x6587;&#x4ef6;&#x4e2d;&#x4e86;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1290,1291"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/f4053a7637e019fa8161d3aaa30a6139.png\" alt>","children":[],"payload":{"tag":"img","lines":"1292,1293"}}],"payload":{"tag":"h3","lines":"1286,1287"}},{"content":"11.2.7&#x3001;&#x6dfb;&#x52a0;&#x6388;&#x6743;&#x89c4;&#x5219;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a85edd89fbfcaf27a83596b81b3d94d4.png\" alt>","children":[],"payload":{"tag":"img","lines":"1296,1297"}},{"content":"<pre data-lines=\"1298,1299\"><code>&#x6211;&#x4eec;&#x8fd9;&#x4e00;&#x7ae0;&#x4e3b;&#x8981;&#x5b66;&#x4e60;&#x5982;&#x4f55;&#x6301;&#x4e45;&#x5316;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x5404;&#x79cd;&#x9650;&#x6d41;&#x6d4b;&#x8bd5;&#xff0c;&#x6dfb;&#x52a0;&#x89c4;&#x5219;&#x4ee5;&#x540e;&#xff0c;&#x6211;&#x4eec;&#x5c31;&#x4f1a;&#x53d1;&#x73b0;&#x89c4;&#x5219;&#x5df2;&#x7ecf;&#x6301;&#x4e45;&#x5316;&#x5230;&#x4e86;&#x672c;&#x5730;&#x6307;&#x5b9a;&#x6587;&#x4ef6;&#x4e2d;&#x4e86;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1298,1299"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/70d78e91ac0d89dc9b13bbf77bb3405a.png\" alt>","children":[],"payload":{"tag":"img","lines":"1300,1301"}}],"payload":{"tag":"h3","lines":"1294,1295"}},{"content":"11.2.8&#x3001;&#x6dfb;&#x52a0;&#x7cfb;&#x7edf;&#x89c4;&#x5219;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/60700000e4db98d333c25ae9e677ac4b.png\" alt>","children":[],"payload":{"tag":"img","lines":"1304,1305"}},{"content":"<pre data-lines=\"1306,1307\"><code>&#x6211;&#x4eec;&#x8fd9;&#x4e00;&#x7ae0;&#x4e3b;&#x8981;&#x5b66;&#x4e60;&#x5982;&#x4f55;&#x6301;&#x4e45;&#x5316;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x5404;&#x79cd;&#x9650;&#x6d41;&#x6d4b;&#x8bd5;&#xff0c;&#x6dfb;&#x52a0;&#x89c4;&#x5219;&#x4ee5;&#x540e;&#xff0c;&#x6211;&#x4eec;&#x5c31;&#x4f1a;&#x53d1;&#x73b0;&#x89c4;&#x5219;&#x5df2;&#x7ecf;&#x6301;&#x4e45;&#x5316;&#x5230;&#x4e86;&#x672c;&#x5730;&#x6307;&#x5b9a;&#x6587;&#x4ef6;&#x4e2d;&#x4e86;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1306,1307"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/5d159a5deb57442cada1e7caeaf8e42f.png\" alt>","children":[],"payload":{"tag":"img","lines":"1308,1309"}}],"payload":{"tag":"h3","lines":"1302,1303"}},{"content":"11.2.9&#x3001;&#x91cd;&#x542f;&#x4ee5;&#x540e;&#x67e5;&#x770b;","children":[{"content":"<pre data-lines=\"1312,1313\"><code>&#x91cd;&#x65b0;&#x542f;&#x52a8;`service-goods`&#xff0c;&#x7136;&#x540e;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testA\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1312,1313"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/243a4cedf37af951ecb1dc8108747200.png\" alt>","children":[],"payload":{"tag":"img","lines":"1314,1315"}},{"content":"<pre data-lines=\"1316,1317\"><code>&#x6d41;&#x63a7;&#x89c4;&#x5219;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1316,1317"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/1a95fd9e5d427a4a90db02066cd0c057.png\" alt>","children":[],"payload":{"tag":"img","lines":"1318,1319"}},{"content":"<pre data-lines=\"1320,1321\"><code>&#x964d;&#x7ea7;&#x89c4;&#x5219;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1320,1321"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/dfb733c069632dcf1b567a8fc5716750.png\" alt>","children":[],"payload":{"tag":"img","lines":"1322,1323"}},{"content":"<pre data-lines=\"1324,1325\"><code>&#x70ed;&#x70b9;&#x89c4;&#x5219;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1324,1325"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/50ed745901656c81a5c839c2b6f99203.png\" alt>","children":[],"payload":{"tag":"img","lines":"1326,1327"}},{"content":"<pre data-lines=\"1328,1329\"><code>&#x6388;&#x6743;&#x89c4;&#x5219;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1328,1329"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/4739f2ca25598febd1dce819ed78e81f.png\" alt>","children":[],"payload":{"tag":"img","lines":"1330,1331"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a55b7f18687e40c76f5b6185d95fb641.png\" alt>","children":[],"payload":{"tag":"img","lines":"1334,1335"}},{"content":"<pre data-lines=\"1336,1337\"><code>**&#x4e3a;&#x4e86;&#x4e0b;&#x4e00;&#x5c0f;&#x8282;&#x7684;&#x6f14;&#x793a;&#xff0c;&#x8bf7;&#x5c06;`META-INF\\services\\com.alibaba.csp.sentinel.init.InitFunc`&#x91cc;&#x8fb9;&#x7684;&#x5185;&#x5bb9;&#x5220;&#x9664;&#xff0c;&#x7136;&#x540e;&#x91cd;&#x542f;&#x68c0;&#x67e5;&#x53d1;&#x73b0;&#x89c4;&#x5219;&#x5df2;&#x7ecf;&#x5168;&#x90e8;&#x53d6;&#x6d88;&#x3002;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1336,1337"}}],"payload":{"tag":"h3","lines":"1310,1311"}}],"payload":{"tag":"h2","lines":"1069,1071"}},{"content":"11.3&#x3001;Push&#x6a21;&#x5f0f;","children":[{"content":"11.3.1&#x3001;&#x5bfc;&#x5165;&#x4f9d;&#x8d56;","children":[{"content":"<pre data-lines=\"1358,1359\"><code>&#x5728;`service-goods`&#x7684;`pom.xml`&#x4e2d;&#x65b0;&#x589e;&#x4ee5;&#x4e0b;&#x4f9d;&#x8d56;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1358,1359"}},{"content":"<pre data-lines=\"1360,1367\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.alibaba.csp<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>sentinel-datasource-nacos<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1360,1367"}}],"payload":{"tag":"h3","lines":"1356,1357"}},{"content":"11.3.2&#x3001;&#x7f16;&#x5199;&#x914d;&#x7f6e;","children":[{"content":"<pre data-lines=\"1370,1371\"><code>&#x5728;`service-goods`&#x7684;`application.yaml`&#x4fee;&#x6539;&#x6210;&#x5982;&#x4e0b;&#x914d;&#x7f6e;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1370,1371"}},{"content":"<pre data-lines=\"1372,1438\"><code class=\"language-yaml\"><span class=\"hljs-attr\">server:</span>\n  <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">7001</span>\n\n<span class=\"hljs-attr\">management:</span>\n  <span class=\"hljs-attr\">endpoints:</span>\n    <span class=\"hljs-attr\">web:</span>\n      <span class=\"hljs-attr\">exposure:</span>\n        <span class=\"hljs-attr\">include:</span> <span class=\"hljs-string\">&apos;*&apos;</span>\n\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">cloud:</span>\n    <span class=\"hljs-attr\">sentinel:</span>\n      <span class=\"hljs-attr\">transport:</span>\n        <span class=\"hljs-attr\">dashboard:</span> <span class=\"hljs-string\">http://localhost:8080</span>\n      \n      <span class=\"hljs-attr\">filter:</span>\n        <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">true</span>\n      <span class=\"hljs-attr\">datasource:</span>\n        <span class=\"hljs-attr\">ds1:</span>\n          <span class=\"hljs-attr\">nacos:</span>\n            <span class=\"hljs-attr\">serverAddr:</span> <span class=\"hljs-string\">&#x24;{spring.cloud.nacos.discovery.server-addr}</span>\n            <span class=\"hljs-attr\">dataId:</span> <span class=\"hljs-string\">flow-rule.json</span>\n            <span class=\"hljs-attr\">groupId:</span> <span class=\"hljs-string\">DEFAULT_GROUP</span>\n            <span class=\"hljs-attr\">dataType:</span> <span class=\"hljs-string\">json</span>\n            <span class=\"hljs-attr\">ruleType:</span> <span class=\"hljs-string\">flow</span>\n        <span class=\"hljs-attr\">ds2:</span>\n          <span class=\"hljs-attr\">nacos:</span>\n            <span class=\"hljs-attr\">serverAddr:</span> <span class=\"hljs-string\">&#x24;{spring.cloud.nacos.discovery.server-addr}</span>\n            <span class=\"hljs-attr\">dataId:</span> <span class=\"hljs-string\">degrade-rule.json</span>\n            <span class=\"hljs-attr\">groupId:</span> <span class=\"hljs-string\">DEFAULT_GROUP</span>\n            <span class=\"hljs-attr\">dataType:</span> <span class=\"hljs-string\">json</span>\n            <span class=\"hljs-attr\">ruleType:</span> <span class=\"hljs-string\">degrade</span>\n        <span class=\"hljs-attr\">ds3:</span>\n          <span class=\"hljs-attr\">nacos:</span>\n            <span class=\"hljs-attr\">serverAddr:</span> <span class=\"hljs-string\">&#x24;{spring.cloud.nacos.discovery.server-addr}</span>\n            <span class=\"hljs-attr\">dataId:</span> <span class=\"hljs-string\">param-flow-rule.json</span>\n            <span class=\"hljs-attr\">groupId:</span> <span class=\"hljs-string\">DEFAULT_GROUP</span>\n            <span class=\"hljs-attr\">dataType:</span> <span class=\"hljs-string\">json</span>\n            <span class=\"hljs-attr\">ruleType:</span> <span class=\"hljs-string\">param-flow</span>\n        <span class=\"hljs-attr\">ds4:</span>\n          <span class=\"hljs-attr\">nacos:</span>\n            <span class=\"hljs-attr\">serverAddr:</span> <span class=\"hljs-string\">&#x24;{spring.cloud.nacos.discovery.server-addr}</span>\n            <span class=\"hljs-attr\">dataId:</span> <span class=\"hljs-string\">authority-rule.json</span>\n            <span class=\"hljs-attr\">groupId:</span> <span class=\"hljs-string\">DEFAULT_GROUP</span>\n            <span class=\"hljs-attr\">dataType:</span> <span class=\"hljs-string\">json</span>\n            <span class=\"hljs-attr\">ruleType:</span> <span class=\"hljs-string\">authority</span>\n        <span class=\"hljs-attr\">ds5:</span>\n          <span class=\"hljs-attr\">nacos:</span>\n            <span class=\"hljs-attr\">serverAddr:</span> <span class=\"hljs-string\">&#x24;{spring.cloud.nacos.discovery.server-addr}</span>\n            <span class=\"hljs-attr\">dataId:</span> <span class=\"hljs-string\">system-rule.json</span>\n            <span class=\"hljs-attr\">groupId:</span> <span class=\"hljs-string\">DEFAULT_GROUP</span>\n            <span class=\"hljs-attr\">dataType:</span> <span class=\"hljs-string\">json</span>\n            <span class=\"hljs-attr\">ruleType:</span> <span class=\"hljs-string\">system</span>\n\n\n<span class=\"hljs-attr\">resttemplate:</span>\n  <span class=\"hljs-attr\">sentinel:</span>\n    <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">true</span>\n\n\n<span class=\"hljs-attr\">feign:</span>\n  <span class=\"hljs-attr\">sentinel:</span>\n    <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">true</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1372,1438"}}],"payload":{"tag":"h3","lines":"1368,1369"}},{"content":"11.3.3&#x3001;&#x521b;&#x5efa;&#x6587;&#x4ef6;","children":[{"content":"<pre data-lines=\"1441,1442\"><code>&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:8848/nacos/&#xff0c;&#x767b;&#x5f55;&#x8d26;&#x53f7;&#xff1a;nacos&#xff0c;&#x767b;&#x5f55;&#x5bc6;&#x7801;&#xff1a;nacos\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1441,1442"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/973a71f8b141136474b07cc2df996869.png\" alt>","children":[],"payload":{"tag":"img","lines":"1443,1444"}},{"content":"<pre data-lines=\"1445,1446\"><code>&#x4f9d;&#x6b21;&#x521b;&#x5efa;&#x5982;&#x4e0b;&#x6587;&#x4ef6;&#xff0c;&#x6587;&#x4ef6;&#x5185;&#x5bb9;&#x62f7;&#x8d1d;&#x4e4b;&#x524d;&#x751f;&#x6210;&#x5230;&#x672c;&#x5730;&#x7684;&#x5185;&#x5bb9;&#x6570;&#x636e;&#x5373;&#x53ef;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1445,1446"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7fafd9940837c0fb41b7087ac660a76d.png\" alt>","children":[],"payload":{"tag":"img","lines":"1447,1448"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d95d045d360fc512136c93e3a2672674.png\" alt>","children":[],"payload":{"tag":"img","lines":"1449,1450"}}],"payload":{"tag":"h3","lines":"1439,1440"}},{"content":"11.3.4&#x3001;&#x91cd;&#x542f;&#x5e94;&#x7528;","children":[{"content":"<pre data-lines=\"1453,1454\"><code>&#x91cd;&#x65b0;&#x542f;&#x52a8;`service-goods`&#xff0c;&#x7136;&#x540e;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:7001/goods/testA\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1453,1454"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/243a4cedf37af951ecb1dc8108747200.png\" alt>","children":[],"payload":{"tag":"img","lines":"1455,1456"}},{"content":"<pre data-lines=\"1457,1458\"><code>&#x6d41;&#x63a7;&#x89c4;&#x5219;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1457,1458"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/1a95fd9e5d427a4a90db02066cd0c057.png\" alt>","children":[],"payload":{"tag":"img","lines":"1459,1460"}},{"content":"<pre data-lines=\"1461,1462\"><code>&#x964d;&#x7ea7;&#x89c4;&#x5219;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1461,1462"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/dfb733c069632dcf1b567a8fc5716750.png\" alt>","children":[],"payload":{"tag":"img","lines":"1463,1464"}},{"content":"<pre data-lines=\"1465,1466\"><code>&#x70ed;&#x70b9;&#x89c4;&#x5219;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1465,1466"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/50ed745901656c81a5c839c2b6f99203.png\" alt>","children":[],"payload":{"tag":"img","lines":"1467,1468"}},{"content":"<pre data-lines=\"1469,1470\"><code>&#x6388;&#x6743;&#x89c4;&#x5219;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1469,1470"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/4739f2ca25598febd1dce819ed78e81f.png\" alt>","children":[],"payload":{"tag":"img","lines":"1471,1472"}},{"content":"<pre data-lines=\"1473,1474\"><code>&#x7cfb;&#x7edf;&#x89c4;&#x5219;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1473,1474"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a55b7f18687e40c76f5b6185d95fb641.png\" alt>","children":[],"payload":{"tag":"img","lines":"1475,1476"}},{"content":"<pre data-lines=\"1477,1478\"><code>**&#x4f60;&#x4fee;&#x6539;&#x4e86;&#x4ee5;&#x540e;&#x662f;&#x4e0d;&#x80fd;&#x4fdd;&#x5b58;&#x5230;nacos&#x914d;&#x7f6e;&#x4e2d;&#x5fc3;&#x7684;&#xff0c;&#x5173;&#x4e8e;&#x8fd9;&#x4e2a;&#x95ee;&#x9898;&#xff0c;&#x53ef;&#x80fd;&#x4f1a;&#x5728;&#x4ee5;&#x540e;&#x7684;&#x7248;&#x672c;&#x4e2d;&#x8fdb;&#x884c;&#x589e;&#x5f3a;&#x3002;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1477,1478"}}],"payload":{"tag":"h3","lines":"1451,1452"}}],"payload":{"tag":"h2","lines":"1338,1340"}},{"content":"12.1&#x3001;&#x96c6;&#x7fa4;&#x6d41;&#x63a7;","children":[{"content":"<pre data-lines=\"1482,1483\"><code>&#x5b98;&#x65b9;&#x8bf4;&#x660e;&#xff1a;https://github.com/alibaba/Sentinel/wiki/%E9%9B%86%E7%BE%A4%E6%B5%81%E6%8E%A7\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1482,1483"}}],"payload":{"tag":"h2","lines":"1479,1481"}},{"content":"12.2&#x3001;&#x7f51;&#x5173;&#x6d41;&#x63a7;","children":[{"content":"<pre data-lines=\"1487,1488\"><code>&#x5b98;&#x65b9;&#x8bf4;&#x660e;&#xff1a;https://github.com/alibaba/Sentinel/wiki/%E7%BD%91%E5%85%B3%E9%99%90%E6%B5%81\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1487,1488"}}],"payload":{"tag":"h2","lines":"1484,1486"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
