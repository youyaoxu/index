<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"History &#x5bf9;&#x8c61;","children":[{"content":"&#x6982;&#x8ff0;","children":[{"content":"<pre data-lines=\"4,7\"><code>`window.history`&#x5c5e;&#x6027;&#x6307;&#x5411; History &#x5bf9;&#x8c61;&#xff0c;&#x5b83;&#x8868;&#x793a;&#x5f53;&#x524d;&#x7a97;&#x53e3;&#x7684;&#x6d4f;&#x89c8;&#x5386;&#x53f2;&#x3002;\n\nHistory &#x5bf9;&#x8c61;&#x4fdd;&#x5b58;&#x4e86;&#x5f53;&#x524d;&#x7a97;&#x53e3;&#x8bbf;&#x95ee;&#x8fc7;&#x7684;&#x6240;&#x6709;&#x9875;&#x9762;&#x7f51;&#x5740;&#x3002;&#x4e0b;&#x9762;&#x4ee3;&#x7801;&#x8868;&#x793a;&#x5f53;&#x524d;&#x7a97;&#x53e3;&#x4e00;&#x5171;&#x8bbf;&#x95ee;&#x8fc7;3&#x4e2a;&#x7f51;&#x5740;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,7"}},{"content":"<pre data-lines=\"8,11\"><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">history</span>.<span class=\"hljs-property\">length</span> <span class=\"hljs-comment\">// 3</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"8,11"}},{"content":"<pre data-lines=\"12,13\"><code>&#x7531;&#x4e8e;&#x5b89;&#x5168;&#x539f;&#x56e0;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x4e0d;&#x5141;&#x8bb8;&#x811a;&#x672c;&#x8bfb;&#x53d6;&#x8fd9;&#x4e9b;&#x5730;&#x5740;&#xff0c;&#x4f46;&#x662f;&#x5141;&#x8bb8;&#x5728;&#x5730;&#x5740;&#x4e4b;&#x95f4;&#x5bfc;&#x822a;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"12,13"}},{"content":"<pre data-lines=\"14,21\"><code class=\"language-javascript\"><span class=\"hljs-comment\">// &#x540e;&#x9000;&#x5230;&#x524d;&#x4e00;&#x4e2a;&#x7f51;&#x5740;</span>\nhistory.<span class=\"hljs-title function_\">back</span>()\n\n<span class=\"hljs-comment\">// &#x7b49;&#x540c;&#x4e8e;</span>\nhistory.<span class=\"hljs-title function_\">go</span>(-<span class=\"hljs-number\">1</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"14,21"}},{"content":"<pre data-lines=\"22,23\"><code>&#x6d4f;&#x89c8;&#x5668;&#x5de5;&#x5177;&#x680f;&#x7684;&#x201c;&#x524d;&#x8fdb;&#x201d;&#x548c;&#x201c;&#x540e;&#x9000;&#x201d;&#x6309;&#x94ae;&#xff0c;&#x5176;&#x5b9e;&#x5c31;&#x662f;&#x5bf9; History &#x5bf9;&#x8c61;&#x8fdb;&#x884c;&#x64cd;&#x4f5c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"22,23"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"&#x5c5e;&#x6027;","children":[{"content":"<pre data-lines=\"26,30\"><code>History &#x5bf9;&#x8c61;&#x4e3b;&#x8981;&#x6709;&#x4e24;&#x4e2a;&#x5c5e;&#x6027;&#x3002;\n\n- `History.length`&#xff1a;&#x5f53;&#x524d;&#x7a97;&#x53e3;&#x8bbf;&#x95ee;&#x8fc7;&#x7684;&#x7f51;&#x5740;&#x6570;&#x91cf;&#xff08;&#x5305;&#x62ec;&#x5f53;&#x524d;&#x7f51;&#x9875;&#xff09;\n- `History.state`&#xff1a;History &#x5806;&#x6808;&#x6700;&#x4e0a;&#x5c42;&#x7684;&#x72b6;&#x6001;&#x503c;&#xff08;&#x8be6;&#x89c1;&#x4e0b;&#x6587;&#xff09;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"26,30"}},{"content":"<pre data-lines=\"31,39\"><code class=\"language-javascript\"><span class=\"hljs-comment\">// &#x5f53;&#x524d;&#x7a97;&#x53e3;&#x8bbf;&#x95ee;&#x8fc7;&#x591a;&#x5c11;&#x4e2a;&#x7f51;&#x9875;</span>\n<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">history</span>.<span class=\"hljs-property\">length</span> <span class=\"hljs-comment\">// 1</span>\n\n<span class=\"hljs-comment\">// History &#x5bf9;&#x8c61;&#x7684;&#x5f53;&#x524d;&#x72b6;&#x6001;</span>\n<span class=\"hljs-comment\">// &#x901a;&#x5e38;&#x662f; undefined&#xff0c;&#x5373;&#x672a;&#x8bbe;&#x7f6e;</span>\n<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">history</span>.<span class=\"hljs-property\">state</span> <span class=\"hljs-comment\">// undefined</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"31,39"}}],"payload":{"tag":"h2","lines":"24,25"}},{"content":"&#x65b9;&#x6cd5;","children":[{"content":"History.back()&#x3001;History.forward()&#x3001;History.go()","children":[{"content":"<pre data-lines=\"44,49\"><code>&#x8fd9;&#x4e09;&#x4e2a;&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x5728;&#x5386;&#x53f2;&#x4e4b;&#x4e2d;&#x79fb;&#x52a8;&#x3002;\n\n- `History.back()`&#xff1a;&#x79fb;&#x52a8;&#x5230;&#x4e0a;&#x4e00;&#x4e2a;&#x7f51;&#x5740;&#xff0c;&#x7b49;&#x540c;&#x4e8e;&#x70b9;&#x51fb;&#x6d4f;&#x89c8;&#x5668;&#x7684;&#x540e;&#x9000;&#x952e;&#x3002;&#x5bf9;&#x4e8e;&#x7b2c;&#x4e00;&#x4e2a;&#x8bbf;&#x95ee;&#x7684;&#x7f51;&#x5740;&#xff0c;&#x8be5;&#x65b9;&#x6cd5;&#x65e0;&#x6548;&#x679c;&#x3002;\n- `History.forward()`&#xff1a;&#x79fb;&#x52a8;&#x5230;&#x4e0b;&#x4e00;&#x4e2a;&#x7f51;&#x5740;&#xff0c;&#x7b49;&#x540c;&#x4e8e;&#x70b9;&#x51fb;&#x6d4f;&#x89c8;&#x5668;&#x7684;&#x524d;&#x8fdb;&#x952e;&#x3002;&#x5bf9;&#x4e8e;&#x6700;&#x540e;&#x4e00;&#x4e2a;&#x8bbf;&#x95ee;&#x7684;&#x7f51;&#x5740;&#xff0c;&#x8be5;&#x65b9;&#x6cd5;&#x65e0;&#x6548;&#x679c;&#x3002;\n- `History.go()`&#xff1a;&#x63a5;&#x53d7;&#x4e00;&#x4e2a;&#x6574;&#x6570;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x4ee5;&#x5f53;&#x524d;&#x7f51;&#x5740;&#x4e3a;&#x57fa;&#x51c6;&#xff0c;&#x79fb;&#x52a8;&#x5230;&#x53c2;&#x6570;&#x6307;&#x5b9a;&#x7684;&#x7f51;&#x5740;&#xff0c;&#x6bd4;&#x5982;`go(1)`&#x76f8;&#x5f53;&#x4e8e;`forward()`&#xff0c;`go(-1)`&#x76f8;&#x5f53;&#x4e8e;`back()`&#x3002;&#x5982;&#x679c;&#x53c2;&#x6570;&#x8d85;&#x8fc7;&#x5b9e;&#x9645;&#x5b58;&#x5728;&#x7684;&#x7f51;&#x5740;&#x8303;&#x56f4;&#xff0c;&#x8be5;&#x65b9;&#x6cd5;&#x65e0;&#x6548;&#x679c;&#xff1b;&#x5982;&#x679c;&#x4e0d;&#x6307;&#x5b9a;&#x53c2;&#x6570;&#xff0c;&#x9ed8;&#x8ba4;&#x53c2;&#x6570;&#x4e3a;`0`&#xff0c;&#x76f8;&#x5f53;&#x4e8e;&#x5237;&#x65b0;&#x5f53;&#x524d;&#x9875;&#x9762;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"44,49"}},{"content":"<pre data-lines=\"50,55\"><code class=\"language-javascript\">history.back();\nhistory.forward();\nhistory.go(-2);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"50,55"}},{"content":"<pre data-lines=\"56,57\"><code>`history.go(0)`&#x76f8;&#x5f53;&#x4e8e;&#x5237;&#x65b0;&#x5f53;&#x524d;&#x9875;&#x9762;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"56,57"}},{"content":"<pre data-lines=\"58,61\"><code class=\"language-javascript\">history.<span class=\"hljs-title function_\">go</span>(<span class=\"hljs-number\">0</span>); <span class=\"hljs-comment\">// &#x5237;&#x65b0;&#x5f53;&#x524d;&#x9875;&#x9762;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"58,61"}},{"content":"<pre data-lines=\"62,63\"><code>&#x6ce8;&#x610f;&#xff0c;&#x79fb;&#x52a8;&#x5230;&#x4ee5;&#x524d;&#x8bbf;&#x95ee;&#x8fc7;&#x7684;&#x9875;&#x9762;&#x65f6;&#xff0c;&#x9875;&#x9762;&#x901a;&#x5e38;&#x662f;&#x4ece;&#x6d4f;&#x89c8;&#x5668;&#x7f13;&#x5b58;&#x4e4b;&#x4e2d;&#x52a0;&#x8f7d;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x91cd;&#x65b0;&#x8981;&#x6c42;&#x670d;&#x52a1;&#x5668;&#x53d1;&#x9001;&#x65b0;&#x7684;&#x7f51;&#x9875;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"62,63"}}],"payload":{"tag":"h3","lines":"42,43"}},{"content":"History.pushState()&#xff0c;","children":[{"content":"<pre data-lines=\"66,67\"><code>`History.pushState()`&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x5728;&#x5386;&#x53f2;&#x4e2d;&#x6dfb;&#x52a0;&#x4e00;&#x6761;&#x8bb0;&#x5f55;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"66,67"}},{"content":"<pre data-lines=\"68,71\"><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">history</span>.<span class=\"hljs-title function_\">pushState</span>(state, title, url)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"68,71"}},{"content":"<pre data-lines=\"72,79\"><code>&#x8be5;&#x65b9;&#x6cd5;&#x63a5;&#x53d7;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x4f9d;&#x6b21;&#x4e3a;&#xff1a;\n\n- `state`&#xff1a;&#x4e00;&#x4e2a;&#x4e0e;&#x6dfb;&#x52a0;&#x7684;&#x8bb0;&#x5f55;&#x76f8;&#x5173;&#x8054;&#x7684;&#x72b6;&#x6001;&#x5bf9;&#x8c61;&#xff0c;&#x4e3b;&#x8981;&#x7528;&#x4e8e;`popstate`&#x4e8b;&#x4ef6;&#x3002;&#x8be5;&#x4e8b;&#x4ef6;&#x89e6;&#x53d1;&#x65f6;&#xff0c;&#x8be5;&#x5bf9;&#x8c61;&#x4f1a;&#x4f20;&#x5165;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x4f1a;&#x5c06;&#x8fd9;&#x4e2a;&#x5bf9;&#x8c61;&#x5e8f;&#x5217;&#x5316;&#x4ee5;&#x540e;&#x4fdd;&#x7559;&#x5728;&#x672c;&#x5730;&#xff0c;&#x91cd;&#x65b0;&#x8f7d;&#x5165;&#x8fd9;&#x4e2a;&#x9875;&#x9762;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x53ef;&#x4ee5;&#x62ff;&#x5230;&#x8fd9;&#x4e2a;&#x5bf9;&#x8c61;&#x3002;&#x5982;&#x679c;&#x4e0d;&#x9700;&#x8981;&#x8fd9;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x6b64;&#x5904;&#x53ef;&#x4ee5;&#x586b;`null`&#x3002;\n- `title`&#xff1a;&#x65b0;&#x9875;&#x9762;&#x7684;&#x6807;&#x9898;&#x3002;&#x4f46;&#x662f;&#xff0c;&#x73b0;&#x5728;&#x6240;&#x6709;&#x6d4f;&#x89c8;&#x5668;&#x90fd;&#x5ffd;&#x89c6;&#x8fd9;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x6240;&#x4ee5;&#x8fd9;&#x91cc;&#x53ef;&#x4ee5;&#x586b;&#x7a7a;&#x5b57;&#x7b26;&#x4e32;&#x3002;\n- `url`&#xff1a;&#x65b0;&#x7684;&#x7f51;&#x5740;&#xff0c;&#x5fc5;&#x987b;&#x4e0e;&#x5f53;&#x524d;&#x9875;&#x9762;&#x5904;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x57df;&#x3002;&#x6d4f;&#x89c8;&#x5668;&#x7684;&#x5730;&#x5740;&#x680f;&#x5c06;&#x663e;&#x793a;&#x8fd9;&#x4e2a;&#x7f51;&#x5740;&#x3002;\n\n&#x5047;&#x5b9a;&#x5f53;&#x524d;&#x7f51;&#x5740;&#x662f;`example.com/1.html`&#xff0c;&#x4f7f;&#x7528;`pushState()`&#x65b9;&#x6cd5;&#x5728;&#x6d4f;&#x89c8;&#x8bb0;&#x5f55;&#xff08;History &#x5bf9;&#x8c61;&#xff09;&#x4e2d;&#x6dfb;&#x52a0;&#x4e00;&#x4e2a;&#x65b0;&#x8bb0;&#x5f55;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"72,79"}},{"content":"<pre data-lines=\"80,84\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> stateObj = { <span class=\"hljs-attr\">foo</span>: <span class=\"hljs-string\">&apos;bar&apos;</span> };\nhistory.<span class=\"hljs-title function_\">pushState</span>(stateObj, <span class=\"hljs-string\">&apos;page 2&apos;</span>, <span class=\"hljs-string\">&apos;2.html&apos;</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"80,84"}},{"content":"<pre data-lines=\"85,90\"><code>&#x6dfb;&#x52a0;&#x65b0;&#x8bb0;&#x5f55;&#x540e;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x5730;&#x5740;&#x680f;&#x7acb;&#x523b;&#x663e;&#x793a;`example.com/2.html`&#xff0c;&#x4f46;&#x5e76;&#x4e0d;&#x4f1a;&#x8df3;&#x8f6c;&#x5230;`2.html`&#xff0c;&#x751a;&#x81f3;&#x4e5f;&#x4e0d;&#x4f1a;&#x68c0;&#x67e5;`2.html`&#x662f;&#x5426;&#x5b58;&#x5728;&#xff0c;&#x5b83;&#x53ea;&#x662f;&#x6210;&#x4e3a;&#x6d4f;&#x89c8;&#x5386;&#x53f2;&#x4e2d;&#x7684;&#x6700;&#x65b0;&#x8bb0;&#x5f55;&#x3002;&#x8fd9;&#x65f6;&#xff0c;&#x5728;&#x5730;&#x5740;&#x680f;&#x8f93;&#x5165;&#x4e00;&#x4e2a;&#x65b0;&#x7684;&#x5730;&#x5740;(&#x6bd4;&#x5982;&#x8bbf;&#x95ee;`google.com`)&#xff0c;&#x7136;&#x540e;&#x70b9;&#x51fb;&#x4e86;&#x5012;&#x9000;&#x6309;&#x94ae;&#xff0c;&#x9875;&#x9762;&#x7684; URL &#x5c06;&#x663e;&#x793a;`2.html`&#xff1b;&#x4f60;&#x518d;&#x70b9;&#x51fb;&#x4e00;&#x6b21;&#x5012;&#x9000;&#x6309;&#x94ae;&#xff0c;URL &#x5c06;&#x663e;&#x793a;`1.html`&#x3002;\n\n&#x603b;&#x4e4b;&#xff0c;`pushState()`&#x65b9;&#x6cd5;&#x4e0d;&#x4f1a;&#x89e6;&#x53d1;&#x9875;&#x9762;&#x5237;&#x65b0;&#xff0c;&#x53ea;&#x662f;&#x5bfc;&#x81f4; History &#x5bf9;&#x8c61;&#x53d1;&#x751f;&#x53d8;&#x5316;&#xff0c;&#x5730;&#x5740;&#x680f;&#x4f1a;&#x6709;&#x53cd;&#x5e94;&#x3002;\n\n&#x4f7f;&#x7528;&#x8be5;&#x65b9;&#x6cd5;&#x4e4b;&#x540e;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x7528;`History.state`&#x5c5e;&#x6027;&#x8bfb;&#x51fa;&#x72b6;&#x6001;&#x5bf9;&#x8c61;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"85,90"}},{"content":"<pre data-lines=\"91,96\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> stateObj = { <span class=\"hljs-attr\">foo</span>: <span class=\"hljs-string\">&apos;bar&apos;</span> };\nhistory.<span class=\"hljs-title function_\">pushState</span>(stateObj, <span class=\"hljs-string\">&apos;page 2&apos;</span>, <span class=\"hljs-string\">&apos;2.html&apos;</span>);\nhistory.<span class=\"hljs-property\">state</span> <span class=\"hljs-comment\">// {foo: &quot;bar&quot;}</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"91,96"}},{"content":"<pre data-lines=\"97,100\"><code>&#x5982;&#x679c;`pushState`&#x7684; URL &#x53c2;&#x6570;&#x8bbe;&#x7f6e;&#x4e86;&#x4e00;&#x4e2a;&#x65b0;&#x7684;&#x951a;&#x70b9;&#x503c;&#xff08;&#x5373;`hash`&#xff09;&#xff0c;&#x5e76;&#x4e0d;&#x4f1a;&#x89e6;&#x53d1;`hashchange`&#x4e8b;&#x4ef6;&#x3002;&#x53cd;&#x8fc7;&#x6765;&#xff0c;&#x5982;&#x679c; URL &#x7684;&#x951a;&#x70b9;&#x503c;&#x53d8;&#x4e86;&#xff0c;&#x5219;&#x4f1a;&#x5728; History &#x5bf9;&#x8c61;&#x521b;&#x5efa;&#x4e00;&#x6761;&#x6d4f;&#x89c8;&#x8bb0;&#x5f55;&#x3002;\n\n&#x5982;&#x679c;`pushState()`&#x65b9;&#x6cd5;&#x8bbe;&#x7f6e;&#x4e86;&#x4e00;&#x4e2a;&#x8de8;&#x57df;&#x7f51;&#x5740;&#xff0c;&#x5219;&#x4f1a;&#x62a5;&#x9519;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"97,100"}},{"content":"<pre data-lines=\"101,106\"><code class=\"language-javascript\"><span class=\"hljs-comment\">// &#x62a5;&#x9519;</span>\n<span class=\"hljs-comment\">// &#x5f53;&#x524d;&#x7f51;&#x5740;&#x4e3a; http://example.com</span>\nhistory.<span class=\"hljs-title function_\">pushState</span>(<span class=\"hljs-literal\">null</span>, <span class=\"hljs-string\">&apos;&apos;</span>, <span class=\"hljs-string\">&apos;https://twitter.com/hello&apos;</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"101,106"}},{"content":"<pre data-lines=\"107,108\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`pushState`&#x60f3;&#x8981;&#x63d2;&#x5165;&#x4e00;&#x4e2a;&#x8de8;&#x57df;&#x7684;&#x7f51;&#x5740;&#xff0c;&#x5bfc;&#x81f4;&#x62a5;&#x9519;&#x3002;&#x8fd9;&#x6837;&#x8bbe;&#x8ba1;&#x7684;&#x76ee;&#x7684;&#x662f;&#xff0c;&#x9632;&#x6b62;&#x6076;&#x610f;&#x4ee3;&#x7801;&#x8ba9;&#x7528;&#x6237;&#x4ee5;&#x4e3a;&#x4ed6;&#x4eec;&#x662f;&#x5728;&#x53e6;&#x4e00;&#x4e2a;&#x7f51;&#x7ad9;&#x4e0a;&#xff0c;&#x56e0;&#x4e3a;&#x8fd9;&#x4e2a;&#x65b9;&#x6cd5;&#x4e0d;&#x4f1a;&#x5bfc;&#x81f4;&#x9875;&#x9762;&#x8df3;&#x8f6c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"107,108"}}],"payload":{"tag":"h3","lines":"64,65"}},{"content":"History.replaceState()","children":[{"content":"<pre data-lines=\"111,114\"><code>`History.replaceState()`&#x65b9;&#x6cd5;&#x7528;&#x6765;&#x4fee;&#x6539; History &#x5bf9;&#x8c61;&#x7684;&#x5f53;&#x524d;&#x8bb0;&#x5f55;&#xff0c;&#x5176;&#x4ed6;&#x90fd;&#x4e0e;`pushState()`&#x65b9;&#x6cd5;&#x4e00;&#x6a21;&#x4e00;&#x6837;&#x3002;\n\n&#x5047;&#x5b9a;&#x5f53;&#x524d;&#x7f51;&#x9875;&#x662f;`example.com/example.html`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"111,114"}},{"content":"<pre data-lines=\"115,134\"><code class=\"language-javascript\">history.<span class=\"hljs-title function_\">pushState</span>({<span class=\"hljs-attr\">page</span>: <span class=\"hljs-number\">1</span>}, <span class=\"hljs-string\">&apos;title 1&apos;</span>, <span class=\"hljs-string\">&apos;?page=1&apos;</span>)\n<span class=\"hljs-comment\">// URL &#x663e;&#x793a;&#x4e3a; http://example.com/example.html?page=1</span>\n\nhistory.<span class=\"hljs-title function_\">pushState</span>({<span class=\"hljs-attr\">page</span>: <span class=\"hljs-number\">2</span>}, <span class=\"hljs-string\">&apos;title 2&apos;</span>, <span class=\"hljs-string\">&apos;?page=2&apos;</span>);\n<span class=\"hljs-comment\">// URL &#x663e;&#x793a;&#x4e3a; http://example.com/example.html?page=2</span>\n\nhistory.<span class=\"hljs-title function_\">replaceState</span>({<span class=\"hljs-attr\">page</span>: <span class=\"hljs-number\">3</span>}, <span class=\"hljs-string\">&apos;title 3&apos;</span>, <span class=\"hljs-string\">&apos;?page=3&apos;</span>);\n<span class=\"hljs-comment\">// URL &#x663e;&#x793a;&#x4e3a; http://example.com/example.html?page=3</span>\n\nhistory.<span class=\"hljs-title function_\">back</span>()\n<span class=\"hljs-comment\">// URL &#x663e;&#x793a;&#x4e3a; http://example.com/example.html?page=1</span>\n\nhistory.<span class=\"hljs-title function_\">back</span>()\n<span class=\"hljs-comment\">// URL &#x663e;&#x793a;&#x4e3a; http://example.com/example.html</span>\n\nhistory.<span class=\"hljs-title function_\">go</span>(<span class=\"hljs-number\">2</span>)\n<span class=\"hljs-comment\">// URL &#x663e;&#x793a;&#x4e3a; http://example.com/example.html?page=3</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"115,134"}}],"payload":{"tag":"h3","lines":"109,110"}}],"payload":{"tag":"h2","lines":"40,41"}},{"content":"popstate &#x4e8b;&#x4ef6;","children":[{"content":"<pre data-lines=\"137,142\"><code>&#x6bcf;&#x5f53;&#x540c;&#x4e00;&#x4e2a;&#x6587;&#x6863;&#x7684;&#x6d4f;&#x89c8;&#x5386;&#x53f2;&#xff08;&#x5373;`history`&#x5bf9;&#x8c61;&#xff09;&#x51fa;&#x73b0;&#x53d8;&#x5316;&#x65f6;&#xff0c;&#x5c31;&#x4f1a;&#x89e6;&#x53d1;`popstate`&#x4e8b;&#x4ef6;&#x3002;\n\n&#x6ce8;&#x610f;&#xff0c;&#x4ec5;&#x4ec5;&#x8c03;&#x7528;`pushState()`&#x65b9;&#x6cd5;&#x6216;`replaceState()`&#x65b9;&#x6cd5; &#xff0c;&#x5e76;&#x4e0d;&#x4f1a;&#x89e6;&#x53d1;&#x8be5;&#x4e8b;&#x4ef6;&#xff0c;&#x53ea;&#x6709;&#x7528;&#x6237;&#x70b9;&#x51fb;&#x6d4f;&#x89c8;&#x5668;&#x5012;&#x9000;&#x6309;&#x94ae;&#x548c;&#x524d;&#x8fdb;&#x6309;&#x94ae;&#xff0c;&#x6216;&#x8005;&#x4f7f;&#x7528; JavaScript &#x8c03;&#x7528;`History.back()`&#x3001;`History.forward()`&#x3001;`History.go()`&#x65b9;&#x6cd5;&#x65f6;&#x624d;&#x4f1a;&#x89e6;&#x53d1;&#x3002;&#x53e6;&#x5916;&#xff0c;&#x8be5;&#x4e8b;&#x4ef6;&#x53ea;&#x9488;&#x5bf9;&#x540c;&#x4e00;&#x4e2a;&#x6587;&#x6863;&#xff0c;&#x5982;&#x679c;&#x6d4f;&#x89c8;&#x5386;&#x53f2;&#x7684;&#x5207;&#x6362;&#xff0c;&#x5bfc;&#x81f4;&#x52a0;&#x8f7d;&#x4e0d;&#x540c;&#x7684;&#x6587;&#x6863;&#xff0c;&#x8be5;&#x4e8b;&#x4ef6;&#x4e5f;&#x4e0d;&#x4f1a;&#x89e6;&#x53d1;&#x3002;\n\n&#x4f7f;&#x7528;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x53ef;&#x4ee5;&#x4e3a;`popstate`&#x4e8b;&#x4ef6;&#x6307;&#x5b9a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"137,142"}},{"content":"<pre data-lines=\"143,155\"><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">onpopstate</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">event</span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;location: &apos;</span> + <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-property\">location</span>);\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;state: &apos;</span> + <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>(event.<span class=\"hljs-property\">state</span>));\n};\n\n<span class=\"hljs-comment\">// &#x6216;&#x8005;</span>\n<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;popstate&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">event</span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;location: &apos;</span> + <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-property\">location</span>);\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;state: &apos;</span> + <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>(event.<span class=\"hljs-property\">state</span>));\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"143,155"}},{"content":"<pre data-lines=\"156,159\"><code>&#x56de;&#x8c03;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;&#x662f;&#x4e00;&#x4e2a;`event`&#x4e8b;&#x4ef6;&#x5bf9;&#x8c61;&#xff0c;&#x5b83;&#x7684;`state`&#x5c5e;&#x6027;&#x6307;&#x5411;`pushState`&#x548c;`replaceState`&#x65b9;&#x6cd5;&#x4e3a;&#x5f53;&#x524d; URL &#x6240;&#x63d0;&#x4f9b;&#x7684;&#x72b6;&#x6001;&#x5bf9;&#x8c61;&#xff08;&#x5373;&#x8fd9;&#x4e24;&#x4e2a;&#x65b9;&#x6cd5;&#x7684;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#xff09;&#x3002;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#x7684;`event.state`&#xff0c;&#x5c31;&#x662f;&#x901a;&#x8fc7;`pushState`&#x548c;`replaceState`&#x65b9;&#x6cd5;&#xff0c;&#x4e3a;&#x5f53;&#x524d; URL &#x7ed1;&#x5b9a;&#x7684;`state`&#x5bf9;&#x8c61;&#x3002;\n\n&#x8fd9;&#x4e2a;`state`&#x5bf9;&#x8c61;&#x4e5f;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x901a;&#x8fc7;`history`&#x5bf9;&#x8c61;&#x8bfb;&#x53d6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"156,159"}},{"content":"<pre data-lines=\"160,163\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> currentState = history.<span class=\"hljs-property\">state</span>;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"160,163"}},{"content":"<pre data-lines=\"164,165\"><code>&#x6ce8;&#x610f;&#xff0c;&#x9875;&#x9762;&#x7b2c;&#x4e00;&#x6b21;&#x52a0;&#x8f7d;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x4e0d;&#x4f1a;&#x89e6;&#x53d1;`popstate`&#x4e8b;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"164,165"}}],"payload":{"tag":"h2","lines":"135,136"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
