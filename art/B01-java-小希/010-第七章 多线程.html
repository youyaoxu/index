<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x7b2c;&#x4e03;&#x7ae0; &#x591a;&#x7ebf;&#x7a0b;","children":[{"content":"7.1&#x3001;&#x6982;&#x8ff0;","children":[{"content":"<pre data-lines=\"5,8\"><code>&#x8fdb;&#x7a0b;&#xff1a;&#x662f;&#x6b63;&#x5728;&#x8fd0;&#x884c;&#x7684;&#x7a0b;&#x5e8f;\n\n&#x7ebf;&#x7a0b;&#xff1a;&#x662f;&#x8fdb;&#x7a0b;&#x4e2d;&#x7684;&#x5355;&#x4e2a;&#x987a;&#x5e8f;&#x63a7;&#x5236;&#x6d41;&#xff0c;&#x662f;&#x4e00;&#x6761;&#x6267;&#x884c;&#x8def;&#x5f84;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"5,8"}}],"payload":{"tag":"h2","lines":"2,4"}},{"content":"7.2&#x3001;&#x5b9e;&#x73b0;&#x65b9;&#x5f0f;","children":[{"content":"7.2.1&#x3001;&#x65b9;&#x5f0f;&#x4e00;","children":[{"content":"<pre data-lines=\"14,36\"><code class=\"language-java\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyThread</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">Thread</span> {\n\t<span class=\"hljs-meta\">@Override</span>\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; <span class=\"hljs-number\">100</span>; i++) {\n\t\t\tSystem.out.println(getName() + <span class=\"hljs-string\">&quot;:&quot;</span> + i);\n\t\t}\n\t}\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Main</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n\t\t<span class=\"hljs-type\">MyThread</span> <span class=\"hljs-variable\">my1</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">MyThread</span>();\n\t\t<span class=\"hljs-type\">MyThread</span> <span class=\"hljs-variable\">my2</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">MyThread</span>();\n\t\tmy1.setName(<span class=\"hljs-string\">&quot;&#x7ebf;&#x7a0b;&#x4e00;&quot;</span>);\n\t\tmy2.setName(<span class=\"hljs-string\">&quot;&#x7ebf;&#x7a0b;&#x4e8c;&quot;</span>);\n\t\tmy1.start();\n\t\tmy2.start();\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"14,36"}}],"payload":{"tag":"h3","lines":"12,13"}},{"content":"7.2.2&#x3001;&#x65b9;&#x5f0f;&#x4e8c;","children":[{"content":"<pre data-lines=\"39,60\"><code class=\"language-java\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyRunnable</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Runnable</span> {\n\t<span class=\"hljs-meta\">@Override</span>\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; <span class=\"hljs-number\">100</span>; i++) {\n\t\t\tSystem.out.println(Thread.currentThread().getName() + <span class=\"hljs-string\">&quot;:&quot;</span> + i);\n\t\t}\n\t}\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Main</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n\t\t<span class=\"hljs-type\">MyRunnable</span> <span class=\"hljs-variable\">my</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">MyRunnable</span>();\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t1</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(my, <span class=\"hljs-string\">&quot;&#x7ebf;&#x7a0b;&#x4e00;&quot;</span>);\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t2</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(my, <span class=\"hljs-string\">&quot;&#x7ebf;&#x7a0b;&#x4e8c;&quot;</span>);\n\t\tt1.start();\n\t\tt2.start();\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"39,60"}}],"payload":{"tag":"h3","lines":"37,38"}}],"payload":{"tag":"h2","lines":"9,11"}},{"content":"7.3&#x3001;&#x7ebf;&#x7a0b;&#x4f18;&#x5148;&#x7ea7;","children":[{"content":"<pre data-lines=\"64,99\"><code class=\"language-java\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ThreadPriority</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">Thread</span> {\n\t<span class=\"hljs-meta\">@Override</span>\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; <span class=\"hljs-number\">100</span>; i++) {\n\t\t\tSystem.out.println(getName() + <span class=\"hljs-string\">&quot;:&quot;</span> + i);\n\t\t}\n\t}\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Main</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n\t\t<span class=\"hljs-type\">ThreadPriority</span> <span class=\"hljs-variable\">tp1</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ThreadPriority</span>();\n\t\t<span class=\"hljs-type\">ThreadPriority</span> <span class=\"hljs-variable\">tp2</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ThreadPriority</span>();\n\t\t<span class=\"hljs-type\">ThreadPriority</span> <span class=\"hljs-variable\">tp3</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ThreadPriority</span>();\n\t\t\n\t\ttp1.setName(<span class=\"hljs-string\">&quot;&#x9ad8;&#x94c1;&quot;</span>);\n\t\ttp2.setName(<span class=\"hljs-string\">&quot;&#x98de;&#x673a;&quot;</span>);\n\t\ttp3.setName(<span class=\"hljs-string\">&quot;&#x6c7d;&#x8f66;&quot;</span>);\n\t\t\n\t\tSystem.out.println(tp1.getPriority());\n\t\tSystem.out.println(tp2.getPriority());\n\t\tSystem.out.println(tp3.getPriority());\n\t\t\n\t\ttp1.setPriority(<span class=\"hljs-number\">5</span>);\n\t\ttp2.setPriority(<span class=\"hljs-number\">10</span>);\n\t\ttp3.setPriority(<span class=\"hljs-number\">1</span>);\n\t\t\n\t\ttp1.start();\n\t\ttp2.start();\n\t\ttp3.start();\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"64,99"}}],"payload":{"tag":"h2","lines":"61,63"}},{"content":"7.4&#x3001;&#x7ebf;&#x7a0b;&#x7684;&#x63a7;&#x5236;","children":[{"content":"<pre data-lines=\"103,104\"><code>sleep&#x6f14;&#x793a;&#xff1a;&#x4f7f;&#x5f53;&#x524d;&#x6b63;&#x5728;&#x6267;&#x884c;&#x7684;&#x7ebf;&#x7a0b;&#x505c;&#x7559;&#xff08;&#x6682;&#x505c;&#x6267;&#x884c;&#xff09;&#x6307;&#x5b9a;&#x7684;&#x6beb;&#x79d2;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"103,104"}},{"content":"<pre data-lines=\"105,135\"><code class=\"language-java\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ThreadSleep</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">Thread</span> {\n\t<span class=\"hljs-meta\">@Override</span>\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; <span class=\"hljs-number\">100</span>; i++) {\n\t\t\tSystem.out.println(getName() + <span class=\"hljs-string\">&quot;:&quot;</span> + i);\n\t\t\t<span class=\"hljs-keyword\">try</span> {\n\t\t\t\tThread.sleep(<span class=\"hljs-number\">1000</span>);\n\t\t\t} <span class=\"hljs-keyword\">catch</span> (InterruptedException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t}\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Main</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n\t\t<span class=\"hljs-type\">ThreadSleep</span> <span class=\"hljs-variable\">ts1</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ThreadSleep</span>();\n\t\t<span class=\"hljs-type\">ThreadSleep</span> <span class=\"hljs-variable\">ts2</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ThreadSleep</span>();\n\t\t<span class=\"hljs-type\">ThreadSleep</span> <span class=\"hljs-variable\">ts3</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ThreadSleep</span>();\n\t\tts1.setName(<span class=\"hljs-string\">&quot;&#x66f9;&#x64cd;&quot;</span>);\n\t\tts2.setName(<span class=\"hljs-string\">&quot;&#x5218;&#x5907;&quot;</span>);\n\t\tts3.setName(<span class=\"hljs-string\">&quot;&#x5b59;&#x6743;&quot;</span>);\n\t\tts1.start();\n\t\tts2.start();\n\t\tts3.start();\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"105,135"}},{"content":"<pre data-lines=\"136,137\"><code>join&#x6f14;&#x793a;&#xff1a;&#x7b49;&#x5f85;&#x8fd9;&#x4e2a;&#x7ebf;&#x7a0b;&#x6b7b;&#x4ea1;&#x624d;&#x80fd;&#x6267;&#x884c;&#x5176;&#x5b83;&#x7ebf;&#x7a0b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"136,137"}},{"content":"<pre data-lines=\"138,168\"><code class=\"language-java\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ThreadJoin</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">Thread</span> {\n\t<span class=\"hljs-meta\">@Override</span>\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; <span class=\"hljs-number\">100</span>; i++) {\n\t\t\tSystem.out.println(getName() + <span class=\"hljs-string\">&quot;:&quot;</span> + i);\n\t\t}\n\t}\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Main</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n\t\t<span class=\"hljs-type\">ThreadJoin</span> <span class=\"hljs-variable\">tj1</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ThreadJoin</span>();\n\t\t<span class=\"hljs-type\">ThreadJoin</span> <span class=\"hljs-variable\">tj2</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ThreadJoin</span>();\n\t\t<span class=\"hljs-type\">ThreadJoin</span> <span class=\"hljs-variable\">tj3</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ThreadJoin</span>();\n\t\ttj1.setName(<span class=\"hljs-string\">&quot;&#x66f9;&#x64cd;&quot;</span>);\n\t\ttj2.setName(<span class=\"hljs-string\">&quot;&#x5218;&#x5907;&quot;</span>);\n\t\ttj3.setName(<span class=\"hljs-string\">&quot;&#x5b59;&#x6743;&quot;</span>);\n\t\ttj1.start();\n\t\t<span class=\"hljs-keyword\">try</span> {\n\t\t\ttj1.join();\n\t\t} <span class=\"hljs-keyword\">catch</span> (InterruptedException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t\ttj2.start();\n\t\ttj3.start();\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"138,168"}},{"content":"<pre data-lines=\"169,170\"><code>Daemon&#x6f14;&#x793a;&#xff1a;&#x5c06;&#x6b64;&#x7ebf;&#x7a0b;&#x6807;&#x8bb0;&#x4e3a;&#x5b88;&#x62a4;&#x7ebf;&#x7a0b;&#xff0c;&#x5f53;&#x8fd0;&#x884c;&#x7684;&#x7ebf;&#x7a0b;&#x90fd;&#x662f;&#x5b88;&#x62a4;&#x7ebf;&#x7a0b;&#x65f6;&#xff0c;Java&#x865a;&#x62df;&#x673a;&#x5c06;&#x9000;&#x51fa;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"169,170"}},{"content":"<pre data-lines=\"171,203\"><code class=\"language-java\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ThreadDaemon</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title class_\">Thread</span> {\n\t<span class=\"hljs-meta\">@Override</span>\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; <span class=\"hljs-number\">100</span>; i++) {\n\t\t\tSystem.out.println(getName() + <span class=\"hljs-string\">&quot;:&quot;</span> + i);\n\t\t}\n\t}\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Main</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n\t\t<span class=\"hljs-type\">ThreadDaemon</span> <span class=\"hljs-variable\">td1</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ThreadDaemon</span>();\n\t\t<span class=\"hljs-type\">ThreadDaemon</span> <span class=\"hljs-variable\">td2</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ThreadDaemon</span>();\n\t\ttd1.setName(<span class=\"hljs-string\">&quot;&#x5173;&#x7fbd;&quot;</span>);\n\t\ttd2.setName(<span class=\"hljs-string\">&quot;&#x5f20;&#x98de;&quot;</span>);\n\t\t\n\t\tThread.currentThread().setName(<span class=\"hljs-string\">&quot;&#x5218;&#x5907;&quot;</span>);\n\t\t\n\t\ttd1.setDaemon(<span class=\"hljs-literal\">true</span>);\n\t\ttd2.setDaemon(<span class=\"hljs-literal\">true</span>);\n\t\t\n\t\ttd1.start();\n\t\ttd2.start();\n\t\t\n\t\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; <span class=\"hljs-number\">10</span>; i++) {\n\t\t\tSystem.out.println(Thread.currentThread().getName() + <span class=\"hljs-string\">&quot;:&quot;</span> + i);\n\t\t}\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"171,203"}}],"payload":{"tag":"h2","lines":"100,102"}},{"content":"7.5&#x3001;&#x7ebf;&#x7a0b;&#x7684;&#x751f;&#x547d;&#x5468;&#x671f;","children":[{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA3MTgyMDIzNDUucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"209,210"}}],"payload":{"tag":"h2","lines":"204,206"}},{"content":"7.6&#x3001;&#x89e3;&#x51b3;<a href=\"https://so.csdn.net/so/search?q=%E5%A4%9A%E7%BA%BF%E7%A8%8B&amp;spm=1001.2101.3001.7020\">&#x591a;&#x7ebf;&#x7a0b;</a>&#x6570;&#x636e;&#x5b89;&#x5168;&#x95ee;&#x9898;","children":[{"content":"7.6.1&#x3001;&#x540c;&#x6b65;&#x4ee3;&#x7801;&#x5757;","children":[{"content":"<pre data-lines=\"216,253\"><code class=\"language-java\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">SellTicket</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Runnable</span> {\n\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">tickets</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">100</span>;\n\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">Object</span> <span class=\"hljs-variable\">obj</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Object</span>();\n\n\t<span class=\"hljs-meta\">@Override</span>\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n\t\t\t<span class=\"hljs-keyword\">synchronized</span> (obj) {\n\t\t\t\t<span class=\"hljs-keyword\">if</span> (tickets &gt; <span class=\"hljs-number\">0</span>) {\n\t\t\t\t\t<span class=\"hljs-keyword\">try</span> {\n\t\t\t\t\t\tThread.sleep(<span class=\"hljs-number\">100</span>);\n\t\t\t\t\t} <span class=\"hljs-keyword\">catch</span> (InterruptedException e) {\n\t\t\t\t\t\te.printStackTrace();\n\t\t\t\t\t}\n\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + <span class=\"hljs-string\">&quot;&#x6b63;&#x5728;&#x51fa;&#x552e;&#x7b2c;&quot;</span> + tickets + <span class=\"hljs-string\">&quot;&#x5f20;&#x7968;&quot;</span>);\n\t\t\t\t\ttickets--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Main</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n\t\t<span class=\"hljs-type\">SellTicket</span> <span class=\"hljs-variable\">st</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SellTicket</span>();\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t1</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(st, <span class=\"hljs-string\">&quot;&#x7a97;&#x53e3;1&quot;</span>);\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t2</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(st, <span class=\"hljs-string\">&quot;&#x7a97;&#x53e3;2&quot;</span>);\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t3</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(st, <span class=\"hljs-string\">&quot;&#x7a97;&#x53e3;3&quot;</span>);\n\t\tt1.start();\n\t\tt2.start();\n\t\tt3.start();\n\t}\n}\n\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"216,253"}}],"payload":{"tag":"h3","lines":"214,215"}},{"content":"7.6.2&#x3001;&#x666e;&#x901a;&#x540c;&#x6b65;&#x65b9;&#x6cd5;","children":[{"content":"<pre data-lines=\"256,293\"><code class=\"language-java\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">SellTicket</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Runnable</span> {\n\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">tickets</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">100</span>;\n\n\t<span class=\"hljs-meta\">@Override</span>\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n\t\t\tsellTicket();\n\t\t}\n\t}\n\n\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">synchronized</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">sellTicket</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">if</span> (tickets &gt; <span class=\"hljs-number\">0</span>) {\n\t\t\t<span class=\"hljs-keyword\">try</span> {\n\t\t\t\tThread.sleep(<span class=\"hljs-number\">100</span>);\n\t\t\t} <span class=\"hljs-keyword\">catch</span> (InterruptedException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tSystem.out.println(Thread.currentThread().getName() + <span class=\"hljs-string\">&quot;&#x6b63;&#x5728;&#x51fa;&#x552e;&#x7b2c;&quot;</span> + tickets + <span class=\"hljs-string\">&quot;&#x5f20;&#x7968;&quot;</span>);\n\t\t\ttickets--;\n\t\t}\n\t}\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Main</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n\t\t<span class=\"hljs-type\">SellTicket</span> <span class=\"hljs-variable\">st</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SellTicket</span>();\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t1</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(st, <span class=\"hljs-string\">&quot;&#x7a97;&#x53e3;1&quot;</span>);\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t2</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(st, <span class=\"hljs-string\">&quot;&#x7a97;&#x53e3;2&quot;</span>);\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t3</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(st, <span class=\"hljs-string\">&quot;&#x7a97;&#x53e3;3&quot;</span>);\n\t\tt1.start();\n\t\tt2.start();\n\t\tt3.start();\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"256,293"}}],"payload":{"tag":"h3","lines":"254,255"}},{"content":"7.6.3&#x3001;&#x9759;&#x6001;&#x540c;&#x6b65;&#x65b9;&#x6cd5;","children":[{"content":"<pre data-lines=\"296,333\"><code class=\"language-java\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">SellTicket</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Runnable</span> {\n\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">tickets</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">100</span>;\n\n\t<span class=\"hljs-meta\">@Override</span>\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n\t\t\tsellTicket();\n\t\t}\n\t}\n\n\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">synchronized</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">sellTicket</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">if</span> (tickets &gt; <span class=\"hljs-number\">0</span>) {\n\t\t\t<span class=\"hljs-keyword\">try</span> {\n\t\t\t\tThread.sleep(<span class=\"hljs-number\">100</span>);\n\t\t\t} <span class=\"hljs-keyword\">catch</span> (InterruptedException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tSystem.out.println(Thread.currentThread().getName() + <span class=\"hljs-string\">&quot;&#x6b63;&#x5728;&#x51fa;&#x552e;&#x7b2c;&quot;</span> + tickets + <span class=\"hljs-string\">&quot;&#x5f20;&#x7968;&quot;</span>);\n\t\t\ttickets--;\n\t\t}\n\t}\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Main</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n\t\t<span class=\"hljs-type\">SellTicket</span> <span class=\"hljs-variable\">st</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SellTicket</span>();\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t1</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(st, <span class=\"hljs-string\">&quot;&#x7a97;&#x53e3;1&quot;</span>);\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t2</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(st, <span class=\"hljs-string\">&quot;&#x7a97;&#x53e3;2&quot;</span>);\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t3</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(st, <span class=\"hljs-string\">&quot;&#x7a97;&#x53e3;3&quot;</span>);\n\t\tt1.start();\n\t\tt2.start();\n\t\tt3.start();\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"296,333"}}],"payload":{"tag":"h3","lines":"294,295"}},{"content":"7.6.4&#x3001;Look&#x9501;","children":[{"content":"<pre data-lines=\"336,380\"><code class=\"language-java\"><span class=\"hljs-keyword\">import</span> java.util.concurrent.locks.Lock;\n<span class=\"hljs-keyword\">import</span> java.util.concurrent.locks.ReentrantLock;\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">SellTicket</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Runnable</span> {\n\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">tickets</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">100</span>;\n\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">Lock</span> <span class=\"hljs-variable\">lock</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ReentrantLock</span>();\n\n\t<span class=\"hljs-meta\">@Override</span>\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n\t\t\t<span class=\"hljs-keyword\">try</span> {\n\t\t\t\t\n\t\t\t\tlock.lock();\n\t\t\t\t<span class=\"hljs-keyword\">if</span> (tickets &gt; <span class=\"hljs-number\">0</span>) {\n\t\t\t\t\t<span class=\"hljs-keyword\">try</span> {\n\t\t\t\t\t\tThread.sleep(<span class=\"hljs-number\">100</span>);\n\t\t\t\t\t} <span class=\"hljs-keyword\">catch</span> (InterruptedException e) {\n\t\t\t\t\t\te.printStackTrace();\n\t\t\t\t\t}\n\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + <span class=\"hljs-string\">&quot;&#x6b63;&#x5728;&#x51fa;&#x552e;&#x7b2c;&quot;</span> + tickets + <span class=\"hljs-string\">&quot;&#x5f20;&#x7968;&quot;</span>);\n\t\t\t\t\ttickets--;\n\t\t\t\t}\n\t\t\t} <span class=\"hljs-keyword\">finally</span> {\n\t\t\t\t\n\t\t\t\tlock.unlock();\n\t\t\t}\n\t\t}\n\t}\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Main</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n\t\t<span class=\"hljs-type\">SellTicket</span> <span class=\"hljs-variable\">st</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SellTicket</span>();\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t1</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(st, <span class=\"hljs-string\">&quot;&#x7a97;&#x53e3;1&quot;</span>);\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t2</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(st, <span class=\"hljs-string\">&quot;&#x7a97;&#x53e3;2&quot;</span>);\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t3</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(st, <span class=\"hljs-string\">&quot;&#x7a97;&#x53e3;3&quot;</span>);\n\t\tt1.start();\n\t\tt2.start();\n\t\tt3.start();\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"336,380"}}],"payload":{"tag":"h3","lines":"334,335"}}],"payload":{"tag":"h2","lines":"211,213"}},{"content":"7.7&#x3001;&#x751f;&#x4ea7;&#x8005;&#x548c;&#x6d88;&#x8d39;&#x8005;&#x6a21;&#x5f0f;","children":[{"content":"<pre data-lines=\"384,387\"><code>&#x6982;&#x8ff0;&#xff1a;&#x751f;&#x4ea7;&#x8005;&#x6d88;&#x8d39;&#x8005;&#x6a21;&#x5f0f;&#x662f;&#x4e00;&#x4e2a;&#x5341;&#x5206;&#x7ecf;&#x5178;&#x7684;&#x591a;&#x7ebf;&#x7a0b;&#x534f;&#x4f5c;&#x7684;&#x6a21;&#x5f0f;&#xff0c;&#x5f04;&#x61c2;&#x751f;&#x4ea7;&#x8005;&#x6d88;&#x8d39;&#x8005;&#x95ee;&#x9898;&#x80fd;&#x591f;&#x8ba9;&#x6211;&#x4eec;&#x5bf9;&#x591a;&#x7ebf;&#x7a0b;&#x7f16;&#x7a0b;&#x7684;&#x7406;&#x89e3;&#x66f4;&#x52a0;&#x6df1;&#x523b;&#x3002;\n\n&#x6f14;&#x793a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"384,387"}},{"content":"<pre data-lines=\"388,478\"><code class=\"language-java\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Box</span> {\n\t\n\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> milk;\n\t\n\t<span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">boolean</span> <span class=\"hljs-variable\">state</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-literal\">false</span>;\n\n\t\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">synchronized</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">put</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> milk)</span> {\n\t\t\n\t\t<span class=\"hljs-keyword\">if</span> (state) {\n\t\t\t<span class=\"hljs-keyword\">try</span> {\n\t\t\t\twait();\n\t\t\t} <span class=\"hljs-keyword\">catch</span> (InterruptedException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t\t\n\t\t<span class=\"hljs-built_in\">this</span>.milk = milk;\n\t\tSystem.out.println(<span class=\"hljs-string\">&quot;&#x9001;&#x5976;&#x5de5;&#x9001;&#x7b2c;&quot;</span> + <span class=\"hljs-built_in\">this</span>.milk + <span class=\"hljs-string\">&quot;&#x74f6;&#x5976;&quot;</span>);\n\t\t\n\t\tstate = <span class=\"hljs-literal\">true</span>;\n\t\t\n\t\tnotifyAll();\n\t}\n\n\t\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">synchronized</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">get</span><span class=\"hljs-params\">()</span> {\n\t\t\n\t\t<span class=\"hljs-keyword\">if</span> (!state) {\n\t\t\t<span class=\"hljs-keyword\">try</span> {\n\t\t\t\twait();\n\t\t\t} <span class=\"hljs-keyword\">catch</span> (InterruptedException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t\t\n\t\tSystem.out.println(<span class=\"hljs-string\">&quot;&#x7528;&#x6237;&#x62ff;&#x5230;&#x7b2c;&quot;</span> + <span class=\"hljs-built_in\">this</span>.milk + <span class=\"hljs-string\">&quot;&#x74f6;&#x5976;&quot;</span>);\n\t\t\n\t\tstate = <span class=\"hljs-literal\">false</span>;\n\t\t\n\t\tnotifyAll();\n\t}\n}\n\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Producer</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Runnable</span> {\n\t<span class=\"hljs-keyword\">private</span> Box b;\n\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">Producer</span><span class=\"hljs-params\">(Box b)</span> {\n\t\t<span class=\"hljs-built_in\">this</span>.b = b;\n\t}\n\n\t<span class=\"hljs-meta\">@Override</span>\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span>; i &lt;= <span class=\"hljs-number\">5</span>; i++) {\n\t\t\tb.put(i);\n\t\t}\n\t}\n}\n\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Customer</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Runnable</span> {\n\t<span class=\"hljs-keyword\">private</span> Box b;\n\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">Customer</span><span class=\"hljs-params\">(Box b)</span> {\n\t\t<span class=\"hljs-built_in\">this</span>.b = b;\n\t}\n\n\t<span class=\"hljs-meta\">@Override</span>\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n\t\t<span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n\t\t\tb.get();\n\t\t}\n\t}\n}\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Main</span> {\n\t<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n\t\t<span class=\"hljs-type\">Box</span> <span class=\"hljs-variable\">b</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Box</span>();\n\t\t<span class=\"hljs-type\">Producer</span> <span class=\"hljs-variable\">p</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Producer</span>(b);\n\t\t<span class=\"hljs-type\">Customer</span> <span class=\"hljs-variable\">c</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Customer</span>(b);\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t1</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(p);\n\t\t<span class=\"hljs-type\">Thread</span> <span class=\"hljs-variable\">t2</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Thread</span>(c);\n\t\tt1.start();\n\t\tt2.start();\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"388,478"}}],"payload":{"tag":"h2","lines":"381,383"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
