<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"<a href=\"https://www.cnblogs.com/xiaohuochai/p/6488738.html\">&#x6df1;&#x5165;&#x7406;&#x89e3;ajax&#x7cfb;&#x5217;&#x7b2c;&#x4e03;&#x7bc7;&#x2014;&#x2014;&#x4f20;&#x9012;JSON</a><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAoklEQVQ4T+2T4Q2CMBCFv27CBjgCG+gIjAAbOAIjOIJs4Ai6gRvIBpjXXCOp19T/8pJLoTneXcj3Ah91wAV4bu68xwXoAZ2EzEAmE9AWTB6AelRDyaAx9zgh0wE4ATczcTdIE7wl0oe7wX/8RMHigfQTB3fDdM1IEvYyONdIVEOSqDwCY2Z2NaS/UNbqMSQmvauUPlfbNKpBSdTUVyXSs/XyBlRCNBG20I28AAAAAElFTkSuQmCC\" alt=\"img\">","children":[{"content":"&#x524d;&#x9762;&#x7684;&#x8bdd;","children":[{"content":"<pre data-lines=\"4,5\"><code>&#x3000;&#x3000;&#x867d;&#x7136;ajax&#x5168;&#x79f0;&#x662f;asynchronous javascript and XML&#x3002;&#x4f46;&#x76ee;&#x524d;&#x4f7f;&#x7528;ajax&#x6280;&#x672f;&#x65f6;&#xff0c;&#x4f20;&#x9012;[JSON](http://www.cnblogs.com/xiaohuochai/p/5887754.html)&#x5df2;&#x7ecf;&#x6210;&#x4e3a;&#x4e8b;&#x5b9e;&#x4e0a;&#x7684;&#x6807;&#x51c6;&#x3002;&#x56e0;&#x4e3a;&#x76f8;&#x8f83;&#x4e8e;XML&#x800c;&#x8a00;&#xff0c;JSON&#x7b80;&#x5355;&#x4e14;&#x65b9;&#x4fbf;&#x3002;&#x672c;&#x6587;&#x5c06;&#x4e0a;&#x4e00;&#x7bc7;&#x4e2d;&#x7684;&#x5b9e;&#x4f8b;&#x8fdb;&#x884c;&#x6539;&#x5199;&#xff0c;&#x4ee5;JSON&#x7684;&#x65b9;&#x5f0f;&#x6765;&#x8fdb;&#x884c;&#x6570;&#x636e;&#x4f20;&#x9012;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,5"}}],"payload":{"tag":"h3","lines":"2,3"}},{"content":"&#x524d;&#x7aef;&#x9875;&#x9762;","children":[{"content":"<pre data-lines=\"12,174\"><code data-lines=\"12,174\"><span class=\"hljs-comment\">&lt;!-- &#x524d;&#x7aef;&#x9875;&#x9762; --&gt;</span>\n<span class=\"hljs-meta\">&lt;!DOCTYPE <span class=\"hljs-keyword\">html</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">html</span> <span class=\"hljs-attr\">lang</span>=<span class=\"hljs-string\">&quot;en&quot;</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">head</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">meta</span> <span class=\"hljs-attr\">charset</span>=<span class=\"hljs-string\">&quot;UTF-8&quot;</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">title</span>&gt;</span>Document<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">title</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">style</span>&gt;</span><span class=\"language-css\">\n<span class=\"hljs-selector-tag\">body</span>{<span class=\"hljs-attribute\">font-size</span>: <span class=\"hljs-number\">20px</span>;<span class=\"hljs-attribute\">margin</span>: <span class=\"hljs-number\">0</span>;<span class=\"hljs-attribute\">line-height</span>: <span class=\"hljs-number\">1.5</span>;}\n<span class=\"hljs-selector-tag\">select</span>,<span class=\"hljs-selector-tag\">button</span>,<span class=\"hljs-selector-tag\">input</span>{<span class=\"hljs-attribute\">font-size</span>: <span class=\"hljs-number\">20px</span>;<span class=\"hljs-attribute\">line-height</span>: <span class=\"hljs-number\">1.5</span>;}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">style</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">head</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">body</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h2</span>&gt;</span>&#x5458;&#x5de5;&#x67e5;&#x8be2;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h2</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span>&gt;</span>&#x8bf7;&#x8f93;&#x5165;&#x5458;&#x5de5;&#x7f16;&#x53f7;:<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;text&quot;</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;keyword&quot;</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;search&quot;</span>&gt;</span>&#x67e5;&#x8be2;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;searchResult&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h2</span>&gt;</span>&#x5458;&#x5de5;&#x521b;&#x5efa;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h2</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">form</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;postForm&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span>&gt;</span>&#x8bf7;&#x8f93;&#x5165;&#x5458;&#x5de5;&#x59d3;&#x540d;&#xff1a;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;text&quot;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;name&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span>&gt;</span>&#x8bf7;&#x8f93;&#x5165;&#x5458;&#x5de5;&#x7f16;&#x53f7;&#xff1a;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;text&quot;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;number&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span>&gt;</span>&#x8bf7;&#x8f93;&#x5165;&#x5458;&#x5de5;&#x6027;&#x522b;&#xff1a;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">select</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;sex&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">option</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">&quot;&#x7537;&quot;</span>&gt;</span>&#x7537;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">option</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">option</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">&quot;&#x5973;&quot;</span>&gt;</span>&#x5973;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">option</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">select</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span>&gt;</span>&#x8bf7;&#x8f93;&#x5165;&#x5458;&#x5de5;&#x804c;&#x4f4d;&#xff1a;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;text&quot;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&quot;job&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;save&quot;</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;button&quot;</span>&gt;</span>&#x4fdd;&#x5b58;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>    \n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">form</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;createResult&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n\n<span class=\"hljs-comment\">/*get*/</span>\n\n<span class=\"hljs-comment\">//&#x67e5;&#x8be2;</span>\n<span class=\"hljs-keyword\">var</span> oSearch = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&apos;search&apos;</span>);\n<span class=\"hljs-comment\">//get&#x65b9;&#x5f0f;&#x6dfb;&#x52a0;&#x6570;&#x636e;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">addURLParam</span>(<span class=\"hljs-params\">url,name,value</span>){\n    url += (url.<span class=\"hljs-title function_\">indexOf</span>(<span class=\"hljs-string\">&quot;?&quot;</span>) == -<span class=\"hljs-number\">1</span> ? <span class=\"hljs-string\">&quot;?&quot;</span> : <span class=\"hljs-string\">&quot;&amp;&quot;</span>);\n    url +=<span class=\"hljs-built_in\">encodeURIComponent</span>(name) + <span class=\"hljs-string\">&quot;=&quot;</span> + <span class=\"hljs-built_in\">encodeURIComponent</span>(value);\n    <span class=\"hljs-keyword\">return</span> url;\n}\noSearch.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n    <span class=\"hljs-comment\">//&#x521b;&#x5efa;xhr&#x5bf9;&#x8c61;</span>\n    <span class=\"hljs-keyword\">var</span> xhr;\n    <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">XMLHttpRequest</span>){\n        xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n    }<span class=\"hljs-keyword\">else</span>{\n        xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ActiveXObject</span>(<span class=\"hljs-string\">&apos;Microsoft.XMLHTTP&apos;</span>);\n    }\n    <span class=\"hljs-comment\">//&#x5f02;&#x6b65;&#x63a5;&#x53d7;&#x54cd;&#x5e94;</span>\n    xhr.<span class=\"hljs-property\">onreadystatechange</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n        <span class=\"hljs-keyword\">if</span>(xhr.<span class=\"hljs-property\">readyState</span> == <span class=\"hljs-number\">4</span>){\n            <span class=\"hljs-keyword\">if</span>(xhr.<span class=\"hljs-property\">status</span> == <span class=\"hljs-number\">200</span>){\n                <span class=\"hljs-comment\">//&#x5b9e;&#x9645;&#x64cd;&#x4f5c;</span>\n                <span class=\"hljs-keyword\">var</span> data = <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">parse</span>(xhr.<span class=\"hljs-property\">responseText</span>);\n                <span class=\"hljs-keyword\">if</span>(data.<span class=\"hljs-property\">success</span>){\n                    <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&apos;searchResult&apos;</span>).<span class=\"hljs-property\">innerHTML</span> = data.<span class=\"hljs-property\">msg</span>;\n                }<span class=\"hljs-keyword\">else</span>{\n                    <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&apos;searchResult&apos;</span>).<span class=\"hljs-property\">innerHTML</span> = <span class=\"hljs-string\">&apos;&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff1a;&apos;</span> +data.<span class=\"hljs-property\">msg</span>;\n                }\n                \n            }<span class=\"hljs-keyword\">else</span>{\n                <span class=\"hljs-title function_\">alert</span>(<span class=\"hljs-string\">&apos;&#x53d1;&#x751f;&#x9519;&#x8bef;&#xff1a;&apos;</span> + xhr.<span class=\"hljs-property\">status</span>);\n            }\n        }\n    }\n    <span class=\"hljs-comment\">//&#x53d1;&#x9001;&#x8bf7;&#x6c42;</span>\n    <span class=\"hljs-keyword\">var</span> url = <span class=\"hljs-string\">&apos;service.php&apos;</span>;\n    url = <span class=\"hljs-title function_\">addURLParam</span>(url,<span class=\"hljs-string\">&apos;number&apos;</span>,<span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&apos;keyword&apos;</span>).<span class=\"hljs-property\">value</span>);\n    xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;get&apos;</span>,url,<span class=\"hljs-literal\">true</span>);\n    xhr.<span class=\"hljs-title function_\">send</span>();\n}\n\n<span class=\"hljs-comment\">/*post*/</span>\n<span class=\"hljs-comment\">//&#x521b;&#x5efa;</span>\n<span class=\"hljs-keyword\">var</span> oSave = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&apos;save&apos;</span>);\n<span class=\"hljs-comment\">//post&#x65b9;&#x5f0f;&#x6dfb;&#x52a0;&#x6570;&#x636e;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">serialize</span>(<span class=\"hljs-params\">form</span>){        \n    <span class=\"hljs-keyword\">var</span> parts = [],field = <span class=\"hljs-literal\">null</span>,i,len,j,optLen,option,optValue;\n    <span class=\"hljs-keyword\">for</span> (i=<span class=\"hljs-number\">0</span>, len=form.<span class=\"hljs-property\">elements</span>.<span class=\"hljs-property\">length</span>; i &lt; len; i++){\n        field = form.<span class=\"hljs-property\">elements</span>[i];\n        <span class=\"hljs-keyword\">switch</span>(field.<span class=\"hljs-property\">type</span>){\n            <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;select-one&quot;</span>:\n            <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;select-multiple&quot;</span>:\n                <span class=\"hljs-keyword\">if</span> (field.<span class=\"hljs-property\">name</span>.<span class=\"hljs-property\">length</span>){\n                    <span class=\"hljs-keyword\">for</span> (j=<span class=\"hljs-number\">0</span>, optLen = field.<span class=\"hljs-property\">options</span>.<span class=\"hljs-property\">length</span>; j &lt; optLen; j++){\n                        option = field.<span class=\"hljs-property\">options</span>[j];\n                        <span class=\"hljs-keyword\">if</span> (option.<span class=\"hljs-property\">selected</span>){\n                            optValue = <span class=\"hljs-string\">&quot;&quot;</span>;\n                            <span class=\"hljs-keyword\">if</span> (option.<span class=\"hljs-property\">hasAttribute</span>){\n                                optValue = (option.<span class=\"hljs-title function_\">hasAttribute</span>(<span class=\"hljs-string\">&quot;value&quot;</span>) ? option.<span class=\"hljs-property\">value</span> : option.<span class=\"hljs-property\">text</span>);\n                            } <span class=\"hljs-keyword\">else</span> {\n                                optValue = (option.<span class=\"hljs-property\">attributes</span>[<span class=\"hljs-string\">&quot;value&quot;</span>].<span class=\"hljs-property\">specified</span> ? option.<span class=\"hljs-property\">value</span> : option.<span class=\"hljs-property\">text</span>);\n                            }\n                            parts.<span class=\"hljs-title function_\">push</span>(<span class=\"hljs-built_in\">encodeURIComponent</span>(field.<span class=\"hljs-property\">name</span>) + <span class=\"hljs-string\">&quot;=&quot;</span> + <span class=\"hljs-built_in\">encodeURIComponent</span>(optValue));\n                        }\n                    }\n                }\n                <span class=\"hljs-keyword\">break</span>;              \n            <span class=\"hljs-keyword\">case</span> <span class=\"hljs-attr\">undefined</span>:     <span class=\"hljs-comment\">//fieldset</span>\n            <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;file&quot;</span>:        <span class=\"hljs-comment\">//file input</span>\n            <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;submit&quot;</span>:      <span class=\"hljs-comment\">//submit button</span>\n            <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;reset&quot;</span>:       <span class=\"hljs-comment\">//reset button</span>\n            <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;button&quot;</span>:      <span class=\"hljs-comment\">//custom button</span>\n                <span class=\"hljs-keyword\">break</span>;                \n            <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;radio&quot;</span>:       <span class=\"hljs-comment\">//radio button</span>\n            <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&quot;checkbox&quot;</span>:    <span class=\"hljs-comment\">//checkbox</span>\n                <span class=\"hljs-keyword\">if</span> (!field.<span class=\"hljs-property\">checked</span>){\n                    <span class=\"hljs-keyword\">break</span>;\n                }\n                <span class=\"hljs-comment\">/* falls through */</span>\n            <span class=\"hljs-attr\">default</span>:\n                <span class=\"hljs-comment\">//don&apos;t include form fields without names</span>\n                <span class=\"hljs-keyword\">if</span> (field.<span class=\"hljs-property\">name</span>.<span class=\"hljs-property\">length</span>){\n                    parts.<span class=\"hljs-title function_\">push</span>(<span class=\"hljs-built_in\">encodeURIComponent</span>(field.<span class=\"hljs-property\">name</span>) + <span class=\"hljs-string\">&quot;=&quot;</span> + <span class=\"hljs-built_in\">encodeURIComponent</span>(field.<span class=\"hljs-property\">value</span>));\n                }\n        }\n    }        \n    <span class=\"hljs-keyword\">return</span> parts.<span class=\"hljs-title function_\">join</span>(<span class=\"hljs-string\">&quot;&amp;&quot;</span>);\n}\noSave.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n    <span class=\"hljs-comment\">//&#x521b;&#x5efa;xhr&#x5bf9;&#x8c61;</span>\n    <span class=\"hljs-keyword\">var</span> xhr;\n    <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">XMLHttpRequest</span>){\n        xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n    }<span class=\"hljs-keyword\">else</span>{\n        xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ActiveXObject</span>(<span class=\"hljs-string\">&apos;Microsoft.XMLHTTP&apos;</span>);\n    }\n    <span class=\"hljs-comment\">//&#x5f02;&#x6b65;&#x63a5;&#x53d7;&#x54cd;&#x5e94;</span>\n    xhr.<span class=\"hljs-property\">onreadystatechange</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n        <span class=\"hljs-keyword\">if</span>(xhr.<span class=\"hljs-property\">readyState</span> == <span class=\"hljs-number\">4</span>){\n            <span class=\"hljs-keyword\">if</span>(xhr.<span class=\"hljs-property\">status</span> == <span class=\"hljs-number\">200</span>){\n                <span class=\"hljs-comment\">//&#x5b9e;&#x9645;&#x64cd;&#x4f5c;</span>\n                <span class=\"hljs-keyword\">var</span> data = <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">parse</span>(xhr.<span class=\"hljs-property\">responseText</span>);\n                <span class=\"hljs-keyword\">if</span>(data.<span class=\"hljs-property\">success</span>){\n                  <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&apos;createResult&apos;</span>).<span class=\"hljs-property\">innerHTML</span> = data.<span class=\"hljs-property\">msg</span>;  \n              }<span class=\"hljs-keyword\">else</span>{\n                  <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&apos;createResult&apos;</span>).<span class=\"hljs-property\">innerHTML</span> = <span class=\"hljs-string\">&apos;&#x51fa;&#x73b0;&#x9519;&#x8bef;&#xff1a;&apos;</span>+data.<span class=\"hljs-property\">msg</span>;\n              }\n                \n            }<span class=\"hljs-keyword\">else</span>{\n                <span class=\"hljs-title function_\">alert</span>(<span class=\"hljs-string\">&apos;&#x53d1;&#x751f;&#x9519;&#x8bef;&#xff1a;&apos;</span> + xhr.<span class=\"hljs-property\">status</span>);\n            }\n        }\n    }\n    <span class=\"hljs-comment\">//&#x53d1;&#x9001;&#x8bf7;&#x6c42;</span>\n    xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;post&apos;</span>,<span class=\"hljs-string\">&apos;service.php&apos;</span>,<span class=\"hljs-literal\">true</span>);\n    xhr.<span class=\"hljs-title function_\">setRequestHeader</span>(<span class=\"hljs-string\">&quot;content-type&quot;</span>,<span class=\"hljs-string\">&quot;application/x-www-form-urlencoded&quot;</span>);\n    xhr.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-title function_\">serialize</span>(<span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&apos;postForm&apos;</span>)));\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">body</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">html</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"12,174"}}],"payload":{"tag":"h3","lines":"8,9"}},{"content":"&#x540e;&#x7aef;&#x9875;&#x9762;","children":[{"content":"<pre data-lines=\"183,251\"><code data-lines=\"183,251\"><span class=\"hljs-meta\">&lt;?php</span> \n\n<span class=\"hljs-comment\">//&#x7528;&#x4e8e;&#x8fc7;&#x6ee4;&#x4e0d;&#x5b89;&#x5168;&#x7684;&#x5b57;&#x7b26;</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">test_input</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">&#x24;data</span></span>) </span>{\n   <span class=\"hljs-variable\">&#x24;data</span> = <span class=\"hljs-title function_ invoke__\">trim</span>(<span class=\"hljs-variable\">&#x24;data</span>);\n   <span class=\"hljs-variable\">&#x24;data</span> = <span class=\"hljs-title function_ invoke__\">stripslashes</span>(<span class=\"hljs-variable\">&#x24;data</span>);\n   <span class=\"hljs-variable\">&#x24;data</span> = <span class=\"hljs-title function_ invoke__\">htmlspecialchars</span>(<span class=\"hljs-variable\">&#x24;data</span>);\n   <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">&#x24;data</span>;\n}\n<span class=\"hljs-comment\">//&#x8bbe;&#x7f6e;&#x9875;&#x9762;&#x5185;&#x5bb9;&#x7684;html&#x7f16;&#x7801;&#x683c;&#x5f0f;&#x662f;utf-8</span>\n<span class=\"hljs-title function_ invoke__\">header</span>(<span class=\"hljs-string\">&quot;Content-Type:application/json;charset=utf-8&quot;</span>);\n\n<span class=\"hljs-comment\">//&#x5b9a;&#x4e49;&#x4e00;&#x4e2a;&#x591a;&#x7ef4;&#x6570;&#x7ec4;&#xff0c;&#x5305;&#x542b;&#x5458;&#x5de5;&#x7684;&#x4fe1;&#x606f;&#xff0c;&#x6bcf;&#x6761;&#x5458;&#x5de5;&#x4fe1;&#x606f;&#x4e3a;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;</span>\n<span class=\"hljs-variable\">&#x24;staff</span> = <span class=\"hljs-keyword\">array</span>(\n    <span class=\"hljs-keyword\">array</span>(<span class=\"hljs-string\">&quot;name&quot;</span>=&gt;<span class=\"hljs-string\">&quot;&#x6d2a;&#x4e03;&quot;</span>,<span class=\"hljs-string\">&quot;number&quot;</span>=&gt;<span class=\"hljs-string\">&quot;101&quot;</span>,<span class=\"hljs-string\">&quot;sex&quot;</span>=&gt;<span class=\"hljs-string\">&quot;&#x7537;&quot;</span>,<span class=\"hljs-string\">&quot;job&quot;</span>=&gt;<span class=\"hljs-string\">&apos;&#x603b;&#x7ecf;&#x7406;&apos;</span>),\n    <span class=\"hljs-keyword\">array</span>(<span class=\"hljs-string\">&quot;name&quot;</span>=&gt;<span class=\"hljs-string\">&quot;&#x90ed;&#x9756;&quot;</span>,<span class=\"hljs-string\">&quot;number&quot;</span>=&gt;<span class=\"hljs-string\">&quot;102&quot;</span>,<span class=\"hljs-string\">&quot;sex&quot;</span>=&gt;<span class=\"hljs-string\">&quot;&#x7537;&quot;</span>,<span class=\"hljs-string\">&quot;job&quot;</span>=&gt;<span class=\"hljs-string\">&apos;&#x5f00;&#x53d1;&#x5de5;&#x7a0b;&#x5e08;&apos;</span>),\n    <span class=\"hljs-keyword\">array</span>(<span class=\"hljs-string\">&quot;name&quot;</span>=&gt;<span class=\"hljs-string\">&quot;&#x9ec4;&#x84c9;&quot;</span>,<span class=\"hljs-string\">&quot;number&quot;</span>=&gt;<span class=\"hljs-string\">&quot;103&quot;</span>,<span class=\"hljs-string\">&quot;sex&quot;</span>=&gt;<span class=\"hljs-string\">&quot;&#x5973;&quot;</span>,<span class=\"hljs-string\">&quot;job&quot;</span>=&gt;<span class=\"hljs-string\">&apos;&#x4ea7;&#x54c1;&#x7ecf;&#x7406;&apos;</span>)\n    );\n\n<span class=\"hljs-comment\">//&#x5224;&#x65ad;&#x5982;&#x679c;&#x662f;get&#x8bf7;&#x6c42;&#xff0c;&#x5219;&#x8fdb;&#x884c;&#x641c;&#x7d22;&#xff1b;&#x5982;&#x679c;&#x662f;POST&#x8bf7;&#x6c42;&#xff0c;&#x5219;&#x8fdb;&#x884c;&#x65b0;&#x5efa;</span>\n<span class=\"hljs-comment\">//&#x24;_SERVER[&quot;REQUEST_METHOD&quot;]&#x8fd4;&#x56de;&#x8bbf;&#x95ee;&#x9875;&#x9762;&#x4f7f;&#x7528;&#x7684;&#x8bf7;&#x6c42;&#x65b9;&#x6cd5;</span>\n<span class=\"hljs-keyword\">if</span>(<span class=\"hljs-variable\">&#x24;_SERVER</span>[<span class=\"hljs-string\">&quot;REQUEST_METHOD&quot;</span>] == <span class=\"hljs-string\">&quot;GET&quot;</span>){\n    <span class=\"hljs-title function_ invoke__\">search</span>();\n}<span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-variable\">&#x24;_SERVER</span>[<span class=\"hljs-string\">&quot;REQUEST_METHOD&quot;</span>] == <span class=\"hljs-string\">&quot;POST&quot;</span>){\n    <span class=\"hljs-title function_ invoke__\">create</span>();\n}\n\n<span class=\"hljs-comment\">//&#x901a;&#x8fc7;&#x5458;&#x5de5;&#x7f16;&#x53f7;&#x641c;&#x7d22;&#x5458;&#x5de5;</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">search</span>(<span class=\"hljs-params\"></span>)</span>{\n    <span class=\"hljs-comment\">//&#x68c0;&#x67e5;&#x662f;&#x5426;&#x6709;&#x5458;&#x5de5;&#x7f16;&#x53f7;&#x7684;&#x53c2;&#x6570;</span>\n    <span class=\"hljs-comment\">//isset&#x68c0;&#x6d4b;&#x53d8;&#x91cf;&#x662f;&#x5426;&#x8bbe;&#x7f6e;&#xff1b;empty&#x5224;&#x65ad;&#x503c;&#x662f;&#x5426;&#x4e3a;&#x7a7a;</span>\n    <span class=\"hljs-keyword\">if</span>(!<span class=\"hljs-keyword\">isset</span>(<span class=\"hljs-variable\">&#x24;_GET</span>[<span class=\"hljs-string\">&apos;number&apos;</span>]) || <span class=\"hljs-keyword\">empty</span>(<span class=\"hljs-variable\">&#x24;_GET</span>[<span class=\"hljs-string\">&apos;number&apos;</span>])){\n        <span class=\"hljs-keyword\">echo</span> <span class=\"hljs-string\">&apos;{&quot;success&quot;:false,&quot;msg&quot;:&quot;&#x53c2;&#x6570;&#x9519;&#x8bef;&quot;}&apos;</span>;\n        <span class=\"hljs-keyword\">return</span>;\n    }\n\n    <span class=\"hljs-keyword\">global</span> <span class=\"hljs-variable\">&#x24;staff</span>;\n    <span class=\"hljs-variable\">&#x24;number</span> = <span class=\"hljs-title function_ invoke__\">test_input</span>(<span class=\"hljs-variable\">&#x24;_GET</span>[<span class=\"hljs-string\">&apos;number&apos;</span>]);\n    <span class=\"hljs-variable\">&#x24;result</span> = <span class=\"hljs-string\">&apos;{&quot;success&quot;:false,&quot;msg&quot;:&quot;&#x6ca1;&#x6709;&#x627e;&#x5230;&#x5458;&#x5de5;&quot;}&apos;</span>;\n\n    <span class=\"hljs-comment\">//&#x904d;&#x5386;&#x24;staff&#x591a;&#x7ef4;&#x6570;&#x7ec4;&#xff0c;&#x67e5;&#x627e;key&#x503c;&#x4e3a;number&#x7684;&#x5458;&#x5de5;&#x662f;&#x5426;&#x5b58;&#x5728;&#x3002;&#x5982;&#x679c;&#x5b58;&#x5728;&#xff0c;&#x5219;&#x4fee;&#x6539;&#x8fd4;&#x56de;&#x7ed3;&#x679c;</span>\n    <span class=\"hljs-keyword\">foreach</span>(<span class=\"hljs-variable\">&#x24;staff</span> <span class=\"hljs-keyword\">as</span> <span class=\"hljs-variable\">&#x24;value</span>){\n        <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-variable\">&#x24;value</span>[<span class=\"hljs-string\">&apos;number&apos;</span>] == <span class=\"hljs-variable\">&#x24;number</span>){\n            <span class=\"hljs-variable\">&#x24;result</span> = <span class=\"hljs-string\">&apos;{&quot;success&quot;:true,&quot;msg&quot;:&quot;&#x627e;&#x5230;&#x5458;&#x5de5;&#xff1a;&#x5458;&#x5de5;&#x7f16;&#x53f7;&#x4e3a;&apos;</span> .<span class=\"hljs-variable\">&#x24;value</span>[<span class=\"hljs-string\">&quot;number&quot;</span>] .<span class=\"hljs-string\">&apos;&#xff0c;&#x5458;&#x5de5;&#x59d3;&#x540d;&#x4e3a;&apos;</span> .<span class=\"hljs-variable\">&#x24;value</span>[<span class=\"hljs-string\">&quot;name&quot;</span>] .<span class=\"hljs-string\">&apos;&#xff0c;&#x5458;&#x5de5;&#x6027;&#x522b;&#x4e3a;&apos;</span> .<span class=\"hljs-variable\">&#x24;value</span>[<span class=\"hljs-string\">&quot;sex&quot;</span>] .<span class=\"hljs-string\">&apos;&#xff0c;&#x5458;&#x5de5;&#x804c;&#x4f4d;&#x4e3a;&apos;</span> .<span class=\"hljs-variable\">&#x24;value</span>[<span class=\"hljs-string\">&quot;job&quot;</span>] .<span class=\"hljs-string\">&apos;&quot;}&apos;</span>;\n            <span class=\"hljs-keyword\">break</span>;\n        }\n    }\n    <span class=\"hljs-keyword\">echo</span> <span class=\"hljs-variable\">&#x24;result</span>;\n}\n\n\n<span class=\"hljs-comment\">//&#x521b;&#x5efa;&#x5458;&#x5de5;</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">create</span>(<span class=\"hljs-params\"></span>)</span>{\n    <span class=\"hljs-comment\">//&#x5224;&#x65ad;&#x4fe1;&#x606f;&#x662f;&#x5426;&#x586b;&#x5199;&#x5b8c;&#x5168;</span>\n    <span class=\"hljs-keyword\">if</span>(!<span class=\"hljs-keyword\">isset</span>(<span class=\"hljs-variable\">&#x24;_POST</span>[<span class=\"hljs-string\">&apos;name&apos;</span>]) || <span class=\"hljs-keyword\">empty</span>(<span class=\"hljs-variable\">&#x24;_POST</span>[<span class=\"hljs-string\">&apos;name&apos;</span>]) || \n       !<span class=\"hljs-keyword\">isset</span>(<span class=\"hljs-variable\">&#x24;_POST</span>[<span class=\"hljs-string\">&apos;number&apos;</span>]) || <span class=\"hljs-keyword\">empty</span>(<span class=\"hljs-variable\">&#x24;_POST</span>[<span class=\"hljs-string\">&apos;number&apos;</span>]) ||\n       !<span class=\"hljs-keyword\">isset</span>(<span class=\"hljs-variable\">&#x24;_POST</span>[<span class=\"hljs-string\">&apos;sex&apos;</span>]) || <span class=\"hljs-keyword\">empty</span>(<span class=\"hljs-variable\">&#x24;_POST</span>[<span class=\"hljs-string\">&apos;sex&apos;</span>]) ||\n       !<span class=\"hljs-keyword\">isset</span>(<span class=\"hljs-variable\">&#x24;_POST</span>[<span class=\"hljs-string\">&apos;job&apos;</span>]) || <span class=\"hljs-keyword\">empty</span>(<span class=\"hljs-variable\">&#x24;_POST</span>[<span class=\"hljs-string\">&apos;job&apos;</span>]) \n        ){\n        <span class=\"hljs-keyword\">echo</span> <span class=\"hljs-string\">&apos;{&quot;success&quot;:false,&quot;msg&quot;:&quot;&#x53c2;&#x6570;&#x9519;&#x8bef;&#xff0c;&#x5458;&#x5de5;&#x4fe1;&#x606f;&#x586b;&#x5199;&#x4e0d;&#x5168;&quot;}&apos;</span>;\n        <span class=\"hljs-keyword\">return</span>;\n    }\n\n    <span class=\"hljs-keyword\">echo</span> <span class=\"hljs-string\">&apos;{&quot;success&quot;:true,&quot;msg&quot;:&quot;&#x5458;&#x5de5;&apos;</span> .<span class=\"hljs-title function_ invoke__\">test_input</span>(<span class=\"hljs-variable\">&#x24;_POST</span>[<span class=\"hljs-string\">&apos;name&apos;</span>]) .<span class=\"hljs-string\">&apos;&#x4fe1;&#x606f;&#x4fdd;&#x5b58;&#x6210;&#x529f;!&quot;}&apos;</span>;\n}\n<span class=\"hljs-meta\">?&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"183,251"}}],"payload":{"tag":"h3","lines":"179,180"}},{"content":"&#x5b9e;&#x4f8b;&#x6f14;&#x793a;","children":[],"payload":{"tag":"h3","lines":"256,257"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
