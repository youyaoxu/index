<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x670d;&#x52a1;&#x7684;&#x65ad;&#x8def;&#x5668;&#xff1a;Hystrix","children":[{"content":"1.1&#x3001;&#x4ec0;&#x4e48;&#x662f;Hystrix","children":[{"content":"<pre data-lines=\"5,6\"><code>Hystrix&#x662f;&#x7531;Netflix&#x5f00;&#x6e90;&#x7684;&#x4e00;&#x4e2a;&#x670d;&#x52a1;&#x9694;&#x79bb;&#x7ec4;&#x4ef6;&#xff0c;&#x901a;&#x8fc7;&#x670d;&#x52a1;&#x9694;&#x79bb;&#x6765;&#x907f;&#x514d;&#x7531;&#x4e8e;&#x4f9d;&#x8d56;&#x5ef6;&#x8fdf;&#x3001;&#x5f02;&#x5e38;&#xff0c;&#x5f15;&#x8d77;&#x8d44;&#x6e90;&#x8017;&#x5c3d;&#x5bfc;&#x81f4;&#x7cfb;&#x7edf;&#x4e0d;&#x53ef;&#x7528;&#x7684;&#x89e3;&#x51b3;&#x65b9;&#x6848;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"5,6"}}],"payload":{"tag":"h2","lines":"2,4"}},{"content":"1.2&#x3001;&#x4e3a;&#x5565;&#x7528;Hystrix","children":[{"content":"<pre data-lines=\"10,11\"><code>&#x5728;&#x5206;&#x5e03;&#x5f0f;&#x7cfb;&#x7edf;&#xff0c;&#x6211;&#x4eec;&#x4e00;&#x5b9a;&#x4f1a;&#x4f9d;&#x8d56;&#x5404;&#x79cd;&#x670d;&#x52a1;&#xff0c;&#x90a3;&#x4e48;&#x8fd9;&#x4e9b;&#x4e2a;&#x670d;&#x52a1;&#x4e00;&#x5b9a;&#x4f1a;&#x51fa;&#x73b0;&#x5931;&#x8d25;&#x7684;&#x60c5;&#x51b5;&#xff0c;Hystrix&#x5c31;&#x662f;&#x8fd9;&#x6837;&#x7684;&#x4e00;&#x4e2a;&#x5de5;&#x5177;&#xff0c;&#x5b83;&#x901a;&#x8fc7;&#x63d0;&#x4f9b;&#x4e86;&#x903b;&#x8f91;&#x4e0a;&#x5ef6;&#x65f6;&#x548c;&#x9519;&#x8bef;&#x5bb9;&#x5fcd;&#x7684;&#x89e3;&#x51b3;&#x529b;&#x6765;&#x534f;&#x52a9;&#x6211;&#x4eec;&#x5b8c;&#x6210;&#x5206;&#x5e03;&#x5f0f;&#x7cfb;&#x7edf;&#x7684;&#x4ea4;&#x4e92;&#x3002;Hystrix&#x901a;&#x8fc7;&#x5206;&#x79bb;&#x670d;&#x52a1;&#x7684;&#x8c03;&#x7528;&#x70b9;&#xff0c;&#x963b;&#x6b62;&#x9519;&#x8bef;&#x5728;&#x5404;&#x4e2a;&#x7cfb;&#x7edf;&#x7684;&#x4f20;&#x64ad;&#xff0c;&#x5e76;&#x4e14;&#x63d0;&#x4f9b;&#x4e86;&#x9519;&#x8bef;&#x56de;&#x8c03;&#x673a;&#x5236;&#xff0c;&#x8fd9;&#x4e00;&#x7cfb;&#x5217;&#x7684;&#x63aa;&#x65bd;&#x63d0;&#x9ad8;&#x4e86;&#x7cfb;&#x7edf;&#x7684;&#x6574;&#x4f53;&#x670d;&#x52a1;&#x5f39;&#x6027;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"10,11"}}],"payload":{"tag":"h2","lines":"7,9"}},{"content":"2.1&#x3001;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x542b;&#x4e49;","children":[{"content":"<pre data-lines=\"15,16\"><code>&#x5f53;&#x4e00;&#x4e2a;&#x76ee;&#x6807;&#x670d;&#x52a1;&#x6267;&#x884c;&#x65f6;&#x95f4;&#x8fc7;&#x957f;&#xff0c;&#x4e3a;&#x4e86;&#x4e0d;&#x8ba9;&#x5ba2;&#x6237;&#x7aef;&#x65e0;&#x610f;&#x4e49;&#x76f2;&#x76ee;&#x7b49;&#x5f85;&#xff0c;&#x6b64;&#x65f6;&#x4f1a;&#x7acb;&#x523b;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x53cb;&#x597d;&#x63d0;&#x793a;&#xff0c;&#x6bd4;&#x5982;&#xff1a;&#x670d;&#x52a1;&#x5668;&#x8fc7;&#x5fd9;&#xff0c;&#x8bf7;&#x7a0d;&#x540e;&#x518d;&#x8bd5;&#xff0c;&#x8fd9;&#x5c31;&#x662f;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x3002;&#x7a0b;&#x5e8f;&#x8fd0;&#x884c;&#x5f02;&#x5e38;&#x3001;&#x7a0b;&#x5e8f;&#x8fd0;&#x884c;&#x8d85;&#x65f6;&#x3001;&#x670d;&#x52a1;&#x7194;&#x65ad;&#x90fd;&#x4f1a;&#x89e6;&#x53d1;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x3001;&#x7ebf;&#x7a0b;&#x6c60;/&#x4fe1;&#x53f7;&#x91cf;&#x6253;&#x6ee1;&#x4e5f;&#x4f1a;&#x89e6;&#x53d1;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"15,16"}}],"payload":{"tag":"h2","lines":"12,14"}},{"content":"2.2&#x3001;&#x670d;&#x52a1;&#x7194;&#x65ad;&#x542b;&#x4e49;","children":[{"content":"<pre data-lines=\"20,21\"><code>&#x8fd9;&#x79cd;&#x6a21;&#x5f0f;&#x4e3b;&#x8981;&#x662f;&#x53c2;&#x8003;&#x7535;&#x8def;&#x7194;&#x65ad;&#xff0c;&#x5982;&#x679c;&#x4e00;&#x6761;&#x7ebf;&#x8def;&#x7535;&#x538b;&#x8fc7;&#x9ad8;&#xff0c;&#x4fdd;&#x9669;&#x4e1d;&#x4f1a;&#x7194;&#x65ad;&#xff0c;&#x9632;&#x6b62;&#x706b;&#x707e;&#x3002;&#x653e;&#x5230;&#x6211;&#x4eec;&#x7684;&#x7cfb;&#x7edf;&#x4e2d;&#xff0c;&#x5982;&#x679c;&#x67d0;&#x4e2a;&#x76ee;&#x6807;&#x670d;&#x52a1;&#x8c03;&#x7528;&#x6162;&#x6216;&#x8005;&#x6709;&#x5927;&#x91cf;&#x8d85;&#x65f6;&#xff0c;&#x6b64;&#x65f6;&#xff0c;&#x7194;&#x65ad;&#x8be5;&#x670d;&#x52a1;&#x7684;&#x8c03;&#x7528;&#xff0c;&#x5bf9;&#x4e8e;&#x540e;&#x7eed;&#x8c03;&#x7528;&#x8bf7;&#x6c42;&#xff0c;&#x4e0d;&#x5728;&#x7ee7;&#x7eed;&#x8c03;&#x7528;&#x76ee;&#x6807;&#x670d;&#x52a1;&#xff0c;&#x76f4;&#x63a5;&#x8fd4;&#x56de;&#xff0c;&#x5feb;&#x901f;&#x91ca;&#x653e;&#x8d44;&#x6e90;&#xff0c;&#x5982;&#x679c;&#x76ee;&#x6807;&#x670d;&#x52a1;&#x60c5;&#x51b5;&#x597d;&#x8f6c;&#x5219;&#x6062;&#x590d;&#x8c03;&#x7528;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"20,21"}}],"payload":{"tag":"h2","lines":"17,19"}},{"content":"2.3&#x3001;&#x670d;&#x52a1;&#x9650;&#x6d41;&#x542b;&#x4e49;","children":[{"content":"<pre data-lines=\"25,26\"><code>&#x4e0a;&#x8ff0;&#x4e24;&#x79cd;&#x6a21;&#x5f0f;&#x90fd;&#x5c5e;&#x4e8e;&#x51fa;&#x9519;&#x540e;&#x7684;&#x5bb9;&#x9519;&#x5904;&#x7406;&#x673a;&#x5236;&#xff0c;&#x800c;&#x9650;&#x6d41;&#x6a21;&#x5f0f;&#x5219;&#x53ef;&#x4ee5;&#x79f0;&#x4e3a;&#x9884;&#x9632;&#x6a21;&#x5f0f;&#x3002;&#x9650;&#x6d41;&#x6a21;&#x5f0f;&#x4e3b;&#x8981;&#x662f;&#x63d0;&#x524d;&#x5bf9;&#x5404;&#x4e2a;&#x7c7b;&#x578b;&#x7684;&#x8bf7;&#x6c42;&#x8bbe;&#x7f6e;&#x6700;&#x9ad8;&#x7684;QPS&#x9608;&#x503c;&#xff0c;&#x82e5;&#x9ad8;&#x4e8e;&#x8bbe;&#x7f6e;&#x7684;&#x9608;&#x503c;&#x5219;&#x5bf9;&#x8be5;&#x8bf7;&#x6c42;&#x76f4;&#x63a5;&#x8fd4;&#x56de;&#xff0c;&#x4e0d;&#x518d;&#x8c03;&#x7528;&#x540e;&#x7eed;&#x8d44;&#x6e90;&#x3002;&#x8fd9;&#x79cd;&#x6a21;&#x5f0f;&#x4e0d;&#x80fd;&#x89e3;&#x51b3;&#x670d;&#x52a1;&#x4f9d;&#x8d56;&#x7684;&#x95ee;&#x9898;&#xff0c;&#x53ea;&#x80fd;&#x89e3;&#x51b3;&#x7cfb;&#x7edf;&#x6574;&#x4f53;&#x8d44;&#x6e90;&#x5206;&#x914d;&#x95ee;&#x9898;&#xff0c;&#x56e0;&#x4e3a;&#x6ca1;&#x6709;&#x88ab;&#x9650;&#x6d41;&#x7684;&#x8bf7;&#x6c42;&#x4f9d;&#x7136;&#x6709;&#x53ef;&#x80fd;&#x9020;&#x6210;&#x96ea;&#x5d29;&#x6548;&#x5e94;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"25,26"}}],"payload":{"tag":"h2","lines":"22,24"}},{"content":"3.1&#x3001;&#x57fa;&#x7840;&#x51c6;&#x5907;&#x5de5;&#x4f5c;","children":[{"content":"<pre data-lines=\"30,31\"><code>&#x6211;&#x4eec;&#x63a5;&#x4e0b;&#x6765;&#x7684;&#x6240;&#x6709;&#x64cd;&#x4f5c;&#x5747;&#x662f;&#x5728;`OpenFegin`&#x6700;&#x540e;&#x5b8c;&#x6210;&#x7684;&#x5de5;&#x7a0b;&#x4e0a;&#x8fdb;&#x884c;&#x64cd;&#x4f5c;&#xff0c;&#x76f8;&#x5173;&#x4ee3;&#x7801;&#x8bf7;&#x5230;&#x914d;&#x5957;&#x8d44;&#x6599;&#x4e2d;&#x5bfb;&#x627e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"30,31"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d7e2e9333a2b842afce9b8b7960454c1.png\" alt>","children":[],"payload":{"tag":"img","lines":"32,33"}},{"content":"<pre data-lines=\"34,35\"><code>&#xff08;1&#xff09;&#x6211;&#x4eec;&#x63a5;&#x4e0b;&#x6765;&#x7684;&#x6240;&#x6709;&#x64cd;&#x4f5c;&#x5747;&#x5728;`service-consumer9002`&#x5de5;&#x7a0b;&#x4e2d;&#x8fdb;&#x884c;&#xff0c;&#x8bf7;&#x5728;pom.xml&#x4e2d;&#x6dfb;&#x52a0;Hystrix&#x7684;&#x4f9d;&#x8d56;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"34,35"}},{"content":"<pre data-lines=\"36,43\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-cloud-starter-netflix-hystrix<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"36,43"}},{"content":"<pre data-lines=\"44,45\"><code>&#xff08;2&#xff09;&#x4fee;&#x6539;`application.yaml`&#xff0c;&#x5c06;Ribbon&#x7684;&#x8d85;&#x65f6;&#x65f6;&#x95f4;&#x5168;&#x90e8;&#x6ce8;&#x91ca;&#xff0c;&#x65b9;&#x4fbf;&#x63a5;&#x4e0b;&#x6765;&#x6d4b;&#x8bd5;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"44,45"}},{"content":"<pre data-lines=\"46,52\"><code class=\"language-yaml\">\n\n\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"46,52"}},{"content":"<pre data-lines=\"53,54\"><code>&#xff08;3&#xff09;&#x4fee;&#x6539;`service-provider8001`&#x7684;`ProductController`&#x7684;`findByPid`&#x65b9;&#x6cd5;&#xff0c;&#x6839;&#x636e;pid&#x5206;&#x522b;&#x6a21;&#x62df;&#x4e86;&#x8fd0;&#x884c;&#x6b63;&#x5e38;&#x3001;&#x8fd0;&#x884c;&#x9519;&#x8bef;&#x3001;&#x8d85;&#x65f6;&#x7b49;&#x60c5;&#x51b5;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"53,54"}},{"content":"<pre data-lines=\"55,72\"><code class=\"language-java\"><span class=\"hljs-meta\">@RequestMapping(&quot;/provider/product/findByPid&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">findByPid</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@RequestParam(&quot;pid&quot;)</span> Integer pid)</span> <span class=\"hljs-keyword\">throws</span> InterruptedException {\n    \n    <span class=\"hljs-keyword\">if</span> (pid &lt; <span class=\"hljs-number\">0</span>) { <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">RuntimeException</span>(<span class=\"hljs-string\">&quot;***** pid &#x4e0d;&#x80fd;&#x8d1f;&#x6570; *****&quot;</span>); }\n\n    \n    <span class=\"hljs-keyword\">if</span> (pid == <span class=\"hljs-number\">0</span>) { System.out.println(<span class=\"hljs-string\">&quot;***** pid &#x4e1a;&#x52a1;&#x6b63;&#x5e38; *****&quot;</span>); }\n\n    \n    <span class=\"hljs-keyword\">if</span> (pid &gt; <span class=\"hljs-number\">0</span>) { Thread.sleep(<span class=\"hljs-number\">3000</span>); }\n\n    \n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;8001 findByPid &quot;</span> + Thread.currentThread().getName();\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"55,72"}},{"content":"<pre data-lines=\"73,74\"><code>&#xff08;4&#xff09;&#x4fee;&#x6539;`service-provider8002`&#x7684;`ProductController`&#x7684;`findByPid`&#x65b9;&#x6cd5;&#xff0c;&#x6839;&#x636e;pid&#x5206;&#x522b;&#x6a21;&#x62df;&#x4e86;&#x8fd0;&#x884c;&#x6b63;&#x5e38;&#x3001;&#x8fd0;&#x884c;&#x9519;&#x8bef;&#x3001;&#x8d85;&#x65f6;&#x7b49;&#x60c5;&#x51b5;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"73,74"}},{"content":"<pre data-lines=\"75,92\"><code class=\"language-java\"><span class=\"hljs-meta\">@RequestMapping(&quot;/provider/product/findByPid&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">findByPid</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@RequestParam(&quot;pid&quot;)</span> Integer pid)</span> <span class=\"hljs-keyword\">throws</span> InterruptedException {\n    \n    <span class=\"hljs-keyword\">if</span> (pid &lt; <span class=\"hljs-number\">0</span>) { <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">RuntimeException</span>(<span class=\"hljs-string\">&quot;***** pid &#x4e0d;&#x80fd;&#x8d1f;&#x6570; *****&quot;</span>); }\n\n    \n    <span class=\"hljs-keyword\">if</span> (pid == <span class=\"hljs-number\">0</span>) { System.out.println(<span class=\"hljs-string\">&quot;***** pid &#x4e1a;&#x52a1;&#x6b63;&#x5e38; *****&quot;</span>); }\n\n    \n    <span class=\"hljs-keyword\">if</span> (pid &gt; <span class=\"hljs-number\">0</span>) { Thread.sleep(<span class=\"hljs-number\">3000</span>); }\n\n    \n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;8002 findByPid &quot;</span> + Thread.currentThread().getName();\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"75,92"}},{"content":"<pre data-lines=\"93,104\"><code>&#xff08;5&#xff09;&#x4f9d;&#x6b21;&#x542f;&#x52a8;&#x5982;&#x4e0b;&#x7a0b;&#x5e8f;\n\n1.  eureka-server7001\n2.  eureka-server7002\n3.  service-provider8001\n4.  service-provider8002\n5.  service-consumer9002\n\n&#xff08;6&#xff09;&#x4f9d;&#x6b21;&#x8f93;&#x5165;&#x7f51;&#x5740;&#x6765;&#x67e5;&#x770b;\n\n&#x8c03;&#x7528;&#x670d;&#x52a1;&#x51fa;&#x9519;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=-1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"93,104"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/91e579f48cd831a58a5c346c37773b36.png\" alt>","children":[],"payload":{"tag":"img","lines":"105,106"}},{"content":"<pre data-lines=\"107,108\"><code>&#x8c03;&#x7528;&#x670d;&#x52a1;&#x6b63;&#x5e38;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=0\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"107,108"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/057b12b520914946a994411a0fb4ea03.png\" alt>","children":[],"payload":{"tag":"img","lines":"109,110"}},{"content":"<pre data-lines=\"111,112\"><code>&#x8c03;&#x7528;&#x670d;&#x52a1;&#x8d85;&#x65f6;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"111,112"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/011886f1aeb52c7928835afac41c12bb.png\" alt>","children":[],"payload":{"tag":"img","lines":"113,114"}},{"content":"<pre data-lines=\"115,116\"><code>&#x6b63;&#x56e0;&#x4e3a;&#x6709;&#x4e0a;&#x8ff0;&#x6545;&#x969c;&#x6216;&#x4e0d;&#x4f73;&#x8868;&#x73b0;&#xff0c;&#x624d;&#x6709;&#x6211;&#x4eec;&#x7684;&#x964d;&#x7ea7;/&#x7194;&#x65ad;/&#x9650;&#x6d41;&#x7b49;&#x6280;&#x672f;&#x8bde;&#x751f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"115,116"}}],"payload":{"tag":"h2","lines":"27,29"}},{"content":"3.2&#x3001;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x5b66;&#x4e60;","children":[{"content":"3.2.1&#x3001;&#x5355;&#x4e2a;&#x65b9;&#x6cd5;&#x964d;&#x7ea7;","children":[{"content":"<pre data-lines=\"122,125\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x65e2;&#x53ef;&#x4ee5;&#x653e;&#x5230;`&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x7aef;`&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x653e;&#x5230;`&#x670d;&#x52a1;&#x6d88;&#x8d39;&#x7aef;`&#xff0c;&#x56e0;&#x4e3a;`&#x670d;&#x52a1;&#x6d88;&#x8d39;&#x7aef;&#x7684;controller`&#x662f;&#x8c03;&#x7528;&#x7684;`&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x7aef;&#x7684;controller`&#xff0c;&#x90fd;&#x662f;`controller`&#xff0c;&#x90a3;&#x5c31;&#x90fd;&#x53ef;&#x4ee5;&#x7528;&#xff0c;&#x6ca1;&#x6709;&#x4ec0;&#x4e48;&#x533a;&#x522b;&#xff0c;&#x4e0d;&#x8fc7;&#x9700;&#x8981;&#x6ce8;&#x610f;&#x4e00;&#x70b9;&#x5c31;&#x662f;&#x7b2c;&#xff08;2&#xff09;&#x6b65;&#x7684;&#x914d;&#x7f6e;&#xff0c;`&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x7aef;`&#x662f;&#x4e0d;&#x9700;&#x8981;&#x914d;&#x7f6e;&#x8fd9;&#x4e00;&#x6bb5;&#x5185;&#x5bb9;&#x7684;&#xff0c;`&#x670d;&#x52a1;&#x6d88;&#x8d39;&#x7aef;`&#x5c31;&#x5fc5;&#x987b;&#x8981;&#x63d0;&#x4f9b;&#x8fd9;&#x4e00;&#x6bb5;&#x914d;&#x7f6e;&#x4e86;&#x3002;\n\n&#xff08;1&#xff09;&#x5728;&#x5165;&#x53e3;&#x7c7b;&#x4e2d;&#x4f7f;&#x7528;`@EnableCircuitBreaker`&#x6ce8;&#x89e3;&#x6216;`@EnableHystrix`&#x5f00;&#x542f;&#x65ad;&#x8def;&#x5668;&#x529f;&#x80fd;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x4e00;&#x4e2a;&#x540d;&#x4e3a;`@SpringCloudApplication`&#x7684;&#x6ce8;&#x89e3;&#x4ee3;&#x66ff;&#x4e3b;&#x7c7b;&#x4e0a;&#x7684;&#x4e09;&#x4e2a;&#x6ce8;&#x89e3;&#xff08;`@SpringBootApplication`&#x3001;`@EnableDiscoveryClient`&#xff08;&#x9ed8;&#x8ba4;&#x81ea;&#x52a8;&#x5f00;&#x542f;&#xff09;&#x3001;`@EnableCircuitBreaker`&#xff09;&#xff0c;&#x63a8;&#x8350;`@EnableHystrix`&#xff0c;&#x4fee;&#x6539;&#x540e;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"122,125"}},{"content":"<pre data-lines=\"126,137\"><code class=\"language-java\"><span class=\"hljs-meta\">@SpringBootApplication</span>\n<span class=\"hljs-meta\">@EnableFeignClients</span>\n<span class=\"hljs-meta\">@EnableHystrix</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ServiceConsumer9002Application</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        SpringApplication.run(ServiceConsumer9002Application.class);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"126,137"}},{"content":"<pre data-lines=\"138,139\"><code>&#xff08;2&#xff09;&#x5728;`application.yaml`&#x4e2d;&#x65b0;&#x589e;&#x4e00;&#x6bb5;&#x4ee3;&#x7801;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"138,139"}},{"content":"<pre data-lines=\"140,146\"><code class=\"language-yaml\"><span class=\"hljs-attr\">feign:</span>\n  <span class=\"hljs-attr\">hystrix:</span>\n    <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">true</span> \n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"140,146"}},{"content":"<pre data-lines=\"147,148\"><code>&#xff08;3&#xff09;&#x5728;&#x5bf9;&#x5e94;&#x7684;&#x63a7;&#x5236;&#x5668;&#x7c7b;`ProductController`&#x4e0a;&#x4f60;&#x6240;&#x8981;&#x5bf9;&#x54ea;&#x4e2a;&#x65b9;&#x6cd5;&#x8fdb;&#x884c;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#xff0c;&#x5c31;&#x5bf9;&#x54ea;&#x4e2a;&#x65b9;&#x6cd5;&#x8fdb;&#x884c;&#x7279;&#x6b8a;&#x5904;&#x7406;&#xff0c;&#x8fd9;&#x91cc;&#x6211;&#x5bf9;`findByPid`&#x8fdb;&#x884c;&#x5904;&#x7406;&#xff0c;&#x5904;&#x7406;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"147,148"}},{"content":"<pre data-lines=\"149,166\"><code class=\"language-java\"><span class=\"hljs-meta\">@HystrixCommand(fallbackMethod = &quot;findByPidFallback&quot;, commandProperties = {\n        \n        @HystrixProperty(name = &quot;execution.timeout.enabled&quot;, value = &quot;true&quot;),\n        @HystrixProperty(name = &quot;execution.isolation.thread.timeoutInMilliseconds&quot;, value = &quot;1000&quot;)\n})</span>\n<span class=\"hljs-meta\">@RequestMapping(&quot;/consumer/product/findByPid&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">findByPid</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@RequestParam(&quot;pid&quot;)</span> Integer pid)</span> {\n    <span class=\"hljs-keyword\">return</span> productFeignService.findByPid(pid);\n}\n\n\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">findByPidFallback</span><span class=\"hljs-params\">(<span class=\"hljs-meta\">@RequestParam(&quot;pid&quot;)</span> Integer pid)</span> {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;&#x53d1;&#x751f;&#x6545;&#x969c;&#xff0c;&#x670d;&#x52a1;&#x964d;&#x7ea7; ...&quot;</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"149,166"}},{"content":"<pre data-lines=\"167,172\"><code>&#xff08;4&#xff09;&#x91cd;&#x542f;`service-consumer9002`&#xff0c;&#x56e0;&#x4e3a;&#x6709;&#x65f6;&#x5019;&#x70ed;&#x90e8;&#x7f72;&#x5e76;&#x4e0d;&#x80fd;&#x5f88;&#x597d;&#x7684;&#x5e2e;&#x6211;&#x4eec;&#x81ea;&#x52a8;&#x91cd;&#x542f;&#x670d;&#x52a1;&#xff0c;&#x624b;&#x52a8;&#x91cd;&#x542f;&#x4fdd;&#x9669;\n\n&#xff08;5&#xff09;&#x4f9d;&#x6b21;&#x8f93;&#x5165;&#x7f51;&#x5740;&#x6765;&#x67e5;&#x770b;\n\n&#x8c03;&#x7528;&#x670d;&#x52a1;&#x51fa;&#x9519;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=-1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"167,172"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/05fbb66feb927c731f8026823dcbae5b.png\" alt>","children":[],"payload":{"tag":"img","lines":"173,174"}},{"content":"<pre data-lines=\"175,176\"><code>&#x8c03;&#x7528;&#x670d;&#x52a1;&#x6b63;&#x5e38;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=0\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"175,176"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7a86183fa0b3def32ccd971da3f3fdd7.png\" alt>","children":[],"payload":{"tag":"img","lines":"177,178"}},{"content":"<pre data-lines=\"179,180\"><code>&#x8c03;&#x7528;&#x670d;&#x52a1;&#x8d85;&#x65f6;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"179,180"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/e5238efc9e889abb22fcc5b3e9737747.png\" alt>","children":[],"payload":{"tag":"img","lines":"181,182"}},{"content":"<pre data-lines=\"183,218\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;hystrix &#x9ed8;&#x8ba4;&#x8d85;&#x65f6;&#x65f6;&#x95f4;&#x662f; 1000 &#x6beb;&#x79d2;&#xff0c;&#x5982;&#x679c;&#x4f60;&#x540e;&#x7aef;&#x7684;&#x54cd;&#x5e94;&#x8d85;&#x8fc7;&#x6b64;&#x65f6;&#x95f4;&#xff0c;&#x5c31;&#x4f1a;&#x89e6;&#x53d1;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x65b9;&#x6cd5;fallback&#xff0c;&#x800c;&#x4fee;&#x6539;&#x8fd9;&#x4e2a;&#x9ed8;&#x8ba4;&#x65f6;&#x95f4;&#x901a;&#x5e38;&#x6709;&#x4e24;&#x79cd;&#x89e3;&#x51b3;&#x529e;&#x6cd5;&#xff1a;\n&gt; \n&gt; &#x7b2c;&#x4e00;&#x79cd;&#xff1a;&#x6ce8;&#x89e3;&#x5c5e;&#x6027;&#x4fee;&#x6539;\n&gt; \n&gt; ```\n&gt; @RequestMapping(&quot;/XXX/XXX&quot;)\n&gt; @HystrixCommand(fallbackMethod = &quot;findByPidFallback&quot;, commandProperties = {\n&gt;         /*&#x8fd9;&#x91cc;&#x7528;&#x6765;&#x653e;&#x5e38;&#x89c1;&#x7684;&#x914d;&#x7f6e;&#xff0c;&#x6bd4;&#x5982;&#xff1a;&#x8be5;&#x65b9;&#x6cd5;&#x7684;&#x8d85;&#x65f6;&#x65f6;&#x95f4;&#x662f;&#x591a;&#x5c11;*/\n&gt;         @HystrixProperty(name = &quot;execution.timeout.enabled&quot;, value = &quot;true&quot;),//&#x9ed8;&#x8ba4;&#x4e3a;true&#xff0c;&#x53ef;&#x4ee5;&#x4e0d;&#x914d;&#x7f6e;\n&gt;         @HystrixProperty(name = &quot;execution.isolation.thread.timeoutInMilliseconds&quot;, value = &quot;1000&quot;)\n&gt; })\n&gt; \n&gt; ```\n&gt; \n&gt; &#x7b2c;&#x4e8c;&#x79cd;&#xff1a;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x914d;&#x7f6e;\n&gt; \n&gt; ```properties\n&gt; ribbon.ReadTimeout=6000\n&gt; ribbon.ConnectTimeout=3000\n&gt; hystrix.command.default.execution.timeout.enabled=true\n&gt; hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds=5000\n&gt; \n&gt; ```\n&gt; \n&gt; &#x8fd9;&#x91cc;&#x6709;&#x4e2a;&#x5751;&#x9700;&#x8981;&#x6ce8;&#x610f;&#x4e00;&#x4e0b;&#xff1a;\n&gt; \n&gt; &#x5982;&#x679c;`hystrix.command.default.execution.timeout.enabled`&#x4e3a;true&#xff0c;&#x5219;&#x4f1a;&#x6709;&#x4e24;&#x4e2a;&#x6267;&#x884c;&#x65b9;&#x6cd5;&#x8d85;&#x65f6;&#x7684;&#x914d;&#x7f6e;&#xff0c;&#x4e00;&#x4e2a;&#x5c31;&#x662f;ribbon&#x7684;ReadTimeout&#xff0c;&#x4e00;&#x4e2a;&#x5c31;&#x662f;&#x65ad;&#x8def;&#x5668;hystrix&#x7684;timeoutInMilliseconds&#xff0c;&#x6b64;&#x65f6;&#x8c01;&#x7684;&#x503c;&#x5c0f;&#x8c01;&#x751f;&#x6548;&#xff1b;\n&gt; \n&gt; &#x5982;&#x679c;`hystrix.command.default.execution.timeout.enabled`&#x4e3a;false&#xff0c;&#x5219;&#x65ad;&#x8def;&#x5668;&#x4e0d;&#x8fdb;&#x884c;hystrix&#x7684;&#x8d85;&#x65f6;&#x7194;&#x65ad;&#xff0c;&#x800c;&#x662f;&#x6839;&#x636e;ribbon&#x7684;ReadTimeout&#x629b;&#x51fa;&#x7684;&#x5f02;&#x5e38;&#x800c;&#x7194;&#x65ad;&#xff0c;&#x800c;ribbon&#x7684;ConnectTimeout&#xff0c;&#x914d;&#x7f6e;&#x7684;&#x662f;&#x8bf7;&#x6c42;&#x670d;&#x52a1;&#x7684;&#x8d85;&#x65f6;&#x65f6;&#x95f4;&#xff0c;&#x9664;&#x975e;&#x670d;&#x52a1;&#x627e;&#x4e0d;&#x5230;&#xff0c;&#x6216;&#x8005;&#x7f51;&#x7edc;&#x539f;&#x56e0;&#xff0c;&#x8fd9;&#x4e2a;&#x65f6;&#x95f4;&#x624d;&#x4f1a;&#x751f;&#x6548;&#xff1b;\n&gt; \n&gt; ```properties\n&gt; ribbon.ReadTimeout=6000\n&gt; ribbon.ConnectTimeout=3000\n&gt; \n&gt; ```\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"183,218"}}],"payload":{"tag":"h3","lines":"120,121"}},{"content":"3.2.2&#x3001;&#x591a;&#x4e2a;&#x65b9;&#x6cd5;&#x964d;&#x7ea7;","children":[{"content":"<pre data-lines=\"221,226\"><code>&#x867d;&#x7136;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x4e0a;&#x8fb9;&#x90a3;&#x79cd;&#x65b9;&#x5f0f;&#xff0c;&#x4e00;&#x4e2a;&#x4e00;&#x4e2a;&#x7684;&#x7ed9;&#x6240;&#x6709;&#x7684;&#x65b9;&#x6cd5;&#x6dfb;&#x52a0;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x7684;&#x5904;&#x7406;&#x65b9;&#x6cd5;&#xff0c;&#x4f46;&#x662f;&#xff0c;&#x8fd9;&#x6837;&#x4e00;&#x6765;&#xff0c;&#x4f60;&#x7684;&#x63a7;&#x5236;&#x5c42;&#x4f1a;&#x591a;&#x5f88;&#x591a;&#x8ddf;&#x4e1a;&#x52a1;&#x903b;&#x8f91;&#x6ca1;&#x6709;&#x5173;&#x7cfb;&#x7684;&#x4ee3;&#x7801;&#xff0c;&#x589e;&#x52a0;&#x4e86;&#x5f88;&#x591a;&#x4ee3;&#x7801;&#xff0c;&#x6211;&#x4eec;&#x4e5f;&#x6210;&#x4e3a;&#x4ee3;&#x7801;&#x81a8;&#x80c0;&#xff0c;&#x6709;&#x6ca1;&#x6709;&#x4e00;&#x79cd;&#x65b9;&#x5f0f;&#xff0c;&#x65e2;&#x53ef;&#x4ee5;&#x5904;&#x7406;&#x6bcf;&#x4e00;&#x4e2a;&#x65b9;&#x6cd5;&#x7ed9;&#x4ed6;&#x6dfb;&#x52a0;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x65b9;&#x6cd5;&#xff0c;&#x53c8;&#x80fd;&#x8ddf;&#x63a7;&#x5236;&#x5668;&#x7c7b;&#x4e2d;&#x7684;&#x65b9;&#x6cd5;&#x8fdb;&#x884c;&#x89e3;&#x8026;&#x5408;&#xff0c;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;Fegin&#x8ddf;Hystrix&#x76f8;&#x7ed3;&#x5408;&#x7684;&#x65b9;&#x5f0f;&#x6765;&#x8fdb;&#x884c;&#x5904;&#x7406;&#x3002;\n\n&#xff08;1&#xff09;&#x6211;&#x4eec;&#x6253;&#x5f00;`ProductFeignService`&#xff0c;&#x4f1a;&#x53d1;&#x73b0;&#x8fd9;&#x91cc;&#x8fb9;&#x7684;&#x4ee3;&#x7801;&#x4e0d;&#x5c31;&#x662f;`Feign`&#x7528;&#x4e8e;&#x8c03;&#x7528;&#x8fdc;&#x7a0b;&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x8005;&#x6240;&#x5b9a;&#x4e49;&#x7684;&#x63a5;&#x53e3;&#x65b9;&#x6cd5;&#xff0c;&#x6211;&#x4eec;&#x7b2c;&#x4e00;&#x6b65;&#x5c31;&#x662f;&#x91cd;&#x65b0;&#x7f16;&#x5199;&#x4e00;&#x4e2a;&#x7c7b;&#x6765;&#x7ee7;&#x627f;&#x8fd9;&#x4e2a;&#x63a5;&#x53e3;&#xff0c;&#x56e0;&#x4e3a;&#x8fd9;&#x4e2a;&#x63a5;&#x53e3;&#x4e2d;&#x7684;&#x65b9;&#x6cd5;&#x4e0d;&#x5c31;&#x662f;&#x6211;&#x4eec;`ProductController`&#x4e2d;&#x8c03;&#x7528;&#x7684;&#x65b9;&#x6cd5;&#x5417;&#x3002;\n\ncom.caochenlei.service.impl.ProductFeignServiceFallBackImpl\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"221,226"}},{"content":"<pre data-lines=\"227,246\"><code class=\"language-java\"><span class=\"hljs-meta\">@Component</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ProductFeignServiceFallBackImpl</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">ProductFeignService</span> {\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> List&lt;Product&gt; <span class=\"hljs-title function_\">findAll</span><span class=\"hljs-params\">()</span> {\n        <span class=\"hljs-keyword\">return</span> Arrays.asList(\n                <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Product</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-string\">&quot;&#x5c0f;&#x7c73;&#x624b;&#x673a;-&#x670d;&#x52a1;&#x964d;&#x7ea7; ...&quot;</span>, <span class=\"hljs-number\">1000.0D</span>, <span class=\"hljs-number\">100</span>),\n                <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Product</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-string\">&quot;&#x534e;&#x4e3a;&#x624b;&#x673a;-&#x670d;&#x52a1;&#x964d;&#x7ea7; ...&quot;</span>, <span class=\"hljs-number\">2000.0D</span>, <span class=\"hljs-number\">200</span>),\n                <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Product</span>(<span class=\"hljs-number\">3</span>, <span class=\"hljs-string\">&quot;&#x82f9;&#x679c;&#x624b;&#x673a;-&#x670d;&#x52a1;&#x964d;&#x7ea7; ...&quot;</span>, <span class=\"hljs-number\">3000.0D</span>, <span class=\"hljs-number\">300</span>)\n        );\n    }\n\n    <span class=\"hljs-meta\">@Override</span>\n    <span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">findByPid</span><span class=\"hljs-params\">(Integer pid)</span> {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;findByPid &#x670d;&#x52a1;&#x964d;&#x7ea7; ...&quot;</span>;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"227,246"}},{"content":"<pre data-lines=\"247,250\"><code>&#xff08;2&#xff09;&#x4f60;&#x5f97;&#x544a;&#x8bc9;`ProductFeignService`&#x5f53;&#x8c03;&#x7528;&#x8fdc;&#x7a0b;&#x65b9;&#x6cd5;&#x5931;&#x8d25;&#x540e;&#xff0c;&#x4f60;&#x5e94;&#x8be5;&#x53bb;&#x54ea;&#x4e00;&#x4e2a;&#x7c7b;&#x6765;&#x627e;&#x76f8;&#x5bf9;&#x5e94;&#x7684;&#x670d;&#x52a1;&#x964d;&#x7ea7;fallback&#x6765;&#x8fdb;&#x884c;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x5904;&#x7406;&#x3002;\n\ncom.caochenlei.service.ProductFeignService\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"247,250"}},{"content":"<pre data-lines=\"251,259\"><code class=\"language-java\"><span class=\"hljs-meta\">@Component</span>\n<span class=\"hljs-meta\">@FeignClient(value = &quot;SERVICE-PROVIDER&quot;, fallback = ProductFeignServiceFallBackImpl.class)</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">interface</span> <span class=\"hljs-title class_\">ProductFeignService</span> {\n    ...\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"251,259"}},{"content":"<pre data-lines=\"260,265\"><code>&#xff08;3&#xff09;&#x91cd;&#x65b0;&#x542f;&#x52a8;`service-consumer9002`&#xff0c;&#x542f;&#x52a8;&#x5b8c;&#x6210;&#x4ee5;&#x540e;&#xff0c;&#x624b;&#x52a8;&#x5f3a;&#x5236;&#x5173;&#x95ed;`service-provider8001`&#x3001;`service-provider8002`&#x6765;&#x6a21;&#x62df;&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x8005;&#x7aef;&#x5b95;&#x673a;\n\n&#xff08;4&#xff09;&#x4f9d;&#x6b21;&#x8f93;&#x5165;&#x7f51;&#x5740;&#x6765;&#x67e5;&#x770b;\n\n&#x67e5;&#x770b;&#x5546;&#x54c1;&#x5217;&#x8868;&#xff1a;http://localhost:9002/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"260,265"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/79c6851c82cd100b30b4583afdc1fdca.png\" alt>","children":[],"payload":{"tag":"img","lines":"266,267"}},{"content":"<pre data-lines=\"268,269\"><code>&#x8c03;&#x7528;&#x670d;&#x52a1;&#x51fa;&#x9519;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=-1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"268,269"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/05fbb66feb927c731f8026823dcbae5b.png\" alt>","children":[],"payload":{"tag":"img","lines":"270,271"}},{"content":"<pre data-lines=\"272,273\"><code>&#x8c03;&#x7528;&#x670d;&#x52a1;&#x6b63;&#x5e38;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=0\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"272,273"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7a86183fa0b3def32ccd971da3f3fdd7.png\" alt>","children":[],"payload":{"tag":"img","lines":"274,275"}},{"content":"<pre data-lines=\"276,277\"><code>&#x8c03;&#x7528;&#x670d;&#x52a1;&#x8d85;&#x65f6;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"276,277"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/e5238efc9e889abb22fcc5b3e9737747.png\" alt>","children":[],"payload":{"tag":"img","lines":"278,279"}},{"content":"<pre data-lines=\"280,281\"><code>&#x4ece;&#x4e0a;&#x8fb9;&#x7684;&#x56db;&#x4e2a;&#x6d4b;&#x8bd5;&#x4e2d;&#x4e0d;&#x96be;&#x770b;&#x51fa;&#xff0c;&#x5982;&#x679c;&#x5f53;&#x524d;&#x65b9;&#x6cd5;&#x4e0a;&#x5df2;&#x7ecf;&#x589e;&#x52a0;&#x4e86;&#x4e00;&#x4e2a;`@HystrixCommand`&#xff0c;&#x5219;&#x4f1a;&#x6709;&#x4f18;&#x5148;&#x6267;&#x884c;&#x81ea;&#x5df1;&#x5b9a;&#x4e49;&#x7684;&#xff0c;&#x5982;&#x679c;&#x81ea;&#x5df1;&#x6ca1;&#x6709;&#x5b9a;&#x4e49;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x5219;&#x4f1a;&#x8d70;`ProductFeignServiceFallBackImpl`&#x4e2d;&#x5b9a;&#x4e49;&#x7684;&#x65b9;&#x6cd5;&#x3002;&#x8fd9;&#x6837;&#x4e00;&#x6765;&#x5c31;&#x5b9e;&#x73b0;&#x4e86;&#x4e1a;&#x52a1;&#x903b;&#x8f91;&#x548c;fallback&#x89e3;&#x8026;&#x64cd;&#x4f5c;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"280,281"}}],"payload":{"tag":"h3","lines":"219,220"}},{"content":"3.2.3&#x3001;&#x5168;&#x5c40;&#x7edf;&#x4e00;&#x5904;&#x7406;","children":[{"content":"<pre data-lines=\"284,287\"><code>&#x6211;&#x4eec;&#x4e0d;&#x786e;&#x5b9a;&#x6211;&#x4eec;&#x81ea;&#x5df1;&#x7684;`ProductController`&#x4e2d;&#x6240;&#x5199;&#x7684;&#x65b9;&#x6cd5;&#x4e00;&#x5b9a;&#x662f;`&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x8005;`&#x4e2d;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x6211;&#x4eec;&#x4e5f;&#x6709;&#x53ef;&#x80fd;&#x6709;&#x81ea;&#x5df1;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x90a3;&#x6837;&#x7684;&#x8bdd;&#xff0c;&#x4f7f;&#x7528;&#x4e0a;&#x8fb9;&#x7684;&#x5904;&#x7406;&#x65b9;&#x5f0f;&#xff0c;&#x597d;&#x50cf;&#x4f3c;&#x4e4e;&#x4f1a;&#x6709;&#x70b9;&#x95ee;&#x9898;&#xff0c;&#x6211;&#x4eec;&#x603b;&#x4e0d;&#x80fd;&#x628a;&#x6211;&#x4eec;&#x81ea;&#x5df1;&#x7279;&#x6709;&#x7684;&#x65b9;&#x6cd5;&#x4e5f;&#x5199;&#x5230;`ProductFeignService`&#x8fd9;&#x4e2a;&#x63a5;&#x53e3;&#x4e2d;&#x5427;&#xff0c;&#x4f60;&#x4e0d;&#x5199;&#x5230;&#x8fd9;&#x4e2a;&#x63a5;&#x53e3;&#x4e2d;&#xff0c;`ProductFeignServiceFallBackImpl`&#x5c31;&#x6ca1;&#x529e;&#x6cd5;&#x5b9e;&#x73b0;&#x5bf9;&#x5e94;&#x65b9;&#x6cd5;&#x7684;fallback&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x65b9;&#x6cd5;&#xff0c;&#x4f60;&#x5f53;&#x7136;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x7b2c;&#x4e00;&#x79cd;&#x7684;&#x4e00;&#x4e2a;&#x4e00;&#x4e2a;&#x7684;&#x4f7f;&#x7528;&#x6ce8;&#x89e3;`@HystrixCommand`&#x6765;&#x914d;&#xff0c;&#x4f46;&#x662f;&#x4e07;&#x4e00;&#x6709;100&#x591a;&#x4e2a;&#x5462;&#xff0c;&#x90a3;&#x4f60;&#x4e0d;&#x50bb;&#x773c;&#x4e86;&#x5417;&#xff0c;&#x6709;&#x6ca1;&#x6709;&#x4e00;&#x79cd;&#x53ef;&#x4ee5;&#x7edf;&#x4e00;&#x5904;&#x7406;&#x5168;&#x5c40;&#x7684;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x65b9;&#x6cd5;&#xff0c;&#x8fd9;&#x4e2a;&#x5168;&#x5c40;&#x5c31;&#x662f;&#xff0c;&#x5982;&#x679c;&#xff0c;&#x4f60;&#x81ea;&#x5df1;&#x6709;&#x6307;&#x5b9a;&#x7684;&#x6211;&#x5c31;&#x7528;&#x4f60;&#x6307;&#x5b9a;&#x7684;&#xff08;`&#x591a;&#x4e2a;&#x65b9;&#x6cd5;&#x964d;&#x7ea7;`&#x7684;&#x4e5f;&#x7b97;&#x6307;&#x5b9a;&#x7684;&#xff09;&#xff0c;&#x4f60;&#x6ca1;&#x6709;&#x6307;&#x5b9a;&#xff0c;&#x90fd;&#x4ea4;&#x7ed9;&#x6211;&#x6765;&#x5904;&#x7406;&#xff0c;&#x5177;&#x4f53;&#x7684;&#x505a;&#x6cd5;&#x8bf7;&#x53c2;&#x8003;&#x5982;&#x4e0b;&#x6b65;&#x9aa4;&#xff1a;\n\n&#xff08;1&#xff09;&#x9996;&#x5148;&#x6211;&#x4eec;&#x9700;&#x8981;&#x5728;`service-consumer9002`&#x7684;`ProductController`&#x4e2d;&#x6dfb;&#x52a0;2&#x4e2a;&#x72ec;&#x6709;&#x7684;&#x63a7;&#x5236;&#x5668;&#x65b9;&#x6cd5;&#xff0c;&#x5e76;&#x6807;&#x6ce8;`@HystrixCommand`&#x6ce8;&#x89e3;&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"284,287"}},{"content":"<pre data-lines=\"288,304\"><code class=\"language-java\"><span class=\"hljs-meta\">@HystrixCommand</span>\n<span class=\"hljs-meta\">@RequestMapping(&quot;/consumer/product/findOne&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">findOne</span><span class=\"hljs-params\">()</span> {\n    <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">a</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span> / <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;findOne &#x6b63;&#x5e38;&#x65b9;&#x6cd5; ...&quot;</span>;\n}\n\n<span class=\"hljs-meta\">@HystrixCommand</span>\n<span class=\"hljs-meta\">@RequestMapping(&quot;/consumer/product/findTwo&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">findTwo</span><span class=\"hljs-params\">()</span> {\n    <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">a</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span> / <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;findTwo &#x6b63;&#x5e38;&#x65b9;&#x6cd5; ...&quot;</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"288,304"}},{"content":"<pre data-lines=\"305,306\"><code>&#xff08;2&#xff09;&#x5728;`service-consumer9002`&#x7684;`ProductController`&#x4e2d;&#x7f16;&#x5199;&#x4e00;&#x4e2a;&#x5168;&#x5c40;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x7684;fallback&#x65b9;&#x6cd5;&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"305,306"}},{"content":"<pre data-lines=\"307,313\"><code class=\"language-java\"><span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">GlobalFallbackMethod</span><span class=\"hljs-params\">()</span>{\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;&#x5168;&#x5c40;&#x670d;&#x52a1;&#x964d;&#x7ea7;fallback ...&quot;</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"307,313"}},{"content":"<pre data-lines=\"314,315\"><code>&#xff08;3&#xff09;&#x5728;`service-consumer9002`&#x7684;`ProductController`&#x4e0a;&#x6807;&#x6ce8;&#x4e00;&#x4e2a;&#x9ed8;&#x8ba4;&#x914d;&#x7f6e;&#x7684;&#x6ce8;&#x89e3;&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"314,315"}},{"content":"<pre data-lines=\"316,324\"><code class=\"language-java\"><span class=\"hljs-meta\">@RestController</span>\n<span class=\"hljs-meta\">@DefaultProperties(defaultFallback = &quot;GlobalFallbackMethod&quot;)</span>  \n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ProductController</span> {\n    ...\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"316,324"}},{"content":"<pre data-lines=\"325,330\"><code>&#xff08;4&#xff09;&#x91cd;&#x65b0;&#x542f;&#x52a8;`service-consumer9002`\n\n&#xff08;5&#xff09;&#x4f9d;&#x6b21;&#x8f93;&#x5165;&#x7f51;&#x5740;&#x6765;&#x67e5;&#x770b;\n\n&#x67e5;&#x770b;&#x5546;&#x54c1;&#x5217;&#x8868;&#xff1a;http://localhost:9002/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"325,330"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/79c6851c82cd100b30b4583afdc1fdca.png\" alt>","children":[],"payload":{"tag":"img","lines":"331,332"}},{"content":"<pre data-lines=\"333,334\"><code>&#x8c03;&#x7528;&#x670d;&#x52a1;&#x51fa;&#x9519;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=-1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"333,334"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/05fbb66feb927c731f8026823dcbae5b.png\" alt>","children":[],"payload":{"tag":"img","lines":"335,336"}},{"content":"<pre data-lines=\"337,338\"><code>&#x8c03;&#x7528;&#x670d;&#x52a1;&#x6b63;&#x5e38;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=0\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"337,338"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7a86183fa0b3def32ccd971da3f3fdd7.png\" alt>","children":[],"payload":{"tag":"img","lines":"339,340"}},{"content":"<pre data-lines=\"341,342\"><code>&#x8c03;&#x7528;&#x670d;&#x52a1;&#x8d85;&#x65f6;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"341,342"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/e5238efc9e889abb22fcc5b3e9737747.png\" alt>","children":[],"payload":{"tag":"img","lines":"343,344"}},{"content":"<pre data-lines=\"345,346\"><code>findOne&#xff1a;http://localhost:9002/consumer/product/findOne\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"345,346"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/81d4e1fed06425b7e08f86d5a66bf974.png\" alt>","children":[],"payload":{"tag":"img","lines":"347,348"}},{"content":"<pre data-lines=\"349,350\"><code>findTwo&#xff1a;http://localhost:9002/consumer/product/findTwo\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"349,350"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/54e7375399b81cf09e6bff317b554bd4.png\" alt>","children":[],"payload":{"tag":"img","lines":"351,352"}},{"content":"<pre data-lines=\"353,367\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x8fd9;&#x4e2a;&#x5168;&#x5c40;&#x670d;&#x52a1;&#x964d;&#x7ea7;&#x7684;fallback&#x65b9;&#x6cd5;&#x4e5f;&#x4e0d;&#x662f;&#x968f;&#x4fbf;&#x5199;&#x7684;&#xff0c;&#x81f3;&#x5c11;&#x4f60;&#x7684;&#x8fd4;&#x56de;&#x503c;&#x7c7b;&#x578b;&#x90fd;&#x5e94;&#x8be5;&#x548c;&#x539f;&#x65b9;&#x6cd5;&#x4fdd;&#x6301;&#x4e00;&#x81f4;&#xff0c;&#x6709;&#x4eba;&#x53ef;&#x80fd;&#x4f1a;&#x95ee;&#xff0c;&#x6211;&#x6709;&#x7684;&#x67e5;&#x8be2;&#x4e00;&#x4ef6;&#x5546;&#x54c1;&#xff0c;&#x6709;&#x7684;&#x67e5;&#x8be2;&#x5546;&#x54c1;&#x5217;&#x8868;&#xff0c;&#x8fd9;&#x600e;&#x4e48;&#x53ef;&#x80fd;&#x8fd4;&#x56de;&#x4e00;&#x81f4;&#xff0c;&#x90a3;&#x8fd9;&#x79cd;&#x65b9;&#x6cd5;&#x662f;&#x4e0d;&#x662f;&#x6ca1;&#x6709;&#x6548;&#x679c;&#x4e86;&#xff0c;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x5199;&#x4e00;&#x4e2a;&#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x5305;&#x88c5;&#x7c7b;&#xff0c;&#x6765;&#x7edf;&#x4e00;&#x5904;&#x7406;&#x8fd4;&#x56de;&#x7ed3;&#x679c;&#xff0c;&#x6211;&#x8fd9;&#x91cc;&#x7ed9;&#x5927;&#x5bb6;&#x63d0;&#x4f9b;&#x4e00;&#x79cd;&#x5e38;&#x89c1;&#x7684;&#x5305;&#x88c5;&#x7c7b;&#x5f62;&#x5f0f;&#xff0c;&#x4ec5;&#x4f9b;&#x53c2;&#x8003;&#xff1a;\n&gt; \n&gt; ```java\n&gt; \n&gt; @Data\n&gt; @NoArgsConstructor\n&gt; @AllArgsConstructor\n&gt; public class Result implements Serializable {\n&gt;     private Integer code;\n&gt;     private String msg;\n&gt;     private Object data;\n&gt; }\n&gt; \n&gt; ```\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"353,367"}}],"payload":{"tag":"h3","lines":"282,283"}}],"payload":{"tag":"h2","lines":"117,119"}},{"content":"3.3&#x3001;&#x670d;&#x52a1;&#x7194;&#x65ad;&#x5b66;&#x4e60;","children":[{"content":"3.3.1&#x3001;&#x670d;&#x52a1;&#x7194;&#x65ad;&#x6f14;&#x793a;","children":[{"content":"<pre data-lines=\"373,378\"><code>&#xff08;1&#xff09;&#x91cd;&#x65b0;&#x542f;&#x52a8;`service-provider8001`&#xff0c;`service-provider8002`&#xff0c;&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x8005;\n\n&#xff08;2&#xff09;&#x9996;&#x5148;&#x8bbf;&#x95ee;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=0&#xff0c;&#x6211;&#x4eec;&#x53d1;&#x73b0;&#x53ef;&#x4ee5;&#x6b63;&#x5e38;&#x8bbf;&#x95ee;\n\n&#xff08;3&#xff09;&#x518d;&#x6b21;&#x8bbf;&#x95ee;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=-1&#xff0c;&#x5feb;&#x901f;&#x8bbf;&#x95ee;10&#x6b21;&#x9519;&#x8bef;&#x7684;&#xff0c;&#x7136;&#x540e;&#x5728;&#x8bbf;&#x95ee;&#x4e00;&#x6b21;&#x6b63;&#x786e;&#x7684;&#xff0c;&#x4f60;&#x4f1a;&#x53d1;&#x73b0;&#x6b63;&#x786e;&#x7684;&#x4e0d;&#x80fd;&#x8bbf;&#x95ee;&#x4e86;&#xff08;&#x80fd;&#x8bbf;&#x95ee;&#x518d;&#x591a;&#x5237;&#x65b0;&#x51e0;&#x6b21;&#xff0c;&#x53cd;&#x590d;&#x5c1d;&#x8bd5;&#xff09;&#xff0c;&#x7136;&#x540e;&#x4f60;&#x5c31;&#x4e0d;&#x505c;&#x7684;&#x8bbf;&#x95ee;&#x6b63;&#x786e;&#x7684;&#xff0c;&#x53d1;&#x73b0;&#x4e00;&#x4f1a;&#x6b63;&#x786e;&#x7684;&#x53c8;&#x53ef;&#x4ee5;&#x8bbf;&#x95ee;&#x4e86;&#xff0c;&#x8fd9;&#x4e2a;&#x5c31;&#x662f;&#x670d;&#x52a1;&#x7684;&#x7194;&#x65ad;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"373,378"}}],"payload":{"tag":"h3","lines":"371,372"}},{"content":"3.3.2&#x3001;&#x670d;&#x52a1;&#x7194;&#x65ad;&#x7c7b;&#x578b;","children":[{"content":"<pre data-lines=\"381,384\"><code>*   &#x7194;&#x65ad;&#x6253;&#x5f00;&#xff1a;&#x8bf7;&#x6c42;&#x4e0d;&#x518d;&#x8fdb;&#x884c;&#x8c03;&#x7528;&#x5f53;&#x524d;&#x670d;&#x52a1;&#xff0c;&#x5185;&#x90e8;&#x8bbe;&#x7f6e;&#x65f6;&#x949f;&#x4e00;&#x822c;&#x4e3a;MTTR(&#x5e73;&#x5747;&#x6545;&#x969c;&#x5904;&#x7406;&#x65f6;&#x95f4;)&#xff0c;&#x5f53;&#x6253;&#x5f00;&#x65f6;&#x957f;&#x8fbe;&#x5230;&#x6240;&#x8bbe;&#x65f6;&#x949f;&#x5219;&#x8fdb;&#x5165;&#x7194;&#x65ad;&#x72b6;&#x6001;\n*   &#x7194;&#x65ad;&#x5173;&#x95ed;&#xff1a;&#x7194;&#x65ad;&#x5173;&#x95ed;&#x4e0d;&#x4f1a;&#x5bf9;&#x670d;&#x52a1;&#x8fdb;&#x884c;&#x7194;&#x65ad;\n*   &#x7194;&#x65ad;&#x534a;&#x5f00;&#xff1a;&#x90e8;&#x5206;&#x8bf7;&#x6c42;&#x6839;&#x636e;&#x89c4;&#x5219;&#x8c03;&#x7528;&#x5f53;&#x524d;&#x670d;&#x52a1;&#xff0c;&#x5982;&#x679c;&#x8bf7;&#x6c42;&#x6210;&#x529f;&#x4e14;&#x7b26;&#x5408;&#x89c4;&#x5219;&#xff0c;&#x5219;&#x8ba4;&#x4e3a;&#x5f53;&#x524d;&#x670d;&#x52a1;&#x6062;&#x590d;&#x6b63;&#x5e38;&#xff0c;&#x5173;&#x95ed;&#x7194;&#x65ad;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"381,384"}}],"payload":{"tag":"h3","lines":"379,380"}},{"content":"3.3.3&#x3001;&#x670d;&#x52a1;&#x7194;&#x65ad;&#x6761;&#x4ef6;","children":[{"content":"<pre data-lines=\"387,392\"><code>1.  &#x5f53;&#x6ee1;&#x8db3;&#x4e00;&#x5b9a;&#x9600;&#x503c;&#x7684;&#x65f6;&#x5019;&#xff08;&#x9ed8;&#x8ba4;10&#x79d2;&#x5185;&#x8d85;&#x8fc7;20&#x4e2a;&#x8bf7;&#x6c42;&#x6b21;&#x6570;&#xff09;\n2.  &#x5f53;&#x5931;&#x8d25;&#x7387;&#x8fbe;&#x5230;&#x4e00;&#x5b9a;&#x7684;&#x65f6;&#x5019;&#xff08;&#x9ed8;&#x8ba4;10&#x79d2;&#x5185;&#x8d85;&#x8fc7;50%&#x8bf7;&#x6c42;&#x5931;&#x8d25;&#xff09;\n3.  &#x5230;&#x8fbe;&#x4ee5;&#x4e0a;&#x9600;&#x503c;&#xff0c;&#x65ad;&#x8def;&#x5668;&#x5c06;&#x4f1a;&#x5f00;&#x542f;\n4.  &#x5f53;&#x5f00;&#x542f;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x6240;&#x6709;&#x8bf7;&#x6c42;&#x90fd;&#x4e0d;&#x4f1a;&#x8fdb;&#x884c;&#x8f6c;&#x53d1;\n5.  &#x4e00;&#x6bb5;&#x65f6;&#x95f4;&#x4e4b;&#x540e;&#xff08;&#x9ed8;&#x8ba4;&#x662f;5&#x79d2;&#xff09;&#xff0c;&#x8fd9;&#x4e2a;&#x65f6;&#x5019;&#x65ad;&#x8def;&#x5668;&#x662f;&#x534a;&#x5f00;&#x72b6;&#x6001;&#xff0c;&#x4f1a;&#x8ba9;&#x5176;&#x4e2d;&#x4e00;&#x4e2a;&#x8bf7;&#x6c42;&#x8fdb;&#x884c;&#x8f6c;&#x53d1;&#x3002;&#x5982;&#x679c;&#x6210;&#x529f;&#xff0c;&#x65ad;&#x8def;&#x5668;&#x4f1a;&#x5173;&#x95ed;&#xff0c;&#x82e5;&#x5931;&#x8d25;&#xff0c;&#x7ee7;&#x7eed;&#x5f00;&#x542f;&#x3002;&#x91cd;&#x590d;4&#x548c;5\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"387,392"}}],"payload":{"tag":"h3","lines":"385,386"}},{"content":"3.3.4&#x3001;&#x670d;&#x52a1;&#x7194;&#x65ad;&#x8bbe;&#x7f6e;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/73aea1947d263afba50a879cf30c3ca4.png\" alt>","children":[],"payload":{"tag":"img","lines":"395,396"}}],"payload":{"tag":"h3","lines":"393,394"}}],"payload":{"tag":"h2","lines":"368,370"}},{"content":"3.4&#x3001;&#x670d;&#x52a1;&#x9650;&#x6d41;&#x5b66;&#x4e60;","children":[{"content":"<pre data-lines=\"400,403\"><code>hystrix&#x9650;&#x6d41;&#x5c31;&#x662f;&#x9650;&#x5236;&#x4f60;&#x67d0;&#x4e2a;&#x5fae;&#x670d;&#x52a1;&#x7684;&#x4f7f;&#x7528;&#x91cf;&#xff08;&#x53ef;&#x7528;&#x7ebf;&#x7a0b;&#x6570;&#x3001;&#x4fe1;&#x53f7;&#x91cf;&#xff09;&#xff0c;hystrix&#x901a;&#x8fc7;&#x7ebf;&#x7a0b;&#x6c60;&#x7684;&#x65b9;&#x5f0f;&#x6765;&#x7ba1;&#x7406;&#x5fae;&#x670d;&#x52a1;&#x7684;&#x8c03;&#x7528;&#xff0c;&#x5b83;&#x9ed8;&#x8ba4;&#x662f;&#x4e00;&#x4e2a;&#x7ebf;&#x7a0b;&#x6c60;&#xff08;&#x5927;&#x5c0f;10&#x4e2a;&#xff09; &#x7ba1;&#x7406;&#x4f60;&#x7684;&#x6240;&#x6709;&#x5fae;&#x670d;&#x52a1;&#xff0c;&#x4f60;&#x53ef;&#x4ee5;&#x7ed9;&#x67d0;&#x4e2a;&#x5fae;&#x670d;&#x52a1;&#x5f00;&#x8f9f;&#x65b0;&#x7684;&#x7ebf;&#x7a0b;&#x6c60;&#xff1a;\n\n&#xff08;1&#xff09;&#x5728;`service-consumer9002`&#x7684;`ProductController`&#x6dfb;&#x52a0;&#x5982;&#x4e0b;&#x4ee3;&#x7801;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"400,403"}},{"content":"<pre data-lines=\"404,423\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@HystrixCommand(fallbackMethod = &quot;miaoShaFallback&quot;,\n        threadPoolKey = &quot;miaoSha&quot;,\n        threadPoolProperties = {\n                @HystrixProperty(name = &quot;coreSize&quot;, value = &quot;2&quot;),\n                @HystrixProperty(name = &quot;maxQueueSize&quot;, value = &quot;1&quot;)\n        })</span>\n<span class=\"hljs-meta\">@RequestMapping(&quot;/consumer/product/miaoSha&quot;)</span>\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">miaoSha</span><span class=\"hljs-params\">()</span> <span class=\"hljs-keyword\">throws</span> InterruptedException {\n    Thread.sleep(<span class=\"hljs-number\">500</span>);\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;&#x606d;&#x559c;&#x4f60;&#xff0c;&#x62a2;&#x5230;&#x4e86;&#xff0c;^_^&quot;</span>;\n}\n\n<span class=\"hljs-keyword\">public</span> String <span class=\"hljs-title function_\">miaoShaFallback</span><span class=\"hljs-params\">()</span> {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&quot;&#x79d2;&#x6740;&#x9ad8;&#x5cf0;&#x671f;&#xff0c;&#x7ebf;&#x7a0b;&#x6c60;&#x5df2;&#x6ee1;&#xff0c;&#x670d;&#x52a1;&#x964d;&#x7ea7;...&quot;</span>;\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"404,423"}},{"content":"<pre data-lines=\"424,425\"><code>&#xff08;2&#xff09;&#x5982;&#x679c;&#x6d4f;&#x89c8;&#x5668;&#x5feb;&#x901f;&#x8bbf;&#x95ee;4&#x6b21;&#xff0c;&#x53ef;&#x80fd;&#x5e76;&#x4e0d;&#x4f1a;&#x770b;&#x5230;&#x6548;&#x679c;&#xff0c;&#x6211;&#x8fd9;&#x91cc;&#x91c7;&#x7528;Apache JMeter&#x6765;&#x8fdb;&#x884c;&#x5e76;&#x53d1;&#x6d4b;&#x8bd5;&#xff0c;&#x8bbe;&#x7f6e;&#x4e86;4&#x4e2a;&#x7ebf;&#x7a0b;&#x540c;&#x65f6;&#x8fdb;&#x884c;&#x8bbf;&#x95ee;&#xff0c;&#x7ed3;&#x679c;&#x5230;&#x4e86;&#x7b2c;4&#x4e2a;&#x5c31;&#x670d;&#x52a1;&#x9650;&#x6d41;&#x4e86;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"424,425"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7d7699fbb53d1a207576573e8b72893e.png\" alt>","children":[],"payload":{"tag":"img","lines":"426,427"}}],"payload":{"tag":"h2","lines":"397,399"}},{"content":"4.1&#x3001;&#x5355;&#x4e2a;&#x670d;&#x52a1;&#x76d1;&#x63a7;","children":[{"content":"4.1.1&#x3001;&#x76d1;&#x63a7;&#x6982;&#x8ff0;","children":[{"content":"<pre data-lines=\"433,434\"><code>Hystrix &#x4eea;&#x8868;&#x76d8;&#xff08;Hystrix Dashboard&#xff09;&#xff0c;&#x5c31;&#x50cf;&#x6c7d;&#x8f66;&#x7684;&#x4eea;&#x8868;&#x76d8;&#x5b9e;&#x65f6;&#x663e;&#x793a;&#x6c7d;&#x8f66;&#x7684;&#x5404;&#x9879;&#x6570;&#x636e;&#x4e00;&#x6837;&#xff0c;Hystrix &#x4eea;&#x8868;&#x76d8;&#x4e3b;&#x8981;&#x7528;&#x6765;&#x76d1;&#x63a7; Hystrix &#x7684;&#x5b9e;&#x65f6;&#x8fd0;&#x884c;&#x72b6;&#x6001;&#xff0c;&#x901a;&#x8fc7;&#x5b83;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x770b;&#x5230; Hystrix &#x7684;&#x5404;&#x9879;&#x6307;&#x6807;&#x4fe1;&#x606f;&#xff0c;&#x4ece;&#x800c;&#x5feb;&#x901f;&#x53d1;&#x73b0;&#x7cfb;&#x7edf;&#x4e2d;&#x5b58;&#x5728;&#x7684;&#x95ee;&#x9898;&#x8fdb;&#x800c;&#x89e3;&#x51b3;&#x5b83;&#xff0c;&#x8981;&#x4f7f;&#x7528; Hystrix &#x4eea;&#x8868;&#x76d8;&#x529f;&#x80fd;&#xff0c;&#x6211;&#x4eec;&#x9996;&#x5148;&#x9700;&#x8981;&#x6709;&#x4e00;&#x4e2a;Hystrix Dashboard&#x9879;&#x76ee;&#xff0c;&#x8fd9;&#x4e2a;&#x529f;&#x80fd;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x5728;&#x539f;&#x6765;&#x7684;&#x6d88;&#x8d39;&#x8005;&#x5e94;&#x7528;&#x4e0a;&#x6dfb;&#x52a0;&#xff0c;&#x8ba9;&#x539f;&#x6765;&#x7684;&#x6d88;&#x8d39;&#x8005;&#x5e94;&#x7528;&#x5177;&#x5907; Hystrix &#x4eea;&#x8868;&#x76d8;&#x529f;&#x80fd;&#xff0c;&#x4f46;&#x4e00;&#x822c;&#x5730;&#xff0c;&#x5fae;&#x670d;&#x52a1;&#x67b6;&#x6784;&#x601d;&#x60f3;&#x662f;&#x63a8;&#x5d07;&#x670d;&#x52a1;&#x7684;&#x62c6;&#x5206;&#xff0c;Hystrix Dashboard &#x4e5f;&#x662f;&#x4e00;&#x4e2a;&#x670d;&#x52a1;&#xff0c;&#x6240;&#x4ee5;&#x901a;&#x5e38;&#x4f1a;&#x5355;&#x72ec;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x65b0;&#x7684;&#x5de5;&#x7a0b;&#x4e13;&#x95e8;&#x7528;&#x505a;Hystrix Dashboard&#x670d;&#x52a1;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"433,434"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/0af807af708ee4027c9a971e4c7ff387.png\" alt>","children":[],"payload":{"tag":"img","lines":"435,436"}}],"payload":{"tag":"h3","lines":"431,432"}},{"content":"4.1.2&#x3001;&#x5de5;&#x7a0b;&#x642d;&#x5efa;","children":[{"content":"<pre data-lines=\"439,444\"><code>&#xff08;1&#xff09;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x65b0;&#x7684;&#x5b50;&#x5de5;&#x7a0b;&#xff0c;&#x540d;&#x5b57;&#x53eb;`hystrix-dashboard6001`\n\n&#xff08;2&#xff09;&#x5bfc;&#x5165;&#x5de5;&#x7a0b;&#x6240;&#x9700;&#x8981;&#x7684;&#x4f9d;&#x8d56;\n\npom.xml\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"439,444"}},{"content":"<pre data-lines=\"445,454\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependencies</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-cloud-starter-netflix-hystrix-dashboard<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependencies</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"445,454"}},{"content":"<pre data-lines=\"455,456\"><code>&#xff08;3&#xff09;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x542f;&#x52a8;&#x7c7b;&#xff0c;&#x5e76;&#x6253;&#x5f00;Hystrix&#x7684;&#x9762;&#x677f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"455,456"}},{"content":"<pre data-lines=\"459,469\"><code class=\"language-java\"><span class=\"hljs-meta\">@SpringBootApplication</span>\n<span class=\"hljs-meta\">@EnableHystrixDashboard</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">HystrixDashboard6001Application</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        SpringApplication.run(HystrixDashboard6001Application.class);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"459,469"}},{"content":"<pre data-lines=\"470,471\"><code>&#xff08;4&#xff09;&#x7f16;&#x5199;&#x914d;&#x7f6e;&#x6587;&#x4ef6;`application.yaml`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"470,471"}},{"content":"<pre data-lines=\"472,485\"><code class=\"language-yaml\"><span class=\"hljs-attr\">server:</span>\n  <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">6001</span>\n\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">hystrix-dashboard6001</span>\n\n<span class=\"hljs-attr\">hystrix:</span>\n  <span class=\"hljs-attr\">dashboard:</span>\n    <span class=\"hljs-attr\">proxy-stream-allow-list:</span> <span class=\"hljs-string\">&quot;*&quot;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"472,485"}},{"content":"<pre data-lines=\"486,487\"><code>&#xff08;5&#xff09;&#x6211;&#x4eec;&#x627e;&#x5230;&#x4f60;&#x8981;&#x76d1;&#x63a7;&#x7684;&#x670d;&#x52a1;&#xff0c;&#x8fd9;&#x91cc;&#x6211;&#x4eec;&#x9700;&#x8981;&#x914d;&#x7f6e;`service-consumer9002`&#x7684;&#x542f;&#x52a8;&#x7c7b;`ServiceConsumer9002Application`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"486,487"}},{"content":"<pre data-lines=\"488,509\"><code class=\"language-java\"><span class=\"hljs-meta\">@SpringBootApplication</span>\n<span class=\"hljs-meta\">@EnableFeignClients</span>\n<span class=\"hljs-meta\">@EnableHystrix</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">ServiceConsumer9002Application</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        SpringApplication.run(ServiceConsumer9002Application.class);\n    }\n\n    <span class=\"hljs-meta\">@Bean</span>\n    <span class=\"hljs-keyword\">public</span> ServletRegistrationBean <span class=\"hljs-title function_\">getServlet</span><span class=\"hljs-params\">()</span>{\n        <span class=\"hljs-type\">HystrixMetricsStreamServlet</span> <span class=\"hljs-variable\">streamServlet</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">HystrixMetricsStreamServlet</span>();\n        <span class=\"hljs-type\">ServletRegistrationBean</span> <span class=\"hljs-variable\">registrationBean</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ServletRegistrationBean</span>(streamServlet);\n        registrationBean.setLoadOnStartup(<span class=\"hljs-number\">1</span>);\n        registrationBean.addUrlMappings(<span class=\"hljs-string\">&quot;/actuator/hystrix.stream&quot;</span>);\n        registrationBean.setName(<span class=\"hljs-string\">&quot;HystrixMetricsStreamServlet&quot;</span>);\n        <span class=\"hljs-keyword\">return</span> registrationBean;\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"488,509"}},{"content":"<pre data-lines=\"510,513\"><code>&#xff08;6&#xff09;&#x91cd;&#x65b0;&#x542f;&#x52a8;`service-consumer9002`&#x548c;`hystrix-dashboard6001`\n\n&#xff08;7&#xff09;&#x6211;&#x4eec;&#x5148;&#x8bbf;&#x95ee;&#x4ee5;&#x4e00;&#x4e0b;&#x4e1a;&#x52a1;&#x770b;&#x770b;&#x662f;&#x4e0d;&#x662f;&#x6b63;&#x5e38;&#xff08;&#x8fd9;&#x4e00;&#x6b65;&#x5fc5;&#x987b;&#x505a;&#xff0c;&#x5426;&#x5219;&#x4e0b;&#x4e00;&#x6b65;&#x4f1a;&#x51fa;&#x9519;&#xff09;&#xff1a;http://localhost:9002/consumer/product/miaoSha\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"510,513"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/2f1a8d231b98d88e06eba25ab5695d62.png\" alt>","children":[],"payload":{"tag":"img","lines":"514,515"}},{"content":"<pre data-lines=\"516,517\"><code>&#xff08;8&#xff09;&#x8bbf;&#x95ee;&#x5730;&#x5740;&#x67e5;&#x770b;ping&#x7684;&#x4fe1;&#x606f;&#xff1a;http://localhost:9002/actuator/hystrix.stream\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"516,517"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7394e087145ed0ca69dde6b3a6ce25e2.png\" alt>","children":[],"payload":{"tag":"img","lines":"518,519"}},{"content":"<pre data-lines=\"520,521\"><code>&#xff08;9&#xff09;&#x628a;&#x9700;&#x8981;&#x76d1;&#x63a7;&#x7684;&#x5730;&#x5740;`http://localhost:9002/actuator/hystrix.stream`&#x586b;&#x5165;`http://localhost:6001/hystrix`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"520,521"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/30cce06506dce72cb609e82d392a02d1.png\" alt>","children":[],"payload":{"tag":"img","lines":"522,523"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/0bfcde7122f3e293f68d524f43563ed2.png\" alt>","children":[],"payload":{"tag":"img","lines":"524,525"}}],"payload":{"tag":"h3","lines":"437,438"}},{"content":"4.1.3&#x3001;&#x56fe;&#x8868;&#x8bf4;&#x660e;","children":[{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/47ad9a32ef8d626e679c9269deffae4d.png\" alt>","children":[],"payload":{"tag":"img","lines":"528,529"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/1f82f8dda9954773593b35267110d5a8.png\" alt>","children":[],"payload":{"tag":"img","lines":"530,531"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/46eeff2c45fb1e44895336868f5d1fbf.png\" alt>","children":[],"payload":{"tag":"img","lines":"532,533"}}],"payload":{"tag":"h3","lines":"526,527"}}],"payload":{"tag":"h2","lines":"428,430"}},{"content":"4.2&#x3001;&#x591a;&#x4e2a;&#x670d;&#x52a1;&#x76d1;&#x63a7;","children":[{"content":"4.2.1&#x3001;&#x76d1;&#x63a7;&#x6982;&#x8ff0;","children":[{"content":"<pre data-lines=\"539,540\"><code>Hystrix Dashboard &#x524d;&#x9762;&#x5df2;&#x7ecf;&#x77e5;&#x9053;&#x4e86;&#xff0c;&#x5b83;&#x7684;&#x4e3b;&#x8981;&#x529f;&#x80fd;&#x662f;&#x53ef;&#x4ee5;&#x5bf9;&#x67d0;&#x4e00;&#x9879;&#x5fae;&#x670d;&#x52a1;&#x8fdb;&#x884c;&#x76d1;&#x63a7;&#xff0c;&#x4f46;&#x771f;&#x5b9e;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x4e0d;&#x53ef;&#x80fd;&#x53ea;&#x5bf9;&#x4e00;&#x4e2a;&#x5fae;&#x670d;&#x52a1;&#x8fdb;&#x884c;&#x76d1;&#x63a7;&#xff0c;&#x6211;&#x4eec;&#x6709;&#x5f88;&#x591a;&#x5fae;&#x670d;&#x52a1;&#xff0c;&#x6240;&#x4ee5;&#x6211;&#x4eec;&#x9700;&#x8981;&#x5bf9;&#x5f88;&#x591a;&#x5fae;&#x670d;&#x52a1;&#x8fdb;&#x884c;&#x76d1;&#x63a7;&#xff0c;&#x8fd9;&#x4e2a;&#x65f6;&#x5019;&#x5c31;&#x9700;&#x8981;&#x4f7f;&#x7528;&#x5230;turbine \\[&#x2c8;t&#x25c;&#x2d0;ba&#x26a;n\\] &#x6765;&#x5b8c;&#x6210;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"539,540"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/df8dae3d8e1a68bdb1d5fdd1cfdd7067.png\" alt>","children":[],"payload":{"tag":"img","lines":"541,542"}}],"payload":{"tag":"h3","lines":"537,538"}},{"content":"4.2.2&#x3001;&#x5de5;&#x7a0b;&#x642d;&#x5efa;","children":[{"content":"<pre data-lines=\"545,546\"><code>&#xff08;1&#xff09;&#x6253;&#x5f00;&#x5b50;&#x9879;&#x76ee;`service-consumer9002`&#xff0c;&#x627e;&#x5230;`eureka`&#x7684;&#x914d;&#x7f6e;&#xff0c;&#x6211;&#x4eec;&#x9700;&#x8981;&#x4fee;&#x6539;&#xff0c;&#x628a;&#x670d;&#x52a1;&#x6d88;&#x8d39;&#x8005;&#x4e5f;&#x6ce8;&#x518c;&#x5230;`eureka`&#x7684;&#x6ce8;&#x518c;&#x4e2d;&#x5fc3;&#xff0c;&#x56e0;&#x4e3a;`turbine`&#x9700;&#x8981;&#x627e;&#x5230;&#x88ab;&#x76d1;&#x63a7;&#x7684;&#x6d88;&#x8d39;&#x8005;&#x670d;&#x52a1;&#x7684;&#x5730;&#x5740;&#xff0c;&#x56e0;&#x6b64;&#x9700;&#x8981;&#x6ce8;&#x518c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"545,546"}},{"content":"<pre data-lines=\"547,564\"><code class=\"language-yaml\"><span class=\"hljs-attr\">eureka:</span>\n  <span class=\"hljs-attr\">instance:</span>\n    \n    <span class=\"hljs-attr\">prefer-ip-address:</span> <span class=\"hljs-literal\">true</span>\n    \n    <span class=\"hljs-attr\">instance-id:</span> <span class=\"hljs-string\">&#x24;{spring.cloud.client.ip-address}:&#x24;{server.port}</span>\n  <span class=\"hljs-attr\">client:</span>\n    \n    <span class=\"hljs-attr\">register-with-eureka:</span> <span class=\"hljs-literal\">true</span>\n    \n    <span class=\"hljs-attr\">registry-fetch-interval-seconds:</span> <span class=\"hljs-number\">10</span>\n    \n    <span class=\"hljs-attr\">service-url:</span>\n      <span class=\"hljs-attr\">defaultZone:</span> <span class=\"hljs-string\">http://root:123456@eureka-server7001.com:7001/eureka/,http://root:123456@eureka-server7002.com:7002/eureka/</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"547,564"}},{"content":"<pre data-lines=\"565,576\"><code>&#xff08;2&#xff09;&#x7531;&#x4e8e;&#x6211;&#x4eec;&#x8981;&#x5bf9;&#x591a;&#x4e2a;&#x5e26;&#x6709;Hystrix&#xff08;&#x53ef;&#x4ee5;&#x653e;&#x5230;&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x7aef;&#x3001;&#x4e5f;&#x53ef;&#x4ee5;&#x653e;&#x5230;&#x670d;&#x52a1;&#x6d88;&#x8d39;&#x7aef;&#xff09;&#x7684;&#x5fae;&#x670d;&#x52a1;&#x8fdb;&#x884c;&#x76d1;&#x63a7;&#xff0c;&#x4f46;&#x662f;&#x76ee;&#x524d;&#x4e3a;&#x6b62;&#xff0c;&#x6211;&#x4eec;&#x53ea;&#x6709;&#x4e00;&#x4e2a;&#x6bd4;&#x8f83;&#x5b8c;&#x6574;&#x7684;&#x9879;&#x76ee;&#xff0c;&#x4e5f;&#x5c31;&#x662f;`service-consumer9002`&#xff0c;&#x56e0;&#x4e3a;`service-consumer9001`&#x5e76;&#x6ca1;&#x6709;Hystrix&#xff0c;&#x4e3a;&#x4e86;&#x4fdd;&#x6301;&#x9879;&#x76ee;&#x6574;&#x4f53;&#x601d;&#x8def;&#x7684;&#x6e05;&#x6670;&#x5ea6;&#xff0c;&#x6211;&#x4eec;&#x5c31;&#x4e0d;&#x4fee;&#x6539;`service-consumer9001`&#x4e86;&#xff0c;&#x6211;&#x4eec;&#x8981;&#x6c42;&#xff0c;&#x91cd;&#x65b0;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x5b50;&#x9879;&#x76ee;`service-consumer9003`&#xff0c;&#x628a;`service-consumer9002`&#x4e2d;&#x7684;&#x6240;&#x6709;&#x4ee3;&#x7801;&#x548c;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x90fd;&#x62f7;&#x8d1d;&#x8fdb;&#x6765;&#xff0c;&#x9700;&#x8981;&#x4fee;&#x6539;&#x7684;&#x5730;&#x65b9;&#x53ea;&#x6709;&#x7aef;&#x53e3;&#x53f7;&#xff08;&#x4e3b;&#x542f;&#x52a8;&#x7c7b;&#x7684;9002&#x4e5f;&#x8981;&#x6539;&#xff09;&#xff0c;&#x628a;&#x6240;&#x6709;9002&#x7aef;&#x53e3;&#x4fee;&#x6539;&#x4e3a;9003&#x5373;&#x53ef;&#xff0c;&#x7136;&#x540e;&#x542f;&#x52a8;`service-consumer9003`&#x3002;&#x5343;&#x4e07;&#x4e0d;&#x8981;&#x76f4;&#x63a5;&#x62f7;&#x8d1d;&#x9879;&#x76ee;&#x56fe;&#x7701;&#x4e8b;&#xff0c;&#x5426;&#x5219;&#xff0c;&#x4f60;&#x6709;&#x53ef;&#x80fd;&#x4f1a;&#x56e0;&#x4e3a;idea&#x7684;bug&#x5bfc;&#x81f4;&#x590d;&#x5236;&#x540e;&#x7684;&#x9879;&#x76ee;&#x4e0d;&#x80fd;&#x5f88;&#x597d;&#x7684;&#x7f16;&#x8bd1;&#x3002;\n\n&#xff08;3&#xff09;&#x5728;&#x8fdb;&#x884c;&#x4e0b;&#x4e00;&#x6b65;&#x4e4b;&#x524d;&#xff0c;&#x6211;&#x4eec;&#x8981;&#x6c42;&#x4f60;&#x7684;&#x5de5;&#x7a0b;&#x4e2d;&#x81f3;&#x5c11;&#x5df2;&#x7ecf;&#x542f;&#x52a8;&#x4e86;&#x4ee5;&#x4e0b;&#x9879;&#x76ee;&#xff0c;&#x5982;&#x679c;&#x6ca1;&#x6709;&#x542f;&#x52a8;&#xff0c;&#x8bf7;&#x91cd;&#x542f;&#xff1a;\n\n1.  eureka-server7001\n2.  eureka-server7002\n3.  service-provider8001\n4.  service-provider8002\n5.  service-consumer9002\n6.  service-consumer9003\n7.  hystrix-dashboard6001\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"565,576"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/933209b57462fefb5234dacd0054285a.png\" alt>","children":[],"payload":{"tag":"img","lines":"577,578"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d38ddea1f5306edf25db46e004c55360.png\" alt>","children":[],"payload":{"tag":"img","lines":"579,580"}},{"content":"<pre data-lines=\"581,582\"><code>&#xff08;4&#xff09;&#x5728;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x5b50;&#x9879;&#x76ee;`hystrix-turbine6002`&#xff0c;&#x5728;&#x8be5;&#x9879;&#x76ee;&#x7684;`pom.xml`&#x4e2d;&#x6dfb;&#x52a0;&#x4ee5;&#x4e0b;&#x4f9d;&#x8d56;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"581,582"}},{"content":"<pre data-lines=\"583,592\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependencies</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-cloud-starter-netflix-turbine<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependencies</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"583,592"}},{"content":"<pre data-lines=\"593,594\"><code>&#xff08;5&#xff09;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x914d;&#x7f6e;&#x6587;&#x4ef6;`application.yaml`&#xff0c;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x5185;&#x5bb9;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"593,594"}},{"content":"<pre data-lines=\"595,619\"><code class=\"language-yaml\"><span class=\"hljs-attr\">server:</span>\n  <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">6002</span>\n\n<span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">application:</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">hystrix-turbine6002</span>\n\n<span class=\"hljs-attr\">eureka:</span>\n  <span class=\"hljs-attr\">client:</span>\n    \n    <span class=\"hljs-attr\">register-with-eureka:</span> <span class=\"hljs-literal\">false</span>\n    \n    <span class=\"hljs-attr\">registry-fetch-interval-seconds:</span> <span class=\"hljs-number\">10</span>\n    \n    <span class=\"hljs-attr\">service-url:</span>\n      <span class=\"hljs-attr\">defaultZone:</span> <span class=\"hljs-string\">http://root:123456@eureka-server7001.com:7001/eureka/,http://root:123456@eureka-server7002.com:7002/eureka/</span>\n\n<span class=\"hljs-attr\">turbine:</span>\n  \n  <span class=\"hljs-attr\">app-config:</span> <span class=\"hljs-string\">SERVICE-CONSUMER9002,SERVICE-CONSUMER9003</span>\n  <span class=\"hljs-attr\">clusterNameExpression:</span> <span class=\"hljs-string\">new</span> <span class=\"hljs-string\">String(&quot;default&quot;)</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"595,619"}},{"content":"<pre data-lines=\"620,621\"><code>&#xff08;6&#xff09;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x4e3b;&#x542f;&#x52a8;&#x7c7b;`com.caochenlei.HystrixTurbine6002Application`&#xff0c;&#x4e3b;&#x542f;&#x52a8;&#x7c7b;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff0c;&#x7136;&#x540e;&#x542f;&#x52a8;`hystrix-turbine6002`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"620,621"}},{"content":"<pre data-lines=\"622,632\"><code class=\"language-java\"><span class=\"hljs-meta\">@SpringBootApplication</span>\n<span class=\"hljs-meta\">@EnableTurbine</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">HystrixTurbine6002Application</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n        SpringApplication.run(HystrixTurbine6002Application.class);\n    }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"622,632"}},{"content":"<pre data-lines=\"633,634\"><code>&#xff08;7&#xff09;&#x6253;&#x5f00;&#x6d4f;&#x89c8;&#x5668;&#xff0c;&#x68c0;&#x67e5;&#x4e1a;&#x52a1;&#x662f;&#x5426;&#x6b63;&#x5e38;&#x8fd0;&#x884c;&#xff0c;&#x8fd9;&#x4e00;&#x6b65;&#x5fc5;&#x505a;&#xff0c;&#x5728;&#x5730;&#x5740;&#x680f;&#x8f93;&#x5165;&#xff1a;http://localhost:9002/consumer/product/miaoSha\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"633,634"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/b51d62b001118fd1d7b8622ce9918edc.png\" alt>","children":[],"payload":{"tag":"img","lines":"635,636"}},{"content":"<pre data-lines=\"637,638\"><code>&#xff08;8&#xff09;&#x6253;&#x5f00;&#x6d4f;&#x89c8;&#x5668;&#xff0c;&#x68c0;&#x67e5;&#x4e1a;&#x52a1;&#x662f;&#x5426;&#x6b63;&#x5e38;&#x8fd0;&#x884c;&#xff0c;&#x8fd9;&#x4e00;&#x6b65;&#x5fc5;&#x505a;&#xff0c;&#x5728;&#x5730;&#x5740;&#x680f;&#x8f93;&#x5165;&#xff1a;http://localhost:9003/consumer/product/miaoSha\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"637,638"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d412786382df0a6e5001e2ece9f408ce.png\" alt>","children":[],"payload":{"tag":"img","lines":"639,640"}},{"content":"<pre data-lines=\"641,642\"><code>&#xff08;9&#xff09;&#x6253;&#x5f00;&#x6d4f;&#x89c8;&#x5668;&#xff0c;&#x67e5;&#x770b;`9002`&#x7684;Hystrix&#x7684;&#x6d41;&#x4fe1;&#x606f;&#xff1a;http://localhost:9002/actuator/hystrix.stream\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"641,642"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d034d11bba28b8f99aa6923e9ecf7adc.png\" alt>","children":[],"payload":{"tag":"img","lines":"643,644"}},{"content":"<pre data-lines=\"645,646\"><code>&#xff08;9&#xff09;&#x6253;&#x5f00;&#x6d4f;&#x89c8;&#x5668;&#xff0c;&#x67e5;&#x770b;`9003`&#x7684;Hystrix&#x7684;&#x6d41;&#x4fe1;&#x606f;&#xff1a;http://localhost:9003/actuator/hystrix.stream\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"645,646"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/0e7017c09e98a30101584f4d48249ea0.png\" alt>","children":[],"payload":{"tag":"img","lines":"647,648"}},{"content":"<pre data-lines=\"649,650\"><code>&#xff08;10&#xff09;&#x6253;&#x5f00;Hystrix&#x7684;&#x805a;&#x5408;&#x4fe1;&#x606f;&#xff0c;&#x5728;&#x5730;&#x5740;&#x680f;&#x8f93;&#x5165;&#xff1a;http://localhost:6002/turbine.stream\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"649,650"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/d7af99414c1479b933585b54ada3a7d0.png\" alt>","children":[],"payload":{"tag":"img","lines":"651,652"}},{"content":"<pre data-lines=\"653,654\"><code>&#xff08;11&#xff09;&#x6253;&#x5f00;Hystrix&#x7684;&#x76d1;&#x63a7;&#x9762;&#x677f;&#xff0c;&#x6211;&#x4eec;&#x73b0;&#x5728;&#x4e0d;&#x662f;&#x76d1;&#x63a7;&#x67d0;&#x4e00;&#x4e2a;&#x5fae;&#x670d;&#x52a1;&#xff0c;&#x800c;&#x662f;&#x76d1;&#x63a7;&#x8fd9;&#x4e2a;turbine&#x4e4b;&#x540e;&#x7684;&#x805a;&#x5408;&#x4fe1;&#x606f;&#x6d41;&#xff0c;&#x5728;&#x5730;&#x5740;&#x680f;&#x8f93;&#x5165;&#x5730;&#x5740;&#xff1a;http://localhost:6001/hystrix\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"653,654"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7744836ca98d6e12a8febcbb696f8d79.png\" alt>","children":[],"payload":{"tag":"img","lines":"655,656"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/022faf6a1b598b7fcd66781937d48d28.png\" alt>","children":[],"payload":{"tag":"img","lines":"657,658"}},{"content":"<pre data-lines=\"659,660\"><code>&#xff08;12&#xff09;&#x6211;&#x4eec;&#x6362;&#x4e00;&#x4e2a;&#x670d;&#x52a1;&#x5730;&#x5740;&#x8fdb;&#x884c;&#x8c03;&#x7528;&#xff0c;&#x7136;&#x540e;&#x770b;&#x770b;&#x8fd9;&#x4e2a;&#x63a7;&#x5236;&#x9762;&#x677f;&#x4f1a;&#x4e0d;&#x4f1a;&#x5e2e;&#x6211;&#x4eec;&#x76d1;&#x63a7;&#x5230;&#xff0c;&#x6bd4;&#x5982;&#xff1a;http://localhost:9002/consumer/product/findByPid?pid=0\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"659,660"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/8f8aea4513a9d989c02a6d8aae0e4606.png\" alt>","children":[],"payload":{"tag":"img","lines":"661,662"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/456d876bf3829ef2f2b579585aa16931.png\" alt>","children":[],"payload":{"tag":"img","lines":"663,664"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/94ac1e88985df17fd929337fa62a65f6.png\" alt>","children":[],"payload":{"tag":"img","lines":"665,666"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/da8e146e0d4601ba93dcfa8491662749.png\" alt>","children":[],"payload":{"tag":"img","lines":"667,668"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/1100d4f7548aadb043de99d48119c6b4.png\" alt>","children":[],"payload":{"tag":"img","lines":"669,670"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7436c71c33a6e37870a0e9a923775c2a.png\" alt>","children":[],"payload":{"tag":"img","lines":"671,672"}}],"payload":{"tag":"h3","lines":"543,544"}}],"payload":{"tag":"h2","lines":"534,536"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
