<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"<a href=\"https://www.cnblogs.com/xiaohuochai/p/5901426.html\">javascript&#x52a8;&#x753b;&#x7cfb;&#x5217;&#x7b2c;&#x4e94;&#x7bc7;&#x2014;&#x2014;&#x6a21;&#x62df;&#x6eda;&#x52a8;&#x6761;</a><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAoklEQVQ4T+2T4Q2CMBCFv27CBjgCG+gIjAAbOAIjOIJs4Ai6gRvIBpjXXCOp19T/8pJLoTneXcj3Ah91wAV4bu68xwXoAZ2EzEAmE9AWTB6AelRDyaAx9zgh0wE4ATczcTdIE7wl0oe7wX/8RMHigfQTB3fDdM1IEvYyONdIVEOSqDwCY2Z2NaS/UNbqMSQmvauUPlfbNKpBSdTUVyXSs/XyBlRCNBG20I28AAAAAElFTkSuQmCC\" alt=\"img\">","children":[{"content":"&#x5e94;&#x7528;","children":[{"content":"&#x6570;&#x5b57;&#x52a0;&#x51cf;","children":[{"content":"<pre data-lines=\"184,185\"><code>&#x3000;&#x3000;&#x901a;&#x8fc7;&#x79fb;&#x52a8;&#x6eda;&#x52a8;&#x6761;&#x6765;&#x5b9e;&#x73b0;&#x6570;&#x5b57;&#x7684;&#x52a0;&#x51cf;&#x3002;&#x6bd4;&#x4f8b;&#x5173;&#x7cfb;&#x4e3a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"184,185"}},{"content":"<pre data-lines=\"186,189\"><code data-lines=\"186,189\">&#x6eda;&#x52a8;&#x6761;&#x5df2;&#x79fb;&#x52a8;&#x8ddd;&#x79bb;/&#x6eda;&#x52a8;&#x6761;&#x53ef;&#x79fb;&#x52a8;&#x8ddd;&#x79bb;<span class=\"hljs-operator\">=</span> &#x6570;&#x5b57;&#x5f53;&#x524d;&#x503c;/&#x6570;&#x5b57;&#x6700;&#x5927;&#x503c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"186,189"}},{"content":"<pre data-lines=\"192,282\"><code data-lines=\"192,282\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;box&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;height: 16px;width: 200px;display:inline-block;background-color:#F5F5F5;border-radius:10px;box-shadow:inset 0 0 6px rgba(0,0,0,0.3);position:relative;&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;test&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;height: 16px;width: 60px;background-color:#D62929;box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;position:absolute;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;result&quot;</span>&gt;</span>0<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">addEvent</span>(<span class=\"hljs-params\">target,type,handler</span>){\n    <span class=\"hljs-keyword\">if</span>(target.<span class=\"hljs-property\">addEventListener</span>){\n        target.<span class=\"hljs-title function_\">addEventListener</span>(type,handler,<span class=\"hljs-literal\">false</span>);\n    }<span class=\"hljs-keyword\">else</span>{\n        target.<span class=\"hljs-title function_\">attachEvent</span>(<span class=\"hljs-string\">&apos;on&apos;</span>+type,<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">event</span>){\n            <span class=\"hljs-keyword\">return</span> handler.<span class=\"hljs-title function_\">call</span>(target,event);\n        });\n    }\n}\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">scrollbar</span>(<span class=\"hljs-params\">ele,str,max</span>){\n    <span class=\"hljs-keyword\">var</span> x0,x1,y0,y1,isMoving,radio;\n\n    <span class=\"hljs-keyword\">var</span> mousedownHandler = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>){\n        e = e || event;\n        x0 = ele.<span class=\"hljs-property\">offsetLeft</span>;\n        y0 = ele.<span class=\"hljs-property\">offsetTop</span>;\n        x1 = e.<span class=\"hljs-property\">clientX</span>;\n        y1 = e.<span class=\"hljs-property\">clientY</span>;\n        <span class=\"hljs-comment\">//&#x6309;&#x4e0b;&#x9f20;&#x6807;&#x65f6;&#xff0c;&#x8868;&#x793a;&#x6b63;&#x5728;&#x8fd0;&#x52a8;</span>\n        isMoving = <span class=\"hljs-literal\">true</span>;\n        <span class=\"hljs-comment\">//x&#x8f74;&#x65b9;&#x5411;</span>\n        <span class=\"hljs-keyword\">if</span>(str == <span class=\"hljs-string\">&apos;x&apos;</span>){\n            ratio = max/(ele.<span class=\"hljs-property\">parentNode</span>.<span class=\"hljs-property\">offsetWidth</span> - ele.<span class=\"hljs-property\">offsetWidth</span>);\n        <span class=\"hljs-comment\">//&#x5426;&#x5219;&#x4e3a;y&#x8f74;&#x65b9;&#x5411;</span>\n        }<span class=\"hljs-keyword\">else</span>{\n            <span class=\"hljs-keyword\">var</span> disY = e.<span class=\"hljs-property\">clientY</span> - ele.<span class=\"hljs-property\">offsetTop</span>;\n            ratio =max/(ele.<span class=\"hljs-property\">parentNode</span>.<span class=\"hljs-property\">offsetHeight</span> - ele.<span class=\"hljs-property\">offsetHeight</span>);\n        }\n    }\n    <span class=\"hljs-keyword\">var</span> mousemoveHandler = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>){\n        <span class=\"hljs-comment\">//&#x5982;&#x679c;&#x6ca1;&#x6709;&#x89e6;&#x53d1;down&#x4e8b;&#x4ef6;&#xff0c;&#x800c;&#x76f4;&#x63a5;&#x89e6;&#x53d1;move&#x4e8b;&#x4ef6;&#xff0c;&#x5219;&#x51fd;&#x6570;&#x76f4;&#x63a5;&#x8fd4;&#x56de;</span>\n        <span class=\"hljs-keyword\">if</span>(!isMoving){\n            <span class=\"hljs-keyword\">return</span>;\n        }\n        e = e || event;\n        <span class=\"hljs-keyword\">if</span>(str == <span class=\"hljs-string\">&apos;x&apos;</span>){\n            <span class=\"hljs-keyword\">var</span> x2 = e.<span class=\"hljs-property\">clientX</span>;   \n            <span class=\"hljs-keyword\">var</span> X = x0 + (x2 - x1);\n            <span class=\"hljs-keyword\">if</span>(X &lt; <span class=\"hljs-number\">0</span>){X = <span class=\"hljs-number\">0</span>;}\n            <span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">XMax</span> = <span class=\"hljs-built_in\">parseInt</span>(ele.<span class=\"hljs-property\">parentNode</span>.<span class=\"hljs-property\">clientWidth</span>) - ele.<span class=\"hljs-property\">offsetWidth</span>;\n            <span class=\"hljs-keyword\">if</span>(X &gt; <span class=\"hljs-title class_\">XMax</span>){X = <span class=\"hljs-title class_\">XMax</span>;}\n            ele.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">left</span> = X + <span class=\"hljs-string\">&apos;px&apos;</span>;    \n            result.<span class=\"hljs-property\">innerHTML</span> = <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">round</span>(ratio * X);\n        }<span class=\"hljs-keyword\">else</span>{\n            <span class=\"hljs-keyword\">var</span> y2 = e.<span class=\"hljs-property\">clientY</span>;   \n            <span class=\"hljs-keyword\">var</span> Y = y0 + (y2 - y1);\n            <span class=\"hljs-keyword\">if</span>(Y &lt; <span class=\"hljs-number\">0</span>){Y = <span class=\"hljs-number\">0</span>;}\n            <span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">YMax</span> = <span class=\"hljs-built_in\">parseInt</span>(ele.<span class=\"hljs-property\">parentNode</span>.<span class=\"hljs-property\">clientHeight</span>) - ele.<span class=\"hljs-property\">offsetHeight</span>;\n            <span class=\"hljs-keyword\">if</span>(Y &gt; <span class=\"hljs-title class_\">YMax</span>){Y = <span class=\"hljs-title class_\">YMax</span>;}\n            ele.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">top</span> = Y + <span class=\"hljs-string\">&apos;px&apos;</span>;\n            result.<span class=\"hljs-property\">innerHTML</span> = <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">round</span>(ratio * Y);             \n        }\n\n    }\n    <span class=\"hljs-keyword\">var</span> mouseupHandler = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>){\n        <span class=\"hljs-comment\">//&#x9f20;&#x6807;&#x62ac;&#x8d77;&#x65f6;&#xff0c;&#x8868;&#x793a;&#x505c;&#x6b62;&#x8fd0;&#x52a8;</span>\n        isMoving = <span class=\"hljs-literal\">false</span>;\n        <span class=\"hljs-comment\">//&#x91ca;&#x653e;&#x5168;&#x5c40;&#x6355;&#x83b7;</span>\n        <span class=\"hljs-keyword\">if</span>(ele.<span class=\"hljs-property\">releaseCapture</span>){\n            ele.<span class=\"hljs-title function_\">releaseCapture</span>();\n        }   \n    }\n    <span class=\"hljs-keyword\">var</span> preventDefaultHandler = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>){\n        e = e || event;\n        <span class=\"hljs-keyword\">if</span>(e.<span class=\"hljs-property\">preventDefault</span>){\n            e.<span class=\"hljs-title function_\">preventDefault</span>();\n        }<span class=\"hljs-keyword\">else</span>{\n            e.<span class=\"hljs-property\">returnValue</span> = <span class=\"hljs-literal\">false</span>;\n        }\n        <span class=\"hljs-comment\">//IE8-&#x6d4f;&#x89c8;&#x5668;&#x963b;&#x6b62;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;</span>\n        <span class=\"hljs-keyword\">if</span>(ele.<span class=\"hljs-property\">setCapture</span>){\n            ele.<span class=\"hljs-title function_\">setCapture</span>();\n        }\n    }\n    <span class=\"hljs-title function_\">addEvent</span>(ele,<span class=\"hljs-string\">&apos;mousedown&apos;</span>,mousedownHandler);\n    <span class=\"hljs-title function_\">addEvent</span>(ele,<span class=\"hljs-string\">&apos;mousedown&apos;</span>,preventDefaultHandler);\n    <span class=\"hljs-title function_\">addEvent</span>(<span class=\"hljs-variable language_\">document</span>,<span class=\"hljs-string\">&apos;mousemove&apos;</span>,mousemoveHandler);\n    <span class=\"hljs-title function_\">addEvent</span>(<span class=\"hljs-variable language_\">document</span>,<span class=\"hljs-string\">&apos;mouseup&apos;</span>,mouseupHandler);\n\n};\n\n<span class=\"hljs-title function_\">scrollbar</span>(test,<span class=\"hljs-string\">&apos;x&apos;</span>,<span class=\"hljs-number\">100</span>);\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>    \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"192,282"}}],"payload":{"tag":"h3","lines":"182,183"}},{"content":"&#x5143;&#x7d20;&#x5c3a;&#x5bf8;","children":[{"content":"<pre data-lines=\"289,290\"><code>&#x3000;&#x3000;&#x901a;&#x8fc7;&#x62d6;&#x52a8;&#x6eda;&#x52a8;&#x6761;&#x6765;&#x5b9e;&#x73b0;&#x5143;&#x7d20;&#x5c3a;&#x5bf8;&#x7684;&#x53d8;&#x5316;&#xff0c;&#x4ee5;&#x6539;&#x53d8;&#x5143;&#x7d20;&#x5bbd;&#x5ea6;&#x4e3a;&#x4f8b;&#x3002;&#x6bd4;&#x4f8b;&#x5173;&#x7cfb;&#x4e3a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"289,290"}},{"content":"<pre data-lines=\"291,294\"><code data-lines=\"291,294\">&#x6eda;&#x52a8;&#x6761;&#x5df2;&#x79fb;&#x52a8;&#x8ddd;&#x79bb;/&#x6eda;&#x52a8;&#x6761;&#x53ef;&#x79fb;&#x52a8;&#x8ddd;&#x79bb;<span class=\"hljs-operator\">=</span> &#x5143;&#x7d20;&#x5f53;&#x524d;&#x5bbd;&#x5ea6;/&#x5143;&#x7d20;&#x6700;&#x5927;&#x5bbd;&#x5ea6;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"291,294"}},{"content":"<pre data-lines=\"297,387\"><code data-lines=\"297,387\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;box&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;height: 16px;width: 200px;display:inline-block;background-color:#F5F5F5;border-radius:10px;box-shadow:inset 0 0 6px rgba(0,0,0,0.3);position:relative;&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;test&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;height: 16px;width: 60px;background-color:#D62929;box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;position:absolute;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;result&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;width: 1px;height: 50px;background-color:pink;display:inline-block;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">addEvent</span>(<span class=\"hljs-params\">target,type,handler</span>){\n    <span class=\"hljs-keyword\">if</span>(target.<span class=\"hljs-property\">addEventListener</span>){\n        target.<span class=\"hljs-title function_\">addEventListener</span>(type,handler,<span class=\"hljs-literal\">false</span>);\n    }<span class=\"hljs-keyword\">else</span>{\n        target.<span class=\"hljs-title function_\">attachEvent</span>(<span class=\"hljs-string\">&apos;on&apos;</span>+type,<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">event</span>){\n            <span class=\"hljs-keyword\">return</span> handler.<span class=\"hljs-title function_\">call</span>(target,event);\n        });\n    }\n}\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">scrollbar</span>(<span class=\"hljs-params\">ele,str,max</span>){\n    <span class=\"hljs-keyword\">var</span> x0,x1,y0,y1,isMoving,radio;\n\n    <span class=\"hljs-keyword\">var</span> mousedownHandler = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>){\n        e = e || event;\n        x0 = ele.<span class=\"hljs-property\">offsetLeft</span>;\n        y0 = ele.<span class=\"hljs-property\">offsetTop</span>;\n        x1 = e.<span class=\"hljs-property\">clientX</span>;\n        y1 = e.<span class=\"hljs-property\">clientY</span>;\n        <span class=\"hljs-comment\">//&#x6309;&#x4e0b;&#x9f20;&#x6807;&#x65f6;&#xff0c;&#x8868;&#x793a;&#x6b63;&#x5728;&#x8fd0;&#x52a8;</span>\n        isMoving = <span class=\"hljs-literal\">true</span>;\n        <span class=\"hljs-comment\">//x&#x8f74;&#x65b9;&#x5411;</span>\n        <span class=\"hljs-keyword\">if</span>(str == <span class=\"hljs-string\">&apos;x&apos;</span>){\n            ratio = max/(ele.<span class=\"hljs-property\">parentNode</span>.<span class=\"hljs-property\">offsetWidth</span> - ele.<span class=\"hljs-property\">offsetWidth</span>);\n        <span class=\"hljs-comment\">//&#x5426;&#x5219;&#x4e3a;y&#x8f74;&#x65b9;&#x5411;</span>\n        }<span class=\"hljs-keyword\">else</span>{\n            <span class=\"hljs-keyword\">var</span> disY = e.<span class=\"hljs-property\">clientY</span> - ele.<span class=\"hljs-property\">offsetTop</span>;\n            ratio =max/(ele.<span class=\"hljs-property\">parentNode</span>.<span class=\"hljs-property\">offsetHeight</span> - ele.<span class=\"hljs-property\">offsetHeight</span>);\n        }\n    }\n    <span class=\"hljs-keyword\">var</span> mousemoveHandler = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>){\n        <span class=\"hljs-comment\">//&#x5982;&#x679c;&#x6ca1;&#x6709;&#x89e6;&#x53d1;down&#x4e8b;&#x4ef6;&#xff0c;&#x800c;&#x76f4;&#x63a5;&#x89e6;&#x53d1;move&#x4e8b;&#x4ef6;&#xff0c;&#x5219;&#x51fd;&#x6570;&#x76f4;&#x63a5;&#x8fd4;&#x56de;</span>\n        <span class=\"hljs-keyword\">if</span>(!isMoving){\n            <span class=\"hljs-keyword\">return</span>;\n        }\n        e = e || event;\n        <span class=\"hljs-keyword\">if</span>(str == <span class=\"hljs-string\">&apos;x&apos;</span>){\n            <span class=\"hljs-keyword\">var</span> x2 = e.<span class=\"hljs-property\">clientX</span>;   \n            <span class=\"hljs-keyword\">var</span> X = x0 + (x2 - x1);\n            <span class=\"hljs-keyword\">if</span>(X &lt; <span class=\"hljs-number\">0</span>){X = <span class=\"hljs-number\">0</span>;}\n            <span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">XMax</span> = <span class=\"hljs-built_in\">parseInt</span>(ele.<span class=\"hljs-property\">parentNode</span>.<span class=\"hljs-property\">clientWidth</span>) - ele.<span class=\"hljs-property\">offsetWidth</span>;\n            <span class=\"hljs-keyword\">if</span>(X &gt; <span class=\"hljs-title class_\">XMax</span>){X = <span class=\"hljs-title class_\">XMax</span>;}\n            ele.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">left</span> = X + <span class=\"hljs-string\">&apos;px&apos;</span>;    \n            result.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span> = <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">round</span>(ratio * X) + <span class=\"hljs-string\">&apos;px&apos;</span>;\n        }<span class=\"hljs-keyword\">else</span>{\n            <span class=\"hljs-keyword\">var</span> y2 = e.<span class=\"hljs-property\">clientY</span>;   \n            <span class=\"hljs-keyword\">var</span> Y = y0 + (y2 - y1);\n            <span class=\"hljs-keyword\">if</span>(Y &lt; <span class=\"hljs-number\">0</span>){Y = <span class=\"hljs-number\">0</span>;}\n            <span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">YMax</span> = <span class=\"hljs-built_in\">parseInt</span>(ele.<span class=\"hljs-property\">parentNode</span>.<span class=\"hljs-property\">clientHeight</span>) - ele.<span class=\"hljs-property\">offsetHeight</span>;\n            <span class=\"hljs-keyword\">if</span>(Y &gt; <span class=\"hljs-title class_\">YMax</span>){Y = <span class=\"hljs-title class_\">YMax</span>;}\n            ele.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">top</span> = Y + <span class=\"hljs-string\">&apos;px&apos;</span>;\n            result.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">width</span> = <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">round</span>(ratio * Y) + <span class=\"hljs-string\">&apos;px&apos;</span>;             \n        }\n\n    }\n    <span class=\"hljs-keyword\">var</span> mouseupHandler = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>){\n        <span class=\"hljs-comment\">//&#x9f20;&#x6807;&#x62ac;&#x8d77;&#x65f6;&#xff0c;&#x8868;&#x793a;&#x505c;&#x6b62;&#x8fd0;&#x52a8;</span>\n        isMoving = <span class=\"hljs-literal\">false</span>;\n        <span class=\"hljs-comment\">//&#x91ca;&#x653e;&#x5168;&#x5c40;&#x6355;&#x83b7;</span>\n        <span class=\"hljs-keyword\">if</span>(ele.<span class=\"hljs-property\">releaseCapture</span>){\n            ele.<span class=\"hljs-title function_\">releaseCapture</span>();\n        }   \n    }\n    <span class=\"hljs-keyword\">var</span> preventDefaultHandler = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>){\n        e = e || event;\n        <span class=\"hljs-keyword\">if</span>(e.<span class=\"hljs-property\">preventDefault</span>){\n            e.<span class=\"hljs-title function_\">preventDefault</span>();\n        }<span class=\"hljs-keyword\">else</span>{\n            e.<span class=\"hljs-property\">returnValue</span> = <span class=\"hljs-literal\">false</span>;\n        }\n        <span class=\"hljs-comment\">//IE8-&#x6d4f;&#x89c8;&#x5668;&#x963b;&#x6b62;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;</span>\n        <span class=\"hljs-keyword\">if</span>(ele.<span class=\"hljs-property\">setCapture</span>){\n            ele.<span class=\"hljs-title function_\">setCapture</span>();\n        }\n    }\n    <span class=\"hljs-title function_\">addEvent</span>(ele,<span class=\"hljs-string\">&apos;mousedown&apos;</span>,mousedownHandler);\n    <span class=\"hljs-title function_\">addEvent</span>(ele,<span class=\"hljs-string\">&apos;mousedown&apos;</span>,preventDefaultHandler);\n    <span class=\"hljs-title function_\">addEvent</span>(<span class=\"hljs-variable language_\">document</span>,<span class=\"hljs-string\">&apos;mousemove&apos;</span>,mousemoveHandler);\n    <span class=\"hljs-title function_\">addEvent</span>(<span class=\"hljs-variable language_\">document</span>,<span class=\"hljs-string\">&apos;mouseup&apos;</span>,mouseupHandler);\n\n};\n\n<span class=\"hljs-title function_\">scrollbar</span>(test,<span class=\"hljs-string\">&apos;x&apos;</span>,<span class=\"hljs-number\">100</span>);\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"297,387"}}],"payload":{"tag":"h3","lines":"287,288"}},{"content":"&#x5185;&#x5bb9;&#x6eda;&#x52a8;","children":[{"content":"<pre data-lines=\"394,395\"><code>&#x3000;&#x3000;&#x901a;&#x8fc7;&#x62d6;&#x52a8;&#x6eda;&#x52a8;&#x6761;&#x6765;&#x5b9e;&#x73b0;&#x5185;&#x5bb9;&#x6eda;&#x52a8;&#xff0c;&#x6bd4;&#x4f8b;&#x5173;&#x7cfb;&#x4e3a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"394,395"}},{"content":"<pre data-lines=\"396,399\"><code data-lines=\"396,399\">&#x6eda;&#x52a8;&#x6761;&#x5df2;&#x79fb;&#x52a8;&#x8ddd;&#x79bb;/&#x6eda;&#x52a8;&#x6761;&#x53ef;&#x79fb;&#x52a8;&#x8ddd;&#x79bb;<span class=\"hljs-operator\">=</span> &#x5185;&#x5bb9;&#x5df2;&#x79fb;&#x52a8;&#x8ddd;&#x79bb;/&#x5185;&#x5bb9;&#x53ef;&#x79fb;&#x52a8;&#x8ddd;&#x79bb;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"396,399"}},{"content":"<pre data-lines=\"402,492\"><code data-lines=\"402,492\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;box&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;height: 200px;width: 16px;display:inline-block;background-color:#F5F5F5;border-radius:10px;box-shadow:inset 0 0 6px rgba(0,0,0,0.3);position:relative;vertical-align:middle;&quot;</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;test&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;height: 60px;width: 16px;background-color:#D62929;box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;position:absolute;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">span</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;result&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;width: 100px;height: 200px;background-color:pink;display:inline-block;line-height:30px;vertical-align:middle;position:relative;overflow:hidden;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;resultIn&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;position:absolute;top:0;&quot;</span>&gt;</span>&#x6d4b;&#x8bd5;&#x6587;&#x5b57;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>&#x6d4b;&#x8bd5;&#x6587;&#x5b57;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>&#x6d4b;&#x8bd5;&#x6587;&#x5b57;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>&#x6d4b;&#x8bd5;&#x6587;&#x5b57;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>&#x6d4b;&#x8bd5;&#x6587;&#x5b57;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>&#x6d4b;&#x8bd5;&#x6587;&#x5b57;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>&#x6d4b;&#x8bd5;&#x6587;&#x5b57;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>&#x6d4b;&#x8bd5;&#x6587;&#x5b57;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>&#x6d4b;&#x8bd5;&#x6587;&#x5b57;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>&#x6d4b;&#x8bd5;&#x6587;&#x5b57;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>&#x6d4b;&#x8bd5;&#x6587;&#x5b57;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span>&#x6d4b;&#x8bd5;&#x6587;&#x5b57;<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">br</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">span</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">addEvent</span>(<span class=\"hljs-params\">target,type,handler</span>){\n    <span class=\"hljs-keyword\">if</span>(target.<span class=\"hljs-property\">addEventListener</span>){\n        target.<span class=\"hljs-title function_\">addEventListener</span>(type,handler,<span class=\"hljs-literal\">false</span>);\n    }<span class=\"hljs-keyword\">else</span>{\n        target.<span class=\"hljs-title function_\">attachEvent</span>(<span class=\"hljs-string\">&apos;on&apos;</span>+type,<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">event</span>){\n            <span class=\"hljs-keyword\">return</span> handler.<span class=\"hljs-title function_\">call</span>(target,event);\n        });\n    }\n}\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">scrollbar</span>(<span class=\"hljs-params\">ele,str,max</span>){\n    <span class=\"hljs-keyword\">var</span> x0,x1,y0,y1,isMoving,radio;\n    <span class=\"hljs-keyword\">var</span> max = result.<span class=\"hljs-property\">offsetHeight</span> - resultIn.<span class=\"hljs-property\">offsetHeight</span>;\n    <span class=\"hljs-keyword\">var</span> mousedownHandler = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>){\n        e = e || event;\n        x0 = ele.<span class=\"hljs-property\">offsetLeft</span>;\n        y0 = ele.<span class=\"hljs-property\">offsetTop</span>;\n        x1 = e.<span class=\"hljs-property\">clientX</span>;\n        y1 = e.<span class=\"hljs-property\">clientY</span>;\n        <span class=\"hljs-comment\">//&#x6309;&#x4e0b;&#x9f20;&#x6807;&#x65f6;&#xff0c;&#x8868;&#x793a;&#x6b63;&#x5728;&#x8fd0;&#x52a8;</span>\n        isMoving = <span class=\"hljs-literal\">true</span>;\n        <span class=\"hljs-comment\">//x&#x8f74;&#x65b9;&#x5411;</span>\n        <span class=\"hljs-keyword\">if</span>(str == <span class=\"hljs-string\">&apos;x&apos;</span>){\n            ratio = max/(ele.<span class=\"hljs-property\">parentNode</span>.<span class=\"hljs-property\">offsetWidth</span> - ele.<span class=\"hljs-property\">offsetWidth</span>);\n        <span class=\"hljs-comment\">//&#x5426;&#x5219;&#x4e3a;y&#x8f74;&#x65b9;&#x5411;</span>\n        }<span class=\"hljs-keyword\">else</span>{\n            <span class=\"hljs-keyword\">var</span> disY = e.<span class=\"hljs-property\">clientY</span> - ele.<span class=\"hljs-property\">offsetTop</span>;\n            ratio =max/(ele.<span class=\"hljs-property\">parentNode</span>.<span class=\"hljs-property\">offsetHeight</span> - ele.<span class=\"hljs-property\">offsetHeight</span>);\n        }\n    }\n    <span class=\"hljs-keyword\">var</span> mousemoveHandler = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>){\n        <span class=\"hljs-comment\">//&#x5982;&#x679c;&#x6ca1;&#x6709;&#x89e6;&#x53d1;down&#x4e8b;&#x4ef6;&#xff0c;&#x800c;&#x76f4;&#x63a5;&#x89e6;&#x53d1;move&#x4e8b;&#x4ef6;&#xff0c;&#x5219;&#x51fd;&#x6570;&#x76f4;&#x63a5;&#x8fd4;&#x56de;</span>\n        <span class=\"hljs-keyword\">if</span>(!isMoving){\n            <span class=\"hljs-keyword\">return</span>;\n        }\n        e = e || event;\n        <span class=\"hljs-keyword\">if</span>(str == <span class=\"hljs-string\">&apos;x&apos;</span>){\n            <span class=\"hljs-keyword\">var</span> x2 = e.<span class=\"hljs-property\">clientX</span>;   \n            <span class=\"hljs-keyword\">var</span> X = x0 + (x2 - x1);\n            <span class=\"hljs-keyword\">if</span>(X &lt; <span class=\"hljs-number\">0</span>){X = <span class=\"hljs-number\">0</span>;}\n            <span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">XMax</span> = <span class=\"hljs-built_in\">parseInt</span>(ele.<span class=\"hljs-property\">parentNode</span>.<span class=\"hljs-property\">clientWidth</span>) - ele.<span class=\"hljs-property\">offsetWidth</span>;\n            <span class=\"hljs-keyword\">if</span>(X &gt; <span class=\"hljs-title class_\">XMax</span>){X = <span class=\"hljs-title class_\">XMax</span>;}\n            ele.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">left</span> = X + <span class=\"hljs-string\">&apos;px&apos;</span>;    \n            resultIn.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">left</span> = <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">round</span>(ratio * X) + <span class=\"hljs-string\">&apos;px&apos;</span>;\n        }<span class=\"hljs-keyword\">else</span>{\n            <span class=\"hljs-keyword\">var</span> y2 = e.<span class=\"hljs-property\">clientY</span>;   \n            <span class=\"hljs-keyword\">var</span> Y = y0 + (y2 - y1);\n            <span class=\"hljs-keyword\">if</span>(Y &lt; <span class=\"hljs-number\">0</span>){Y = <span class=\"hljs-number\">0</span>;}\n            <span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">YMax</span> = <span class=\"hljs-built_in\">parseInt</span>(ele.<span class=\"hljs-property\">parentNode</span>.<span class=\"hljs-property\">clientHeight</span>) - ele.<span class=\"hljs-property\">offsetHeight</span>;\n            <span class=\"hljs-keyword\">if</span>(Y &gt; <span class=\"hljs-title class_\">YMax</span>){Y = <span class=\"hljs-title class_\">YMax</span>;}\n            ele.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">top</span> = Y + <span class=\"hljs-string\">&apos;px&apos;</span>;\n            resultIn.<span class=\"hljs-property\">style</span>.<span class=\"hljs-property\">top</span> = <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">round</span>(ratio * Y) + <span class=\"hljs-string\">&apos;px&apos;</span>;        \n        }\n\n    }\n    <span class=\"hljs-keyword\">var</span> mouseupHandler = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>){\n        <span class=\"hljs-comment\">//&#x9f20;&#x6807;&#x62ac;&#x8d77;&#x65f6;&#xff0c;&#x8868;&#x793a;&#x505c;&#x6b62;&#x8fd0;&#x52a8;</span>\n        isMoving = <span class=\"hljs-literal\">false</span>;\n        <span class=\"hljs-comment\">//&#x91ca;&#x653e;&#x5168;&#x5c40;&#x6355;&#x83b7;</span>\n        <span class=\"hljs-keyword\">if</span>(ele.<span class=\"hljs-property\">releaseCapture</span>){\n            ele.<span class=\"hljs-title function_\">releaseCapture</span>();\n        }   \n    }\n    <span class=\"hljs-keyword\">var</span> preventDefaultHandler = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>){\n        e = e || event;\n        <span class=\"hljs-keyword\">if</span>(e.<span class=\"hljs-property\">preventDefault</span>){\n            e.<span class=\"hljs-title function_\">preventDefault</span>();\n        }<span class=\"hljs-keyword\">else</span>{\n            e.<span class=\"hljs-property\">returnValue</span> = <span class=\"hljs-literal\">false</span>;\n        }\n        <span class=\"hljs-comment\">//IE8-&#x6d4f;&#x89c8;&#x5668;&#x963b;&#x6b62;&#x9ed8;&#x8ba4;&#x884c;&#x4e3a;</span>\n        <span class=\"hljs-keyword\">if</span>(ele.<span class=\"hljs-property\">setCapture</span>){\n            ele.<span class=\"hljs-title function_\">setCapture</span>();\n        }\n    }\n    <span class=\"hljs-title function_\">addEvent</span>(ele,<span class=\"hljs-string\">&apos;mousedown&apos;</span>,mousedownHandler);\n    <span class=\"hljs-title function_\">addEvent</span>(ele,<span class=\"hljs-string\">&apos;mousedown&apos;</span>,preventDefaultHandler);\n    <span class=\"hljs-title function_\">addEvent</span>(<span class=\"hljs-variable language_\">document</span>,<span class=\"hljs-string\">&apos;mousemove&apos;</span>,mousemoveHandler);\n    <span class=\"hljs-title function_\">addEvent</span>(<span class=\"hljs-variable language_\">document</span>,<span class=\"hljs-string\">&apos;mouseup&apos;</span>,mouseupHandler);\n\n};\n\n<span class=\"hljs-title function_\">scrollbar</span>(test);\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"402,492"}}],"payload":{"tag":"h3","lines":"392,393"}}],"payload":{"tag":"h2","lines":"178,179"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
