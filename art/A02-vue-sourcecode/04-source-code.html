<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Vue","children":[{"content":"<pre data-lines=\"6,959\"><code class=\"language-js\">\n<span class=\"hljs-comment\">/*  */</span>\n\n\n<span class=\"hljs-keyword\">var</span> uid = <span class=\"hljs-number\">0</span>;\n\n<span class=\"hljs-comment\">/**\n * A dep is an observable that can have multiple\n * directives subscribing to it.\n */</span>\n<span class=\"hljs-comment\">//&#x521b;&#x5efa;&#x4f9d;&#x8d56;&#xff0c;&#x6dfb;&#x52a0;&#x4e24;&#x4e2a;&#x5c5e;&#x6027;&#xff0c;id&#x4e3a;uid&#x5168;&#x5c40;&#x53d8;&#x91cf;&#xff0c;&#x7d2f;&#x52a0;,subs&#x662f;&#x6570;&#x7ec4;&#xff0c;&#x8fd8;&#x6709;&#x540e;&#x9762;&#x7684;target&#x5c5e;&#x6027;</span>\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">Dep</span> = <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Dep</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">id</span> = uid++;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">subs</span> = [];\n};\n<span class=\"hljs-comment\">// dep&#x7684;&#x539f;&#x578b;&#x94fe;&#x4e0a;&#x6dfb;&#x52a0;&#x65b9;&#x6cd5;addSub&#x65b9;&#x6cd5;&#xff0c;&#x89c2;&#x5bdf;&#x8005;&#x6570;&#x7ec4;&#x6dfb;&#x52a0;&#x89c2;&#x5bdf;&#x8005;</span>\n<span class=\"hljs-title class_\">Dep</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">addSub</span> = <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">addSub</span> (<span class=\"hljs-params\">sub</span>) {\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">subs</span>.<span class=\"hljs-title function_\">push</span>(sub);\n};\n<span class=\"hljs-comment\">// dep&#x7684;&#x539f;&#x578b;&#x94fe;&#x4e0a;&#x6dfb;&#x52a0;&#x65b9;&#x6cd5;removeSub&#x65b9;&#x6cd5;&#xff0c;&#x89c2;&#x5bdf;&#x8005;&#x6570;&#x7ec4;&#x5220;&#x9664;&#x89c2;&#x5bdf;&#x8005;</span>\n<span class=\"hljs-title class_\">Dep</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">removeSub</span> = <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">removeSub</span> (<span class=\"hljs-params\">sub</span>) {\n  <span class=\"hljs-title function_\">remove</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">subs</span>, sub);\n};\n<span class=\"hljs-comment\">// dep&#x7684;&#x539f;&#x578b;&#x94fe;&#x4e0a;&#x6dfb;&#x52a0;&#x65b9;&#x6cd5;depend&#x65b9;&#x6cd5;&#xff0c;&#x5982;&#x679c;&#x4f9d;&#x8d56;&#x5df2;&#x7ecf;&#x6709;target&#x5c5e;&#x6027;&#xff0c;target&#x5c5e;&#x6027;&#x8c03;&#x7528;addDep&#x65b9;&#x6cd5;</span>\n<span class=\"hljs-title class_\">Dep</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">depend</span> = <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">depend</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Dep</span>.<span class=\"hljs-property\">target</span>) {\n    <span class=\"hljs-title class_\">Dep</span>.<span class=\"hljs-property\">target</span>.<span class=\"hljs-title function_\">addDep</span>(<span class=\"hljs-variable language_\">this</span>);\n  }\n};\n<span class=\"hljs-comment\">// dep&#x7684;&#x539f;&#x578b;&#x94fe;&#x4e0a;&#x6dfb;&#x52a0;&#x65b9;&#x6cd5;notify&#x65b9;&#x6cd5;&#xff0c;&#x5982;&#x679c;&#x4f9d;&#x8d56;&#x5df2;&#x7ecf;&#x6709;target&#x5c5e;&#x6027;&#xff0c;target&#x5c5e;&#x6027;&#x8c03;&#x7528;addDep&#x65b9;&#x6cd5;</span>\n<span class=\"hljs-title class_\">Dep</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">notify</span> = <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">notify</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-comment\">// stabilize the subscriber list first</span>\n  <span class=\"hljs-comment\">// &#x62f7;&#x8d1d;subs&#x6570;&#x7ec4;</span>\n  <span class=\"hljs-keyword\">var</span> subs = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">subs</span>.<span class=\"hljs-title function_\">slice</span>();\n  <span class=\"hljs-comment\">// &#x6bcf;&#x4e2a;sub&#x89c2;&#x5bdf;&#x5bf9;&#x8c61;&#x8c03;&#x7528;update&#x65b9;&#x6cd5;</span>\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>, l = subs.<span class=\"hljs-property\">length</span>; i &lt; l; i++) {\n    subs[i].<span class=\"hljs-title function_\">update</span>();\n\n  }\n};\n\n<span class=\"hljs-comment\">// the current target watcher being evaluated.</span>\n<span class=\"hljs-comment\">// this is globally unique because there could be only one</span>\n<span class=\"hljs-comment\">// watcher being evaluated at any time.</span>\n<span class=\"hljs-title class_\">Dep</span>.<span class=\"hljs-property\">target</span> = <span class=\"hljs-literal\">null</span>;\n<span class=\"hljs-comment\">// Dep&#x7684;target&#x7ec4;&#x6210;&#x7684;&#x6570;&#x7ec4;</span>\n<span class=\"hljs-keyword\">var</span> targetStack = [];\n<span class=\"hljs-comment\">// dep&#x7684;target&#x66f4;&#x65b0;&#xff0c;&#x5e76;&#x5c06;target&#x5c5e;&#x6027;&#x66f4;&#x6362;&#x4e3a;&#x65b0;&#x7684;watcher</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">pushTarget</span> (<span class=\"hljs-params\">_target</span>) {\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Dep</span>.<span class=\"hljs-property\">target</span>) { targetStack.<span class=\"hljs-title function_\">push</span>(<span class=\"hljs-title class_\">Dep</span>.<span class=\"hljs-property\">target</span>); }\n  <span class=\"hljs-title class_\">Dep</span>.<span class=\"hljs-property\">target</span> = _target;\n}\n<span class=\"hljs-comment\">// dep&#x7684;target&#x5c5e;&#x6027;&#x66f4;&#x6362;&#x4e3a;targetStack&#x6570;&#x7ec4;&#x6700;&#x540e;&#x4e00;&#x4e2a;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">popTarget</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-title class_\">Dep</span>.<span class=\"hljs-property\">target</span> = targetStack.<span class=\"hljs-title function_\">pop</span>();\n}\n\n<span class=\"hljs-comment\">/*  */</span>\n<span class=\"hljs-comment\">// &#x751f;&#x6210;vNode&#x51fd;&#x6570;&#xff0c;&#x7ed1;&#x5b9a;&#x4e86;&#x591a;&#x79cd;&#x5c5e;&#x6027;&#x548c;&#x65b9;&#x6cd5;</span>\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">VNode</span> = <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">VNode</span> (<span class=\"hljs-params\">\n  tag,\n  data,\n  children,\n  text,\n  elm,\n  context,\n  componentOptions,\n  asyncFactory\n</span>) {\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">tag</span> = tag;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">data</span> = data;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">children</span> = children;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">text</span> = text;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">elm</span> = elm;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">ns</span> = <span class=\"hljs-literal\">undefined</span>;\n  <span class=\"hljs-comment\">// watcher &#x76d1;&#x542c;&#x5bf9;&#x8c61;</span>\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">context</span> = context;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">fnContext</span> = <span class=\"hljs-literal\">undefined</span>;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">fnOptions</span> = <span class=\"hljs-literal\">undefined</span>;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">fnScopeId</span> = <span class=\"hljs-literal\">undefined</span>;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">key</span> = data &amp;&amp; data.<span class=\"hljs-property\">key</span>;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">componentOptions</span> = componentOptions;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">componentInstance</span> = <span class=\"hljs-literal\">undefined</span>;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">parent</span> = <span class=\"hljs-literal\">undefined</span>;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">raw</span> = <span class=\"hljs-literal\">false</span>;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">isStatic</span> = <span class=\"hljs-literal\">false</span>;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">isRootInsert</span> = <span class=\"hljs-literal\">true</span>;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">isComment</span> = <span class=\"hljs-literal\">false</span>;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">isCloned</span> = <span class=\"hljs-literal\">false</span>;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">isOnce</span> = <span class=\"hljs-literal\">false</span>;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">asyncFactory</span> = asyncFactory;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">asyncMeta</span> = <span class=\"hljs-literal\">undefined</span>;\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">isAsyncPlaceholder</span> = <span class=\"hljs-literal\">false</span>;\n};\n<span class=\"hljs-comment\">// &#x5168;&#x5c40;&#x53d8;&#x91cf;prototypeAccessors&#x7684;child&#x5c5e;&#x6027;&#x662f;&#x53ef;&#x679a;&#x4e3e;&#x7684;</span>\n<span class=\"hljs-keyword\">var</span> prototypeAccessors = { <span class=\"hljs-attr\">child</span>: { <span class=\"hljs-attr\">configurable</span>: <span class=\"hljs-literal\">true</span> } };\n\n<span class=\"hljs-comment\">// DEPRECATED: alias for componentInstance for backwards compat.</span>\n<span class=\"hljs-comment\">/* istanbul ignore next */</span>\n<span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;&#x5168;&#x5c40;&#x53d8;&#x91cf;prototypeAccessors&#x7684;child&#x5c5e;&#x6027;&#x7684;get&#x65b9;&#x6cd5;</span>\nprototypeAccessors.<span class=\"hljs-property\">child</span>.<span class=\"hljs-property\">get</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">componentInstance</span>\n};\n<span class=\"hljs-comment\">// &#x5b9a;&#x4e49;&#x4e86;VNode&#x7684;&#x539f;&#x578b;&#x94fe;&#x4e0a; child&#x7684;&#x5c5e;&#x6027;&#xff0c;&#x5305;&#x62ec;get&#x65b9;&#x6cd5;&#x548c;&#x679a;&#x4e3e;&#x5c5e;&#x6027;</span>\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperties</span>( <span class=\"hljs-title class_\">VNode</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>, prototypeAccessors );\n<span class=\"hljs-comment\">// &#x521b;&#x5efa;&#x7a7a;&#x6587;&#x5b57;&#x8282;&#x70b9;</span>\n<span class=\"hljs-keyword\">var</span> createEmptyVNode = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">text</span>) {\n  <span class=\"hljs-keyword\">if</span> ( text === <span class=\"hljs-keyword\">void</span> <span class=\"hljs-number\">0</span> ) text = <span class=\"hljs-string\">&apos;&apos;</span>;\n\n  <span class=\"hljs-keyword\">var</span> node = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">VNode</span>();\n  node.<span class=\"hljs-property\">text</span> = text;\n  node.<span class=\"hljs-property\">isComment</span> = <span class=\"hljs-literal\">true</span>;\n  <span class=\"hljs-keyword\">return</span> node\n};\n<span class=\"hljs-comment\">// &#x751f;&#x6210;&#x6587;&#x5b57;&#x8282;&#x70b9;&#x7684;&#x65b9;&#x6cd5;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createTextVNode</span> (<span class=\"hljs-params\">val</span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">VNode</span>(<span class=\"hljs-literal\">undefined</span>, <span class=\"hljs-literal\">undefined</span>, <span class=\"hljs-literal\">undefined</span>, <span class=\"hljs-title class_\">String</span>(val))\n}\n\n<span class=\"hljs-comment\">// optimized shallow clone</span>\n<span class=\"hljs-comment\">// used for static nodes and slot nodes because they may be reused across</span>\n<span class=\"hljs-comment\">// multiple renders, cloning them avoids errors when DOM manipulations rely</span>\n<span class=\"hljs-comment\">// on their elm reference.</span>\n<span class=\"hljs-comment\">// &#x514b;&#x9686;&#x8282;&#x70b9;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">cloneVNode</span> (<span class=\"hljs-params\">vnode</span>) {\n  <span class=\"hljs-keyword\">var</span> cloned = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">VNode</span>(\n    vnode.<span class=\"hljs-property\">tag</span>,\n    vnode.<span class=\"hljs-property\">data</span>,\n    vnode.<span class=\"hljs-property\">children</span>,\n    vnode.<span class=\"hljs-property\">text</span>,\n    vnode.<span class=\"hljs-property\">elm</span>,\n    vnode.<span class=\"hljs-property\">context</span>,\n    vnode.<span class=\"hljs-property\">componentOptions</span>,\n    vnode.<span class=\"hljs-property\">asyncFactory</span>\n  );\n  cloned.<span class=\"hljs-property\">ns</span> = vnode.<span class=\"hljs-property\">ns</span>;\n  cloned.<span class=\"hljs-property\">isStatic</span> = vnode.<span class=\"hljs-property\">isStatic</span>;\n  cloned.<span class=\"hljs-property\">key</span> = vnode.<span class=\"hljs-property\">key</span>;\n  cloned.<span class=\"hljs-property\">isComment</span> = vnode.<span class=\"hljs-property\">isComment</span>;\n  cloned.<span class=\"hljs-property\">fnContext</span> = vnode.<span class=\"hljs-property\">fnContext</span>;\n  cloned.<span class=\"hljs-property\">fnOptions</span> = vnode.<span class=\"hljs-property\">fnOptions</span>;\n  cloned.<span class=\"hljs-property\">fnScopeId</span> = vnode.<span class=\"hljs-property\">fnScopeId</span>;\n  cloned.<span class=\"hljs-property\">isCloned</span> = <span class=\"hljs-literal\">true</span>;\n  <span class=\"hljs-keyword\">return</span> cloned\n}\n\n<span class=\"hljs-comment\">/*\n * not type checking this file because flow doesn&apos;t play well with\n * dynamically accessing methods on Array prototype\n */</span>\n\n<span class=\"hljs-keyword\">var</span> arrayProto = <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>;\n<span class=\"hljs-keyword\">var</span> arrayMethods = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(arrayProto);\n\n<span class=\"hljs-keyword\">var</span> methodsToPatch = [\n  <span class=\"hljs-string\">&apos;push&apos;</span>,\n  <span class=\"hljs-string\">&apos;pop&apos;</span>,\n  <span class=\"hljs-string\">&apos;shift&apos;</span>,\n  <span class=\"hljs-string\">&apos;unshift&apos;</span>,\n  <span class=\"hljs-string\">&apos;splice&apos;</span>,\n  <span class=\"hljs-string\">&apos;sort&apos;</span>,\n  <span class=\"hljs-string\">&apos;reverse&apos;</span>\n];\n\n<span class=\"hljs-comment\">/**\n * Intercept mutating methods and emit events\n */</span>\nmethodsToPatch.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">method</span>) {\n  <span class=\"hljs-comment\">// cache original method</span>\n  <span class=\"hljs-keyword\">var</span> original = arrayProto[method];\n  <span class=\"hljs-title function_\">def</span>(arrayMethods, method, <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mutator</span> (<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-keyword\">var</span> args = [], len = <span class=\"hljs-variable language_\">arguments</span>.<span class=\"hljs-property\">length</span>;\n    <span class=\"hljs-keyword\">while</span> ( len-- ) args[ len ] = <span class=\"hljs-variable language_\">arguments</span>[ len ];\n    <span class=\"hljs-keyword\">var</span> result = original.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>, args);\n    <span class=\"hljs-keyword\">var</span> ob = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">__ob__</span>;\n    <span class=\"hljs-keyword\">var</span> inserted;\n    <span class=\"hljs-keyword\">switch</span> (method) {\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&apos;push&apos;</span>:\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&apos;unshift&apos;</span>:\n        inserted = args;\n        <span class=\"hljs-keyword\">break</span>\n      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&apos;splice&apos;</span>:\n        inserted = args.<span class=\"hljs-title function_\">slice</span>(<span class=\"hljs-number\">2</span>);\n        <span class=\"hljs-keyword\">break</span>\n    }\n    <span class=\"hljs-keyword\">if</span> (inserted) { ob.<span class=\"hljs-title function_\">observeArray</span>(inserted); }\n    <span class=\"hljs-comment\">// notify change</span>\n    ob.<span class=\"hljs-property\">dep</span>.<span class=\"hljs-title function_\">notify</span>();\n    <span class=\"hljs-keyword\">return</span> result\n  });\n});\n\n<span class=\"hljs-comment\">/*  */</span>\n<span class=\"hljs-comment\">// &#x83b7;&#x53d6;arrayMethods&#x6570;&#x7ec4;&#x7684;&#x6bcf;&#x4e2a;&#x65b9;&#x6cd5;&#x540d;</span>\n<span class=\"hljs-keyword\">var</span> arrayKeys = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">getOwnPropertyNames</span>(arrayMethods);\n\n<span class=\"hljs-comment\">/**\n * In some cases we may want to disable observation inside a component&apos;s\n * update computation.\n */</span>\n<span class=\"hljs-comment\">// shouldObserve&#x5c5e;&#x6027;&#x8bbe;&#x7f6e;&#x4e3a;true,&#x8868;&#x793a;&#x5e94;&#x8be5;&#x76d1;&#x542c;</span>\n<span class=\"hljs-keyword\">var</span> shouldObserve = <span class=\"hljs-literal\">true</span>;\n<span class=\"hljs-comment\">// &#x5207;&#x6362;&#x662f;&#x5426;&#x76d1;&#x542c;&#x7684;&#x51fd;&#x6570;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">toggleObserving</span> (<span class=\"hljs-params\">value</span>) {\n  shouldObserve = value;\n}\n\n<span class=\"hljs-comment\">/**\n * Observer class that is attached to each observed\n * object. Once attached, the observer converts the target\n * object&apos;s property keys into getter/setters that\n * collect dependencies and dispatch updates.\n */</span>\n<span class=\"hljs-comment\">// &#x89c2;&#x5bdf;&#x8005;</span>\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">Observer</span> = <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Observer</span> (<span class=\"hljs-params\">value</span>) {\n  <span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;&#x81ea;&#x8eab;value</span>\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">value</span> = value;\n  <span class=\"hljs-comment\">// &#x751f;&#x6210;&#x81ea;&#x8eab;</span>\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">dep</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Dep</span>();\n  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">vmCount</span> = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-comment\">// &#x5b9a;&#x4e49;&#x4f20;&#x53c2;&#x7684;&#x2018;__ob__&apos;&#x5c5e;&#x6027;&#x8bbe;&#x7f6e;&#x4e3a;&#x672c;&#x8eab;</span>\n  <span class=\"hljs-title function_\">def</span>(value, <span class=\"hljs-string\">&apos;__ob__&apos;</span>, <span class=\"hljs-variable language_\">this</span>);\n  <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x53c2;&#x6570;&#x662f;&#x6570;&#x7ec4;</span>\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(value)) {\n    <span class=\"hljs-comment\">// &#x5c06;arrMethods&#x7684;&#x5c5e;&#x6027;&#x590d;&#x5236;&#x5230;&#x4f20;&#x53c2;&#x4e0a;</span>\n    <span class=\"hljs-keyword\">var</span> augment = hasProto\n      ? protoAugment\n      : copyAugment;\n    <span class=\"hljs-title function_\">augment</span>(value, arrayMethods, arrayKeys);\n    <span class=\"hljs-comment\">//&#x5e76;&#x76d1;&#x542c;&#x6570;&#x7ec4;&#x7684;&#x5f62;&#x5f0f;&#x76d1;&#x542c;&#x4f20;&#x53c2;</span>\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">observeArray</span>(value);\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-comment\">// &#x5426;&#x8005;&#x4ee5;&#x5bf9;&#x8c61;&#x7684;&#x5f62;&#x5f0f;&#x76d1;&#x542c;</span>\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">walk</span>(value);\n  }\n};\n\n<span class=\"hljs-comment\">/**\n * Walk through each property and convert them into\n * getter/setters. This method should only be called when\n * value type is Object.\n */</span>\n<span class=\"hljs-title class_\">Observer</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">walk</span> = <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">walk</span> (<span class=\"hljs-params\">obj</span>) {\n  <span class=\"hljs-keyword\">var</span> keys = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">keys</span>(obj);\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; keys.<span class=\"hljs-property\">length</span>; i++) {\n    <span class=\"hljs-title function_\">defineReactive</span>(obj, keys[i]);\n  }\n};\n\n<span class=\"hljs-comment\">/**\n * Observe a list of Array items.\n */</span>\n<span class=\"hljs-title class_\">Observer</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">observeArray</span> = <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">observeArray</span> (<span class=\"hljs-params\">items</span>) {\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>, l = items.<span class=\"hljs-property\">length</span>; i &lt; l; i++) {\n    <span class=\"hljs-title function_\">observe</span>(items[i]);\n  }\n};\n\n<span class=\"hljs-comment\">// helpers</span>\n\n<span class=\"hljs-comment\">/**\n * Augment an target Object or Array by intercepting\n * the prototype chain using __proto__\n */</span>\n<span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;__proto__&#x539f;&#x578b;&#x94fe;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">protoAugment</span> (<span class=\"hljs-params\">target, src, keys</span>) {\n  <span class=\"hljs-comment\">/* eslint-disable no-proto */</span>\n  target.<span class=\"hljs-property\">__proto__</span> = src;\n  <span class=\"hljs-comment\">/* eslint-enable no-proto */</span>\n}\n\n<span class=\"hljs-comment\">/**\n * Augment an target Object or Array by defining\n * hidden properties.\n */</span>\n<span class=\"hljs-comment\">/* istanbul ignore next */</span>\n<span class=\"hljs-comment\">// &#x5c06;src&#x7684;&#x5c5e;&#x6027;&#x590d;&#x5236;&#x5230;target&#x5bf9;&#x8c61;&#x4e0a;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">copyAugment</span> (<span class=\"hljs-params\">target, src, keys</span>) {\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>, l = keys.<span class=\"hljs-property\">length</span>; i &lt; l; i++) {\n    <span class=\"hljs-keyword\">var</span> key = keys[i];\n    <span class=\"hljs-title function_\">def</span>(target, key, src[key]);\n  }\n}\n\n<span class=\"hljs-comment\">/**\n * Attempt to create an observer instance for a value,\n * returns the new observer if successfully observed,\n * or the existing observer if the value already has one.\n */</span>\n<span class=\"hljs-comment\">// &#x91cd;&#x65b0;&#x8bbe;&#x7f6e;&#x76d1;&#x542c;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">observe</span> (<span class=\"hljs-params\">value, asRootData</span>) {\n  <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_\">isObject</span>(value) || value <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">VNode</span>) {\n    <span class=\"hljs-keyword\">return</span>\n  }\n  <span class=\"hljs-keyword\">var</span> ob;\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">hasOwn</span>(value, <span class=\"hljs-string\">&apos;__ob__&apos;</span>) &amp;&amp; value.<span class=\"hljs-property\">__ob__</span> <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">Observer</span>) {\n    ob = value.<span class=\"hljs-property\">__ob__</span>;\n  } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (\n    shouldObserve &amp;&amp;\n    !<span class=\"hljs-title function_\">isServerRendering</span>() &amp;&amp;\n    (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(value) || <span class=\"hljs-title function_\">isPlainObject</span>(value)) &amp;&amp;\n    <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">isExtensible</span>(value) &amp;&amp;\n    !value.<span class=\"hljs-property\">_isVue</span>\n  ) {\n    ob = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Observer</span>(value);\n  }\n  <span class=\"hljs-keyword\">if</span> (asRootData &amp;&amp; ob) {\n    ob.<span class=\"hljs-property\">vmCount</span>++;\n  }\n  <span class=\"hljs-keyword\">return</span> ob\n}\n\n<span class=\"hljs-comment\">/**\n * Define a reactive property on an Object.\n */</span>\n<span class=\"hljs-comment\">// &#x76d1;&#x542c;&#x5bf9;&#x8c61;&#x5c5e;&#x6027;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">defineReactive</span> (<span class=\"hljs-params\">\n  obj,\n  key,\n  val,\n  customSetter,\n  shallow\n</span>) {\n  <span class=\"hljs-keyword\">var</span> dep = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Dep</span>();\n\n  <span class=\"hljs-keyword\">var</span> property = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">getOwnPropertyDescriptor</span>(obj, key);\n  <span class=\"hljs-keyword\">if</span> (property &amp;&amp; property.<span class=\"hljs-property\">configurable</span> === <span class=\"hljs-literal\">false</span>) {\n    <span class=\"hljs-keyword\">return</span>\n  }\n\n  <span class=\"hljs-comment\">// cater for pre-defined getter/setters</span>\n  <span class=\"hljs-keyword\">var</span> getter = property &amp;&amp; property.<span class=\"hljs-property\">get</span>;\n  <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x6ca1;&#x6709;&#x6539;&#x5c5e;&#x6027;&#x7684;get&#x65b9;&#x6cd5;&#xff0c;&#x5e76;&#x6ca1;&#x6709;val&#x53c2;&#x6570;&#xff0c;&#x5c31;&#x8bbe;&#x7f6e;val&#x4e3a;&#x8be5;&#x5c5e;&#x6027;&#x5bf9;&#x5e94;&#x7684;&#x503c;</span>\n  <span class=\"hljs-keyword\">if</span> (!getter &amp;&amp; <span class=\"hljs-variable language_\">arguments</span>.<span class=\"hljs-property\">length</span> === <span class=\"hljs-number\">2</span>) {\n    val = obj[key];\n  }\n  <span class=\"hljs-keyword\">var</span> setter = property &amp;&amp; property.<span class=\"hljs-property\">set</span>;\n  <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x4e0d;&#x662f;&#x6d45;&#x76d1;&#x542c;&#xff0c;&#x5f00;&#x59cb;&#x76d1;&#x542c;&#x5c5e;&#x6027;</span>\n  <span class=\"hljs-keyword\">var</span> childOb = !shallow &amp;&amp; <span class=\"hljs-title function_\">observe</span>(val);\n  <span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;&#x6539;&#x5c5e;&#x6027;&#x7684;get&#x65b9;&#x6cd5;&#x548c;set&#x65b9;&#x6cd5;&#xff0c;&#x91cd;&#x7f6e;&#x6539;&#x5c5e;&#x6027;&#x548c;&#x4fee;&#x6539;&#x8be5;&#x5c5e;&#x6027;</span>\n  <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperty</span>(obj, key, {\n    <span class=\"hljs-attr\">enumerable</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-attr\">configurable</span>: <span class=\"hljs-literal\">true</span>,\n    <span class=\"hljs-attr\">get</span>: <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">reactiveGetter</span> (<span class=\"hljs-params\"></span>) {\n      <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x6709;get&#x65b9;&#x6cd5;&#xff0c;&#x8c03;&#x7528;get&#x65b9;&#x6cd5;&#xff0c;&#x6ca1;&#x6709;&#x8bbe;&#x7f6e;&#x6539;&#x5c5e;&#x6027;&#x7684;&#x503c;</span>\n      <span class=\"hljs-keyword\">var</span> value = getter ? getter.<span class=\"hljs-title function_\">call</span>(obj) : val;\n      <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x6709;set&#xff0c;&#x6dfb;&#x52a0;&#x89c2;&#x5bdf;&#x8005;</span>\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Dep</span>.<span class=\"hljs-property\">target</span>) {\n        dep.<span class=\"hljs-title function_\">depend</span>();\n        <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x662f;&#x6df1;&#x5ea6;&#x76d1;&#x542c;&#xff0c;value&#x4e5f;&#x8bbe;&#x7f6e;&#x76d1;&#x542c;</span>\n        <span class=\"hljs-keyword\">if</span> (childOb) {\n          childOb.<span class=\"hljs-property\">dep</span>.<span class=\"hljs-title function_\">depend</span>();\n          <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x662f;&#x6570;&#x7ec4;&#xff0c;&#x76d1;&#x542c;&#x6574;&#x4e2a;&#x6570;&#x7ec4;</span>\n          <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(value)) {\n            <span class=\"hljs-title function_\">dependArray</span>(value);\n          }\n        }\n      }\n      <span class=\"hljs-keyword\">return</span> value\n    },\n    <span class=\"hljs-attr\">set</span>: <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">reactiveSetter</span> (<span class=\"hljs-params\">newVal</span>) {\n      <span class=\"hljs-keyword\">var</span> value = getter ? getter.<span class=\"hljs-title function_\">call</span>(obj) : val;\n      <span class=\"hljs-comment\">/* eslint-disable no-self-compare */</span>\n      <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x91cd;&#x65b0;&#x8bbe;&#x7f6e;&#x7684;&#x503c;&#x548c;&#x4e4b;&#x524d;&#x7684;&#x8bbe;&#x7f6e;&#x76f8;&#x540c;&#xff0c;return</span>\n      <span class=\"hljs-keyword\">if</span> (newVal === value || (newVal !== newVal &amp;&amp; value !== value)) {\n        <span class=\"hljs-keyword\">return</span>\n      }\n      <span class=\"hljs-comment\">/* eslint-enable no-self-compare */</span>\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; customSetter) {\n        <span class=\"hljs-title function_\">customSetter</span>();\n      }\n      <span class=\"hljs-comment\">//&#x5c5e;&#x6027;&#x662f;&#x5426;&#x6709;setter&#x65b9;&#x6cd5;&#xff0c;&#x5982;&#x679c;&#x6709;setter&#x8c03;&#x7528;&#xff0c;&#x5982;&#x679c;&#x6ca1;&#x6709;&#x8bbe;&#x7f6e;val&#x7b49;&#x4e8e;newVal</span>\n      <span class=\"hljs-keyword\">if</span> (setter) {\n        setter.<span class=\"hljs-title function_\">call</span>(obj, newVal);\n      } <span class=\"hljs-keyword\">else</span> {\n        val = newVal;\n      }\n      <span class=\"hljs-comment\">// &#x91cd;&#x65b0;&#x76d1;&#x542c;newVal</span>\n      childOb = !shallow &amp;&amp; <span class=\"hljs-title function_\">observe</span>(newVal);\n      <span class=\"hljs-comment\">//&#x4f9d;&#x8d56;</span>\n      dep.<span class=\"hljs-title function_\">notify</span>();\n    }\n  });\n}\n\n<span class=\"hljs-comment\">/**\n * Set a property on an object. Adds the new property and\n * triggers change notification if the property doesn&apos;t\n * already exist.\n */</span>\n<span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;&#x5bf9;&#x8c61;&#x7684;&#x5c5e;&#x6027;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">set</span> (<span class=\"hljs-params\">target, key, val</span>) {\n  <span class=\"hljs-comment\">// &#x5982;&#x679c;target&#x662f;undefined,null,&#x57fa;&#x7840;&#x7c7b;&#x578b;&#x7684;&#x6570;&#x636e;&#xff0c;&#x5c31;&#x53d1;&#x51fa;&#x8b66;&#x544a;</span>\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp;\n    (<span class=\"hljs-title function_\">isUndef</span>(target) || <span class=\"hljs-title function_\">isPrimitive</span>(target))\n  ) {\n    <span class=\"hljs-title function_\">warn</span>((<span class=\"hljs-string\">&quot;Cannot set reactive property on undefined, null, or primitive value: &quot;</span> + ((target))));\n  }\n  <span class=\"hljs-comment\">// target&#x5982;&#x679c;&#x662f;&#x6570;&#x7ec4;&#xff0c;</span>\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(target) &amp;&amp; <span class=\"hljs-title function_\">isValidArrayIndex</span>(key)) {\n    <span class=\"hljs-comment\">// &#x8bbe;&#x7f6e;&#x957f;&#x5ea6;</span>\n    target.<span class=\"hljs-property\">length</span> = <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">max</span>(target.<span class=\"hljs-property\">length</span>, key);\n    <span class=\"hljs-comment\">// &#x5c06;&#x5728;key&#x5bf9;&#x5e94;&#x4f4d;&#x7f6e;&#x7684;&#x6570;&#x7ec4;&#x5143;&#x7d20;&#x66ff;&#x6362;&#x4e3a;val</span>\n    target.<span class=\"hljs-title function_\">splice</span>(key, <span class=\"hljs-number\">1</span>, val);\n    <span class=\"hljs-keyword\">return</span> val\n  }\n  <span class=\"hljs-comment\">// key&#x662f;target&#x7684;&#x81ea;&#x5e26;&#x5c5e;&#x6027;&#xff0c;&#x5c06;&#x5176;&#x5c5e;&#x6027;&#x503c;&#x66ff;&#x6362;&#x4e3a;val</span>\n  <span class=\"hljs-keyword\">if</span> (key <span class=\"hljs-keyword\">in</span> target &amp;&amp; !(key <span class=\"hljs-keyword\">in</span> <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>)) {\n    target[key] = val;\n    <span class=\"hljs-keyword\">return</span> val\n  }\n  <span class=\"hljs-keyword\">var</span> ob = (target).<span class=\"hljs-property\">__ob__</span>;\n  <span class=\"hljs-keyword\">if</span> (target.<span class=\"hljs-property\">_isVue</span> || (ob &amp;&amp; ob.<span class=\"hljs-property\">vmCount</span>)) {\n    <span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; <span class=\"hljs-title function_\">warn</span>(\n      <span class=\"hljs-string\">&apos;Avoid adding reactive properties to a Vue instance or its root &#x24;data &apos;</span> +\n      <span class=\"hljs-string\">&apos;at runtime - declare it upfront in the data option.&apos;</span>\n    );\n    <span class=\"hljs-keyword\">return</span> val\n  }\n  <span class=\"hljs-keyword\">if</span> (!ob) {\n    target[key] = val;\n    <span class=\"hljs-keyword\">return</span> val\n  }\n  <span class=\"hljs-comment\">// &#x76d1;&#x542c;&#x4e4b;&#x524d;&#x76d1;&#x542c;&#x5bf9;&#x8c61;&#x7684;value</span>\n  <span class=\"hljs-title function_\">defineReactive</span>(ob.<span class=\"hljs-property\">value</span>, key, val);\n  <span class=\"hljs-comment\">// &#x89c2;&#x5bdf;&#x8005;&#x7684;&#x4f9d;&#x8d56;&#x8ddf;&#x65b0;</span>\n  ob.<span class=\"hljs-property\">dep</span>.<span class=\"hljs-title function_\">notify</span>();\n  <span class=\"hljs-keyword\">return</span> val\n}\n\n<span class=\"hljs-comment\">/**\n * Delete a property and trigger change if necessary.\n */</span>\n<span class=\"hljs-comment\">// &#x5220;&#x9664;&#x5bf9;&#x8c61;&#x7684;&#x5c5e;&#x6027;&#x6216;&#x8005;&#x6570;&#x7ec4;&#x7684;&#x5143;&#x7d20;&#xff0c;&#x5e76;&#x8ddf;&#x65b0;&#x4f9d;&#x8d56;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">del</span> (<span class=\"hljs-params\">target, key</span>) {\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp;\n    (<span class=\"hljs-title function_\">isUndef</span>(target) || <span class=\"hljs-title function_\">isPrimitive</span>(target))\n  ) {\n    <span class=\"hljs-title function_\">warn</span>((<span class=\"hljs-string\">&quot;Cannot delete reactive property on undefined, null, or primitive value: &quot;</span> + ((target))));\n  }\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(target) &amp;&amp; <span class=\"hljs-title function_\">isValidArrayIndex</span>(key)) {\n    target.<span class=\"hljs-title function_\">splice</span>(key, <span class=\"hljs-number\">1</span>);\n    <span class=\"hljs-keyword\">return</span>\n  }\n  <span class=\"hljs-keyword\">var</span> ob = (target).<span class=\"hljs-property\">__ob__</span>;\n  <span class=\"hljs-keyword\">if</span> (target.<span class=\"hljs-property\">_isVue</span> || (ob &amp;&amp; ob.<span class=\"hljs-property\">vmCount</span>)) {\n    <span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; <span class=\"hljs-title function_\">warn</span>(\n      <span class=\"hljs-string\">&apos;Avoid deleting properties on a Vue instance or its root &#x24;data &apos;</span> +\n      <span class=\"hljs-string\">&apos;- just set it to null.&apos;</span>\n    );\n    <span class=\"hljs-keyword\">return</span>\n  }\n  <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_\">hasOwn</span>(target, key)) {\n    <span class=\"hljs-keyword\">return</span>\n  }\n  <span class=\"hljs-keyword\">delete</span> target[key];\n  <span class=\"hljs-keyword\">if</span> (!ob) {\n    <span class=\"hljs-keyword\">return</span>\n  }\n  ob.<span class=\"hljs-property\">dep</span>.<span class=\"hljs-title function_\">notify</span>();\n}\n\n<span class=\"hljs-comment\">/**\n * Collect dependencies on array elements when the array is touched, since\n * we cannot intercept array element access like property getters.\n */</span>\n<span class=\"hljs-comment\">//&#x4f9d;&#x8d56;&#x6570;&#x7ec4;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">dependArray</span> (<span class=\"hljs-params\">value</span>) {\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> e = (<span class=\"hljs-keyword\">void</span> <span class=\"hljs-number\">0</span>), i = <span class=\"hljs-number\">0</span>, l = value.<span class=\"hljs-property\">length</span>; i &lt; l; i++) {\n    e = value[i];\n    e &amp;&amp; e.<span class=\"hljs-property\">__ob__</span> &amp;&amp; e.<span class=\"hljs-property\">__ob__</span>.<span class=\"hljs-property\">dep</span>.<span class=\"hljs-title function_\">depend</span>();\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(e)) {\n      <span class=\"hljs-title function_\">dependArray</span>(e);\n    }\n  }\n}\n\n<span class=\"hljs-comment\">/*  */</span>\n\n<span class=\"hljs-comment\">/**\n * Option overwriting strategies are functions that handle\n * how to merge a parent option value and a child option\n * value into the final value.\n */</span>\n<span class=\"hljs-comment\">// &#x81ea;&#x5b9a;&#x4e49;&#x5904;&#x7406;&#x65b9;&#x6cd5;</span>\n<span class=\"hljs-keyword\">var</span> strats = config.<span class=\"hljs-property\">optionMergeStrategies</span>;\n\n<span class=\"hljs-comment\">/**\n * Options with restrictions\n */</span>\n{\n  strats.<span class=\"hljs-property\">el</span> = strats.<span class=\"hljs-property\">propsData</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">parent, child, vm, key</span>) {\n    <span class=\"hljs-keyword\">if</span> (!vm) {\n      <span class=\"hljs-title function_\">warn</span>(\n        <span class=\"hljs-string\">&quot;option \\&quot;&quot;</span> + key + <span class=\"hljs-string\">&quot;\\&quot; can only be used during instance &quot;</span> +\n        <span class=\"hljs-string\">&apos;creation with the `new` keyword.&apos;</span>\n      );\n    }\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">defaultStrat</span>(parent, child)\n  };\n}\n\n<span class=\"hljs-comment\">/**\n * Helper that recursively merges two data objects together.\n */</span>\n<span class=\"hljs-comment\">//&#x5408;&#x5e76;&#x4e24;&#x4e2a;&#x5bf9;&#x8c61;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mergeData</span> (<span class=\"hljs-params\">to, <span class=\"hljs-keyword\">from</span></span>) {\n  <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-keyword\">from</span>) { <span class=\"hljs-keyword\">return</span> to }\n  <span class=\"hljs-keyword\">var</span> key, toVal, fromVal;\n  <span class=\"hljs-keyword\">var</span> keys = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">keys</span>(<span class=\"hljs-keyword\">from</span>);\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; keys.<span class=\"hljs-property\">length</span>; i++) {\n    key = keys[i];\n    toVal = to[key];\n    fromVal = <span class=\"hljs-keyword\">from</span>[key];\n    <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_\">hasOwn</span>(to, key)) {\n      <span class=\"hljs-title function_\">set</span>(to, key, fromVal);\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isPlainObject</span>(toVal) &amp;&amp; <span class=\"hljs-title function_\">isPlainObject</span>(fromVal)) {\n      <span class=\"hljs-title function_\">mergeData</span>(toVal, fromVal);\n    }\n  }\n  <span class=\"hljs-keyword\">return</span> to\n}\n\n<span class=\"hljs-comment\">/**\n * Data\n */</span>\n<span class=\"hljs-comment\">// &#x5408;&#x5e76;data&#x6216;&#x8005;&#x51fd;&#x6570;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mergeDataOrFn</span> (<span class=\"hljs-params\">\n  parentVal,\n  childVal,\n  vm\n</span>) {\n  <span class=\"hljs-keyword\">if</span> (!vm) {\n    <span class=\"hljs-comment\">// in a Vue.extend merge, both should be functions</span>\n    <span class=\"hljs-keyword\">if</span> (!childVal) {\n      <span class=\"hljs-keyword\">return</span> parentVal\n    }\n    <span class=\"hljs-keyword\">if</span> (!parentVal) {\n      <span class=\"hljs-keyword\">return</span> childVal\n    }\n    <span class=\"hljs-comment\">// when parentVal &amp; childVal are both present,</span>\n    <span class=\"hljs-comment\">// we need to return a function that returns the</span>\n    <span class=\"hljs-comment\">// merged result of both functions... no need to</span>\n    <span class=\"hljs-comment\">// check if parentVal is a function here because</span>\n    <span class=\"hljs-comment\">// it has to be a function to pass previous merges.</span>\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mergedDataFn</span> (<span class=\"hljs-params\"></span>) {\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">mergeData</span>(\n        <span class=\"hljs-keyword\">typeof</span> childVal === <span class=\"hljs-string\">&apos;function&apos;</span> ? childVal.<span class=\"hljs-title function_\">call</span>(<span class=\"hljs-variable language_\">this</span>, <span class=\"hljs-variable language_\">this</span>) : childVal,\n        <span class=\"hljs-keyword\">typeof</span> parentVal === <span class=\"hljs-string\">&apos;function&apos;</span> ? parentVal.<span class=\"hljs-title function_\">call</span>(<span class=\"hljs-variable language_\">this</span>, <span class=\"hljs-variable language_\">this</span>) : parentVal\n      )\n    }\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mergedInstanceDataFn</span> (<span class=\"hljs-params\"></span>) {\n      <span class=\"hljs-comment\">// instance merge</span>\n      <span class=\"hljs-keyword\">var</span> instanceData = <span class=\"hljs-keyword\">typeof</span> childVal === <span class=\"hljs-string\">&apos;function&apos;</span>\n        ? childVal.<span class=\"hljs-title function_\">call</span>(vm, vm)\n        : childVal;\n      <span class=\"hljs-keyword\">var</span> defaultData = <span class=\"hljs-keyword\">typeof</span> parentVal === <span class=\"hljs-string\">&apos;function&apos;</span>\n        ? parentVal.<span class=\"hljs-title function_\">call</span>(vm, vm)\n        : parentVal;\n      <span class=\"hljs-keyword\">if</span> (instanceData) {\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">mergeData</span>(instanceData, defaultData)\n      } <span class=\"hljs-keyword\">else</span> {\n        <span class=\"hljs-keyword\">return</span> defaultData\n      }\n    }\n  }\n}\n\nstrats.<span class=\"hljs-property\">data</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">\n  parentVal,\n  childVal,\n  vm\n</span>) {\n  <span class=\"hljs-keyword\">if</span> (!vm) {\n    <span class=\"hljs-keyword\">if</span> (childVal &amp;&amp; <span class=\"hljs-keyword\">typeof</span> childVal !== <span class=\"hljs-string\">&apos;function&apos;</span>) {\n      <span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; <span class=\"hljs-title function_\">warn</span>(\n        <span class=\"hljs-string\">&apos;The &quot;data&quot; option should be a function &apos;</span> +\n        <span class=\"hljs-string\">&apos;that returns a per-instance value in component &apos;</span> +\n        <span class=\"hljs-string\">&apos;definitions.&apos;</span>,\n        vm\n      );\n\n      <span class=\"hljs-keyword\">return</span> parentVal\n    }\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">mergeDataOrFn</span>(parentVal, childVal)\n  }\n\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">mergeDataOrFn</span>(parentVal, childVal, vm)\n};\n\n<span class=\"hljs-comment\">/**\n * Hooks and props are merged as arrays.\n */</span>\n<span class=\"hljs-comment\">// &#x5408;&#x5e76;&#x751f;&#x547d;&#x5468;&#x671f;&#xff0c;&#x6700;&#x540e;&#x662f;&#x4ee5;&#x6570;&#x7ec4;&#x7684;&#x5f62;&#x5f0f;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mergeHook</span> (<span class=\"hljs-params\">\n  parentVal,\n  childVal\n</span>) {\n  <span class=\"hljs-keyword\">return</span> childVal\n    ? parentVal\n      ? parentVal.<span class=\"hljs-title function_\">concat</span>(childVal)\n      : <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(childVal)\n        ? childVal\n        : [childVal]\n    : parentVal\n}\n\n<span class=\"hljs-variable constant_\">LIFECYCLE_HOOKS</span>.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">hook</span>) {\n  strats[hook] = mergeHook;\n});\n\n<span class=\"hljs-comment\">/**\n * Assets\n *\n * When a vm is present (instance creation), we need to do\n * a three-way merge between constructor options, instance\n * options and parent options.\n */</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mergeAssets</span> (<span class=\"hljs-params\">\n  parentVal,\n  childVal,\n  vm,\n  key\n</span>) {\n  <span class=\"hljs-keyword\">var</span> res = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(parentVal || <span class=\"hljs-literal\">null</span>);\n  <span class=\"hljs-keyword\">if</span> (childVal) {\n    <span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; <span class=\"hljs-title function_\">assertObjectType</span>(key, childVal, vm);\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">extend</span>(res, childVal)\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-keyword\">return</span> res\n  }\n}\n\n<span class=\"hljs-variable constant_\">ASSET_TYPES</span>.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">type</span>) {\n  strats[type + <span class=\"hljs-string\">&apos;s&apos;</span>] = mergeAssets;\n});\n\n<span class=\"hljs-comment\">/**\n * Watchers.\n *\n * Watchers hashes should not overwrite one\n * another, so we merge them as arrays.\n */</span>\nstrats.<span class=\"hljs-property\">watch</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">\n  parentVal,\n  childVal,\n  vm,\n  key\n</span>) {\n  <span class=\"hljs-comment\">// work around Firefox&apos;s Object.prototype.watch...</span>\n  <span class=\"hljs-keyword\">if</span> (parentVal === nativeWatch) { parentVal = <span class=\"hljs-literal\">undefined</span>; }\n  <span class=\"hljs-keyword\">if</span> (childVal === nativeWatch) { childVal = <span class=\"hljs-literal\">undefined</span>; }\n  <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n  <span class=\"hljs-keyword\">if</span> (!childVal) { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(parentVal || <span class=\"hljs-literal\">null</span>) }\n  {\n    <span class=\"hljs-title function_\">assertObjectType</span>(key, childVal, vm);\n  }\n  <span class=\"hljs-keyword\">if</span> (!parentVal) { <span class=\"hljs-keyword\">return</span> childVal }\n  <span class=\"hljs-keyword\">var</span> ret = {};\n  <span class=\"hljs-title function_\">extend</span>(ret, parentVal);\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> key&#x24;1 <span class=\"hljs-keyword\">in</span> childVal) {\n    <span class=\"hljs-keyword\">var</span> parent = ret[key&#x24;1];\n    <span class=\"hljs-keyword\">var</span> child = childVal[key&#x24;1];\n    <span class=\"hljs-keyword\">if</span> (parent &amp;&amp; !<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(parent)) {\n      parent = [parent];\n    }\n    ret[key&#x24;1] = parent\n      ? parent.<span class=\"hljs-title function_\">concat</span>(child)\n      : <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(child) ? child : [child];\n  }\n  <span class=\"hljs-keyword\">return</span> ret\n};\n\n<span class=\"hljs-comment\">/**\n * Other object hashes.\n */</span>\nstrats.<span class=\"hljs-property\">props</span> =\nstrats.<span class=\"hljs-property\">methods</span> =\nstrats.<span class=\"hljs-property\">inject</span> =\nstrats.<span class=\"hljs-property\">computed</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">\n  parentVal,\n  childVal,\n  vm,\n  key\n</span>) {\n  <span class=\"hljs-keyword\">if</span> (childVal &amp;&amp; <span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span>) {\n    <span class=\"hljs-title function_\">assertObjectType</span>(key, childVal, vm);\n  }\n  <span class=\"hljs-keyword\">if</span> (!parentVal) { <span class=\"hljs-keyword\">return</span> childVal }\n  <span class=\"hljs-keyword\">var</span> ret = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(<span class=\"hljs-literal\">null</span>);\n  <span class=\"hljs-title function_\">extend</span>(ret, parentVal);\n  <span class=\"hljs-keyword\">if</span> (childVal) { <span class=\"hljs-title function_\">extend</span>(ret, childVal); }\n  <span class=\"hljs-keyword\">return</span> ret\n};\nstrats.<span class=\"hljs-property\">provide</span> = mergeDataOrFn;\n\n<span class=\"hljs-comment\">/**\n * Default strategy.\n */</span>\n<span class=\"hljs-keyword\">var</span> defaultStrat = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">parentVal, childVal</span>) {\n  <span class=\"hljs-keyword\">return</span> childVal === <span class=\"hljs-literal\">undefined</span>\n    ? parentVal\n    : childVal\n};\n\n<span class=\"hljs-comment\">/**\n * Validate component names\n */</span>\n<span class=\"hljs-comment\">// &#x7ec4;&#x4ef6;&#x7684;&#x5408;&#x6cd5;&#x6027;&#x68c0;&#x67e5;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">checkComponents</span> (<span class=\"hljs-params\">options</span>) {\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> options.<span class=\"hljs-property\">components</span>) {\n    <span class=\"hljs-title function_\">validateComponentName</span>(key);\n  }\n}\n<span class=\"hljs-comment\">// &#x7ec4;&#x4ef6;&#x540d;&#x7684;&#x5408;&#x6cd5;&#x6027;&#x68c0;&#x67e5;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">validateComponentName</span> (<span class=\"hljs-params\">name</span>) {\n  <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-regexp\">/^[a-zA-Z][\\w-]*&#x24;/</span>.<span class=\"hljs-title function_\">test</span>(name)) {\n    <span class=\"hljs-title function_\">warn</span>(\n      <span class=\"hljs-string\">&apos;Invalid component name: &quot;&apos;</span> + name + <span class=\"hljs-string\">&apos;&quot;. Component names &apos;</span> +\n      <span class=\"hljs-string\">&apos;can only contain alphanumeric characters and the hyphen, &apos;</span> +\n      <span class=\"hljs-string\">&apos;and must start with a letter.&apos;</span>\n    );\n  }\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isBuiltInTag</span>(name) || config.<span class=\"hljs-title function_\">isReservedTag</span>(name)) {\n    <span class=\"hljs-title function_\">warn</span>(\n      <span class=\"hljs-string\">&apos;Do not use built-in or reserved HTML elements as component &apos;</span> +\n      <span class=\"hljs-string\">&apos;id: &apos;</span> + name\n    );\n  }\n}\n\n<span class=\"hljs-comment\">/**\n * Ensure all props option syntax are normalized into the\n * Object-based format.\n */</span>\n<span class=\"hljs-comment\">// props&#x89c4;&#x5219;&#x5316;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">normalizeProps</span> (<span class=\"hljs-params\">options, vm</span>) {\n  <span class=\"hljs-keyword\">var</span> props = options.<span class=\"hljs-property\">props</span>;\n  <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x6709;props&#x4e3a;null,undefined&#x7b49;,&#x8fd4;&#x56de;</span>\n  <span class=\"hljs-keyword\">if</span> (!props) { <span class=\"hljs-keyword\">return</span> }\n  <span class=\"hljs-keyword\">var</span> res = {};\n  <span class=\"hljs-keyword\">var</span> i, val, name;\n  <span class=\"hljs-comment\">// &#x5982;&#x679c;props&#x4e3a;&#x6570;&#x7ec4;</span>\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(props)) {\n    i = props.<span class=\"hljs-property\">length</span>;\n    <span class=\"hljs-keyword\">while</span> (i--) {\n      val = props[i];\n      <span class=\"hljs-comment\">// &#x5982;&#x679c;&#x662f;&#x5b57;&#x7b26;&#x4e32;&#x7c7b;&#x578b;&#x7684;&#xff0c;type&#x8bbe;&#x7f6e;&#x4e3a;null,&#x9996;&#x5b57;&#x6bcd;&#x5927;&#x5199;</span>\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> val === <span class=\"hljs-string\">&apos;string&apos;</span>) {\n        name = <span class=\"hljs-title function_\">camelize</span>(val);\n        res[name] = { <span class=\"hljs-attr\">type</span>: <span class=\"hljs-literal\">null</span> };\n      } <span class=\"hljs-keyword\">else</span> {\n        <span class=\"hljs-title function_\">warn</span>(<span class=\"hljs-string\">&apos;props must be strings when using array syntax.&apos;</span>);\n      }\n    }\n    <span class=\"hljs-comment\">// &#x82e5;&#x679c;&#x662f;&#x5bf9;&#x8c61;</span>\n  } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isPlainObject</span>(props)) {\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> props) {\n      val = props[key];\n      name = <span class=\"hljs-title function_\">camelize</span>(key);\n      res[name] = <span class=\"hljs-title function_\">isPlainObject</span>(val)\n        ? val\n        : { <span class=\"hljs-attr\">type</span>: val };\n    }\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-title function_\">warn</span>(\n      <span class=\"hljs-string\">&quot;Invalid value for option \\&quot;props\\&quot;: expected an Array or an Object, &quot;</span> +\n      <span class=\"hljs-string\">&quot;but got &quot;</span> + (<span class=\"hljs-title function_\">toRawType</span>(props)) + <span class=\"hljs-string\">&quot;.&quot;</span>,\n      vm\n    );\n  }\n  options.<span class=\"hljs-property\">props</span> = res;\n}\n\n<span class=\"hljs-comment\">/**\n * Normalize all injections into Object-based format\n */</span>\n<span class=\"hljs-comment\">// &#x6ce8;&#x5165;&#x7684;&#x89c4;&#x5219;&#xff0c;&#x5e76;&#x7528;&#x4e00;&#x4e2a;&#x53d8;&#x91cf;&#x4fdd;&#x5b58;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">normalizeInject</span> (<span class=\"hljs-params\">options, vm</span>) {\n  <span class=\"hljs-keyword\">var</span> inject = options.<span class=\"hljs-property\">inject</span>;\n  <span class=\"hljs-keyword\">if</span> (!inject) { <span class=\"hljs-keyword\">return</span> }\n  <span class=\"hljs-keyword\">var</span> normalized = options.<span class=\"hljs-property\">inject</span> = {};\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(inject)) {\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; inject.<span class=\"hljs-property\">length</span>; i++) {\n      normalized[inject[i]] = { <span class=\"hljs-attr\">from</span>: inject[i] };\n    }\n  } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">isPlainObject</span>(inject)) {\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> inject) {\n      <span class=\"hljs-keyword\">var</span> val = inject[key];\n      normalized[key] = <span class=\"hljs-title function_\">isPlainObject</span>(val)\n        ? <span class=\"hljs-title function_\">extend</span>({ <span class=\"hljs-attr\">from</span>: key }, val)\n        : { <span class=\"hljs-attr\">from</span>: val };\n    }\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-title function_\">warn</span>(\n      <span class=\"hljs-string\">&quot;Invalid value for option \\&quot;inject\\&quot;: expected an Array or an Object, &quot;</span> +\n      <span class=\"hljs-string\">&quot;but got &quot;</span> + (<span class=\"hljs-title function_\">toRawType</span>(inject)) + <span class=\"hljs-string\">&quot;.&quot;</span>,\n      vm\n    );\n  }\n}\n\n<span class=\"hljs-comment\">/**\n * Normalize raw function directives into object format.\n */</span>\n<span class=\"hljs-comment\">// &#x6307;&#x4ee4;&#x7684;&#x89c4;&#x5219;&#x5316;&#xff0c;&#x5982;&#x679c;&#x6307;&#x4ee4;&#x662f;&#x51fd;&#x6570;&#x5c06;&#x6307;&#x4ee4;&#x7684;&#x6bcf;&#x4e2a;&#x90fd;&#x7ed1;&#x5b9a;&#x5bf9;&#x5e94;&#x7684;&#x65b9;&#x6cd5;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">normalizeDirectives</span> (<span class=\"hljs-params\">options</span>) {\n  <span class=\"hljs-keyword\">var</span> dirs = options.<span class=\"hljs-property\">directives</span>;\n  <span class=\"hljs-keyword\">if</span> (dirs) {\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> dirs) {\n      <span class=\"hljs-keyword\">var</span> def = dirs[key];\n      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> def === <span class=\"hljs-string\">&apos;function&apos;</span>) {\n        dirs[key] = { <span class=\"hljs-attr\">bind</span>: def, <span class=\"hljs-attr\">update</span>: def };\n      }\n    }\n  }\n}\n\n<span class=\"hljs-comment\">// &#x5bf9;&#x8c61;&#x5982;&#x679c;&#x4e0d;&#x662f;&#x901a;&#x8fc7;&#x5b57;&#x9762;&#x91cf;&#x6216;&#x8005;new Object()&#x5f62;&#x5f0f;&#x751f;&#x6210;&#x7684;&#x5bf9;&#x8c61;&#xff0c;&#x53d1;&#x51fa;&#x8b66;&#x544a;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">assertObjectType</span> (<span class=\"hljs-params\">name, value, vm</span>) {\n  <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_\">isPlainObject</span>(value)) {\n    <span class=\"hljs-title function_\">warn</span>(\n      <span class=\"hljs-string\">&quot;Invalid value for option \\&quot;&quot;</span> + name + <span class=\"hljs-string\">&quot;\\&quot;: expected an Object, &quot;</span> +\n      <span class=\"hljs-string\">&quot;but got &quot;</span> + (<span class=\"hljs-title function_\">toRawType</span>(value)) + <span class=\"hljs-string\">&quot;.&quot;</span>,\n      vm\n    );\n  }\n}\n\n<span class=\"hljs-comment\">/**\n * Merge two option objects into a new one.\n * Core utility used in both instantiation and inheritance.\n */</span>\n<span class=\"hljs-comment\">//&#x5c06;&#x4e24;&#x4e2a;option&#x5408;&#x5e76;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mergeOptions</span> (<span class=\"hljs-params\">\n  parent,\n  child,\n  vm\n</span>) {\n  {\n    <span class=\"hljs-title function_\">checkComponents</span>(child);\n  }\n\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> child === <span class=\"hljs-string\">&apos;function&apos;</span>) {\n    child = child.<span class=\"hljs-property\">options</span>;\n  }\n\n  <span class=\"hljs-title function_\">normalizeProps</span>(child, vm);\n  <span class=\"hljs-title function_\">normalizeInject</span>(child, vm);\n  <span class=\"hljs-title function_\">normalizeDirectives</span>(child);\n  <span class=\"hljs-keyword\">var</span> extendsFrom = child.<span class=\"hljs-property\">extends</span>;\n  <span class=\"hljs-keyword\">if</span> (extendsFrom) {\n    parent = <span class=\"hljs-title function_\">mergeOptions</span>(parent, extendsFrom, vm);\n  }\n  <span class=\"hljs-keyword\">if</span> (child.<span class=\"hljs-property\">mixins</span>) {\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>, l = child.<span class=\"hljs-property\">mixins</span>.<span class=\"hljs-property\">length</span>; i &lt; l; i++) {\n      parent = <span class=\"hljs-title function_\">mergeOptions</span>(parent, child.<span class=\"hljs-property\">mixins</span>[i], vm);\n    }\n  }\n  <span class=\"hljs-keyword\">var</span> options = {};\n  <span class=\"hljs-keyword\">var</span> key;\n  <span class=\"hljs-keyword\">for</span> (key <span class=\"hljs-keyword\">in</span> parent) {\n    <span class=\"hljs-title function_\">mergeField</span>(key);\n  }\n  <span class=\"hljs-keyword\">for</span> (key <span class=\"hljs-keyword\">in</span> child) {\n    <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_\">hasOwn</span>(parent, key)) {\n      <span class=\"hljs-title function_\">mergeField</span>(key);\n    }\n  }\n  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mergeField</span> (<span class=\"hljs-params\">key</span>) {\n    <span class=\"hljs-keyword\">var</span> strat = strats[key] || defaultStrat;\n    options[key] = <span class=\"hljs-title function_\">strat</span>(parent[key], child[key], vm, key);\n  }\n  <span class=\"hljs-keyword\">return</span> options\n}\n\n<span class=\"hljs-comment\">/**\n * Resolve an asset.\n * This function is used because child instances need access\n * to assets defined in its ancestor chain.\n */</span>\n<span class=\"hljs-comment\">//&#x4e3a;&#x5b50;&#x7ec4;&#x4ef6;&#x65b0;&#x5efa;&#x53e6;&#x5916;&#x4e00;&#x6761;&#x94fe;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">resolveAsset</span> (<span class=\"hljs-params\">\n  options,\n  type,\n  id,\n  warnMissing\n</span>) {\n  <span class=\"hljs-comment\">/* istanbul ignore if */</span>\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> id !== <span class=\"hljs-string\">&apos;string&apos;</span>) {\n    <span class=\"hljs-keyword\">return</span>\n  }\n  <span class=\"hljs-keyword\">var</span> assets = options[type];\n  <span class=\"hljs-comment\">// check local registration variations first</span>\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">hasOwn</span>(assets, id)) { <span class=\"hljs-keyword\">return</span> assets[id] }\n  <span class=\"hljs-keyword\">var</span> camelizedId = <span class=\"hljs-title function_\">camelize</span>(id);\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">hasOwn</span>(assets, camelizedId)) { <span class=\"hljs-keyword\">return</span> assets[camelizedId] }\n  <span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">PascalCaseId</span> = <span class=\"hljs-title function_\">capitalize</span>(camelizedId);\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">hasOwn</span>(assets, <span class=\"hljs-title class_\">PascalCaseId</span>)) { <span class=\"hljs-keyword\">return</span> assets[<span class=\"hljs-title class_\">PascalCaseId</span>] }\n  <span class=\"hljs-comment\">// fallback to prototype chain</span>\n  <span class=\"hljs-keyword\">var</span> res = assets[id] || assets[camelizedId] || assets[<span class=\"hljs-title class_\">PascalCaseId</span>];\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-string\">&quot;development&quot;</span> !== <span class=\"hljs-string\">&apos;production&apos;</span> &amp;&amp; warnMissing &amp;&amp; !res) {\n    <span class=\"hljs-title function_\">warn</span>(\n      <span class=\"hljs-string\">&apos;Failed to resolve &apos;</span> + type.<span class=\"hljs-title function_\">slice</span>(<span class=\"hljs-number\">0</span>, -<span class=\"hljs-number\">1</span>) + <span class=\"hljs-string\">&apos;: &apos;</span> + id,\n      options\n    );\n  }\n  <span class=\"hljs-keyword\">return</span> res\n}\n\n<span class=\"hljs-comment\">/*  */</span>\n<span class=\"hljs-comment\">// &#x68c0;&#x67e5;&#x662f;&#x5426;&#x662f;&#x5408;&#x6cd5;&#x7684;prop&#x53c2;&#x6570;</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">validateProp</span> (<span class=\"hljs-params\">\n  key,\n  propOptions,\n  propsData,\n  vm\n</span>) {\n  <span class=\"hljs-keyword\">var</span> prop = propOptions[key];\n  <span class=\"hljs-keyword\">var</span> absent = !<span class=\"hljs-title function_\">hasOwn</span>(propsData, key);\n  <span class=\"hljs-keyword\">var</span> value = propsData[key];\n  <span class=\"hljs-comment\">// boolean casting</span>\n  <span class=\"hljs-keyword\">var</span> booleanIndex = <span class=\"hljs-title function_\">getTypeIndex</span>(<span class=\"hljs-title class_\">Boolean</span>, prop.<span class=\"hljs-property\">type</span>);\n  <span class=\"hljs-keyword\">if</span> (booleanIndex &gt; -<span class=\"hljs-number\">1</span>) {\n    <span class=\"hljs-keyword\">if</span> (absent &amp;&amp; !<span class=\"hljs-title function_\">hasOwn</span>(prop, <span class=\"hljs-string\">&apos;default&apos;</span>)) {\n      value = <span class=\"hljs-literal\">false</span>;\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (value === <span class=\"hljs-string\">&apos;&apos;</span> || value === <span class=\"hljs-title function_\">hyphenate</span>(key)) {\n      <span class=\"hljs-comment\">// only cast empty string / same name to boolean if</span>\n      <span class=\"hljs-comment\">// boolean has higher priority</span>\n      <span class=\"hljs-keyword\">var</span> stringIndex = <span class=\"hljs-title function_\">getTypeIndex</span>(<span class=\"hljs-title class_\">String</span>, prop.<span class=\"hljs-property\">type</span>);\n      <span class=\"hljs-keyword\">if</span> (stringIndex &lt; <span class=\"hljs-number\">0</span> || booleanIndex &lt; stringIndex) {\n        value = <span class=\"hljs-literal\">true</span>;\n      }\n    }\n  }\n  <span class=\"hljs-comment\">// check default value</span>\n  <span class=\"hljs-keyword\">if</span> (value === <span class=\"hljs-literal\">undefined</span>) {\n    value = <span class=\"hljs-title function_\">getPropDefaultValue</span>(vm, prop, key);\n    <span class=\"hljs-comment\">// since the default value is a fresh copy,</span>\n    <span class=\"hljs-comment\">// make sure to observe it.</span>\n    <span class=\"hljs-keyword\">var</span> prevShouldObserve = shouldObserve;\n    <span class=\"hljs-title function_\">toggleObserving</span>(<span class=\"hljs-literal\">true</span>);\n    <span class=\"hljs-title function_\">observe</span>(value);\n    <span class=\"hljs-title function_\">toggleObserving</span>(prevShouldObserve);\n  }\n  {\n    <span class=\"hljs-title function_\">assertProp</span>(prop, key, value, vm, absent);\n  }\n  <span class=\"hljs-keyword\">return</span> value\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"6,959"}}],"payload":{"tag":"h3","lines":"0,1"}},{})</script>
</body>
</html>
