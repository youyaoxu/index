<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x5b66;&#x4e60;MongoDB4&#x8fd9;&#x4e00;&#x7bc7;&#x5c31;&#x591f;&#x4e86;","children":[{"content":"&#x7b2c;&#x4e00;&#x7ae0; <a href=\"https://so.csdn.net/so/search?q=MongoDB&amp;spm=1001.2101.3001.7020\">MongoDB</a>&#x6982;&#x8ff0;","children":[{"content":"1.1&#x3001;MongoDB&#x6982;&#x8ff0;","children":[{"content":"<pre data-lines=\"7,10\"><code>MongoDB&#x662f;&#x7531;C++&#x8bed;&#x8a00;&#x7f16;&#x5199;&#x7684;&#x57fa;&#x4e8e;&#x5206;&#x5e03;&#x5f0f;&#x6587;&#x4ef6;&#x5b58;&#x50a8;&#x7684;&#x5f00;&#x6e90;&#x6570;&#x636e;&#x5e93;&#x7cfb;&#x7edf;&#xff0c;&#x65e8;&#x5728;&#x4e3a;WEB&#x5e94;&#x7528;&#x63d0;&#x4f9b;&#x53ef;&#x6269;&#x5c55;&#x7684;&#x9ad8;&#x6027;&#x80fd;&#x6570;&#x636e;&#x5b58;&#x50a8;&#x89e3;&#x51b3;&#x65b9;&#x6848;&#x3002;\n\nMongoDB&#x662f;&#x4e00;&#x4e2a;&#x4ecb;&#x4e8e;&#x5173;&#x7cfb;&#x6570;&#x636e;&#x5e93;&#x548c;&#x975e;&#x5173;&#x7cfb;&#x6570;&#x636e;&#x5e93;&#x4e4b;&#x95f4;&#x7684;&#x4ea7;&#x54c1;&#xff0c;&#x662f;&#x975e;&#x5173;&#x7cfb;&#x6570;&#x636e;&#x5e93;&#x5f53;&#x4e2d;&#x529f;&#x80fd;&#x6700;&#x4e30;&#x5bcc;&#xff0c;&#x6700;&#x50cf;&#x5173;&#x7cfb;&#x6570;&#x636e;&#x5e93;&#x7684;&#x3002;&#x5b83;&#x652f;&#x6301;&#x7684;&#x6570;&#x636e;&#x7ed3;&#x6784;&#x975e;&#x5e38;&#x677e;&#x6563;&#xff0c;&#x662f;&#x7c7b;&#x4f3c;json&#x7684;bson&#x683c;&#x5f0f;&#xff0c;&#x56e0;&#x6b64;&#x53ef;&#x4ee5;&#x5b58;&#x50a8;&#x6bd4;&#x8f83;&#x590d;&#x6742;&#x7684;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x3002;MongoDB&#x6700;&#x5927;&#x7684;&#x7279;&#x70b9;&#x662f;&#x5b83;&#x652f;&#x6301;&#x7684;&#x67e5;&#x8be2;&#x8bed;&#x8a00;&#x975e;&#x5e38;&#x5f3a;&#x5927;&#xff0c;&#x5176;&#x8bed;&#x6cd5;&#x6709;&#x70b9;&#x7c7b;&#x4f3c;&#x4e8e;&#x9762;&#x5411;&#x5bf9;&#x8c61;&#x7684;&#x67e5;&#x8be2;&#x8bed;&#x8a00;&#xff0c;&#x51e0;&#x4e4e;&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#x7c7b;&#x4f3c;&#x5173;&#x7cfb;&#x6570;&#x636e;&#x5e93;&#x5355;&#x8868;&#x67e5;&#x8be2;&#x7684;&#x7edd;&#x5927;&#x90e8;&#x5206;&#x529f;&#x80fd;&#xff0c;&#x800c;&#x4e14;&#x8fd8;&#x652f;&#x6301;&#x5bf9;&#x6570;&#x636e;&#x5efa;&#x7acb;&#x7d22;&#x5f15;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"7,10"}}],"payload":{"tag":"h3","lines":"5,6"}},{"content":"1.2&#x3001;MongoDB&#x7279;&#x70b9;","children":[{"content":"1. &#x9ad8;&#x6027;&#x80fd;&#xff1a;MongoDB&#x63d0;&#x4f9b;&#x9ad8;&#x6027;&#x80fd;&#x7684;&#x6570;&#x636e;&#x6301;&#x4e45;&#x6027;&#xff0c;&#x7279;&#x522b;&#x662f;&#x5bf9;&#x5d4c;&#x5165;&#x5f0f;&#x6570;&#x636e;&#x6a21;&#x578b;&#x7684;&#x652f;&#x6301;&#x51cf;&#x5c11;&#x4e86;&#x6570;&#x636e;&#x5e93;&#x7cfb;&#x7edf;&#x4e0a;&#x7684;I/O&#x6d3b;&#x52a8;&#x3002;","children":[],"payload":{"tag":"li","lines":"13,14","listIndex":1}},{"content":"2. &#x9ad8;&#x53ef;&#x7528;&#x6027;&#xff1a;MongoDB&#x7684;&#x590d;&#x5236;&#x5de5;&#x5177;&#x79f0;&#x4e3a;&#x526f;&#x672c;&#x96c6;(replica set)&#xff0c;&#x5b83;&#x53ef;&#x63d0;&#x4f9b;&#x81ea;&#x52a8;&#x6545;&#x969c;&#x8f6c;&#x79fb;&#x548c;&#x6570;&#x636e;&#x5197;&#x4f59;&#x3002;","children":[],"payload":{"tag":"li","lines":"14,15","listIndex":2}},{"content":"3. &#x9ad8;&#x6269;&#x5c55;&#x6027;&#xff1a;MongoDB&#x63d0;&#x4f9b;&#x4e86;&#x6c34;&#x5e73;&#x53ef;&#x6269;&#x5c55;&#x6027;&#x4f5c;&#x4e3a;&#x5176;&#x6838;&#x5fc3;&#x529f;&#x80fd;&#x7684;&#x4e00;&#x90e8;&#x5206;&#x3002;","children":[],"payload":{"tag":"li","lines":"15,16","listIndex":3}},{"content":"4. &#x67e5;&#x8be2;&#x4e30;&#x5bcc;&#xff1a;MongoDB&#x652f;&#x6301;&#x4e30;&#x5bcc;&#x7684;&#x67e5;&#x8be2;&#x8bed;&#x8a00;&#xff0c;&#x652f;&#x6301;&#x8bfb;&#x548c;&#x5199;&#x64cd;&#x4f5c;(CRUD)&#xff0c;&#x6bd4;&#x5982;&#x6570;&#x636e;&#x805a;&#x5408;&#x3001;&#x6587;&#x672c;&#x641c;&#x7d22;&#x548c;&#x5730;&#x7406;&#x7a7a;&#x95f4;&#x67e5;&#x8be2;&#x7b49;&#x3002;","children":[],"payload":{"tag":"li","lines":"16,17","listIndex":4}},{"content":"5. &#x5176;&#x4ed6;&#x7279;&#x70b9;&#xff1a;&#x5982;&#x65e0;&#x6a21;&#x5f0f;(&#x52a8;&#x6001;&#x6a21;&#x5f0f;)&#x3001;&#x7075;&#x6d3b;&#x7684;&#x6587;&#x6863;&#x6a21;&#x578b;&#x7b49;&#x3002;","children":[],"payload":{"tag":"li","lines":"17,19","listIndex":5}}],"payload":{"tag":"h3","lines":"11,12"}},{"content":"1.3&#x3001;MongoDB<a href=\"https://so.csdn.net/so/search?q=%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84&amp;spm=1001.2101.3001.7020\">&#x4f53;&#x7cfb;&#x7ed3;&#x6784;</a>","children":[{"content":"<pre data-lines=\"21,22\"><code>MySQL&#x4e0e;MongoDB&#x4f53;&#x7cfb;&#x7ed3;&#x6784;&#x5bf9;&#x6bd4;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"21,22"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjAxMTE0MDgucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"23,24"}},{"content":"<pre data-lines=\"25,26\"><code>SQL&#x4e0e;MongoDB&#x672f;&#x8bed;/&#x6982;&#x5ff5;&#x5bf9;&#x6bd4;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"25,26"}},{"content":"<table data-lines=\"27,36\">\n<thead data-lines=\"27,28\">\n<tr data-lines=\"27,28\">\n<th>SQL&#x672f;&#x8bed;/&#x6982;&#x5ff5;</th>\n<th>MongoDB&#x672f;&#x8bed;/&#x6982;&#x5ff5;</th>\n<th>SQL&#x89e3;&#x91ca;/MongoDB&#x89e3;&#x91ca;</th>\n</tr>\n</thead>\n<tbody data-lines=\"29,36\">\n<tr data-lines=\"29,30\">\n<td>database</td>\n<td>database</td>\n<td>&#x6570;&#x636e;&#x5e93;/&#x6570;&#x636e;&#x5e93;</td>\n</tr>\n<tr data-lines=\"30,31\">\n<td>table</td>\n<td>collection</td>\n<td>&#x6570;&#x636e;&#x5e93;&#x8868;/&#x96c6;&#x5408;</td>\n</tr>\n<tr data-lines=\"31,32\">\n<td>row</td>\n<td>document</td>\n<td>&#x6570;&#x636e;&#x8bb0;&#x5f55;&#x884c;/&#x6587;&#x6863;</td>\n</tr>\n<tr data-lines=\"32,33\">\n<td>column</td>\n<td>field</td>\n<td>&#x6570;&#x636e;&#x5b57;&#x6bb5;/&#x57df;</td>\n</tr>\n<tr data-lines=\"33,34\">\n<td>index</td>\n<td>index</td>\n<td>&#x7d22;&#x5f15;/&#x7d22;&#x5f15;</td>\n</tr>\n<tr data-lines=\"34,35\">\n<td>table joins</td>\n<td></td>\n<td>&#x8868;&#x8fde;&#x63a5;/MongoDB&#x4e0d;&#x652f;&#x6301;&#x8868;&#x8fde;&#x63a5;&#x67e5;&#x8be2;</td>\n</tr>\n<tr data-lines=\"35,36\">\n<td>primary key</td>\n<td>primary key</td>\n<td>&#x4e3b;&#x952e;/MongoDB&#x81ea;&#x52a8;&#x5c06;_id&#x5b57;&#x6bb5;&#x8bbe;&#x7f6e;&#x4e3a;&#x4e3b;&#x952e;</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"27,36"}}],"payload":{"tag":"h3","lines":"19,20"}},{"content":"1.4&#x3001;MongoDB&#x6570;&#x636e;&#x6a21;&#x578b;","children":[{"content":"<pre data-lines=\"39,43\"><code>MongoDB&#x7684;&#x5c0f;&#x5b58;&#x50a8;&#x5355;&#x4f4d;&#x5c31;&#x662f;&#x6587;&#x6863;(document)&#x5bf9;&#x8c61;&#xff0c;&#x6570;&#x636e;&#x5728;MongoDB&#x4e2d;&#x4ee5;BSON(Binary-JSON)&#x6587;&#x6863;&#x7684;&#x683c;&#x5f0f;&#x5b58;&#x50a8;&#x5728;&#x78c1;&#x76d8;&#x4e0a;&#x3002;\n\nBSON(Binary Serialized Document Format)&#x662f;&#x4e00;&#x79cd;&#x7c7b;JSON&#x7684;&#x4e00;&#x79cd;&#x4e8c;&#x8fdb;&#x5236;&#x5f62;&#x5f0f;&#x7684;&#x5b58;&#x50a8;&#x683c;&#x5f0f;&#xff0c;&#x7b80;&#x79f0;Binary JSON&#x3002;BSON&#x548c;JSON&#x4e00;&#x6837;&#xff0c;&#x652f;&#x6301;&#x5185;&#x5d4c;&#x7684;&#x6587;&#x6863;&#x5bf9;&#x8c61;&#x548c;&#x6570;&#x7ec4;&#x5bf9;&#x8c61;&#xff0c;&#x4f46;&#x662f;BSON&#x6709;JSON&#x6ca1;&#x6709;&#x7684;&#x4e00;&#x4e9b;&#x6570;&#x636e;&#x7c7b;&#x578b;&#xff0c;&#x5982;Date&#x548c;BinData&#x7c7b;&#x578b;&#x3002;BSON&#x91c7;&#x7528;&#x4e86;&#x7c7b;&#x4f3c;&#x4e8e;C&#x8bed;&#x8a00;&#x7ed3;&#x6784;&#x4f53;&#x7684;&#x540d;&#x79f0;&#x3001;&#x5bf9;&#x8868;&#x793a;&#x65b9;&#x6cd5;&#xff0c;&#x652f;&#x6301;&#x5185;&#x5d4c;&#x7684;&#x6587;&#x6863;&#x5bf9;&#x8c61;&#x548c;&#x6570;&#x7ec4;&#x5bf9;&#x8c61;&#xff0c;&#x5177;&#x6709;&#x8f7b;&#x91cf;&#x6027;&#x3001;&#x53ef;&#x904d;&#x5386;&#x6027;&#x3001;&#x9ad8;&#x6548;&#x6027;&#x7684;&#x4e09;&#x4e2a;&#x7279;&#x70b9;&#xff0c;&#x53ef;&#x4ee5;&#x6709;&#x6548;&#x63cf;&#x8ff0;&#x975e;&#x7ed3;&#x6784;&#x5316;&#x6570;&#x636e;&#x548c;&#x7ed3;&#x6784;&#x5316;&#x6570;&#x636e;&#x3002;&#x8fd9;&#x79cd;&#x683c;&#x5f0f;&#x7684;&#x4f18;&#x70b9;&#x662f;&#x7075;&#x6d3b;&#x6027;&#x9ad8;&#xff0c;&#x4f46;&#x5b83;&#x7684;&#x7f3a;&#x70b9;&#x662f;&#x7a7a;&#x95f4;&#x5229;&#x7528;&#x7387;&#x4e0d;&#x662f;&#x5f88;&#x7406;&#x60f3;&#x3002;  \nBSON&#x4e2d;&#xff0c;&#x9664;&#x4e86;&#x57fa;&#x672c;&#x7684;JSON&#x7c7b;&#x578b;&#xff1a;string,integer,boolean,double,null,array&#x548c;object&#xff0c;&#x5b83;&#x8fd8;&#x4f7f;&#x7528;&#x4e86;&#x7279;&#x6b8a;&#x7684;&#x6570;&#x636e;&#x7c7b;&#x578b;&#xff0c;&#x5305;&#x62ec; date,object id,binary data,regular expression&#x548c;code&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"39,43"}},{"content":"<table data-lines=\"44,61\">\n<thead data-lines=\"44,45\">\n<tr data-lines=\"44,45\">\n<th>&#x6570;&#x636e;&#x7c7b;&#x578b;</th>\n<th>&#x63cf;&#x8ff0;</th>\n</tr>\n</thead>\n<tbody data-lines=\"46,61\">\n<tr data-lines=\"46,47\">\n<td>String</td>\n<td>&#x5b57;&#x7b26;&#x4e32;&#x3002;&#x5b58;&#x50a8;&#x6570;&#x636e;&#x5e38;&#x7528;&#x7684;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x3002;&#x5728; MongoDB &#x4e2d;&#xff0c;UTF-8 &#x7f16;&#x7801;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#x624d;&#x662f;&#x5408;&#x6cd5;&#x7684;&#x3002;</td>\n</tr>\n<tr data-lines=\"47,48\">\n<td>Integer</td>\n<td>&#x6574;&#x578b;&#x6570;&#x503c;&#x3002;&#x7528;&#x4e8e;&#x5b58;&#x50a8;&#x6570;&#x503c;&#x3002;&#x6839;&#x636e;&#x4f60;&#x6240;&#x91c7;&#x7528;&#x7684;&#x670d;&#x52a1;&#x5668;&#xff0c;&#x53ef;&#x5206;&#x4e3a; 32 &#x4f4d;&#x6216; 64 &#x4f4d;&#x3002;</td>\n</tr>\n<tr data-lines=\"48,49\">\n<td>Boolean</td>\n<td>&#x5e03;&#x5c14;&#x503c;&#x3002;&#x7528;&#x4e8e;&#x5b58;&#x50a8;&#x5e03;&#x5c14;&#x503c;&#xff08;&#x771f;/&#x5047;&#xff09;&#x3002;</td>\n</tr>\n<tr data-lines=\"49,50\">\n<td>Double</td>\n<td>&#x53cc;&#x7cbe;&#x5ea6;&#x6d6e;&#x70b9;&#x503c;&#x3002;&#x7528;&#x4e8e;&#x5b58;&#x50a8;&#x6d6e;&#x70b9;&#x503c;&#x3002;</td>\n</tr>\n<tr data-lines=\"50,51\">\n<td>Min/Max keys</td>\n<td>&#x5c06;&#x4e00;&#x4e2a;&#x503c;&#x4e0e; BSON&#x5143;&#x7d20;&#x7684;&#x6700;&#x4f4e;&#x503c;&#x548c;&#x6700;&#x9ad8;&#x503c;&#x76f8;&#x5bf9;&#x6bd4;&#x3002;</td>\n</tr>\n<tr data-lines=\"51,52\">\n<td>Array</td>\n<td>&#x7528;&#x4e8e;&#x5c06;&#x6570;&#x7ec4;&#x6216;&#x5217;&#x8868;&#x6216;&#x591a;&#x4e2a;&#x503c;&#x5b58;&#x50a8;&#x4e3a;&#x4e00;&#x4e2a;&#x952e;&#x3002;</td>\n</tr>\n<tr data-lines=\"52,53\">\n<td>Timestamp</td>\n<td>&#x65f6;&#x95f4;&#x6233;&#x3002;&#x8bb0;&#x5f55;&#x6587;&#x6863;&#x4fee;&#x6539;&#x6216;&#x6dfb;&#x52a0;&#x7684;&#x5177;&#x4f53;&#x65f6;&#x95f4;&#x3002;</td>\n</tr>\n<tr data-lines=\"53,54\">\n<td>Object</td>\n<td>&#x7528;&#x4e8e;&#x5185;&#x5d4c;&#x6587;&#x6863;&#x3002;</td>\n</tr>\n<tr data-lines=\"54,55\">\n<td>Null</td>\n<td>&#x7528;&#x4e8e;&#x521b;&#x5efa;&#x7a7a;&#x503c;&#x3002;</td>\n</tr>\n<tr data-lines=\"55,56\">\n<td>Symbol</td>\n<td>&#x7b26;&#x53f7;&#x3002;&#x8be5;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x57fa;&#x672c;&#x4e0a;&#x7b49;&#x540c;&#x4e8e;&#x5b57;&#x7b26;&#x4e32;&#x7c7b;&#x578b;&#xff0c;&#x4f46;&#x4e0d;&#x540c;&#x7684;&#x662f;&#xff0c;&#x5b83;&#x4e00;&#x822c;&#x7528;&#x4e8e;&#x91c7;&#x7528;&#x7279;&#x6b8a;&#x7b26;&#x53f7;&#x7c7b;&#x578b;&#x7684;&#x8bed;&#x8a00;&#x3002;</td>\n</tr>\n<tr data-lines=\"56,57\">\n<td>Date</td>\n<td>&#x65e5;&#x671f;&#x65f6;&#x95f4;&#x3002;&#x7528; UNIX &#x65f6;&#x95f4;&#x683c;&#x5f0f;&#x6765;&#x5b58;&#x50a8;&#x5f53;&#x524d;&#x65e5;&#x671f;&#x6216;&#x65f6;&#x95f4;&#x3002;&#x4f60;&#x53ef;&#x4ee5;&#x6307;&#x5b9a;&#x81ea;&#x5df1;&#x7684;&#x65e5;&#x671f;&#x65f6;&#x95f4;&#xff1a;&#x521b;&#x5efa; Date &#x5bf9;&#x8c61;&#xff0c;&#x4f20;&#x5165;&#x5e74;&#x6708;&#x65e5;&#x4fe1;&#x606f;&#x3002;</td>\n</tr>\n<tr data-lines=\"57,58\">\n<td>Object ID</td>\n<td>&#x5bf9;&#x8c61; ID&#x3002;&#x7528;&#x4e8e;&#x521b;&#x5efa;&#x6587;&#x6863;&#x7684; ID&#x3002;</td>\n</tr>\n<tr data-lines=\"58,59\">\n<td>Binary Data</td>\n<td>&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x3002;&#x7528;&#x4e8e;&#x5b58;&#x50a8;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x3002;</td>\n</tr>\n<tr data-lines=\"59,60\">\n<td>Code</td>\n<td>&#x4ee3;&#x7801;&#x7c7b;&#x578b;&#x3002;&#x7528;&#x4e8e;&#x5728;&#x6587;&#x6863;&#x4e2d;&#x5b58;&#x50a8; JavaScript &#x4ee3;&#x7801;&#x3002;</td>\n</tr>\n<tr data-lines=\"60,61\">\n<td>Regular expression</td>\n<td>&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#x7c7b;&#x578b;&#x3002;&#x7528;&#x4e8e;&#x5b58;&#x50a8;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#x3002;</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"44,61"}}],"payload":{"tag":"h3","lines":"37,38"}}],"payload":{"tag":"h2","lines":"2,4"}},{"content":"&#x7b2c;&#x4e8c;&#x7ae0; MongoDB&#x5355;&#x673a;&#x90e8;&#x7f72;","children":[{"content":"<pre data-lines=\"67,68\"><code>&#x5b98;&#x65b9;&#x7f51;&#x5740;&#xff1a;[mongodb community](https://www.mongodb.com/try/download/community) &#xff0c;&#x7531;&#x4e8e;&#x7f51;&#x7edc;&#x4e0b;&#x8f7d;&#x8f83;&#x6162;&#xff0c;&#x6211;&#x5df2;&#x7ecf;&#x5c06;&#x6240;&#x9700;&#x8981;&#x7684;&#x8d44;&#x6e90;&#x6253;&#x5305;&#x653e;&#x5230;&#x4e86;&#x914d;&#x5957;&#x8d44;&#x6599;&#x4e2d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"67,68"}},{"content":"2.1&#x3001;Windows&#x4e0b;&#x5355;&#x673a;&#x90e8;&#x7f72;","children":[{"content":"<pre data-lines=\"71,72\"><code>**&#x7b2c;&#x4e00;&#x6b65;&#xff1a;&#x89e3;&#x538b;&#x8d44;&#x6e90;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"71,72"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjAxMTQxMDQucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"73,74"}},{"content":"<pre data-lines=\"75,78\"><code>**&#x7b2c;&#x4e8c;&#x6b65;&#xff1a;&#x521b;&#x5efa;&#x76ee;&#x5f55;**\n\n&#x9700;&#x8981;&#x521b;&#x5efa;&#x4e00;&#x4e2a;data&#x76ee;&#x5f55;&#xff0c;&#x5728;data&#x76ee;&#x5f55;&#x4e2d;&#x5728;&#x521b;&#x5efa;&#x4e00;&#x4e2a;db&#x76ee;&#x5f55;&#xff0c;db&#x76ee;&#x5f55;&#x7528;&#x4e8e;&#x5b58;&#x653e;&#x6570;&#x636e;&#x5e93;&#x6570;&#x636e;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"75,78"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjAxMTQyNDIucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"79,80"}},{"content":"<pre data-lines=\"81,82\"><code>&#x5728;&#x521b;&#x5efa;&#x4e00;&#x4e2a;log&#x76ee;&#x5f55;&#x7528;&#x4e8e;&#x5b58;&#x653e;MongoDB&#x7684;&#x65e5;&#x5fd7;&#x6587;&#x4ef6;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"81,82"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjAxMTQ1NDMucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"83,84"}},{"content":"<pre data-lines=\"85,86\"><code>&#x5728;&#x521b;&#x5efa;&#x4e00;&#x4e2a;config&#x76ee;&#x5f55;&#x7528;&#x4e8e;&#x5b58;&#x653e;MongoDB&#x7684;&#x542f;&#x52a8;&#x914d;&#x7f6e;&#x4fe1;&#x606f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"85,86"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjAxMTQ2MzYucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"87,88"}},{"content":"<pre data-lines=\"89,90\"><code>&#x5728;config&#x76ee;&#x5f55;&#x4e2d;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x6587;&#x672c;&#x6587;&#x4ef6;&#xff0c;&#x540d;&#x5b57;&#x53eb;mongod.conf&#xff0c;&#x628a;&#x4ee5;&#x4e0b;&#x914d;&#x7f6e;&#x4fe1;&#x606f;&#x590d;&#x5236;&#x8fdb;&#x53bb;&#x5373;&#x53ef;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"89,90"}},{"content":"<pre data-lines=\"91,107\"><code class=\"language-yaml\"><span class=\"hljs-attr\">systemLog:</span>\n   <span class=\"hljs-attr\">destination:</span> <span class=\"hljs-string\">file</span>\n   \n   <span class=\"hljs-attr\">path:</span> <span class=\"hljs-string\">&quot;C:/DevTools/mongodb-win32-x86_64-2008plus-ssl-4.0.12/log/mongod.log&quot;</span>\n   <span class=\"hljs-attr\">logAppend:</span> <span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attr\">net:</span>\n   <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">27017</span>\n   <span class=\"hljs-attr\">bindIp:</span> <span class=\"hljs-string\">&quot;127.0.0.1&quot;</span>\n<span class=\"hljs-attr\">storage:</span>\n   \n   <span class=\"hljs-attr\">dbPath:</span> <span class=\"hljs-string\">&quot;C:/DevTools/mongodb-win32-x86_64-2008plus-ssl-4.0.12/data/db&quot;</span>\n   <span class=\"hljs-attr\">journal:</span>\n      <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">true</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"91,107"}},{"content":"<pre data-lines=\"108,111\"><code>**&#x7b2c;&#x4e09;&#x6b65;&#xff1a;&#x542f;&#x52a8;&#x670d;&#x52a1;**\n\n&#x8fdb;&#x5165;bin&#x76ee;&#x5f55;&#xff0c;&#x5728;&#x5730;&#x5740;&#x680f;&#x8f93;&#x5165;cmd&#xff0c;&#x7136;&#x540e;&#x56de;&#x8f66;&#xff0c;&#x8f93;&#x5165;&#x4ee5;&#x4e0b;&#x547d;&#x4ee4;&#x542f;&#x52a8;MongoDB&#x670d;&#x52a1;&#x7aef;&#xff0c;mongod --config &#x2026;/config/mongod.conf\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"108,111"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjAxMjA1MDUucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"112,113"}},{"content":"<pre data-lines=\"114,117\"><code>**&#x7b2c;&#x56db;&#x6b65;&#xff1a;&#x547d;&#x4ee4;&#x884c;&#x8fde;&#x63a5;**\n\n&#x8fdb;&#x5165;bin&#x76ee;&#x5f55;&#xff0c;&#x5728;&#x5730;&#x5740;&#x680f;&#x8f93;&#x5165;cmd&#xff0c;&#x7136;&#x540e;&#x56de;&#x8f66;&#xff0c;&#x8f93;&#x5165;&#x4ee5;&#x4e0b;&#x547d;&#x4ee4;&#x542f;&#x52a8;MongoDB&#x5ba2;&#x6237;&#x7aef;&#xff0c;mongo --host=127.0.0.1 --port=27017\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"114,117"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjAxMjA3MzAucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"118,119"}},{"content":"<pre data-lines=\"120,123\"><code>**&#x7b2c;&#x4e94;&#x6b65;&#xff1a;&#x56fe;&#x5f62;&#x5316;&#x8fde;&#x63a5;**\n\n&#x76f4;&#x63a5;&#x89e3;&#x538b;mongodb-compass-community-1.16.4-win32-x64.zip&#xff0c;&#x6253;&#x5f00;MongoDBCompassCommunity.exe\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"120,123"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjAxMjQ4NDkucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"124,125"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjAxMjQ5MTQucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"126,127"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjAxNzQ2MDYucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"128,129"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjAxNzQ2MzEucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"130,131"}}],"payload":{"tag":"h3","lines":"69,70"}},{"content":"2.2&#x3001;Linux&#x4e0b;&#x5355;&#x673a;&#x90e8;&#x7f72;","children":[{"content":"<pre data-lines=\"134,135\"><code>**&#x7b2c;&#x4e00;&#x6b65;&#xff1a;&#x89e3;&#x538b;&#x8d44;&#x6e90;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"134,135"}},{"content":"<pre data-lines=\"136,142\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"136,142"}},{"content":"<pre data-lines=\"143,144\"><code>**&#x7b2c;&#x4e8c;&#x6b65;&#xff1a;&#x521b;&#x5efa;&#x76ee;&#x5f55;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"143,144"}},{"content":"<pre data-lines=\"145,151\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"145,151"}},{"content":"<pre data-lines=\"152,153\"><code>**&#x7b2c;&#x4e09;&#x6b65;&#xff1a;&#x7f16;&#x8f91;&#x914d;&#x7f6e;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"152,153"}},{"content":"<pre data-lines=\"154,158\"><code class=\"language-shell\">[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"154,158"}},{"content":"<pre data-lines=\"159,180\"><code class=\"language-yaml\"><span class=\"hljs-attr\">systemLog:</span>\n   <span class=\"hljs-attr\">destination:</span> <span class=\"hljs-string\">file</span>\n   \n   <span class=\"hljs-attr\">path:</span> <span class=\"hljs-string\">&quot;/usr/local/mongodb/log/mongod.log&quot;</span>\n   <span class=\"hljs-attr\">logAppend:</span> <span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attr\">net:</span>\n   \n   <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">27017</span>\n   \n   <span class=\"hljs-attr\">bindIp:</span> <span class=\"hljs-string\">&quot;192.168.206.128&quot;</span>\n<span class=\"hljs-attr\">storage:</span>\n   \n   <span class=\"hljs-attr\">dbPath:</span> <span class=\"hljs-string\">&quot;/usr/local/mongodb/data/db&quot;</span>\n   <span class=\"hljs-attr\">journal:</span>\n      <span class=\"hljs-attr\">enabled:</span> <span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attr\">processManagement:</span>\n   \n   <span class=\"hljs-attr\">fork:</span> <span class=\"hljs-literal\">true</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"159,180"}},{"content":"<pre data-lines=\"181,182\"><code>**&#x7b2c;&#x56db;&#x6b65;&#xff1a;&#x542f;&#x52a8;&#x670d;&#x52a1;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"181,182"}},{"content":"<pre data-lines=\"183,190\"><code class=\"language-shell\">[root@caochenlei ~]\nabout to fork child process, waiting until server is ready for connections.\nforked process: 27369\nchild process started successfully, parent exiting\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"183,190"}},{"content":"<pre data-lines=\"191,192\"><code>**&#x7b2c;&#x4e94;&#x6b65;&#xff1a;&#x547d;&#x4ee4;&#x884c;&#x8fde;&#x63a5;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"191,192"}},{"content":"<pre data-lines=\"193,197\"><code class=\"language-shell\">[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"193,197"}},{"content":"<pre data-lines=\"198,199\"><code>**&#x7b2c;&#x516d;&#x6b65;&#xff1a;&#x5173;&#x95ed;&#x9632;&#x706b;&#x5899;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"198,199"}},{"content":"<pre data-lines=\"200,205\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"200,205"}},{"content":"<pre data-lines=\"206,207\"><code>**&#x7b2c;&#x516d;&#x6b65;&#xff1a;&#x56fe;&#x5f62;&#x5316;&#x8fde;&#x63a5;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"206,207"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjAyMjE0NDgucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"208,209"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjAyMjE1MTAucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"210,211"}}],"payload":{"tag":"h3","lines":"132,133"}}],"payload":{"tag":"h2","lines":"62,64"}},{"content":"&#x7b2c;&#x4e09;&#x7ae0; MongoDB&#x57fa;&#x672c;&#x8bed;&#x6cd5;","children":[{"content":"3.1&#x3001;&#x521b;&#x5efa;&#x6570;&#x636e;&#x5e93;","children":[{"content":"<pre data-lines=\"217,218\"><code>&#x5982;&#x679c;&#x6570;&#x636e;&#x5e93;&#x4e0d;&#x5b58;&#x5728;&#xff0c;&#x5219;&#x521b;&#x5efa;&#x6570;&#x636e;&#x5e93;&#xff0c;&#x5426;&#x5219;&#x5207;&#x6362;&#x5230;&#x6307;&#x5b9a;&#x6570;&#x636e;&#x5e93;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"217,218"}},{"content":"<pre data-lines=\"219,223\"><code class=\"language-shell\">use &#x6570;&#x636e;&#x5e93;&#x540d;&#x79f0;\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"219,223"}},{"content":"<pre data-lines=\"224,225\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x5728; MongoDB &#x4e2d;&#x9ed8;&#x8ba4;&#x7684;&#x6570;&#x636e;&#x5e93;&#x4e3a; test&#xff0c;&#x5982;&#x679c;&#x4f60;&#x6ca1;&#x6709;&#x521b;&#x5efa;&#x65b0;&#x7684;&#x6570;&#x636e;&#x5e93;&#xff0c;&#x96c6;&#x5408;&#x5c06;&#x5b58;&#x653e;&#x5728; test &#x6570;&#x636e;&#x5e93;&#x4e2d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"224,225"}}],"payload":{"tag":"h3","lines":"215,216"}},{"content":"3.2&#x3001;&#x67e5;&#x770b;&#x6570;&#x636e;&#x5e93;","children":[{"content":"<pre data-lines=\"228,229\"><code>**&#x67e5;&#x770b;&#x5f53;&#x524d;&#x6570;&#x636e;&#x5e93;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"228,229"}},{"content":"<pre data-lines=\"230,234\"><code class=\"language-shell\">db\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"230,234"}},{"content":"<pre data-lines=\"235,236\"><code>**&#x67e5;&#x770b;&#x6240;&#x6709;&#x6570;&#x636e;&#x5e93;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"235,236"}},{"content":"<pre data-lines=\"237,241\"><code class=\"language-shell\">show dbs\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"237,241"}},{"content":"<pre data-lines=\"242,249\"><code>&gt; &#x6ce8;&#x610f;: &#x5728; MongoDB &#x4e2d;&#xff0c;&#x6570;&#x636e;&#x5e93;&#x53ea;&#x6709;&#x5728;&#x5185;&#x5bb9;&#x63d2;&#x5165;&#x540e;&#x624d;&#x4f1a;&#x521b;&#x5efa;&#xff01;\n\n**&#x7cfb;&#x7edf;&#x4fdd;&#x7559;&#x6570;&#x636e;&#x5e93;&#xff1a;** \n\n*   admin&#xff1a;&#x4ece;&#x6743;&#x9650;&#x7684;&#x89d2;&#x5ea6;&#x6765;&#x770b;&#xff0c;&#x8fd9;&#x662f;&quot;root&quot;&#x6570;&#x636e;&#x5e93;&#xff0c;&#x8981;&#x662f;&#x5c06;&#x4e00;&#x4e2a;&#x7528;&#x6237;&#x6dfb;&#x52a0;&#x5230;&#x8fd9;&#x4e2a;&#x6570;&#x636e;&#x5e93;&#xff0c;&#x8fd9;&#x4e2a;&#x7528;&#x6237;&#x81ea;&#x52a8;&#x7ee7;&#x627f;&#x6240;&#x6709;&#x6570;&#x636e;&#x5e93;&#x7684;&#x6743;&#x9650;&#xff0c;&#x4e00;&#x4e9b;&#x7279;&#x5b9a;&#x7684;&#x670d;&#x52a1;&#x5668;&#x7aef;&#x547d;&#x4ee4;&#x4e5f;&#x53ea;&#x80fd;&#x4ece;&#x8fd9;&#x4e2a;&#x6570;&#x636e;&#x5e93;&#x8fd0;&#x884c;&#xff0c;&#x6bd4;&#x5982;&#x5217;&#x51fa;&#x6240;&#x6709;&#x7684;&#x6570;&#x636e;&#x5e93;&#x6216;&#x8005;&#x5173;&#x95ed;&#x670d;&#x52a1;&#x5668;&#x3002;\n*   local&#xff1a;&#x8fd9;&#x4e2a;&#x6570;&#x636e;&#x6c38;&#x8fdc;&#x4e0d;&#x4f1a;&#x88ab;&#x590d;&#x5236;&#xff0c;&#x53ef;&#x4ee5;&#x7528;&#x6765;&#x5b58;&#x50a8;&#x9650;&#x4e8e;&#x672c;&#x5730;&#x5355;&#x53f0;&#x670d;&#x52a1;&#x5668;&#x7684;&#x4efb;&#x610f;&#x96c6;&#x5408; &#x3002;\n*   con&#xfb01;g&#xff1a;&#x5f53;Mongo&#x7528;&#x4e8e;&#x5206;&#x7247;&#x8bbe;&#x7f6e;&#x65f6;&#xff0c;con&#xfb01;g&#x6570;&#x636e;&#x5e93;&#x5728;&#x5185;&#x90e8;&#x4f7f;&#x7528;&#xff0c;&#x7528;&#x4e8e;&#x4fdd;&#x5b58;&#x5206;&#x7247;&#x7684;&#x76f8;&#x5173;&#x4fe1;&#x606f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"242,249"}}],"payload":{"tag":"h3","lines":"226,227"}},{"content":"3.3&#x3001;&#x5220;&#x9664;&#x6570;&#x636e;&#x5e93;","children":[{"content":"<pre data-lines=\"252,256\"><code class=\"language-shell\">db.dropDatabase()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"252,256"}},{"content":"<pre data-lines=\"257,258\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x4e3b;&#x8981;&#x7528;&#x6765;&#x5220;&#x9664;&#x5df2;&#x7ecf;&#x6301;&#x4e45;&#x5316;&#x7684;&#x6570;&#x636e;&#x5e93;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"257,258"}}],"payload":{"tag":"h3","lines":"250,251"}},{"content":"3.4&#x3001;&#x521b;&#x5efa;&#x96c6;&#x5408;","children":[{"content":"<pre data-lines=\"263,267\"><code class=\"language-shell\">db.createCollection(name, options)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"263,267"}},{"content":"<pre data-lines=\"268,281\"><code>**&#x53c2;&#x6570;&#x8bf4;&#x660e;&#xff1a;** \n\n*   name&#xff1a;&#x8981;&#x521b;&#x5efa;&#x7684;&#x96c6;&#x5408;&#x540d;&#x79f0;\n*   options&#xff1a;&#x53ef;&#x9009;&#x53c2;&#x6570;&#xff0c;&#x6307;&#x5b9a;&#x6709;&#x5173;&#x5185;&#x5b58;&#x5927;&#x5c0f;&#x53ca;&#x7d22;&#x5f15;&#x7684;&#x9009;&#x9879;\n\n**&#x547d;&#x540d;&#x89c4;&#x8303;&#xff1a;** \n\n*   &#x96c6;&#x5408;&#x540d;&#x4e0d;&#x80fd;&#x662f;&#x7a7a;&#x5b57;&#x7b26;&#x4e32;&quot;&quot;&#x3002;\n*   &#x96c6;&#x5408;&#x540d;&#x4e0d;&#x80fd;&#x542b;&#x6709;\\\\0&#x5b57;&#x7b26;&#xff08;&#x7a7a;&#x5b57;&#x7b26;)&#xff0c;&#x8fd9;&#x4e2a;&#x5b57;&#x7b26;&#x8868;&#x793a;&#x96c6;&#x5408;&#x540d;&#x7684;&#x7ed3;&#x5c3e;&#x3002;\n*   &#x96c6;&#x5408;&#x540d;&#x4e0d;&#x80fd;&#x4ee5;&quot;system.&quot;&#x5f00;&#x5934;&#xff0c;&#x8fd9;&#x662f;&#x4e3a;&#x7cfb;&#x7edf;&#x96c6;&#x5408;&#x4fdd;&#x7559;&#x7684;&#x524d;&#x7f00;&#x3002;\n*   &#x96c6;&#x5408;&#x540d;&#x4e0d;&#x80fd;&#x542b;&#x6709;&#x4fdd;&#x7559;&#x5b57;&#x7b26;&#x24;&#x3002;\n\n**&#x53ef;&#x9009;&#x53c2;&#x6570;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"268,281"}},{"content":"<table data-lines=\"282,288\">\n<thead data-lines=\"282,283\">\n<tr data-lines=\"282,283\">\n<th>&#x5b57;&#x6bb5;</th>\n<th>&#x7c7b;&#x578b;</th>\n<th>&#x63cf;&#x8ff0;</th>\n</tr>\n</thead>\n<tbody data-lines=\"284,288\">\n<tr data-lines=\"284,285\">\n<td>capped</td>\n<td>&#x5e03;&#x5c14;</td>\n<td>&#xff08;&#x53ef;&#x9009;&#xff09;&#x5982;&#x679c;&#x4e3a; true&#xff0c;&#x5219;&#x521b;&#x5efa;&#x56fa;&#x5b9a;&#x96c6;&#x5408;&#x3002;&#x56fa;&#x5b9a;&#x96c6;&#x5408;&#x662f;&#x6307;&#x6709;&#x7740;&#x56fa;&#x5b9a;&#x5927;&#x5c0f;&#x7684;&#x96c6;&#x5408;&#xff0c;&#x5f53;&#x8fbe;&#x5230;&#x6700;&#x5927;&#x503c;&#x65f6;&#xff0c;&#x5b83;&#x4f1a;&#x81ea;&#x52a8;&#x8986;&#x76d6;&#x6700;&#x65e9;&#x7684;&#x6587;&#x6863;&#x3002;</td>\n</tr>\n<tr data-lines=\"285,286\">\n<td><strong>&#x5f53;&#x8be5;&#x503c;&#x4e3a; true &#x65f6;&#xff0c;&#x5fc5;&#x987b;&#x6307;&#x5b9a; size &#x53c2;&#x6570;&#x3002;</strong></td>\n<td></td>\n<td></td>\n</tr>\n<tr data-lines=\"286,287\">\n<td>size</td>\n<td>&#x6570;&#x503c;</td>\n<td>&#xff08;&#x53ef;&#x9009;&#xff09;&#x4e3a;&#x56fa;&#x5b9a;&#x96c6;&#x5408;&#x6307;&#x5b9a;&#x4e00;&#x4e2a;&#x6700;&#x5927;&#x503c;&#xff0c;&#x5373;&#x5b57;&#x8282;&#x6570;&#x3002; <strong>&#x5982;&#x679c; capped &#x4e3a; true&#xff0c;&#x4e5f;&#x9700;&#x8981;&#x6307;&#x5b9a;&#x8be5;&#x5b57;&#x6bb5;&#x3002;</strong></td>\n</tr>\n<tr data-lines=\"287,288\">\n<td>max</td>\n<td>&#x6570;&#x503c;</td>\n<td>&#xff08;&#x53ef;&#x9009;&#xff09;&#x6307;&#x5b9a;&#x56fa;&#x5b9a;&#x96c6;&#x5408;&#x4e2d;&#x5305;&#x542b;&#x6587;&#x6863;&#x7684;&#x6700;&#x5927;&#x6570;&#x91cf;&#x3002;</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"282,288"}},{"content":"<pre data-lines=\"291,292\"><code>**&#x6f14;&#x793a;&#x6848;&#x4f8b;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"291,292"}},{"content":"<pre data-lines=\"293,303\"><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">&gt; </span><span class=\"language-bash\">use articledb</span>\nswitched to db articledb\n<span class=\"hljs-meta prompt_\">&gt; </span><span class=\"language-bash\">db.createCollection(<span class=\"hljs-string\">&quot;article&quot;</span>)</span>\n{ &quot;ok&quot; : 1 }\n<span class=\"hljs-meta prompt_\">&gt; </span><span class=\"language-bash\">show collections</span>\narticle\n<span class=\"hljs-meta prompt_\">&gt;</span><span class=\"language-bash\">\n</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"293,303"}}],"payload":{"tag":"h3","lines":"259,260"}},{"content":"3.5&#x3001;&#x67e5;&#x770b;&#x96c6;&#x5408;","children":[{"content":"<pre data-lines=\"306,309\"><code>**&#x8bed;&#x6cd5;&#x683c;&#x5f0f;&#xff1a;** \n\n**&#x65b9;&#x5f0f;&#x4e00;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"306,309"}},{"content":"<pre data-lines=\"310,314\"><code class=\"language-shell\">show collections\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"310,314"}},{"content":"<pre data-lines=\"315,316\"><code>**&#x65b9;&#x5f0f;&#x4e8c;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"315,316"}},{"content":"<pre data-lines=\"317,321\"><code class=\"language-shell\">show tables\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"317,321"}}],"payload":{"tag":"h3","lines":"304,305"}},{"content":"3.6&#x3001;&#x5220;&#x9664;&#x96c6;&#x5408;","children":[{"content":"<pre data-lines=\"324,328\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.drop()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"324,328"}}],"payload":{"tag":"h3","lines":"322,323"}},{"content":"3.7&#x3001;&#x63d2;&#x5165;&#x6587;&#x6863;","children":[{"content":"<pre data-lines=\"331,334\"><code>**&#x8bed;&#x6cd5;&#x683c;&#x5f0f;&#xff1a;** \n\n**&#x65b9;&#x5f0f;&#x4e00;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"331,334"}},{"content":"<pre data-lines=\"335,339\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.insert(document)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"335,339"}},{"content":"<pre data-lines=\"340,341\"><code>**&#x65b9;&#x5f0f;&#x4e8c;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"340,341"}},{"content":"<pre data-lines=\"342,351\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.insertOne(\n   &lt;document&gt;,\n   {\n      writeConcern: &lt;document&gt;\n   }\n)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"342,351"}},{"content":"<pre data-lines=\"352,353\"><code>**&#x65b9;&#x5f0f;&#x4e09;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"352,353"}},{"content":"<pre data-lines=\"354,364\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.insertMany(\n   [ &lt;document 1&gt; , &lt;document 2&gt;, ... ],\n   {\n      writeConcern: &lt;document&gt;,\n      ordered: &lt;boolean&gt;\n   }\n)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"354,364"}},{"content":"<pre data-lines=\"365,374\"><code>**&#x53c2;&#x6570;&#x8bf4;&#x660e;&#xff1a;** \n\n*   document&#xff1a;&#x8981;&#x5199;&#x5165;&#x7684;&#x6587;&#x6863;&#x3002;\n*   writeConcern&#xff1a;&#x5199;&#x5165;&#x7b56;&#x7565;&#xff0c;&#x9ed8;&#x8ba4;&#x4e3a; 1&#xff0c;&#x5373;&#x8981;&#x6c42;&#x786e;&#x8ba4;&#x5199;&#x64cd;&#x4f5c;&#xff0c;0 &#x662f;&#x4e0d;&#x8981;&#x6c42;&#x3002;\n*   ordered&#xff1a;&#x6307;&#x5b9a;&#x662f;&#x5426;&#x6309;&#x987a;&#x5e8f;&#x5199;&#x5165;&#xff0c;&#x9ed8;&#x8ba4; true&#xff0c;&#x6309;&#x987a;&#x5e8f;&#x5199;&#x5165;&#x3002;\n\n**&#x6f14;&#x793a;&#x6848;&#x4f8b;&#xff1a;** \n\n**&#x65b9;&#x5f0f;&#x4e00;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"365,374"}},{"content":"<pre data-lines=\"375,379\"><code class=\"language-shell\">db.comment.insert({&quot;articleid&quot;:&quot;100086&quot;,&quot;content&quot;:&quot;&#x5e8a;&#x524d;&#x660e;&#x6708;&#x5149;&#xff0c;&#x7591;&#x662f;&#x5730;&#x4e0a;&#x971c;&#xff01;&quot;,&quot;userid&quot;:&quot;1006&quot;,&quot;nickname&quot;:&quot;&#x674e;&#x6653;&#x6653;&quot;,&quot;createdatetime&quot;:new Date(&quot;2019-0805T22:08:15.522Z&quot;),&quot;likenum&quot;:NumberInt(500),&quot;state&quot;:&quot;0&quot;})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"375,379"}},{"content":"<pre data-lines=\"380,381\"><code>**&#x65b9;&#x5f0f;&#x4e8c;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"380,381"}},{"content":"<pre data-lines=\"382,386\"><code class=\"language-shell\">db.comment.insertOne({&quot;articleid&quot;:&quot;100006&quot;,&quot;content&quot;:&quot;&#x76f8;&#x4fe1;&#x81ea;&#x5df1;&#xff0c;&#x4e00;&#x5b9a;&#x53ef;&#x4ee5;&#xff01;&quot;,&quot;userid&quot;:&quot;1002&quot;,&quot;nickname&quot;:&quot;&#x5f20;&#x4e09;&#x4e30;&quot;,&quot;createdatetime&quot;:new Date(&quot;2019-0805T22:08:15.522Z&quot;),&quot;likenum&quot;:NumberInt(1000),&quot;state&quot;:&quot;1&quot;})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"382,386"}},{"content":"<pre data-lines=\"387,388\"><code>**&#x65b9;&#x5f0f;&#x4e09;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"387,388"}},{"content":"<pre data-lines=\"389,393\"><code class=\"language-shell\">db.comment.insertMany([{&quot;_id&quot;:&quot;1&quot;,&quot;articleid&quot;:&quot;100001&quot;,&quot;content&quot;:&quot;&#x5065;&#x5eb7;&#x5f88;&#x91cd;&#x8981;&#xff0c;&#x4e00;&#x676f;&#x6e29;&#x6c34;&#x5e78;&#x798f;&#x4f60;&#x6211;&#x4ed6;&#x3002;&quot;,&quot;userid&quot;:&quot;1002&quot;,&quot;nickname&quot;:&quot;&#x5f20;&#x4e09;&quot;,&quot;createdatetime&quot;:new Date(&quot;2019-0805T22:08:15.522Z&quot;),&quot;likenum&quot;:NumberInt(1000),&quot;state&quot;:&quot;1&quot;}, {&quot;_id&quot;:&quot;2&quot;,&quot;articleid&quot;:&quot;100001&quot;,&quot;content&quot;:&quot;&#x6211;&#x590f;&#x5929;&#x7a7a;&#x8179;&#x559d;&#x51c9;&#x5f00;&#x6c34;&#xff0c;&#x51ac;&#x5929;&#x559d;&#x6e29;&#x5f00;&#x6c34;&quot;,&quot;userid&quot;:&quot;1005&quot;,&quot;nickname&quot;:&quot;&#x674e;&#x56db;&quot;,&quot;createdatetime&quot;:new Date(&quot;2019-08-05T23:58:51.485Z&quot;),&quot;likenum&quot;:NumberInt(888),&quot;state&quot;:&quot;1&quot;}, {&quot;_id&quot;:&quot;3&quot;,&quot;articleid&quot;:&quot;100002&quot;,&quot;content&quot;:&quot;&#x6211;&#x4e00;&#x76f4;&#x559d;&#x51c9;&#x5f00;&#x6c34;&#xff0c;&#x51ac;&#x5929;&#x590f;&#x5929;&#x90fd;&#x559d;&#x3002;&quot;,&quot;userid&quot;:&quot;1004&quot;,&quot;nickname&quot;:&quot;&#x738b;&#x4e94;&quot;,&quot;createdatetime&quot;:new Date(&quot;2019-08-06T01:05:06.321Z&quot;),&quot;likenum&quot;:NumberInt(666),&quot;state&quot;:&quot;1&quot;}, {&quot;_id&quot;:&quot;4&quot;,&quot;articleid&quot;:&quot;100003&quot;,&quot;content&quot;:&quot;&#x4e13;&#x5bb6;&#x8bf4;&#x4e0d;&#x80fd;&#x7a7a;&#x8179;&#x5403;&#x996d;&#xff0c;&#x5f71;&#x54cd;&#x5065;&#x5eb7;&#x3002;&quot;,&quot;userid&quot;:&quot;1003&quot;,&quot;nickname&quot;:&quot;&#x5f20;&#x826f;&quot;,&quot;createdatetime&quot;:new Date(&quot;2019-08-06T08:18:35.288Z&quot;),&quot;likenum&quot;:NumberInt(2000),&quot;state&quot;:&quot;1&quot;}])\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"389,393"}}],"payload":{"tag":"h3","lines":"329,330"}},{"content":"3.8&#x3001;&#x67e5;&#x8be2;&#x6587;&#x6863;","children":[{"content":"<pre data-lines=\"396,397\"><code>**&#x8bed;&#x6cd5;&#x683c;&#x5f0f;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"396,397"}},{"content":"<pre data-lines=\"398,402\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.find(query, projection)[.pretty()]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"398,402"}},{"content":"<pre data-lines=\"403,410\"><code>**&#x53c2;&#x6570;&#x8bf4;&#x660e;&#xff1a;** \n\n*   query&#xff1a;&#x53ef;&#x9009;&#xff0c;&#x4f7f;&#x7528;&#x67e5;&#x8be2;&#x64cd;&#x4f5c;&#x7b26;&#x6307;&#x5b9a;&#x67e5;&#x8be2;&#x6761;&#x4ef6;&#x3002;\n*   projection&#xff1a;&#x53ef;&#x9009;&#xff0c;&#x4f7f;&#x7528;&#x6295;&#x5f71;&#x64cd;&#x4f5c;&#x7b26;&#x6307;&#x5b9a;&#x8fd4;&#x56de;&#x7684;&#x952e;&#xff0c;&#x67e5;&#x8be2;&#x65f6;&#x8fd4;&#x56de;&#x6587;&#x6863;&#x4e2d;&#x6240;&#x6709;&#x952e;&#x503c;&#xff0c;&#x53ea;&#x9700;&#x7701;&#x7565;&#x8be5;&#x53c2;&#x6570;&#x5373;&#x53ef;&#xff08;&#x9ed8;&#x8ba4;&#x7701;&#x7565;&#xff09;&#x3002;\n*   .pretty()&#xff1a;&#x53ef;&#x9009;&#xff0c;&#x662f;&#x5426;&#x683c;&#x5f0f;&#x5316;&#x6587;&#x6863;&#xff0c;&#x8fd9;&#x662f;&#x4e00;&#x4e2a;&#x51fd;&#x6570;&#x5e76;&#x4e0d;&#x662f;&#x53c2;&#x6570;&#xff0c;&#x653e;&#x5728;&#x8fd9;&#x91cc;&#x53ea;&#x662f;&#x60f3;&#x8ba9;&#x5927;&#x5bb6;&#x77e5;&#x9053;&#x683c;&#x5f0f;&#x5316;&#x6587;&#x6863;&#x4f7f;&#x7528;&#x8fd9;&#x4e2a;&#x3002;\n\n**&#x67e5;&#x8be2;&#x6240;&#x6709;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"403,410"}},{"content":"<pre data-lines=\"411,415\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.find()[.pretty()]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"411,415"}},{"content":"<pre data-lines=\"416,417\"><code>**&#x6761;&#x4ef6;&#x67e5;&#x8be2;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"416,417"}},{"content":"<table data-lines=\"418,426\">\n<thead data-lines=\"418,419\">\n<tr data-lines=\"418,419\">\n<th>&#x64cd;&#x4f5c;</th>\n<th>&#x683c;&#x5f0f;</th>\n<th>&#x8303;&#x4f8b;</th>\n<th>MySQL&#x4e2d;&#x7684;&#x7c7b;&#x4f3c;&#x8bed;&#x53e5;</th>\n</tr>\n</thead>\n<tbody data-lines=\"420,426\">\n<tr data-lines=\"420,421\">\n<td>&#x7b49;&#x4e8e;</td>\n<td><code>{&lt;key&gt;:&lt;value&gt;</code>}</td>\n<td><code>db.&#x96c6;&#x5408;&#x540d;.find({&quot;name&quot;:&quot;&#x5f20;&#x4e09;&quot;}).pretty()</code></td>\n<td><code>where name = &apos;&#x5f20;&#x4e09;&apos;</code></td>\n</tr>\n<tr data-lines=\"421,422\">\n<td>&#x5c0f;&#x4e8e;</td>\n<td><code>{&lt;key&gt;:{&#x24;lt:&lt;value&gt;}}</code></td>\n<td><code>db.&#x96c6;&#x5408;&#x540d;.find({&quot;age&quot;:{&#x24;lt:50}}).pretty()</code></td>\n<td><code>where age &lt; 50</code></td>\n</tr>\n<tr data-lines=\"422,423\">\n<td>&#x5c0f;&#x4e8e;&#x6216;&#x7b49;&#x4e8e;</td>\n<td><code>{&lt;key&gt;:{&#x24;lte:&lt;value&gt;}}</code></td>\n<td><code>db.&#x96c6;&#x5408;&#x540d;.find({&quot;age&quot;:{&#x24;lte:50}}).pretty()</code></td>\n<td><code>where age &lt;= 50</code></td>\n</tr>\n<tr data-lines=\"423,424\">\n<td>&#x5927;&#x4e8e;</td>\n<td><code>{&lt;key&gt;:{&#x24;gt:&lt;value&gt;}}</code></td>\n<td><code>db.&#x96c6;&#x5408;&#x540d;.find({&quot;age&quot;:{&#x24;gt:50}}).pretty()</code></td>\n<td><code>where age &gt; 50</code></td>\n</tr>\n<tr data-lines=\"424,425\">\n<td>&#x5927;&#x4e8e;&#x6216;&#x7b49;&#x4e8e;</td>\n<td><code>{&lt;key&gt;:{&#x24;gte:&lt;value&gt;}}</code></td>\n<td><code>db.&#x96c6;&#x5408;&#x540d;.find({&quot;age&quot;:{&#x24;gte:50}}).pretty()</code></td>\n<td><code>where age &gt;= 50</code></td>\n</tr>\n<tr data-lines=\"425,426\">\n<td>&#x4e0d;&#x7b49;&#x4e8e;</td>\n<td><code>{&lt;key&gt;:{&#x24;ne:&lt;value&gt;}}</code></td>\n<td><code>db.&#x96c6;&#x5408;&#x540d;.find({&quot;age&quot;:{&#x24;ne:50}}).pretty()</code></td>\n<td><code>where age != 50</code></td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"418,426"}},{"content":"<pre data-lines=\"427,430\"><code>**&#x8fde;&#x63a5;&#x67e5;&#x8be2;&#xff1a;** \n\nAND&#x8fde;&#x63a5;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"427,430"}},{"content":"<pre data-lines=\"431,435\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.find({key1:value1, key2:value2}).pretty()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"431,435"}},{"content":"<pre data-lines=\"436,439\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x4ee5;&#x4e0a;&#x5b9e;&#x4f8b;&#x4e2d;&#x7c7b;&#x4f3c;&#x4e8e; WHERE &#x8bed;&#x53e5;&#xff1a;**WHERE key1=value1 AND key2=value2**\n\nOR&#x8fde;&#x63a5;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"436,439"}},{"content":"<pre data-lines=\"440,444\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.find({&#x24;or: [{key1: value1}, {key2:value2}]}).pretty()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"440,444"}},{"content":"<pre data-lines=\"445,448\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x4ee5;&#x4e0a;&#x5b9e;&#x4f8b;&#x4e2d;&#x7c7b;&#x4f3c;&#x4e8e; WHERE &#x8bed;&#x53e5;&#xff1a;**WHERE key1=value1 OR key2=value2**\n\nAND &#x548c; OR &#x4e00;&#x5757;&#x8fde;&#x63a5;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"445,448"}},{"content":"<pre data-lines=\"449,453\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.find({key1:value1,&#x24;or: [{key2:value2}, {key3:value3}]}).pretty()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"449,453"}},{"content":"<pre data-lines=\"454,459\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x4ee5;&#x4e0a;&#x5b9e;&#x4f8b;&#x4e2d;&#x7c7b;&#x4f3c;&#x4e8e; WHERE &#x8bed;&#x53e5;&#xff1a;**WHERE key1=value1 AND ( key2=value2 OR key3=value3 )**\n\n**&#x7c7b;&#x578b;&#x67e5;&#x8be2;&#xff1a;** \n\n&#x24;type&#x64cd;&#x4f5c;&#x7b26;&#x662f;&#x57fa;&#x4e8e;BSON&#x7c7b;&#x578b;&#x6765;&#x68c0;&#x7d22;&#x96c6;&#x5408;&#x4e2d;&#x5339;&#x914d;&#x7684;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x5e76;&#x8fd4;&#x56de;&#x7ed3;&#x679c;&#xff0c;MongoDB &#x4e2d;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x7684;&#x7c7b;&#x578b;&#x5982;&#x4e0b;&#x8868;&#x6240;&#x793a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"454,459"}},{"content":"<table data-lines=\"460,481\">\n<thead data-lines=\"460,461\">\n<tr data-lines=\"460,461\">\n<th><strong>&#x7c7b;&#x578b;</strong></th>\n<th><strong>&#x6570;&#x5b57;</strong></th>\n<th><strong>&#x5907;&#x6ce8;</strong></th>\n</tr>\n</thead>\n<tbody data-lines=\"462,481\">\n<tr data-lines=\"462,463\">\n<td>Double</td>\n<td>1</td>\n<td></td>\n</tr>\n<tr data-lines=\"463,464\">\n<td>String</td>\n<td>2</td>\n<td></td>\n</tr>\n<tr data-lines=\"464,465\">\n<td>Object</td>\n<td>3</td>\n<td></td>\n</tr>\n<tr data-lines=\"465,466\">\n<td>Array</td>\n<td>4</td>\n<td></td>\n</tr>\n<tr data-lines=\"466,467\">\n<td>Binary data</td>\n<td>5</td>\n<td></td>\n</tr>\n<tr data-lines=\"467,468\">\n<td>Undefined</td>\n<td>6</td>\n<td>&#x5df2;&#x5e9f;&#x5f03;&#x3002;</td>\n</tr>\n<tr data-lines=\"468,469\">\n<td>Object id</td>\n<td>7</td>\n<td></td>\n</tr>\n<tr data-lines=\"469,470\">\n<td>Boolean</td>\n<td>8</td>\n<td></td>\n</tr>\n<tr data-lines=\"470,471\">\n<td>Date</td>\n<td>9</td>\n<td></td>\n</tr>\n<tr data-lines=\"471,472\">\n<td>Null</td>\n<td>10</td>\n<td></td>\n</tr>\n<tr data-lines=\"472,473\">\n<td>Regular Expression</td>\n<td>11</td>\n<td></td>\n</tr>\n<tr data-lines=\"473,474\">\n<td>JavaScript</td>\n<td>13</td>\n<td></td>\n</tr>\n<tr data-lines=\"474,475\">\n<td>Symbol</td>\n<td>14</td>\n<td></td>\n</tr>\n<tr data-lines=\"475,476\">\n<td>JavaScript (with scope)</td>\n<td>15</td>\n<td></td>\n</tr>\n<tr data-lines=\"476,477\">\n<td>32-bit integer</td>\n<td>16</td>\n<td></td>\n</tr>\n<tr data-lines=\"477,478\">\n<td>Timestamp</td>\n<td>17</td>\n<td></td>\n</tr>\n<tr data-lines=\"478,479\">\n<td>64-bit integer</td>\n<td>18</td>\n<td></td>\n</tr>\n<tr data-lines=\"479,480\">\n<td>Min key</td>\n<td>255</td>\n<td>Query with <code>-1</code>.</td>\n</tr>\n<tr data-lines=\"480,481\">\n<td>Max key</td>\n<td>127</td>\n<td></td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"460,481"}},{"content":"<pre data-lines=\"482,483\"><code>&#x5982;&#x679c;&#x60f3;&#x83b7;&#x53d6;comment&#x96c6;&#x5408;&#x4e2d;nickname&#x4e3a;String&#x7684;&#x6570;&#x636e;&#xff0c;&#x60a8;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x4ee5;&#x4e0b;&#x547d;&#x4ee4;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"482,483"}},{"content":"<pre data-lines=\"484,490\"><code class=\"language-shell\">db.comment.find({&quot;nickname&quot;:{&#x24;type:2}})\n&#x6216;\ndb.comment.find({&quot;nickname&quot;:{&#x24;type:&quot;string&quot;}})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"484,490"}},{"content":"<pre data-lines=\"491,495\"><code>**&#x5206;&#x9875;&#x67e5;&#x8be2;&#xff1a;** \n\n*   .skip(NUMBER)&#xff1a;&#x8df3;&#x8fc7;&#x6307;&#x5b9a;&#x6570;&#x91cf;&#x7684;&#x6570;&#x636e;&#x8bb0;&#x5f55;&#x3002;\n*   .limit(NUMBER)&#xff1a;&#x8bfb;&#x53d6;&#x6307;&#x5b9a;&#x6570;&#x91cf;&#x7684;&#x6570;&#x636e;&#x8bb0;&#x5f55;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"491,495"}},{"content":"<pre data-lines=\"496,500\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.find().skip(&#x8df3;&#x8fc7;&#x51e0;&#x6761;).limit(&#x8bfb;&#x53d6;&#x51e0;&#x6761;)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"496,500"}},{"content":"<pre data-lines=\"501,504\"><code>**&#x6295;&#x5f71;&#x67e5;&#x8be2;&#xff1a;** \n\n&#x6709;&#x65f6;&#x5019;&#xff0c;&#x6211;&#x4eec;&#x5e76;&#x4e0d;&#x60f3;&#x8ba9;&#x4e00;&#x6761;&#x6587;&#x6863;&#x7684;&#x4fe1;&#x606f;&#x5168;&#x90e8;&#x663e;&#x793a;&#x51fa;&#x6765;&#xff0c;&#x53ea;&#x60f3;&#x663e;&#x793a;&#x5176;&#x4e2d;&#x7684;&#x4e00;&#x4e2a;&#x6216;&#x8005;&#x51e0;&#x4e2a;&#x5b57;&#x6bb5;&#xff0c;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x6570;&#x5b57;&#x6807;&#x8bc6;&#xff0c;1&#xff1a;&#x663e;&#x793a;&#x3001;0&#xff1a;&#x4e0d;&#x663e;&#x793a;&#xff0c;&#x6bd4;&#x5982;&#xff0c;&#x6211;&#x60f3;&#x8981;&#x663e;&#x793a;&#x524d;&#x8fb9;comment&#x96c6;&#x5408;&#x4e2d;&#x7684;&#x6240;&#x6709;nickname&#xff0c;&#x60a8;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x4ee5;&#x4e0b;&#x547d;&#x4ee4;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"501,504"}},{"content":"<pre data-lines=\"505,509\"><code class=\"language-shell\">db.comment.find({},{&quot;nickname&quot;:1,&quot;_id&quot;:0})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"505,509"}},{"content":"<pre data-lines=\"510,515\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;\\_id&#x9ed8;&#x8ba4;&#x4f1a;&#x663e;&#x793a;&#xff0c;&#x6211;&#x4eec;&#x4e0d;&#x60f3;&#x770b;&#x89c1;&#x5c31;&#x8ba9;&#x5b83;&#x4e3a;0&#xff0c;&#x7b2c;&#x4e00;&#x4e2a;{}&#x53ef;&#x4ee5;&#x653e;&#x67e5;&#x8be2;&#x6761;&#x4ef6;\n\n**&#x6392;&#x5e8f;&#x67e5;&#x8be2;&#xff1a;** \n\n&#x5728; MongoDB &#x4e2d;&#x4f7f;&#x7528; sort() &#x65b9;&#x6cd5;&#x5bf9;&#x6570;&#x636e;&#x8fdb;&#x884c;&#x6392;&#x5e8f;&#xff0c;sort() &#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x53c2;&#x6570;&#x6307;&#x5b9a;&#x6392;&#x5e8f;&#x7684;&#x5b57;&#x6bb5;&#xff0c;&#x5e76;&#x4f7f;&#x7528;1&#x548c;-1&#x6765;&#x6307;&#x5b9a;&#x6392;&#x5e8f;&#x7684;&#x65b9;&#x5f0f;&#xff0c;&#x5176;&#x4e2d;1&#x4e3a;&#x5347;&#x5e8f;&#x6392;&#x5217;&#xff0c;&#x800c;-1&#x662f;&#x7528;&#x4e8e;&#x964d;&#x5e8f;&#x6392;&#x5217;&#x3002;&#x5982;&#x679c;&#x60a8;&#x60f3;&#x8981;&#x8ba9;comment&#x96c6;&#x5408;&#x4e2d;&#x7684;userid&#x964d;&#x5e8f;&#x3001;likenum&#x5347;&#x5e8f;&#xff0c;&#x60a8;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x4ee5;&#x4e0b;&#x547d;&#x4ee4;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"510,515"}},{"content":"<pre data-lines=\"516,520\"><code class=\"language-shell\">db.comment.find({},{&quot;userid&quot;:1,&quot;likenum&quot;:1}).sort({&quot;userid&quot;:-1,&quot;likenum&quot;:1})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"516,520"}},{"content":"<pre data-lines=\"521,526\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;skip(), limilt(), sort()&#x4e09;&#x4e2a;&#x653e;&#x5728;&#x4e00;&#x8d77;&#x6267;&#x884c;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x6267;&#x884c;&#x7684;&#x987a;&#x5e8f;&#x5148;&#x662f;sort()&#xff0c;&#x7136;&#x540e;&#x662f;skip()&#xff0c;&#x6700;&#x540e;&#x662f;limit()&#xff0c;&#x548c;&#x547d;&#x4ee4;&#x7f16;&#x5199;&#x987a;&#x5e8f;&#x65e0;&#x5173;&#x3002;\n\n**&#x7edf;&#x8ba1;&#x67e5;&#x8be2;&#xff1a;** \n\n&#xff08;1&#xff09;&#x3001;&#x7edf;&#x8ba1;comment&#x96c6;&#x5408;&#x7684;&#x6240;&#x6709;&#x7684;&#x8bb0;&#x5f55;&#x6570;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"521,526"}},{"content":"<pre data-lines=\"527,531\"><code class=\"language-shell\">db.comment.count()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"527,531"}},{"content":"<pre data-lines=\"532,533\"><code>&#xff08;2&#xff09;&#x3001;&#x7edf;&#x8ba1;comment&#x96c6;&#x5408;&#x4e2d;userid&#x4e3a;1003&#x7684;&#x8bb0;&#x5f55;&#x6570;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"532,533"}},{"content":"<pre data-lines=\"534,538\"><code class=\"language-shell\">db.comment.count({&quot;userid&quot;:&quot;1003&quot;})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"534,538"}},{"content":"<pre data-lines=\"539,542\"><code>**&#x5305;&#x542b;&#x67e5;&#x8be2;&#xff1a;** \n\n&#xff08;1&#xff09;&#x3001;&#x5305;&#x542b;&#x4f7f;&#x7528;&#x24;in&#x64cd;&#x4f5c;&#x7b26;&#xff0c;&#x67e5;&#x8be2;&#x8bc4;&#x8bba;&#x7684;&#x96c6;&#x5408;&#x4e2d;userid&#x5b57;&#x6bb5;&#x5305;&#x542b;1003&#x6216;1004&#x7684;&#x6587;&#x6863;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"539,542"}},{"content":"<pre data-lines=\"543,547\"><code class=\"language-shell\">db.comment.find({&quot;userid&quot;:{&#x24;in:[&quot;1003&quot;,&quot;1004&quot;]}})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"543,547"}},{"content":"<pre data-lines=\"548,549\"><code>&#xff08;2&#xff09;&#x3001;&#x4e0d;&#x5305;&#x542b;&#x4f7f;&#x7528;&#x24;nin&#x64cd;&#x4f5c;&#x7b26;&#xff0c;&#x67e5;&#x8be2;&#x8bc4;&#x8bba;&#x96c6;&#x5408;&#x4e2d;userid&#x5b57;&#x6bb5;&#x4e0d;&#x5305;&#x542b;1003&#x548c;1004&#x7684;&#x6587;&#x6863;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"548,549"}},{"content":"<pre data-lines=\"550,554\"><code class=\"language-shell\">db.comment.find({&quot;userid&quot;:{&#x24;nin:[&quot;1003&quot;,&quot;1004&quot;]}})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"550,554"}},{"content":"<pre data-lines=\"555,558\"><code>**&#x6b63;&#x5219;&#x67e5;&#x8be2;&#xff1a;** \n\nMongoDB&#x7684;&#x6a21;&#x7cca;&#x67e5;&#x8be2;&#x662f;&#x901a;&#x8fc7;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x65b9;&#x5f0f;&#x5b9e;&#x73b0;&#x7684;&#xff0c;&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;&#x662f;js&#x76f4;&#x63a5;&#x91cf;&#x7684;&#x5199;&#x6cd5;&#xff0c;&#x683c;&#x5f0f;&#x4e3a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"555,558"}},{"content":"<pre data-lines=\"559,563\"><code class=\"language-shelL\">db.&#x96c6;&#x5408;.find({&#x5b57;&#x6bb5;:/&#x6b63;&#x5219;&#x8868;&#x8fbe;&#x5f0f;/})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"559,563"}},{"content":"<pre data-lines=\"564,565\"><code>&#x5982;&#x679c;&#x8981;&#x67e5;&#x8be2;&#x8bc4;&#x8bba;&#x7684;&#x5185;&#x5bb9;&#x4e2d;&#x4ee5;&#x201c;&#x4e13;&#x5bb6;&#x201d;&#x5f00;&#x5934;&#x7684;&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"564,565"}},{"content":"<pre data-lines=\"566,570\"><code class=\"language-shell\">db.comment.find({&quot;content&quot;:/^&#x4e13;&#x5bb6;/})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"566,570"}}],"payload":{"tag":"h3","lines":"394,395"}},{"content":"3.9&#x3001;&#x66f4;&#x65b0;&#x6587;&#x6863;","children":[{"content":"<pre data-lines=\"573,574\"><code>**&#x8bed;&#x6cd5;&#x683c;&#x5f0f;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"573,574"}},{"content":"<pre data-lines=\"575,587\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.update(\n   &lt;query&gt;,\n   &lt;update&gt;,\n   {\n     upsert: &lt;boolean&gt;,\n     multi: &lt;boolean&gt;,\n     writeConcern: &lt;document&gt;\n   }\n)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"575,587"}},{"content":"<pre data-lines=\"588,597\"><code>**&#x53c2;&#x6570;&#x8bf4;&#x660e;&#xff1a;** \n\n*   query&#xff1a;update&#x7684;&#x67e5;&#x8be2;&#x6761;&#x4ef6;&#xff0c;&#x7c7b;&#x4f3c;sql update&#x67e5;&#x8be2;&#x5185;where&#x540e;&#x9762;&#x7684;&#x3002;\n*   update&#xff1a;update&#x7684;&#x5bf9;&#x8c61;&#x548c;&#x4e00;&#x4e9b;&#x66f4;&#x65b0;&#x7684;&#x64cd;&#x4f5c;&#x7b26;(&#x5982; , , ,inc&#x2026;)&#x7b49;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x7406;&#x89e3;&#x4e3a;sql update&#x67e5;&#x8be2;&#x5185;set&#x540e;&#x9762;&#x7684;&#x3002;\n*   upsert&#xff1a;&#x53ef;&#x9009;&#xff0c;&#x8fd9;&#x4e2a;&#x53c2;&#x6570;&#x7684;&#x610f;&#x601d;&#x662f;&#xff0c;&#x5982;&#x679c;&#x4e0d;&#x5b58;&#x5728;update&#x7684;&#x8bb0;&#x5f55;&#xff0c;&#x662f;&#x5426;&#x63d2;&#x5165;objNew&#xff0c;true&#x4e3a;&#x63d2;&#x5165;&#xff0c;&#x9ed8;&#x8ba4;&#x662f;false&#xff0c;&#x4e0d;&#x63d2;&#x5165;&#x3002;\n*   multi&#xff1a;&#x53ef;&#x9009;&#xff0c;mongodb &#x9ed8;&#x8ba4;&#x662f;false&#xff0c;&#x53ea;&#x66f4;&#x65b0;&#x627e;&#x5230;&#x7684;&#x7b2c;&#x4e00;&#x6761;&#x8bb0;&#x5f55;&#xff0c;&#x5982;&#x679c;&#x8fd9;&#x4e2a;&#x53c2;&#x6570;&#x4e3a;true&#xff0c;&#x5c31;&#x628a;&#x6309;&#x6761;&#x4ef6;&#x67e5;&#x51fa;&#x6765;&#x591a;&#x6761;&#x8bb0;&#x5f55;&#x5168;&#x90e8;&#x66f4;&#x65b0;&#x3002;\n*   writeConcern&#xff1a;&#x53ef;&#x9009;&#xff0c;&#x629b;&#x51fa;&#x5f02;&#x5e38;&#x7684;&#x7ea7;&#x522b;&#x3002;\n\n**&#x6f14;&#x793a;&#x6848;&#x4f8b;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"588,597"}},{"content":"<pre data-lines=\"598,602\"><code class=\"language-shell\">db.comment.update({&quot;articleid&quot;:&quot;100086&quot;},{&#x24;set:{&quot;articleid&quot;:&quot;10086&quot;}})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"598,602"}},{"content":"<pre data-lines=\"603,604\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x5982;&#x679c;&#x6211;&#x4eec;&#x53ea;&#x60f3;&#x4fee;&#x6539;&#x6587;&#x6863;&#x7684;&#x67d0;&#x4e2a;&#x5b57;&#x6bb5;&#x8bf7;&#x4f7f;&#x7528;&#x24;set&#x64cd;&#x4f5c;&#x7b26;&#x4fee;&#x6539;&#xff0c;&#x5426;&#x5219;&#x5176;&#x5b83;&#x5b57;&#x6bb5;&#x90fd;&#x4f1a;&#x4e0d;&#x89c1;&#x4e86;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"603,604"}}],"payload":{"tag":"h3","lines":"571,572"}},{"content":"3.10&#x3001;&#x5220;&#x9664;&#x6587;&#x6863;","children":[{"content":"<pre data-lines=\"607,608\"><code>**&#x8bed;&#x6cd5;&#x683c;&#x5f0f;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"607,608"}},{"content":"<pre data-lines=\"609,619\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.remove(\n   &lt;query&gt;,\n   {\n     justOne: &lt;boolean&gt;,\n     writeConcern: &lt;document&gt;\n   }\n)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"609,619"}},{"content":"<pre data-lines=\"620,627\"><code>**&#x53c2;&#x6570;&#x8bf4;&#x660e;&#xff1a;** \n\n*   query&#xff1a;&#xff08;&#x53ef;&#x9009;&#xff09;&#x5220;&#x9664;&#x7684;&#x6587;&#x6863;&#x7684;&#x6761;&#x4ef6;&#x3002;\n*   justOne&#xff1a;&#xff08;&#x53ef;&#x9009;&#xff09;&#x5982;&#x679c;&#x8bbe;&#x4e3a; true &#x6216; 1&#xff0c;&#x5219;&#x53ea;&#x5220;&#x9664;&#x4e00;&#x4e2a;&#x6587;&#x6863;&#xff0c;&#x5982;&#x679c;&#x4e0d;&#x8bbe;&#x7f6e;&#x8be5;&#x53c2;&#x6570;&#x6216;&#x4f7f;&#x7528;&#x9ed8;&#x8ba4;&#x503c; false&#xff0c;&#x5219;&#x5220;&#x9664;&#x6240;&#x6709;&#x5339;&#x914d;&#x6761;&#x4ef6;&#x7684;&#x6587;&#x6863;&#x3002;\n*   writeConcern&#xff1a;&#xff08;&#x53ef;&#x9009;&#xff09;&#x629b;&#x51fa;&#x5f02;&#x5e38;&#x7684;&#x7ea7;&#x522b;&#x3002;\n\n**&#x6848;&#x4f8b;&#x6f14;&#x793a;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"620,627"}},{"content":"<pre data-lines=\"628,632\"><code class=\"language-shell\">db.comment.remove({&quot;articleid&quot;:&quot;10086&quot;})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"628,632"}},{"content":"<pre data-lines=\"633,634\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x5982;&#x679c;&#x4f60;&#x60f3;&#x5220;&#x9664;&#x6240;&#x6709;&#x6570;&#x636e;&#xff0c;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x4ee5;&#x4e0b;&#x65b9;&#x5f0f;&#xff1a;db.&#x96c6;&#x5408;&#x540d;.remove({})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"633,634"}}],"payload":{"tag":"h3","lines":"605,606"}}],"payload":{"tag":"h2","lines":"212,214"}},{"content":"&#x7b2c;&#x56db;&#x7ae0; MongoDB&#x7d22;&#x5f15;","children":[{"content":"4.1&#x3001;&#x521b;&#x5efa;&#x7d22;&#x5f15;","children":[{"content":"<pre data-lines=\"640,643\"><code>&#x7d22;&#x5f15;&#x901a;&#x5e38;&#x80fd;&#x591f;&#x6781;&#x5927;&#x7684;&#x63d0;&#x9ad8;&#x67e5;&#x8be2;&#x7684;&#x6548;&#x7387;&#xff0c;&#x5982;&#x679c;&#x6ca1;&#x6709;&#x7d22;&#x5f15;&#xff0c;MongoDB&#x5728;&#x8bfb;&#x53d6;&#x6570;&#x636e;&#x65f6;&#x5fc5;&#x987b;&#x626b;&#x63cf;&#x96c6;&#x5408;&#x4e2d;&#x7684;&#x6bcf;&#x4e2a;&#x6587;&#x4ef6;&#x5e76;&#x9009;&#x53d6;&#x90a3;&#x4e9b;&#x7b26;&#x5408;&#x67e5;&#x8be2;&#x6761;&#x4ef6;&#x7684;&#x8bb0;&#x5f55;&#x3002;&#x8fd9;&#x79cd;&#x626b;&#x63cf;&#x5168;&#x96c6;&#x5408;&#x7684;&#x67e5;&#x8be2;&#x6548;&#x7387;&#x662f;&#x975e;&#x5e38;&#x4f4e;&#x7684;&#xff0c;&#x7279;&#x522b;&#x5728;&#x5904;&#x7406;&#x5927;&#x91cf;&#x7684;&#x6570;&#x636e;&#x65f6;&#xff0c;&#x67e5;&#x8be2;&#x53ef;&#x4ee5;&#x8981;&#x82b1;&#x8d39;&#x51e0;&#x5341;&#x79d2;&#x751a;&#x81f3;&#x51e0;&#x5206;&#x949f;&#xff0c;&#x8fd9;&#x5bf9;&#x7f51;&#x7ad9;&#x7684;&#x6027;&#x80fd;&#x662f;&#x975e;&#x5e38;&#x81f4;&#x547d;&#x7684;&#x3002;&#x7d22;&#x5f15;&#x662f;&#x7279;&#x6b8a;&#x7684;&#x6570;&#x636e;&#x7ed3;&#x6784;&#xff0c;&#x7d22;&#x5f15;&#x5b58;&#x50a8;&#x5728;&#x4e00;&#x4e2a;&#x6613;&#x4e8e;&#x904d;&#x5386;&#x8bfb;&#x53d6;&#x7684;&#x6570;&#x636e;&#x96c6;&#x5408;&#x4e2d;&#xff0c;&#x7d22;&#x5f15;&#x662f;&#x5bf9;&#x6570;&#x636e;&#x5e93;&#x8868;&#x4e2d;&#x4e00;&#x5217;&#x6216;&#x591a;&#x5217;&#x7684;&#x503c;&#x8fdb;&#x884c;&#x6392;&#x5e8f;&#x7684;&#x4e00;&#x79cd;&#x7ed3;&#x6784;&#x3002;\n\n**&#x8bed;&#x6cd5;&#x683c;&#x5f0f;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"640,643"}},{"content":"<pre data-lines=\"644,648\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.createIndex(keys, options)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"644,648"}},{"content":"<pre data-lines=\"649,650\"><code>**&#x53c2;&#x6570;&#x8bf4;&#x660e;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"649,650"}},{"content":"<table data-lines=\"651,662\">\n<thead data-lines=\"651,652\">\n<tr data-lines=\"651,652\">\n<th>&#x53c2;&#x6570;</th>\n<th>&#x7c7b;&#x578b;</th>\n<th>&#x63cf;&#x8ff0;</th>\n</tr>\n</thead>\n<tbody data-lines=\"653,662\">\n<tr data-lines=\"653,654\">\n<td>background</td>\n<td>Boolean</td>\n<td>&#x5efa;&#x7d22;&#x5f15;&#x8fc7;&#x7a0b;&#x4f1a;&#x963b;&#x585e;&#x5176;&#x5b83;&#x6570;&#x636e;&#x5e93;&#x64cd;&#x4f5c;&#xff0c;background&#x53ef;&#x6307;&#x5b9a;&#x4ee5;&#x540e;&#x53f0;&#x65b9;&#x5f0f;&#x521b;&#x5efa;&#x7d22;&#x5f15;&#xff0c;&#x5373;&#x589e;&#x52a0; &#x201c;background&#x201d; &#x53ef;&#x9009;&#x53c2;&#x6570;&#x3002; &#x201c;background&#x201d; &#x9ed8;&#x8ba4;&#x503c;&#x4e3a;<strong>false</strong>&#x3002;</td>\n</tr>\n<tr data-lines=\"654,655\">\n<td>unique</td>\n<td>Boolean</td>\n<td>&#x5efa;&#x7acb;&#x7684;&#x7d22;&#x5f15;&#x662f;&#x5426;&#x552f;&#x4e00;&#x3002;&#x6307;&#x5b9a;&#x4e3a;true&#x521b;&#x5efa;&#x552f;&#x4e00;&#x7d22;&#x5f15;&#x3002;&#x9ed8;&#x8ba4;&#x503c;&#x4e3a;<strong>false</strong>&#x3002;</td>\n</tr>\n<tr data-lines=\"655,656\">\n<td>name</td>\n<td>string</td>\n<td>&#x7d22;&#x5f15;&#x7684;&#x540d;&#x79f0;&#x3002;&#x5982;&#x679c;&#x672a;&#x6307;&#x5b9a;&#xff0c;MongoDB&#x7684;&#x901a;&#x8fc7;&#x8fde;&#x63a5;&#x7d22;&#x5f15;&#x7684;&#x5b57;&#x6bb5;&#x540d;&#x548c;&#x6392;&#x5e8f;&#x987a;&#x5e8f;&#x751f;&#x6210;&#x4e00;&#x4e2a;&#x7d22;&#x5f15;&#x540d;&#x79f0;&#x3002;</td>\n</tr>\n<tr data-lines=\"656,657\">\n<td>sparse</td>\n<td>Boolean</td>\n<td>&#x5bf9;&#x6587;&#x6863;&#x4e2d;&#x4e0d;&#x5b58;&#x5728;&#x7684;&#x5b57;&#x6bb5;&#x6570;&#x636e;&#x4e0d;&#x542f;&#x7528;&#x7d22;&#x5f15;&#xff0c;&#x8fd9;&#x4e2a;&#x53c2;&#x6570;&#x9700;&#x8981;&#x7279;&#x522b;&#x6ce8;&#x610f;&#xff0c;&#x5982;&#x679c;&#x8bbe;&#x7f6e;&#x4e3a;true&#x7684;&#x8bdd;&#xff0c;&#x5728;&#x7d22;&#x5f15;&#x5b57;&#x6bb5;&#x4e2d;&#x4e0d;&#x4f1a;&#x67e5;&#x8be2;&#x51fa;&#x4e0d;&#x5305;&#x542b;&#x5bf9;&#x5e94;&#x5b57;&#x6bb5;&#x7684;&#x6587;&#x6863;.&#x3002;&#x9ed8;&#x8ba4;&#x503c;&#x4e3a; <strong>false</strong>&#x3002;</td>\n</tr>\n<tr data-lines=\"657,658\">\n<td>expireAfterSeconds</td>\n<td>integer</td>\n<td>&#x6307;&#x5b9a;&#x4e00;&#x4e2a;&#x4ee5;&#x79d2;&#x4e3a;&#x5355;&#x4f4d;&#x7684;&#x6570;&#x503c;&#xff0c;&#x5b8c;&#x6210; TTL&#x8bbe;&#x5b9a;&#xff0c;&#x8bbe;&#x5b9a;&#x96c6;&#x5408;&#x7684;&#x751f;&#x5b58;&#x65f6;&#x95f4;&#x3002;</td>\n</tr>\n<tr data-lines=\"658,659\">\n<td>v</td>\n<td>index version</td>\n<td>&#x7d22;&#x5f15;&#x7684;&#x7248;&#x672c;&#x53f7;&#x3002;&#x9ed8;&#x8ba4;&#x7684;&#x7d22;&#x5f15;&#x7248;&#x672c;&#x53d6;&#x51b3;&#x4e8e;mongod&#x521b;&#x5efa;&#x7d22;&#x5f15;&#x65f6;&#x8fd0;&#x884c;&#x7684;&#x7248;&#x672c;&#x3002;</td>\n</tr>\n<tr data-lines=\"659,660\">\n<td>weights</td>\n<td>document</td>\n<td>&#x7d22;&#x5f15;&#x6743;&#x91cd;&#x503c;&#xff0c;&#x6570;&#x503c;&#x5728;1&#x5230;99999&#x4e4b;&#x95f4;&#xff0c;&#x8868;&#x793a;&#x8be5;&#x7d22;&#x5f15;&#x76f8;&#x5bf9;&#x4e8e;&#x5176;&#x4ed6;&#x7d22;&#x5f15;&#x5b57;&#x6bb5;&#x7684;&#x5f97;&#x5206;&#x6743;&#x91cd;&#x3002;</td>\n</tr>\n<tr data-lines=\"660,661\">\n<td>default_language</td>\n<td>string</td>\n<td>&#x5bf9;&#x4e8e;&#x6587;&#x672c;&#x7d22;&#x5f15;&#xff0c;&#x8be5;&#x53c2;&#x6570;&#x51b3;&#x5b9a;&#x4e86;&#x505c;&#x7528;&#x8bcd;&#x53ca;&#x8bcd;&#x5e72;&#x548c;&#x8bcd;&#x5668;&#x7684;&#x89c4;&#x5219;&#x7684;&#x5217;&#x8868;&#x3002; &#x9ed8;&#x8ba4;&#x4e3a;&#x82f1;&#x8bed;&#x3002;</td>\n</tr>\n<tr data-lines=\"661,662\">\n<td>language_override</td>\n<td>string</td>\n<td>&#x5bf9;&#x4e8e;&#x6587;&#x672c;&#x7d22;&#x5f15;&#xff0c;&#x8be5;&#x53c2;&#x6570;&#x6307;&#x5b9a;&#x4e86;&#x5305;&#x542b;&#x5728;&#x6587;&#x6863;&#x4e2d;&#x7684;&#x5b57;&#x6bb5;&#x540d;&#xff0c;&#x8bed;&#x8a00;&#x8986;&#x76d6;&#x9ed8;&#x8ba4;&#x7684;language&#xff0c;&#x9ed8;&#x8ba4;&#x503c;&#x4e3a; language&#x3002;</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"651,662"}},{"content":"<pre data-lines=\"663,666\"><code>**&#x6848;&#x4f8b;&#x6f14;&#x793a;&#xff1a;** \n\n&#xff08;1&#xff09;&#x3001;&#x5355;&#x5b57;&#x6bb5;&#x7d22;&#x5f15;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"663,666"}},{"content":"<pre data-lines=\"667,671\"><code class=\"language-shell\">db.comment.createIndex({&quot;articleid&quot;:1})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"667,671"}},{"content":"<pre data-lines=\"672,673\"><code>&#xff08;2&#xff09;&#x3001;&#x591a;&#x5b57;&#x6bb5;&#x7d22;&#x5f15;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"672,673"}},{"content":"<pre data-lines=\"674,678\"><code class=\"language-shell\">db.comment.createIndex({&quot;articleid&quot;:1,&quot;likenum&quot;:-1})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"674,678"}},{"content":"<pre data-lines=\"679,689\"><code>&#xff08;3&#xff09;&#x3001;&#x5176;&#x5b83;&#x7684;&#x7d22;&#x5f15;\n\n*   &#x5730;&#x7406;&#x7a7a;&#x95f4;&#x7d22;&#x5f15;&#xff08;Geospatial Index&#xff09;&#xff1a;&#x4e3a;&#x4e86;&#x652f;&#x6301;&#x5bf9;&#x5730;&#x7406;&#x7a7a;&#x95f4;&#x5750;&#x6807;&#x6570;&#x636e;&#x7684;&#x6709;&#x6548;&#x67e5;&#x8be2;&#xff0c;MongoDB&#x63d0;&#x4f9b;&#x4e86;&#x4e24;&#x79cd;&#x7279;&#x6b8a;&#x7684;&#x7d22;&#x5f15;&#xff1a;&#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x65f6;&#x4f7f;&#x7528;&#x5e73;&#x9762;&#x51e0;&#x4f55;&#x7684;&#x4e8c;&#x7ef4;&#x7d22;&#x5f15;&#x548c;&#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x65f6;&#x4f7f;&#x7528;&#x7403;&#x9762; &#x51e0;&#x4f55;&#x7684;&#x4e8c;&#x7ef4;&#x7403;&#x9762;&#x7d22;&#x5f15;&#x3002;\n\t\n*   &#x6587;&#x672c;&#x7d22;&#x5f15;&#xff08;Text Indexes&#xff09; &#xff1a;MongoDB&#x63d0;&#x4f9b;&#x4e86;&#x4e00;&#x79cd;&#x6587;&#x672c;&#x7d22;&#x5f15;&#x7c7b;&#x578b;&#xff0c;&#x652f;&#x6301;&#x5728;&#x96c6;&#x5408;&#x4e2d;&#x641c;&#x7d22;&#x5b57;&#x7b26;&#x4e32;&#x5185;&#x5bb9;&#x3002;&#x8fd9;&#x4e9b;&#x6587;&#x672c;&#x7d22;&#x5f15;&#x4e0d;&#x5b58;&#x50a8;&#x7279;&#x5b9a;&#x4e8e;&#x8bed;&#x8a00;&#x7684;&#x505c;&#x6b62;&#x8bcd;&#xff08;&#x4f8b;&#x5982;&#x201c;the&#x201d;&#x3001;&#x201c;a&#x201d;&#x3001;&#x201c;or&#x201d;&#xff09;&#xff0c; &#x800c;&#x5c06;&#x96c6;&#x5408;&#x4e2d;&#x7684;&#x8bcd;&#x4f5c;&#x4e3a;&#x8bcd;&#x5e72;&#xff0c;&#x53ea;&#x5b58;&#x50a8;&#x6839;&#x8bcd;&#x3002;\n\t\n*   &#x54c8;&#x5e0c;&#x7d22;&#x5f15;&#xff08;Hashed Indexes&#xff09;&#xff1a;&#x4e3a;&#x4e86;&#x652f;&#x6301;&#x57fa;&#x4e8e;&#x6563;&#x5217;&#x7684;&#x5206;&#x7247;&#xff0c;MongoDB&#x63d0;&#x4f9b;&#x4e86;&#x6563;&#x5217;&#x7d22;&#x5f15;&#x7c7b;&#x578b;&#xff0c;&#x5b83;&#x5bf9;&#x5b57;&#x6bb5;&#x503c;&#x7684;&#x6563;&#x5217;&#x8fdb;&#x884c;&#x7d22;&#x5f15;&#x3002;&#x8fd9;&#x4e9b;&#x7d22;&#x5f15;&#x5728;&#x5176;&#x8303;&#x56f4;&#x5185;&#x7684;&#x503c;&#x5206;&#x5e03;&#x66f4;&#x52a0;&#x968f;&#x673a;&#xff0c;&#x4f46;&#x53ea;&#x652f; &#x6301;&#x76f8;&#x7b49;&#x5339;&#x914d;&#xff0c;&#x4e0d;&#x652f;&#x6301;&#x57fa;&#x4e8e;&#x8303;&#x56f4;&#x7684;&#x67e5;&#x8be2;&#x3002;\n\t\n\n&gt; &#x6ce8;&#x610f;&#xff1a;&#x5176;&#x5b83;&#x7684;&#x7d22;&#x5f15;&#x4e86;&#x89e3;&#x5373;&#x53ef;&#xff0c;&#x4e0d;&#x505a;&#x91cd;&#x70b9;&#xff01;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"679,689"}}],"payload":{"tag":"h3","lines":"638,639"}},{"content":"4.2&#x3001;&#x67e5;&#x770b;&#x7d22;&#x5f15;","children":[{"content":"<pre data-lines=\"692,696\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.getIndexes()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"692,696"}}],"payload":{"tag":"h3","lines":"690,691"}},{"content":"4.3&#x3001;&#x5220;&#x9664;&#x7d22;&#x5f15;","children":[{"content":"<pre data-lines=\"699,702\"><code>**&#x4e00;&#x3001;&#x6307;&#x5b9a;&#x7d22;&#x5f15;&#x7684;&#x79fb;&#x9664;**\n\n&#x8bed;&#x6cd5;&#x683c;&#x5f0f;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"699,702"}},{"content":"<pre data-lines=\"703,707\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.dropIndex(index)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"703,707"}},{"content":"<pre data-lines=\"708,709\"><code>&#x6848;&#x4f8b;&#x6f14;&#x793a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"708,709"}},{"content":"<pre data-lines=\"710,714\"><code class=\"language-shell\">db.comment.dropIndex({&quot;articleid&quot;:1})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"710,714"}},{"content":"<pre data-lines=\"715,718\"><code>**&#x4e8c;&#x3001;&#x6240;&#x6709;&#x7d22;&#x5f15;&#x7684;&#x79fb;&#x9664;**\n\n&#x8bed;&#x6cd5;&#x683c;&#x5f0f;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"715,718"}},{"content":"<pre data-lines=\"719,723\"><code class=\"language-shell\">db.&#x96c6;&#x5408;&#x540d;.dropIndexes()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"719,723"}},{"content":"<pre data-lines=\"724,725\"><code>&#x6848;&#x4f8b;&#x6f14;&#x793a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"724,725"}},{"content":"<pre data-lines=\"726,730\"><code class=\"language-shell\">db.comment.dropIndexes()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"726,730"}},{"content":"<pre data-lines=\"731,732\"><code>&gt; &#x6ce8;&#x610f;&#xff1a; \\_id &#x7684;&#x5b57;&#x6bb5;&#x7684;&#x7d22;&#x5f15;&#x662f;&#x65e0;&#x6cd5;&#x5220;&#x9664;&#x7684;&#xff0c;&#x53ea;&#x80fd;&#x5220;&#x9664;&#x975e; \\_id &#x5b57;&#x6bb5;&#x7684;&#x7d22;&#x5f15;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"731,732"}}],"payload":{"tag":"h3","lines":"697,698"}}],"payload":{"tag":"h2","lines":"635,637"}},{"content":"&#x7b2c;&#x4e94;&#x7ae0; MongoDB&#x805a;&#x5408;","children":[{"content":"5.1&#x3001;&#x805a;&#x5408;&#x8868;&#x8fbe;&#x5f0f;","children":[{"content":"<pre data-lines=\"738,739\"><code>MongoDB&#x4e2d;&#x805a;&#x5408;&#xff08;aggregate&#xff09;&#x4e3b;&#x8981;&#x7528;&#x4e8e;&#x5904;&#x7406;&#x6570;&#x636e;&#xff08;&#x6c42;&#x5e73;&#x5747;&#x503c;&#x3001;&#x6c42;&#x548c;&#x7b49;&#xff09;&#x5e76;&#x8fd4;&#x56de;&#x8ba1;&#x7b97;&#x540e;&#x7684;&#x6570;&#x636e;&#x7ed3;&#x679c;&#xff0c;&#x6709;&#x70b9;&#x7c7b;&#x4f3c;sql&#x8bed;&#x53e5;&#x4e2d;&#x7684; count(\\*)&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"738,739"}},{"content":"<table data-lines=\"740,750\">\n<thead data-lines=\"740,741\">\n<tr data-lines=\"740,741\">\n<th>&#x8868;&#x8fbe;&#x5f0f;</th>\n<th>&#x63cf;&#x8ff0;</th>\n<th>&#x5b9e;&#x4f8b;</th>\n</tr>\n</thead>\n<tbody data-lines=\"742,750\">\n<tr data-lines=\"742,743\">\n<td>&#x24;sum</td>\n<td>&#x8ba1;&#x7b97;&#x603b;&#x548c;&#x3002;</td>\n<td>db.comment.aggregate([{KaTeX parse error: Expected &apos;}&apos;, got &apos;EOF&apos; at end of input: &#x2026;roup : {_id : &quot;userid&quot;, num_sum : { s u m : &quot; sum : &quot; sum:&quot;likenum&quot;}}}])</td>\n</tr>\n<tr data-lines=\"743,744\">\n<td>&#x24;avg</td>\n<td>&#x8ba1;&#x7b97;&#x5e73;&#x5747;&#x503c;&#x3002;</td>\n<td>db.comment.aggregate([{KaTeX parse error: Expected &apos;}&apos;, got &apos;EOF&apos; at end of input: &#x2026;roup : {_id : &quot;userid&quot;, num_avg : { a v g : &quot; avg : &quot; avg:&quot;likenum&quot;}}}])</td>\n</tr>\n<tr data-lines=\"744,745\">\n<td>&#x24;min</td>\n<td>&#x83b7;&#x53d6;&#x96c6;&#x5408;&#x4e2d;&#x6240;&#x6709;&#x6587;&#x6863;&#x5bf9;&#x5e94;&#x503c;&#x7684;&#x6700;&#x5c0f;&#x503c;&#x3002;</td>\n<td>db.comment.aggregate([{KaTeX parse error: Expected &apos;}&apos;, got &apos;EOF&apos; at end of input: &#x2026;roup : {_id : &quot;userid&quot;, num_min : { m i n : &quot; min : &quot; min:&quot;likenum&quot;}}}])</td>\n</tr>\n<tr data-lines=\"745,746\">\n<td>&#x24;max</td>\n<td>&#x83b7;&#x53d6;&#x96c6;&#x5408;&#x4e2d;&#x6240;&#x6709;&#x6587;&#x6863;&#x5bf9;&#x5e94;&#x503c;&#x7684;&#x6700;&#x5927;&#x503c;&#x3002;</td>\n<td>db.comment.aggregate([{KaTeX parse error: Expected &apos;}&apos;, got &apos;EOF&apos; at end of input: &#x2026;roup : {_id : &quot;userid&quot;, num_max : { m a x : &quot; max : &quot; max:&quot;likenum&quot;}}}])</td>\n</tr>\n<tr data-lines=\"746,747\">\n<td>&#x24;push</td>\n<td>&#x5728;&#x7ed3;&#x679c;&#x6587;&#x6863;&#x4e2d;&#x63d2;&#x5165;&#x503c;&#x5230;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;&#x4e2d;&#x3002;</td>\n<td>db.comment.aggregate([{KaTeX parse error: Expected &apos;}&apos;, got &apos;EOF&apos; at end of input: &#x2026;roup : {_id : &quot;userid&quot;, articleid : { p u s h : &quot; push: &quot; push:&quot;articleid&quot;}}}])</td>\n</tr>\n<tr data-lines=\"747,748\">\n<td>&#x24;addToSet</td>\n<td>&#x5728;&#x7ed3;&#x679c;&#x6587;&#x6863;&#x4e2d;&#x63d2;&#x5165;&#x503c;&#x5230;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;&#x4e2d;&#x3002;</td>\n<td>db.comment.aggregate([{KaTeX parse error: Expected &apos;}&apos;, got &apos;EOF&apos; at end of input: &#x2026;roup : {_id : &quot;userid&quot;, articleid : { a d d T o S e t : &quot; addToSet : &quot; addToSet:&quot;articleid&quot;}}}])</td>\n</tr>\n<tr data-lines=\"748,749\">\n<td>&#x24;first</td>\n<td>&#x6839;&#x636e;&#x8d44;&#x6e90;&#x6587;&#x6863;&#x7684;&#x6392;&#x5e8f;&#x83b7;&#x53d6;&#x7b2c;&#x4e00;&#x4e2a;&#x6587;&#x6863;&#x6570;&#x636e;&#x3002;</td>\n<td>db.comment.aggregate([{KaTeX parse error: Expected &apos;}&apos;, got &apos;EOF&apos; at end of input: &#x2026;roup : {_id : &quot;userid&quot;, first_articleid : { f i r s t : &quot; first : &quot; first:&quot;articleid&quot;}}}])</td>\n</tr>\n<tr data-lines=\"749,750\">\n<td>&#x24;last</td>\n<td>&#x6839;&#x636e;&#x8d44;&#x6e90;&#x6587;&#x6863;&#x7684;&#x6392;&#x5e8f;&#x83b7;&#x53d6;&#x6700;&#x540e;&#x4e00;&#x4e2a;&#x6587;&#x6863;&#x6570;&#x636e;&#x3002;</td>\n<td>db.comment.aggregate([{KaTeX parse error: Expected &apos;}&apos;, got &apos;EOF&apos; at end of input: &#x2026;roup : {_id : &quot;userid&quot;, last_articleid : { l a s t : &quot; last : &quot; last:&quot;articleid&quot;}}}])</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"740,750"}}],"payload":{"tag":"h3","lines":"736,737"}},{"content":"5.2&#x3001;&#x805a;&#x5408;&#x7ba1;&#x9053;","children":[{"content":"<pre data-lines=\"753,768\"><code>&#x7ba1;&#x9053;&#x5728;Unix&#x548c;Linux&#x4e2d;&#x4e00;&#x822c;&#x7528;&#x4e8e;&#x5c06;&#x5f53;&#x524d;&#x547d;&#x4ee4;&#x7684;&#x8f93;&#x51fa;&#x7ed3;&#x679c;&#x4f5c;&#x4e3a;&#x4e0b;&#x4e00;&#x4e2a;&#x547d;&#x4ee4;&#x7684;&#x53c2;&#x6570;&#x3002;MongoDB&#x7684;&#x805a;&#x5408;&#x7ba1;&#x9053;&#x5c06;MongoDB&#x6587;&#x6863;&#x5728;&#x4e00;&#x4e2a;&#x7ba1;&#x9053;&#x5904;&#x7406;&#x5b8c;&#x6bd5;&#x540e;&#x5c06;&#x7ed3;&#x679c;&#x4f20;&#x9012;&#x7ed9;&#x4e0b;&#x4e00;&#x4e2a;&#x7ba1;&#x9053;&#x5904;&#x7406;&#xff0c;&#x7ba1;&#x9053;&#x64cd;&#x4f5c;&#x662f;&#x53ef;&#x4ee5;&#x91cd;&#x590d;&#x7684;&#x3002;&#x8fd9;&#x91cc;&#x6211;&#x4eec;&#x4ecb;&#x7ecd;&#x4e00;&#x4e0b;&#x805a;&#x5408;&#x6846;&#x67b6;&#x4e2d;&#x5e38;&#x7528;&#x7684;&#x51e0;&#x4e2a;&#x64cd;&#x4f5c;&#xff1a;\n\n**&#x64cd;&#x4f5c;&#x7b26;&#xff1a;** \n\n*   &#x24;project&#xff1a;&#x4fee;&#x6539;&#x8f93;&#x5165;&#x6587;&#x6863;&#x7684;&#x7ed3;&#x6784;&#x3002;&#x53ef;&#x4ee5;&#x7528;&#x6765;&#x91cd;&#x547d;&#x540d;&#x3001;&#x589e;&#x52a0;&#x6216;&#x5220;&#x9664;&#x57df;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x7528;&#x4e8e;&#x521b;&#x5efa;&#x8ba1;&#x7b97;&#x7ed3;&#x679c;&#x4ee5;&#x53ca;&#x5d4c;&#x5957;&#x6587;&#x6863;&#x3002;\n*   &#x24;match&#xff1a;&#x7528;&#x4e8e;&#x8fc7;&#x6ee4;&#x6570;&#x636e;&#xff0c;&#x53ea;&#x8f93;&#x51fa;&#x7b26;&#x5408;&#x6761;&#x4ef6;&#x7684;&#x6587;&#x6863;&#x3002;&#x24;match&#x4f7f;&#x7528;MongoDB&#x7684;&#x6807;&#x51c6;&#x67e5;&#x8be2;&#x64cd;&#x4f5c;&#x3002;\n*   &#x24;limit&#xff1a;&#x7528;&#x6765;&#x9650;&#x5236;MongoDB&#x805a;&#x5408;&#x7ba1;&#x9053;&#x8fd4;&#x56de;&#x7684;&#x6587;&#x6863;&#x6570;&#x3002;\n*   &#x24;skip&#xff1a;&#x5728;&#x805a;&#x5408;&#x7ba1;&#x9053;&#x4e2d;&#x8df3;&#x8fc7;&#x6307;&#x5b9a;&#x6570;&#x91cf;&#x7684;&#x6587;&#x6863;&#xff0c;&#x5e76;&#x8fd4;&#x56de;&#x4f59;&#x4e0b;&#x7684;&#x6587;&#x6863;&#x3002;\n*   &#x24;unwind&#xff1a;&#x5c06;&#x6587;&#x6863;&#x4e2d;&#x7684;&#x67d0;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;&#x7c7b;&#x578b;&#x5b57;&#x6bb5;&#x62c6;&#x5206;&#x6210;&#x591a;&#x6761;&#xff0c;&#x6bcf;&#x6761;&#x5305;&#x542b;&#x6570;&#x7ec4;&#x4e2d;&#x7684;&#x4e00;&#x4e2a;&#x503c;&#x3002;\n*   &#x24;group&#xff1a;&#x5c06;&#x96c6;&#x5408;&#x4e2d;&#x7684;&#x6587;&#x6863;&#x5206;&#x7ec4;&#xff0c;&#x53ef;&#x7528;&#x4e8e;&#x7edf;&#x8ba1;&#x7ed3;&#x679c;&#x3002;\n*   &#x24;sort&#xff1a;&#x5c06;&#x8f93;&#x5165;&#x6587;&#x6863;&#x6392;&#x5e8f;&#x540e;&#x8f93;&#x51fa;&#x3002;\n\n**&#x6848;&#x4f8b;&#x6f14;&#x793a;&#xff1a;** \n\n&#xff08;1&#xff09;&#x3001;&#x24;project&#x6f14;&#x793a;&#xff1a;&#x53ea;&#x663e;&#x793a;userid&#x3001;nickname&#x8fd9;&#x4e24;&#x4e2a;&#x5b57;&#x6bb5;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"753,768"}},{"content":"<pre data-lines=\"769,773\"><code class=\"language-shell\">db.comment.aggregate({&#x24;project:{_id:0,&quot;userid&quot;:1,&quot;nickname&quot;:1}})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"769,773"}},{"content":"<pre data-lines=\"774,775\"><code>&#xff08;2&#xff09;&#x3001;&#x24;match&#x6f14;&#x793a;&#xff1a;&#x663e;&#x793a;likenum&#x5927;&#x4e8e;700&#x5e76;&#x4e14;&#x5c0f;&#x4e8e;1500&#x7684;&#x6587;&#x7ae0;&#x4fe1;&#x606f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"774,775"}},{"content":"<pre data-lines=\"776,780\"><code class=\"language-shell\">db.comment.aggregate({&#x24;match:{&quot;likenum&quot;:{&#x24;gt:700,&#x24;lt:1500}}})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"776,780"}},{"content":"<pre data-lines=\"781,782\"><code>&#xff08;3&#xff09;&#x3001;&#x24;limit&#x6f14;&#x793a;&#xff1a;&#x83b7;&#x53d6;&#x524d;&#x4e24;&#x6761;&#x6570;&#x636e;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"781,782"}},{"content":"<pre data-lines=\"783,787\"><code class=\"language-shell\">db.comment.aggregate({&#x24;limit:2})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"783,787"}},{"content":"<pre data-lines=\"788,789\"><code>&#xff08;4&#xff09;&#x3001;&#x24;skip&#x6f14;&#x793a;&#xff1a;&#x8df3;&#x8fc7;&#x524d;&#x4e24;&#x6761;&#x6570;&#x636e;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"788,789"}},{"content":"<pre data-lines=\"790,794\"><code class=\"language-shell\">db.comment.aggregate({&#x24;skip:2})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"790,794"}},{"content":"<pre data-lines=\"795,796\"><code>&#xff08;5&#xff09;&#x3001;&#x24;unwind&#x6f14;&#x793a;&#xff1a;&#x4e00;&#x4e2a;&#x7528;&#x6237;&#x8868;user&#xff0c;&#x5176;&#x4e2d;&#x4e00;&#x4e2a;&#x5b57;&#x6bb5;&#x662f;&#x4e00;&#x4e2a;&#x6570;&#x7ec4;&#x5bf9;&#x8c61;&#xff0c;&#x5b58;&#x7684;&#x662f;&#x7528;&#x6237;&#x7684;&#x5956;&#x52b1;&#x4fe1;&#x606f;&#xff0c;&#x8fd9;&#x65f6;&#x9700;&#x8981;&#x7edf;&#x8ba1;&#x7528;&#x6237;10086&#x6240;&#x6709;&#x5956;&#x52b1;&#x7c7b;&#x578b;&#x4e3a;B&#x7684;&#x603b;&#x989d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"795,796"}},{"content":"<pre data-lines=\"797,812\"><code class=\"language-shell\">\n\ndb.user.insert(\n{\n    &quot;user_id&quot;:10086,\n    &quot;bonus&quot;:[\n        { type:&quot;A&quot;,amount:1000 },\n        { type:&quot;B&quot;,amount:2000 },\n        { type:&quot;B&quot;,amount:3000 }\n    ]\n}\n);\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"797,812"}},{"content":"<pre data-lines=\"813,819\"><code class=\"language-shell\">\n\ndb.user.aggregate({&#x24;unwind:&quot;&#x24;bonus&quot;});\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"813,819"}},{"content":"<pre data-lines=\"820,831\"><code class=\"language-shell\">\n\ndb.user.aggregate([\n{&#x24;match:{&quot;user_id&quot;:10086}},\n{&#x24;unwind:&quot;&#x24;bonus&quot;},\n{&#x24;match:{&quot;bonus.type&quot;:&quot;B&quot;}},\n{&#x24;group:{_id:&quot;&#x24;user_id&quot;,amount:{&#x24;sum:&quot;&#x24;bonus.amount&quot;}}}\n]);\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"820,831"}},{"content":"<pre data-lines=\"832,833\"><code>&#xff08;6&#xff09;&#x3001;&#x24;group&#x6f14;&#x793a;&#xff1a;&#x6309;&#x7528;&#x6237;&#x5206;&#x7ec4;&#x5e76;&#x67e5;&#x8be2;&#x6bcf;&#x4e2a;&#x7528;&#x6237;&#x7684;likenum&#x603b;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"832,833"}},{"content":"<pre data-lines=\"834,838\"><code class=\"language-shell\">db.comment.aggregate([{&#x24;group:{_id:&quot;&#x24;userid&quot;,num_sum:{&#x24;sum:&quot;&#x24;likenum&quot;}}}])\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"834,838"}},{"content":"<pre data-lines=\"839,840\"><code>&#xff08;7&#xff09;&#x3001;&#x24;sort&#x6f14;&#x793a;&#xff1a;&#x5c06;&#x6587;&#x7ae0;&#x7684;likenum&#x4ee5;&#x964d;&#x5e8f;&#x7684;&#x5f62;&#x5f0f;&#x8f93;&#x51fa;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"839,840"}},{"content":"<pre data-lines=\"841,845\"><code class=\"language-shell\">db.comment.aggregate({&#x24;sort:{&quot;likenum&quot;:-1}})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"841,845"}}],"payload":{"tag":"h3","lines":"751,752"}}],"payload":{"tag":"h2","lines":"733,735"}},{"content":"&#x7b2c;&#x516d;&#x7ae0; MongoDB&#x7528;&#x6237;&#x7ba1;&#x7406;","children":[{"content":"6.1&#x3001;&#x6982;&#x8ff0;","children":[{"content":"<pre data-lines=\"851,858\"><code>&#x9ed8;&#x8ba4;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;MongoDB&#x5b9e;&#x4f8b;&#x542f;&#x52a8;&#x8fd0;&#x884c;&#x65f6;&#x662f;&#x6ca1;&#x6709;&#x542f;&#x7528;&#x7528;&#x6237;&#x8bbf;&#x95ee;&#x6743;&#x9650;&#x63a7;&#x5236;&#x7684;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x5728;&#x5b9e;&#x4f8b;&#x672c;&#x673a;&#x670d;&#x52a1; &#x5668;&#x4e0a;&#x90fd;&#x53ef;&#x4ee5;&#x968f;&#x610f;&#x8fde;&#x63a5;&#x5230;&#x5b9e;&#x4f8b;&#x8fdb;&#x884c;&#x5404;&#x79cd;&#x64cd;&#x4f5c;&#xff0c;MongoDB&#x4e0d;&#x4f1a;&#x5bf9;&#x8fde;&#x63a5;&#x5ba2;&#x6237;&#x7aef;&#x8fdb;&#x884c;&#x7528;&#x6237;&#x9a8c;&#x8bc1;&#xff0c;&#x8fd9;&#x662f;&#x975e;&#x5e38;&#x5371;&#x9669;&#x7684;&#x3002;&#x4e3a;&#x4e86;&#x5f3a;&#x5236;&#x5f00;&#x542f;&#x7528;&#x6237;&#x8bbf;&#x95ee;&#x63a7;&#x5236;&#xff08;&#x7528;&#x6237;&#x9a8c;&#x8bc1;&#xff09;&#xff0c;&#x5219;&#x9700;&#x8981;&#x5728;MongoDB&#x5b9e;&#x4f8b;&#x542f;&#x52a8;&#x65f6;&#x4f7f;&#x7528;&#x9009;&#x9879;&#x2013;auth &#x6216;&#x5728;&#x6307;&#x5b9a;&#x542f;&#x52a8;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x4e2d;&#x6dfb;&#x52a0;&#x9009;&#x9879; auth=true&#x3002;&#x5728;&#x5f00;&#x59cb;&#x4e4b;&#x524d;&#x9700;&#x8981;&#x4e86;&#x89e3;&#x4e00;&#x4e0b;&#x6982;&#x5ff5;&#xff1a;\n\n*   &#x8bbf;&#x95ee;&#x63a7;&#x5236;&#xff1a;MongoDB&#x4f7f;&#x7528;&#x7684;&#x662f;&#x57fa;&#x4e8e;&#x89d2;&#x8272;&#x7684;&#x8bbf;&#x95ee;&#x63a7;&#x5236;(Role-Based Access Control,RBAC)&#x6765;&#x7ba1;&#x7406;&#x7528;&#x6237;&#x5bf9;&#x5b9e;&#x4f8b;&#x7684;&#x8bbf;&#x95ee;&#x3002;&#x901a;&#x8fc7;&#x5bf9;&#x7528;&#x6237;&#x6388;&#x4e88;&#x4e00;&#x4e2a;&#x6216;&#x591a;&#x4e2a;&#x89d2;&#x8272;&#x6765;&#x63a7;&#x5236;&#x7528;&#x6237;&#x8bbf;&#x95ee;&#x6570;&#x636e;&#x5e93;&#x8d44;&#x6e90;&#x7684;&#x6743;&#x9650;&#x548c;&#x6570;&#x636e;&#x5e93;&#x64cd;&#x4f5c;&#x7684;&#x6743;&#x9650;&#xff0c;&#x5728;&#x5bf9;&#x7528;&#x6237;&#x5206;&#x914d;&#x89d2;&#x8272;&#x4e4b;&#x524d;&#xff0c;&#x7528;&#x6237;&#x65e0;&#x6cd5;&#x8bbf;&#x95ee;&#x5b9e;&#x4f8b;&#x3002;\n*   &#x89d2;&#x8272;&#xff1a;&#x5728;MongoDB&#x4e2d;&#x901a;&#x8fc7;&#x89d2;&#x8272;&#x5bf9;&#x7528;&#x6237;&#x6388;&#x4e88;&#x76f8;&#x5e94;&#x6570;&#x636e;&#x5e93;&#x8d44;&#x6e90;&#x7684;&#x64cd;&#x4f5c;&#x6743;&#x9650;&#xff0c;&#x6bcf;&#x4e2a;&#x89d2;&#x8272;&#x5f53;&#x4e2d;&#x7684;&#x6743;&#x9650;&#x53ef;&#x4ee5;&#x663e;&#x5f0f;&#x6307;&#x5b9a;&#xff0c; &#x4e5f;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x7ee7;&#x627f;&#x5176;&#x5b83;&#x89d2;&#x8272;&#x7684;&#x6743;&#x9650;&#xff0c;&#x6216;&#x8005;&#x4e24;&#x90fd;&#x90fd;&#x5b58;&#x5728;&#x7684;&#x6743;&#x9650;&#x3002;\n*   &#x6743;&#x9650;&#xff1a;&#x6743;&#x9650;&#x7531;&#x6307;&#x5b9a;&#x7684;&#x6570;&#x636e;&#x5e93;&#x8d44;&#x6e90;(resource)&#x4ee5;&#x53ca;&#x5141;&#x8bb8;&#x5728;&#x6307;&#x5b9a;&#x8d44;&#x6e90;&#x4e0a;&#x8fdb;&#x884c;&#x7684;&#x64cd;&#x4f5c;(action)&#x7ec4;&#x6210;&#x3002;\n\t*   &#x8d44;&#x6e90;(resource)&#x5305;&#x62ec;&#xff1a;&#x6570;&#x636e;&#x5e93;&#x3001;&#x96c6;&#x5408;&#x3001;&#x90e8;&#x5206;&#x96c6;&#x5408;&#x548c;&#x96c6;&#x7fa4;&#x3002;\n\t*   &#x64cd;&#x4f5c;(action)&#x5305;&#x62ec;&#xff1a;&#x5bf9;&#x8d44;&#x6e90;&#x8fdb;&#x884c;&#x7684;&#x589e;&#x3001;&#x5220;&#x3001;&#x6539;&#x3001;&#x67e5;&#x64cd;&#x4f5c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"851,858"}}],"payload":{"tag":"h3","lines":"849,850"}},{"content":"6.2&#x3001;&#x76f8;&#x5173;&#x547d;&#x4ee4;","children":[{"content":"<pre data-lines=\"861,862\"><code>&#xff08;1&#xff09;&#x3001;&#x67e5;&#x8be2;&#x6240;&#x6709;&#x89d2;&#x8272;&#x6743;&#x9650;(&#x4ec5;&#x7528;&#x6237;&#x81ea;&#x5b9a;&#x4e49;&#x89d2;&#x8272;)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"861,862"}},{"content":"<pre data-lines=\"863,867\"><code class=\"language-shell\">db.runCommand({ rolesInfo: 1 })\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"863,867"}},{"content":"<pre data-lines=\"868,869\"><code>&#xff08;2&#xff09;&#x3001;&#x67e5;&#x8be2;&#x6240;&#x6709;&#x89d2;&#x8272;&#x6743;&#x9650;(&#x5305;&#x542b;&#x5185;&#x7f6e;&#x89d2;&#x8272;)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"868,869"}},{"content":"<pre data-lines=\"870,874\"><code class=\"language-shell\">db.runCommand({ rolesInfo: 1, showBuiltinRoles: true })\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"870,874"}},{"content":"<pre data-lines=\"875,876\"><code>&#xff08;3&#xff09;&#x3001;&#x67e5;&#x8be2;&#x5f53;&#x524d;&#x6570;&#x636e;&#x5e93;&#x4e2d;&#x7684;&#x67d0;&#x89d2;&#x8272;&#x7684;&#x6743;&#x9650;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"875,876"}},{"content":"<pre data-lines=\"877,881\"><code class=\"language-shell\">db.runCommand({ rolesInfo: &quot;&lt;rolename&gt;&quot; })\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"877,881"}},{"content":"<pre data-lines=\"882,883\"><code>&#xff08;4&#xff09;&#x3001;&#x67e5;&#x8be2;&#x5176;&#x5b83;&#x6570;&#x636e;&#x5e93;&#x4e2d;&#x6307;&#x5b9a;&#x7684;&#x89d2;&#x8272;&#x6743;&#x9650;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"882,883"}},{"content":"<pre data-lines=\"884,888\"><code class=\"language-shell\">db.runCommand({ rolesInfo: { role: &quot;&lt;rolename&gt;&quot;, db: &quot;&lt;database&gt;&quot; } }\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"884,888"}},{"content":"<pre data-lines=\"889,890\"><code>&#xff08;5&#xff09;&#x3001;&#x89d2;&#x8272;&#x6388;&#x6743;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"889,890"}},{"content":"<pre data-lines=\"891,896\"><code class=\"language-shell\">use &#x6570;&#x636e;&#x5e93;&#x540d;\ndb.grantRolesToUser(&quot;&#x8d26;&#x6237;&quot;, [{role:&quot;&#x89d2;&#x8272;&quot;,db:&quot;&#x6570;&#x636e;&#x5e93;&#x540d;&quot;}]) \n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"891,896"}},{"content":"<pre data-lines=\"897,898\"><code>&#xff08;6&#xff09;&#x3001;&#x6388;&#x6743;&#x53d6;&#x6d88;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"897,898"}},{"content":"<pre data-lines=\"899,904\"><code class=\"language-shell\">use &#x6570;&#x636e;&#x5e93;&#x540d;\ndb.revokeRolesFromUser(&quot;&#x8d26;&#x6237;&quot;,[{role:&quot;&#x89d2;&#x8272;&quot;,db:&quot;&#x6570;&#x636e;&#x5e93;&#x540d;&quot;}])\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"899,904"}}],"payload":{"tag":"h3","lines":"859,860"}},{"content":"6.3&#x3001;&#x5185;&#x7f6e;&#x89d2;&#x8272;","children":[{"content":"&#x6570;&#x636e;&#x5e93;&#x7528;&#x6237;&#x89d2;&#x8272;&#xff1a;read&#x3001;readWrite","children":[],"payload":{"tag":"li","lines":"907,908"}},{"content":"&#x6240;&#x6709;&#x6570;&#x636e;&#x5e93;&#x7528;&#x6237;&#x89d2;&#x8272;&#xff1a;readAnyDatabase&#x3001;readWriteAnyDatabase&#x3001; userAdminAnyDatabase&#x3001;dbAdminAnyDatabase","children":[],"payload":{"tag":"li","lines":"908,909"}},{"content":"&#x6570;&#x636e;&#x5e93;&#x7ba1;&#x7406;&#x89d2;&#x8272;&#xff1a;dbAdmin&#x3001;dbOwner&#x3001;userAdmin","children":[],"payload":{"tag":"li","lines":"909,910"}},{"content":"&#x96c6;&#x7fa4;&#x7ba1;&#x7406;&#x89d2;&#x8272;&#xff1a;clusterAdmin&#x3001;clusterManager&#x3001;clusterMonitor&#x3001;hostManager","children":[],"payload":{"tag":"li","lines":"910,911"}},{"content":"&#x5907;&#x4efd;&#x6062;&#x590d;&#x89d2;&#x8272;&#xff1a;backup&#x3001;restore","children":[],"payload":{"tag":"li","lines":"911,912"}},{"content":"&#x8d85;&#x7ea7;&#x7528;&#x6237;&#x89d2;&#x8272;&#xff1a;root","children":[],"payload":{"tag":"li","lines":"912,913"}},{"content":"&#x5185;&#x90e8;&#x89d2;&#x8272;&#xff1a;system","children":[],"payload":{"tag":"li","lines":"913,915"}}],"payload":{"tag":"h3","lines":"905,906"}},{"content":"6.4&#x3001;&#x5177;&#x4f53;&#x89d2;&#x8272;","children":[{"content":"<table data-lines=\"917,931\">\n<thead data-lines=\"917,918\">\n<tr data-lines=\"917,918\">\n<th>&#x89d2;&#x8272;</th>\n<th>&#x63cf;&#x8ff0;</th>\n</tr>\n</thead>\n<tbody data-lines=\"919,931\">\n<tr data-lines=\"919,920\">\n<td>read</td>\n<td>&#x53ef;&#x4ee5;&#x8bfb;&#x53d6;&#x6307;&#x5b9a;&#x6570;&#x636e;&#x5e93;&#x4e2d;&#x4efb;&#x4f55;&#x6570;&#x636e;&#x3002;</td>\n</tr>\n<tr data-lines=\"920,921\">\n<td>readWrite</td>\n<td>&#x53ef;&#x4ee5;&#x8bfb;&#x5199;&#x6307;&#x5b9a;&#x6570;&#x636e;&#x5e93;&#x4e2d;&#x4efb;&#x4f55;&#x6570;&#x636e;&#xff0c;&#x5305;&#x62ec;&#x521b;&#x5efa;&#x3001;&#x91cd;&#x547d;&#x540d;&#x3001;&#x5220;&#x9664;&#x96c6;&#x5408;&#x3002;</td>\n</tr>\n<tr data-lines=\"921,922\">\n<td>readAnyDatabase</td>\n<td>&#x53ef;&#x4ee5;&#x8bfb;&#x53d6;&#x6240;&#x6709;&#x6570;&#x636e;&#x5e93;&#x4e2d;&#x4efb;&#x4f55;&#x6570;&#x636e;(&#x9664;&#x4e86;&#x6570;&#x636e;&#x5e93;con&#xfb01;g&#x548c;local&#x4e4b;&#x5916;)&#x3002;</td>\n</tr>\n<tr data-lines=\"922,923\">\n<td>readWriteAnyDatabase</td>\n<td>&#x53ef;&#x4ee5;&#x8bfb;&#x5199;&#x6240;&#x6709;&#x6570;&#x636e;&#x5e93;&#x4e2d;&#x4efb;&#x4f55;&#x6570;&#x636e;(&#x9664;&#x4e86;&#x6570;&#x636e;&#x5e93;con&#xfb01;g&#x548c;local&#x4e4b;&#x5916;)&#x3002;</td>\n</tr>\n<tr data-lines=\"923,924\">\n<td>userAdminAnyDatabase</td>\n<td>&#x53ef;&#x4ee5;&#x5728;&#x6307;&#x5b9a;&#x6570;&#x636e;&#x5e93;&#x521b;&#x5efa;&#x548c;&#x4fee;&#x6539;&#x7528;&#x6237;(&#x9664;&#x4e86;&#x6570;&#x636e;&#x5e93;con&#xfb01;g&#x548c;local&#x4e4b;&#x5916;)&#x3002;</td>\n</tr>\n<tr data-lines=\"924,925\">\n<td>dbAdminAnyDatabase</td>\n<td>&#x53ef;&#x4ee5;&#x8bfb;&#x53d6;&#x4efb;&#x4f55;&#x6570;&#x636e;&#x5e93;&#x4ee5;&#x53ca;&#x5bf9;&#x6570;&#x636e;&#x5e93;&#x8fdb;&#x884c;&#x6e05;&#x7406;&#x3001;&#x4fee;&#x6539;&#x3001;&#x538b;&#x7f29;&#x3001;&#x83b7;&#x53d6;&#x7edf; &#x8ba1;&#x4fe1;&#x606f;&#x3001;&#x6267;&#x884c;&#x68c0;&#x67e5;&#x7b49;&#x64cd;&#x4f5c;(&#x9664;&#x4e86;&#x6570;&#x636e;&#x5e93;con&#xfb01;g&#x548c;local&#x4e4b;&#x5916;)&#x3002;</td>\n</tr>\n<tr data-lines=\"925,926\">\n<td>dbAdmin</td>\n<td>&#x53ef;&#x4ee5;&#x8bfb;&#x53d6;&#x6307;&#x5b9a;&#x6570;&#x636e;&#x5e93;&#x4ee5;&#x53ca;&#x5bf9;&#x6570;&#x636e;&#x5e93;&#x8fdb;&#x884c;&#x6e05;&#x7406;&#x3001;&#x4fee;&#x6539;&#x3001;&#x538b;&#x7f29;&#x3001;&#x83b7;&#x53d6;&#x7edf;&#x8ba1;&#x4fe1;&#x606f;&#x3001;&#x6267;&#x884c;&#x68c0;&#x67e5;&#x7b49;&#x64cd;&#x4f5c;&#x3002;</td>\n</tr>\n<tr data-lines=\"926,927\">\n<td>userAdmin</td>\n<td>&#x53ef;&#x4ee5;&#x5728;&#x6307;&#x5b9a;&#x6570;&#x636e;&#x5e93;&#x521b;&#x5efa;&#x548c;&#x4fee;&#x6539;&#x7528;&#x6237;&#x3002;</td>\n</tr>\n<tr data-lines=\"927,928\">\n<td>clusterAdmin</td>\n<td>&#x53ef;&#x4ee5;&#x5bf9;&#x6574;&#x4e2a;&#x96c6;&#x7fa4;&#x6216;&#x6570;&#x636e;&#x5e93;&#x7cfb;&#x7edf;&#x8fdb;&#x884c;&#x7ba1;&#x7406;&#x64cd;&#x4f5c;&#x3002;</td>\n</tr>\n<tr data-lines=\"928,929\">\n<td>backup</td>\n<td>&#x5907;&#x4efd;MongoDB&#x6570;&#x636e;&#x6700;&#x5c0f;&#x7684;&#x6743;&#x9650;&#x3002;</td>\n</tr>\n<tr data-lines=\"929,930\">\n<td>restore</td>\n<td>&#x4ece;&#x5907;&#x4efd;&#x6587;&#x4ef6;&#x4e2d;&#x8fd8;&#x539f;&#x6062;&#x590d;MongoDB&#x6570;&#x636e;(&#x9664;&#x4e86;system.pro&#xfb01;le&#x96c6;&#x5408;)&#x7684;&#x6743;&#x9650;&#x3002;</td>\n</tr>\n<tr data-lines=\"930,931\">\n<td>root</td>\n<td>&#x8d85;&#x7ea7;&#x8d26;&#x53f7;&#xff0c;&#x8d85;&#x7ea7;&#x6743;&#x9650;</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"917,931"}}],"payload":{"tag":"h3","lines":"915,916"}},{"content":"6.5&#x3001;&#x5355;&#x5b9e;&#x4f8b;&#x914d;&#x7f6e;","children":[{"content":"<pre data-lines=\"934,941\"><code>**&#x7b2c;&#x4e00;&#x6b65;&#xff1a;** \n\n&#x4f7f;&#x7528;&#x4e4b;&#x524d;Windows&#x4e0b;&#x90e8;&#x7f72;&#x597d;&#x7684;MongoDB&#xff0c;&#x542f;&#x52a8;mongod&#x670d;&#x52a1;\n\n**&#x7b2c;&#x4e8c;&#x6b65;&#xff1a;** \n\n&#x521b;&#x5efa;&#x4e24;&#x4e2a;&#x7ba1;&#x7406;&#x5458;&#x7528;&#x6237;&#xff0c;&#x4e00;&#x4e2a;&#x662f;&#x7cfb;&#x7edf;&#x7684;&#x8d85;&#x7ea7;&#x7ba1;&#x7406;&#x5458;myroot&#xff0c;&#x4e00;&#x4e2a;&#x662f;admin&#x5e93;&#x7684;&#x7ba1;&#x7406;&#x5458;myadmin\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"934,941"}},{"content":"<pre data-lines=\"942,956\"><code class=\"language-shell\">//&#x5207;&#x6362;&#x5230;admin\nuse admin\n\n//&#x521b;&#x5efa;myroot\ndb.createUser({user:&quot;myroot&quot;,pwd:&quot;123456&quot;,roles:[&quot;root&quot;]})\n\n//&#x521b;&#x5efa;myadmin\ndb.createUser({user:&quot;myadmin&quot;,pwd:&quot;123456&quot;,roles: [{role:&quot;userAdminAnyDatabase&quot;,db:&quot;admin&quot;}]})\n\n//&#x67e5;&#x770b;&#x7528;&#x6237;&#x60c5;&#x51b5;\ndb.system.users.find()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"942,956"}},{"content":"<pre data-lines=\"957,958\"><code>&#xff08;1&#xff09;&#x3001;&#x5982;&#x4f55;&#x5220;&#x9664;&#x4e00;&#x4e2a;&#x7528;&#x6237;&#xff1f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"957,958"}},{"content":"<pre data-lines=\"959,964\"><code class=\"language-shell\">db.dropUser(&quot;myroot&quot;)\ndb.dropUser(&quot;myadmin&quot;)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"959,964"}},{"content":"<pre data-lines=\"965,966\"><code>&#xff08;2&#xff09;&#x3001;&#x5982;&#x4f55;&#x4fee;&#x6539;&#x7528;&#x6237;&#x5bc6;&#x7801;&#xff1f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"965,966"}},{"content":"<pre data-lines=\"967,972\"><code class=\"language-shell\"> db.changeUserPassword(&quot;myroot&quot;, &quot;123456&quot;)\n db.changeUserPassword(&quot;myadmin&quot;, &quot;123456&quot;)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"967,972"}},{"content":"<pre data-lines=\"973,974\"><code>**&#x7b2c;&#x4e09;&#x6b65;&#xff1a;&#x6d4b;&#x8bd5;&#x7528;&#x6237;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"973,974"}},{"content":"<pre data-lines=\"975,985\"><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">&gt; </span><span class=\"language-bash\">use admin</span>\nswitched to db admin\n<span class=\"hljs-meta prompt_\">&gt; </span><span class=\"language-bash\">db.auth(<span class=\"hljs-string\">&quot;myroot&quot;</span>,<span class=\"hljs-string\">&quot;12345&quot;</span>)</span>\nError: Authentication failed.\n0\n<span class=\"hljs-meta prompt_\">&gt; </span><span class=\"language-bash\">db.auth(<span class=\"hljs-string\">&quot;myroot&quot;</span>,<span class=\"hljs-string\">&quot;123456&quot;</span>)</span>\n1\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"975,985"}},{"content":"<pre data-lines=\"986,987\"><code>**&#x7b2c;&#x56db;&#x6b65;&#xff1a;&#x521b;&#x5efa;&#x666e;&#x901a;&#x7528;&#x6237;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"986,987"}},{"content":"<pre data-lines=\"988,999\"><code class=\"language-shell\">//&#x5207;&#x6362;&#x5230;articledb\nuse articledb\n\n//&#x521b;&#x5efa;bobo\ndb.createUser({user: &quot;bobo&quot;, pwd: &quot;123456&quot;, roles: [{ role: &quot;readWrite&quot;, db: &quot;articledb&quot; }]})\n\n//&#x6d4b;&#x8bd5;bobo\ndb.auth(&quot;bobo&quot;,&quot;123456&quot;)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"988,999"}},{"content":"<pre data-lines=\"1000,1007\"><code>**&#x7b2c;&#x4e94;&#x6b65;&#xff1a;&#x5173;&#x95ed;mongod&#x670d;&#x52a1;**\n\n&#x76f4;&#x63a5;&#x5173;&#x6389;&#x7a97;&#x53e3;&#x5c31;&#x884c;&#x4e86;\n\n**&#x7b2c;&#x516d;&#x6b65;&#xff1a;&#x4fee;&#x6539;&#x914d;&#x7f6e;&#x6587;&#x4ef6;**\n\n&#x6dfb;&#x52a0;&#x4ee5;&#x4e0b;&#x4ee3;&#x7801;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1000,1007"}},{"content":"<pre data-lines=\"1008,1014\"><code class=\"language-shell\">security:\n   \n   authorization: enabled\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1008,1014"}},{"content":"<pre data-lines=\"1015,1018\"><code>**&#x7b2c;&#x4e03;&#x6b65;&#xff1a;&#x767b;&#x5f55;&#x6d4b;&#x8bd5;**\n\n&#x7b2c;&#x4e00;&#x79cd;&#xff1a;&#x5148;&#x767b;&#x5f55;&#xff0c;&#x518d;&#x8ba4;&#x8bc1;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1015,1018"}},{"content":"<pre data-lines=\"1019,1032\"><code class=\"language-shell\">C:\\DevTools\\mongodb-win32-x86_64-2008plus-ssl-4.0.12\\bin&gt;mongo.exe --host=127.0.0.1 --port=27017\nMongoDB shell version v4.0.12\nconnecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb\nImplicit session: session { &quot;id&quot; : UUID(&quot;8b622b82-1a50-4a96-8916-cdc2b48dda45&quot;) }\nMongoDB server version: 4.0.12\n<span class=\"hljs-meta prompt_\">&gt; </span><span class=\"language-bash\">use articledb</span>\nswitched to db articledb\n<span class=\"hljs-meta prompt_\">&gt; </span><span class=\"language-bash\">db.auth(<span class=\"hljs-string\">&quot;bobo&quot;</span>,<span class=\"hljs-string\">&quot;123456&quot;</span>)</span>\n1\n<span class=\"hljs-meta prompt_\">&gt;</span><span class=\"language-bash\">\n</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1019,1032"}},{"content":"<pre data-lines=\"1033,1034\"><code>&#x7b2c;&#x4e8c;&#x79cd;&#xff1a;&#x767b;&#x5f55;&#x7684;&#x540c;&#x65f6;&#x8ba4;&#x8bc1;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1033,1034"}},{"content":"<pre data-lines=\"1035,1044\"><code class=\"language-shell\">C:\\DevTools\\mongodb-win32-x86_64-2008plus-ssl-4.0.12\\bin&gt;mongo.exe --host=127.0.0.1 --port=27017 --authenticationDatabase=articledb -u bobo -p 123456\nMongoDB shell version v4.0.12\nconnecting to: mongodb://127.0.0.1:27017/?authSource=articledb&amp;gssapiServiceName=mongodb\nImplicit session: session { &quot;id&quot; : UUID(&quot;238f5a68-ac0d-4b65-b02a-56a4e1735727&quot;) }\nMongoDB server version: 4.0.12\n<span class=\"hljs-meta prompt_\">&gt;</span><span class=\"language-bash\">\n</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1035,1044"}}],"payload":{"tag":"h3","lines":"932,933"}}],"payload":{"tag":"h2","lines":"846,848"}},{"content":"&#x7b2c;&#x4e03;&#x7ae0; MongoDB&#x5907;&#x4efd;&#x4e0e;&#x6062;&#x590d;","children":[{"content":"7.1&#x3001;&#x6570;&#x636e;&#x5907;&#x4efd;","children":[{"content":"<pre data-lines=\"1050,1051\"><code>**&#x8bed;&#x6cd5;&#x683c;&#x5f0f;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1050,1051"}},{"content":"<pre data-lines=\"1052,1056\"><code class=\"language-shell\">mongodump.exe --host=&#x6570;&#x636e;&#x5e93;&#x5730;&#x5740; --port=&#x6570;&#x636e;&#x5e93;&#x7aef;&#x53e3; --authenticationDatabase=&#x6570;&#x636e;&#x5e93;&#x540d; -u &#x8d26;&#x6237; -p &#x5bc6;&#x7801; -d &#x6570;&#x636e;&#x5e93;&#x540d; -o &#x4fdd;&#x5b58;&#x76ee;&#x5f55;\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1052,1056"}},{"content":"<pre data-lines=\"1057,1058\"><code>**&#x6848;&#x4f8b;&#x6f14;&#x793a;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1057,1058"}},{"content":"<pre data-lines=\"1059,1063\"><code class=\"language-shell\">C:\\DevTools\\mongodb-win32-x86_64-2008plus-ssl-4.0.12\\bin&gt;mongodump.exe --host=127.0.0.1 --port=27017 --authenticationDatabase=articledb -u bobo -p 123456 -d articledb -o &quot;D:/&quot;\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1059,1063"}}],"payload":{"tag":"h3","lines":"1048,1049"}},{"content":"7.2&#x3001;&#x6570;&#x636e;&#x6062;&#x590d;","children":[{"content":"<pre data-lines=\"1066,1067\"><code>**&#x8bed;&#x6cd5;&#x683c;&#x5f0f;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1066,1067"}},{"content":"<pre data-lines=\"1068,1072\"><code class=\"language-shell\">C:\\DevTools\\mongodb-win32-x86_64-2008plus-ssl-4.0.12\\bin&gt;mongorestore.exe --host=&#x6570;&#x636e;&#x5e93;&#x5730;&#x5740; --port=&#x6570;&#x636e;&#x5e93;&#x7aef;&#x53e3; --authenticationDatabase=&#x6570;&#x636e;&#x5e93;&#x540d; -u &#x8d26;&#x6237; -p &#x5bc6;&#x7801; -d &#x6570;&#x636e;&#x5e93;&#x540d; --dir &#x5bfc;&#x5165;&#x76ee;&#x5f55; --drop\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1068,1072"}},{"content":"<pre data-lines=\"1073,1076\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x2013;drop&#x53c2;&#x6570;&#x4ee3;&#x8868;&#xff1a;&#x6062;&#x590d;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x5148;&#x5220;&#x9664;&#x5f53;&#x524d;&#x6570;&#x636e;&#xff0c;&#x7136;&#x540e;&#x6062;&#x590d;&#x5907;&#x4efd;&#x7684;&#x6570;&#x636e;&#x3002;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x6062;&#x590d;&#x540e;&#xff0c;&#x5907;&#x4efd;&#x540e;&#x6dfb;&#x52a0;&#x4fee;&#x6539;&#x7684;&#x6570;&#x636e;&#x90fd;&#x4f1a;&#x88ab;&#x5220;&#x9664;&#xff0c;&#x614e;&#x7528;&#x54e6;&#xff01;\n\n**&#x6848;&#x4f8b;&#x6f14;&#x793a;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1073,1076"}},{"content":"<pre data-lines=\"1077,1081\"><code class=\"language-shell\">C:\\DevTools\\mongodb-win32-x86_64-2008plus-ssl-4.0.12\\bin&gt;mongorestore.exe --host=127.0.0.1 --port=27017 --authenticationDatabase=articledb -u bobo -p 123456 -d articledb --dir &quot;D:/articledb&quot; --drop\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1077,1081"}}],"payload":{"tag":"h3","lines":"1064,1065"}}],"payload":{"tag":"h2","lines":"1045,1047"}},{"content":"&#x7b2c;&#x516b;&#x7ae0; MongoDB&#x526f;&#x672c;&#x96c6;","children":[{"content":"8.1&#x3001;&#x5b89;&#x88c5;&#x73af;&#x5883;","children":[{"content":"<pre data-lines=\"1087,1105\"><code>*   &#x64cd;&#x4f5c;&#x7cfb;&#x7edf;&#xff1a;CentOS-6.10-x86\\_64-bin-DVD1.iso\n\t\n*   &#x7cfb;&#x7edf;&#x7248;&#x672c;&#xff1a;&#x684c;&#x9762;&#x7248;&#xff08;&#x5e26;&#x56fe;&#x5f62;&#x5316;&#x754c;&#x9762;&#xff09;\n\t\n*   &#x5185;&#x5b58;&#x5927;&#x5c0f;&#xff1a;2GB\n\t\n*   &#x786c;&#x76d8;&#x5927;&#x5c0f;&#xff1a;20GB\n\t\n*   MongoDB&#xff1a;mongodb-linux-x86\\_64-4.0.10.tgz\n\t\n*   &#x8fde;&#x63a5;&#x5de5;&#x5177;&#xff1a;SecureCRT7.0.0&#xff0c;&#x8fde;&#x63a5;&#x4f1a;&#x8bdd;&#x5df2;&#x7ecf;&#x8bbe;&#x7f6e;&#x7f16;&#x7801;&#x4e3a;UTF-8&#xff0c;&#x4eff;&#x771f;&#x73af;&#x5883;&#x8bbe;&#x7f6e;&#x4e3a;linux\n\n```shell\n&#x5b89;&#x88c5;&#xff1a;yum install -y lrzsz\n&#x4e0a;&#x4f20;&#xff1a;rz &lt;&#x6572;&#x56de;&#x8f66;&gt;\n&#x4e0b;&#x8f7d;&#xff1a;sz &#x6587;&#x4ef6;&#x540d;\n\n```\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1087,1105"}}],"payload":{"tag":"h3","lines":"1085,1086"}},{"content":"8.2&#x3001;&#x526f;&#x672c;&#x96c6;&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"1109,1110\"><code>MongoDB&#x4e2d;&#x7684;&#x526f;&#x672c;&#x96c6;&#xff08;Replica Set&#xff09;&#x662f;&#x4e00;&#x7ec4;&#x7ef4;&#x62a4;&#x76f8;&#x540c;&#x6570;&#x636e;&#x96c6;&#x7684;mongod&#x670d;&#x52a1;&#xff0c; &#x526f;&#x672c;&#x96c6;&#x53ef;&#x63d0;&#x4f9b;&#x5197;&#x4f59;&#x548c;&#x9ad8;&#x53ef;&#x7528;&#x6027;&#xff0c;&#x662f;&#x6240;&#x6709;&#x751f;&#x4ea7;&#x90e8;&#x7f72;&#x7684;&#x57fa;&#x7840;&#x3002;&#x4e5f;&#x53ef;&#x4ee5;&#x8bf4;&#xff0c;&#x526f;&#x672c;&#x96c6;&#x7c7b;&#x4f3c;&#x4e8e;&#x6709;&#x81ea;&#x52a8;&#x6545;&#x969c;&#x6062;&#x590d;&#x529f;&#x80fd;&#x7684;&#x4e3b;&#x4ece;&#x96c6;&#x7fa4;&#xff0c;&#x901a;&#x4fd7;&#x7684;&#x8bb2;&#xff0c;&#x5c31;&#x662f;&#x7528;&#x591a;&#x53f0;&#x673a;&#x5668;&#x8fdb;&#x884c;&#x540c;&#x4e00;&#x6570;&#x636e;&#x7684;&#x5f02;&#x6b65;&#x540c;&#x6b65;&#xff0c;&#x4ece;&#x800c;&#x4f7f;&#x591a;&#x53f0;&#x673a;&#x5668;&#x62e5;&#x6709;&#x540c;&#x4e00;&#x6570;&#x636e;&#x7684;&#x591a;&#x4e2a;&#x526f;&#x672c;&#xff0c;&#x5e76;&#x4e14;&#x5f53;&#x4e3b;&#x5e93;&#x6302;&#x6389;&#x65f6;&#x5728;&#x4e0d;&#x9700;&#x8981;&#x7528;&#x6237;&#x5e72;&#x9884;&#x7684;&#x60c5;&#x51b5;&#x4e0b;&#x81ea;&#x52a8;&#x5207;&#x6362;&#x5176;&#x5b83;&#x5907;&#x4efd;&#x670d;&#x52a1;&#x5668;&#x505a;&#x4e3b;&#x5e93;&#xff0c;&#x800c;&#x4e14;&#x8fd8;&#x53ef;&#x4ee5;&#x5229;&#x7528;&#x526f;&#x672c;&#x670d;&#x52a1;&#x5668;&#x505a;&#x53ea;&#x8bfb;&#x670d;&#x52a1;&#x5668;&#xff0c;&#x5b9e;&#x73b0;&#x8bfb;&#x5199;&#x5206;&#x79bb;&#xff0c;&#x63d0;&#x9ad8;&#x8d1f;&#x8f7d;&#x80fd;&#x529b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1109,1110"}}],"payload":{"tag":"h3","lines":"1107,1108"}},{"content":"8.3&#x3001;&#x526f;&#x672c;&#x96c6;&#x67b6;&#x6784;","children":[{"content":"<pre data-lines=\"1113,1114\"><code>&#x5b9e;&#x73b0;&#x76ee;&#x6807;&#xff1a;&#x4e00;&#x4e3b;&#x4e00;&#x526f;&#x672c;&#x4e00;&#x4ef2;&#x88c1;&#x3001;&#x542b;&#x6709;&#x5b89;&#x5168;&#x8ba4;&#x8bc1;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1113,1114"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjIxNzAyMTgucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"1115,1116"}}],"payload":{"tag":"h3","lines":"1111,1112"}},{"content":"8.4&#x3001;&#x526f;&#x672c;&#x96c6;&#x642d;&#x5efa;","children":[{"content":"<pre data-lines=\"1119,1120\"><code>**&#x7b2c;&#x4e00;&#x6b65;&#xff1a;&#x5b89;&#x88c5;&#x8f6f;&#x4ef6;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1119,1120"}},{"content":"<pre data-lines=\"1121,1129\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1121,1129"}},{"content":"<pre data-lines=\"1130,1131\"><code>**&#x7b2c;&#x4e8c;&#x6b65;&#xff1a;&#x521b;&#x5efa;&#x76ee;&#x5f55;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1130,1131"}},{"content":"<pre data-lines=\"1132,1146\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1132,1146"}},{"content":"<pre data-lines=\"1147,1148\"><code>**&#x7b2c;&#x4e09;&#x6b65;&#xff1a;&#x7f16;&#x8f91;&#x914d;&#x7f6e;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1147,1148"}},{"content":"<pre data-lines=\"1149,1153\"><code class=\"language-shell\">[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1149,1153"}},{"content":"<pre data-lines=\"1154,1179\"><code class=\"language-shell\">systemLog:\n   destination: file\n   \n   path: &quot;/mongodb/replica_sets/myrs_xxxxx/log/mongod.log&quot;\n   logAppend: true\nnet:\n   port: xxxxx\n   \n   bindIp: &quot;192.168.206.128&quot;\nstorage:\n   \n   dbPath: &quot;/mongodb/replica_sets/myrs_xxxxx/data/db&quot;\n   journal:\n      enabled: true\nprocessManagement:\n   \n   fork: true\n   \n   pidFilePath: &quot;/mongodb/replica_sets/myrs_xxxxx/log/mongod.pid&quot;\nreplication:\n   \n   replSetName: myrs\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1154,1179"}},{"content":"<pre data-lines=\"1180,1181\"><code>**&#x7b2c;&#x56db;&#x6b65;&#xff1a;&#x62f7;&#x8d1d;&#x914d;&#x7f6e;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1180,1181"}},{"content":"<pre data-lines=\"1182,1188\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1182,1188"}},{"content":"<pre data-lines=\"1189,1190\"><code>**&#x7b2c;&#x4e94;&#x6b65;&#xff1a;&#x542f;&#x52a8;&#x670d;&#x52a1;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1189,1190"}},{"content":"<pre data-lines=\"1191,1197\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1191,1197"}},{"content":"<pre data-lines=\"1198,1199\"><code>**&#x7b2c;&#x516d;&#x6b65;&#xff1a;&#x8fde;&#x63a5;&#x4e3b;&#x8282;&#x70b9;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1198,1199"}},{"content":"<pre data-lines=\"1200,1209\"><code class=\"language-shell\">[root@caochenlei ~]\nMongoDB shell version v4.0.10\nconnecting to: mongodb://192.168.206.128:27017/?gssapiServiceName=mongodb\nImplicit session: session { &quot;id&quot; : UUID(&quot;dc3262f8-9f56-448b-a8c7-9abccba14442&quot;) }\nMongoDB server version: 4.0.10\n<span class=\"hljs-meta prompt_\">&gt; </span><span class=\"language-bash\">\n</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1200,1209"}},{"content":"<pre data-lines=\"1210,1211\"><code>**&#x7b2c;&#x4e03;&#x6b65;&#xff1a;&#x521d;&#x59cb;&#x5316;&#x526f;&#x672c;&#x96c6;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1210,1211"}},{"content":"<pre data-lines=\"1212,1231\"><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">&gt; </span><span class=\"language-bash\">rs.initiate()</span>\n{\n        &quot;info2&quot; : &quot;no configuration specified. Using a default configuration for the set&quot;,\n        &quot;me&quot; : &quot;192.168.206.128:27017&quot;,\n        &quot;ok&quot; : 1,\n        &quot;operationTime&quot; : Timestamp(1598110530, 1),\n        &quot;&#x24;clusterTime&quot; : {\n                &quot;clusterTime&quot; : Timestamp(1598110530, 1),\n                &quot;signature&quot; : {\n                        &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),\n                        &quot;keyId&quot; : NumberLong(0)\n                }\n        }\n}\nmyrs:SECONDARY&gt; \nmyrs:PRIMARY&gt; \n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1212,1231"}},{"content":"<pre data-lines=\"1232,1235\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;myrs:SECONDARY&gt; &#x56de;&#x8f66;&#x53d8;&#x6210;&#x4e3b;&#x8282;&#x70b9;&#x3002;\n\n**&#x7b2c;&#x516b;&#x6b65;&#xff1a;&#x67e5;&#x770b;&#x526f;&#x672c;&#x96c6;&#x914d;&#x7f6e;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1232,1235"}},{"content":"<pre data-lines=\"1236,1240\"><code class=\"language-shell\">myrs:PRIMARY&gt; rs.config()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1236,1240"}},{"content":"<pre data-lines=\"1241,1251\"><code>&#x914d;&#x7f6e;&#x8bf4;&#x660e;&#xff1a;\n\n*   &#x201c;\\_id&#x201d; : &#x201c;myrs&#x201d; &#xff1a;&#x526f;&#x672c;&#x96c6;&#x7684;&#x914d;&#x7f6e;&#x6570;&#x636e;&#x5b58;&#x50a8;&#x7684;&#x4e3b;&#x952e;&#x503c;&#xff0c;&#x9ed8;&#x8ba4;&#x5c31;&#x662f;&#x526f;&#x672c;&#x96c6;&#x7684;&#x540d;&#x5b57;\n*   &#x201c;members&#x201d; &#xff1a;&#x526f;&#x672c;&#x96c6;&#x7684;&#x6210;&#x5458;&#x6570;&#x7ec4;\n*   &#x201c;host&#x201d; : &#xff08;&#x8be5;&#x8282;&#x70b9;&#x6570;&#x636e;&#x5e93;&#x5730;&#x5740;&#xff09;\n*   &#x201c;arbiterOnly&#x201d; : false&#xff08;&#x8be5;&#x6210;&#x5458;&#x4e0d;&#x662f;&#x4ef2;&#x88c1;&#x8282;&#x70b9;&#xff09;\n*   &#x201c;priority&#x201d; : 1&#xff08;&#x4f18;&#x5148;&#x7ea7;&#xff09;\n*   &#x201c;settings&#x201d; &#xff1a;&#x526f;&#x672c;&#x96c6;&#x7684;&#x53c2;&#x6570;&#x914d;&#x7f6e;\n\n**&#x7b2c;&#x4e5d;&#x6b65;&#xff1a;&#x67e5;&#x770b;&#x526f;&#x672c;&#x96c6;&#x72b6;&#x6001;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1241,1251"}},{"content":"<pre data-lines=\"1252,1256\"><code class=\"language-shell\">myrs:PRIMARY&gt; rs.status()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1252,1256"}},{"content":"<pre data-lines=\"1257,1264\"><code>&#x72b6;&#x6001;&#x8bf4;&#x660e;&#xff1a;\n\n*   &#x201c;set&#x201d; : &#x201c;myrs&#x201d; &#xff1a;&#x526f;&#x672c;&#x96c6;&#x7684;&#x540d;&#x5b57;\n*   &#x201c;myState&#x201d; : 1&#xff1a;&#x8bf4;&#x660e;&#x72b6;&#x6001;&#x6b63;&#x5e38;\n*   &#x201c;members&#x201d; &#xff1a;&#x526f;&#x672c;&#x96c6;&#x6210;&#x5458;&#x6570;&#x7ec4;\n\n**&#x7b2c;&#x5341;&#x6b65;&#xff1a;&#x6dfb;&#x52a0;&#x526f;&#x672c;&#x8282;&#x70b9;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1257,1264"}},{"content":"<pre data-lines=\"1265,1269\"><code class=\"language-shell\">myrs:PRIMARY&gt; rs.add(&quot;192.168.206.128:27018&quot;)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1265,1269"}},{"content":"<pre data-lines=\"1270,1271\"><code>**&#x7b2c;&#x5341;&#x4e00;&#x6b65;&#xff1a;&#x6dfb;&#x52a0;&#x4ef2;&#x88c1;&#x8282;&#x70b9;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1270,1271"}},{"content":"<pre data-lines=\"1272,1276\"><code class=\"language-shell\">myrs:PRIMARY&gt; rs.addArb(&quot;192.168.206.128:27019&quot;)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1272,1276"}},{"content":"<pre data-lines=\"1277,1278\"><code>**&#x7b2c;&#x5341;&#x4e8c;&#x6b65;&#xff1a;&#x67e5;&#x770b;&#x526f;&#x672c;&#x96c6;&#x72b6;&#x6001;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1277,1278"}},{"content":"<pre data-lines=\"1279,1283\"><code class=\"language-shell\">myrs:PRIMARY&gt; rs.status()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1279,1283"}},{"content":"<pre data-lines=\"1284,1285\"><code>**&#x7b2c;&#x5341;&#x4e09;&#x6b65;&#xff1a;&#x6d4b;&#x8bd5;&#x4e3b;&#x8282;&#x70b9;&#x8bfb;&#x5199;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1284,1285"}},{"content":"<pre data-lines=\"1286,1297\"><code class=\"language-shell\">myrs:PRIMARY&gt; use articledb\nswitched to db articledb\n\nmyrs:PRIMARY&gt; db.comment.insert({&quot;articleid&quot;:&quot;100000&quot;,&quot;content&quot;:&quot;&#x4eca;&#x5929;&#x5929;&#x6c14;&#x771f;&#x597d;&#xff0c;&#x9633;&#x5149;&#x660e;&#x5a9a;&quot;,&quot;userid&quot;:&quot;1001&quot;,&quot;nickname&quot;:&quot;Rose&quot;,&quot;createdatetime&quot;:new Date()})\nWriteResult({ &quot;nInserted&quot; : 1 })\n\nmyrs:PRIMARY&gt; db.comment.find()\n{ &quot;_id&quot; : ObjectId(&quot;5f413ea82b0bd854ea536d12&quot;), &quot;articleid&quot; : &quot;100000&quot;, &quot;content&quot; : &quot;&#x4eca;&#x5929;&#x5929;&#x6c14;&#x771f;&#x597d;&#xff0c;&#x9633;&#x5149;&#x660e;&#x5a9a;&quot;, &quot;userid&quot; : &quot;1001&quot;, &quot;nickname&quot; : &quot;Rose&quot;, &quot;createdatetime&quot; : ISODate(&quot;2020-08-22T15:50:00.563Z&quot;) }\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1286,1297"}},{"content":"<pre data-lines=\"1298,1303\"><code>**&#x7b2c;&#x5341;&#x56db;&#x6b65;&#xff1a;&#x6d4b;&#x8bd5;&#x526f;&#x672c;&#x8282;&#x70b9;&#x8bfb;&#x5199;**\n\n&#x9ed8;&#x8ba4;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x526f;&#x672c;&#x8282;&#x70b9;&#x662f;&#x6ca1;&#x6709;&#x8bfb;&#x5199;&#x6743;&#x9650;&#x7684;&#xff0c;&#x53ef;&#x4ee5;&#x589e;&#x52a0;&#x8bfb;&#x7684;&#x6743;&#x9650;&#xff0c;&#x4f46;&#x9700;&#x8981;&#x8fdb;&#x884c;&#x8bbe;&#x7f6e;&#x3002;&#x4e00;&#x822c;&#x4e0d;&#x8bbe;&#x7f6e;&#x5199;&#x6743;&#x9650;&#xff0c;&#x8fd9;&#x6837;&#x5c31;&#x5b9e;&#x73b0;&#x4e86;&#x8bfb;&#x5199;&#x5206;&#x79bb;&#x7684;&#x6548;&#x679c;&#x4e86;&#x3002;\n\n&#x5148;&#x767b;&#x5f55;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1298,1303"}},{"content":"<pre data-lines=\"1304,1308\"><code class=\"language-shell\">[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1304,1308"}},{"content":"<pre data-lines=\"1309,1310\"><code>&#x518d;&#x8bbe;&#x7f6e;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1309,1310"}},{"content":"<pre data-lines=\"1311,1315\"><code class=\"language-shell\">myrs:SECONDARY&gt; rs.slaveOk()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1311,1315"}},{"content":"<pre data-lines=\"1316,1317\"><code>&#x518d;&#x6d4b;&#x8bd5;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1316,1317"}},{"content":"<pre data-lines=\"1318,1326\"><code class=\"language-shell\">myrs:SECONDARY&gt; use articledb\nswitched to db articledb\n\nmyrs:SECONDARY&gt; db.comment.find()\n{ &quot;_id&quot; : ObjectId(&quot;5f413ea82b0bd854ea536d12&quot;), &quot;articleid&quot; : &quot;100000&quot;, &quot;content&quot; : &quot;&#x4eca;&#x5929;&#x5929;&#x6c14;&#x771f;&#x597d;&#xff0c;&#x9633;&#x5149;&#x660e;&#x5a9a;&quot;, &quot;userid&quot; : &quot;1001&quot;, &quot;nickname&quot; : &quot;Rose&quot;, &quot;createdatetime&quot; : ISODate(&quot;2020-08-22T15:50:00.563Z&quot;) }\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1318,1326"}},{"content":"<pre data-lines=\"1327,1328\"><code>**&#x7b2c;&#x5341;&#x4e94;&#x6b65;&#xff1a;&#x521b;&#x5efa;&#x7ba1;&#x7406;&#x5458;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1327,1328"}},{"content":"<pre data-lines=\"1329,1339\"><code class=\"language-shell\">myrs:PRIMARY&gt; use admin\nswitched to db admin\n\nmyrs:PRIMARY&gt; db.createUser({user:&quot;myroot&quot;,pwd:&quot;123456&quot;,roles:[&quot;root&quot;]})\nSuccessfully added user: { &quot;user&quot; : &quot;myroot&quot;, &quot;roles&quot; : [ &quot;root&quot; ] }\n\nmyrs:PRIMARY&gt; exit\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1329,1339"}},{"content":"<pre data-lines=\"1340,1341\"><code>**&#x7b2c;&#x5341;&#x516d;&#x6b65;&#xff1a;&#x751f;&#x6210;KeyFile&#x9274;&#x6743;&#x6587;&#x4ef6;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1340,1341"}},{"content":"<pre data-lines=\"1342,1349\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n-r--------. 1 root root 122 8&#x6708;  22 22:35 mongo.keyfile\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1342,1349"}},{"content":"<pre data-lines=\"1350,1351\"><code>**&#x7b2c;&#x5341;&#x4e03;&#x6b65;&#xff1a;&#x62f7;&#x8d1d;KeyFile&#x9274;&#x6743;&#x6587;&#x4ef6;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1350,1351"}},{"content":"<pre data-lines=\"1352,1358\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1352,1358"}},{"content":"<pre data-lines=\"1359,1362\"><code>**&#x7b2c;&#x5341;&#x516b;&#x6b65;&#xff1a;&#x65b0;&#x589e;keyFile&#x914d;&#x7f6e;&#x4fe1;&#x606f;**\n\n&#x4fee;&#x6539;27017&#x7684;&#x914d;&#x7f6e;&#x4fe1;&#x606f;&#xff08;&#x6700;&#x540e;&#x4e00;&#x884c;&#x65b0;&#x589e;&#x4ee5;&#x4e0b;&#x4ee3;&#x7801;&#xff09;&#xff1a;vi /mongodb/replica\\_sets/myrs\\_27017/config/mongod.conf\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1359,1362"}},{"content":"<pre data-lines=\"1363,1371\"><code class=\"language-shell\">security:\n   \n   keyFile: &quot;/mongodb/replica_sets/myrs_27017/mongo.keyfile&quot;\n   \n   authorization: enabled\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1363,1371"}},{"content":"<pre data-lines=\"1372,1373\"><code>&#x4fee;&#x6539;27018&#x7684;&#x914d;&#x7f6e;&#x4fe1;&#x606f;&#xff08;&#x6700;&#x540e;&#x4e00;&#x884c;&#x65b0;&#x589e;&#x4ee5;&#x4e0b;&#x4ee3;&#x7801;&#xff09;&#xff1a;vi /mongodb/replica\\_sets/myrs\\_27018/config/mongod.conf\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1372,1373"}},{"content":"<pre data-lines=\"1374,1382\"><code class=\"language-shell\">security:\n   \n   keyFile: &quot;/mongodb/replica_sets/myrs_27018/mongo.keyfile&quot;\n   \n   authorization: enabled\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1374,1382"}},{"content":"<pre data-lines=\"1383,1384\"><code>&#x4fee;&#x6539;27019&#x7684;&#x914d;&#x7f6e;&#x4fe1;&#x606f;&#xff08;&#x6700;&#x540e;&#x4e00;&#x884c;&#x65b0;&#x589e;&#x4ee5;&#x4e0b;&#x4ee3;&#x7801;&#xff09;&#xff1a;vi /mongodb/replica\\_sets/myrs\\_27019/config/mongod.conf\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1383,1384"}},{"content":"<pre data-lines=\"1385,1393\"><code class=\"language-shell\">security:\n   \n   keyFile: &quot;/mongodb/replica_sets/myrs_27019/mongo.keyfile&quot;\n   \n   authorization: enabled\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1385,1393"}},{"content":"<pre data-lines=\"1394,1397\"><code>**&#x7b2c;&#x5341;&#x4e5d;&#x6b65;&#xff1a;&#x91cd;&#x542f;&#x4e09;&#x4e2a;&#x670d;&#x52a1;**\n\n&#x5148;&#x6740;&#x6b7b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1394,1397"}},{"content":"<pre data-lines=\"1398,1407\"><code class=\"language-shell\">[root@caochenlei ~]\nroot       4600      1  2 Aug22 ?        00:00:36 /mongodb/replica_sets/myrs_27017/bin/mongod --config /mongodb/replica_sets/myrs_27017/config/mongod.conf\nroot       4632      1  2 Aug22 ?        00:00:36 /mongodb/replica_sets/myrs_27018/bin/mongod --config /mongodb/replica_sets/myrs_27018/config/mongod.conf\nroot       4662      1  1 Aug22 ?        00:00:31 /mongodb/replica_sets/myrs_27019/bin/mongod --config /mongodb/replica_sets/myrs_27019/config/mongod.conf\n\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1398,1407"}},{"content":"<pre data-lines=\"1408,1409\"><code>&#x5220;&#x6587;&#x4ef6;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1408,1409"}},{"content":"<pre data-lines=\"1410,1416\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1410,1416"}},{"content":"<pre data-lines=\"1417,1418\"><code>&#x518d;&#x4fee;&#x590d;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1417,1418"}},{"content":"<pre data-lines=\"1419,1425\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1419,1425"}},{"content":"<pre data-lines=\"1426,1427\"><code>&#x518d;&#x91cd;&#x542f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1426,1427"}},{"content":"<pre data-lines=\"1428,1434\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1428,1434"}},{"content":"<pre data-lines=\"1435,1438\"><code>**&#x7b2c;&#x4e8c;&#x5341;&#x6b65;&#xff1a;&#x521b;&#x5efa;&#x666e;&#x901a;&#x7528;&#x6237;**\n\n&#x767b;&#x5f55;&#x4e3b;&#x8282;&#x70b9;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1435,1438"}},{"content":"<pre data-lines=\"1439,1443\"><code class=\"language-shell\">[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1439,1443"}},{"content":"<pre data-lines=\"1444,1445\"><code>&#x767b;&#x5f55;&#x7ba1;&#x7406;&#x5458;&#xff0c;&#x521b;&#x5efa;&#x666e;&#x901a;&#x8d26;&#x6237;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1444,1445"}},{"content":"<pre data-lines=\"1446,1462\"><code class=\"language-shell\">myrs:PRIMARY&gt; use admin\nswitched to db admin\n\nmyrs:PRIMARY&gt; db.auth(&quot;myroot&quot;,&quot;123456&quot;)\n1\n\nmyrs:PRIMARY&gt; use articledb\nswitched to db articledb\n\nmyrs:PRIMARY&gt; db.createUser({user: &quot;bobo&quot;, pwd: &quot;123456&quot;, roles: [&quot;readWrite&quot;]})\nSuccessfully added user: { &quot;user&quot; : &quot;bobo&quot;, &quot;roles&quot; : [ &quot;readWrite&quot; ] }\n\nmyrs:PRIMARY&gt; exit\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1446,1462"}},{"content":"<pre data-lines=\"1463,1464\"><code>&#x91cd;&#x65b0;&#x8fde;&#x63a5;&#xff0c;&#x4f7f;&#x7528;&#x666e;&#x901a;&#x8d26;&#x6237;&#x767b;&#x5f55;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1463,1464"}},{"content":"<pre data-lines=\"1465,1469\"><code class=\"language-shell\">[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1465,1469"}},{"content":"<pre data-lines=\"1470,1471\"><code>&#x767b;&#x5f55;&#x666e;&#x901a;&#x7528;&#x6237;&#xff0c;&#x7136;&#x540e;&#x67e5;&#x770b;comment&#x96c6;&#x5408;&#x4e2d;&#x7684;&#x6240;&#x6709;&#x6587;&#x6863;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1470,1471"}},{"content":"<pre data-lines=\"1472,1483\"><code class=\"language-shell\">myrs:PRIMARY&gt; use articledb\nswitched to db articledb\n\nmyrs:PRIMARY&gt; db.auth(&quot;bobo&quot;,&quot;123456&quot;)\n1\n\nmyrs:PRIMARY&gt; db.comment.find()\n{ &quot;_id&quot; : ObjectId(&quot;5f413ea82b0bd854ea536d12&quot;), &quot;articleid&quot; : &quot;100000&quot;, &quot;content&quot; : &quot;&#x4eca;&#x5929;&#x5929;&#x6c14;&#x771f;&#x597d;&#xff0c;&#x9633;&#x5149;&#x660e;&#x5a9a;&quot;, &quot;userid&quot; : &quot;1001&quot;, &quot;nickname&quot; : &quot;Rose&quot;, &quot;createdatetime&quot; : ISODate(&quot;2020-08-22T15:50:00.563Z&quot;) }\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1472,1483"}}],"payload":{"tag":"h3","lines":"1117,1118"}},{"content":"8.5&#x3001;&#x526f;&#x672c;&#x96c6;&#x5e38;&#x7528;&#x547d;&#x4ee4;","children":[{"content":"<pre data-lines=\"1486,1487\"><code>&#xff08;1&#xff09;&#x3001;&#x4f7f;&#x7528;&#x9ed8;&#x8ba4;&#x7684;&#x914d;&#x7f6e;&#x6765;&#x521d;&#x59cb;&#x5316;&#x526f;&#x672c;&#x96c6;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1486,1487"}},{"content":"<pre data-lines=\"1488,1492\"><code class=\"language-shell\">rs.initiate()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1488,1492"}},{"content":"<pre data-lines=\"1493,1494\"><code>&#xff08;2&#xff09;&#x3001;&#x67e5;&#x770b;&#x526f;&#x672c;&#x96c6;&#x7684;&#x914d;&#x7f6e;&#x5185;&#x5bb9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1493,1494"}},{"content":"<pre data-lines=\"1495,1499\"><code class=\"language-shell\">rs.config()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1495,1499"}},{"content":"<pre data-lines=\"1500,1501\"><code>&#xff08;3&#xff09;&#x3001;&#x67e5;&#x770b;&#x526f;&#x672c;&#x96c6;&#x7684;&#x72b6;&#x6001;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1500,1501"}},{"content":"<pre data-lines=\"1502,1506\"><code class=\"language-shell\">rs.status()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1502,1506"}},{"content":"<pre data-lines=\"1507,1508\"><code>&#xff08;4&#xff09;&#x3001;&#x6dfb;&#x52a0;&#x526f;&#x672c;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1507,1508"}},{"content":"<pre data-lines=\"1509,1513\"><code class=\"language-shell\">rs.add(&quot;&#x6570;&#x636e;&#x5e93;&#x5730;&#x5740;:&#x6570;&#x636e;&#x5e93;&#x7aef;&#x53e3;&quot;)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1509,1513"}},{"content":"<pre data-lines=\"1514,1515\"><code>&#xff08;5&#xff09;&#x3001;&#x6dfb;&#x52a0;&#x4ef2;&#x88c1;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1514,1515"}},{"content":"<pre data-lines=\"1516,1520\"><code class=\"language-shell\">rs.addArb(&quot;&#x6570;&#x636e;&#x5e93;&#x5730;&#x5740;:&#x6570;&#x636e;&#x5e93;&#x7aef;&#x53e3;&quot;)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1516,1520"}},{"content":"<pre data-lines=\"1521,1522\"><code>&#xff08;6&#xff09;&#x3001;&#x79fb;&#x9664;&#x526f;&#x672c;&#x8282;&#x70b9;&#x6216;&#x8005;&#x4ef2;&#x88c1;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1521,1522"}},{"content":"<pre data-lines=\"1523,1527\"><code class=\"language-shell\">rs.remove(&quot;&#x6570;&#x636e;&#x5e93;&#x5730;&#x5740;:&#x6570;&#x636e;&#x5e93;&#x7aef;&#x53e3;&quot;);\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1523,1527"}}],"payload":{"tag":"h3","lines":"1484,1485"}}],"payload":{"tag":"h2","lines":"1082,1084"}},{"content":"&#x7b2c;&#x4e5d;&#x7ae0; MongoDB&#x5206;&#x7247;&#x96c6;&#x7fa4;","children":[{"content":"9.1&#x3001;&#x5b89;&#x88c5;&#x73af;&#x5883;","children":[{"content":"<pre data-lines=\"1533,1551\"><code>*   &#x64cd;&#x4f5c;&#x7cfb;&#x7edf;&#xff1a;CentOS-6.10-x86\\_64-bin-DVD1.iso\n\t\n*   &#x7cfb;&#x7edf;&#x7248;&#x672c;&#xff1a;&#x684c;&#x9762;&#x7248;&#xff08;&#x5e26;&#x56fe;&#x5f62;&#x5316;&#x754c;&#x9762;&#xff09;\n\t\n*   &#x5185;&#x5b58;&#x5927;&#x5c0f;&#xff1a;2GB\n\t\n*   &#x786c;&#x76d8;&#x5927;&#x5c0f;&#xff1a;20GB\n\t\n*   MongoDB&#xff1a;mongodb-linux-x86\\_64-4.0.10.tgz\n\t\n*   &#x8fde;&#x63a5;&#x5de5;&#x5177;&#xff1a;SecureCRT7.0.0&#xff0c;&#x8fde;&#x63a5;&#x4f1a;&#x8bdd;&#x5df2;&#x7ecf;&#x8bbe;&#x7f6e;&#x7f16;&#x7801;&#x4e3a;UTF-8&#xff0c;&#x4eff;&#x771f;&#x73af;&#x5883;&#x8bbe;&#x7f6e;&#x4e3a;linux\n\n```shell\n&#x5b89;&#x88c5;&#xff1a;yum install -y lrzsz\n&#x4e0a;&#x4f20;&#xff1a;rz &lt;&#x6572;&#x56de;&#x8f66;&gt;\n&#x4e0b;&#x8f7d;&#xff1a;sz &#x6587;&#x4ef6;&#x540d;\n\n```\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1533,1551"}}],"payload":{"tag":"h3","lines":"1531,1532"}},{"content":"9.2&#x3001;&#x5206;&#x7247;&#x96c6;&#x7fa4;&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"1555,1562\"><code>&#x5206;&#x7247;(sharding)&#x662f;&#x4e00;&#x79cd;&#x8de8;&#x591a;&#x53f0;&#x673a;&#x5668;&#x5206;&#x5e03;&#x6570;&#x636e;&#x7684;&#x65b9;&#x6cd5;&#xff0c;MongoDB&#x4f7f;&#x7528;&#x5206;&#x7247;&#x6765;&#x652f;&#x6301;&#x5177;&#x6709;&#x975e;&#x5e38;&#x5927;&#x7684;&#x6570;&#x636e;&#x96c6;&#x548c;&#x9ad8;&#x541e;&#x5410;&#x91cf;&#x64cd;&#x4f5c;&#x7684;&#x90e8;&#x7f72;&#x3002;&#x6362;&#x53e5;&#x8bdd;&#x8bf4;&#xff1a;&#x5206;&#x7247;(sharding)&#x662f;&#x6307;&#x5c06;&#x6570;&#x636e;&#x62c6;&#x5206;&#xff0c;&#x5c06;&#x5176;&#x5206;&#x6563;&#x5b58;&#x5728;&#x4e0d;&#x540c;&#x7684;&#x673a;&#x5668;&#x4e0a;&#x7684;&#x8fc7;&#x7a0b;&#x3002;&#x6709;&#x65f6;&#x4e5f;&#x7528;&#x5206;&#x533a; (partitioning)&#x6765;&#x8868;&#x793a;&#x8fd9;&#x4e2a;&#x6982;&#x5ff5;&#xff0c;&#x5c06;&#x6570;&#x636e;&#x5206;&#x6563;&#x5230;&#x4e0d;&#x540c;&#x7684;&#x673a;&#x5668;&#x4e0a;&#xff0c;&#x4e0d;&#x9700;&#x8981;&#x529f;&#x80fd;&#x5f3a;&#x5927;&#x7684;&#x5927;&#x578b;&#x8ba1;&#x7b97;&#x673a;&#x5c31;&#x53ef;&#x4ee5;&#x50a8;&#x5b58; &#x66f4;&#x591a;&#x7684;&#x6570;&#x636e;&#xff0c;&#x5904;&#x7406;&#x66f4;&#x591a;&#x7684;&#x8d1f;&#x8f7d;&#x3002;\n\n&#x5177;&#x6709;&#x5927;&#x578b;&#x6570;&#x636e;&#x96c6;&#x6216;&#x9ad8;&#x541e;&#x5410;&#x91cf;&#x5e94;&#x7528;&#x7a0b;&#x5e8f;&#x7684;&#x6570;&#x636e;&#x5e93;&#x7cfb;&#x7edf;&#x4f1a;&#x6311;&#x6218;&#x5355;&#x4e2a;&#x670d;&#x52a1;&#x5668;&#x7684;&#x5bb9;&#x91cf;&#x3002;&#x4f8b;&#x5982;&#xff0c;&#x9ad8;&#x67e5;&#x8be2;&#x7387;&#x4f1a;&#x8017;&#x5c3d;&#x670d;&#x52a1;&#x5668;&#x7684;CPU&#x5bb9;&#x91cf;&#x3002;&#x5de5;&#x4f5c;&#x96c6;&#x5927;&#x5c0f;&#x5927;&#x4e8e;&#x7cfb;&#x7edf;&#x7684;RAM&#x4f1a;&#x5f3a;&#x8c03;&#x78c1;&#x76d8;&#x9a71;&#x52a8;&#x5668;&#x7684;I/O&#x5bb9;&#x91cf;&#x3002;&#x6709;&#x4e24;&#x79cd;&#x89e3;&#x51b3;&#x7cfb;&#x7edf;&#x589e;&#x957f;&#x7684;&#x65b9;&#x6cd5;&#xff1a;&#x5782;&#x76f4;&#x6269;&#x5c55;&#x548c;&#x6c34;&#x5e73;&#x6269;&#x5c55;&#x3002;\n\n&#x5782;&#x76f4;&#x6269;&#x5c55;&#x610f;&#x5473;&#x7740;&#x589e;&#x52a0;&#x5355;&#x4e2a;&#x670d;&#x52a1;&#x5668;&#x7684;&#x5bb9;&#x91cf;&#xff0c;&#x4f8b;&#x5982;&#x4f7f;&#x7528;&#x66f4;&#x5f3a;&#x5927;&#x7684;CPU&#xff0c;&#x6dfb;&#x52a0;&#x66f4;&#x591a;RAM&#x6216;&#x589e;&#x52a0;&#x5b58;&#x50a8;&#x7a7a;&#x95f4;&#x91cf;&#xff0c;&#x53ef;&#x7528;&#x6280;&#x672f;&#x7684;&#x5c40;&#x9650;&#x6027;&#x53ef;&#x80fd;&#x4f1a;&#x9650;&#x5236;&#x5355;&#x4e2a;&#x673a;&#x5668;&#xff0c;&#x6b64;&#x5916;&#xff0c;&#x57fa;&#x4e8e;&#x4e91;&#x7684;&#x63d0;&#x4f9b;&#x5546;&#x57fa;&#x4e8e;&#x53ef;&#x7528;&#x7684;&#x786c;&#x4ef6;&#x914d;&#x7f6e;&#x5177;&#x6709;&#x786c;&#x6027;&#x4e0a;&#x9650;&#xff0c;&#x7ed3;&#x679c;&#xff0c;&#x5782;&#x76f4;&#x7f29;&#x653e;&#x6709;&#x5b9e;&#x9645;&#x7684;&#x6700;&#x5927;&#x503c;&#x3002;\n\n&#x6c34;&#x5e73;&#x6269;&#x5c55;&#x610f;&#x5473;&#x7740;&#x5212;&#x5206;&#x7cfb;&#x7edf;&#x6570;&#x636e;&#x96c6;&#x5e76;&#x52a0;&#x8f7d;&#x591a;&#x4e2a;&#x670d;&#x52a1;&#x5668;&#xff0c;&#x6dfb;&#x52a0;&#x5176;&#x4ed6;&#x670d;&#x52a1;&#x5668;&#x4ee5;&#x6839;&#x636e;&#x9700;&#x8981;&#x589e;&#x52a0;&#x5bb9;&#x91cf;&#xff0c;&#x867d;&#x7136;&#x5355;&#x4e2a;&#x673a;&#x5668;&#x7684;&#x603b;&#x4f53;&#x901f;&#x5ea6;&#x6216;&#x5bb9;&#x91cf;&#x53ef;&#x80fd;&#x4e0d;&#x9ad8;&#xff0c;&#x4f46;&#x6bcf;&#x53f0;&#x673a;&#x5668;&#x5904;&#x7406;&#x6574;&#x4e2a;&#x5de5;&#x4f5c;&#x8d1f;&#x8f7d;&#x7684;&#x5b50;&#x96c6;&#xff0c;&#x53ef;&#x80fd;&#x63d0;&#x4f9b;&#x6bd4;&#x5355;&#x4e2a;&#x9ad8;&#x901f;&#x5927;&#x5bb9;&#x91cf;&#x670d;&#x52a1;&#x5668;&#x66f4;&#x9ad8;&#x7684;&#x6548;&#x7387;&#xff0c;&#x6269;&#x5c55;&#x90e8;&#x7f72;&#x5bb9;&#x91cf;&#x53ea;&#x9700;&#x8981;&#x6839;&#x636e;&#x9700;&#x8981;&#x6dfb;&#x52a0;&#x989d;&#x5916;&#x7684;&#x670d;&#x52a1;&#x5668;&#xff0c;&#x8fd9;&#x53ef;&#x80fd;&#x6bd4;&#x5355;&#x4e2a;&#x673a;&#x5668;&#x7684;&#x9ad8;&#x7aef;&#x786c;&#x4ef6;&#x7684;&#x603b;&#x4f53;&#x6210;&#x672c;&#x66f4;&#x4f4e;&#xff0c;&#x800c;MongoDB&#x652f;&#x6301;&#x901a;&#x8fc7;&#x5206;&#x7247;&#x8fdb;&#x884c;&#x6c34;&#x5e73;&#x6269;&#x5c55;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1555,1562"}}],"payload":{"tag":"h3","lines":"1553,1554"}},{"content":"9.3&#x3001;&#x5206;&#x7247;&#x96c6;&#x7fa4;&#x67b6;&#x6784;","children":[{"content":"<pre data-lines=\"1565,1566\"><code>&#x5b9e;&#x73b0;&#x76ee;&#x6807;&#xff1a;&#x4e24;&#x4e2a;&#x5206;&#x7247;&#x8282;&#x70b9;&#x526f;&#x672c;&#x96c6;&#xff08;3+3&#xff09;+&#x4e00;&#x4e2a;&#x914d;&#x7f6e;&#x8282;&#x70b9;&#x526f;&#x672c;&#x96c6;&#xff08;3&#xff09;+&#x4e24;&#x4e2a;&#x8def;&#x7531;&#x8282;&#x70b9;&#xff08;2&#xff09;&#xff0c;&#x5171;11&#x4e2a;&#x670d;&#x52a1;&#x8282;&#x70b9;&#xff0c;&#x5747;&#x5e26;&#x5b89;&#x5168;&#x8ba4;&#x8bc1;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1565,1566"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjMxMTMzNTIucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"1567,1568"}}],"payload":{"tag":"h3","lines":"1563,1564"}},{"content":"9.4&#x3001;&#x5206;&#x7247;&#x96c6;&#x7fa4;&#x642d;&#x5efa;","children":[{"content":"<pre data-lines=\"1571,1572\"><code>**&#x7b2c;&#x4e00;&#x6b65;&#xff1a;&#x5b89;&#x88c5;&#x8f6f;&#x4ef6;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1571,1572"}},{"content":"<pre data-lines=\"1573,1597\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1573,1597"}},{"content":"<pre data-lines=\"1598,1599\"><code>**&#x7b2c;&#x4e8c;&#x6b65;&#xff1a;&#x521b;&#x5efa;&#x76ee;&#x5f55;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1598,1599"}},{"content":"<pre data-lines=\"1600,1641\"><code class=\"language-shell\">\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1600,1641"}},{"content":"<pre data-lines=\"1642,1647\"><code>**&#x7b2c;&#x4e09;&#x6b65;&#xff1a;&#x7f16;&#x8f91;&#x914d;&#x7f6e;**\n\n&#x4e3b;&#x8282;&#x70b9;&#x3001;&#x526f;&#x672c;&#x8282;&#x70b9;&#x3001;&#x914d;&#x7f6e;&#x8282;&#x70b9;&#x7684;&#x914d;&#x7f6e;&#x4fe1;&#x606f;&#xff1a;\\[root@caochenlei ~\\]# vi mongod.conf\n\n&gt; &#x6ce8;&#x610f;&#xff1a;myname&#xff1a;&#x4ee3;&#x8868;&#x96c6;&#x7fa4;&#x4e2d;&#x626e;&#x6f14;&#x7684;&#x526f;&#x672c;&#x96c6;&#x540d;&#x79f0;&#x3001;myrole&#xff1a;&#x4ee3;&#x8868;&#x96c6;&#x7fa4;&#x4e2d;&#x626e;&#x6f14;&#x7684;&#x89d2;&#x8272;&#x540d;&#x79f0;&#x3001;xxxxx&#xff1a;&#x4ee3;&#x8868;&#x6bcf;&#x4e2a;&#x670d;&#x52a1;&#x7684;&#x7aef;&#x53e3;&#x53f7;&#xff0c;&#x4e00;&#x4f1a;&#x4f7f;&#x7528;&#x66ff;&#x6362;&#x5168;&#x90e8;&#x66ff;&#x6362;&#x6389;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1642,1647"}},{"content":"<pre data-lines=\"1648,1681\"><code class=\"language-shell\">systemLog:\n   destination: file\n   \n   path: &quot;/mongodb/sharded_cluster/myname_xxxxx/log/mongod.log&quot;\n   logAppend: true\nnet:\n   port: xxxxx\n   \n   bindIp: localhost,192.168.206.128\nstorage:\n   \n   dbPath: &quot;/mongodb/sharded_cluster/myname_xxxxx/data/db&quot;\n   journal:\n      enabled: true\nprocessManagement:\n   \n   fork: true\n   \n   pidFilePath: &quot;/mongodb/sharded_cluster/myname_xxxxx/log/mongod.pid&quot;\n\n\n\n\n\nreplication:\n   \n   replSetName: myname\nsharding:\n   \n   clusterRole: myrole\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1648,1681"}},{"content":"<pre data-lines=\"1682,1685\"><code>&#x8def;&#x7531;&#x8282;&#x70b9;&#x7684;&#x914d;&#x7f6e;&#x4fe1;&#x606f;&#xff1a;\\[root@caochenlei ~\\]# vi mongos.conf\n\n&gt; &#x6ce8;&#x610f;&#xff1a;xxxxx&#xff1a;&#x4ee3;&#x8868;&#x6bcf;&#x4e2a;&#x670d;&#x52a1;&#x7684;&#x7aef;&#x53e3;&#x53f7;&#xff0c;&#x4e00;&#x4f1a;&#x4f7f;&#x7528;&#x66ff;&#x6362;&#x5168;&#x90e8;&#x66ff;&#x6362;&#x6389;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1682,1685"}},{"content":"<pre data-lines=\"1686,1709\"><code class=\"language-shell\">systemLog:\n   destination: file\n   \n   path: &quot;/mongodb/sharded_cluster/mymongos_xxxxx/log/mongod.log&quot;\n   logAppend: true\nnet:\n   port: xxxxx\n   \n   bindIp: localhost,192.168.206.128\nprocessManagement:\n   \n   fork: true\n   \n   pidFilePath: &quot;/mongodb/sharded_cluster/mymongos_xxxxx/log/mongod.pid&quot;\n\n\n\nsharding:\n   \n   configDB: myconfigrs/192.168.206.128:27019,192.168.206.128:27119,192.168.206.128:27219\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1686,1709"}},{"content":"<pre data-lines=\"1710,1713\"><code>**&#x7b2c;&#x56db;&#x6b65;&#xff1a;&#x590d;&#x5236;&#x914d;&#x7f6e;**\n\n&#x62f7;&#x8d1d;&#x4e3b;&#x8282;&#x70b9;&#x3001;&#x526f;&#x672c;&#x8282;&#x70b9;&#x3001;&#x914d;&#x7f6e;&#x8282;&#x70b9;&#x7684;&#x914d;&#x7f6e;&#x4fe1;&#x606f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1710,1713"}},{"content":"<pre data-lines=\"1714,1731\"><code class=\"language-shell\">\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1714,1731"}},{"content":"<pre data-lines=\"1732,1733\"><code>&#x62f7;&#x8d1d;&#x8def;&#x7531;&#x8282;&#x70b9;&#x7684;&#x914d;&#x7f6e;&#x4fe1;&#x606f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1732,1733"}},{"content":"<pre data-lines=\"1734,1739\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1734,1739"}},{"content":"<pre data-lines=\"1740,1743\"><code>**&#x7b2c;&#x4e94;&#x6b65;&#xff1a;&#x542f;&#x52a8;&#x7b2c;&#x4e00;&#x5206;&#x7247;**\n\n&#x542f;&#x52a8;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1740,1743"}},{"content":"<pre data-lines=\"1744,1750\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1744,1750"}},{"content":"<pre data-lines=\"1751,1752\"><code>&#x8fde;&#x63a5;&#xff1a;&#x4f7f;&#x7528;&#x5ba2;&#x6237;&#x7aef;&#x547d;&#x4ee4;&#x8fde;&#x63a5;&#x4efb;&#x610f;&#x4e00;&#x4e2a;&#x8282;&#x70b9;&#xff0c;&#x4f46;&#x8fd9;&#x91cc;&#x5c3d;&#x91cf;&#x8981;&#x8fde;&#x63a5;&#x4e3b;&#x8282;&#x70b9;&#xff01;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1751,1752"}},{"content":"<pre data-lines=\"1753,1757\"><code class=\"language-shell\">[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1753,1757"}},{"content":"<pre data-lines=\"1758,1759\"><code>&#x521d;&#x59cb;&#x5316;&#x526f;&#x672c;&#x96c6;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1758,1759"}},{"content":"<pre data-lines=\"1760,1764\"><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">&gt; </span><span class=\"language-bash\">rs.initiate()</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1760,1764"}},{"content":"<pre data-lines=\"1765,1766\"><code>&#x6dfb;&#x52a0;&#x526f;&#x672c;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1765,1766"}},{"content":"<pre data-lines=\"1767,1782\"><code class=\"language-shell\">myshardrs01:PRIMARY&gt; rs.add(&quot;192.168.206.128:27118&quot;)\n{\n        &quot;ok&quot; : 1,\n        &quot;operationTime&quot; : Timestamp(1598162788, 2),\n        &quot;&#x24;clusterTime&quot; : {\n                &quot;clusterTime&quot; : Timestamp(1598162788, 2),\n                &quot;signature&quot; : {\n                        &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),\n                        &quot;keyId&quot; : NumberLong(0)\n                }\n        }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1767,1782"}},{"content":"<pre data-lines=\"1783,1784\"><code>&#x6dfb;&#x52a0;&#x4ef2;&#x88c1;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1783,1784"}},{"content":"<pre data-lines=\"1785,1800\"><code class=\"language-shell\">myshardrs01:PRIMARY&gt; rs.addArb(&quot;192.168.206.128:27218&quot;)\n{\n        &quot;ok&quot; : 1,\n        &quot;operationTime&quot; : Timestamp(1598163250, 1),\n        &quot;&#x24;clusterTime&quot; : {\n                &quot;clusterTime&quot; : Timestamp(1598163250, 1),\n                &quot;signature&quot; : {\n                        &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),\n                        &quot;keyId&quot; : NumberLong(0)\n                }\n        }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1785,1800"}},{"content":"<pre data-lines=\"1801,1802\"><code>&#x67e5;&#x770b;&#x5206;&#x7247;&#x96c6;&#x7fa4;&#x60c5;&#x51b5;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1801,1802"}},{"content":"<pre data-lines=\"1803,1808\"><code class=\"language-shell\">myshardrs01:PRIMARY&gt; rs.status()\nmyshardrs01:PRIMARY&gt; exit\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1803,1808"}},{"content":"<pre data-lines=\"1809,1812\"><code>**&#x7b2c;&#x516d;&#x6b65;&#xff1a;&#x542f;&#x52a8;&#x7b2c;&#x4e8c;&#x5206;&#x7247;**\n\n&#x542f;&#x52a8;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1809,1812"}},{"content":"<pre data-lines=\"1813,1819\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1813,1819"}},{"content":"<pre data-lines=\"1820,1821\"><code>&#x8fde;&#x63a5;&#xff1a;&#x4f7f;&#x7528;&#x5ba2;&#x6237;&#x7aef;&#x547d;&#x4ee4;&#x8fde;&#x63a5;&#x4efb;&#x610f;&#x4e00;&#x4e2a;&#x8282;&#x70b9;&#xff0c;&#x4f46;&#x8fd9;&#x91cc;&#x5c3d;&#x91cf;&#x8981;&#x8fde;&#x63a5;&#x4e3b;&#x8282;&#x70b9;&#xff01;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1820,1821"}},{"content":"<pre data-lines=\"1822,1826\"><code class=\"language-shell\">[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1822,1826"}},{"content":"<pre data-lines=\"1827,1828\"><code>&#x521d;&#x59cb;&#x5316;&#x526f;&#x672c;&#x96c6;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1827,1828"}},{"content":"<pre data-lines=\"1829,1833\"><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">&gt; </span><span class=\"language-bash\">rs.initiate()</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1829,1833"}},{"content":"<pre data-lines=\"1834,1835\"><code>&#x6dfb;&#x52a0;&#x526f;&#x672c;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1834,1835"}},{"content":"<pre data-lines=\"1836,1851\"><code class=\"language-shell\">myshardrs02:PRIMARY&gt; rs.add(&quot;192.168.206.128:27418&quot;)\n{\n        &quot;ok&quot; : 1,\n        &quot;operationTime&quot; : Timestamp(1598163564, 1),\n        &quot;&#x24;clusterTime&quot; : {\n                &quot;clusterTime&quot; : Timestamp(1598163564, 1),\n                &quot;signature&quot; : {\n                        &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),\n                        &quot;keyId&quot; : NumberLong(0)\n                }\n        }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1836,1851"}},{"content":"<pre data-lines=\"1852,1853\"><code>&#x6dfb;&#x52a0;&#x4ef2;&#x88c1;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1852,1853"}},{"content":"<pre data-lines=\"1854,1869\"><code class=\"language-shell\">myshardrs02:PRIMARY&gt; rs.addArb(&quot;192.168.206.128:27518&quot;)\n{\n        &quot;ok&quot; : 1,\n        &quot;operationTime&quot; : Timestamp(1598163580, 1),\n        &quot;&#x24;clusterTime&quot; : {\n                &quot;clusterTime&quot; : Timestamp(1598163580, 1),\n                &quot;signature&quot; : {\n                        &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),\n                        &quot;keyId&quot; : NumberLong(0)\n                }\n        }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1854,1869"}},{"content":"<pre data-lines=\"1870,1871\"><code>&#x67e5;&#x770b;&#x5206;&#x7247;&#x96c6;&#x7fa4;&#x60c5;&#x51b5;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1870,1871"}},{"content":"<pre data-lines=\"1872,1877\"><code class=\"language-shell\">myshardrs02:PRIMARY&gt; rs.status()\nmyshardrs02:PRIMARY&gt; exit\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1872,1877"}},{"content":"<pre data-lines=\"1878,1881\"><code>**&#x7b2c;&#x4e03;&#x6b65;&#xff1a;&#x542f;&#x52a8;&#x914d;&#x7f6e;&#x8282;&#x70b9;**\n\n&#x542f;&#x52a8;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1878,1881"}},{"content":"<pre data-lines=\"1882,1888\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1882,1888"}},{"content":"<pre data-lines=\"1889,1890\"><code>&#x8fde;&#x63a5;&#xff1a;&#x4f7f;&#x7528;&#x5ba2;&#x6237;&#x7aef;&#x547d;&#x4ee4;&#x8fde;&#x63a5;&#x4efb;&#x610f;&#x4e00;&#x4e2a;&#x8282;&#x70b9;&#xff0c;&#x4f46;&#x8fd9;&#x91cc;&#x5c3d;&#x91cf;&#x8981;&#x8fde;&#x63a5;&#x4e3b;&#x8282;&#x70b9;&#xff01;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1889,1890"}},{"content":"<pre data-lines=\"1891,1895\"><code class=\"language-shell\">[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1891,1895"}},{"content":"<pre data-lines=\"1896,1897\"><code>&#x521d;&#x59cb;&#x5316;&#x526f;&#x672c;&#x96c6;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1896,1897"}},{"content":"<pre data-lines=\"1898,1902\"><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">&gt; </span><span class=\"language-bash\">rs.initiate()</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1898,1902"}},{"content":"<pre data-lines=\"1903,1904\"><code>&#x6dfb;&#x52a0;&#x526f;&#x672c;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1903,1904"}},{"content":"<pre data-lines=\"1905,1928\"><code class=\"language-shell\">myconfigrs:PRIMARY&gt; rs.add(&quot;192.168.206.128:27119&quot;)\n{\n        &quot;ok&quot; : 1,\n        &quot;operationTime&quot; : Timestamp(1598164436, 1),\n        &quot;&#x24;gleStats&quot; : {\n                &quot;lastOpTime&quot; : {\n                        &quot;ts&quot; : Timestamp(1598164436, 1),\n                        &quot;t&quot; : NumberLong(1)\n                },\n                &quot;electionId&quot; : ObjectId(&quot;7fffffff0000000000000001&quot;)\n        },\n        &quot;lastCommittedOpTime&quot; : Timestamp(1598164430, 1),\n        &quot;&#x24;clusterTime&quot; : {\n                &quot;clusterTime&quot; : Timestamp(1598164436, 1),\n                &quot;signature&quot; : {\n                        &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),\n                        &quot;keyId&quot; : NumberLong(0)\n                }\n        }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1905,1928"}},{"content":"<pre data-lines=\"1929,1930\"><code>&#x6dfb;&#x52a0;&#x526f;&#x672c;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1929,1930"}},{"content":"<pre data-lines=\"1931,1954\"><code class=\"language-shell\">myconfigrs:PRIMARY&gt; rs.add(&quot;192.168.206.128:27219&quot;)\n{\n        &quot;ok&quot; : 1,\n        &quot;operationTime&quot; : Timestamp(1598164454, 1),\n        &quot;&#x24;gleStats&quot; : {\n                &quot;lastOpTime&quot; : {\n                        &quot;ts&quot; : Timestamp(1598164454, 1),\n                        &quot;t&quot; : NumberLong(1)\n                },\n                &quot;electionId&quot; : ObjectId(&quot;7fffffff0000000000000001&quot;)\n        },\n        &quot;lastCommittedOpTime&quot; : Timestamp(1598164446, 1),\n        &quot;&#x24;clusterTime&quot; : {\n                &quot;clusterTime&quot; : Timestamp(1598164454, 1),\n                &quot;signature&quot; : {\n                        &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),\n                        &quot;keyId&quot; : NumberLong(0)\n                }\n        }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1931,1954"}},{"content":"<pre data-lines=\"1955,1956\"><code>&#x67e5;&#x770b;&#x914d;&#x7f6e;&#x96c6;&#x7fa4;&#x60c5;&#x51b5;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1955,1956"}},{"content":"<pre data-lines=\"1957,1962\"><code class=\"language-shell\">myconfigrs:PRIMARY&gt; rs.status()\nmyconfigrs:PRIMARY&gt; exit\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1957,1962"}},{"content":"<pre data-lines=\"1963,1966\"><code>**&#x7b2c;&#x516b;&#x6b65;&#xff1a;&#x542f;&#x52a8;&#x7b2c;&#x4e00;&#x4e2a;&#x8def;&#x7531;&#x8282;&#x70b9;**\n\n&#x542f;&#x52a8;&#x7b2c;&#x4e00;&#x4e2a;&#x8def;&#x7531;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1963,1966"}},{"content":"<pre data-lines=\"1967,1971\"><code class=\"language-shell\">[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1967,1971"}},{"content":"<pre data-lines=\"1972,1973\"><code>&#x8fde;&#x63a5;&#x7b2c;&#x4e00;&#x4e2a;&#x8def;&#x7531;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1972,1973"}},{"content":"<pre data-lines=\"1974,1978\"><code class=\"language-shell\">[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1974,1978"}},{"content":"<pre data-lines=\"1979,1980\"><code>&#x6dfb;&#x52a0;&#x7b2c;&#x4e00;&#x7247;&#x5206;&#x7247;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1979,1980"}},{"content":"<pre data-lines=\"1981,1997\"><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\">sh.addShard(<span class=\"hljs-string\">&quot;myshardrs01/192.168.206.128:27018,192.168.206.128:27118,192.168.206.128:27218&quot;</span>)</span>\n{\n        &quot;shardAdded&quot; : &quot;myshardrs01&quot;,\n        &quot;ok&quot; : 1,\n        &quot;operationTime&quot; : Timestamp(1598165205, 3),\n        &quot;&#x24;clusterTime&quot; : {\n                &quot;clusterTime&quot; : Timestamp(1598165205, 3),\n                &quot;signature&quot; : {\n                        &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),\n                        &quot;keyId&quot; : NumberLong(0)\n                }\n        }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1981,1997"}},{"content":"<pre data-lines=\"1998,1999\"><code>&#x6dfb;&#x52a0;&#x7b2c;&#x4e8c;&#x7247;&#x5206;&#x7247;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1998,1999"}},{"content":"<pre data-lines=\"2000,2016\"><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\">sh.addShard(<span class=\"hljs-string\">&quot;myshardrs02/192.168.206.128:27318,192.168.206.128:27418,192.168.206.128:27518&quot;</span>)</span>\n{\n        &quot;shardAdded&quot; : &quot;myshardrs02&quot;,\n        &quot;ok&quot; : 1,\n        &quot;operationTime&quot; : Timestamp(1598165244, 3),\n        &quot;&#x24;clusterTime&quot; : {\n                &quot;clusterTime&quot; : Timestamp(1598165244, 3),\n                &quot;signature&quot; : {\n                        &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),\n                        &quot;keyId&quot; : NumberLong(0)\n                }\n        }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2000,2016"}},{"content":"<pre data-lines=\"2017,2018\"><code>&#x5f00;&#x542f;&#x6570;&#x636e;&#x5e93;&#x5206;&#x7247;&#x529f;&#x80fd;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2017,2018"}},{"content":"<pre data-lines=\"2019,2034\"><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\">sh.enableSharding(<span class=\"hljs-string\">&quot;articledb&quot;</span>)</span>\n{\n        &quot;ok&quot; : 1,\n        &quot;operationTime&quot; : Timestamp(1598165313, 5),\n        &quot;&#x24;clusterTime&quot; : {\n                &quot;clusterTime&quot; : Timestamp(1598165313, 5),\n                &quot;signature&quot; : {\n                        &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),\n                        &quot;keyId&quot; : NumberLong(0)\n                }\n        }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2019,2034"}},{"content":"<pre data-lines=\"2035,2042\"><code>&#x5f00;&#x542f;&#x96c6;&#x5408;&#x5206;&#x7247;&#x529f;&#x80fd;&#xff1a;\n\n&#xff08;1&#xff09;&#x3001;&#x5206;&#x7247;&#x89c4;&#x5219;&#x4e00;&#xff1a;&#x54c8;&#x5e0c;&#x7b56;&#x7565;\n\n&#x5bf9;&#x4e8e;&#x57fa;&#x4e8e;&#x54c8;&#x5e0c;&#x7684;&#x5206;&#x7247;&#xff0c;MongoDB&#x8ba1;&#x7b97;&#x4e00;&#x4e2a;&#x5b57;&#x6bb5;&#x7684;&#x54c8;&#x5e0c;&#x503c;&#xff0c;&#x5e76;&#x7528;&#x8fd9;&#x4e2a;&#x54c8;&#x5e0c;&#x503c;&#x6765;&#x521b;&#x5efa;&#x6570;&#x636e;&#x5757;&#xff0c;&#x5728;&#x4f7f;&#x7528;&#x57fa;&#x4e8e;&#x54c8;&#x5e0c;&#x5206;&#x7247;&#x7684;&#x7cfb;&#x7edf;&#x4e2d;&#xff0c;&#x62e5;&#x6709;&#x201d;&#x76f8;&#x8fd1;&#x201d;&#x7247;&#x952e;&#x7684;&#x6587;&#x6863;&#x5f88;&#x53ef;&#x80fd;&#x4e0d;&#x4f1a;&#x5b58;&#x50a8;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x6570;&#x636e;&#x5757;&#x4e2d;&#xff0c;&#x56e0;&#x6b64;&#x6570;&#x636e;&#x7684;&#x5206;&#x79bb;&#x6027;&#x66f4;&#x597d;&#x4e00;&#x4e9b;&#x3002;\n\n&#x4f7f;&#x7528;nickname&#x4f5c;&#x4e3a;&#x7247;&#x952e;&#xff0c;&#x6839;&#x636e;&#x5176;&#x503c;&#x7684;&#x54c8;&#x5e0c;&#x503c;&#x8fdb;&#x884c;&#x6570;&#x636e;&#x5206;&#x7247;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2035,2042"}},{"content":"<pre data-lines=\"2043,2060\"><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\">sh.shardCollection(<span class=\"hljs-string\">&quot;articledb.comment&quot;</span>,{<span class=\"hljs-string\">&quot;nickname&quot;</span>:<span class=\"hljs-string\">&quot;hashed&quot;</span>})</span> \n{\n        &quot;collectionsharded&quot; : &quot;articledb.comment&quot;,\n        &quot;collectionUUID&quot; : UUID(&quot;e493790d-43ac-450e-9c57-043e04b5ae6f&quot;),\n        &quot;ok&quot; : 1,\n        &quot;operationTime&quot; : Timestamp(1598165446, 13),\n        &quot;&#x24;clusterTime&quot; : {\n                &quot;clusterTime&quot; : Timestamp(1598165446, 13),\n                &quot;signature&quot; : {\n                        &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),\n                        &quot;keyId&quot; : NumberLong(0)\n                }\n        }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2043,2060"}},{"content":"<pre data-lines=\"2061,2066\"><code>&#xff08;2&#xff09;&#x3001;&#x5206;&#x7247;&#x89c4;&#x5219;&#x4e8c;&#xff1a;&#x8303;&#x56f4;&#x7b56;&#x7565;\n\n&#x5bf9;&#x4e8e;&#x57fa;&#x4e8e;&#x8303;&#x56f4;&#x7684;&#x5206;&#x7247;&#xff0c;MongoDB&#x6309;&#x7167;&#x7247;&#x952e;&#x7684;&#x8303;&#x56f4;&#x628a;&#x6570;&#x636e;&#x5206;&#x6210;&#x4e0d;&#x540c;&#x90e8;&#x5206;&#xff0c;&#x5047;&#x8bbe;&#x6709;&#x4e00;&#x4e2a;&#x6570;&#x5b57;&#x7684;&#x7247;&#x952e;&#xff1a;&#x60f3;&#x8c61;&#x4e00;&#x4e2a;&#x4ece;&#x8d1f;&#x65e0;&#x7a77;&#x5230;&#x6b63;&#x65e0;&#x7a77;&#x7684;&#x76f4;&#x7ebf;&#xff0c;&#x6bcf;&#x4e00;&#x4e2a;&#x7247;&#x952e;&#x7684;&#x503c;&#x90fd;&#x5728;&#x76f4;&#x7ebf;&#x4e0a;&#x753b;&#x4e86;&#x4e00;&#x4e2a;&#x70b9;&#xff0c;MongoDB&#x628a;&#x8fd9;&#x6761;&#x76f4;&#x7ebf;&#x5212;&#x5206;&#x4e3a;&#x66f4;&#x77ed;&#x7684;&#x4e0d;&#x91cd;&#x53e0;&#x7684;&#x7247;&#x6bb5;&#x5e76;&#x79f0;&#x4e4b;&#x4e3a;&#x6570;&#x636e;&#x5757;&#xff0c;&#x6bcf;&#x4e2a;&#x6570;&#x636e;&#x5757;&#x5305;&#x542b;&#x4e86;&#x7247;&#x952e;&#x5728;&#x4e00;&#x5b9a;&#x8303;&#x56f4;&#x5185;&#x7684;&#x6570;&#x636e;&#x3002;&#x5728;&#x4f7f;&#x7528;&#x7247;&#x952e;&#x505a;&#x8303;&#x56f4;&#x5212;&#x5206;&#x7684;&#x7cfb;&#x7edf;&#x4e2d;&#xff0c;&#x62e5;&#x6709;&#x201d;&#x76f8;&#x8fd1;&#x201d;&#x7247;&#x952e;&#x7684;&#x6587;&#x6863;&#x5f88;&#x53ef;&#x80fd;&#x5b58;&#x50a8;&#x5728;&#x540c;&#x4e00;&#x4e2a;&#x6570;&#x636e;&#x5757;&#x4e2d;&#xff0c;&#x56e0;&#x6b64;&#x4e5f;&#x4f1a;&#x5b58;&#x50a8;&#x5728;&#x540c; &#x4e00;&#x4e2a;&#x5206;&#x7247;&#x4e2d;&#x3002;\n\n&#x4f7f;&#x7528;&#x4f5c;&#x8005;&#x5e74;&#x9f84;&#x5b57;&#x6bb5;&#x4f5c;&#x4e3a;&#x7247;&#x952e;&#xff0c;&#x6839;&#x636e;&#x5176;&#x503c;&#x8fdb;&#x884c;&#x6570;&#x636e;&#x5206;&#x7247;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2061,2066"}},{"content":"<pre data-lines=\"2067,2084\"><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\">sh.shardCollection(<span class=\"hljs-string\">&quot;articledb.author&quot;</span>,{<span class=\"hljs-string\">&quot;age&quot;</span>:1})</span>\n{\n        &quot;collectionsharded&quot; : &quot;articledb.author&quot;,\n        &quot;collectionUUID&quot; : UUID(&quot;e079d412-fe47-4fa6-a1cd-144224836f3c&quot;),\n        &quot;ok&quot; : 1,\n        &quot;operationTime&quot; : Timestamp(1598165482, 17),\n        &quot;&#x24;clusterTime&quot; : {\n                &quot;clusterTime&quot; : Timestamp(1598165482, 17),\n                &quot;signature&quot; : {\n                        &quot;hash&quot; : BinData(0,&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;),\n                        &quot;keyId&quot; : NumberLong(0)\n                }\n        }\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2067,2084"}},{"content":"<pre data-lines=\"2085,2092\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;\n&gt; \n&gt; *   &#x4e00;&#x4e2a;&#x96c6;&#x5408;&#x53ea;&#x80fd;&#x6307;&#x5b9a;&#x4e00;&#x4e2a;&#x7247;&#x952e;&#xff0c;&#x5426;&#x5219;&#x62a5;&#x9519;\n&gt; *   &#x4e00;&#x65e6;&#x5bf9;&#x4e00;&#x4e2a;&#x96c6;&#x5408;&#x5206;&#x7247;&#xff0c;&#x5206;&#x7247;&#x952e;&#x548c;&#x5206;&#x7247;&#x503c;&#x5c31;&#x4e0d;&#x53ef;&#x6539;&#x53d8;\n&gt; *   &#x6839;&#x636e;age&#x7d22;&#x5f15;&#x8fdb;&#x884c;&#x5206;&#x914d;&#x6570;&#x636e;\n\n&#x67e5;&#x770b;&#x5206;&#x7247;&#x72b6;&#x6001;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2085,2092"}},{"content":"<pre data-lines=\"2093,2097\"><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\">sh.status()</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2093,2097"}},{"content":"<pre data-lines=\"2098,2103\"><code>**&#x7b2c;&#x4e5d;&#x6b65;&#xff1a;&#x5206;&#x7247;&#x6548;&#x679c;&#x6d4b;&#x8bd5;**\n\n*   **&#x6d4b;&#x8bd5;&#x54c8;&#x5e0c;&#x7b56;&#x7565;**\n\n&#x767b;&#x5f55;&#x5230;&#x7b2c;&#x4e00;&#x4e2a;&#x8def;&#x7531;&#x8282;&#x70b9;&#xff0c;&#x5199;&#x5165;100&#x6761;&#x6570;&#x636e;&#xff0c;&#x7136;&#x540e;&#x9000;&#x51fa;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2098,2103"}},{"content":"<pre data-lines=\"2104,2115\"><code class=\"language-shell\">[root@caochenlei ~]\n<span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\">use articledb</span>\nswitched to db articledb\n<span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\"><span class=\"hljs-keyword\">for</span>(var i=1;i&lt;=1000;i++) {db.comment.insert({_id:i+<span class=\"hljs-string\">&quot;&quot;</span>,nickname:<span class=\"hljs-string\">&quot;BoBo&quot;</span>+i})}</span>\nWriteResult({ &quot;nInserted&quot; : 1 })\n<span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\">db.comment.count()</span> \n1000\n<span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\"><span class=\"hljs-built_in\">exit</span></span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2104,2115"}},{"content":"<pre data-lines=\"2116,2117\"><code>&#x767b;&#x5f55;&#x7b2c;&#x4e00;&#x4e2a;&#x5206;&#x7247;&#xff0c;&#x67e5;&#x770b;&#x4fdd;&#x5b58;&#x6570;&#x636e;&#x91cf;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2116,2117"}},{"content":"<pre data-lines=\"2118,2127\"><code class=\"language-shell\">[root@caochenlei ~]\nmyshardrs01:PRIMARY&gt; use articledb\nswitched to db articledb\nmyshardrs01:PRIMARY&gt; db.comment.count()\n507\nmyshardrs01:PRIMARY&gt; exit\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2118,2127"}},{"content":"<pre data-lines=\"2128,2129\"><code>&#x767b;&#x5f55;&#x5230;&#x7b2c;&#x4e8c;&#x4e2a;&#x5206;&#x7247;&#xff0c;&#x67e5;&#x770b;&#x4fdd;&#x5b58;&#x6570;&#x636e;&#x91cf;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2128,2129"}},{"content":"<pre data-lines=\"2130,2139\"><code class=\"language-shell\">[root@caochenlei ~]\nmyshardrs02:PRIMARY&gt; use articledb\nswitched to db articledb\nmyshardrs02:PRIMARY&gt; db.comment.count()\n493\nmyshardrs02:PRIMARY&gt; exit\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2130,2139"}},{"content":"<pre data-lines=\"2140,2143\"><code>*   **&#x6d4b;&#x8bd5;&#x8303;&#x56f4;&#x7b56;&#x7565;**\n\n&#x767b;&#x5f55;&#x5230;&#x7b2c;&#x4e00;&#x4e2a;&#x8def;&#x7531;&#x8282;&#x70b9;&#xff0c;&#x5199;&#x5165;20000&#x6761;&#x6570;&#x636e;&#xff0c;&#x7136;&#x540e;&#x9000;&#x51fa;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2140,2143"}},{"content":"<pre data-lines=\"2144,2155\"><code class=\"language-shell\">[root@caochenlei ~]\n<span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\">use articledb</span>\nswitched to db articledb\n<span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\"><span class=\"hljs-keyword\">for</span>(var i=1;i&lt;=20000;i++) {db.author.save({<span class=\"hljs-string\">&quot;age&quot;</span>:NumberInt(i%100)})}</span>\nWriteResult({ &quot;nInserted&quot; : 1 })\n<span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\">db.author.count()</span>\n20000\n<span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\"><span class=\"hljs-built_in\">exit</span></span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2144,2155"}},{"content":"<pre data-lines=\"2156,2157\"><code>&#x767b;&#x5f55;&#x7b2c;&#x4e00;&#x4e2a;&#x5206;&#x7247;&#xff0c;&#x67e5;&#x770b;&#x4fdd;&#x5b58;&#x6570;&#x636e;&#x91cf;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2156,2157"}},{"content":"<pre data-lines=\"2158,2167\"><code class=\"language-shell\">[root@caochenlei ~]\nmyshardrs01:PRIMARY&gt; use articledb\nswitched to db articledb\nmyshardrs01:PRIMARY&gt; db.author.count()\n0\nmyshardrs01:PRIMARY&gt; exit\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2158,2167"}},{"content":"<pre data-lines=\"2168,2169\"><code>&#x767b;&#x5f55;&#x5230;&#x7b2c;&#x4e8c;&#x4e2a;&#x5206;&#x7247;&#xff0c;&#x67e5;&#x770b;&#x4fdd;&#x5b58;&#x6570;&#x636e;&#x91cf;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2168,2169"}},{"content":"<pre data-lines=\"2170,2179\"><code class=\"language-shell\">[root@caochenlei ~]\nmyshardrs02:PRIMARY&gt; use articledb\nswitched to db articledb\nmyshardrs02:PRIMARY&gt; db.author.count()\n20000\nmyshardrs02:PRIMARY&gt; exit\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2170,2179"}},{"content":"<pre data-lines=\"2180,2183\"><code>&#x6211;&#x4eec;&#x53d1;&#x73b0;&#xff0c;&#x597d;&#x50cf;&#x5e76;&#x6ca1;&#x6709;&#x5206;&#x7247;&#xff0c;&#x8fd9;&#x662f;&#x56e0;&#x4e3a;&#x6570;&#x636e;&#x5757;&#xff08;chunk&#xff09;&#x6ca1;&#x6709;&#x586b;&#x6ee1;&#xff0c;&#x9ed8;&#x8ba4;&#x7684;&#x6570;&#x636e;&#x5757;&#x5c3a;&#x5bf8;&#xff08;chunksize&#xff09;&#x662f;64M&#xff0c;&#x586b;&#x6ee1;&#x540e;&#x624d;&#x4f1a;&#x8003;&#x8651;&#x5411;&#x5176;&#x5b83;&#x7247;&#x7684;&#x6570;&#x636e;&#x5757;&#x586b;&#x5145;&#x6570;&#x636e;&#xff0c;&#x56e0;&#x6b64;&#xff0c;&#x4e3a;&#x4e86;&#x6d4b;&#x8bd5;&#xff0c;&#x53ef;&#x4ee5;&#x5c06;&#x5176;&#x6539;&#x5c0f;&#xff0c;&#x8fd9;&#x91cc;&#x6539;&#x4e3a;1M&#xff0c;&#x64cd;&#x4f5c;&#x5982;&#x4e0b;&#xff1a;\n\n&#x6d4b;&#x8bd5;&#x524d;&#x6539;&#x8fd9;&#x6837;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2180,2183"}},{"content":"<pre data-lines=\"2184,2189\"><code class=\"language-shell\">use config\ndb.settings.save({_id:&quot;chunksize&quot;,value:1})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2184,2189"}},{"content":"<pre data-lines=\"2190,2191\"><code>&#x6d4b;&#x8bd5;&#x5b8c;&#x6539;&#x56de;&#x6765;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2190,2191"}},{"content":"<pre data-lines=\"2192,2197\"><code class=\"language-shell\">use config\ndb.settings.save({_id:&quot;chunksize&quot;,value:64})\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2192,2197"}},{"content":"<pre data-lines=\"2198,2203\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x8981;&#x5148;&#x6539;&#x5c0f;&#xff0c;&#x518d;&#x8bbe;&#x7f6e;&#x5206;&#x7247;&#x3002;&#x4e3a;&#x4e86;&#x6d4b;&#x8bd5;&#xff0c;&#x53ef;&#x4ee5;&#x5148;&#x5220;&#x9664;&#x96c6;&#x5408;&#xff0c;&#x91cd;&#x65b0;&#x5efa;&#x7acb;&#x96c6;&#x5408;&#x7684;&#x5206;&#x7247;&#x7b56;&#x7565;&#xff0c;&#x518d;&#x63d2;&#x5165;&#x6570;&#x636e;&#x6d4b;&#x8bd5;&#x5373;&#x53ef;&#x3002;\n\n**&#x7b2c;&#x5341;&#x6b65;&#xff1a;&#x542f;&#x52a8;&#x7b2c;&#x4e8c;&#x4e2a;&#x8def;&#x7531;&#x8282;&#x70b9;**\n\n&#x542f;&#x52a8;&#x7b2c;&#x4e8c;&#x4e2a;&#x8def;&#x7531;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2198,2203"}},{"content":"<pre data-lines=\"2204,2208\"><code class=\"language-shell\">[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2204,2208"}},{"content":"<pre data-lines=\"2209,2210\"><code>&#x8fde;&#x63a5;&#x7b2c;&#x4e8c;&#x4e2a;&#x8def;&#x7531;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2209,2210"}},{"content":"<pre data-lines=\"2211,2215\"><code class=\"language-shell\">[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2211,2215"}},{"content":"<pre data-lines=\"2216,2217\"><code>&#x67e5;&#x770b;&#x5206;&#x7247;&#x72b6;&#x6001;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2216,2217"}},{"content":"<pre data-lines=\"2218,2222\"><code class=\"language-shell\"><span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\">sh.status()</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2218,2222"}},{"content":"<pre data-lines=\"2223,2224\"><code>**&#x7b2c;&#x5341;&#x4e00;&#x6b65;&#xff1a;&#x521b;&#x5efa;&#x7ba1;&#x7406;&#x5458;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2223,2224"}},{"content":"<pre data-lines=\"2225,2236\"><code class=\"language-shell\">[root@caochenlei ~]\n<span class=\"hljs-meta prompt_\">mongos&gt; </span><span class=\"language-bash\">use admin</span>\nswitched to db admin\n<span class=\"hljs-meta prompt_\">\nmongos&gt; </span><span class=\"language-bash\">db.createUser({user:<span class=\"hljs-string\">&quot;myroot&quot;</span>,<span class=\"hljs-built_in\">pwd</span>:<span class=\"hljs-string\">&quot;123456&quot;</span>,roles:[<span class=\"hljs-string\">&quot;root&quot;</span>]})</span>\nSuccessfully added user: { &quot;user&quot; : &quot;myroot&quot;, &quot;roles&quot; : [ &quot;root&quot; ] }\n<span class=\"hljs-meta prompt_\">\nmongos&gt; </span><span class=\"language-bash\"><span class=\"hljs-built_in\">exit</span></span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2225,2236"}},{"content":"<pre data-lines=\"2237,2238\"><code>**&#x7b2c;&#x5341;&#x4e8c;&#x6b65;&#xff1a;&#x751f;&#x6210;KeyFile&#x9274;&#x6743;&#x6587;&#x4ef6;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2237,2238"}},{"content":"<pre data-lines=\"2239,2246\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n-r--------. 1 root root 122 8&#x6708;  22 22:35 mongo.keyfile\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2239,2246"}},{"content":"<pre data-lines=\"2247,2248\"><code>**&#x7b2c;&#x5341;&#x4e09;&#x6b65;&#xff1a;&#x62f7;&#x8d1d;KeyFile&#x9274;&#x6743;&#x6587;&#x4ef6;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2247,2248"}},{"content":"<pre data-lines=\"2249,2266\"><code class=\"language-shell\">[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2249,2266"}},{"content":"<pre data-lines=\"2267,2270\"><code>**&#x7b2c;&#x5341;&#x56db;&#x6b65;&#xff1a;&#x65b0;&#x589e;keyFile&#x914d;&#x7f6e;&#x4fe1;&#x606f;**\n\n&#x53d6;&#x6d88;&#x8fd9;11&#x53f0;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x4e2d;&#x7684;&#x5b89;&#x5168;&#x6ce8;&#x91ca;&#xff0c;&#x5b83;&#x4eec;&#x5728;&#x6bcf;&#x4e00;&#x53f0;&#x5bf9;&#x5e94;&#x7684;config&#x6587;&#x4ef6;&#x5939;&#x4e2d;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2267,2270"}},{"content":"<pre data-lines=\"2271,2279\"><code class=\"language-shell\">security:\n   \n   keyFile: &quot;&quot;\n   \n   authorization: enabled\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2271,2279"}},{"content":"<pre data-lines=\"2280,2301\"><code class=\"language-shell\">\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2280,2301"}},{"content":"<pre data-lines=\"2302,2305\"><code>**&#x7b2c;&#x5341;&#x4e94;&#x6b65;&#xff1a;&#x91cd;&#x542f;&#x6240;&#x6709;&#x670d;&#x52a1;**\n\n&#x5148;&#x6740;&#x6b7b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2302,2305"}},{"content":"<pre data-lines=\"2306,2323\"><code class=\"language-shell\">[root@caochenlei ~]\nroot       4523      1  2 14:15 ?        00:04:36 /mongodb/sharded_cluster/myshardrs01_27018/bin/mongod --config /mongodb/sharded_cluster/myshardrs01_27018/config/mongod.conf\nroot       4602      1  2 14:15 ?        00:04:34 /mongodb/sharded_cluster/myshardrs01_27118/bin/mongod --config /mongodb/sharded_cluster/myshardrs01_27118/config/mongod.conf\nroot       4747      1  2 16:49 ?        00:00:22 /mongodb/sharded_cluster/myshardrs01_27218/bin/mongod --config /mongodb/sharded_cluster/myshardrs01_27218/config/mongod.conf\nroot       4776      1  4 14:18 ?        00:06:52 /mongodb/sharded_cluster/myshardrs02_27318/bin/mongod --config /mongodb/sharded_cluster/myshardrs02_27318/config/mongod.conf\nroot       4985      1  4 14:18 ?        00:06:51 /mongodb/sharded_cluster/myshardrs02_27418/bin/mongod --config /mongodb/sharded_cluster/myshardrs02_27418/config/mongod.conf\nroot       5022      1  2 16:49 ?        00:00:21 /mongodb/sharded_cluster/myshardrs02_27518/bin/mongod --config /mongodb/sharded_cluster/myshardrs02_27518/config/mongod.conf\nroot       5058      1  2 14:32 ?        00:03:59 /mongodb/sharded_cluster/myconfigrs_27019/bin/mongod --config /mongodb/sharded_cluster/myconfigrs_27019/config/mongod.conf\nroot       5992      1  2 14:32 ?        00:03:37 /mongodb/sharded_cluster/myconfigrs_27119/bin/mongod --config /mongodb/sharded_cluster/myconfigrs_27119/config/mongod.conf\nroot       6742      1  2 14:32 ?        00:03:36 /mongodb/sharded_cluster/myconfigrs_27219/bin/mongod --config /mongodb/sharded_cluster/myconfigrs_27219/config/mongod.conf\nroot       6787      1  1 16:52 ?        00:00:11 /mongodb/sharded_cluster/mymongos_27017/bin/mongos --config /mongodb/sharded_cluster/mymongos_27017/config/mongos.conf\nroot       6860      1  1 15:36 ?        00:01:18 /mongodb/sharded_cluster/mymongos_27117/bin/mongos --config /mongodb/sharded_cluster/mymongos_27117/config/mongos.conf\n\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2306,2323"}},{"content":"<pre data-lines=\"2324,2325\"><code>&#x5220;&#x6587;&#x4ef6;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2324,2325"}},{"content":"<pre data-lines=\"2326,2343\"><code class=\"language-shell\">\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2326,2343"}},{"content":"<pre data-lines=\"2344,2345\"><code>&#x518d;&#x4fee;&#x590d;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2344,2345"}},{"content":"<pre data-lines=\"2346,2363\"><code class=\"language-shell\">\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2346,2363"}},{"content":"<pre data-lines=\"2364,2367\"><code>&#x518d;&#x91cd;&#x542f;&#xff1a;&#x5fc5;&#x987b;&#x4f9d;&#x6b21;&#x542f;&#x52a8;&#x914d;&#x7f6e;&#x8282;&#x70b9;&#x3001;&#x5206;&#x7247;&#x8282;&#x70b9;&#x3001;&#x8def;&#x7531;&#x8282;&#x70b9;\n\n&gt; &#x6ce8;&#x610f;&#xff1a;&#x542f;&#x52a8;&#x5982;&#x679c;&#x9047;&#x5230;about to fork child process, waiting until server is ready for connections&#xff0c;&#x8fd9;&#x4e5f;&#x8bb8;&#x662f;&#x4e00;&#x4e2a;BUG&#xff0c;&#x60c5;&#x51b5;&#x672a;&#x77e5;&#xff01;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2364,2367"}},{"content":"<pre data-lines=\"2368,2389\"><code class=\"language-shell\">\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n\n[root@caochenlei ~]\n[root@caochenlei ~]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2368,2389"}},{"content":"<pre data-lines=\"2390,2391\"><code>**&#x7b2c;&#x5341;&#x516d;&#x6b65;&#xff1a;&#x521b;&#x5efa;&#x666e;&#x901a;&#x8d26;&#x53f7;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2390,2391"}},{"content":"<pre data-lines=\"2392,2419\"><code class=\"language-shell\">\n[root@caochenlei ~]\n<span class=\"hljs-meta prompt_\">\nmongos&gt; </span><span class=\"language-bash\">use admin</span>\nswitched to db admin\n<span class=\"hljs-meta prompt_\">\nmongos&gt; </span><span class=\"language-bash\">db.auth(<span class=\"hljs-string\">&quot;myroot&quot;</span>,<span class=\"hljs-string\">&quot;123456&quot;</span>)</span>\n1\n<span class=\"hljs-meta prompt_\">\nmongos&gt; </span><span class=\"language-bash\">use articledb</span>\nswitched to db articledb\n<span class=\"hljs-meta prompt_\">\nmongos&gt; </span><span class=\"language-bash\">db.createUser({user: <span class=\"hljs-string\">&quot;bobo&quot;</span>, <span class=\"hljs-built_in\">pwd</span>: <span class=\"hljs-string\">&quot;123456&quot;</span>, roles: [{ role: <span class=\"hljs-string\">&quot;readWrite&quot;</span>, db: <span class=\"hljs-string\">&quot;articledb&quot;</span> }]})</span>\nSuccessfully added user: {\n        &quot;user&quot; : &quot;bobo&quot;,\n        &quot;roles&quot; : [\n                {\n                        &quot;role&quot; : &quot;readWrite&quot;,\n                        &quot;db&quot; : &quot;articledb&quot;\n                }\n        ]\n}\n<span class=\"hljs-meta prompt_\">\nmongos&gt; </span><span class=\"language-bash\"><span class=\"hljs-built_in\">exit</span></span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2392,2419"}},{"content":"<pre data-lines=\"2420,2421\"><code>**&#x7b2c;&#x5341;&#x4e03;&#x6b65;&#xff1a;&#x767b;&#x5f55;&#x666e;&#x901a;&#x8d26;&#x53f7;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2420,2421"}},{"content":"<pre data-lines=\"2422,2435\"><code class=\"language-shell\">\n[root@caochenlei ~]\n<span class=\"hljs-meta prompt_\">\nmongos&gt; </span><span class=\"language-bash\">use articledb</span>\nswitched to db articledb\n<span class=\"hljs-meta prompt_\">\nmongos&gt; </span><span class=\"language-bash\">db.auth(<span class=\"hljs-string\">&quot;bobo&quot;</span>,<span class=\"hljs-string\">&quot;123456&quot;</span>)</span>\n1\n<span class=\"hljs-meta prompt_\">\nmongos&gt; </span><span class=\"language-bash\"><span class=\"hljs-built_in\">exit</span></span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2422,2435"}}],"payload":{"tag":"h3","lines":"1569,1570"}},{"content":"9.5&#x3001;&#x5206;&#x7247;&#x96c6;&#x7fa4;&#x5e38;&#x7528;&#x547d;&#x4ee4;","children":[{"content":"<pre data-lines=\"2438,2439\"><code>&#xff08;1&#xff09;&#x3001;&#x4f7f;&#x7528;&#x9ed8;&#x8ba4;&#x7684;&#x914d;&#x7f6e;&#x6765;&#x521d;&#x59cb;&#x5316;&#x526f;&#x672c;&#x96c6;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2438,2439"}},{"content":"<pre data-lines=\"2440,2444\"><code class=\"language-shell\">rs.initiate()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2440,2444"}},{"content":"<pre data-lines=\"2445,2446\"><code>&#xff08;2&#xff09;&#x3001;&#x67e5;&#x770b;&#x526f;&#x672c;&#x96c6;&#x7684;&#x914d;&#x7f6e;&#x5185;&#x5bb9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2445,2446"}},{"content":"<pre data-lines=\"2447,2451\"><code class=\"language-shell\">rs.config()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2447,2451"}},{"content":"<pre data-lines=\"2452,2453\"><code>&#xff08;3&#xff09;&#x3001;&#x67e5;&#x770b;&#x526f;&#x672c;&#x96c6;&#x7684;&#x72b6;&#x6001;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2452,2453"}},{"content":"<pre data-lines=\"2454,2458\"><code class=\"language-shell\">rs.status()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2454,2458"}},{"content":"<pre data-lines=\"2459,2460\"><code>&#xff08;4&#xff09;&#x3001;&#x6dfb;&#x52a0;&#x526f;&#x672c;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2459,2460"}},{"content":"<pre data-lines=\"2461,2465\"><code class=\"language-shell\">rs.add(&quot;&#x6570;&#x636e;&#x5e93;&#x5730;&#x5740;:&#x6570;&#x636e;&#x5e93;&#x7aef;&#x53e3;&quot;)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2461,2465"}},{"content":"<pre data-lines=\"2466,2467\"><code>&#xff08;5&#xff09;&#x3001;&#x6dfb;&#x52a0;&#x4ef2;&#x88c1;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2466,2467"}},{"content":"<pre data-lines=\"2468,2472\"><code class=\"language-shell\">rs.addArb(&quot;&#x6570;&#x636e;&#x5e93;&#x5730;&#x5740;:&#x6570;&#x636e;&#x5e93;&#x7aef;&#x53e3;&quot;)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2468,2472"}},{"content":"<pre data-lines=\"2473,2474\"><code>&#xff08;6&#xff09;&#x3001;&#x79fb;&#x9664;&#x526f;&#x672c;&#x8282;&#x70b9;&#x6216;&#x8005;&#x4ef2;&#x88c1;&#x8282;&#x70b9;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2473,2474"}},{"content":"<pre data-lines=\"2475,2479\"><code class=\"language-shell\">rs.remove(&quot;&#x6570;&#x636e;&#x5e93;&#x5730;&#x5740;:&#x6570;&#x636e;&#x5e93;&#x7aef;&#x53e3;&quot;);\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2475,2479"}},{"content":"<pre data-lines=\"2480,2481\"><code>&#xff08;7&#xff09;&#x3001;&#x6dfb;&#x52a0;&#x5206;&#x7247;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2480,2481"}},{"content":"<pre data-lines=\"2482,2486\"><code class=\"language-shell\">sh.addShard(&quot;&#x5206;&#x7247;&#x540d;&#x79f0;/&#x6570;&#x636e;&#x5e93;&#x5730;&#x5740;:&#x6570;&#x636e;&#x5e93;&#x7aef;&#x53e3;,&#x6570;&#x636e;&#x5e93;&#x5730;&#x5740;:&#x6570;&#x636e;&#x5e93;&#x7aef;&#x53e3;,&#x6570;&#x636e;&#x5e93;&#x5730;&#x5740;:&#x6570;&#x636e;&#x5e93;&#x7aef;&#x53e3;,...&quot;) \n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2482,2486"}},{"content":"<pre data-lines=\"2487,2488\"><code>&#xff08;8&#xff09;&#x3001;&#x79fb;&#x9664;&#x5206;&#x7247;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2487,2488"}},{"content":"<pre data-lines=\"2489,2494\"><code class=\"language-shell\">use admin\ndb.runCommand({ removeShard: &quot;&#x5206;&#x7247;&#x540d;&#x79f0;&quot; })\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2489,2494"}},{"content":"<pre data-lines=\"2495,2498\"><code>&gt; &#x6ce8;&#x610f;&#xff1a;&#x5982;&#x679c;&#x53ea;&#x5269;&#x4e0b;&#x6700;&#x540e;&#x4e00;&#x4e2a;shard&#xff0c;&#x662f;&#x65e0;&#x6cd5;&#x5220;&#x9664;&#x7684;&#xff0c;&#x79fb;&#x9664;&#x65f6;&#x4f1a;&#x81ea;&#x52a8;&#x8f6c;&#x79fb;&#x5206;&#x7247;&#x6570;&#x636e;&#xff0c;&#x8fd9;&#x9700;&#x8981;&#x4e00;&#x4e2a;&#x65f6;&#x95f4;&#x8fc7;&#x7a0b;&#x3002;\n\n&#xff08;9&#xff09;&#x3001;&#x67e5;&#x770b;&#x5206;&#x7247;&#x72b6;&#x6001;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2495,2498"}},{"content":"<pre data-lines=\"2499,2503\"><code class=\"language-shell\">sh.status()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2499,2503"}},{"content":"<pre data-lines=\"2504,2505\"><code>&#xff08;10&#xff09;&#x3001;&#x5f00;&#x542f;&#x6570;&#x636e;&#x5e93;&#x5206;&#x7247;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2504,2505"}},{"content":"<pre data-lines=\"2506,2510\"><code class=\"language-shell\">sh.enableSharding(&quot;&#x6570;&#x636e;&#x5e93;&#x540d;&quot;)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2506,2510"}},{"content":"<pre data-lines=\"2511,2512\"><code>&#xff08;11&#xff09;&#x3001;&#x5f00;&#x542f;&#x96c6;&#x5408;&#x5206;&#x7247;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2511,2512"}},{"content":"<pre data-lines=\"2513,2517\"><code class=\"language-shell\">sh.shardCollection(&quot;&#x6570;&#x636e;&#x5e93;&#x540d;.&#x96c6;&#x5408;&#x540d;&quot;, &quot;&#x7247;&#x952e;&quot;, &quot;&#x662f;&#x5426;&#x662f;&#x552f;&#x4e00;&#x7d22;&#x5f15;&#xff0c;&#x9ed8;&#x8ba4;&#x662f;false&#xff0c;&#x54c8;&#x5e0c;&#x7b56;&#x7565;&#x7247;&#x952e;&#x4e0d;&#x652f;&#x6301;&#x552f;&#x4e00;&#x7d22;&#x5f15;&quot;)\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2513,2517"}},{"content":"<pre data-lines=\"2518,2519\"><code>&#xff08;12&#xff09;&#x3001;&#x663e;&#x793a;&#x96c6;&#x7fa4;&#x7684;&#x8be6;&#x7ec6;&#x4fe1;&#x606f;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2518,2519"}},{"content":"<pre data-lines=\"2520,2525\"><code class=\"language-shell\">use admin\ndb.printShardingStatus()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2520,2525"}},{"content":"<pre data-lines=\"2526,2527\"><code>&#xff08;13&#xff09;&#x3001;&#x67e5;&#x770b;&#x5747;&#x8861;&#x5668;&#x662f;&#x5426;&#x5de5;&#x4f5c;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2526,2527"}},{"content":"<pre data-lines=\"2528,2532\"><code class=\"language-shell\">sh.isBalancerRunning()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2528,2532"}},{"content":"<pre data-lines=\"2533,2534\"><code>&#xff08;14&#xff09;&#x3001;&#x67e5;&#x770b;&#x5f53;&#x524d;Balancer&#x72b6;&#x6001;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2533,2534"}},{"content":"<pre data-lines=\"2535,2539\"><code class=\"language-shell\"> sh.getBalancerState()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2535,2539"}}],"payload":{"tag":"h3","lines":"2436,2437"}}],"payload":{"tag":"h2","lines":"1528,1530"}},{"content":"&#x7b2c;&#x5341;&#x7ae0; MongoDB&#x7684;Java&#x8fde;&#x63a5;","children":[{"content":"10.1&#x3001;&#x786e;&#x5b9a;&#x9a71;&#x52a8;","children":[{"content":"<pre data-lines=\"2545,2546\"><code>jar&#x5305;&#x7248;&#x672c;&#x4e0e;MongoDB&#x7248;&#x672c;&#x5bf9;&#x5e94;&#x5173;&#x7cfb;&#x5982;&#x4e0b;&#x56fe;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2545,2546"}},{"content":"<img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY2FvY2hlbmxlaS9CbG9nSW1hZ2VzL3Jhdy9tYXN0ZXIvMjAyMDA4MjMxODQyMTcucG5n?x-oss-process=image/format,png\" alt>","children":[],"payload":{"tag":"img","lines":"2547,2548"}}],"payload":{"tag":"h3","lines":"2543,2544"}},{"content":"10.2&#x3001;&#x521b;&#x5efa;&#x5de5;&#x7a0b;","children":[{"content":"<pre data-lines=\"2551,2558\"><code>*   &#x7b2c;&#x4e00;&#x6b65;&#xff1a;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x540d;&#x5b57;&#x53eb;MongoDBDemo&#x7684;Java&#x5de5;&#x7a0b;\n*   &#x7b2c;&#x4e8c;&#x6b65;&#xff1a;&#x521b;&#x5efa;&#x4e00;&#x4e2a;lib&#x6587;&#x4ef6;&#x5939;&#xff0c;&#x5c06;&#x6240;&#x9700;&#x4f9d;&#x8d56;&#x653e;&#x8fdb;&#x53bb;&#xff0c;&#x7136;&#x540e;Build Path&#x4e00;&#x4e0b;\n\t*   bson-3.11.0.jar\n\t*   mongodb-driver-3.11.0.jar\n\t*   mongodb-driver-core-3.11.0.jar\n*   &#x7b2c;&#x4e09;&#x6b65;&#xff1a;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x6d4b;&#x8bd5;&#x5305;&#xff0c;&#x540d;&#x5b57;&#x53eb;com.caochenlei.mongodb.demo\n*   &#x7b2c;&#x56db;&#x6b65;&#xff1a;&#x6dfb;&#x52a0;Junit4&#x5355;&#x5143;&#x6d4b;&#x8bd5;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2551,2558"}}],"payload":{"tag":"h3","lines":"2549,2550"}},{"content":"10.3&#x3001;&#x8fde;&#x63a5;&#x5355;&#x5b9e;&#x4f8b;&#x7248;","children":[{"content":"<pre data-lines=\"2561,2562\"><code>MongoDBSingle.java&#xff08;&#x5168;&#x8def;&#x5f84;&#xff1a;/MongoDBDemo/src/com/caochenlei/mongodb/demo/MongoDBSingle.java&#xff09;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2561,2562"}},{"content":"<pre data-lines=\"2563,2588\"><code class=\"language-java\"><span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">testLink</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoClientURI</span> <span class=\"hljs-variable\">mongoClientURI</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">MongoClientURI</span>(<span class=\"hljs-string\">&quot;mongodb://bobo:123456@localhost:27017/articledb&quot;</span>);\n\t<span class=\"hljs-type\">MongoClient</span> <span class=\"hljs-variable\">mongoClient</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">MongoClient</span>(mongoClientURI);\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\tMongoCollection&lt;Document&gt; comment = articledb.getCollection(<span class=\"hljs-string\">&quot;comment&quot;</span>);\n\t\n\t<span class=\"hljs-type\">Document</span> <span class=\"hljs-variable\">doc</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Document</span>();\n\tdoc.append(<span class=\"hljs-string\">&quot;articleid&quot;</span>, <span class=\"hljs-string\">&quot;10086&quot;</span>);\n\tdoc.append(<span class=\"hljs-string\">&quot;nickname&quot;</span>, <span class=\"hljs-string\">&quot;&#x5f20;&#x4e09;&quot;</span>);\n\tdoc.append(<span class=\"hljs-string\">&quot;content&quot;</span>, <span class=\"hljs-string\">&quot;&#x5e8a;&#x524d;&#x660e;&#x6708;&#x5149;&#xff0c;&#x7591;&#x662f;&#x5730;&#x4e0a;&#x971c;&#xff01;&quot;</span>);\n\tdoc.append(<span class=\"hljs-string\">&quot;likenum&quot;</span>, <span class=\"hljs-number\">1000</span>);\n\tcomment.insertOne(doc);\n\t\n\tMongoCursor&lt;Document&gt; cursor = comment.find().iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n\t\n\tmongoClient.close();\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2563,2588"}}],"payload":{"tag":"h3","lines":"2559,2560"}},{"content":"10.4&#x3001;&#x8fde;&#x63a5;&#x526f;&#x672c;&#x96c6;&#x7248;","children":[{"content":"<pre data-lines=\"2591,2592\"><code>MongoDBReplicaSet.java&#xff08;&#x5168;&#x8def;&#x5f84;&#xff1a;/MongoDBDemo/src/com/caochenlei/mongodb/demo/MongoDBReplicaSet.java&#xff09;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2591,2592"}},{"content":"<pre data-lines=\"2593,2618\"><code class=\"language-java\"><span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">testLink</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoClientURI</span> <span class=\"hljs-variable\">mongoClientURI</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">MongoClientURI</span>(<span class=\"hljs-string\">&quot;mongodb://bobo:123456@192.168.206.128:27017,192.168.206.128:27018,192.168.206.128:27019/articledb?connect=replicaSet&amp;slaveOk=true&amp;replicaSet=myrs&quot;</span>);\n\t<span class=\"hljs-type\">MongoClient</span> <span class=\"hljs-variable\">mongoClient</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">MongoClient</span>(mongoClientURI);\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\tMongoCollection&lt;Document&gt; comment = articledb.getCollection(<span class=\"hljs-string\">&quot;comment&quot;</span>);\n\t\n\t<span class=\"hljs-type\">Document</span> <span class=\"hljs-variable\">doc</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Document</span>();\n\tdoc.append(<span class=\"hljs-string\">&quot;articleid&quot;</span>, <span class=\"hljs-string\">&quot;10086&quot;</span>);\n\tdoc.append(<span class=\"hljs-string\">&quot;nickname&quot;</span>, <span class=\"hljs-string\">&quot;&#x5f20;&#x4e09;&quot;</span>);\n\tdoc.append(<span class=\"hljs-string\">&quot;content&quot;</span>, <span class=\"hljs-string\">&quot;&#x5e8a;&#x524d;&#x660e;&#x6708;&#x5149;&#xff0c;&#x7591;&#x662f;&#x5730;&#x4e0a;&#x971c;&#xff01;&quot;</span>);\n\tdoc.append(<span class=\"hljs-string\">&quot;likenum&quot;</span>, <span class=\"hljs-number\">1000</span>);\n\tcomment.insertOne(doc);\n\t\n\tMongoCursor&lt;Document&gt; cursor = comment.find().iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n\t\n\tmongoClient.close();\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2593,2618"}}],"payload":{"tag":"h3","lines":"2589,2590"}},{"content":"10.5&#x3001;&#x8fde;&#x63a5;&#x5206;&#x7247;&#x96c6;&#x7fa4;&#x7248;","children":[{"content":"<pre data-lines=\"2621,2622\"><code>MongoDBCluster.java&#xff08;&#x5168;&#x8def;&#x5f84;&#xff1a;/MongoDBDemo/src/com/caochenlei/mongodb/demo/MongoDBCluster.java&#xff09;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2621,2622"}},{"content":"<pre data-lines=\"2623,2648\"><code class=\"language-java\"><span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">testLink</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoClientURI</span> <span class=\"hljs-variable\">mongoClientURI</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">MongoClientURI</span>(<span class=\"hljs-string\">&quot;mongodb://bobo:123456@192.168.206.128:27017,192.168.206.128:27117/articledb&quot;</span>);\n\t<span class=\"hljs-type\">MongoClient</span> <span class=\"hljs-variable\">mongoClient</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">MongoClient</span>(mongoClientURI);\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\tMongoCollection&lt;Document&gt; comment = articledb.getCollection(<span class=\"hljs-string\">&quot;comment&quot;</span>);\n\t\n\t<span class=\"hljs-type\">Document</span> <span class=\"hljs-variable\">doc</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Document</span>();\n\tdoc.append(<span class=\"hljs-string\">&quot;articleid&quot;</span>, <span class=\"hljs-string\">&quot;10086&quot;</span>);\n\tdoc.append(<span class=\"hljs-string\">&quot;nickname&quot;</span>, <span class=\"hljs-string\">&quot;&#x5f20;&#x4e09;&quot;</span>);\n\tdoc.append(<span class=\"hljs-string\">&quot;content&quot;</span>, <span class=\"hljs-string\">&quot;&#x5e8a;&#x524d;&#x660e;&#x6708;&#x5149;&#xff0c;&#x7591;&#x662f;&#x5730;&#x4e0a;&#x971c;&#xff01;&quot;</span>);\n\tdoc.append(<span class=\"hljs-string\">&quot;likenum&quot;</span>, <span class=\"hljs-number\">1000</span>);\n\tcomment.insertOne(doc);\n\t\n\tMongoCursor&lt;Document&gt; cursor = comment.find().iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n\t\n\tmongoClient.close();\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2623,2648"}}],"payload":{"tag":"h3","lines":"2619,2620"}}],"payload":{"tag":"h2","lines":"2540,2542"}},{"content":"&#x7b2c;&#x5341;&#x4e00;&#x7ae0; MongoDB&#x7684;JavaAPI","children":[{"content":"11.1&#x3001;&#x521b;&#x5efa;&#x6570;&#x636e;&#x5e93;","children":[{"content":"<pre data-lines=\"2675,2685\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test1</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\tSystem.out.println(articledb);\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2675,2685"}}],"payload":{"tag":"h3","lines":"2673,2674"}},{"content":"11.2&#x3001;&#x67e5;&#x770b;&#x6570;&#x636e;&#x5e93;","children":[{"content":"<pre data-lines=\"2688,2699\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test2</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t<span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">name</span> <span class=\"hljs-operator\">=</span> articledb.getName();\n\tSystem.out.println(name);\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2688,2699"}}],"payload":{"tag":"h3","lines":"2686,2687"}},{"content":"11.3&#x3001;&#x5220;&#x9664;&#x6570;&#x636e;&#x5e93;","children":[{"content":"<pre data-lines=\"2702,2713\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test3</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tarticledb.drop();\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2702,2713"}}],"payload":{"tag":"h3","lines":"2700,2701"}},{"content":"11.4&#x3001;&#x521b;&#x5efa;&#x96c6;&#x5408;","children":[{"content":"<pre data-lines=\"2716,2728\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test4</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\tSystem.out.println(users);\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2716,2728"}}],"payload":{"tag":"h3","lines":"2714,2715"}},{"content":"11.5&#x3001;&#x67e5;&#x770b;&#x96c6;&#x5408;","children":[{"content":"<pre data-lines=\"2731,2744\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test5</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t<span class=\"hljs-type\">MongoNamespace</span> <span class=\"hljs-variable\">namespace</span> <span class=\"hljs-operator\">=</span> users.getNamespace();\n\tSystem.out.println(namespace);\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2731,2744"}}],"payload":{"tag":"h3","lines":"2729,2730"}},{"content":"11.6&#x3001;&#x5220;&#x9664;&#x96c6;&#x5408;","children":[{"content":"<pre data-lines=\"2747,2759\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test6</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\tusers.drop();\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2747,2759"}}],"payload":{"tag":"h3","lines":"2745,2746"}},{"content":"11.7&#x3001;&#x63d2;&#x5165;&#x6587;&#x6863;","children":[{"content":"<pre data-lines=\"2762,2763\"><code>**&#x63d2;&#x5165;&#x4e00;&#x6761;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2762,2763"}},{"content":"<pre data-lines=\"2764,2780\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test7</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t<span class=\"hljs-type\">Document</span> <span class=\"hljs-variable\">user</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Document</span>();\n\tuser.append(<span class=\"hljs-string\">&quot;username&quot;</span>, <span class=\"hljs-string\">&quot;&#x5f20;&#x4e09;&quot;</span>);\n\tuser.append(<span class=\"hljs-string\">&quot;password&quot;</span>, <span class=\"hljs-string\">&quot;123456&quot;</span>);\n\tuser.append(<span class=\"hljs-string\">&quot;age&quot;</span>, <span class=\"hljs-number\">18</span>);\n\tusers.insertOne(user);\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2764,2780"}},{"content":"<pre data-lines=\"2781,2782\"><code>**&#x63d2;&#x5165;&#x591a;&#x6761;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2781,2782"}},{"content":"<pre data-lines=\"2783,2811\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test8</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t<span class=\"hljs-type\">Document</span> <span class=\"hljs-variable\">user1</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Document</span>();\n\tuser1.append(<span class=\"hljs-string\">&quot;username&quot;</span>, <span class=\"hljs-string\">&quot;&#x674e;&#x56db;&quot;</span>);\n\tuser1.append(<span class=\"hljs-string\">&quot;password&quot;</span>, <span class=\"hljs-string\">&quot;123456&quot;</span>);\n\tuser1.append(<span class=\"hljs-string\">&quot;age&quot;</span>, <span class=\"hljs-number\">19</span>);\n\t<span class=\"hljs-type\">Document</span> <span class=\"hljs-variable\">user2</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Document</span>();\n\tuser2.append(<span class=\"hljs-string\">&quot;username&quot;</span>, <span class=\"hljs-string\">&quot;&#x738b;&#x4e94;&quot;</span>);\n\tuser2.append(<span class=\"hljs-string\">&quot;password&quot;</span>, <span class=\"hljs-string\">&quot;123456&quot;</span>);\n\tuser2.append(<span class=\"hljs-string\">&quot;age&quot;</span>, <span class=\"hljs-number\">20</span>);\n\t<span class=\"hljs-type\">Document</span> <span class=\"hljs-variable\">user3</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Document</span>();\n\tuser3.append(<span class=\"hljs-string\">&quot;username&quot;</span>, <span class=\"hljs-string\">&quot;&#x8d75;&#x516d;&quot;</span>);\n\tuser3.append(<span class=\"hljs-string\">&quot;password&quot;</span>, <span class=\"hljs-string\">&quot;123456&quot;</span>);\n\tuser3.append(<span class=\"hljs-string\">&quot;age&quot;</span>, <span class=\"hljs-number\">21</span>);\n\tList&lt;Document&gt; list = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ArrayList</span>&lt;Document&gt;();\n\tlist.add(user1);\n\tlist.add(user2);\n\tlist.add(user3);\n\tusers.insertMany(list);\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2783,2811"}}],"payload":{"tag":"h3","lines":"2760,2761"}},{"content":"11.8&#x3001;&#x67e5;&#x770b;&#x6587;&#x6863;","children":[{"content":"<pre data-lines=\"2814,2815\"><code>**&#x67e5;&#x770b;&#x5168;&#x90e8;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2814,2815"}},{"content":"<pre data-lines=\"2816,2832\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test9</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\tMongoCursor&lt;Document&gt; cursor = users.find().iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2816,2832"}},{"content":"<pre data-lines=\"2833,2834\"><code>**&#x6761;&#x4ef6;&#x67e5;&#x8be2;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2833,2834"}},{"content":"<pre data-lines=\"2835,2856\"><code class=\"language-shell\">/**\n * &#x67e5;&#x770b;&#x6587;&#x6863;&#xff1a;&#x6761;&#x4ef6;&#x67e5;&#x8be2;\n * &#x5e38;&#x89c1;&#x64cd;&#x4f5c;&#x7b26;&#xff1a;&#x7b49;&#x4e8e;&#x3001;&#x24;ne&#x3001;&#x24;gte&#x3001;&#x24;lte&#x3001;&#x24;gt&#x3001;&#x24;lt\n */\n@Test\npublic void test10() {\n\t// &#x5982;&#x679c;&#x5b58;&#x5728;articledb&#xff0c;&#x8fd4;&#x56de;articledb&#xff0c;&#x5982;&#x679c;&#x4e0d;&#x5b58;&#x5728;articledb&#xff0c;&#x521b;&#x5efa;articledb\n\tMongoDatabase articledb = mongoClient.getDatabase(&quot;articledb&quot;);\n\t// &#x5982;&#x679c;&#x5b58;&#x5728;users&#xff0c;&#x8fd4;&#x56de;users&#xff0c;&#x5982;&#x679c;&#x4e0d;&#x5b58;&#x5728;&#xff0c;&#x521b;&#x5efa;users\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(&quot;users&quot;);\n\t// &#x6761;&#x4ef6;&#x67e5;&#x8be2;&#xff1a;&#x67e5;&#x8be2;&#x5e74;&#x9f84;&#x4e0d;&#x7b49;&#x4e8e;20&#x5c81;&#x7684;&#x7528;&#x6237;&#x4fe1;&#x606f;\n\tBasicDBObject searchCond = new BasicDBObject();\n\tsearchCond.append(&quot;age&quot;, new BasicDBObject(&quot;&#x24;ne&quot;, 20));\n\tMongoCursor&lt;Document&gt; cursor = users.find(searchCond).iterator();\n\twhile (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2835,2856"}},{"content":"<pre data-lines=\"2857,2858\"><code>**&#x8fde;&#x63a5;&#x67e5;&#x8be2;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2857,2858"}},{"content":"<pre data-lines=\"2859,2899\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test11</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\t<span class=\"hljs-type\">BasicDBList</span> <span class=\"hljs-variable\">condList</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBList</span>();\n\tcondList.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;age&quot;</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;&#x24;gt&quot;</span>, <span class=\"hljs-number\">18</span>)));\n\tcondList.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;age&quot;</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;&#x24;lt&quot;</span>, <span class=\"hljs-number\">20</span>)));\n\t<span class=\"hljs-type\">BasicDBObject</span> <span class=\"hljs-variable\">searchCond</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>();\n\tsearchCond.put(<span class=\"hljs-string\">&quot;&#x24;and&quot;</span>, condList);\n\tMongoCursor&lt;Document&gt; cursor = users.find(searchCond).iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test12</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\t<span class=\"hljs-type\">BasicDBList</span> <span class=\"hljs-variable\">condList</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBList</span>();\n\tcondList.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;age&quot;</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;&#x24;lte&quot;</span>, <span class=\"hljs-number\">18</span>)));\n\tcondList.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;age&quot;</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;&#x24;gte&quot;</span>, <span class=\"hljs-number\">21</span>)));\n\t<span class=\"hljs-type\">BasicDBObject</span> <span class=\"hljs-variable\">searchCond</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>();\n\tsearchCond.put(<span class=\"hljs-string\">&quot;&#x24;or&quot;</span>, condList);\n\tMongoCursor&lt;Document&gt; cursor = users.find(searchCond).iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2859,2899"}},{"content":"<pre data-lines=\"2900,2901\"><code>**&#x7c7b;&#x578b;&#x67e5;&#x8be2;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2900,2901"}},{"content":"<pre data-lines=\"2902,2920\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test13</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\t<span class=\"hljs-type\">BasicDBObject</span> <span class=\"hljs-variable\">searchCond</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>();\n\tsearchCond.append(<span class=\"hljs-string\">&quot;username&quot;</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;&#x24;type&quot;</span>, <span class=\"hljs-string\">&quot;string&quot;</span>));\n\tMongoCursor&lt;Document&gt; cursor = users.find(searchCond).iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2902,2920"}},{"content":"<pre data-lines=\"2921,2922\"><code>**&#x5206;&#x9875;&#x67e5;&#x8be2;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2921,2922"}},{"content":"<pre data-lines=\"2923,2939\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test14</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\tMongoCursor&lt;Document&gt; cursor = users.find().skip(<span class=\"hljs-number\">1</span>).limit(<span class=\"hljs-number\">2</span>).iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2923,2939"}},{"content":"<pre data-lines=\"2940,2941\"><code>**&#x6295;&#x5f71;&#x67e5;&#x8be2;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2940,2941"}},{"content":"<pre data-lines=\"2942,2958\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test15</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\tMongoCursor&lt;Document&gt; cursor = users.find().projection(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;username&quot;</span>, <span class=\"hljs-number\">1</span>)).iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2942,2958"}},{"content":"<pre data-lines=\"2959,2960\"><code>**&#x6392;&#x5e8f;&#x67e5;&#x8be2;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2959,2960"}},{"content":"<pre data-lines=\"2961,2977\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test16</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\tMongoCursor&lt;Document&gt; cursor = users.find().sort(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;age&quot;</span>, -<span class=\"hljs-number\">1</span>)).iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2961,2977"}},{"content":"<pre data-lines=\"2978,2979\"><code>**&#x7edf;&#x8ba1;&#x67e5;&#x8be2;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2978,2979"}},{"content":"<pre data-lines=\"2980,2995\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test17</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\t<span class=\"hljs-type\">BasicDBObject</span> <span class=\"hljs-variable\">filter</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;password&quot;</span>, <span class=\"hljs-string\">&quot;123456&quot;</span>);\n\t<span class=\"hljs-type\">long</span> <span class=\"hljs-variable\">count</span> <span class=\"hljs-operator\">=</span> users.countDocuments(filter);\n\tSystem.out.println(count);\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2980,2995"}},{"content":"<pre data-lines=\"2996,2997\"><code>**&#x5305;&#x542b;&#x67e5;&#x8be2;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2996,2997"}},{"content":"<pre data-lines=\"2998,3019\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test18</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\tList&lt;String&gt; searchList = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ArrayList</span>&lt;String&gt;();\n\tsearchList.add(<span class=\"hljs-string\">&quot;&#x5f20;&#x4e09;&quot;</span>);\n\tsearchList.add(<span class=\"hljs-string\">&quot;&#x674e;&#x56db;&quot;</span>);\n\tsearchList.add(<span class=\"hljs-string\">&quot;&#x738b;&#x4e94;&quot;</span>);\n\t<span class=\"hljs-type\">BasicDBObject</span> <span class=\"hljs-variable\">searchCond</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;username&quot;</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;&#x24;in&quot;</span>, searchList));\n\tMongoCursor&lt;Document&gt; cursor = users.find(searchCond).iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"2998,3019"}},{"content":"<pre data-lines=\"3020,3021\"><code>**&#x6b63;&#x5219;&#x67e5;&#x8be2;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3020,3021"}},{"content":"<pre data-lines=\"3022,3041\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test19</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\t\n\t<span class=\"hljs-type\">Pattern</span> <span class=\"hljs-variable\">pattern</span> <span class=\"hljs-operator\">=</span> Pattern.compile(<span class=\"hljs-string\">&quot;^&#x738b;.*&#x24;&quot;</span>, Pattern.CASE_INSENSITIVE);\n\t<span class=\"hljs-type\">BasicDBObject</span> <span class=\"hljs-variable\">searchCond</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;username&quot;</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;&#x24;regex&quot;</span>, pattern));\n\tMongoCursor&lt;Document&gt; cursor = users.find(searchCond).iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3022,3041"}}],"payload":{"tag":"h3","lines":"2812,2813"}},{"content":"11.9&#x3001;&#x4fee;&#x6539;&#x6587;&#x6863;","children":[{"content":"<pre data-lines=\"3044,3045\"><code>**&#x66f4;&#x65b0;&#x4e00;&#x6761;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3044,3045"}},{"content":"<pre data-lines=\"3046,3066\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test20</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\t<span class=\"hljs-type\">BasicDBObject</span> <span class=\"hljs-variable\">updateOld</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;username&quot;</span>, <span class=\"hljs-string\">&quot;&#x5f20;&#x4e09;&quot;</span>);\n\t<span class=\"hljs-type\">BasicDBObject</span> <span class=\"hljs-variable\">updateNew</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;&#x24;set&quot;</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;username&quot;</span>, <span class=\"hljs-string\">&quot;&#x5f20;&#x4e09;&#x4e09;&quot;</span>));\n\tusers.updateOne(updateOld, updateNew);\n\t\n\tMongoCursor&lt;Document&gt; cursor = users.find().iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3046,3066"}},{"content":"<pre data-lines=\"3067,3068\"><code>**&#x66f4;&#x65b0;&#x591a;&#x6761;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3067,3068"}},{"content":"<pre data-lines=\"3069,3089\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test21</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\t<span class=\"hljs-type\">BasicDBObject</span> <span class=\"hljs-variable\">updateOld</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;password&quot;</span>, <span class=\"hljs-string\">&quot;123456&quot;</span>);\n\t<span class=\"hljs-type\">BasicDBObject</span> <span class=\"hljs-variable\">updateNew</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;&#x24;set&quot;</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;password&quot;</span>, <span class=\"hljs-string\">&quot;abcdef&quot;</span>));\n\tusers.updateMany(updateOld, updateNew);\n\t\n\tMongoCursor&lt;Document&gt; cursor = users.find().iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3069,3089"}},{"content":"<pre data-lines=\"3090,3091\"><code>**&#x66f4;&#x65b0;&#x591a;&#x4e2a;&#x5b57;&#x6bb5;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3090,3091"}},{"content":"<pre data-lines=\"3092,3112\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test22</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\t<span class=\"hljs-type\">BasicDBObject</span> <span class=\"hljs-variable\">updateOld</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;password&quot;</span>, <span class=\"hljs-string\">&quot;abcdef&quot;</span>);\n\t<span class=\"hljs-type\">BasicDBObject</span> <span class=\"hljs-variable\">updateNew</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;&#x24;set&quot;</span>, <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;password&quot;</span>, <span class=\"hljs-string\">&quot;123456&quot;</span>).append(<span class=\"hljs-string\">&quot;age&quot;</span>, <span class=\"hljs-number\">30</span>));\n\tusers.updateMany(updateOld, updateNew);\n\t\n\tMongoCursor&lt;Document&gt; cursor = users.find().iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3092,3112"}}],"payload":{"tag":"h3","lines":"3042,3043"}},{"content":"11.10&#x3001;&#x5220;&#x9664;&#x6587;&#x6863;","children":[{"content":"<pre data-lines=\"3115,3116\"><code>**&#x5220;&#x9664;&#x4e00;&#x6761;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3115,3116"}},{"content":"<pre data-lines=\"3117,3136\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test23</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\t<span class=\"hljs-type\">BasicDBObject</span> <span class=\"hljs-variable\">cond</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;username&quot;</span>, <span class=\"hljs-string\">&quot;&#x5f20;&#x4e09;&#x4e09;&quot;</span>);\n\tusers.deleteOne(cond);\n\t\n\tMongoCursor&lt;Document&gt; cursor = users.find().iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3117,3136"}},{"content":"<pre data-lines=\"3137,3138\"><code>**&#x5220;&#x9664;&#x591a;&#x6761;&#xff1a;** \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3137,3138"}},{"content":"<pre data-lines=\"3139,3158\"><code class=\"language-java\">\n<span class=\"hljs-meta\">@Test</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">test24</span><span class=\"hljs-params\">()</span> {\n\t\n\t<span class=\"hljs-type\">MongoDatabase</span> <span class=\"hljs-variable\">articledb</span> <span class=\"hljs-operator\">=</span> mongoClient.getDatabase(<span class=\"hljs-string\">&quot;articledb&quot;</span>);\n\t\n\tMongoCollection&lt;Document&gt; users = articledb.getCollection(<span class=\"hljs-string\">&quot;users&quot;</span>);\n\t\n\t<span class=\"hljs-type\">BasicDBObject</span> <span class=\"hljs-variable\">cond</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BasicDBObject</span>(<span class=\"hljs-string\">&quot;password&quot;</span>, <span class=\"hljs-string\">&quot;123456&quot;</span>);\n\tusers.deleteMany(cond);\n\t\n\tMongoCursor&lt;Document&gt; cursor = users.find().iterator();\n\t<span class=\"hljs-keyword\">while</span> (cursor.hasNext()) {\n\t\tSystem.out.println(cursor.next());\n\t}\n}\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"3139,3158"}}],"payload":{"tag":"h3","lines":"3113,3114"}}],"payload":{"tag":"h2","lines":"2649,2651"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
