<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"","children":[{"content":"redis_day01&#x56de;&#x987e;","children":[{"content":"Redis&#x7684;&#x7279;&#x70b9;","children":[{"content":"<pre data-lines=\"4,10\"><code class=\"language-python\">1&#x3001;&#x57fa;&#x4e8e;key-value&#x7684;&#x975e;&#x5173;&#x7cfb;&#x578b;&#x6570;&#x636e;&#x5e93;\n2&#x3001;&#x57fa;&#x4e8e;&#x5185;&#x5b58;&#x5b58;&#x50a8;&#xff0c;&#x901f;&#x5ea6;&#x5f88;&#x5feb;\n3&#x3001;&#x57fa;&#x4e8e;&#x5185;&#x5b58;&#x5b58;&#x50a8;&#xff0c;&#x7ecf;&#x5e38;&#x5f53;&#x4f5c;&#x7f13;&#x5b58;&#x578b;&#x6570;&#x636e;&#x5e93;&#x4f7f;&#x7528;&#xff0c;&#x5e38;&#x7528;&#x4fe1;&#x606f;&#x7f13;&#x5b58;&#x5728;redis&#x6570;&#x636e;&#x5e93;&#x4e2d;\n4&#x3001;&#x5355;&#x8fdb;&#x7a0b;&#x5355;&#x7ebf;&#x7a0b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,10"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"&#x4e94;&#x5927;&#x6570;&#x636e;&#x7c7b;&#x578b;","children":[{"content":"&#x5b57;&#x7b26;&#x4e32;&#x7c7b;&#x578b;","children":[{"content":"<pre data-lines=\"23,45\"><code class=\"language-python\"><span class=\"hljs-comment\"># &#x8bbe;&#x7f6e;key&#x76f8;&#x5173;&#x64cd;&#x4f5c;</span>\n<span class=\"hljs-number\">1</span>&#x3001;<span class=\"hljs-built_in\">set</span> key value\n<span class=\"hljs-number\">2</span>&#x3001;<span class=\"hljs-built_in\">set</span> key value nx\n<span class=\"hljs-number\">3</span>&#x3001;mset k1 v1 k2 v2 k3 v3\n<span class=\"hljs-number\">4</span>&#x3001;<span class=\"hljs-built_in\">set</span> key value ex seconds\n<span class=\"hljs-number\">5</span>&#x3001;<span class=\"hljs-built_in\">set</span> key value\n<span class=\"hljs-number\">5</span>&#x3001;expire key <span class=\"hljs-number\">5</span>\n<span class=\"hljs-number\">5</span>&#x3001;pexpire key <span class=\"hljs-number\">5</span>\n<span class=\"hljs-number\">5</span>&#x3001;ttl key\n<span class=\"hljs-number\">5</span>&#x3001;persist key\n<span class=\"hljs-comment\"># &#x83b7;&#x53d6;key&#x76f8;&#x5173;&#x64cd;&#x4f5c;</span>\n<span class=\"hljs-number\">6</span>&#x3001;get key\n<span class=\"hljs-number\">7</span>&#x3001;mget k1 k2 k3\n<span class=\"hljs-number\">8</span>&#x3001;strlen key \n<span class=\"hljs-comment\"># &#x6570;&#x5b57;&#x76f8;&#x5173;&#x64cd;&#x4f5c;</span>\n<span class=\"hljs-number\">7</span>&#x3001;incrby key &#x6b65;&#x957f;\n<span class=\"hljs-number\">8</span>&#x3001;decrby key &#x6b65;&#x957f;\n<span class=\"hljs-number\">9</span>&#x3001;incr key\n<span class=\"hljs-number\">10</span>&#x3001;decr key\n<span class=\"hljs-number\">11</span>&#x3001;incrbyfloat key number\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"23,45"}}],"payload":{"tag":"h3","lines":"21,22"}},{"content":"&#x5217;&#x8868;&#x7c7b;&#x578b;","children":[{"content":"<pre data-lines=\"48,67\"><code class=\"language-python\"><span class=\"hljs-comment\"># &#x63d2;&#x5165;&#x5143;&#x7d20;&#x76f8;&#x5173;&#x64cd;&#x4f5c;</span>\n<span class=\"hljs-number\">1</span>&#x3001;LPUSH key value1 value2 \n<span class=\"hljs-number\">2</span>&#x3001;RPUSH key value1 value2\n<span class=\"hljs-number\">3</span>&#x3001;RPOPLPUSH source destination\n<span class=\"hljs-number\">4</span>&#x3001;LINSERT key after|before value newvalue\n<span class=\"hljs-comment\"># &#x67e5;&#x8be2;&#x76f8;&#x5173;&#x64cd;&#x4f5c;</span>\n<span class=\"hljs-number\">5</span>&#x3001;LRANGE key start stop\n<span class=\"hljs-number\">6</span>&#x3001;LLEN key\n<span class=\"hljs-comment\"># &#x5220;&#x9664;&#x76f8;&#x5173;&#x64cd;&#x4f5c;</span>\n<span class=\"hljs-number\">7</span>&#x3001;LPOP key\n<span class=\"hljs-number\">8</span>&#x3001;RPOP key\n<span class=\"hljs-number\">9</span>&#x3001;BLPOP key timeout\n<span class=\"hljs-number\">10</span>&#x3001;BRPOP key timeout\n<span class=\"hljs-number\">11</span>&#x3001;LREM key count value\n<span class=\"hljs-number\">12</span>&#x3001;LTRIM key start stop\n<span class=\"hljs-comment\"># &#x4fee;&#x6539;&#x6307;&#x5b9a;&#x5143;&#x7d20;&#x76f8;&#x5173;&#x64cd;&#x4f5c;</span>\n<span class=\"hljs-number\">13</span>&#x3001;LSET key index newvalue\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"48,67"}}],"payload":{"tag":"h3","lines":"46,47"}},{"content":"&#x601d;&#x8003;&#xff1a;","children":[{"content":"<pre data-lines=\"70,73\"><code data-lines=\"70,73\">Redis&#x5217;&#x8868;&#x5982;&#x4f55;&#x5f53;&#x505a;&#x5171;&#x4eab;&#x961f;&#x5217;&#x6765;&#x4f7f;&#x7528;&#xff1f;&#xff1f;&#xff1f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"70,73"}},{"content":"<pre data-lines=\"76,80\"><code class=\"language-python\">1&#x3001;&#x751f;&#x4ea7;&#x8005;&#x6d88;&#x8d39;&#x8005;&#x6a21;&#x578b;\n2&#x3001;&#x751f;&#x4ea7;&#x8005;&#x8fdb;&#x7a0b;&#x5728;&#x5217;&#x8868;&#x4e2d; LPUSH | RPUSH &#x6570;&#x636e;&#xff0c;&#x6d88;&#x8d39;&#x8005;&#x8fdb;&#x7a0b;&#x5728;&#x5217;&#x8868;&#x4e2d; BRPOP | BLPOP &#x6570;&#x636e;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"76,80"}}],"payload":{"tag":"h3","lines":"68,69"}},{"content":"Python&#x4e0e;redis&#x4ea4;&#x4e92;&#x6ce8;&#x610f;","children":[{"content":"<pre data-lines=\"83,89\"><code class=\"language-python\"><span class=\"hljs-number\">1</span>&#x3001;r.<span class=\"hljs-built_in\">set</span>(<span class=\"hljs-string\">&apos;name&apos;</span>,<span class=\"hljs-string\">&apos;Tom&apos;</span>,ex=<span class=\"hljs-number\">5</span>,nx=<span class=\"hljs-literal\">True</span>)\n<span class=\"hljs-number\">2</span>&#x3001;r.mset({<span class=\"hljs-string\">&apos;user1:name&apos;</span>:<span class=\"hljs-string\">&apos;Tom&apos;</span>,<span class=\"hljs-string\">&apos;user1:age&apos;</span>:<span class=\"hljs-string\">&apos;25&apos;</span>})\n<span class=\"hljs-comment\"># &#x6709;&#x5143;&#x7d20;&#x65f6;&#x8fd4;&#x56de;&#x5f39;&#x51fa;&#x5143;&#x7d20;,&#x5426;&#x5219;&#x8fd4;&#x56de;None</span>\n<span class=\"hljs-number\">3</span>&#x3001;r.brpop(<span class=\"hljs-string\">&apos;mylist&apos;</span>,<span class=\"hljs-number\">3</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"83,89"}}],"payload":{"tag":"h3","lines":"81,82"}}],"payload":{"tag":"h2","lines":"11,12"}}],"payload":{"tag":"h1","lines":"0,1"}},{"content":"redis_day02&#x7b14;&#x8bb0;","children":[{"content":"&#x4f4d;&#x56fe;&#x64cd;&#x4f5c;bitmap","children":[{"content":"&#x5b9a;&#x4e49;","children":[{"content":"<pre data-lines=\"98,105\"><code class=\"language-python\"><span class=\"hljs-number\">1</span>&#x3001;&#x4f4d;&#x56fe;&#x4e0d;&#x662f;&#x771f;&#x6b63;&#x7684;&#x6570;&#x636e;&#x7c7b;&#x578b;&#xff0c;&#x5b83;&#x662f;&#x5b9a;&#x4e49;&#x5728;&#x5b57;&#x7b26;&#x4e32;&#x7c7b;&#x578b;&#x4e2d;\n<span class=\"hljs-number\">2</span>&#x3001;&#x4e00;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#x7c7b;&#x578b;&#x7684;&#x503c;&#x6700;&#x591a;&#x80fd;&#x5b58;&#x50a8;512M&#x5b57;&#x8282;&#x7684;&#x5185;&#x5bb9;&#xff0c;&#x4f4d;&#x4e0a;&#x9650;&#xff1a;<span class=\"hljs-number\">2</span>^<span class=\"hljs-number\">32</span>\n<span class=\"hljs-comment\"># 1MB = 1024KB</span>\n<span class=\"hljs-comment\"># 1KB = 1024Byte(&#x5b57;&#x8282;)</span>\n<span class=\"hljs-comment\"># 1Byte = 8bit(&#x4f4d;)</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"98,105"}}],"payload":{"tag":"h3","lines":"96,97"}},{"content":"&#x5f3a;&#x52bf;&#x70b9;","children":[{"content":"<pre data-lines=\"108,111\"><code class=\"language-python\">&#x53ef;&#x4ee5;&#x5b9e;&#x65f6;&#x7684;&#x8fdb;&#x884c;&#x7edf;&#x8ba1;&#xff0c;&#x6781;&#x5176;&#x8282;&#x7701;&#x7a7a;&#x95f4;&#x3002;&#x5b98;&#x65b9;&#x5728;&#x6a21;&#x62df;1&#x4ebf;2&#x5343;8&#x767e;&#x4e07;&#x7528;&#x6237;&#x7684;&#x6a21;&#x62df;&#x73af;&#x5883;&#x4e0b;&#xff0c;&#x5728;&#x4e00;&#x53f0;MacBookPro&#x4e0a;&#xff0c;&#x5178;&#x578b;&#x7684;&#x7edf;&#x8ba1;&#x5982;&#x201c;&#x65e5;&#x7528;&#x6237;&#x6570;&#x201d;&#x7684;&#x65f6;&#x95f4;&#x6d88;&#x8017;&#x5c0f;&#x4e8e;50ms, &#x5360;&#x7528;16MB&#x5185;&#x5b58;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"108,111"}}],"payload":{"tag":"h3","lines":"106,107"}},{"content":"&#x8bbe;&#x7f6e;&#x67d0;&#x4e00;&#x4f4d;&#x4e0a;&#x7684;&#x503c;&#xff08;setbit&#xff09;","children":[{"content":"<pre data-lines=\"114,122\"><code class=\"language-python\"><span class=\"hljs-comment\"># &#x8bbe;&#x7f6e;&#x67d0;&#x4e00;&#x4f4d;&#x4e0a;&#x7684;&#x503c;&#xff08;offset&#x662f;&#x504f;&#x79fb;&#x91cf;&#xff0c;&#x4ece;0&#x5f00;&#x59cb;&#xff09;</span>\nsetbit key offset value\n<span class=\"hljs-comment\"># &#x83b7;&#x53d6;&#x67d0;&#x4e00;&#x4f4d;&#x4e0a;&#x7684;&#x503c;</span>\nGETBIT key offset\n<span class=\"hljs-comment\"># &#x7edf;&#x8ba1;&#x952e;&#x6240;&#x5bf9;&#x5e94;&#x7684;&#x503c;&#x4e2d;&#x6709;&#x591a;&#x5c11;&#x4e2a; 1 </span>\nBITCOUNT key\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"114,122"}}],"payload":{"tag":"h3","lines":"112,113"}},{"content":"&#x793a;&#x4f8b;","children":[{"content":"<pre data-lines=\"125,137\"><code class=\"language-python\"><span class=\"hljs-comment\"># &#x9ed8;&#x8ba4;&#x6269;&#x5c55;&#x4f4d;&#x4ee5;0&#x586b;&#x5145;</span>\n<span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span>:<span class=\"hljs-number\">6379</span>&gt; <span class=\"hljs-built_in\">set</span> mykey ab\nOK\n<span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span>:<span class=\"hljs-number\">6379</span>&gt; get mykey\n<span class=\"hljs-string\">&quot;ab&quot;</span>\n<span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span>:<span class=\"hljs-number\">6379</span>&gt; SETBIT mykey <span class=\"hljs-number\">0</span> <span class=\"hljs-number\">1</span>\n(integer) <span class=\"hljs-number\">0</span>\n<span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span>:<span class=\"hljs-number\">6379</span>&gt; get mykey\n<span class=\"hljs-string\">&quot;\\xe1b&quot;</span>\n<span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span>:<span class=\"hljs-number\">6379</span>&gt; \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"125,137"}}],"payload":{"tag":"h3","lines":"123,124"}},{"content":"&#x83b7;&#x53d6;&#x67d0;&#x4e00;&#x4f4d;&#x4e0a;&#x7684;&#x503c;","children":[{"content":"<pre data-lines=\"140,143\"><code data-lines=\"140,143\">GETBIT key <span class=\"hljs-built_in\">offset</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"140,143"}},{"content":"<pre data-lines=\"146,153\"><code class=\"language-python\">127.0.0.1:6379&gt; GETBIT mykey 3\n(integer) 0\n127.0.0.1:6379&gt; GETBIT mykey 0\n(integer) 1\n127.0.0.1:6379&gt; \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"146,153"}}],"payload":{"tag":"h3","lines":"138,139"}},{"content":"bitcount","children":[{"content":"<pre data-lines=\"156,159\"><code data-lines=\"156,159\">&#x7edf;&#x8ba1;&#x952e;&#x6240;&#x5bf9;&#x5e94;&#x7684;&#x503c;&#x4e2d;&#x6709;&#x591a;&#x5c11;&#x4e2a;<span class=\"hljs-number\"> 1 </span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"156,159"}},{"content":"<pre data-lines=\"162,171\"><code class=\"language-python\">127.0.0.1:6379&gt; SETBIT user001 1 1\n(integer) 0\n127.0.0.1:6379&gt; SETBIT user001 30 1\n(integer) 0\n127.0.0.1:6379&gt; bitcount user001\n(integer) 2\n127.0.0.1:6379&gt; \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"162,171"}}],"payload":{"tag":"h3","lines":"154,155"}},{"content":"&#x5e94;&#x7528;&#x573a;&#x666f;&#x6848;&#x4f8b;","children":[{"content":"<pre data-lines=\"174,183\"><code class=\"language-python\"><span class=\"hljs-comment\"># &#x7f51;&#x7ad9;&#x7528;&#x6237;&#x7684;&#x4e0a;&#x7ebf;&#x6b21;&#x6570;&#x7edf;&#x8ba1;&#xff08;&#x5bfb;&#x627e;&#x6d3b;&#x8dc3;&#x7528;&#x6237;&#xff09;</span>\n\t&#x7528;&#x6237;&#x540d;&#x4e3a;key&#xff0c;&#x4e0a;&#x7ebf;&#x7684;&#x5929;&#x4f5c;&#x4e3a;offset&#xff0c;&#x4e0a;&#x7ebf;&#x8bbe;&#x7f6e;&#x4e3a;<span class=\"hljs-number\">1</span>\n<span class=\"hljs-comment\"># &#x793a;&#x4f8b;</span>\n\t&#x7528;&#x6237;&#x540d;&#x4e3a; user1:login &#x7684;&#x7528;&#x6237;&#xff0c;&#x4eca;&#x5e74;&#x7b2c;<span class=\"hljs-number\">1</span>&#x5929;&#x4e0a;&#x7ebf;&#xff0c;&#x7b2c;<span class=\"hljs-number\">30</span>&#x5929;&#x4e0a;&#x7ebf;\n\tSETBIT user1:login <span class=\"hljs-number\">0</span> <span class=\"hljs-number\">1</span> \n\tSETBIT user1:login <span class=\"hljs-number\">29</span> <span class=\"hljs-number\">1</span>\n\tBITCOUNT user1:login\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"174,183"}}],"payload":{"tag":"h3","lines":"172,173"}},{"content":"&#x4ee3;&#x7801;&#x5b9e;&#x73b0;","children":[{"content":"<pre data-lines=\"186,191\"><code class=\"language-python\">r.setbit(<span class=\"hljs-string\">&apos;user1:login&apos;</span>,<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">1</span>)\nr.getbit(<span class=\"hljs-string\">&apos;user1:login&apos;</span>, <span class=\"hljs-number\">0</span>)\nr.bitcount(<span class=\"hljs-string\">&apos;user1:login&apos;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"186,191"}}],"payload":{"tag":"h3","lines":"184,185"}}],"payload":{"tag":"h2","lines":"94,95"}},{"content":"Hash&#x6563;&#x5217;&#x6570;&#x636e;&#x7c7b;&#x578b;","children":[{"content":"1. &#x5b9a;&#x4e49;","children":[{"content":"<pre data-lines=\"196,203\"><code class=\"language-python\">user1 -&gt; {<span class=\"hljs-string\">&apos;username&apos;</span>: <span class=\"hljs-string\">&apos;guoxiaonao&apos;</span>}    username -&gt; guoxiaonao\n\n<span class=\"hljs-number\">1</span>&#x3001;&#x7531;field&#x548c;&#x5173;&#x8054;&#x7684;value&#x7ec4;&#x6210;&#x7684;&#x952e;&#x503c;&#x5bf9;\n<span class=\"hljs-number\">2</span>&#x3001;field&#x548c;value&#x662f;&#x5b57;&#x7b26;&#x4e32;&#x7c7b;&#x578b;\n<span class=\"hljs-number\">3</span>&#x3001;&#x4e00;&#x4e2a;<span class=\"hljs-built_in\">hash</span>&#x4e2d;&#x6700;&#x591a;&#x5305;&#x542b;<span class=\"hljs-number\">2</span>^<span class=\"hljs-number\">32</span>-<span class=\"hljs-number\">1</span>&#x4e2a;&#x952e;&#x503c;&#x5bf9;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"196,203"}}],"payload":{"tag":"h3","lines":"194,195"}},{"content":"2. &#x4f18;&#x70b9;","children":[{"content":"<pre data-lines=\"206,210\"><code class=\"language-python\">1&#x3001;&#x8282;&#x7ea6;&#x5185;&#x5b58;&#x7a7a;&#x95f4; - &#x7279;&#x5b9a;&#x6761;&#x4ef6;&#x4e0b; &#x3010;1&#xff0c;&#x5b57;&#x6bb5;&#x5c0f;&#x4e8e;512&#x4e2a;&#xff0c;2&#xff1a;value&#x4e0d;&#x80fd;&#x8d85;&#x8fc7;64&#x5b57;&#x8282;&#x3011;\n2&#x3001;&#x53ef;&#x6309;&#x9700;&#x83b7;&#x53d6;&#x5b57;&#x6bb5;&#x7684;&#x503c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"206,210"}}],"payload":{"tag":"h3","lines":"204,205"}},{"content":"3. &#x7f3a;&#x70b9;&#xff08;&#x4e0d;&#x9002;&#x5408;hash&#x60c5;&#x51b5;&#xff09;","children":[{"content":"<pre data-lines=\"213,217\"><code class=\"language-python\">1&#xff0c;&#x4f7f;&#x7528;&#x8fc7;&#x671f;&#x952e;&#x529f;&#x80fd;&#xff1a;&#x952e;&#x8fc7;&#x671f;&#x529f;&#x80fd;&#x53ea;&#x80fd;&#x5bf9;&#x952e;&#x8fdb;&#x884c;&#x8fc7;&#x671f;&#x64cd;&#x4f5c;&#xff0c;&#x800c;&#x4e0d;&#x80fd;&#x5bf9;&#x6563;&#x5217;&#x7684;&#x5b57;&#x6bb5;&#x8fdb;&#x884c;&#x8fc7;&#x671f;&#x64cd;&#x4f5c;\n2&#xff0c;&#x5b58;&#x50a8;&#x6d88;&#x8017;&#x5927;&#x4e8e;&#x5b57;&#x7b26;&#x4e32;&#x7ed3;&#x6784;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"213,217"}}],"payload":{"tag":"h3","lines":"211,212"}},{"content":"4. &#x57fa;&#x672c;&#x547d;&#x4ee4;&#x64cd;&#x4f5c;","children":[{"content":"<pre data-lines=\"220,247\"><code class=\"language-python\"><span class=\"hljs-comment\"># 1&#x3001;&#x8bbe;&#x7f6e;&#x5355;&#x4e2a;&#x5b57;&#x6bb5;</span>\nHSET key field value\nHSETNX key field value\n<span class=\"hljs-comment\"># 2&#x3001;&#x8bbe;&#x7f6e;&#x591a;&#x4e2a;&#x5b57;&#x6bb5;</span>\nHMSET key field value field value\n<span class=\"hljs-comment\"># 3&#x3001;&#x8fd4;&#x56de;&#x5b57;&#x6bb5;&#x4e2a;&#x6570;</span>\nHLEN key\n<span class=\"hljs-comment\"># 4&#x3001;&#x5224;&#x65ad;&#x5b57;&#x6bb5;&#x662f;&#x5426;&#x5b58;&#x5728;&#xff08;&#x4e0d;&#x5b58;&#x5728;&#x8fd4;&#x56de;0&#xff09;</span>\nHEXISTS key field\n<span class=\"hljs-comment\"># 5&#x3001;&#x8fd4;&#x56de;&#x5b57;&#x6bb5;&#x503c;</span>\nHGET key field\n<span class=\"hljs-comment\"># 6&#x3001;&#x8fd4;&#x56de;&#x591a;&#x4e2a;&#x5b57;&#x6bb5;&#x503c;</span>\nHMGET key field filed\n<span class=\"hljs-comment\"># 7&#x3001;&#x8fd4;&#x56de;&#x6240;&#x6709;&#x7684;&#x952e;&#x503c;&#x5bf9;</span>\nHGETALL key\n<span class=\"hljs-comment\"># 8&#x3001;&#x8fd4;&#x56de;&#x6240;&#x6709;&#x5b57;&#x6bb5;&#x540d;</span>\nHKEYS key\n<span class=\"hljs-comment\"># 9&#x3001;&#x8fd4;&#x56de;&#x6240;&#x6709;&#x503c;</span>\nHVALS key\n<span class=\"hljs-comment\"># 10&#x3001;&#x5220;&#x9664;&#x6307;&#x5b9a;&#x5b57;&#x6bb5;</span>\nHDEL key field \n<span class=\"hljs-comment\"># 11&#x3001;&#x5728;&#x5b57;&#x6bb5;&#x5bf9;&#x5e94;&#x503c;&#x4e0a;&#x8fdb;&#x884c;&#x6574;&#x6570;&#x589e;&#x91cf;&#x8fd0;&#x7b97;</span>\nHINCRBY key filed increment\n<span class=\"hljs-comment\"># 12&#x3001;&#x5728;&#x5b57;&#x6bb5;&#x5bf9;&#x5e94;&#x503c;&#x4e0a;&#x8fdb;&#x884c;&#x6d6e;&#x70b9;&#x6570;&#x589e;&#x91cf;&#x8fd0;&#x7b97;</span>\nHINCRBYFLOAT key field increment\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"220,247"}}],"payload":{"tag":"h3","lines":"218,219"}},{"content":"Hash&#x4e0e;python&#x4ea4;&#x4e92;","children":[{"content":"<pre data-lines=\"250,266\"><code class=\"language-python\"><span class=\"hljs-comment\"># 1&#x3001;&#x66f4;&#x65b0;&#x4e00;&#x6761;&#x6570;&#x636e;&#x7684;&#x5c5e;&#x6027;&#xff0c;&#x6ca1;&#x6709;&#x5219;&#x65b0;&#x5efa;</span>\nhset(name, key, value) \n<span class=\"hljs-comment\"># 2&#x3001;&#x8bfb;&#x53d6;&#x8fd9;&#x6761;&#x6570;&#x636e;&#x7684;&#x6307;&#x5b9a;&#x5c5e;&#x6027;&#xff0c; &#x8fd4;&#x56de;&#x5b57;&#x7b26;&#x4e32;&#x7c7b;&#x578b;</span>\nhget(name, key)\n<span class=\"hljs-comment\"># 3&#x3001;&#x6279;&#x91cf;&#x66f4;&#x65b0;&#x6570;&#x636e;&#xff08;&#x6ca1;&#x6709;&#x5219;&#x65b0;&#x5efa;&#xff09;&#x5c5e;&#x6027;,&#x53c2;&#x6570;&#x4e3a;&#x5b57;&#x5178;</span>\nhmset(name, mapping)\n<span class=\"hljs-comment\"># 4&#x3001;&#x6279;&#x91cf;&#x8bfb;&#x53d6;&#x6570;&#x636e;&#xff08;&#x6ca1;&#x6709;&#x5219;&#x65b0;&#x5efa;&#xff09;&#x5c5e;&#x6027;</span>\nhmget(name, keys)\n<span class=\"hljs-comment\"># 5&#x3001;&#x83b7;&#x53d6;&#x8fd9;&#x6761;&#x6570;&#x636e;&#x7684;&#x6240;&#x6709;&#x5c5e;&#x6027;&#x548c;&#x5bf9;&#x5e94;&#x7684;&#x503c;&#xff0c;&#x8fd4;&#x56de;&#x5b57;&#x5178;&#x7c7b;&#x578b;</span>\nhgetall(name)\n<span class=\"hljs-comment\"># 6&#x3001;&#x83b7;&#x53d6;&#x8fd9;&#x6761;&#x6570;&#x636e;&#x7684;&#x6240;&#x6709;&#x5c5e;&#x6027;&#x540d;&#xff0c;&#x8fd4;&#x56de;&#x5217;&#x8868;&#x7c7b;&#x578b;</span>\nhkeys(name)\n<span class=\"hljs-comment\"># 7&#x3001;&#x5220;&#x9664;&#x8fd9;&#x6761;&#x6570;&#x636e;&#x7684;&#x6307;&#x5b9a;&#x5c5e;&#x6027;</span>\nhdel(name, *keys)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"250,266"}}],"payload":{"tag":"h3","lines":"248,249"}},{"content":"Python&#x4ee3;&#x7801;hash&#x6563;&#x5217;","children":[{"content":"<pre data-lines=\"269,284\"><code class=\"language-python\"><span class=\"hljs-comment\">#r.hset(&apos;pyh1&apos;, &apos;name&apos;, &apos;guoxiaonao&apos;)</span>\n<span class=\"hljs-comment\">#{b&apos;name&apos;: b&apos;guoxiaonao&apos;}</span>\n<span class=\"hljs-comment\">#print(r.hgetall(&apos;pyh1&apos;))</span>\n<span class=\"hljs-comment\">#b&apos;guoxiaonao&apos;</span>\n<span class=\"hljs-comment\">#print(r.hget(&apos;pyh1&apos;, &apos;name&apos;))</span>\n\nuser_dict = {\n    <span class=\"hljs-string\">&apos;password&apos;</span>:<span class=\"hljs-string\">&apos;123&apos;</span>,\n    <span class=\"hljs-string\">&apos;gender&apos;</span>: <span class=\"hljs-string\">&apos;F&apos;</span>\n}\nr.hmset(<span class=\"hljs-string\">&apos;pyh1&apos;</span>, user_dict)\n<span class=\"hljs-built_in\">print</span>(r.hkeys(<span class=\"hljs-string\">&apos;pyh1&apos;</span>))\n<span class=\"hljs-built_in\">print</span>(r.hvals(<span class=\"hljs-string\">&apos;pyh1&apos;</span>))\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"269,284"}}],"payload":{"tag":"h3","lines":"267,268"}},{"content":"&#x5e94;&#x7528;&#x573a;&#x666f;&#xff1a;&#x5fae;&#x535a;&#x597d;&#x53cb;&#x5173;&#x6ce8;","children":[{"content":"<pre data-lines=\"287,299\"><code class=\"language-python\">1&#x3001;&#x7528;&#x6237;ID&#x4e3a;key&#xff0c;Field&#x4e3a;&#x597d;&#x53cb;ID&#xff0c;Value&#x4e3a;&#x5173;&#x6ce8;&#x65f6;&#x95f4;\n       key       field    value\n\t user:10000   user:606 20190520\n\t              user:605 20190521\n2&#x3001;&#x7528;&#x6237;&#x7ef4;&#x5ea6;&#x7edf;&#x8ba1;\n   &#x7edf;&#x8ba1;&#x6570;&#x5305;&#x62ec;&#xff1a;&#x5173;&#x6ce8;&#x6570;&#x3001;&#x7c89;&#x4e1d;&#x6570;&#x3001;&#x559c;&#x6b22;&#x5546;&#x54c1;&#x6570;&#x3001;&#x53d1;&#x5e16;&#x6570;\n   &#x7528;&#x6237;&#x4e3a;key&#xff0c;&#x4e0d;&#x540c;&#x7ef4;&#x5ea6;&#x4e3a;field&#xff0c;value&#x4e3a;&#x7edf;&#x8ba1;&#x6570;\n   &#x6bd4;&#x5982;&#x5173;&#x6ce8;&#x4e86;5&#x4eba;\n\t HSET user:10000 fans 5\n\t HINCRBY user:10000 fans 1\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"287,299"}}],"payload":{"tag":"h3","lines":"285,286"}},{"content":"&#x5e94;&#x7528;&#x573a;&#x666f;: redis+mysql+hash&#x7ec4;&#x5408;&#x4f7f;&#x7528;","children":[{"content":"&#x539f;&#x7406;","children":[{"content":"<pre data-lines=\"304,319\"><code class=\"language-python\">&#x7528;&#x6237;&#x60f3;&#x8981;&#x67e5;&#x8be2;&#x4e2a;&#x4eba;&#x4fe1;&#x606f;\n<span class=\"hljs-number\">1</span>&#x3001;&#x5230;redis&#x7f13;&#x5b58;&#x4e2d;&#x67e5;&#x8be2;&#x4e2a;&#x4eba;&#x4fe1;&#x606f;\n<span class=\"hljs-number\">2</span>&#x3001;redis&#x4e2d;&#x67e5;&#x8be2;&#x4e0d;&#x5230;&#xff0c;&#x5230;mysql&#x67e5;&#x8be2;&#xff0c;&#x5e76;&#x7f13;&#x5b58;&#x5230;redis\n<span class=\"hljs-number\">3</span>&#x3001;&#x518d;&#x6b21;&#x67e5;&#x8be2;&#x4e2a;&#x4eba;&#x4fe1;&#x606f;\n\n&#x9879;&#x76ee;&#x540d;+&#x6570;&#x636e;&#x5e93;&#x540d; rmysite2\n&#x5e94;&#x7528; user\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">UserProfile</span>(models.Model):\n    \n    username = varchar  <span class=\"hljs-number\">11</span>\n    age = <span class=\"hljs-built_in\">int</span> defautl <span class=\"hljs-number\">0</span>\n \n&#x5c06;&#x6a21;&#x578b;&#x7c7b;&#x540c;&#x6b65;&#x5230;&#x6570;&#x636e;&#x5e93;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"304,319"}}],"payload":{"tag":"h4","lines":"302,303"}},{"content":"&#x4ee3;&#x7801;&#x5b9e;&#x73b0;","children":[{"content":"<pre data-lines=\"322,327\"><code data-lines=\"322,327\">mysql&#x6570;&#x636e;&#x5e93;&#x4e2d;&#x6570;&#x636e;&#x66f4;&#x65b0;&#x4fe1;&#x606f;&#x540e;&#x540c;&#x6b65;&#x5230;redis&#x7f13;&#x5b58;\n\n&#x7528;&#x6237;&#x4fee;&#x6539;&#x4e2a;&#x4eba;&#x4fe1;&#x606f;&#x65f6;&#xff0c;&#x8981;&#x5c06;&#x6570;&#x636e;&#x540c;&#x6b65;&#x5230;redis&#x7f13;&#x5b58;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"322,327"}}],"payload":{"tag":"h4","lines":"320,321"}}],"payload":{"tag":"h3","lines":"300,301"}}],"payload":{"tag":"h2","lines":"192,193"}},{"content":"&#x96c6;&#x5408;&#x6570;&#x636e;&#x7c7b;&#x578b;&#xff08;set&#xff09;","children":[{"content":"&#x7279;&#x70b9;","children":[{"content":"<pre data-lines=\"334,339\"><code class=\"language-python\">1&#x3001;&#x65e0;&#x5e8f;&#x3001;&#x53bb;&#x91cd;\n2&#x3001;&#x5143;&#x7d20;&#x662f;&#x5b57;&#x7b26;&#x4e32;&#x7c7b;&#x578b;\n3&#x3001;&#x6700;&#x591a;&#x5305;&#x542b;2^32-1&#x4e2a;&#x5143;&#x7d20;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"334,339"}}],"payload":{"tag":"h3","lines":"332,333"}},{"content":"&#x57fa;&#x672c;&#x547d;&#x4ee4;","children":[{"content":"<pre data-lines=\"342,373\"><code class=\"language-python\"><span class=\"hljs-comment\"># 1&#x3001;&#x589e;&#x52a0;&#x4e00;&#x4e2a;&#x6216;&#x8005;&#x591a;&#x4e2a;&#x5143;&#x7d20;,&#x81ea;&#x52a8;&#x53bb;&#x91cd;&#xff1b;&#x8fd4;&#x56de;&#x503c;&#x4e3a;&#x6210;&#x529f;&#x63d2;&#x5165;&#x5230;&#x96c6;&#x5408;&#x7684;&#x5143;&#x7d20;&#x4e2a;&#x6570;</span>\nSADD key member1 member2\n<span class=\"hljs-comment\"># 2&#x3001;&#x67e5;&#x770b;&#x96c6;&#x5408;&#x4e2d;&#x6240;&#x6709;&#x5143;&#x7d20;</span>\nSMEMBERS key\n<span class=\"hljs-comment\"># 3&#x3001;&#x5220;&#x9664;&#x4e00;&#x4e2a;&#x6216;&#x8005;&#x591a;&#x4e2a;&#x5143;&#x7d20;&#xff0c;&#x5143;&#x7d20;&#x4e0d;&#x5b58;&#x5728;&#x81ea;&#x52a8;&#x5ffd;&#x7565;</span>\nSREM key member1 member2\n<span class=\"hljs-comment\"># 4&#x3001;&#x5143;&#x7d20;&#x662f;&#x5426;&#x5b58;&#x5728;</span>\nSISMEMBER key member\n<span class=\"hljs-comment\"># 5&#x3001;&#x968f;&#x673a;&#x8fd4;&#x56de;&#x96c6;&#x5408;&#x4e2d;&#x6307;&#x5b9a;&#x4e2a;&#x6570;&#x7684;&#x5143;&#x7d20;&#xff0c;&#x9ed8;&#x8ba4;&#x4e3a;1&#x4e2a;</span>\nSRANDMEMBER key [count]\n<span class=\"hljs-comment\"># 6&#x3001;&#x5f39;&#x51fa;&#x6210;&#x5458;</span>\nSPOP key [count]\n<span class=\"hljs-comment\"># 7&#x3001;&#x8fd4;&#x56de;&#x96c6;&#x5408;&#x4e2d;&#x5143;&#x7d20;&#x7684;&#x4e2a;&#x6570;&#xff0c;&#x4e0d;&#x4f1a;&#x904d;&#x5386;&#x6574;&#x4e2a;&#x96c6;&#x5408;&#xff0c;&#x53ea;&#x662f;&#x5b58;&#x50a8;&#x5728;&#x952e;&#x5f53;&#x4e2d;&#x4e86;</span>\nSCARD key\n<span class=\"hljs-comment\"># 8&#x3001;&#x628a;&#x5143;&#x7d20;&#x4ece;&#x6e90;&#x96c6;&#x5408;&#x79fb;&#x52a8;&#x5230;&#x76ee;&#x6807;&#x96c6;&#x5408;</span>\nSMOVE source destination member\n\n<span class=\"hljs-comment\"># 9&#x3001;&#x5dee;&#x96c6;(number1 1 2 3 number2 1 2 4 &#x7ed3;&#x679c;&#x4e3a;3)</span>\nSDIFF key1 key2 \n<span class=\"hljs-comment\"># 10&#x3001;&#x5dee;&#x96c6;&#x4fdd;&#x5b58;&#x5230;&#x53e6;&#x4e00;&#x4e2a;&#x96c6;&#x5408;&#x4e2d;</span>\nSDIFFSTORE destination key1 key2\n\n<span class=\"hljs-comment\"># 11&#x3001;&#x4ea4;&#x96c6;</span>\nSINTER key1 key2\nSINTERSTORE destination key1 key2\n\n<span class=\"hljs-comment\"># 11&#x3001;&#x5e76;&#x96c6;</span>\nSUNION key1 key2\nSUNIONSTORE destination key1 key2\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"342,373"}}],"payload":{"tag":"h3","lines":"340,341"}},{"content":"&#x6848;&#x4f8b;: &#x65b0;&#x6d6a;&#x5fae;&#x535a;&#x7684;&#x5171;&#x540c;&#x5173;&#x6ce8;","children":[{"content":"<pre data-lines=\"376,387\"><code class=\"language-python\"><span class=\"hljs-comment\"># &#x9700;&#x6c42;: &#x5f53;&#x7528;&#x6237;&#x8bbf;&#x95ee;&#x53e6;&#x4e00;&#x4e2a;&#x7528;&#x6237;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x4f1a;&#x663e;&#x793a;&#x51fa;&#x4e24;&#x4e2a;&#x7528;&#x6237;&#x5171;&#x540c;&#x5173;&#x6ce8;&#x8fc7;&#x54ea;&#x4e9b;&#x76f8;&#x540c;&#x7684;&#x7528;&#x6237;</span>\n<span class=\"hljs-comment\"># &#x8bbe;&#x8ba1;: &#x5c06;&#x6bcf;&#x4e2a;&#x7528;&#x6237;&#x5173;&#x6ce8;&#x7684;&#x7528;&#x6237;&#x653e;&#x5728;&#x96c6;&#x5408;&#x4e2d;&#xff0c;&#x6c42;&#x4ea4;&#x96c6;&#x5373;&#x53ef;</span>\n<span class=\"hljs-comment\"># &#x5b9e;&#x73b0;:</span>\n\tuser001 = {<span class=\"hljs-string\">&apos;peiqi&apos;</span>,<span class=\"hljs-string\">&apos;qiaozhi&apos;</span>,<span class=\"hljs-string\">&apos;danni&apos;</span>}\n\tuser002 = {<span class=\"hljs-string\">&apos;peiqi&apos;</span>,<span class=\"hljs-string\">&apos;qiaozhi&apos;</span>,<span class=\"hljs-string\">&apos;lingyang&apos;</span>}\n  \nuser001&#x548c;user002&#x7684;&#x5171;&#x540c;&#x5173;&#x6ce8;&#x4e3a;:\n\tSINTER user001 user002\n\t&#x7ed3;&#x679c;&#x4e3a;: {<span class=\"hljs-string\">&apos;peiqi&apos;</span>,<span class=\"hljs-string\">&apos;qiaozhi&apos;</span>}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"376,387"}},{"content":"<pre data-lines=\"388,393\"><code data-lines=\"388,393\"><span class=\"hljs-keyword\">python</span>&#x64cd;&#x4f5c;<span class=\"hljs-keyword\">set</span>\n\n<span class=\"hljs-keyword\">python</span>&#x4ee3;&#x7801;&#x5b9e;&#x73b0;&#x5fae;&#x535a;&#x5173;&#x6ce8;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"388,393"}}],"payload":{"tag":"h3","lines":"374,375"}}],"payload":{"tag":"h2","lines":"330,331"}},{"content":"&#x6709;&#x5e8f;&#x96c6;&#x5408;sortedset","children":[{"content":"&#x7279;&#x70b9;","children":[{"content":"<pre data-lines=\"400,406\"><code data-lines=\"400,406\"><span class=\"hljs-attribute\">1</span>&#x3001;&#x6709;&#x5e8f;&#x3001;&#x53bb;&#x91cd;\n<span class=\"hljs-attribute\">2</span>&#x3001;&#x5143;&#x7d20;&#x662f;&#x5b57;&#x7b26;&#x4e32;&#x7c7b;&#x578b;\n<span class=\"hljs-attribute\">3</span>&#x3001;&#x6bcf;&#x4e2a;&#x5143;&#x7d20;&#x90fd;&#x5173;&#x8054;&#x7740;&#x4e00;&#x4e2a;&#x6d6e;&#x70b9;&#x6570;&#x5206;&#x503c;(score)&#xff0c;&#x5e76;&#x6309;&#x7167;&#x5206;&#x503c;&#x4ece;&#x5c0f;&#x5230;&#x5927;&#x7684;&#x987a;&#x5e8f;&#x6392;&#x5217;&#x96c6;&#x5408;&#x4e2d;&#x7684;&#x5143;&#x7d20;&#xff08;&#x5206;&#x503c;&#x53ef;&#x4ee5;&#x76f8;&#x540c;&#xff09;\n<span class=\"hljs-attribute\">4</span>&#x3001;&#x6700;&#x591a;&#x5305;&#x542b;<span class=\"hljs-number\">2</span>^<span class=\"hljs-number\">32</span>-<span class=\"hljs-number\">1</span>&#x5143;&#x7d20;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"400,406"}}],"payload":{"tag":"h3","lines":"398,399"}},{"content":"&#x793a;&#x4f8b;","children":[{"content":"<pre data-lines=\"409,412\"><code data-lines=\"409,412\">&#x4e00;&#x4e2a;&#x4fdd;&#x5b58;&#x4e86;&#x6c34;&#x679c;&#x4ef7;&#x683c;&#x7684;&#x6709;&#x5e8f;&#x96c6;&#x5408;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"409,412"}},{"content":"<table data-lines=\"415,418\">\n<thead data-lines=\"415,416\">\n<tr data-lines=\"415,416\">\n<th>&#x5206;&#x503c;</th>\n<th>2.0</th>\n<th>4.0</th>\n<th>6.0</th>\n<th>8.0</th>\n<th>10.0</th>\n</tr>\n</thead>\n<tbody data-lines=\"417,418\">\n<tr data-lines=\"417,418\">\n<td>&#x5143;&#x7d20;</td>\n<td>&#x897f;&#x74dc;</td>\n<td>&#x8461;&#x8404;</td>\n<td>&#x8292;&#x679c;</td>\n<td>&#x9999;&#x8549;</td>\n<td>&#x82f9;&#x679c;</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"415,418"}},{"content":"<pre data-lines=\"419,420\"><code>&#x4e00;&#x4e2a;&#x4fdd;&#x5b58;&#x4e86;&#x5458;&#x5de5;&#x85aa;&#x6c34;&#x7684;&#x6709;&#x5e8f;&#x96c6;&#x5408;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"419,420"}},{"content":"<table data-lines=\"421,424\">\n<thead data-lines=\"421,422\">\n<tr data-lines=\"421,422\">\n<th>&#x5206;&#x503c;</th>\n<th>6000</th>\n<th>8000</th>\n<th>10000</th>\n<th>12000</th>\n<th></th>\n</tr>\n</thead>\n<tbody data-lines=\"423,424\">\n<tr data-lines=\"423,424\">\n<td>&#x5143;&#x7d20;</td>\n<td>lucy</td>\n<td>tom</td>\n<td>jim</td>\n<td>jack</td>\n<td></td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"421,424"}},{"content":"<pre data-lines=\"425,426\"><code>&#x4e00;&#x4e2a;&#x4fdd;&#x5b58;&#x4e86;&#x6b63;&#x5728;&#x9605;&#x8bfb;&#x67d0;&#x4e9b;&#x6280;&#x672f;&#x4e66;&#x7684;&#x4eba;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"425,426"}},{"content":"<table data-lines=\"427,430\">\n<thead data-lines=\"427,428\">\n<tr data-lines=\"427,428\">\n<th>&#x5206;&#x503c;</th>\n<th>300</th>\n<th>400</th>\n<th>555</th>\n<th>666</th>\n<th>777</th>\n</tr>\n</thead>\n<tbody data-lines=\"429,430\">\n<tr data-lines=\"429,430\">\n<td>&#x5143;&#x7d20;</td>\n<td>&#x6838;&#x5fc3;&#x7f16;&#x7a0b;</td>\n<td>&#x963f;&#x51e1;&#x63d0;</td>\n<td>&#x672c;&#x62c9;&#x767b;</td>\n<td>&#x963f;&#x59c6;&#x65af;&#x7279;&#x6717;</td>\n<td>&#x6bd4;&#x5c14;&#x76d6;&#x8328;</td>\n</tr>\n</tbody>\n</table>","children":[],"payload":{"tag":"table","lines":"427,430"}}],"payload":{"tag":"h3","lines":"407,408"}},{"content":"&#x6709;&#x5e8f;&#x96c6;&#x5408;&#x5e38;&#x7528;&#x547d;&#x4ee4;","children":[{"content":"<pre data-lines=\"433,479\"><code class=\"language-python\"><span class=\"hljs-comment\"># &#x5728;&#x6709;&#x5e8f;&#x96c6;&#x5408;&#x4e2d;&#x6dfb;&#x52a0;&#x4e00;&#x4e2a;&#x6210;&#x5458; &#x8fd4;&#x56de;&#x503c;&#x4e3a; &#x6210;&#x529f;&#x63d2;&#x5165;&#x5230;&#x96c6;&#x5408;&#x4e2d;&#x7684;&#x5143;&#x7d20;&#x4e2a;&#x6570;</span>\nzadd key score member\n<span class=\"hljs-comment\"># &#x67e5;&#x770b;&#x6307;&#x5b9a;&#x533a;&#x95f4;&#x5143;&#x7d20;&#xff08;&#x5347;&#x5e8f;)</span>\nzrange key start stop [withscores]\n<span class=\"hljs-comment\"># &#x67e5;&#x770b;&#x6307;&#x5b9a;&#x533a;&#x95f4;&#x5143;&#x7d20;&#xff08;&#x964d;&#x5e8f;&#xff09;</span>\nZREVRANGE key start stop [withscores]\n<span class=\"hljs-comment\"># &#x67e5;&#x770b;&#x6307;&#x5b9a;&#x5143;&#x7d20;&#x7684;&#x5206;&#x503c;</span>\nZSCORE key member\n\n<span class=\"hljs-comment\"># &#x8fd4;&#x56de;&#x6307;&#x5b9a;&#x533a;&#x95f4;&#x5143;&#x7d20;</span>\n<span class=\"hljs-comment\"># offset : &#x8df3;&#x8fc7;&#x591a;&#x5c11;&#x4e2a;&#x5143;&#x7d20;</span>\n<span class=\"hljs-comment\"># count : &#x8fd4;&#x56de;&#x51e0;&#x4e2a;</span>\n<span class=\"hljs-comment\"># &#x5c0f;&#x62ec;&#x53f7; : &#x5f00;&#x533a;&#x95f4;  zrangebyscore fruits (2.0 8.0</span>\nzrangebyscore key <span class=\"hljs-built_in\">min</span> <span class=\"hljs-built_in\">max</span> [withscores] [limit offset count]\n<span class=\"hljs-comment\"># &#x6bcf;&#x9875;&#x663e;&#x793a;10&#x4e2a;&#x6210;&#x5458;,&#x663e;&#x793a;&#x7b2c;5&#x9875;&#x7684;&#x6210;&#x5458;&#x4fe1;&#x606f;: </span>\n<span class=\"hljs-comment\"># limit 40 10</span>\n<span class=\"hljs-comment\"># MySQL: &#x6bcf;&#x9875;&#x663e;&#x793a;10&#x6761;&#x8bb0;&#x5f55;,&#x663e;&#x793a;&#x7b2c;5&#x9875;&#x7684;&#x8bb0;&#x5f55;</span>\n<span class=\"hljs-comment\"># limit 40,10</span>\n<span class=\"hljs-comment\"># limit 2,3   &#x663e;&#x793a;: &#x7b2c;3 4 5&#x6761;&#x8bb0;&#x5f55;</span>\n\n<span class=\"hljs-comment\"># &#x5220;&#x9664;&#x6210;&#x5458;</span>\nzrem key member\n<span class=\"hljs-comment\"># &#x589e;&#x52a0;&#x6216;&#x8005;&#x51cf;&#x5c11;&#x5206;&#x503c;</span>\nzincrby key increment member\n<span class=\"hljs-comment\"># &#x8fd4;&#x56de;&#x5143;&#x7d20;&#x6392;&#x540d;</span>\nzrank key member\n<span class=\"hljs-comment\"># &#x8fd4;&#x56de;&#x5143;&#x7d20;&#x9006;&#x5e8f;&#x6392;&#x540d;</span>\nzrevrank key member\n<span class=\"hljs-comment\"># &#x5220;&#x9664;&#x6307;&#x5b9a;&#x533a;&#x95f4;&#x5185;&#x7684;&#x5143;&#x7d20;</span>\nzremrangebyscore key <span class=\"hljs-built_in\">min</span> <span class=\"hljs-built_in\">max</span>\n<span class=\"hljs-comment\"># &#x8fd4;&#x56de;&#x96c6;&#x5408;&#x4e2d;&#x5143;&#x7d20;&#x4e2a;&#x6570;</span>\nzcard key\n<span class=\"hljs-comment\"># &#x8fd4;&#x56de;&#x6307;&#x5b9a;&#x8303;&#x56f4;&#x4e2d;&#x5143;&#x7d20;&#x7684;&#x4e2a;&#x6570;</span>\nzcount key <span class=\"hljs-built_in\">min</span> <span class=\"hljs-built_in\">max</span>\nzcount salary <span class=\"hljs-number\">6000</span> <span class=\"hljs-number\">8000</span> \nzcount salary (<span class=\"hljs-number\">6000</span> <span class=\"hljs-number\">8000</span><span class=\"hljs-comment\"># 6000&lt;salary&lt;=8000</span>\nzcount salary (<span class=\"hljs-number\">6000</span> (<span class=\"hljs-number\">8000</span><span class=\"hljs-comment\">#6000&lt;salary&lt;8000               </span>\n<span class=\"hljs-comment\"># &#x5e76;&#x96c6;</span>\nzunionstore destination numkeys key [weights &#x6743;&#x91cd;&#x503c;] [AGGREGATE SUM|MIN|MAX]\n<span class=\"hljs-comment\"># zunionstore salary3 2 salary salary2 weights 1 0.5 AGGREGATE MAX</span>\n<span class=\"hljs-comment\"># 2&#x4ee3;&#x8868;&#x96c6;&#x5408;&#x6570;&#x91cf;,weights&#x4e4b;&#x540e; &#x6743;&#x91cd;1&#x7ed9;salary,&#x6743;&#x91cd;0.5&#x7ed9;salary2&#x96c6;&#x5408;,&#x7b97;&#x5b8c;&#x6743;&#x91cd;&#x4e4b;&#x540e;&#x6267;&#x884c;&#x805a;&#x5408;AGGREGATE</span>\n                     \n<span class=\"hljs-comment\"># &#x4ea4;&#x96c6;&#xff1a;&#x548c;&#x5e76;&#x96c6;&#x7c7b;&#x4f3c;&#xff0c;&#x53ea;&#x53d6;&#x76f8;&#x540c;&#x7684;&#x5143;&#x7d20;</span>\nZINTERSTORE destination numkeys key1 key2 WEIGHTS weight AGGREGATE SUM(&#x9ed8;&#x8ba4;)|MIN|MAX\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"433,479"}}],"payload":{"tag":"h3","lines":"431,432"}},{"content":"python&#x64cd;&#x4f5c;sorted set","children":[{"content":"<img src=\"../../image/12-python-new/11-redis/1911-redis_day02.jpg\" alt=\"img\">","children":[],"payload":{"tag":"img","lines":"482,483"}}],"payload":{"tag":"h3","lines":"480,481"}},{"content":"&#x793a;&#x4f8b;","children":[{"content":"rmysite2","children":[{"content":"<pre data-lines=\"488,493\"><code data-lines=\"488,493\"><span class=\"hljs-keyword\">import</span> pymysql\n<span class=\"hljs-title\">pymysql</span>.install_as_MySQLdb()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"488,493"}},{"content":"<pre data-lines=\"494,622\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\nDjango settings for rmysite2 project.\n\nGenerated by &apos;django-admin startproject&apos; using Django 1.11.8.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/1.11/topics/settings/\n\nFor the full list of settings and their values, see\nhttps://docs.djangoproject.com/en/1.11/ref/settings/\n&quot;&quot;&quot;</span>\n\n<span class=\"hljs-keyword\">import</span> os\n\n<span class=\"hljs-comment\"># Build paths inside the project like this: os.path.join(BASE_DIR, ...)</span>\nBASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n\n\n<span class=\"hljs-comment\"># Quick-start development settings - unsuitable for production</span>\n<span class=\"hljs-comment\"># See https://docs.djangoproject.com/en/1.11/howto/deployment/checklist/</span>\n\n<span class=\"hljs-comment\"># SECURITY WARNING: keep the secret key used in production secret!</span>\nSECRET_KEY = <span class=\"hljs-string\">&apos;ld3#!1y_%q=8-yc!znm59xv)l45boy7tss)7j)e+1=!nz1(*93&apos;</span>\n\n<span class=\"hljs-comment\"># SECURITY WARNING: don&apos;t run with debug turned on in production!</span>\nDEBUG = <span class=\"hljs-literal\">True</span>\n\nALLOWED_HOSTS = []\n\n\n<span class=\"hljs-comment\"># Application definition</span>\n\nINSTALLED_APPS = [\n    <span class=\"hljs-string\">&apos;django.contrib.admin&apos;</span>,\n    <span class=\"hljs-string\">&apos;django.contrib.auth&apos;</span>,\n    <span class=\"hljs-string\">&apos;django.contrib.contenttypes&apos;</span>,\n    <span class=\"hljs-string\">&apos;django.contrib.sessions&apos;</span>,\n    <span class=\"hljs-string\">&apos;django.contrib.messages&apos;</span>,\n    <span class=\"hljs-string\">&apos;django.contrib.staticfiles&apos;</span>,\n    <span class=\"hljs-string\">&apos;user&apos;</span>\n]\n\nMIDDLEWARE = [\n    <span class=\"hljs-string\">&apos;django.middleware.security.SecurityMiddleware&apos;</span>,\n    <span class=\"hljs-string\">&apos;django.contrib.sessions.middleware.SessionMiddleware&apos;</span>,\n    <span class=\"hljs-string\">&apos;django.middleware.common.CommonMiddleware&apos;</span>,\n    <span class=\"hljs-string\">&apos;django.middleware.csrf.CsrfViewMiddleware&apos;</span>,\n    <span class=\"hljs-string\">&apos;django.contrib.auth.middleware.AuthenticationMiddleware&apos;</span>,\n    <span class=\"hljs-string\">&apos;django.contrib.messages.middleware.MessageMiddleware&apos;</span>,\n    <span class=\"hljs-string\">&apos;django.middleware.clickjacking.XFrameOptionsMiddleware&apos;</span>,\n]\n\nROOT_URLCONF = <span class=\"hljs-string\">&apos;rmysite2.urls&apos;</span>\n\nTEMPLATES = [\n    {\n        <span class=\"hljs-string\">&apos;BACKEND&apos;</span>: <span class=\"hljs-string\">&apos;django.template.backends.django.DjangoTemplates&apos;</span>,\n        <span class=\"hljs-string\">&apos;DIRS&apos;</span>: [],\n        <span class=\"hljs-string\">&apos;APP_DIRS&apos;</span>: <span class=\"hljs-literal\">True</span>,\n        <span class=\"hljs-string\">&apos;OPTIONS&apos;</span>: {\n            <span class=\"hljs-string\">&apos;context_processors&apos;</span>: [\n                <span class=\"hljs-string\">&apos;django.template.context_processors.debug&apos;</span>,\n                <span class=\"hljs-string\">&apos;django.template.context_processors.request&apos;</span>,\n                <span class=\"hljs-string\">&apos;django.contrib.auth.context_processors.auth&apos;</span>,\n                <span class=\"hljs-string\">&apos;django.contrib.messages.context_processors.messages&apos;</span>,\n            ],\n        },\n    },\n]\n\nWSGI_APPLICATION = <span class=\"hljs-string\">&apos;rmysite2.wsgi.application&apos;</span>\n\n\n<span class=\"hljs-comment\"># Database</span>\n<span class=\"hljs-comment\"># https://docs.djangoproject.com/en/1.11/ref/settings/#databases</span>\n\nDATABASES = {\n    <span class=\"hljs-string\">&apos;default&apos;</span>: {\n        <span class=\"hljs-string\">&apos;ENGINE&apos;</span>: <span class=\"hljs-string\">&apos;django.db.backends.mysql&apos;</span>,\n        <span class=\"hljs-string\">&apos;NAME&apos;</span>: <span class=\"hljs-string\">&apos;rmysite2&apos;</span>,\n        <span class=\"hljs-string\">&apos;USER&apos;</span>: <span class=\"hljs-string\">&apos;root&apos;</span>,\n        <span class=\"hljs-string\">&apos;PASSWORD&apos;</span>: <span class=\"hljs-string\">&apos;123456&apos;</span>,\n        <span class=\"hljs-string\">&apos;HOST&apos;</span>: <span class=\"hljs-string\">&apos;127.0.0.1&apos;</span>,\n        <span class=\"hljs-string\">&apos;PORT&apos;</span>: <span class=\"hljs-string\">&apos;3306&apos;</span>\n    }\n}\n\n\n<span class=\"hljs-comment\"># Password validation</span>\n<span class=\"hljs-comment\"># https://docs.djangoproject.com/en/1.11/ref/settings/#auth-password-validators</span>\n\nAUTH_PASSWORD_VALIDATORS = [\n    {\n        <span class=\"hljs-string\">&apos;NAME&apos;</span>: <span class=\"hljs-string\">&apos;django.contrib.auth.password_validation.UserAttributeSimilarityValidator&apos;</span>,\n    },\n    {\n        <span class=\"hljs-string\">&apos;NAME&apos;</span>: <span class=\"hljs-string\">&apos;django.contrib.auth.password_validation.MinimumLengthValidator&apos;</span>,\n    },\n    {\n        <span class=\"hljs-string\">&apos;NAME&apos;</span>: <span class=\"hljs-string\">&apos;django.contrib.auth.password_validation.CommonPasswordValidator&apos;</span>,\n    },\n    {\n        <span class=\"hljs-string\">&apos;NAME&apos;</span>: <span class=\"hljs-string\">&apos;django.contrib.auth.password_validation.NumericPasswordValidator&apos;</span>,\n    },\n]\n\n\n<span class=\"hljs-comment\"># Internationalization</span>\n<span class=\"hljs-comment\"># https://docs.djangoproject.com/en/1.11/topics/i18n/</span>\n\nLANGUAGE_CODE = <span class=\"hljs-string\">&apos;zh-Hans&apos;</span>\n\nTIME_ZONE = <span class=\"hljs-string\">&apos;Asia/Shanghai&apos;</span>\n\nUSE_I18N = <span class=\"hljs-literal\">True</span>\n\nUSE_L10N = <span class=\"hljs-literal\">True</span>\n\nUSE_TZ = <span class=\"hljs-literal\">True</span>\n\n\n<span class=\"hljs-comment\"># Static files (CSS, JavaScript, Images)</span>\n<span class=\"hljs-comment\"># https://docs.djangoproject.com/en/1.11/howto/static-files/</span>\n\nSTATIC_URL = <span class=\"hljs-string\">&apos;/static/&apos;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"494,622"}},{"content":"<pre data-lines=\"623,648\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;rmysite2 URL Configuration\n\nThe `urlpatterns` list routes URLs to views. For more information please see:\n    https://docs.djangoproject.com/en/1.11/topics/http/urls/\nExamples:\nFunction views\n    1. Add an import:  from my_app import views\n    2. Add a URL to urlpatterns:  url(r&apos;^&#x24;&apos;, views.home, name=&apos;home&apos;)\nClass-based views\n    1. Add an import:  from other_app.views import Home\n    2. Add a URL to urlpatterns:  url(r&apos;^&#x24;&apos;, Home.as_view(), name=&apos;home&apos;)\nIncluding another URLconf\n    1. Import the include() function: from django.conf.urls import url, include\n    2. Add a URL to urlpatterns:  url(r&apos;^blog/&apos;, include(&apos;blog.urls&apos;))\n&quot;&quot;&quot;</span>\n<span class=\"hljs-keyword\">from</span> django.conf.urls <span class=\"hljs-keyword\">import</span> url, include\n<span class=\"hljs-keyword\">from</span> django.contrib <span class=\"hljs-keyword\">import</span> admin\n\nurlpatterns = [\n    url(<span class=\"hljs-string\">r&apos;^admin/&apos;</span>, admin.site.urls),\n    url(<span class=\"hljs-string\">r&apos;^user/&apos;</span>, include(<span class=\"hljs-string\">&apos;user.urls&apos;</span>))\n]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"623,648"}},{"content":"<pre data-lines=\"649,668\"><code class=\"language-python\"><span class=\"hljs-string\">&quot;&quot;&quot;\nWSGI config for rmysite2 project.\n\nIt exposes the WSGI callable as a module-level variable named ``application``.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/1.11/howto/deployment/wsgi/\n&quot;&quot;&quot;</span>\n\n<span class=\"hljs-keyword\">import</span> os\n\n<span class=\"hljs-keyword\">from</span> django.core.wsgi <span class=\"hljs-keyword\">import</span> get_wsgi_application\n\nos.environ.setdefault(<span class=\"hljs-string\">&quot;DJANGO_SETTINGS_MODULE&quot;</span>, <span class=\"hljs-string\">&quot;rmysite2.settings&quot;</span>)\n\napplication = get_wsgi_application()\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"649,668"}}],"payload":{"tag":"h4","lines":"486,487"}},{"content":"user","children":[{"content":"user/migrations","children":[{"content":"<pre data-lines=\"807,834\"><code class=\"language-python\"><span class=\"hljs-comment\"># -*- coding: utf-8 -*-</span>\n<span class=\"hljs-comment\"># Generated by Django 1.11.8 on 2020-03-04 08:16</span>\n<span class=\"hljs-keyword\">from</span> __future__ <span class=\"hljs-keyword\">import</span> unicode_literals\n\n<span class=\"hljs-keyword\">from</span> django.db <span class=\"hljs-keyword\">import</span> migrations, models\n\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Migration</span>(migrations.Migration):\n\n    initial = <span class=\"hljs-literal\">True</span>\n\n    dependencies = [\n    ]\n\n    operations = [\n        migrations.CreateModel(\n            name=<span class=\"hljs-string\">&apos;UserProfile&apos;</span>,\n            fields=[\n                (<span class=\"hljs-string\">&apos;id&apos;</span>, models.AutoField(auto_created=<span class=\"hljs-literal\">True</span>, primary_key=<span class=\"hljs-literal\">True</span>, serialize=<span class=\"hljs-literal\">False</span>, verbose_name=<span class=\"hljs-string\">&apos;ID&apos;</span>)),\n                (<span class=\"hljs-string\">&apos;username&apos;</span>, models.CharField(max_length=<span class=\"hljs-number\">11</span>, verbose_name=<span class=\"hljs-string\">&apos;&#x7528;&#x6237;&#x540d;&apos;</span>)),\n                (<span class=\"hljs-string\">&apos;age&apos;</span>, models.IntegerField(default=<span class=\"hljs-number\">0</span>, verbose_name=<span class=\"hljs-string\">&apos;&#x5e74;&#x9f84;&apos;</span>)),\n            ],\n        ),\n    ]\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"807,834"}}],"payload":{"tag":"h5","lines":"805,806"}},{"content":"&#x5176;&#x4ed6;","children":[{"content":"<pre data-lines=\"837,856\"><code class=\"language-python\"><span class=\"hljs-comment\"># consumer.py</span>\n<span class=\"hljs-comment\">#consumer -&gt; &#x6d88;&#x8d39;&#x8005;</span>\n<span class=\"hljs-keyword\">import</span> redis\n<span class=\"hljs-keyword\">import</span> json\n\nr = redis.Redis(host=<span class=\"hljs-string\">&apos;127.0.0.1&apos;</span>, port=<span class=\"hljs-number\">6379</span>, db=<span class=\"hljs-number\">1</span>)\n<span class=\"hljs-comment\">#[b&apos;{&quot;task&quot;: &quot;send_email&quot;, &quot;from&quot;: &quot;guoxiaonao&quot;, &quot;to&quot;: &quot;a@qq.com&quot;}&apos;]</span>\n<span class=\"hljs-comment\">#print(r.lrange(&apos;pypc&apos;,0, -1))</span>\n\n<span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span>:\n    task = r.brpop(<span class=\"hljs-string\">&apos;pypc&apos;</span>, <span class=\"hljs-number\">10</span>)\n    <span class=\"hljs-built_in\">print</span>(task)\n    <span class=\"hljs-keyword\">if</span> task:\n        json_obj = json.loads(task[<span class=\"hljs-number\">1</span>])\n        <span class=\"hljs-built_in\">print</span>(json_obj)\n\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"837,856"}},{"content":"<pre data-lines=\"857,870\"><code class=\"language-python\"><span class=\"hljs-comment\"># producer.py</span>\n<span class=\"hljs-keyword\">import</span> redis\n<span class=\"hljs-keyword\">import</span> json\n<span class=\"hljs-comment\"># producer.py -&gt; &#x751f;&#x4ea7;&#x8005;</span>\nr = redis.Redis(host=<span class=\"hljs-string\">&apos;127.0.0.1&apos;</span>, port=<span class=\"hljs-number\">6379</span>, db=<span class=\"hljs-number\">1</span>)\n\njson_obj = {<span class=\"hljs-string\">&apos;task&apos;</span>:<span class=\"hljs-string\">&apos;send_email&apos;</span>,<span class=\"hljs-string\">&apos;from&apos;</span>:<span class=\"hljs-string\">&apos;guoxiaonao&apos;</span>,<span class=\"hljs-string\">&apos;to&apos;</span>:<span class=\"hljs-string\">&apos;a@qq.com&apos;</span>}\njson_str = json.dumps(json_obj)\nr.lpush(<span class=\"hljs-string\">&apos;pypc&apos;</span>,json_str)\n\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"857,870"}}],"payload":{"tag":"h5","lines":"835,836"}}],"payload":{"tag":"h4","lines":"669,670"}}],"payload":{"tag":"h3","lines":"484,485"}}],"payload":{"tag":"h2","lines":"396,397"}}],"payload":{"tag":"h1","lines":"90,91"}}]},{})</script>
</body>
</html>
