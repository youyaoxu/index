<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;","children":[{"content":"&#x8ba4;&#x8bc6;","children":[{"content":"1. <a href=\"#docs/async-iterator#%E5%90%8C%E6%AD%A5%E9%81%8D%E5%8E%86%E5%99%A8%E7%9A%84%E9%97%AE%E9%A2%98\">&#x540c;&#x6b65;&#x904d;&#x5386;&#x5668;&#x7684;&#x95ee;&#x9898;</a>","children":[],"payload":{"tag":"li","lines":"5,6","listIndex":1}},{"content":"2. <a href=\"#docs/async-iterator#%E5%BC%82%E6%AD%A5%E9%81%8D%E5%8E%86%E7%9A%84%E6%8E%A5%E5%8F%A3\">&#x5f02;&#x6b65;&#x904d;&#x5386;&#x7684;&#x63a5;&#x53e3;</a>","children":[],"payload":{"tag":"li","lines":"6,7","listIndex":2}},{"content":"3. [for await...of](#docs/async-iterator#for await...of)","children":[],"payload":{"tag":"li","lines":"7,8","listIndex":3}},{"content":"4. [&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;](#docs/async-iterator#&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;)","children":[],"payload":{"tag":"li","lines":"8,9","listIndex":4}},{"content":"5. [yield* &#x8bed;&#x53e5;](#docs/async-iterator#yield* &#x8bed;&#x53e5;)","children":[],"payload":{"tag":"li","lines":"9,11","listIndex":5}}],"payload":{"tag":"h2","lines":"2,4"}},{"content":"&#x540c;&#x6b65;&#x904d;&#x5386;&#x5668;&#x7684;&#x95ee;&#x9898;","children":[{"content":"<pre data-lines=\"14,15\"><code>&#x300a;&#x904d;&#x5386;&#x5668;&#x300b;&#x4e00;&#x7ae0;&#x8bf4;&#x8fc7;&#xff0c;Iterator &#x63a5;&#x53e3;&#x662f;&#x4e00;&#x79cd;&#x6570;&#x636e;&#x904d;&#x5386;&#x7684;&#x534f;&#x8bae;&#xff0c;&#x53ea;&#x8981;&#x8c03;&#x7528;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x7684;`next`&#x65b9;&#x6cd5;&#xff0c;&#x5c31;&#x4f1a;&#x5f97;&#x5230;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x8868;&#x793a;&#x5f53;&#x524d;&#x904d;&#x5386;&#x6307;&#x9488;&#x6240;&#x5728;&#x7684;&#x90a3;&#x4e2a;&#x4f4d;&#x7f6e;&#x7684;&#x4fe1;&#x606f;&#x3002;`next`&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x7684;&#x5bf9;&#x8c61;&#x7684;&#x7ed3;&#x6784;&#x662f;`{value, done}`&#xff0c;&#x5176;&#x4e2d;`value`&#x8868;&#x793a;&#x5f53;&#x524d;&#x7684;&#x6570;&#x636e;&#x7684;&#x503c;&#xff0c;`done`&#x662f;&#x4e00;&#x4e2a;&#x5e03;&#x5c14;&#x503c;&#xff0c;&#x8868;&#x793a;&#x904d;&#x5386;&#x662f;&#x5426;&#x7ed3;&#x675f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"14,15"}},{"content":"<pre data-lines=\"16,31\"><code data-lines=\"16,31\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">idMaker</span><span class=\"hljs-params\">()</span></span> {\n  let index = <span class=\"hljs-number\">0</span>;\n\n  <span class=\"hljs-keyword\">return</span> {\n    <span class=\"hljs-built_in\">next</span>: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span><span class=\"hljs-params\">()</span></span> {\n      <span class=\"hljs-keyword\">return</span> { value: index++, done: <span class=\"hljs-literal\">false</span> };\n    }\n  };\n}\n\nconst it = idMaker();\n\nit.<span class=\"hljs-built_in\">next</span>().valueit.<span class=\"hljs-built_in\">next</span>().valueit.<span class=\"hljs-built_in\">next</span>().value\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"16,31"}},{"content":"<pre data-lines=\"32,35\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x53d8;&#x91cf;`it`&#x662f;&#x4e00;&#x4e2a;&#x904d;&#x5386;&#x5668;&#xff08;iterator&#xff09;&#x3002;&#x6bcf;&#x6b21;&#x8c03;&#x7528;`it.next()`&#x65b9;&#x6cd5;&#xff0c;&#x5c31;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x8868;&#x793a;&#x5f53;&#x524d;&#x904d;&#x5386;&#x4f4d;&#x7f6e;&#x7684;&#x4fe1;&#x606f;&#x3002;\n\n&#x8fd9;&#x91cc;&#x9690;&#x542b;&#x7740;&#x4e00;&#x4e2a;&#x89c4;&#x5b9a;&#xff0c;`it.next()`&#x65b9;&#x6cd5;&#x5fc5;&#x987b;&#x662f;&#x540c;&#x6b65;&#x7684;&#xff0c;&#x53ea;&#x8981;&#x8c03;&#x7528;&#x5c31;&#x5fc5;&#x987b;&#x7acb;&#x523b;&#x8fd4;&#x56de;&#x503c;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x4e00;&#x65e6;&#x6267;&#x884c;`it.next()`&#x65b9;&#x6cd5;&#xff0c;&#x5c31;&#x5fc5;&#x987b;&#x540c;&#x6b65;&#x5730;&#x5f97;&#x5230;`value`&#x548c;`done`&#x8fd9;&#x4e24;&#x4e2a;&#x5c5e;&#x6027;&#x3002;&#x5982;&#x679c;&#x904d;&#x5386;&#x6307;&#x9488;&#x6b63;&#x597d;&#x6307;&#x5411;&#x540c;&#x6b65;&#x64cd;&#x4f5c;&#xff0c;&#x5f53;&#x7136;&#x6ca1;&#x6709;&#x95ee;&#x9898;&#xff0c;&#x4f46;&#x5bf9;&#x4e8e;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#xff0c;&#x5c31;&#x4e0d;&#x592a;&#x5408;&#x9002;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"32,35"}},{"content":"<pre data-lines=\"36,51\"><code data-lines=\"36,51\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">idMaker</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">let</span> index = <span class=\"hljs-number\">0</span>;\n\n  <span class=\"hljs-keyword\">return</span> {\n    <span class=\"hljs-attr\">next</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">resolve, reject</span>) {\n        <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> {\n          <span class=\"hljs-title function_\">resolve</span>({ <span class=\"hljs-attr\">value</span>: index++, <span class=\"hljs-attr\">done</span>: <span class=\"hljs-literal\">false</span> });\n        }, <span class=\"hljs-number\">1000</span>);\n      });\n    }\n  };\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"36,51"}},{"content":"<pre data-lines=\"52,55\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`next()`&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x7684;&#x662f;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#xff0c;&#x8fd9;&#x6837;&#x5c31;&#x4e0d;&#x884c;&#xff0c;&#x4e0d;&#x7b26;&#x5408; Iterator &#x534f;&#x8bae;&#xff0c;&#x53ea;&#x8981;&#x4ee3;&#x7801;&#x91cc;&#x9762;&#x5305;&#x542b;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x90fd;&#x4e0d;&#x884c;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;Iterator &#x534f;&#x8bae;&#x91cc;&#x9762;`next()`&#x65b9;&#x6cd5;&#x53ea;&#x80fd;&#x5305;&#x542b;&#x540c;&#x6b65;&#x64cd;&#x4f5c;&#x3002;\n\n&#x76ee;&#x524d;&#x7684;&#x89e3;&#x51b3;&#x65b9;&#x6cd5;&#x662f;&#xff0c;&#x5c06;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x5305;&#x88c5;&#x6210; Thunk &#x51fd;&#x6570;&#x6216;&#x8005; Promise &#x5bf9;&#x8c61;&#xff0c;&#x5373;`next()`&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x503c;&#x7684;`value`&#x5c5e;&#x6027;&#x662f;&#x4e00;&#x4e2a; Thunk &#x51fd;&#x6570;&#x6216;&#x8005; Promise &#x5bf9;&#x8c61;&#xff0c;&#x7b49;&#x5f85;&#x4ee5;&#x540e;&#x8fd4;&#x56de;&#x771f;&#x6b63;&#x7684;&#x503c;&#xff0c;&#x800c;`done`&#x5c5e;&#x6027;&#x5219;&#x8fd8;&#x662f;&#x540c;&#x6b65;&#x4ea7;&#x751f;&#x7684;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"52,55"}},{"content":"<pre data-lines=\"56,74\"><code data-lines=\"56,74\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">idMaker</span>(<span class=\"hljs-params\"></span>) {\n  let index = <span class=\"hljs-number\">0</span>;\n\n  <span class=\"hljs-keyword\">return</span> {\n    <span class=\"hljs-attr\">next</span>: <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n      <span class=\"hljs-keyword\">return</span> {\n        <span class=\"hljs-attr\">value</span>: <span class=\"hljs-keyword\">new</span> Promise(<span class=\"hljs-function\"><span class=\"hljs-params\">resolve</span> =&gt;</span> setTimeout(<span class=\"hljs-function\"><span class=\"hljs-params\">()</span> =&gt;</span> resolve(index++), <span class=\"hljs-number\">1000</span>)),\n        <span class=\"hljs-attr\">done</span>: <span class=\"hljs-literal\">false</span>\n      };\n    }\n  };\n}\n\nconst it = idMaker();\n\nit.next().value.then(<span class=\"hljs-function\"><span class=\"hljs-params\">o</span> =&gt;</span> <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(o))it.next().value.then(<span class=\"hljs-function\"><span class=\"hljs-params\">o</span> =&gt;</span> <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(o))it.next().value.then(<span class=\"hljs-function\"><span class=\"hljs-params\">o</span> =&gt;</span> <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(o))\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"56,74"}},{"content":"<pre data-lines=\"75,78\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`value`&#x5c5e;&#x6027;&#x7684;&#x8fd4;&#x56de;&#x503c;&#x662f;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#xff0c;&#x7528;&#x6765;&#x653e;&#x7f6e;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x3002;&#x4f46;&#x662f;&#x8fd9;&#x6837;&#x5199;&#x5f88;&#x9ebb;&#x70e6;&#xff0c;&#x4e0d;&#x592a;&#x7b26;&#x5408;&#x76f4;&#x89c9;&#xff0c;&#x8bed;&#x4e49;&#x4e5f;&#x6bd4;&#x8f83;&#x7ed5;&#x3002;\n\nES2018 [&#x5f15;&#x5165;](https://github.com/tc39/proposal-async-iteration)&#x4e86;&#x201c;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x201d;&#xff08;Async Iterator&#xff09;&#xff0c;&#x4e3a;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x63d0;&#x4f9b;&#x539f;&#x751f;&#x7684;&#x904d;&#x5386;&#x5668;&#x63a5;&#x53e3;&#xff0c;&#x5373;`value`&#x548c;`done`&#x8fd9;&#x4e24;&#x4e2a;&#x5c5e;&#x6027;&#x90fd;&#x662f;&#x5f02;&#x6b65;&#x4ea7;&#x751f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"75,78"}}],"payload":{"tag":"h2","lines":"11,13"}},{"content":"&#x5f02;&#x6b65;&#x904d;&#x5386;&#x7684;&#x63a5;&#x53e3;","children":[{"content":"<pre data-lines=\"82,83\"><code>&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x7684;&#x6700;&#x5927;&#x7684;&#x8bed;&#x6cd5;&#x7279;&#x70b9;&#xff0c;&#x5c31;&#x662f;&#x8c03;&#x7528;&#x904d;&#x5386;&#x5668;&#x7684;`next`&#x65b9;&#x6cd5;&#xff0c;&#x8fd4;&#x56de;&#x7684;&#x662f;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"82,83"}},{"content":"<pre data-lines=\"84,91\"><code data-lines=\"84,91\">asyncIterator\n  .<span class=\"hljs-built_in\">next</span>()\n  .<span class=\"hljs-keyword\">then</span>(\n    <span class=\"hljs-function\"><span class=\"hljs-params\">({ value, done })</span> =&gt;</span> \n  ); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"84,91"}},{"content":"<pre data-lines=\"92,97\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`asyncIterator`&#x662f;&#x4e00;&#x4e2a;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#xff0c;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#x4ee5;&#x540e;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#x3002;&#x56e0;&#x6b64;&#xff0c;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;`then`&#x65b9;&#x6cd5;&#x6307;&#x5b9a;&#xff0c;&#x8fd9;&#x4e2a; Promise &#x5bf9;&#x8c61;&#x7684;&#x72b6;&#x6001;&#x53d8;&#x4e3a;`resolve`&#x4ee5;&#x540e;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x3002;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x5219;&#x662f;&#x4e00;&#x4e2a;&#x5177;&#x6709;`value`&#x548c;`done`&#x4e24;&#x4e2a;&#x5c5e;&#x6027;&#x7684;&#x5bf9;&#x8c61;&#xff0c;&#x8fd9;&#x4e2a;&#x8ddf;&#x540c;&#x6b65;&#x904d;&#x5386;&#x5668;&#x662f;&#x4e00;&#x6837;&#x7684;&#x3002;\n\n&#x6211;&#x4eec;&#x77e5;&#x9053;&#xff0c;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#x7684;&#x540c;&#x6b65;&#x904d;&#x5386;&#x5668;&#x7684;&#x63a5;&#x53e3;&#xff0c;&#x90e8;&#x7f72;&#x5728;`Symbol.iterator`&#x5c5e;&#x6027;&#x4e0a;&#x9762;&#x3002;&#x540c;&#x6837;&#x5730;&#xff0c;&#x5bf9;&#x8c61;&#x7684;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x63a5;&#x53e3;&#xff0c;&#x90e8;&#x7f72;&#x5728;`Symbol.asyncIterator`&#x5c5e;&#x6027;&#x4e0a;&#x9762;&#x3002;&#x4e0d;&#x7ba1;&#x662f;&#x4ec0;&#x4e48;&#x6837;&#x7684;&#x5bf9;&#x8c61;&#xff0c;&#x53ea;&#x8981;&#x5b83;&#x7684;`Symbol.asyncIterator`&#x5c5e;&#x6027;&#x6709;&#x503c;&#xff0c;&#x5c31;&#x8868;&#x793a;&#x5e94;&#x8be5;&#x5bf9;&#x5b83;&#x8fdb;&#x884c;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"92,97"}},{"content":"<pre data-lines=\"98,113\"><code data-lines=\"98,113\">const asyncIterable = createAsyncIterable([<span class=\"hljs-string\">&apos;a&apos;</span>, <span class=\"hljs-string\">&apos;b&apos;</span>]);\nconst asyncIterator = asyncIterable[Symbol.asyncIterator]();\n\nasyncIterator\n.next()\n.then(<span class=\"hljs-function\"><span class=\"hljs-params\">iterResult1</span> =&gt;</span> {\n  <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(iterResult1);  <span class=\"hljs-keyword\">return</span> asyncIterator.next();\n})\n.then(<span class=\"hljs-function\"><span class=\"hljs-params\">iterResult2</span> =&gt;</span> {\n  <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(iterResult2);  <span class=\"hljs-keyword\">return</span> asyncIterator.next();\n})\n.then(<span class=\"hljs-function\"><span class=\"hljs-params\">iterResult3</span> =&gt;</span> {\n  <span class=\"hljs-built_in\">console</span>.<span class=\"hljs-built_in\">log</span>(iterResult3);}); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"98,113"}},{"content":"<pre data-lines=\"114,117\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x5176;&#x5b9e;&#x8fd4;&#x56de;&#x4e86;&#x4e24;&#x6b21;&#x503c;&#x3002;&#x7b2c;&#x4e00;&#x6b21;&#x8c03;&#x7528;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#xff1b;&#x7b49;&#x5230; Promise &#x5bf9;&#x8c61;`resolve`&#x4e86;&#xff0c;&#x518d;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x8868;&#x793a;&#x5f53;&#x524d;&#x6570;&#x636e;&#x6210;&#x5458;&#x4fe1;&#x606f;&#x7684;&#x5bf9;&#x8c61;&#x3002;&#x8fd9;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x4e0e;&#x540c;&#x6b65;&#x904d;&#x5386;&#x5668;&#x6700;&#x7ec8;&#x884c;&#x4e3a;&#x662f;&#x4e00;&#x81f4;&#x7684;&#xff0c;&#x53ea;&#x662f;&#x4f1a;&#x5148;&#x8fd4;&#x56de; Promise &#x5bf9;&#x8c61;&#xff0c;&#x4f5c;&#x4e3a;&#x4e2d;&#x4ecb;&#x3002;\n\n&#x7531;&#x4e8e;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x7684;`next`&#x65b9;&#x6cd5;&#xff0c;&#x8fd4;&#x56de;&#x7684;&#x662f;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#x3002;&#x56e0;&#x6b64;&#xff0c;&#x53ef;&#x4ee5;&#x628a;&#x5b83;&#x653e;&#x5728;`await`&#x547d;&#x4ee4;&#x540e;&#x9762;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"114,117"}},{"content":"<pre data-lines=\"118,127\"><code data-lines=\"118,127\"><span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">f</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">const</span> asyncIterable = <span class=\"hljs-title function_\">createAsyncIterable</span>([<span class=\"hljs-string\">&apos;a&apos;</span>, <span class=\"hljs-string\">&apos;b&apos;</span>]);\n  <span class=\"hljs-keyword\">const</span> asyncIterator = asyncIterable[<span class=\"hljs-title class_\">Symbol</span>.<span class=\"hljs-property\">asyncIterator</span>]();\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-keyword\">await</span> asyncIterator.<span class=\"hljs-title function_\">next</span>());\n   <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-keyword\">await</span> asyncIterator.<span class=\"hljs-title function_\">next</span>());\n   <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-keyword\">await</span> asyncIterator.<span class=\"hljs-title function_\">next</span>());\n } \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"118,127"}},{"content":"<pre data-lines=\"128,131\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`next`&#x65b9;&#x6cd5;&#x7528;`await`&#x5904;&#x7406;&#x4ee5;&#x540e;&#xff0c;&#x5c31;&#x4e0d;&#x5fc5;&#x4f7f;&#x7528;`then`&#x65b9;&#x6cd5;&#x4e86;&#x3002;&#x6574;&#x4e2a;&#x6d41;&#x7a0b;&#x5df2;&#x7ecf;&#x5f88;&#x63a5;&#x8fd1;&#x540c;&#x6b65;&#x5904;&#x7406;&#x4e86;&#x3002;\n\n&#x6ce8;&#x610f;&#xff0c;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x7684;`next`&#x65b9;&#x6cd5;&#x662f;&#x53ef;&#x4ee5;&#x8fde;&#x7eed;&#x8c03;&#x7528;&#x7684;&#xff0c;&#x4e0d;&#x5fc5;&#x7b49;&#x5230;&#x4e0a;&#x4e00;&#x6b65;&#x4ea7;&#x751f;&#x7684; Promise &#x5bf9;&#x8c61;`resolve`&#x4ee5;&#x540e;&#x518d;&#x8c03;&#x7528;&#x3002;&#x8fd9;&#x79cd;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;`next`&#x65b9;&#x6cd5;&#x4f1a;&#x7d2f;&#x79ef;&#x8d77;&#x6765;&#xff0c;&#x81ea;&#x52a8;&#x6309;&#x7167;&#x6bcf;&#x4e00;&#x6b65;&#x7684;&#x987a;&#x5e8f;&#x8fd0;&#x884c;&#x4e0b;&#x53bb;&#x3002;&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#xff0c;&#x628a;&#x6240;&#x6709;&#x7684;`next`&#x65b9;&#x6cd5;&#x653e;&#x5728;`Promise.all`&#x65b9;&#x6cd5;&#x91cc;&#x9762;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"128,131"}},{"content":"<pre data-lines=\"132,141\"><code data-lines=\"132,141\"><span class=\"hljs-keyword\">const</span> asyncIterable = <span class=\"hljs-title function_\">createAsyncIterable</span>([<span class=\"hljs-string\">&apos;a&apos;</span>, <span class=\"hljs-string\">&apos;b&apos;</span>]);\n<span class=\"hljs-keyword\">const</span> asyncIterator = asyncIterable[<span class=\"hljs-title class_\">Symbol</span>.<span class=\"hljs-property\">asyncIterator</span>]();\n<span class=\"hljs-keyword\">const</span> [{<span class=\"hljs-attr\">value</span>: v1}, {<span class=\"hljs-attr\">value</span>: v2}] = <span class=\"hljs-keyword\">await</span> <span class=\"hljs-title class_\">Promise</span>.<span class=\"hljs-title function_\">all</span>([\n  asyncIterator.<span class=\"hljs-title function_\">next</span>(), asyncIterator.<span class=\"hljs-title function_\">next</span>()\n]);\n\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(v1, v2);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"132,141"}},{"content":"<pre data-lines=\"142,143\"><code>&#x53e6;&#x4e00;&#x79cd;&#x7528;&#x6cd5;&#x662f;&#x4e00;&#x6b21;&#x6027;&#x8c03;&#x7528;&#x6240;&#x6709;&#x7684;`next`&#x65b9;&#x6cd5;&#xff0c;&#x7136;&#x540e;`await`&#x6700;&#x540e;&#x4e00;&#x6b65;&#x64cd;&#x4f5c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"142,143"}},{"content":"<pre data-lines=\"144,154\"><code data-lines=\"144,154\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">async</span> function <span class=\"hljs-title\">runner</span>()</span> {\n  <span class=\"hljs-keyword\">const</span> writer = openFile(<span class=\"hljs-string\">&apos;someFile.txt&apos;</span>);\n  writer.next(<span class=\"hljs-string\">&apos;hello&apos;</span>);\n  writer.next(<span class=\"hljs-string\">&apos;world&apos;</span>);\n  <span class=\"hljs-keyword\">await</span> writer.<span class=\"hljs-keyword\">return</span>();\n}\n\nrunner(); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"144,154"}}],"payload":{"tag":"h2","lines":"79,81"}},{"content":"for await...of","children":[{"content":"<pre data-lines=\"158,159\"><code>&#x524d;&#x9762;&#x4ecb;&#x7ecd;&#x8fc7;&#xff0c;`for...of`&#x5faa;&#x73af;&#x7528;&#x4e8e;&#x904d;&#x5386;&#x540c;&#x6b65;&#x7684; Iterator &#x63a5;&#x53e3;&#x3002;&#x65b0;&#x5f15;&#x5165;&#x7684;`for await...of`&#x5faa;&#x73af;&#xff0c;&#x5219;&#x662f;&#x7528;&#x4e8e;&#x904d;&#x5386;&#x5f02;&#x6b65;&#x7684; Iterator &#x63a5;&#x53e3;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"158,159"}},{"content":"<pre data-lines=\"160,167\"><code data-lines=\"160,167\"><span class=\"hljs-keyword\">async</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">f</span>(<span class=\"hljs-params\"></span>) </span>{\n  <span class=\"hljs-keyword\">for</span> <span class=\"hljs-keyword\">await</span> (<span class=\"hljs-keyword\">const</span> x <span class=\"hljs-keyword\">of</span> createAsyncIterable([<span class=\"hljs-string\">&apos;a&apos;</span>, <span class=\"hljs-string\">&apos;b&apos;</span>])) {\n    <span class=\"hljs-built_in\">console</span>.log(x);\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"160,167"}},{"content":"<pre data-lines=\"168,171\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`createAsyncIterable()`&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x62e5;&#x6709;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x63a5;&#x53e3;&#x7684;&#x5bf9;&#x8c61;&#xff0c;`for...of`&#x5faa;&#x73af;&#x81ea;&#x52a8;&#x8c03;&#x7528;&#x8fd9;&#x4e2a;&#x5bf9;&#x8c61;&#x7684;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x7684;`next`&#x65b9;&#x6cd5;&#xff0c;&#x4f1a;&#x5f97;&#x5230;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#x3002;`await`&#x7528;&#x6765;&#x5904;&#x7406;&#x8fd9;&#x4e2a; Promise &#x5bf9;&#x8c61;&#xff0c;&#x4e00;&#x65e6;`resolve`&#xff0c;&#x5c31;&#x628a;&#x5f97;&#x5230;&#x7684;&#x503c;&#xff08;`x`&#xff09;&#x4f20;&#x5165;`for...of`&#x7684;&#x5faa;&#x73af;&#x4f53;&#x3002;\n\n`for await...of`&#x5faa;&#x73af;&#x7684;&#x4e00;&#x4e2a;&#x7528;&#x9014;&#xff0c;&#x662f;&#x90e8;&#x7f72;&#x4e86; asyncIterable &#x64cd;&#x4f5c;&#x7684;&#x5f02;&#x6b65;&#x63a5;&#x53e3;&#xff0c;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x653e;&#x5165;&#x8fd9;&#x4e2a;&#x5faa;&#x73af;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"168,171"}},{"content":"<pre data-lines=\"172,181\"><code data-lines=\"172,181\"><span class=\"hljs-keyword\">let</span> body = <span class=\"hljs-string\">&apos;&apos;</span>;\n\n<span class=\"hljs-keyword\">async</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">f</span>(<span class=\"hljs-params\"></span>) </span>{\n  <span class=\"hljs-keyword\">for</span> <span class=\"hljs-keyword\">await</span>(<span class=\"hljs-keyword\">const</span> data <span class=\"hljs-keyword\">of</span> req) body += data;\n  <span class=\"hljs-keyword\">const</span> parsed = <span class=\"hljs-built_in\">JSON</span>.parse(body);\n  <span class=\"hljs-built_in\">console</span>.log(<span class=\"hljs-string\">&apos;got&apos;</span>, parsed);\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"172,181"}},{"content":"<pre data-lines=\"182,185\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`req`&#x662f;&#x4e00;&#x4e2a; asyncIterable &#x5bf9;&#x8c61;&#xff0c;&#x7528;&#x6765;&#x5f02;&#x6b65;&#x8bfb;&#x53d6;&#x6570;&#x636e;&#x3002;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#xff0c;&#x4f7f;&#x7528;`for await...of`&#x5faa;&#x73af;&#x4ee5;&#x540e;&#xff0c;&#x4ee3;&#x7801;&#x4f1a;&#x975e;&#x5e38;&#x7b80;&#x6d01;&#x3002;\n\n&#x5982;&#x679c;`next`&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x7684; Promise &#x5bf9;&#x8c61;&#x88ab;`reject`&#xff0c;`for await...of`&#x5c31;&#x4f1a;&#x62a5;&#x9519;&#xff0c;&#x8981;&#x7528;`try...catch`&#x6355;&#x6349;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"182,185"}},{"content":"<pre data-lines=\"186,197\"><code data-lines=\"186,197\"><span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">try</span> {\n    <span class=\"hljs-keyword\">for</span> <span class=\"hljs-title function_\">await</span> (<span class=\"hljs-keyword\">const</span> x <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title function_\">createRejectingIterable</span>()) {\n      <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(x);\n    }\n  } <span class=\"hljs-keyword\">catch</span> (e) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(e);\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"186,197"}},{"content":"<pre data-lines=\"198,199\"><code>&#x6ce8;&#x610f;&#xff0c;`for await...of`&#x5faa;&#x73af;&#x4e5f;&#x53ef;&#x4ee5;&#x7528;&#x4e8e;&#x540c;&#x6b65;&#x904d;&#x5386;&#x5668;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"198,199"}},{"content":"<pre data-lines=\"200,207\"><code data-lines=\"200,207\">(<span class=\"hljs-name\">async</span> function () {\n  for await (<span class=\"hljs-name\">const</span> x of [<span class=\"hljs-symbol\">&apos;a</span>&apos;, <span class=\"hljs-symbol\">&apos;b</span>&apos;]) {\n    console.log(<span class=\"hljs-name\">x</span>)<span class=\"hljs-comment\">;</span>\n  }\n})()<span class=\"hljs-comment\">;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"200,207"}},{"content":"<pre data-lines=\"208,209\"><code>Node v10 &#x652f;&#x6301;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#xff0c;Stream &#x5c31;&#x90e8;&#x7f72;&#x4e86;&#x8fd9;&#x4e2a;&#x63a5;&#x53e3;&#x3002;&#x4e0b;&#x9762;&#x662f;&#x8bfb;&#x53d6;&#x6587;&#x4ef6;&#x7684;&#x4f20;&#x7edf;&#x5199;&#x6cd5;&#x4e0e;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x5199;&#x6cd5;&#x7684;&#x5dee;&#x5f02;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"208,209"}},{"content":"<pre data-lines=\"210,235\"><code data-lines=\"210,235\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">main</span>(<span class=\"hljs-params\">inputFilePath</span>) {\n  <span class=\"hljs-keyword\">const</span> readStream = fs.<span class=\"hljs-title function_\">createReadStream</span>(\n    inputFilePath,\n    { <span class=\"hljs-attr\">encoding</span>: <span class=\"hljs-string\">&apos;utf8&apos;</span>, <span class=\"hljs-attr\">highWaterMark</span>: <span class=\"hljs-number\">1024</span> }\n  );\n  readStream.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;data&apos;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">chunk</span>) =&gt;</span> {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&gt;&gt;&gt; &apos;</span>+chunk);\n  });\n  readStream.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&apos;end&apos;</span>, <span class=\"hljs-function\">() =&gt;</span> {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;### DONE ###&apos;</span>);\n  });\n}\n<span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">main</span>(<span class=\"hljs-params\">inputFilePath</span>) {\n  <span class=\"hljs-keyword\">const</span> readStream = fs.<span class=\"hljs-title function_\">createReadStream</span>(\n    inputFilePath,\n    { <span class=\"hljs-attr\">encoding</span>: <span class=\"hljs-string\">&apos;utf8&apos;</span>, <span class=\"hljs-attr\">highWaterMark</span>: <span class=\"hljs-number\">1024</span> }\n  );\n\n  <span class=\"hljs-keyword\">for</span> <span class=\"hljs-title function_\">await</span> (<span class=\"hljs-keyword\">const</span> chunk <span class=\"hljs-keyword\">of</span> readStream) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&gt;&gt;&gt; &apos;</span>+chunk);\n  }\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;### DONE ###&apos;</span>);\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"210,235"}}],"payload":{"tag":"h2","lines":"155,157"}},{"content":"&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;","children":[{"content":"<pre data-lines=\"239,242\"><code>&#x5c31;&#x50cf; Generator &#x51fd;&#x6570;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x540c;&#x6b65;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x4e00;&#x6837;&#xff0c;&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x7684;&#x4f5c;&#x7528;&#xff0c;&#x662f;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x3002;\n\n&#x5728;&#x8bed;&#x6cd5;&#x4e0a;&#xff0c;&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x5c31;&#x662f;`async`&#x51fd;&#x6570;&#x4e0e; Generator &#x51fd;&#x6570;&#x7684;&#x7ed3;&#x5408;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"239,242"}},{"content":"<pre data-lines=\"243,250\"><code data-lines=\"243,250\"><span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;hello&apos;</span>;\n}\n<span class=\"hljs-keyword\">const</span> genObj = <span class=\"hljs-title function_\">gen</span>();\ngenObj.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">x</span> =&gt;</span> <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(x));\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"243,250"}},{"content":"<pre data-lines=\"251,254\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`gen`&#x662f;&#x4e00;&#x4e2a;&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#xff0c;&#x6267;&#x884c;&#x540e;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x5f02;&#x6b65; Iterator &#x5bf9;&#x8c61;&#x3002;&#x5bf9;&#x8be5;&#x5bf9;&#x8c61;&#x8c03;&#x7528;`next`&#x65b9;&#x6cd5;&#xff0c;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#x3002;\n\n&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x7684;&#x8bbe;&#x8ba1;&#x76ee;&#x7684;&#x4e4b;&#x4e00;&#xff0c;&#x5c31;&#x662f; Generator &#x51fd;&#x6570;&#x5904;&#x7406;&#x540c;&#x6b65;&#x64cd;&#x4f5c;&#x548c;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x65f6;&#xff0c;&#x80fd;&#x591f;&#x4f7f;&#x7528;&#x540c;&#x4e00;&#x5957;&#x63a5;&#x53e3;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"251,254"}},{"content":"<pre data-lines=\"255,273\"><code data-lines=\"255,273\"><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">map</span>(<span class=\"hljs-params\">iterable, func</span>) {\n  <span class=\"hljs-keyword\">const</span> iter = iterable[<span class=\"hljs-title class_\">Symbol</span>.<span class=\"hljs-property\">iterator</span>]();\n  <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n    <span class=\"hljs-keyword\">const</span> {value, done} = iter.<span class=\"hljs-title function_\">next</span>();\n    <span class=\"hljs-keyword\">if</span> (done) <span class=\"hljs-keyword\">break</span>;\n    <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">func</span>(value);\n  }\n}\n<span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">map</span>(<span class=\"hljs-params\">iterable, func</span>) {\n  <span class=\"hljs-keyword\">const</span> iter = iterable[<span class=\"hljs-title class_\">Symbol</span>.<span class=\"hljs-property\">asyncIterator</span>]();\n  <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n    <span class=\"hljs-keyword\">const</span> {value, done} = <span class=\"hljs-keyword\">await</span> iter.<span class=\"hljs-title function_\">next</span>();\n    <span class=\"hljs-keyword\">if</span> (done) <span class=\"hljs-keyword\">break</span>;\n    <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">func</span>(value);\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"255,273"}},{"content":"<pre data-lines=\"274,277\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`map`&#x662f;&#x4e00;&#x4e2a; Generator &#x51fd;&#x6570;&#xff0c;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x53ef;&#x904d;&#x5386;&#x5bf9;&#x8c61;`iterable`&#xff0c;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x4e00;&#x4e2a;&#x56de;&#x8c03;&#x51fd;&#x6570;`func`&#x3002;`map`&#x7684;&#x4f5c;&#x7528;&#x662f;&#x5c06;`iterable`&#x6bcf;&#x4e00;&#x6b65;&#x8fd4;&#x56de;&#x7684;&#x503c;&#xff0c;&#x4f7f;&#x7528;`func`&#x8fdb;&#x884c;&#x5904;&#x7406;&#x3002;&#x4e0a;&#x9762;&#x6709;&#x4e24;&#x4e2a;&#x7248;&#x672c;&#x7684;`map`&#xff0c;&#x524d;&#x4e00;&#x4e2a;&#x5904;&#x7406;&#x540c;&#x6b65;&#x904d;&#x5386;&#x5668;&#xff0c;&#x540e;&#x4e00;&#x4e2a;&#x5904;&#x7406;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#xff0c;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#x4e24;&#x4e2a;&#x7248;&#x672c;&#x7684;&#x5199;&#x6cd5;&#x57fa;&#x672c;&#x4e0a;&#x662f;&#x4e00;&#x81f4;&#x7684;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x53e6;&#x4e00;&#x4e2a;&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"274,277"}},{"content":"<pre data-lines=\"278,291\"><code data-lines=\"278,291\"><span class=\"hljs-keyword\">async</span> function* readLines(path) {\n  <span class=\"hljs-keyword\">let</span> <span class=\"hljs-keyword\">file</span> = <span class=\"hljs-keyword\">await</span> fileOpen(path);\n\n  <span class=\"hljs-keyword\">try</span> {\n    <span class=\"hljs-keyword\">while</span> (!<span class=\"hljs-keyword\">file</span>.EOF) {\n      <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-keyword\">await</span> <span class=\"hljs-keyword\">file</span>.readLine();\n    }\n  } <span class=\"hljs-keyword\">finally</span> {\n    <span class=\"hljs-keyword\">await</span> <span class=\"hljs-keyword\">file</span>.close();\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"278,291"}},{"content":"<pre data-lines=\"292,297\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x524d;&#x9762;&#x4f7f;&#x7528;`await`&#x5173;&#x952e;&#x5b57;&#x6807;&#x660e;&#xff0c;&#x5373;`await`&#x540e;&#x9762;&#x7684;&#x64cd;&#x4f5c;&#xff0c;&#x5e94;&#x8be5;&#x8fd4;&#x56de; Promise &#x5bf9;&#x8c61;&#x3002;&#x51e1;&#x662f;&#x4f7f;&#x7528;`yield`&#x5173;&#x952e;&#x5b57;&#x7684;&#x5730;&#x65b9;&#xff0c;&#x5c31;&#x662f;`next`&#x65b9;&#x6cd5;&#x505c;&#x4e0b;&#x6765;&#x7684;&#x5730;&#x65b9;&#xff0c;&#x5b83;&#x540e;&#x9762;&#x7684;&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x503c;&#xff08;&#x5373;`await file.readLine()`&#x7684;&#x503c;&#xff09;&#xff0c;&#x4f1a;&#x4f5c;&#x4e3a;`next()`&#x8fd4;&#x56de;&#x5bf9;&#x8c61;&#x7684;`value`&#x5c5e;&#x6027;&#xff0c;&#x8fd9;&#x4e00;&#x70b9;&#x662f;&#x4e0e;&#x540c;&#x6b65; Generator &#x51fd;&#x6570;&#x4e00;&#x81f4;&#x7684;&#x3002;\n\n&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x5185;&#x90e8;&#xff0c;&#x80fd;&#x591f;&#x540c;&#x65f6;&#x4f7f;&#x7528;`await`&#x548c;`yield`&#x547d;&#x4ee4;&#x3002;&#x53ef;&#x4ee5;&#x8fd9;&#x6837;&#x7406;&#x89e3;&#xff0c;`await`&#x547d;&#x4ee4;&#x7528;&#x4e8e;&#x5c06;&#x5916;&#x90e8;&#x64cd;&#x4f5c;&#x4ea7;&#x751f;&#x7684;&#x503c;&#x8f93;&#x5165;&#x51fd;&#x6570;&#x5185;&#x90e8;&#xff0c;`yield`&#x547d;&#x4ee4;&#x7528;&#x4e8e;&#x5c06;&#x51fd;&#x6570;&#x5185;&#x90e8;&#x7684;&#x503c;&#x8f93;&#x51fa;&#x3002;\n\n&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5b9a;&#x4e49;&#x7684;&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x7684;&#x7528;&#x6cd5;&#x5982;&#x4e0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"292,297"}},{"content":"<pre data-lines=\"298,305\"><code data-lines=\"298,305\">(<span class=\"hljs-name\">async</span> function () {\n  for await (<span class=\"hljs-name\">const</span> line of readLines(<span class=\"hljs-name\">filePath</span>)) {\n    console.log(<span class=\"hljs-name\">line</span>)<span class=\"hljs-comment\">;</span>\n  }\n})() \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"298,305"}},{"content":"<pre data-lines=\"308,315\"><code data-lines=\"308,315\"><span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">prefixLines</span>(<span class=\"hljs-params\">asyncIterable</span>) {\n  <span class=\"hljs-keyword\">for</span> <span class=\"hljs-title function_\">await</span> (<span class=\"hljs-keyword\">const</span> line <span class=\"hljs-keyword\">of</span> asyncIterable) {\n    <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;&gt; &apos;</span> + line;\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"308,315"}},{"content":"<pre data-lines=\"316,317\"><code>&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x7684;&#x8fd4;&#x56de;&#x503c;&#x662f;&#x4e00;&#x4e2a;&#x5f02;&#x6b65; Iterator&#xff0c;&#x5373;&#x6bcf;&#x6b21;&#x8c03;&#x7528;&#x5b83;&#x7684;`next`&#x65b9;&#x6cd5;&#xff0c;&#x4f1a;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x8ddf;&#x5728;`yield`&#x547d;&#x4ee4;&#x540e;&#x9762;&#x7684;&#xff0c;&#x5e94;&#x8be5;&#x662f;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#x3002;&#x5982;&#x679c;&#x50cf;&#x4e0a;&#x9762;&#x90a3;&#x4e2a;&#x4f8b;&#x5b50;&#x90a3;&#x6837;&#xff0c;`yield`&#x547d;&#x4ee4;&#x540e;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x4f1a;&#x88ab;&#x81ea;&#x52a8;&#x5305;&#x88c5;&#x6210;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"316,317"}},{"content":"<pre data-lines=\"318,335\"><code data-lines=\"318,335\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">fetchRandom</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">const</span> url = <span class=\"hljs-string\">&apos;[https://www.random.org/decimal-fractions/](https://www.random.org/decimal-fractions/)&apos;</span>\n    + <span class=\"hljs-string\">&apos;?num=1&amp;dec=10&amp;col=1&amp;format=plain&amp;rnd=new&apos;</span>;\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">fetch</span>(url);\n}\n\n<span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">asyncGenerator</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Start&apos;</span>);\n  <span class=\"hljs-keyword\">const</span> result = <span class=\"hljs-keyword\">await</span> <span class=\"hljs-title function_\">fetchRandom</span>();  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;Result: &apos;</span> + <span class=\"hljs-keyword\">await</span> result.<span class=\"hljs-title function_\">text</span>();  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Done&apos;</span>);\n}\n\n<span class=\"hljs-keyword\">const</span> ag = <span class=\"hljs-title function_\">asyncGenerator</span>();\nag.<span class=\"hljs-title function_\">next</span>().<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">{value, done}</span>) =&gt;</span> {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(value);\n}) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"318,335"}},{"content":"<pre data-lines=\"336,346\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`ag`&#x662f;`asyncGenerator`&#x51fd;&#x6570;&#x8fd4;&#x56de;&#x7684;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x5bf9;&#x8c61;&#x3002;&#x8c03;&#x7528;`ag.next()`&#x4ee5;&#x540e;&#xff0c;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;&#x6267;&#x884c;&#x987a;&#x5e8f;&#x5982;&#x4e0b;&#x3002;\n\n1.  `ag.next()`&#x7acb;&#x523b;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#x3002;\n2.  `asyncGenerator`&#x51fd;&#x6570;&#x5f00;&#x59cb;&#x6267;&#x884c;&#xff0c;&#x6253;&#x5370;&#x51fa;`Start`&#x3002;\n3.  `await`&#x547d;&#x4ee4;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#xff0c;`asyncGenerator`&#x51fd;&#x6570;&#x505c;&#x5728;&#x8fd9;&#x91cc;&#x3002;\n4.  A &#x5904;&#x53d8;&#x6210; fulfilled &#x72b6;&#x6001;&#xff0c;&#x4ea7;&#x751f;&#x7684;&#x503c;&#x653e;&#x5165;`result`&#x53d8;&#x91cf;&#xff0c;`asyncGenerator`&#x51fd;&#x6570;&#x7ee7;&#x7eed;&#x5f80;&#x4e0b;&#x6267;&#x884c;&#x3002;\n5.  &#x51fd;&#x6570;&#x5728; B &#x5904;&#x7684;`yield`&#x6682;&#x505c;&#x6267;&#x884c;&#xff0c;&#x4e00;&#x65e6;`yield`&#x547d;&#x4ee4;&#x53d6;&#x5230;&#x503c;&#xff0c;`ag.next()`&#x8fd4;&#x56de;&#x7684;&#x90a3;&#x4e2a; Promise &#x5bf9;&#x8c61;&#x53d8;&#x6210; fulfilled &#x72b6;&#x6001;&#x3002;\n6.  `ag.next()`&#x540e;&#x9762;&#x7684;`then`&#x65b9;&#x6cd5;&#x6307;&#x5b9a;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x5f00;&#x59cb;&#x6267;&#x884c;&#x3002;&#x8be5;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;&#x662f;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;`{value, done}`&#xff0c;&#x5176;&#x4e2d;`value`&#x7684;&#x503c;&#x662f;`yield`&#x547d;&#x4ee4;&#x540e;&#x9762;&#x7684;&#x90a3;&#x4e2a;&#x8868;&#x8fbe;&#x5f0f;&#x7684;&#x503c;&#xff0c;`done`&#x7684;&#x503c;&#x662f;`false`&#x3002;\n\nA &#x548c; B &#x4e24;&#x884c;&#x7684;&#x4f5c;&#x7528;&#x7c7b;&#x4f3c;&#x4e8e;&#x4e0b;&#x9762;&#x7684;&#x4ee3;&#x7801;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"336,346"}},{"content":"<pre data-lines=\"347,359\"><code data-lines=\"347,359\"><span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> Promise(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> {\n  fetchRandom()\n  .then(<span class=\"hljs-function\"><span class=\"hljs-params\">result</span> =&gt;</span> result.<span class=\"hljs-built_in\">text</span>())\n  .then(<span class=\"hljs-function\"><span class=\"hljs-params\">result</span> =&gt;</span> {\n     resolve({\n       <span class=\"hljs-attr\">value</span>: <span class=\"hljs-string\">&apos;Result: &apos;</span> + result,\n       <span class=\"hljs-attr\">done</span>: <span class=\"hljs-literal\">false</span>,\n     });\n  });\n}); \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"347,359"}},{"content":"<pre data-lines=\"360,361\"><code>&#x5982;&#x679c;&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x629b;&#x51fa;&#x9519;&#x8bef;&#xff0c;&#x4f1a;&#x5bfc;&#x81f4; Promise &#x5bf9;&#x8c61;&#x7684;&#x72b6;&#x6001;&#x53d8;&#x4e3a;`reject`&#xff0c;&#x7136;&#x540e;&#x629b;&#x51fa;&#x7684;&#x9519;&#x8bef;&#x88ab;`catch`&#x65b9;&#x6cd5;&#x6355;&#x83b7;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"360,361"}},{"content":"<pre data-lines=\"362,371\"><code data-lines=\"362,371\"><span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">asyncGenerator</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(<span class=\"hljs-string\">&apos;Problem!&apos;</span>);\n}\n\n<span class=\"hljs-title function_\">asyncGenerator</span>()\n.<span class=\"hljs-title function_\">next</span>()\n.<span class=\"hljs-keyword\">catch</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">err</span> =&gt;</span> <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(err));\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"362,371"}},{"content":"<pre data-lines=\"372,373\"><code>&#x6ce8;&#x610f;&#xff0c;&#x666e;&#x901a;&#x7684; async &#x51fd;&#x6570;&#x8fd4;&#x56de;&#x7684;&#x662f;&#x4e00;&#x4e2a; Promise &#x5bf9;&#x8c61;&#xff0c;&#x800c;&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x8fd4;&#x56de;&#x7684;&#x662f;&#x4e00;&#x4e2a;&#x5f02;&#x6b65; Iterator &#x5bf9;&#x8c61;&#x3002;&#x53ef;&#x4ee5;&#x8fd9;&#x6837;&#x7406;&#x89e3;&#xff0c;async &#x51fd;&#x6570;&#x548c;&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#xff0c;&#x662f;&#x5c01;&#x88c5;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x7684;&#x4e24;&#x79cd;&#x65b9;&#x6cd5;&#xff0c;&#x90fd;&#x7528;&#x6765;&#x8fbe;&#x5230;&#x540c;&#x4e00;&#x79cd;&#x76ee;&#x7684;&#x3002;&#x533a;&#x522b;&#x5728;&#x4e8e;&#xff0c;&#x524d;&#x8005;&#x81ea;&#x5e26;&#x6267;&#x884c;&#x5668;&#xff0c;&#x540e;&#x8005;&#x901a;&#x8fc7;`for await...of`&#x6267;&#x884c;&#xff0c;&#x6216;&#x8005;&#x81ea;&#x5df1;&#x7f16;&#x5199;&#x6267;&#x884c;&#x5668;&#x3002;&#x4e0b;&#x9762;&#x5c31;&#x662f;&#x4e00;&#x4e2a;&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x7684;&#x6267;&#x884c;&#x5668;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"372,373"}},{"content":"<pre data-lines=\"374,386\"><code data-lines=\"374,386\"><span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">takeAsync</span>(<span class=\"hljs-params\">asyncIterable, count = <span class=\"hljs-literal\">Infinity</span></span>) {\n  <span class=\"hljs-keyword\">const</span> result = [];\n  <span class=\"hljs-keyword\">const</span> iterator = asyncIterable[<span class=\"hljs-title class_\">Symbol</span>.<span class=\"hljs-property\">asyncIterator</span>]();\n  <span class=\"hljs-keyword\">while</span> (result.<span class=\"hljs-property\">length</span> &lt; count) {\n    <span class=\"hljs-keyword\">const</span> {value, done} = <span class=\"hljs-keyword\">await</span> iterator.<span class=\"hljs-title function_\">next</span>();\n    <span class=\"hljs-keyword\">if</span> (done) <span class=\"hljs-keyword\">break</span>;\n    result.<span class=\"hljs-title function_\">push</span>(value);\n  }\n  <span class=\"hljs-keyword\">return</span> result;\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"374,386"}},{"content":"<pre data-lines=\"387,390\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x4ea7;&#x751f;&#x7684;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#xff0c;&#x4f1a;&#x901a;&#x8fc7;`while`&#x5faa;&#x73af;&#x81ea;&#x52a8;&#x6267;&#x884c;&#xff0c;&#x6bcf;&#x5f53;`await iterator.next()`&#x5b8c;&#x6210;&#xff0c;&#x5c31;&#x4f1a;&#x8fdb;&#x5165;&#x4e0b;&#x4e00;&#x8f6e;&#x5faa;&#x73af;&#x3002;&#x4e00;&#x65e6;`done`&#x5c5e;&#x6027;&#x53d8;&#x4e3a;`true`&#xff0c;&#x5c31;&#x4f1a;&#x8df3;&#x51fa;&#x5faa;&#x73af;&#xff0c;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x6267;&#x884c;&#x7ed3;&#x675f;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x8fd9;&#x4e2a;&#x81ea;&#x52a8;&#x6267;&#x884c;&#x5668;&#x7684;&#x4e00;&#x4e2a;&#x4f7f;&#x7528;&#x5b9e;&#x4f8b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"387,390"}},{"content":"<pre data-lines=\"391,405\"><code data-lines=\"391,405\"><span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">f</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;a&apos;</span>;\n    <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;b&apos;</span>;\n    <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;c&apos;</span>;\n  }\n\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">await</span> <span class=\"hljs-title function_\">takeAsync</span>(<span class=\"hljs-title function_\">gen</span>());\n}\n\n<span class=\"hljs-title function_\">f</span>().<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">result</span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(result);}) \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"391,405"}},{"content":"<pre data-lines=\"406,409\"><code>&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x51fa;&#x73b0;&#x4ee5;&#x540e;&#xff0c;JavaScript &#x5c31;&#x6709;&#x4e86;&#x56db;&#x79cd;&#x51fd;&#x6570;&#x5f62;&#x5f0f;&#xff1a;&#x666e;&#x901a;&#x51fd;&#x6570;&#x3001;async &#x51fd;&#x6570;&#x3001;Generator &#x51fd;&#x6570;&#x548c;&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x3002;&#x8bf7;&#x6ce8;&#x610f;&#x533a;&#x5206;&#x6bcf;&#x79cd;&#x51fd;&#x6570;&#x7684;&#x4e0d;&#x540c;&#x4e4b;&#x5904;&#x3002;&#x57fa;&#x672c;&#x4e0a;&#xff0c;&#x5982;&#x679c;&#x662f;&#x4e00;&#x7cfb;&#x5217;&#x6309;&#x7167;&#x987a;&#x5e8f;&#x6267;&#x884c;&#x7684;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#xff08;&#x6bd4;&#x5982;&#x8bfb;&#x53d6;&#x6587;&#x4ef6;&#xff0c;&#x7136;&#x540e;&#x5199;&#x5165;&#x65b0;&#x5185;&#x5bb9;&#xff0c;&#x518d;&#x5b58;&#x5165;&#x786c;&#x76d8;&#xff09;&#xff0c;&#x53ef;&#x4ee5;&#x4f7f;&#x7528; async &#x51fd;&#x6570;&#xff1b;&#x5982;&#x679c;&#x662f;&#x4e00;&#x7cfb;&#x5217;&#x4ea7;&#x751f;&#x76f8;&#x540c;&#x6570;&#x636e;&#x7ed3;&#x6784;&#x7684;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#xff08;&#x6bd4;&#x5982;&#x4e00;&#x884c;&#x4e00;&#x884c;&#x8bfb;&#x53d6;&#x6587;&#x4ef6;&#xff09;&#xff0c;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x3002;\n\n&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x4e5f;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;`next`&#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x63a5;&#x6536;&#x5916;&#x90e8;&#x4f20;&#x5165;&#x7684;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"406,409"}},{"content":"<pre data-lines=\"410,414\"><code data-lines=\"410,414\"><span class=\"hljs-keyword\">const</span> writer = openFile(<span class=\"hljs-string\">&apos;someFile.txt&apos;</span>);\nwriter.<span class=\"hljs-keyword\">next</span>(<span class=\"hljs-string\">&apos;hello&apos;</span>);writer.<span class=\"hljs-keyword\">next</span>(<span class=\"hljs-string\">&apos;world&apos;</span>);await writer.<span class=\"hljs-keyword\">return</span>();\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"410,414"}},{"content":"<pre data-lines=\"415,418\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`openFile`&#x662f;&#x4e00;&#x4e2a;&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x3002;`next`&#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x5411;&#x8be5;&#x51fd;&#x6570;&#x5185;&#x90e8;&#x7684;&#x64cd;&#x4f5c;&#x4f20;&#x5165;&#x6570;&#x636e;&#x3002;&#x6bcf;&#x6b21;`next`&#x65b9;&#x6cd5;&#x90fd;&#x662f;&#x540c;&#x6b65;&#x6267;&#x884c;&#x7684;&#xff0c;&#x6700;&#x540e;&#x7684;`await`&#x547d;&#x4ee4;&#x7528;&#x4e8e;&#x7b49;&#x5f85;&#x6574;&#x4e2a;&#x5199;&#x5165;&#x64cd;&#x4f5c;&#x7ed3;&#x675f;&#x3002;\n\n&#x6700;&#x540e;&#xff0c;&#x540c;&#x6b65;&#x7684;&#x6570;&#x636e;&#x7ed3;&#x6784;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x5f02;&#x6b65; Generator &#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"415,418"}},{"content":"<pre data-lines=\"419,426\"><code data-lines=\"419,426\"><span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">createAsyncIterable</span>(<span class=\"hljs-params\">syncIterable</span>) {\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">const</span> elem <span class=\"hljs-keyword\">of</span> syncIterable) {\n    <span class=\"hljs-keyword\">yield</span> elem;\n  }\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"419,426"}},{"content":"<pre data-lines=\"427,428\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x7531;&#x4e8e;&#x6ca1;&#x6709;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#xff0c;&#x6240;&#x4ee5;&#x4e5f;&#x5c31;&#x6ca1;&#x6709;&#x4f7f;&#x7528;`await`&#x5173;&#x952e;&#x5b57;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"427,428"}}],"payload":{"tag":"h2","lines":"236,238"}},{"content":"yield* &#x8bed;&#x53e5;","children":[{"content":"<pre data-lines=\"432,433\"><code>`yield*`&#x8bed;&#x53e5;&#x4e5f;&#x53ef;&#x4ee5;&#x8ddf;&#x4e00;&#x4e2a;&#x5f02;&#x6b65;&#x904d;&#x5386;&#x5668;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"432,433"}},{"content":"<pre data-lines=\"434,445\"><code data-lines=\"434,445\"><span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen1</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;a&apos;</span>;\n  <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-string\">&apos;b&apos;</span>;\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">2</span>;\n}\n\n<span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">gen2</span>(<span class=\"hljs-params\"></span>) {\n   <span class=\"hljs-keyword\">const</span> result = <span class=\"hljs-keyword\">yield</span>* <span class=\"hljs-title function_\">gen1</span>();\n} \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"434,445"}},{"content":"<pre data-lines=\"446,449\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`gen2`&#x51fd;&#x6570;&#x91cc;&#x9762;&#x7684;`result`&#x53d8;&#x91cf;&#xff0c;&#x6700;&#x540e;&#x7684;&#x503c;&#x662f;`2`&#x3002;\n\n&#x4e0e;&#x540c;&#x6b65; Generator &#x51fd;&#x6570;&#x4e00;&#x6837;&#xff0c;`for await...of`&#x5faa;&#x73af;&#x4f1a;&#x5c55;&#x5f00;`yield*`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"446,449"}},{"content":"<pre data-lines=\"450,457\"><code data-lines=\"450,457\">(<span class=\"hljs-name\">async</span> function () {\n  for await (<span class=\"hljs-name\">const</span> x of gen2()) {\n    console.log(<span class=\"hljs-name\">x</span>)<span class=\"hljs-comment\">;</span>\n  }\n})()<span class=\"hljs-comment\">;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"450,457"}}],"payload":{"tag":"h2","lines":"429,431"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
