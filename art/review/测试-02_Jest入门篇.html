<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x6d4b;&#x8bd5;-02_Jest&#x5165;&#x95e8;&#x7bc7;","children":[{"content":"&#x57fa;&#x672c;&#x4ecb;&#x7ecd;&#x548c;&#x914d;&#x7f6e;","children":[{"content":"&#x4ecb;&#x7ecd;","children":[{"content":"<pre data-lines=\"9,23\"><code data-lines=\"9,23\">Jest &#x9002;&#x7528;&#x4f46;&#x4e0d;&#x5c40;&#x9650;&#x4e8e;&#x4f7f;&#x7528;&#x4ee5;&#x4e0b;&#x6280;&#x672f;&#x7684;&#x9879;&#x76ee;&#xff1a;Babel,&#x3001;TypeScript&#x3001; Node&#x3001; React&#x3001;Angular&#x3001;Vue &#x7b49;&#x3002;\n\nJest &#x4e3b;&#x8981;&#x7279;&#x70b9;&#xff1a;\n\n<span class=\"hljs-bullet\">+</span> &#x96f6;&#x914d;&#x7f6e;\n<span class=\"hljs-bullet\">+</span> &#x81ea;&#x5e26;&#x65ad;&#x8a00;\n<span class=\"hljs-bullet\">+</span> &#x800c;&#x4f5c;&#x4e3a;&#x4e00;&#x4e2a;&#x9762;&#x5411;&#x524d;&#x7aef;&#x7684;&#x6d4b;&#x8bd5;&#x6846;&#x67b6;&#xff0c; Jest &#x53ef;&#x4ee5;&#x5229;&#x7528;&#x5176;&#x7279;&#x6709;&#x7684;&#x5feb;&#x7167;&#x6d4b;&#x8bd5;&#x529f;&#x80fd;&#xff0c;&#x901a;&#x8fc7;&#x6bd4;&#x5bf9; UI &#x4ee3;&#x7801;&#x751f;&#x6210;&#x7684;&#x5feb;&#x7167;&#x6587;&#x4ef6;&#xff0c;&#x5b9e;&#x73b0;&#x5bf9; React &#x7b49;&#x5e38;&#x89c1;&#x524d;&#x7aef;&#x6846;&#x67b6;&#x7684;&#x81ea;&#x52a8;&#x6d4b;&#x8bd5;&#x3002;\n<span class=\"hljs-bullet\">+</span> &#x6b64;&#x5916;&#xff0c; Jest &#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x662f;&#x5e76;&#x884c;&#x6267;&#x884c;&#x7684;&#xff0c;&#x800c;&#x4e14;&#x53ea;&#x6267;&#x884c;&#x53d1;&#x751f;&#x6539;&#x53d8;&#x7684;&#x6587;&#x4ef6;&#x6240;&#x5bf9;&#x5e94;&#x7684;&#x6d4b;&#x8bd5;&#xff0c;&#x63d0;&#x5347;&#x4e86;&#x6d4b;&#x8bd5;&#x901f;&#x5ea6;&#x3002;\n<span class=\"hljs-bullet\">+</span> &#x6d4b;&#x8bd5;&#x8986;&#x76d6;&#x7387;\n<span class=\"hljs-bullet\">+</span> Mock &#x6a21;&#x62df;\n\n&#x8fd9;&#x4e9b;&#x7279;&#x70b9;&#xff0c;&#x5927;&#x5bb6;&#x7b80;&#x5355;&#x4e86;&#x89e3;&#x5373;&#x53ef;&#xff0c;&#x540e;&#x7eed;&#x7684;&#x5b9e;&#x8df5;&#x4f1a;&#x6709;&#x4e00;&#x4e2a;&#x66f4;&#x6df1;&#x5165;&#x7684;&#x4ecb;&#x7ecd;&#x548c;&#x4f7f;&#x7528;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"9,23"}}],"payload":{"tag":"h3","lines":"7,8"}},{"content":"&#x9879;&#x76ee;&#x521d;&#x59cb;&#x5316;","children":[{"content":"1. &#x521b;&#x5efa;&#x9879;&#x76ee;","children":[{"content":"<pre data-lines=\"28,33\"><code class=\"language-plain\">mkdir jest-demo\ncd jest-demo\nnpm init\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"28,33"}}],"payload":{"tag":"h4","lines":"26,27"}},{"content":"2. &#x5b89;&#x88c5;jest","children":[{"content":"<pre data-lines=\"36,39\"><code class=\"language-plain\">npm i jest --save-dev\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"36,39"}}],"payload":{"tag":"h4","lines":"34,35"}},{"content":"3. &#x6267;&#x884c;&#x6d4b;&#x8bd5;&#x547d;&#x4ee4; &#x5728;package.json&#x4e2d;&#x914d;&#x7f6e;jest&#x547d;&#x4ee4;","children":[{"content":"<pre data-lines=\"42,49\"><code class=\"language-plain\">// package.json\n// ...\nscripts: {\n    &quot;test&quot;: &quot;jest --watchAll&quot;,\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"42,49"}}],"payload":{"tag":"h4","lines":"40,41"}},{"content":"4. &#x7136;&#x540e;&#x6267;&#x884c; npm run test &#x5373;&#x53ef;&#x5bf9;&#x6240;&#x6709;&#x4ee5; *.test.js&#x7ed3;&#x5c3e;&#x7684;&#x6587;&#x4ef6;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#x3002;","children":[],"payload":{"tag":"h4","lines":"50,51"}}],"payload":{"tag":"h3","lines":"24,25"}},{"content":"&#x8bbe;&#x7f6e;Jest&#x914d;&#x7f6e;","children":[{"content":"&#x6211;&#x4eec;&#x6709;&#x4e24;&#x79cd;&#x65b9;&#x5f0f;&#x53bb;&#x8bbe;&#x7f6e;jest&#x914d;&#x7f6e;&#xff1a;","children":[{"content":"1. &#x901a;&#x8fc7;jest --init&#x5355;&#x72ec;&#x751f;&#x6210;jest&#x914d;&#x7f6e;&#x6587;&#x4ef6;","children":[],"payload":{"tag":"li","lines":"57,58","listIndex":1}},{"content":"2. &#x901a;&#x8fc7; cli &#x547d;&#x540d;&#x884c;&#x53c2;&#x6570;&#x914d;&#x7f6e;&#x3002;","children":[],"payload":{"tag":"li","lines":"58,60","listIndex":2}}],"payload":{"tag":"h4","lines":"55,56"}},{"content":"&#x5355;&#x72ec;&#x751f;&#x6210;&#x914d;&#x7f6e;&#x6587;&#x4ef6;","children":[{"content":"<pre data-lines=\"62,65\"><code class=\"language-plain\">jest --init\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"62,65"}},{"content":"<pre data-lines=\"66,69\"><code data-lines=\"66,69\">&#x6267;&#x884c;&#x8be5;&#x547d;&#x4ee4;&#xff0c;&#x53ef;&#x4ee5;&#x751f;&#x6210;jest.config.js&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#xff0c;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x5bf9;&#x5176;&#x4e2d;&#x7684;&#x4e00;&#x4e9b;&#x5c5e;&#x6027;&#x8fdb;&#x884c;&#x5168;&#x5c40;&#x4fee;&#x6539;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"66,69"}}],"payload":{"tag":"h4","lines":"60,61"}},{"content":"&#x4f7f;&#x7528; CLI&#x9009;&#x9879;","children":[{"content":"<pre data-lines=\"71,74\"><code data-lines=\"71,74\">&#x5373;&#x9664;&#x4e86;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x53bb;&#x914d;&#x7f6e;&#x76f8;&#x5173;&#x5c5e;&#x6027;&#x5916;&#xff0c;&#x6211;&#x4eec;&#x4e5f;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x5728;&#x6267;&#x884c;&#x547d;&#x4ee4;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x6307;&#x5b9a;&#x76f8;&#x5173;&#x53c2;&#x6570;&#x3002;&#x4f8b;&#x5982;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"71,74"}},{"content":"<pre data-lines=\"74,77\"><code class=\"language-plain\">npx jest 01/demo.test.js --watchAll // &#x6d4b;&#x8bd5;&#x6307;&#x5b9a;&#x6587;&#x4ef6;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"74,77"}},{"content":"<pre data-lines=\"77,80\"><code data-lines=\"77,80\">&#x8fd9;&#x91cc;&#x6211;&#x4eec;&#x8bf4;&#x660e;&#x4e00;&#x4e0b;&#xff1a;-watchAll &#x5c5e;&#x6027;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"77,80"}},{"content":"<pre data-lines=\"80,84\"><code class=\"language-plain\">jest --watchAll // &#x76f4;&#x63a5;&#x76d1;&#x89c6;&#x6240;&#x6709;&#x6587;&#x4ef6;\njest --watch // &#x9700;&#x8981;&#x548c;git&#x914d;&#x5408;&#x4f7f;&#x7528;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#x53ea;&#x4f1a;&#x76d1;&#x89c6;git&#x4e2d;&#x5df2;&#x4fee;&#x6539;&#x4e14;&#x672a;&#x6dfb;&#x52a0;&#x5230;&#x6682;&#x5b58;&#x533a;&#x7684;&#x6587;&#x4ef6;&#xff0c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"80,84"}},{"content":"<pre data-lines=\"84,87\"><code data-lines=\"84,87\">&#x8fd0;&#x884c;&#x7ed3;&#x679c;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"84,87"}},{"content":"<img src=\"https://cdn.nlark.com/yuque/0/2025/webp/191695/1743080465926-d8215390-0b01-4a17-9017-0ce6d7b27e67.webp\" alt>","children":[],"payload":{"tag":"img","lines":"87,88"}},{"content":"<pre data-lines=\"88,91\"><code data-lines=\"88,91\">&#x9664;&#x6b64;&#x4e4b;&#x5916;&#xff0c;&#x8fd8;&#x8981;&#x6ce8;&#x610f;&#x4e00;&#x4e0b;&#xff0c;&#x4e0a;&#x56fe;&#x4e2d;&#x7684;&#x4e00;&#x4e9b;&#x989d;&#x5916;&#x7684;&#x76d1;&#x89c6;&#x9009;&#x9879;&#xff1a; f,o&#x7b49;&#x3002; &#x5176;&#x5b9e;&#x5c31;&#x662f;&#x4e3a;&#x4e86;&#x66f4;&#x5feb;&#x6377;&#x7684;&#x76d1;&#x542c;&#x6587;&#x4ef6;&#x7684;&#x53d8;&#x5316;&#xff0c;&#x5728;&#x5b9e;&#x9645;&#x5f00;&#x53d1;&#x4e2d;&#x65f6;&#x5019;&#x4e4b;&#x540e;&#x5373;&#x53ef;&#x638c;&#x63e1;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"88,91"}}],"payload":{"tag":"h4","lines":"70,71"}}],"payload":{"tag":"h3","lines":"52,53"}},{"content":"&#x4f7f;&#x7528;ES6&#x6a21;&#x5757;","children":[{"content":"<pre data-lines=\"92,121\"><code class=\"language-plain\">&#x9ed8;&#x8ba4;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x5728;.test.js&#x7684;&#x6d4b;&#x8bd5;&#x6587;&#x4ef6;&#x4e2d;&#xff0c;&#x53ea;&#x80fd;&#x901a;&#x8fc7;commonJS&#x89c4;&#x8303;&#x53bb;&#x5f15;&#x5165;&#x8981;&#x6d4b;&#x8bd5;&#x7684;&#x6a21;&#x5757;&#xff0c;&#x5982;&#x679c;&#x6211;&#x4eec;&#x60f3;&#x4f7f;&#x7528;ES6&#x6a21;&#x5757;&#xff0c;&#x5219;&#x9700;&#x8981;&#x989d;&#x5916;&#x505a;&#x4e00;&#x4e9b;&#x914d;&#x7f6e;&#x3002;\n\n1. &#x5b89;&#x88c5;babel&#x76f8;&#x5173;&#x4f9d;&#x8d56;\n\nnpm i babel-jest @babel/core @babel/preset-env --save-dev\n\n\n1. &#x6dfb;&#x52a0;babel.config.js\n\n\n// babel.config.js\nmodule.exports = {\n  presets: [[&apos;@babel/preset-env&apos;, {targets: {node: &apos;current&apos;}}]],\n};\n\n\n&#x7136;&#x540e;&#xff0c;&#x6211;&#x4eec;&#x5c31;&#x53ef;&#x4ee5;&#x5728;.test.js&#x6d4b;&#x8bd5;&#x811a;&#x672c;&#x4e2d;&#x4f7f;&#x7528;ES6&#x6a21;&#x5757;&#x5566;&#x3002;\n\n**Jest &#x7ed3;&#x5408; Babel &#x7684;&#x8fd0;&#x884c;&#x539f;&#x7406;&#xff1a;&#x8fd0;&#x884c;&#x6d4b;&#x8bd5;&#x4e4b;&#x524d;&#xff0c;&#x7ed3;&#x5408; Babel&#xff0c;&#x5148;&#x628a;&#x4f60;&#x7684;&#x4ee3;&#x7801;&#x505a;&#x4e00;&#x6b21;&#x8f6c;&#x5316;&#xff0c;&#x6a21;&#x5757;&#x88ab;&#x8f6c;&#x6362;&#x4e3a;&#x4e86; CommonJS&#xff0c;&#x8fd0;&#x884c;&#x8f6c;&#x6362;&#x4e4b;&#x540e;&#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x4ee3;&#x7801;&#x3002;** &#x5177;&#x4f53;&#x6d41;&#x7a0b;&#x5982;&#x4e0b;&#xff1a;\n\n+ npm run jest\n+ jest\n+ babel-jest\n+ babel-core\n+ babel &#x914d;&#x7f6e;&#x6587;&#x4ef6;\n+ &#x8f6c;&#x6362;&#x4e3a; ES5\n+ &#x6267;&#x884c;&#x8f6c;&#x6362;&#x4e4b;&#x540e;&#x7684;&#x6d4b;&#x8bd5;&#x4ee3;&#x7801;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"92,121"}}],"payload":{"tag":"h3","lines":"91,92"}}],"payload":{"tag":"h2","lines":"4,5"}},{"content":"&#x521d;&#x6b65;&#x4f53;&#x9a8c;","children":[{"content":"<pre data-lines=\"124,129\"><code data-lines=\"124,129\">&#x9996;&#x5148;&#xff0c;&#x6211;&#x4eec;&#x901a;&#x8fc7;&#x4e00;&#x4e2a;&#x7b80;&#x5355;&#x4f8b;&#x5b50;&#x76f4;&#x89c2;&#x7684;&#x611f;&#x53d7;&#x4e00;&#x4e0b;&#xff0c;&#x5982;&#x4f55;&#x53bb;&#x901a;&#x8fc7;Jest&#x5199;&#x5355;&#x5143;&#x6d4b;&#x8bd5;&#x3002;\n\n&#x4f8b;&#x5982;&#xff1a;&#x6211;&#x4eec;&#x5b9a;&#x4e49;&#x4e86;<span class=\"hljs-built_in\">sum</span>&#x548c;<span class=\"hljs-built_in\">subtract</span>&#x4e24;&#x4e2a;&#x51fd;&#x6570;&#xff0c;&#x5982;&#x4f55;&#x7ed9;&#x5b83;&#x4eec;&#x6dfb;&#x52a0;&#x5199;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x5462;&#xff1f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"124,129"}},{"content":"<pre data-lines=\"130,144\"><code class=\"language-plain\">// demo.js\nfunction sum(a, b) {\n  return a + b;\n}\nfunction subtract(a, b) {\n  return a - b;\n}\n\nmodule.exports = {\n  sum,\n  subtract,\n};\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"130,144"}},{"content":"<pre data-lines=\"145,157\"><code class=\"language-plain\">// demo.test.js\nconst { sum, subtract } = require(&quot;./demo&quot;);\n\ntest(&quot;sum: &quot;, () =&gt; {\n  expect(sum(1, 2)).toBe(3);\n});\n\ntest(&quot;subtract: &quot;, () =&gt; {\n  expect(subtract(1, 2)).toBe(-1);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"145,157"}},{"content":"<pre data-lines=\"158,161\"><code data-lines=\"158,161\">&#x6b64;&#x65f6;&#xff0c;&#x8981;&#x6d4b;&#x8bd5;&#x7684;&#x51fd;&#x6570;&#x4ee5;&#x53ca;&#x6d4b;&#x8bd5;&#x811a;&#x672c;&#x90fd;&#x5df2;&#x7ecf;&#x5199;&#x597d;&#xff0c;&#x63a5;&#x4e0b;&#x6765;&#xff0c;&#x6211;&#x4eec;&#x9700;&#x8981;&#x5b89;&#x88c5;<span class=\"hljs-keyword\">jest&#x4f9d;&#x8d56;&#x3002;\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"158,161"}},{"content":"<pre data-lines=\"162,165\"><code class=\"language-plain\">npm i jest --save-dev\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"162,165"}},{"content":"<pre data-lines=\"168,176\"><code class=\"language-plain\">{\n\t &quot;scripts&quot;: {\n    &quot;test&quot;: &quot;jest&quot;\n  },\n  //...\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"168,176"}},{"content":"<pre data-lines=\"177,184\"><code data-lines=\"177,184\">&#x6267;&#x884c; npm <span class=\"hljs-keyword\">run</span> <span class=\"hljs-keyword\">test</span>&#xff0c;&#x6b64;&#x65f6;jest&#x5c31;&#x4f1a;&#x81ea;&#x52a8;&#x53bb;&#x5bfb;&#x627e;&#x5f53;&#x524d;&#x9879;&#x76ee;&#x4e0b;&#x6240;&#x6709;&#x4ee5;.<span class=\"hljs-keyword\">test</span>.js&#x7ed3;&#x5c3e;&#x7684;&#x6587;&#x4ef6;&#xff0c;&#x5e76;&#x4e14;&#x6267;&#x884c;&#x6d4b;&#x8bd5;&#x811a;&#x672c;&#x3002;\n\n&#x6ce8;&#x610f;&#xff1a;`&#x6211;&#x4eec;&#x5728;&#x6d4b;&#x8bd5;&#x811a;&#x672c;&#x4e2d;&#x5e76;&#x6ca1;&#x6709;&#x624b;&#x52a8;&#x53bb;&#x5f15;&#x5165;jest&#xff0c;&#x800c;&#x662f;&#x76f4;&#x63a5;&#x4f7f;&#x7528;<span class=\"hljs-keyword\">test</span>&#xff0c;expect&#x7b49;&#x65b9;&#x6cd5;&#xff0c;&#x8fd9;&#x662f;&#x56e0;&#x4e3a;&#x5728;&#x6267;&#x884c;jest&#x547d;&#x4ee4;&#x65f6;&#xff0c;&#x4f1a;&#x81ea;&#x52a8;&#x5c06;&#x8fd9;&#x4e9b;&#x65b9;&#x6cd5;&#x6ce8;&#x5165;&#x5230;.<span class=\"hljs-keyword\">test</span>.js&#x6587;&#x4ef6;&#x4e2d;&#xff0c;&#x4e0d;&#x9700;&#x8981;&#x6211;&#x4eec;&#x624b;&#x52a8;&#x5f15;&#x5165;`&#x3002;\n\n&#x6b64;&#x65f6;&#xff0c;&#x53ef;&#x80fd;&#x4f1a;&#x6709;&#x7591;&#x95ee;&#xff0c;&#x4e0d;&#x624b;&#x52a8;&#x5f15;&#x5165;&#x4f9d;&#x8d56;&#x5305;&#xff0c;&#x90a3;&#x6211;&#x4eec;&#x8c03;&#x7528;&#x5176;API&#x7684;&#x667a;&#x80fd;&#x63d0;&#x793a;&#x4e0d;&#x5c31;&#x6ca1;&#x6709;&#x5566;&#xff0c;&#x786e;&#x5b9e;&#x6ca1;&#x6709;&#x5566;&#xff0c;&#x8fd9;&#x65f6;&#xff0c;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x5b89;&#x88c5;&#x4e0b;&#x9762;&#x7684;&#x4f9d;&#x8d56;&#x6765;&#x89e3;&#x51b3;&#x667a;&#x80fd;&#x63d0;&#x793a;&#x7684;&#x95ee;&#x9898;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"177,184"}},{"content":"<pre data-lines=\"185,188\"><code class=\"language-plain\">npm i @types/jest --save-dev // &#x6ce8;&#x610f;&#x5fc5;&#x987b;&#x5b89;&#x88c5;&#x5230;&#x9879;&#x76ee;&#x6839;&#x76ee;&#x5f55;&#x4e0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"185,188"}}],"payload":{"tag":"h2","lines":"122,123"}},{"content":"&#x5168;&#x5c40;API","children":[{"content":"jest&#x5bf9;&#x8c61;","children":[{"content":"<pre data-lines=\"192,199\"><code data-lines=\"192,199\">&#x6211;&#x4eec;&#x5b89;&#x88c5;jest&#x4e4b;&#x540e;&#xff0c;&#x6267;&#x884c; jest &#x547d;&#x4ee4;&#xff0c;&#x88ab;&#x6267;&#x884c;&#x7684;&#x6d4b;&#x8bd5;&#x6587;&#x4ef6;&#x4f1a;&#x81ea;&#x52a8;&#x521b;&#x5efa;jest&#x5168;&#x5c40;&#x5bf9;&#x8c61;&#x3002;\n\n&#x5373;`jest` &#x5bf9;&#x8c61;&#x5728;&#x6bcf;&#x4e2a;&#x6d4b;&#x8bd5;&#x6587;&#x4ef6;&#x7684;&#x4f5c;&#x7528;&#x8303;&#x56f4;&#x5185;. `jest` &#x5bf9;&#x8c61;&#x4e2d;&#x7684;&#x65b9;&#x6cd5;&#x5e2e;&#x52a9;&#x521b;&#x5efa;&#x6a21;&#x578b;&#x5e76;&#x8ba9;&#x4f60;&#x63a7;&#x5236;Jest&#x7684;&#x6574;&#x4f53;&#x884c;&#x4e3a;&#x3002; &#x4e5f;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; `import {jest} from &apos;<span class=\"hljs-title\">@jest</span>/globals&apos;`&#x5f15;&#x5165;&#x3002;\n\njest&#x5bf9;&#x8c61;&#x5185;&#x90e8;&#x5c5e;&#x6027;&#xff0c;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x53c2;&#x8003; [&#x5b98;&#x7f51;-jest&#x5bf9;&#x8c61;](https://link.juejin.cn/?<span class=\"hljs-keyword\">target</span><span class=\"hljs-operator\">=</span>https<span class=\"hljs-variable\">%3</span>A<span class=\"hljs-variable\">%2</span>F<span class=\"hljs-variable\">%2</span>Fjestjs.io<span class=\"hljs-variable\">%2</span>Fzh-Hans<span class=\"hljs-variable\">%2</span>Fdocs<span class=\"hljs-variable\">%2</span>Fnext<span class=\"hljs-variable\">%2</span>Fjest-object) &#xff0c;&#x8fd9;&#x91cc;&#x6682;&#x65f6;&#x4e0d;&#x5c55;&#x5f00;&#x8bf4;&#x5566;&#xff0c;&#x540e;&#x9762;&#x6211;&#x4eec;&#x4f1a;&#x6839;&#x636e;&#x5b9e;&#x9645;&#x4f8b;&#x5b50;&#x5bf9;&#x5176;&#x4e2d;&#x4e00;&#x4e9b;&#x5e38;&#x7528;&#x5c5e;&#x6027;&#x8be6;&#x7ec6;&#x8bf4;&#x660e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"192,199"}}],"payload":{"tag":"h3","lines":"191,192"}},{"content":"test&#x51fd;&#x6570;","children":[{"content":"<pre data-lines=\"201,204\"><code data-lines=\"201,204\"><span class=\"hljs-built_in\">test</span>&#x51fd;&#x6570;&#xff0c;&#x662f;&#x5355;&#x5143;&#x6d4b;&#x8bd5;&#x7684;&#x6838;&#x5fc3;&#xff0c;&#x5b83;&#x53ef;&#x4ee5;&#x5e2e;&#x52a9;&#x6211;&#x4eec;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#xff0c;&#x800c;&#x5355;&#x5143;&#x6d4b;&#x8bd5;&#x5c31;&#x662f;&#x7531;&#x4e00;&#x4e2a;&#x4e2a;&#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x6240;&#x7ec4;&#x6210;&#x7684;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"201,204"}},{"content":"<pre data-lines=\"205,210\"><code class=\"language-plain\">test(&apos;&#x5bf9;&#x8981;&#x6d4b;&#x8bd5;&#x7684;&#x529f;&#x80fd;&#x70b9;&#x8bf4;&#x660e;&apos;, () =&gt; {\n   // ...\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"205,210"}}],"payload":{"tag":"h3","lines":"200,201"}},{"content":"expect&#x51fd;&#x6570;","children":[{"content":"<pre data-lines=\"212,215\"><code data-lines=\"212,215\">&#x8fd9;&#x91cc;&#x4f1a;&#x6709;&#x4e00;&#x4e2a;&#x65b0;&#x7684;&#x540d;&#x8bcd;&#xff1a;`&#x65ad;&#x8a00;`&#xff0c;&#x5176;&#x5b9e;&#x5c31;&#x662f;&#x5224;&#x65ad;&#x5b9e;&#x9645;&#x8fd0;&#x884c;&#x7684;&#x7ed3;&#x679c;&#x662f;&#x5426;&#x7b26;&#x5408;&#x6211;&#x4eec;&#x9884;&#x671f;&#x7684;&#x7ed3;&#x679c;&#xff0c;expect&#x51fd;&#x6570;&#xff0c;&#x987e;&#x540d;&#x601d;&#x4e49;&#x671f;&#x671b;&#x7684;&#x610f;&#x601d;&#x3002;&#x65e2;&#x7136;&#x662f;&#x5bf9;&#x5df2;&#x6709;&#x4ee3;&#x7801;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff0c;&#x5176;&#x5b9e;&#x5c31;&#x662f;&#x628a;&#x5b9e;&#x9645;&#x8fd0;&#x884c;&#x7684;&#x7ed3;&#x679c;&#x4e0e;&#x6211;&#x4eec;&#x671f;&#x671b;&#x7684;&#x7ed3;&#x679c;&#x8fdb;&#x884c;&#x6bd4;&#x8f83;&#xff0c;&#x5982;&#x679c;&#x4e00;&#x81f4;&#xff0c;&#x5c31;&#x8bf4;&#x660e;&#x6d4b;&#x8bd5;&#x901a;&#x8fc7;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"212,215"}},{"content":"<pre data-lines=\"216,219\"><code class=\"language-plain\">expect(1).toBe(1);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"216,219"}}],"payload":{"tag":"h3","lines":"211,212"}},{"content":"describe &#x51fd;&#x6570;","children":[{"content":"<pre data-lines=\"221,224\"><code data-lines=\"221,224\">&#x901a;&#x8fc7;<span class=\"hljs-keyword\">test</span>&#x51fd;&#x6570;&#x53ef;&#x4ee5;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x4e2a;&#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#xff0c;&#x90a3;&#x5f53;&#x6211;&#x4eec;&#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x8d8a;&#x6765;&#x8d8a;&#x591a;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x5c31;&#x9700;&#x8981;&#x5bf9;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x8fdb;&#x884c;&#x5206;&#x7c7b;&#x6574;&#x7406;&#xff0c;&#x90a3;&#x8fd9;&#x5c31;&#x662f;<span class=\"hljs-keyword\">describe</span>&#x51fd;&#x6570;&#x7684;&#x4f5c;&#x7528;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"221,224"}},{"content":"<pre data-lines=\"225,244\"><code class=\"language-plain\">describe(&apos;&#x6d4b;&#x8bd5;1&apos;, () =&gt; {\n    test(&apos;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;1-1&apos;, () =&gt; {\n        //...\n    })\n    test(&apos;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;1-2&apos;, () =&gt; {\n        //...\n    })\n})\n\ndescribe(&apos;&#x6d4b;&#x8bd5;2&apos;, () =&gt; {\n    test(&apos;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;2-1&apos;, () =&gt; {\n       //...\n    })\n    test(&apos;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;2-2&apos;, () =&gt; {\n        //...\n    })\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"225,244"}},{"content":"<pre data-lines=\"244,247\"><code data-lines=\"244,247\">&#x5728;&#x5b9e;&#x9645;&#x5f00;&#x53d1;&#x4e2d;&#xff0c;<span class=\"hljs-keyword\">describe</span>&#x548c;<span class=\"hljs-keyword\">test</span>&#x90fd;&#x662f;&#x6211;&#x4eec;&#x7684;&#x5fc5;&#x7528;&#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"244,247"}}],"payload":{"tag":"h3","lines":"220,221"}},{"content":"&#x751f;&#x547d;&#x5468;&#x671f;&#x94a9;&#x5b50;&#x51fd;&#x6570;","children":[{"content":"<pre data-lines=\"248,251\"><code data-lines=\"248,251\">&#x987e;&#x540d;&#x601d;&#x4e49;&#xff0c;&#x5c31;&#x662f;&#x5728;&#x6bcf;&#x4e2a;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x6267;&#x884c;&#x524d;&#x540e;&#xff0c;&#x6211;&#x4eec;&#x4f1a;&#x6709;&#x4e00;&#x4e9b;&#x94a9;&#x5b50;&#x51fd;&#x6570;&#xff0c;&#x4ece;&#x800c;&#x7528;&#x6765;&#x505a;&#x4e00;&#x4e9b;&#x62e6;&#x622a;&#x6027;&#x7684;&#x5de5;&#x4f5c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"248,251"}},{"content":"<pre data-lines=\"251,257\"><code class=\"language-plain\">beforeAll // &#x6240;&#x6709;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x6267;&#x884c;&#x4e4b;&#x524d;&#x6267;&#x884c;&#xff0c;&#x53ea;&#x6267;&#x884c;&#x4e00;&#x6b21;\nbeforeEach  // &#x6bcf;&#x4e2a;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x6267;&#x884c;&#x4e4b;&#x524d;&#x90fd;&#x4f1a;&#x6267;&#x884c;&#xff0c;&#x53ef;&#x80fd;&#x6267;&#x884c;&#x591a;&#x6b21;\nafterEach // &#x6bcf;&#x4e2a;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x6267;&#x884c;&#x4e4b;&#x540e;&#x90fd;&#x4f1a;&#x6267;&#x884c;&#xff0c;&#x53ef;&#x80fd;&#x6267;&#x884c;&#x591a;&#x6b21;\nafterAll // &#x6240;&#x6709;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x6267;&#x884c;&#x4e4b;&#x540e;&#x6267;&#x884c;&#xff0c;&#x53ea;&#x6267;&#x884c;&#x4e00;&#x6b21;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"251,257"}},{"content":"<pre data-lines=\"257,260\"><code data-lines=\"257,260\">&#x9664;&#x6b64;&#xff0c;&#x4e4b;&#x5916;&#xff0c;&#x8fd9;&#x4e9b;&#x94a9;&#x5b50;&#x51fd;&#x6570;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x5728;<span class=\"hljs-built_in\">describe</span>&#x51fd;&#x6570;&#x4e4b;&#x4e2d;&#x4f7f;&#x7528;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"257,260"}},{"content":"<pre data-lines=\"260,280\"><code class=\"language-plain\">// counter.js\nexport default class Counter {\n  constructor() {\n    this.number = 0;\n  }\n  addOne(){\n    this.number += 1;\n  }\n  addTwo(){\n    this.number += 2;\n  }\n  minusOne() {\n    this.number -= 1;\n  }\n  minusTwo() {\n    this.number -= 2;\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"260,280"}},{"content":"<pre data-lines=\"281,339\"><code class=\"language-plain\">// test.counter.js\nimport Counter from &apos;./counter&apos;\n\nlet counter = null;\nbeforeAll(() =&gt; {\n  console.log(&apos;beforeAll&apos;)\n})\nafterAll(() =&gt; {\n  console.log(&apos;afterAll&apos;);\n})\n\nbeforeEach(() =&gt; {\n  console.log(&apos;beforeEach&apos;)\n  counter = new Counter();\n})\nafterEach(() =&gt; {\n  console.log(&apos;afterEach&apos;)\n})\n\ndescribe(&apos;&#x6d4b;&#x8bd5; add &#x76f8;&#x5173;&#x4ee3;&#x7801;&apos;, () =&gt; {\n  beforeAll(() =&gt; {\n    console.log(&apos;beforeAll add test&apos;)\n  })\n  afterAll(() =&gt; {\n    console.log(&apos;afterAll add test&apos;);\n  })\n  beforeEach(() =&gt; {\n    console.log(&apos;beforeEach add test&apos;)\n  })\n  afterEach(() =&gt; {\n    console.log(&apos;afterEach add test&apos;)\n  })\n  test.only(&apos;&#x6d4b;&#x8bd5; Counter &#x4e2d;&#x7684; addOne &#x65b9;&#x6cd5;&apos;, () =&gt; {\n    console.log(&apos;&#x6d4b;&#x8bd5; Counter &#x4e2d;&#x7684; addOne &#x65b9;&#x6cd5;&apos;)\n    counter.addOne();\n    expect(counter.number).toBe(1);\n  })\n  test(&apos;&#x6d4b;&#x8bd5; Counter &#x4e2d;&#x7684; addTwo &#x65b9;&#x6cd5;&apos;, () =&gt; {\n    console.log(&apos;&#x6d4b;&#x8bd5; Counter &#x4e2d;&#x7684; addTwo &#x65b9;&#x6cd5;&apos;)\n    counter.addTwo();\n    expect(counter.number).toBe(2);\n  })\n})\n\ndescribe(&apos;&#x6d4b;&#x8bd5; minus &#x76f8;&#x5173;&#x4ee3;&#x7801;&apos;, () =&gt; {\n  test(&apos;&#x6d4b;&#x8bd5; Counter &#x4e2d;&#x7684; minusOne &#x65b9;&#x6cd5;&apos;, () =&gt; {\n    console.log(&apos;&#x6d4b;&#x8bd5; Counter &#x4e2d;&#x7684; minusOne &#x65b9;&#x6cd5;&apos;);\n    counter.minusOne();\n    expect(counter.number).toBe(-1);\n  })\n  test(&apos;&#x6d4b;&#x8bd5; Counter &#x4e2d;&#x7684; minusTwo &#x65b9;&#x6cd5;&apos;, () =&gt; {\n    console.log(&apos;&#x6d4b;&#x8bd5; Counter &#x4e2d;&#x7684; minusTwo &#x65b9;&#x6cd5;&apos;);\n    counter.minusTwo();\n    expect(counter.number).toBe(-2);\n  })\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"281,339"}},{"content":"<pre data-lines=\"339,342\"><code data-lines=\"339,342\">&#x4ee5;&#x4e0a;&#x4ee3;&#x7801;&#x4e2d;&#x7b2c;&#x4e00;&#x4e2a;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x6267;&#x884c;&#x987a;&#x5e8f;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"339,342"}},{"content":"<img src=\"https://cdn.nlark.com/yuque/0/2025/webp/191695/1743080465953-95091fb1-931d-4d41-ae56-a86ffeb6a691.webp\" alt>","children":[],"payload":{"tag":"img","lines":"342,343"}},{"content":"<pre data-lines=\"343,349\"><code data-lines=\"343,349\">&#x8fd9;&#x91cc;&#x8981;&#x6709;&#x4e24;&#x70b9;&#x9700;&#x8981;&#x989d;&#x5916;&#x6ce8;&#x610f;&#xff1a;\n\n<span class=\"hljs-bullet\">1.</span> &#x5982;&#x679c;&#x6211;&#x4eec;&#x6682;&#x65f6;&#x5e0c;&#x671b;&#x53ea;&#x6267;&#x884c;&#x5f53;&#x524d;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#xff0c;&#x8fd9;&#x65f6;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;test.only()\n<span class=\"hljs-bullet\">2.</span> <span class=\"hljs-code\">`&#x751f;&#x547d;&#x5468;&#x671f;&#x7684;&#x94a9;&#x5b50;&#x51fd;&#x6570;&#x662f;&#x6709;&#x4f5c;&#x7528;&#x57df;&#x7684;`</span>&#xff0c;&#x5373;&#x53ea;&#x5bf9;&#x751f;&#x547d;&#x5468;&#x671f;&#x94a9;&#x5b50;&#x6240;&#x5728;&#x7684;describe&#x5185;&#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x6709;&#x6548;&#x3002;&#x5176;&#x4ed6;describe&#x4e2d;&#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x65e0;&#x6cd5;&#x4f7f;&#x7528;&#x8fd9;&#x4e9b;&#x94a9;&#x5b50;&#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"343,349"}}],"payload":{"tag":"h3","lines":"247,248"}}],"payload":{"tag":"h2","lines":"189,190"}},{"content":"&#x5e38;&#x7528;matcher","children":[{"content":"&#x5e03;&#x5c14;&#x503c;","children":[{"content":"<pre data-lines=\"356,363\"><code data-lines=\"356,363\"><span class=\"hljs-bullet\">+</span> toBeNull\n<span class=\"hljs-bullet\">+</span> toBeDefined\n<span class=\"hljs-bullet\">+</span> toBeUndefined\n<span class=\"hljs-bullet\">+</span> toBeTruthy\n<span class=\"hljs-bullet\">+</span> toBeFalsy\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"356,363"}},{"content":"<pre data-lines=\"363,373\"><code class=\"language-plain\">test(&apos;null&apos;, () =&gt; {\n  const n = null;\n  expect(n).toBeNull();\n  expect(n).toBeDefined();\n  expect(n).not.toBeUndefined();\n  expect(n).not.toBeTruthy();\n  expect(n).toBeFalsy();\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"363,373"}}],"payload":{"tag":"h3","lines":"355,356"}},{"content":"&#x5b57;&#x7b26;&#x4e32;","children":[{"content":"<pre data-lines=\"375,378\"><code data-lines=\"375,378\">+ <span class=\"hljs-function\"><span class=\"hljs-title\">toMatch</span>()</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"375,378"}},{"content":"<pre data-lines=\"378,383\"><code class=\"language-plain\">test(&apos;&#x6d4b;&#x8bd5;&#x5b57;&#x7b26;&#x4e32;&apos;, () =&gt; {\n  expect(&apos;hello world&apos;).toMatch(/world/);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"378,383"}}],"payload":{"tag":"h3","lines":"374,375"}},{"content":"&#x6570;&#x503c;","children":[{"content":"<pre data-lines=\"385,394\"><code data-lines=\"385,394\"><span class=\"hljs-bullet\">+</span> toBe\n<span class=\"hljs-bullet\">+</span> toEqual&#xff1a;&#x7b49;&#x4e8e;\n<span class=\"hljs-bullet\">+</span> toBeGreaterThan&#xff1a;&#x5927;&#x4e8e;\n<span class=\"hljs-bullet\">+</span> toBeGreaterThanOrEqual&#xff1a;&#x5927;&#x4e8e;&#x7b49;&#x4e8e;\n<span class=\"hljs-bullet\">+</span> toBeLessThan&#xff1a;&#x5c0f;&#x4e8e;\n<span class=\"hljs-bullet\">+</span> toBeLessThanOrEqual&#xff1a;&#x5c0f;&#x4e8e;&#x7b49;&#x4e8e;\n<span class=\"hljs-bullet\">+</span> toBeCloseTo&#xff1a;&#x6d6e;&#x70b9;&#x6570;&#x6bd4;&#x8f83;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"385,394"}},{"content":"<pre data-lines=\"394,406\"><code class=\"language-plain\">test(&apos;&#x6d4b;&#x8bd5;&#x6570;&#x503c;&apos;, () =&gt; {\n  const value = 4;\n  expect(value).toBeGreaterThan(3);\n  expect(value).toBeGreaterThanOrEqual(4);\n  expect(value).toBeLessThan(5);\n  expect(value).toBeLessThanOrEqual(5);\n  expect(value).toBe(4);\n  expect(value).toEqual(4);\n  expect(0.1 + 0.2).toBeCloseTo(0.3);\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"394,406"}}],"payload":{"tag":"h3","lines":"384,385"}},{"content":"&#x6570;&#x7ec4;&#x548c;&#x96c6;&#x5408;","children":[{"content":"<pre data-lines=\"408,411\"><code data-lines=\"408,411\"><span class=\"hljs-bullet\">+</span> toContain\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"408,411"}},{"content":"<pre data-lines=\"411,418\"><code class=\"language-plain\">test(&apos;&#x6d4b;&#x8bd5;&#x6570;&#x7ec4;&#x548c;&#x96c6;&#x5408;&apos;, () =&gt; {\n  const arr = [&apos;kobe&apos;, &apos;james&apos;, &apos;durant&apos;]\n  expect(arr).toContain(&apos;kobe&apos;);\n  expect(new Set(arr)).toContain(&apos;kobe&apos;);\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"411,418"}}],"payload":{"tag":"h3","lines":"407,408"}},{"content":"&#x5f02;&#x5e38;","children":[{"content":"<pre data-lines=\"420,423\"><code data-lines=\"420,423\"><span class=\"hljs-bullet\">+</span> toThrow\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"420,423"}},{"content":"<pre data-lines=\"423,431\"><code class=\"language-plain\">test(&apos;&#x6d4b;&#x8bd5;&#x5f02;&#x5e38;&apos;, () =&gt; {\n  expect(() =&gt; fn()).toThrow();\n  expect(() =&gt; fn()).toThrow(Error);\n  expect(() =&gt; fn()).toThrow(&apos;this is a error&apos;);\n  expect(() =&gt; fn()).toThrow(/error/);\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"423,431"}},{"content":"<pre data-lines=\"431,434\"><code data-lines=\"431,434\">&#x4ee5;&#x4e0a;&#x662f;&#x4e00;&#x4e9b;&#x5e38;&#x7528;&#x5339;&#x914d;&#x5668;&#xff0c;&#x66f4;&#x591a;&#x7684;&#x5339;&#x914d;&#x5668;&#xff0c;&#x53ef;&#x4ee5;&#x53c2;&#x8003;&#xff1a;[&#x5b98;&#x7f51;-&#x5339;&#x914d;&#x5668;](https://link.juejin.cn/?<span class=\"hljs-keyword\">target</span><span class=\"hljs-operator\">=</span>https<span class=\"hljs-variable\">%3</span>A<span class=\"hljs-variable\">%2</span>F<span class=\"hljs-variable\">%2</span>Fwww.jestjs.cn<span class=\"hljs-variable\">%2</span>Fdocs<span class=\"hljs-variable\">%2</span>Fexpect)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"431,434"}}],"payload":{"tag":"h3","lines":"419,420"}}],"payload":{"tag":"h2","lines":"349,350"}},{"content":"&#x6d4b;&#x8bd5;&#x5f02;&#x6b65;&#x4ee3;&#x7801;","children":[{"content":"&#x5f00;&#x59cb;","children":[{"content":"<pre data-lines=\"436,444\"><code data-lines=\"436,444\">&#x4e4b;&#x524d;&#x5728;&#x521d;&#x6b65;&#x4f53;&#x9a8c;&#x4e2d;&#xff0c;&#x88ab;&#x6d4b;&#x51fd;&#x6570;&#x662f;&#x4e00;&#x4e2a;&#x7b80;&#x5355;&#x7684;&#x540c;&#x6b65;&#x51fd;&#x6570;&#xff0c;&#x6709;&#x660e;&#x786e;&#x7684;&#x8f93;&#x5165;&#x548c;&#x8f93;&#x51fa;&#xff0c;&#x8fd9;&#x79cd;&#x6211;&#x4eec;&#x5199;&#x8d77;&#x6765;&#x5f88;&#x7b80;&#x5355;&#xff0c;&#x4f46;&#x662f;&#x5728;&#x5e73;&#x65f6;&#x5f00;&#x53d1;&#x4e2d;&#xff0c;&#x5f88;&#x663e;&#x7136;&#x4e0d;&#x53ef;&#x80fd;&#x8fd9;&#x4e48;&#x7b80;&#x5355;&#xff0c;&#x5176;&#x4e2d;&#x4e5f;&#x80af;&#x5b9a;&#x4f1a;&#x9047;&#x5230;&#x5404;&#x79cd;&#x5f02;&#x6b65;&#x4ee3;&#x7801;&#xff0c;&#x4f8b;&#x5982;&#xff1a;&#x5b9a;&#x65f6;&#x5668;&#xff0c;ajax&#x8bf7;&#x6c42;&#x7b49;&#xff0c;\n\n&#x90a3;&#x5982;&#x4f55;&#x6d4b;&#x8bd5;&#x5f02;&#x6b65;&#x4ee3;&#x7801;&#x5462;&#xff1f;&#x8fd9;&#x91cc;&#x6211;&#x4eec;&#x5206;&#x4e3a;&#x4e24;&#x79cd;&#x60c5;&#x51b5;&#xff1a;\n\n<span class=\"hljs-bullet\">1.</span> callback&#x5f62;&#x5f0f;&#x7684;&#x5f02;&#x6b65;&#x4ee3;&#x7801;\n<span class=\"hljs-bullet\">2.</span> promise&#x5f62;&#x5f0f;&#x7684;&#x5f02;&#x6b65;&#x4ee3;&#x7801;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"436,444"}}],"payload":{"tag":"h3","lines":"435,436"}},{"content":"callback","children":[{"content":"<pre data-lines=\"445,448\"><code data-lines=\"445,448\"><span class=\"hljs-bullet\">1.</span> &#x9996;&#x5148;&#x6211;&#x4eec;&#x6765;&#x770b;&#x4e00;&#x4e0b;&#xff0c;&#x901a;&#x8fc7;callback&#x56de;&#x8c03;&#x7684;&#x65b9;&#x5f0f;&#x6267;&#x884c;&#x7684;&#x5f02;&#x6b65;&#x4ee3;&#x7801;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"445,448"}},{"content":"<pre data-lines=\"448,475\"><code class=\"language-plain\">// fetchData.js\nimport axios from &apos;axios&apos;;\nexport const fetchData = (fn) =&gt; {\n  return axios.get(&apos;http://www.dell-lee.com/react/api/demo1.json&apos;).then(response =&gt; {\n    fn(response.data)\n  })\n}\n\n// fetchData.test.js\nimport {fetchData} from &apos;./fetchData&apos;;\n\n// &#x9519;&#x8bef;&#x5199;&#x6cd5;&#xff1a;&#x8fd9;&#x4e2a;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x4e0d;&#x7ba1;&#x63a5;&#x53e3;&#x6709;&#x6ca1;&#x6709;&#x62a5;&#x9519;&#x90fd;&#x4f1a;&#x6b63;&#x5e38;&#x901a;&#x8fc7;&#xff0c;&#x56e0;&#x4e3a;&#x4f20;&#x5165;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x672c;&#x8eab;&#x5c31;&#x6ca1;&#x6709;&#x6267;&#x884c;&#x3002;\ntest(&apos;fetchData &#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x4e3a; {success: true}&apos;, () =&gt; {\n  fetchData((data) =&gt; {\n    expect(data).toEqual({success: true});\n  })\n})\n\n// &#x6b63;&#x786e;&#x5199;&#x6cd5;&#xff1a;&#x9700;&#x8981;&#x5728;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x4e2d;&#x624b;&#x52a8;&#x8c03;&#x7528;done()&#xff0c;&#x8868;&#x793a;&#x8be5;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x6267;&#x884c;&#x4ee5;&#x540e;&#xff0c;&#x7528;&#x4f8b;&#x624d;&#x7b97;&#x901a;&#x8fc7;&#x3002;\ntest(&apos;fetchData &#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x4e3a; {success: true}&apos;, (done) =&gt; {\n  fetchData((data) =&gt; {\n    expect(data).toEqual({success: true});\n    done();\n  })\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"448,475"}},{"content":"<pre data-lines=\"475,478\"><code data-lines=\"475,478\">&#x603b;&#x7ed3;&#xff1a; `&#x6838;&#x5fc3;&#x5c31;&#x662f;&#x9700;&#x8981;&#x7ed9;test&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x53c2;&#x6570;&#x4f20;&#x5165;done&#xff0c; &#x7136;&#x540e;&#x624b;&#x52a8;&#x6267;&#x884c;&#x3002;`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"475,478"}}],"payload":{"tag":"h3","lines":"444,445"}},{"content":"Promise","children":[{"content":"<pre data-lines=\"479,482\"><code data-lines=\"479,482\"><span class=\"hljs-number\">1.</span> &#x6211;&#x4eec;&#x5728;&#x6765;&#x770b;&#x4e00;&#x4e0b;&#xff0c;&#x901a;&#x8fc7;promise&#x7684;&#x65b9;&#x5f0f;&#x6267;&#x884c;&#x7684;&#x5f02;&#x6b65;&#x4ee3;&#x7801;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"479,482"}},{"content":"<pre data-lines=\"482,526\"><code class=\"language-plain\">// fetchData.js\nimport axios from &apos;axios&apos;;\nexport const fetchData = (fn) =&gt; {\n  return axios.get(&apos;http://www.dell-lee.com/react/api/demo1.json&apos;);\n}\n\n// &#x5199;&#x6cd5;1: &#x5728;then&#x6216;&#x8005;catch&#x56de;&#x8c03;&#x51fd;&#x6570;&#x4e2d;&#x8fdb;&#x884c;&#x65ad;&#x8a00;&#xff0c;&#x6ce8;&#x610f;&#x4e00;&#x5b9a;&#x8981;return&#x3002;\ntest(&apos;fetchData &#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x4e3a; {success: true}&apos;, () =&gt; {\n  return fetchData().then((resp) =&gt; {\n    expect(resp.data).toEqual({success: true});\n  })\n})\ntest(&apos;fetchData &#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x4e3a; 404&apos;, () =&gt; {\n  return fetchData().catch((e) =&gt; {\n    expect(e.toString().indexOf(&apos;404&apos;) &gt; -1).toBe(true);\n  })\n})\n\n// &#x5199;&#x6cd5;2: &#x4f7f;&#x7528;await/try...catch \ntest(&apos;fetchData &#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x4e3a; {success: true}&apos;, async () =&gt; {\n  const resp = await fetchData();\n  expect(resp.data).toEqual({success: true});\n})\ntest(&apos;fetchData &#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x4e3a; 404&apos;, async () =&gt; {\n  try {\n    const resp = await fetchData();\n  } catch(e) {\n    expect(e.toString().indexOf(&apos;404&apos;) &gt; -1).toBe(true);\n  }\n})\n\n// &#x5199;&#x6cd5;3: &#x4f7f;&#x7528;jest&#x81ea;&#x5e26;&#x5c5e;&#x6027;&#xff1a;resolves&#x548c;rejests\ntest(&apos;fetchData &#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x4e3a; {success: true}&apos;, () =&gt; {\n  return expect(fetchData()).resolves.toMatchObject({\n    data: {\n      success: true\n    }\n  })\n})\ntest(&apos;fetchData &#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x4e3a; 404&apos;, () =&gt; {\n  return expect(fetchData()).rejects.toThrow();\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"482,526"}},{"content":"<pre data-lines=\"526,533\"><code data-lines=\"526,533\">&#x603b;&#x7ed3;&#xff1a;\n\n<span class=\"hljs-number\">1.</span> &#x4f7f;&#x7528;&#x7b2c;&#x4e00;&#x79cd;&#x5199;&#x6cd5;&#xff0c;&#x5728;then&#x6216;&#x8005;<span class=\"hljs-keyword\">catch</span>&#x56de;&#x8c03;&#x51fd;&#x6570;&#x4e2d;&#x8fdb;&#x884c;&#x65ad;&#x8a00;&#x65f6;&#xff0c;&#x4e00;&#x5b9a;&#x8981;&#x6ce8;&#x610f;<span class=\"hljs-keyword\">return</span>&#x3002;\n<span class=\"hljs-number\">2.</span> &#x4f7f;&#x7528;&#x7b2c;&#x4e8c;&#x79cd;&#x5199;&#x6cd5;&#xff0c;&#x6b63;&#x5e38;&#x60c5;&#x51b5;&#x5f88;&#x7b80;&#x6d01;&#xff0c;&#x4f46;&#x662f;&#x5f02;&#x5e38;&#x60c5;&#x51b5;&#xff0c;&#x9700;&#x8981;&#x624b;&#x52a8;&#x8fdb;&#x884c;<span class=\"hljs-keyword\">try</span>...<span class=\"hljs-keyword\">catch</span>&#x3002;\n<span class=\"hljs-number\">3.</span> &#x4f7f;&#x7528;&#x7b2c;&#x4e09;&#x79cd;&#x5199;&#x6cd5;&#xff1a;&#x5199;&#x6cd5;&#x6bd4;&#x8f83;&#x7b80;&#x6d01;&#xff0c;&#x4f46;&#x662f;&#x9700;&#x8981;&#x719f;&#x7ec3;jest&#x81ea;&#x5e26;&#x8fd9;&#x4e9b;&#x5c5e;&#x6027;&#x7684;&#x7528;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"526,533"}}],"payload":{"tag":"h3","lines":"478,479"}}],"payload":{"tag":"h2","lines":"434,435"}},{"content":"Mock","children":[{"content":"Mock&#x5b9a;&#x65f6;&#x5668;","children":[{"content":"&#x8ba4;&#x8bc6;","children":[{"content":"<pre data-lines=\"536,544\"><code data-lines=\"536,544\">&#x5728;&#x5b9e;&#x9645;&#x5199;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x5982;&#x679c;&#x6709;&#x4e00;&#x4e9b;&#x6bd4;&#x8f83;&#x8017;&#x65f6;&#x7684;&#x4ee3;&#x7801;&#xff0c;&#x6bd4;&#x5982;&#x5b9a;&#x65f6;&#x5668;&#xff0c;&#x5728;&#x5bf9;&#x8fd9;&#x4e9b;&#x4ee3;&#x7801;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x5176;&#x5b9e;&#x6ca1;&#x5fc5;&#x8981;&#x6309;&#x7167;&#x5b9e;&#x9645;&#x8bbe;&#x5b9a;&#x7684;&#x65f6;&#x95f4;&#x8fdb;&#x884c;&#x8fd0;&#x884c;&#xff0c;&#x56e0;&#x6b64;&#xff0c;&#x53ef;&#x4ee5;&#x5bf9;&#x5b9a;&#x65f6;&#x5668;&#x8fdb;&#x884c;Mock&#x3002;\n\n&#x5982;&#x679c;&#x60f3;&#x4f7f;&#x7528;mock&#x5b9a;&#x65f6;&#x5668;&#xff0c;&#x5c31;&#x5fc5;&#x987b;&#x8981;&#x5728;&#x6587;&#x4ef6;&#x5934;&#x90e8;&#x58f0;&#x660e;&#xff1a;<span class=\"hljs-keyword\">jest.useFakeTimers()&#xff0c;&#x58f0;&#x660e;&#x5b8c;&#x4e4b;&#x540e;&#xff0c;&#x8fd8;&#x9700;&#x8981;&#x6211;&#x4eec;&#x53bb;&#x8c03;&#x7528;&#x4e00;&#x4e9b;API&#x53bb;mock&#x5b9a;&#x65f6;&#x5668;&#x5df2;&#x7ecf;&#x5feb;&#x901f;&#x6267;&#x884c;&#x5b8c;&#xff0c;&#x5982;&#x4f55;mock&#x5b9a;&#x65f6;&#x5668;&#x7684;&#x6267;&#x884c;&#x5462;&#xff1f;\n</span>\n<span class=\"hljs-number\">1</span>. &#x4f7f;&#x7528; <span class=\"hljs-keyword\">jest.runAllTimers </span>&#x4e0e; <span class=\"hljs-keyword\">jest.runOnlyPendingTimers() </span>&#x8868;&#x793a;&#x5feb;&#x901f;&#x6267;&#x884c;&#x6240;&#x6709;&#x5b9a;&#x65f6;&#x5668;&#x6216;&#x8005;&#x5904;&#x4e8e;&#x6d88;&#x606f;&#x961f;&#x5217;&#x4e2d;&#x7684;&#x5b9a;&#x65f6;&#x5668;&#x3002;\n<span class=\"hljs-number\">2</span>. &#x4f7f;&#x7528;<span class=\"hljs-keyword\">jest.advanceTimersByTime() </span>&#x8868;&#x793a;&#x5feb;&#x8fdb;&#x591a;&#x957f;&#x65f6;&#x95f4;&#x6267;&#x884c;&#xff0c;&#x6bd4;&#x5982;&#x5b9a;&#x65f6;&#x5668;&#x8bbe;&#x7f6e;&#x4e86;<span class=\"hljs-number\">3</span>s&#x540e;&#x6267;&#x884c;&#xff0c;&#x6211;&#x4eec;&#x5c31;&#x53ef;&#x4ee5;&#x8c03;&#x7528;&#x8be5;&#x65b9;&#x6cd5;&#xff0c;&#x4f20;&#x5165;<span class=\"hljs-number\">3</span>s&#xff0c;&#x5c31;&#x8868;&#x793a;&#x5b9a;&#x65f6;&#x5668;&#x7acb;&#x5373;&#x6267;&#x884c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"536,544"}}],"payload":{"tag":"h4","lines":"535,536"}},{"content":"jest.runAllTimers()","children":[{"content":"<pre data-lines=\"545,548\"><code data-lines=\"545,548\">&#x4f8b;&#x5982;&#xff1a;&#x6d4b;&#x8bd5;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"545,548"}},{"content":"<pre data-lines=\"548,559\"><code class=\"language-plain\">// index.js\nexport const getData = (callback) =&gt; {\n  setTimeout(() =&gt; {\n    callback({\n      name: &apos;kobe&apos;\n    })\n  },3000)\n}\nexport default getData;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"548,559"}},{"content":"<pre data-lines=\"559,562\"><code data-lines=\"559,562\">&#x4e8e;&#x662f;&#xff0c;&#x6211;&#x4eec;&#x5f88;&#x5bb9;&#x6613;&#x5199;&#x51fa;&#x5982;&#x4e0b;&#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"559,562"}},{"content":"<pre data-lines=\"562,572\"><code class=\"language-plain\">import {getData} from &apos;./index&apos;;\n\ntest(&apos;&#x6d4b;&#x8bd5; getData&apos;, (done) =&gt; {\n  getData((data) =&gt; {\n    expect(data).toEqual({name: &apos;kobe&apos;});\n    done();\n  })\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"562,572"}},{"content":"<pre data-lines=\"572,577\"><code data-lines=\"572,577\">&#x4ee5;&#x4e0a;&#x5199;&#x6cd5;&#x662f;&#x5b8c;&#x5168;&#x53ef;&#x4ee5;&#x6b63;&#x5e38;&#x8fd0;&#x884c;&#x7684;&#xff0c;&#x4f46;&#x662f;&#x6709;&#x4e00;&#x4e2a;&#x95ee;&#x9898;&#x5c31;&#x662f;&#x5b83;&#x662f;&#x6309;&#x7167;&#x5b9e;&#x9645;&#x5b9a;&#x65f6;&#x5668;&#x8bbe;&#x7f6e;&#x7684;&#x65f6;&#x95f4;&#x53bb;&#x6267;&#x884c;&#x7684;&#xff0c;&#x4e5f;&#x5c31;&#x610f;&#x5473;&#x7740;&#x6211;&#x4eec;&#x9700;&#x8981;&#x7b49;3000&#x6beb;&#x79d2;&#xff0c;&#x56e0;&#x6b64;&#x4e5f;&#x5c31;&#x51fa;&#x73b0;&#x4e86;mock&#x5b9a;&#x65f6;&#x5668;&#xff0c;&#x8fd9;&#x6837;&#x6211;&#x4eec;&#x5c31;&#x53ef;&#x4ee5;&#x4e0d;&#x7528;&#x6309;&#x7167;&#x5b9e;&#x9645;&#x5b9a;&#x65f6;&#x5668;&#x8bbe;&#x7f6e;&#x7684;&#x65f6;&#x95f4;&#x6267;&#x884c;&#x5566;&#x3002;\n\n&#x90a3;&#x5982;&#x4f55;mock&#x5b9a;&#x65f6;&#x5668;&#x5462;&#xff1f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"572,577"}},{"content":"<pre data-lines=\"577,589\"><code class=\"language-plain\">import {getData} from &apos;./index&apos;;\n\njest.useFakeTimers();\n\ntest(&apos;&#x6d4b;&#x8bd5; getData&apos;, () =&gt; {\n  const fn = jest.fn();\n  getData(fn);\n  jest.runAllTimers();\n  expect(fn).toHaveBeenCalledTimes(1);\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"577,589"}},{"content":"<pre data-lines=\"589,592\"><code data-lines=\"589,592\">**&#x6ce8;&#x610f;&#xff1a;&#x9700;&#x8981;<span class=\"hljs-keyword\">jest.useFakeTimers() </span>&#x548c; <span class=\"hljs-keyword\">jest.runAllTimers()&#x642d;&#x914d;&#x4f7f;&#x7528;&#xff0c;&#x524d;&#x8005;&#x8868;&#x793a;&#x5f53;&#x524d;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x4f7f;&#x7528;&#x7684;&#x90fd;&#x662f;mock&#x5b9a;&#x65f6;&#x5668;&#xff0c;&#x540e;&#x8005;&#x8868;&#x793a;&#x6267;&#x884c;&#x6240;&#x6709;&#x7684;&#x5b9a;&#x65f6;&#x5668;&#x3002;**\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"589,592"}}],"payload":{"tag":"h4","lines":"544,545"}},{"content":"jest.advanceTimersByTime() - &#x63a8;&#x8350;","children":[{"content":"<pre data-lines=\"593,596\"><code data-lines=\"593,596\">&#x6211;&#x4eec;&#x66f4;&#x63a8;&#x8350;&#x4f7f;&#x7528;&#x8fd9;&#x4e2a;API&#x53bb;mock&#x5b9a;&#x65f6;&#x5668;&#x3002;&#x90a3;&#x6211;&#x4eec;&#x57fa;&#x4e8e;&#x4e0a;&#x9762;&#x7684;&#x4f8b;&#x5b50;&#x8fdb;&#x4e00;&#x6b65;&#x4f53;&#x4f1a;&#x4e00;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"593,596"}},{"content":"<pre data-lines=\"596,608\"><code class=\"language-plain\">// index.js &#x5d4c;&#x5957;&#x4e86;&#x4e24;&#x4e2a;&#x5b9a;&#x65f6;&#x5668;\nexport const getData = (callback) =&gt; {\n  setTimeout(() =&gt; {\n    callback();\n    setTimeout(() =&gt; {\n      callback();\n    }, 3000)\n  },3000)\n}\nexport default getData;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"596,608"}},{"content":"<pre data-lines=\"608,611\"><code data-lines=\"608,611\">&#x6211;&#x4eec; &#x5982;&#x679c;&#x4f9d;&#x7136;&#x91c7;&#x7528; <span class=\"hljs-keyword\">jest.runAllTimers </span>&#xff0c;&#x5219;&#x4f1a;&#x5199;&#x51fa;&#x5982;&#x4e0b;&#x4ee3;&#x7801;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"608,611"}},{"content":"<pre data-lines=\"611,623\"><code class=\"language-plain\">import {getData} from &apos;./index&apos;;\n\njest.useFakeTimers();\n\ntest(&apos;&#x6d4b;&#x8bd5; getData&apos;, () =&gt; {\n  const fn = jest.fn();\n  getData(fn);\n  jest.runAllTimers();\n  expect(fn).toHaveBeenCalledTimes(2); // &#x5f88;&#x663e;&#x7136;&#x6267;&#x884c;&#x4e86;&#x4e24;&#x6b21;\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"611,623"}},{"content":"<pre data-lines=\"623,626\"><code data-lines=\"623,626\">&#x6216;&#x8005;&#x4e5f;&#x53ef;&#x4ee5;&#x91c7;&#x7528; <span class=\"hljs-keyword\">jest.runOnlyPendingTimers&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"623,626"}},{"content":"<pre data-lines=\"626,638\"><code class=\"language-plain\">import {getData} from &apos;./index&apos;;\n\njest.useFakeTimers();\n\ntest(&apos;&#x6d4b;&#x8bd5; getData&apos;, () =&gt; {\n  const fn = jest.fn();\n  getData(fn);\n  jest.runOnlyPendingTimers();\n  expect(fn).toHaveBeenCalledTimes(1); // &#x5f88;&#x663e;&#x7136;&#x6b64;&#x65f6;&#x53ea;&#x6267;&#x884c;&#x4e86;&#x4e00;&#x6b21;\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"626,638"}},{"content":"<pre data-lines=\"638,641\"><code data-lines=\"638,641\">&#x90a3;&#x6211;&#x4eec;&#x5982;&#x679c;&#x91c7;&#x7528;<span class=\"hljs-keyword\">jest.advanceTimersByTime&#xff0c;&#x4ee3;&#x7801;&#x5982;&#x4e0b;&#xff1a;\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"638,641"}},{"content":"<pre data-lines=\"641,655\"><code class=\"language-plain\">import {getData} from &apos;./index&apos;;\n\njest.useFakeTimers();\n\ntest(&apos;&#x6d4b;&#x8bd5; getData&apos;, () =&gt; {\n  const fn = jest.fn();\n  getData(fn);\n  jest.advanceTimersByTime(3000)\n  expect(fn).toHaveBeenCalledTimes(1); // &#x5feb;&#x8fdb;3s&#xff0c;&#x6267;&#x884c;&#x7b2c;&#x4e00;&#x4e2a;&#x5b9a;&#x65f6;&#x5668;&#x7684;&#x56de;&#x8c03;\n  jest.advanceTimersByTime(3000)\n  expect(fn).toHaveBeenCalledTimes(2); // &#x518d;&#x5feb;&#x8fdb;3s&#xff0c;&#x6267;&#x884c;&#x7b2c;&#x4e8c;&#x4e2a;&#x5b9a;&#x65f6;&#x5668;&#x7684;&#x56de;&#x8c03;\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"641,655"}},{"content":"<pre data-lines=\"655,658\"><code data-lines=\"655,658\">&#x4f46;&#x662f; <span class=\"hljs-keyword\">jest.advanceTimersByTime() </span>&#x6709;&#x4e00;&#x4e2a;&#x4ec0;&#x4e48;&#x95ee;&#x9898;&#x5462;&#xff1f; &#x6bcf;&#x6b21;&#x8c03;&#x7528;&#x8be5;API&#x90fd;&#x662f;&#x5728;&#x4e0a;&#x4e00;&#x6b65;&#x5feb;&#x8fdb;&#x65f6;&#x95f4;&#x7684;&#x57fa;&#x7840;&#x4e0a;&#x8fdb;&#x884c;&#x5feb;&#x8fdb;&#x3002;&#x591a;&#x4e2a;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x4e4b;&#x95f4;&#x4e5f;&#x662f;&#x8fd9;&#x6837;&#xff0c;&#x90a3;&#x5982;&#x4f55;&#x89e3;&#x51b3;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x4e4b;&#x95f4;&#x7684;&#x76f8;&#x4e92;&#x5f71;&#x54cd;&#x5462;&#xff1f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"655,658"}},{"content":"<pre data-lines=\"658,675\"><code class=\"language-plain\">import {getData} from &apos;./index&apos;;\n\n// &#x5373;&#x6bcf;&#x4e2a;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x90fd;&#x4f7f;&#x7528;&#x4e00;&#x4e2a;mock&#x5b9a;&#x65f6;&#x5668;&#xff0c;&#x4fdd;&#x8bc1;&#x4e0d;&#x4f1a;&#x76f8;&#x4e92;&#x5f71;&#x54cd;&#x3002;\nbeforeEach(() =&gt; {\n  jest.useFakeTimers();\n})\n\ntest(&apos;&#x6d4b;&#x8bd5; getData&apos;, () =&gt; {\n  const fn = jest.fn();\n  getData(fn);\n  jest.advanceTimersByTime(3000)\n  expect(fn).toHaveBeenCalledTimes(1);\n  jest.advanceTimersByTime(3000)\n  expect(fn).toHaveBeenCalledTimes(2);\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"658,675"}}],"payload":{"tag":"h4","lines":"592,593"}}],"payload":{"tag":"h3","lines":"534,535"}},{"content":"Mock&#x51fd;&#x6570;","children":[{"content":"&#x5f00;&#x59cb;","children":[{"content":"<pre data-lines=\"679,684\"><code data-lines=\"679,684\">&#x5728;&#x5b9e;&#x9645;&#x7684;&#x5f00;&#x53d1;&#x4e2d;&#xff0c;&#x88ab;&#x6d4b;&#x8bd5;&#x4ee3;&#x7801;&#x5f88;&#x53ef;&#x80fd;&#x4e0d;&#x662f;&#x4e00;&#x4e2a;&#x7b80;&#x5355;&#x7684;&#x6709;&#x660e;&#x786e;&#x8f93;&#x5165;&#x8f93;&#x51fa;&#x5173;&#x7cfb;&#x7684;&#x4ee3;&#x7801;&#xff0c;&#x90a3;&#x5f88;&#x53ef;&#x80fd;&#x662f;&#x5305;&#x542b;&#x5404;&#x79cd;&#x5d4c;&#x5957;&#xff0c;&#x56de;&#x8c03;&#xff0c;&#x5f02;&#x6b65;&#x4ee3;&#x7801;&#x7b49;&#xff0c;&#x90a3;&#x6211;&#x4eec;&#x5728;&#x8fd9;&#x4e9b;&#x60c5;&#x51b5;&#x4e0b;&#xff0c;&#x6211;&#x4eec;&#x5c31;&#x9700;&#x8981;&#x901a;&#x8fc7;mock&#x51fd;&#x6570;&#x7684;&#x5f62;&#x5f0f;&#xff0c;&#x5176;&#x5b9e;&#x672c;&#x8d28;&#x4e0a;&#x5c31;&#x662f;<span class=\"hljs-keyword\">jest&#x5185;&#x90e8;&#x751f;&#x6210;&#x4e86;&#x4e00;&#x4e2a;&#x51fd;&#x6570;&#xff0c;&#x540c;&#x65f6;jest&#x5185;&#x90e8;&#x53ef;&#x4ee5;&#x76d1;&#x63a7;&#x5230;&#x8fd9;&#x4e2a;&#x51fd;&#x6570;&#x7684;&#x8c03;&#x7528;&#x60c5;&#x51b5;&#xff0c;&#x4ece;&#x800c;&#x5e2e;&#x52a9;&#x6211;&#x4eec;&#x8fdb;&#x884c;&#x65ad;&#x8a00;&#x3002;\n</span>\n&#x901a;&#x8fc7;<span class=\"hljs-keyword\">jest&#x521b;&#x5efa;&#x4e00;&#x4e2a;mock&#x51fd;&#x6570;&#xff0c;&#x8be5;mock&#x7684;&#x51fd;&#x6570;&#x4f53;&#xff0c;&#x8fd4;&#x56de;&#x503c;&#x7b49;&#x6211;&#x4eec;&#x90fd;&#x53ef;&#x4ee5;&#x81ea;&#x7531;&#x5b9a;&#x4e49;&#xff0c;&#x5f53;&#x8be5;mock&#x51fd;&#x6570;&#x88ab;&#x8c03;&#x7528;&#x4e4b;&#x540e;&#xff0c;&#x6211;&#x4eec;&#x4e5f;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;jest&#x63d0;&#x4f9b;&#x7684;&#x5185;&#x90e8;&#x5c5e;&#x6027;&#xff0c;&#x6355;&#x83b7;&#x5230;&#x8be5;mock&#x51fd;&#x6570;&#x88ab;&#x8c03;&#x7528;&#x7684;&#x6b21;&#x6570;&#xff0c;&#x53c2;&#x6570;&#x60c5;&#x51b5;&#x7b49;&#x3002;\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"679,684"}}],"payload":{"tag":"h4","lines":"678,679"}},{"content":"&#x57fa;&#x672c;&#x4f7f;&#x7528;","children":[{"content":"<pre data-lines=\"685,696\"><code data-lines=\"685,696\">&#x56e0;&#x6b64;&#xff0c;mock&#x51fd;&#x6570;&#x901a;&#x5e38;&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#x4ee5;&#x4e0b;&#x8fd9;&#x4e9b;&#x529f;&#x80fd;&#xff1a;\n\n<span class=\"hljs-bullet\">1.</span> <span class=\"hljs-code\">`&#x6355;&#x83b7;&#x51fd;&#x6570;&#x7684;&#x8c03;&#x7528;&#x60c5;&#x51b5;&#xff0c;&#x4ee5;&#x53ca;&#x8fd4;&#x56de;&#x503c;&#xff0c;this&#x6307;&#x5411;&#x4ee5;&#x53ca;&#x8c03;&#x7528;&#x987a;&#x5e8f;`</span>\n<span class=\"hljs-bullet\">2.</span> <span class=\"hljs-code\">`&#x5b83;&#x53ef;&#x4ee5;&#x8ba9;&#x6211;&#x4eec;&#x81ea;&#x7531;&#x8bbe;&#x7f6e; &#x51fd;&#x6570;&#x7684;&#x8fd4;&#x56de;&#x503c;&#x3002;`</span>\n<span class=\"hljs-bullet\">3.</span> <span class=\"hljs-code\">`&#x53ef;&#x4ee5;&#x6539;&#x53d8;&#x51fd;&#x6570;&#x7684;&#x5185;&#x90e8;&#x5b9e;&#x73b0;`</span>\n\n&#x63a5;&#x4e0b;&#x6765;&#xff0c;&#x6211;&#x4eec;&#x5c31;&#x901a;&#x8fc7;&#x5b9e;&#x9645;&#x4ee3;&#x7801;&#x5b66;&#x4e60;&#x4e00;&#x4e0b;&#xff1a;\n\n<span class=\"hljs-bullet\">1.</span> <span class=\"hljs-strong\">**&#x6355;&#x83b7;&#x51fd;&#x6570;&#x7684;&#x8c03;&#x7528;&#x60c5;&#x51b5;&#xff0c;&#x4ee5;&#x53ca;&#x8fd4;&#x56de;&#x503c;&#xff0c;this&#x6307;&#x5411;&#x4ee5;&#x53ca;&#x8c03;&#x7528;&#x987a;&#x5e8f;**</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"685,696"}},{"content":"<pre data-lines=\"696,710\"><code class=\"language-plain\">test.only(&apos;&#x6d4b;&#x8bd5; mock &#x51fd;&#x6570;&apos;, () =&gt; {\n  const func = jest.fn();\n\n  func(123);\n  console.log(func.mock);\n  // &#x65ad;&#x8a00;&#xff1a;&#x51fd;&#x6570;&#x662f;&#x5426;&#x88ab;&#x8c03;&#x7528;\n  expect(func).toBeCalled();\n  // &#x65ad;&#x8a00;&#xff1a;&#x51fd;&#x6570;&#x88ab;&#x8c03;&#x7528;&#x6b21;&#x6570;\n  expect(func.mock.calls.length).toBe(1);\n  // &#x65ad;&#x8a00;&#xff1a;&#x51fd;&#x6570;&#x53c2;&#x6570;\n  expect(func.mock.calls[0]).toEqual([123])\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"696,710"}},{"content":"<pre data-lines=\"710,713\"><code data-lines=\"710,713\">&#x6211;&#x4eec;&#x770b;&#x4e00;&#x4e0b;<span class=\"hljs-keyword\">func</span>.mock&#x7684;&#x6253;&#x5370;&#x7ed3;&#x679c;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"710,713"}},{"content":"<img src=\"https://cdn.nlark.com/yuque/0/2025/webp/191695/1743080465925-1d267d51-7b66-4a75-9d60-bc3b8abedc20.webp\" alt>","children":[],"payload":{"tag":"img","lines":"713,714"}},{"content":"<pre data-lines=\"714,723\"><code data-lines=\"714,723\">&#x4ece;&#x56fe;&#x4e2d;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#xff1a;\n\n<span class=\"hljs-bullet\">1.</span> calls&#xff1a;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#x51fd;&#x6570;&#x88ab;&#x8c03;&#x7528;&#x7684;&#x6b21;&#x6570;&#xff0c;&#x4ee5;&#x53ca;&#x6bcf;&#x6b21;&#x88ab;&#x8c03;&#x7528;&#x65f6;&#x6240;&#x4f20;&#x7684;&#x53c2;&#x6570;&#xff0c;\n<span class=\"hljs-bullet\">2.</span> instances&#x5c5e;&#x6027;&#xff1a;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#x51fd;&#x6570;&#x88ab;&#x8c03;&#x7528;&#x65f6;&#xff0c;&#x51fd;&#x6570;&#x5185;&#x90e8;&#x7684;this&#x6307;&#x5411;&#x3002;\n<span class=\"hljs-bullet\">3.</span> invocationCallOrder&#xff1a;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#x51fd;&#x6570;&#x88ab;&#x8c03;&#x7528;&#x7684;&#x987a;&#x5e8f;&#xff0c;&#x6b64;&#x5904;&#x53ea;&#x8c03;&#x7528;&#x4e86;&#x4e00;&#x6b21;&#x3002;\n<span class=\"hljs-bullet\">4.</span> results&#xff1a;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#x51fd;&#x6570;&#x6bcf;&#x6b21;&#x8c03;&#x7528;&#x7684;&#x8fd4;&#x56de;&#x503c;&#x662f;&#x4ec0;&#x4e48;&#x3002;\n<span class=\"hljs-bullet\">5.</span> &#x5b83;&#x53ef;&#x4ee5;&#x8ba9;&#x6211;&#x4eec;&#x81ea;&#x7531;&#x8bbe;&#x7f6e; &#x51fd;&#x6570;&#x7684;&#x8fd4;&#x56de;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"714,723"}},{"content":"<pre data-lines=\"723,732\"><code class=\"language-plain\">test.only(&apos;&#x6d4b;&#x8bd5; mock &#x51fd;&#x6570;&apos;, () =&gt; {\n  const func = jest.fn();\n  func.mockReturnValueOnce(&apos;kobe&apos;);\n\n  func();\n  expect(func.mock.results[0].value).toBe(&apos;kobe&apos;);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"723,732"}},{"content":"<pre data-lines=\"732,739\"><code data-lines=\"732,739\">&#x9664;&#x6b64;&#x4e4b;&#x5916;&#xff0c;&#x8fd8;&#x6709;&#x51e0;&#x70b9;&#x7ec6;&#x8282;&#x8981;&#x6ce8;&#x610f;&#xff1a;\n\n<span class=\"hljs-bullet\">1.</span> &#x5982;&#x679c;&#x60f3;&#x5728;&#x6bcf;&#x6b21;&#x51fd;&#x6570;&#x8c03;&#x7528;&#x4e4b;&#x540e;&#xff0c;&#x8bbe;&#x7f6e;&#x4e0d;&#x540c;&#x7684;&#x8fd4;&#x56de;&#x503c;&#xff0c;&#x53ef;&#x4ee5;&#x591a;&#x6b21;&#x8c03;&#x7528;func.mockReturnValueOnce()&#x3002;\n<span class=\"hljs-bullet\">2.</span> &#x5982;&#x679c;&#x6bcf;&#x6b21;&#x8c03;&#x7528;&#x8fd4;&#x56de;&#x76f8;&#x540c;&#x7684;&#x503c;&#xff0c;&#x53ef;&#x4ee5;&#x53ea;&#x8c03;&#x7528;&#x4e00;&#x6b21;func.mockReturnValue()\n<span class=\"hljs-bullet\">3.</span> &#x53ef;&#x4ee5;&#x6539;&#x53d8;&#x51fd;&#x6570;&#x7684;&#x5185;&#x90e8;&#x5b9e;&#x73b0; \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"732,739"}},{"content":"<pre data-lines=\"739,750\"><code class=\"language-plain\">test.only(&apos;&#x6d4b;&#x8bd5; mock &#x51fd;&#x6570;&apos;, () =&gt; {\n  const func = jest.fn();\n  func.mockImplementationOnce(() =&gt; {\n    return &apos;kobe&apos;;\n  })\n\n  func();\n  expect(func.mock.results[0].value).toBe(&apos;kobe&apos;)\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"739,750"}},{"content":"<pre data-lines=\"750,753\"><code data-lines=\"750,753\"> &#x6ce8;&#x610f;&#xff1a;&#x540c;&#x7406;&#xff0c;&#x4e5f;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; <span class=\"hljs-keyword\">func</span>.mockImplementationOnce &#x8bbe;&#x7f6e;&#x67d0;&#x4e00;&#x6b21;&#x8c03;&#x7528;&#x5bf9;&#x5e94;&#x7684;&#x51fd;&#x6570;&#x5b9e;&#x73b0;&#xff0c;&#x53ef;&#x4ee5;&#x9488;&#x5bf9;&#x4e0d;&#x540c;&#x7684;&#x8c03;&#x7528;&#xff0c;&#x8bbe;&#x7f6e;&#x4e0d;&#x540c;&#x7684;&#x51fd;&#x6570;&#x5b9e;&#x73b0;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"750,753"}}],"payload":{"tag":"h4","lines":"684,685"}},{"content":"&#x5b9e;&#x6218;&#x4f7f;&#x7528;","children":[{"content":"<pre data-lines=\"754,759\"><code data-lines=\"754,759\">&#x4e0a;&#x9762;&#xff0c;&#x6211;&#x4eec;&#x53ea;&#x662f;&#x7b80;&#x5355;&#x7684;&#x901a;&#x8fc7;jest.fn()&#x76f4;&#x63a5;&#x521b;&#x5efa;&#x4e86;&#x4e00;&#x4e2a;mock&#x51fd;&#x6570;&#xff0c;&#x5e76;&#x4e14;&#x8fdb;&#x884c;&#x8c03;&#x7528;&#xff0c;&#x4f46;&#x662f;&#x5e76;&#x6ca1;&#x6709;&#x771f;&#x6b63;&#x7684;&#x88ab;&#x6d4b;&#x8bd5;&#x4ee3;&#x7801;&#xff0c;&#x56e0;&#x6b64;&#xff0c;&#x672c;&#x5c0f;&#x8282;&#x5c31;&#x662f;&#x4ece;&#x4e00;&#x4e2a;&#x5b9e;&#x9645;&#x4f8b;&#x5b50;&#x51fa;&#x53d1;&#xff0c;&#x6765;&#x8fdb;&#x4e00;&#x6b65;&#x4f53;&#x4f1a;&#x4e00;&#x4e0b;&#xff0c;&#x5982;&#x4f55;&#x53bb;&#x4f7f;&#x7528;mock&#x51fd;&#x6570;&#x3002;\n\n&#x573a;&#x666f;&#xff1a;&#x6211;&#x4eec;&#x8981;&#x4e3a;&#x6570;&#x7ec4;&#x7684;&#x904d;&#x5386;&#x51fd;&#x6570;&#xff1a;<span class=\"hljs-keyword\">forEach</span>&#x5199;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#xff0c;&#x8be5;&#x5982;&#x4f55;&#x505a;&#x5462;&#xff1f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"754,759"}},{"content":"<pre data-lines=\"759,767\"><code class=\"language-plain\">// array.js\nexport const forEach = (arr, callback) =&gt;  {\n  for (let i = 0; i &lt; arr.length; i++) {\n    callback(arr[i], i);\n  };\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"759,767"}},{"content":"<pre data-lines=\"768,784\"><code class=\"language-plain\">// array.test.js\ntest.only(&apos;&#x6d4b;&#x8bd5; forEach &#x51fd;&#x6570;&apos;, () =&gt; {\n  const arr = [1, 2, 3, 4];\n  const func = jest.fn();\n  func.mockImplementation((item, index) =&gt; {\n    return item + 1;\n  })\n\n  forEach(arr, func);\n  // &#x65ad;&#x8a00;&#xff1a;&#x51fd;&#x6570;&#x88ab;&#x8c03;&#x7528;&#x6b21;&#x6570;\n  expect(func.mock.calls.length).toBe(arr.length);\n  // &#x65ad;&#x8a00;&#xff1a;&#x51fd;&#x6570;&#x8fd4;&#x56de;&#x503c;\n  expect(func.mock.results[0].value).toBe(2);\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"768,784"}},{"content":"<pre data-lines=\"784,787\"><code data-lines=\"784,787\">**&#x91cd;&#x70b9;&#x8bf4;&#x660e;&#xff1a;mock&#x51fd;&#x6570;&#x4f7f;&#x7528;&#x65b9;&#x6cd5;&#x5176;&#x5b9e;&#x5f88;&#x7b80;&#x5355;&#xff0c;&#x8bb0;&#x4f4f;&#x8fd9;&#x4e9b;&#x5e38;&#x7528;&#x7684;api&#x5373;&#x53ef;&#xff0c;&#x66f4;&#x91cd;&#x8981;&#x7684;&#x662f;&#x6211;&#x4eec;&#x8981;&#x660e;&#x767d;&#x4ec0;&#x4e48;&#x65f6;&#x5019;&#x9700;&#x8981;&#x4f7f;&#x7528;mock&#x51fd;&#x6570;&#xff0c;&#x5f53;&#x88ab;&#x6d4b;&#x51fd;&#x6570;&#x53ea;&#x662f;&#x4e00;&#x4e2a;&#x7b80;&#x5355;&#x51fd;&#x6570;&#xff0c;&#x6709;&#x660e;&#x786e;&#x8f93;&#x5165;&#x8f93;&#x51fa;&#x65f6;&#xff0c;&#x6211;&#x4eec;&#x76f4;&#x63a5;&#x8c03;&#x7528;&#xff0c;&#x7136;&#x540e;&#x65ad;&#x8a00;&#x5176;&#x8fd4;&#x56de;&#x503c;&#x5373;&#x53ef;&#xff0c;**`**&#x4f46;&#x662f;&#x5f53;&#x88ab;&#x6d4b;&#x51fd;&#x6570;&#x5185;&#x90e8;&#x6bd4;&#x8f83;&#x590d;&#x6742;&#xff0c;&#x53ef;&#x80fd;&#x6d89;&#x53ca;&#x5faa;&#x73af;&#xff0c;&#x5f02;&#x6b65;&#x903b;&#x8f91;&#xff0c;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x7b49;&#x573a;&#x666f;&#x65f6;&#xff0c;&#x901a;&#x8fc7;&#x5c31;&#x9700;&#x8981;&#x6211;&#x4eec;&#x521b;&#x5efa;mock&#x51fd;&#x6570;&#xff0c;&#x5e76;&#x4e14;&#x5c06;mock&#x51fd;&#x6570;&#x4f20;&#x5165;&#x88ab;&#x6d4b;&#x51fd;&#x6570;&#x5185;&#x90e8;&#xff0c;&#x8c03;&#x7528;&#x88ab;&#x6d4b;&#x51fd;&#x6570;&#xff0c;&#x5176;&#x5185;&#x90e8;&#x4e5f;&#x5c31;&#x4f1a;&#x81ea;&#x52a8;&#x8c03;&#x7528;mock&#x51fd;&#x6570;&#xff0c;&#x4ece;&#x800c;&#x6211;&#x4eec;&#x5c31;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x8bfb;&#x53d6;mock&#x51fd;&#x6570;&#x7684;mock&#x5c5e;&#x6027;&#xff0c;&#x6765;&#x83b7;&#x53d6;&#x8be5;mock&#x51fd;&#x6570;&#x7684;&#x8c03;&#x7528;&#x6b21;&#x6570;&#xff0c;&#x8fd4;&#x56de;&#x503c;&#x7b49;&#x4fe1;&#x606f;&#xff0c;&#x4ece;&#x800c;&#x5224;&#x65ad;&#x88ab;&#x6d4b;&#x51fd;&#x6570;&#x662f;&#x5426;&#x6b63;&#x5e38;&#x3002;**`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"784,787"}}],"payload":{"tag":"h4","lines":"753,754"}}],"payload":{"tag":"h3","lines":"676,677"}},{"content":"Mock&#x6a21;&#x5757;","children":[{"content":"Mock&#x7b2c;&#x4e09;&#x65b9;&#x6a21;&#x5757;","children":[{"content":"<pre data-lines=\"789,792\"><code data-lines=\"789,792\">&#x4f8b;&#x5982;&#xff1a;&#x6211;&#x4eec;&#x53d1;&#x9001;&#x8bf7;&#x6c42;&#x65f6;&#xff0c;&#x901a;&#x5e38;&#x4f1a;&#x7528;&#x5230;axios&#xff0c;&#x4f46;&#x662f;&#x6211;&#x4eec;&#x53c8;&#x4e0d;&#x60f3;&#x8d70;&#x771f;&#x5b9e;&#x7684;&#x8bf7;&#x6c42;&#xff0c;&#x6240;&#x4ee5;&#x5c31;&#x53ef;&#x4ee5;mock&#x4e00;&#x4e2a;axios&#xff0c;&#x7136;&#x540e;&#x5c31;&#x53ef;&#x4ee5;&#x81ea;&#x7531;&#x8bbe;&#x7f6e;&#x8bf7;&#x6c42;&#x7684;&#x8fd4;&#x56de;&#x503c;&#x662f;&#x4ec0;&#x4e48;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"789,792"}},{"content":"<pre data-lines=\"792,800\"><code class=\"language-plain\">// index.js\nimport axios from &quot;axios&quot;\n\nexport const getData = () =&gt; {\n  return axios.get(&apos;http://www.dell-lee.com/react/api/demo1.json&apos;).then(resp =&gt; resp.data);\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"792,800"}},{"content":"<pre data-lines=\"801,818\"><code class=\"language-plain\">// index.test.js\nimport axios from &apos;axios&apos;;\nimport {getData} from &apos;./index&apos;;\n\njest.mock(&apos;axios&apos;);\n\ntest(&apos;&#x6d4b;&#x8bd5; getData &#x65b9;&#x6cd5;&apos;, async () =&gt; {\n  axios.get.mockResolvedValue({\n    data: {\n      name: &apos;kobe&apos;\n    }\n  })\n  const data = await getData();\n  expect(data).toEqual({name: &apos;kobe&apos;});\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"801,818"}}],"payload":{"tag":"h4","lines":"788,789"}},{"content":"mock&#x6a21;&#x5757;&#x90e8;&#x5206;&#x5b9e;&#x73b0; - &#x5199;&#x6cd5;1","children":[{"content":"<pre data-lines=\"820,823\"><code data-lines=\"820,823\">&#x5373;&#x4e00;&#x4e2a;&#x6a21;&#x5757;&#x4e2d;&#xff0c;&#x53ef;&#x80fd;&#x6709;&#x5f88;&#x591a;&#x4e2a;&#x65b9;&#x6cd5;&#xff0c;&#x6709;&#x540c;&#x6b65;&#x65b9;&#x6cd5;&#xff0c;&#x6709;&#x5f02;&#x6b65;&#x65b9;&#x6cd5;&#xff0c;&#x540c;&#x6b65;&#x65b9;&#x6cd5;&#x6211;&#x4eec;&#x4e00;&#x822c;&#x4e0d;&#x9700;&#x8981;&#x6a21;&#x62df;&#xff0c;&#x4f46;&#x662f;&#x5f02;&#x6b65;&#x65b9;&#x6cd5;&#xff0c;&#x6211;&#x4eec;&#x4e00;&#x822c;&#x5c31;&#x9700;&#x8981;&#x4e00;&#x4e2a;&#x5bf9;&#x5e94;&#x7684;&#x6a21;&#x62df;&#x65b9;&#x6cd5;&#xff0c;&#x4ece;&#x800c;&#x4fdd;&#x8bc1;&#x6d4b;&#x8bd5;&#x4ee3;&#x7801;&#x6267;&#x884c;&#x7684;&#x4e4b;&#x540e;&#xff0c;&#x8d70;&#x7684;&#x662f;&#x6211;&#x4eec;&#x7684;&#x6a21;&#x62df;&#x65b9;&#x6cd5;&#xff0c;&#x5e76;&#x4e0d;&#x9700;&#x8981;&#x771f;&#x6b63;&#x53d1;&#x8d77;&#x8bf7;&#x6c42;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"820,823"}},{"content":"<pre data-lines=\"823,835\"><code class=\"language-plain\">// index.js\nimport axios from &quot;axios&quot;\n\nexport const getData = () =&gt; {\n  return axios.get(&apos;http://www.dell-lee.com/react/api/demo.json&apos;).then(resp =&gt; resp.data);\n}\n\nexport const sum = (a, b) =&gt; {\n  return a + b;\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"823,835"}},{"content":"<pre data-lines=\"835,840\"><code data-lines=\"835,840\">&#x8be5;&#x6a21;&#x5757;&#x4e2d;&#xff0c;&#x6709;&#x4e24;&#x4e2a;&#x65b9;&#x6cd5;&#xff0c;&#x7531;&#x4e8e;getData&#x9700;&#x8981;&#x53d1;&#x8d77;&#x5f02;&#x6b65;&#x8bf7;&#x6c42;&#xff0c;&#x800c;&#x6211;&#x4eec;&#x53c8;&#x4e0d;&#x5e0c;&#x671b;&#x6d4b;&#x8bd5;&#x4ee3;&#x7801;&#x4e2d;&#x5c31;&#x8981;&#x53d1;&#x9001;&#x771f;&#x5b9e;&#x7684;&#x6a21;&#x62df;&#x8bf7;&#x6c42;&#xff0c;&#x6240;&#x4ee5;&#x9700;&#x8981;&#x521b;&#x5efa;&#x4e00;&#x4e2a;&#x5bf9;&#x5e94;&#x7684;mock&#x51fd;&#x6570;&#xff0c;&#x800c;<span class=\"hljs-built_in\">sum</span>&#x65b9;&#x6cd5;&#x6bd4;&#x8f83;&#x7b80;&#x5355;&#xff0c;&#x4e00;&#x4e2a;&#x540c;&#x6b65;&#x51fd;&#x6570;&#xff0c;&#x76f4;&#x63a5;&#x5f15;&#x5165;&#x6d4b;&#x8bd5;&#x5373;&#x53ef;&#x3002;\n\n&#x6ce8;&#x610f;&#xff1a;&#x5982;&#x679c;&#x6211;&#x4eec;&#x5e0c;&#x671b;&#x5bf9;&#x67d0;&#x4e2a;&#x6a21;&#x5757;&#x8fdb;&#x884c;mock&#xff0c;&#x5219;&#x53ef;&#x4ee5;&#x5728;&#x5176;&#x540c;&#x7ea7;&#x76ee;&#x5f55;&#x4e0b;&#x521b;&#x5efa;&#x4e00;&#x4e2a;__mocks__&#x6587;&#x4ef6;&#x5939;&#xff0c;&#x5e76;&#x4e14;&#x5728;&#x6539;&#x6587;&#x4ef6;&#x5939;&#x4e0b;&#x521b;&#x5efa;&#x540c;&#x540d;&#x7684;&#x6587;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"835,840"}},{"content":"<pre data-lines=\"840,850\"><code class=\"language-plain\">// __mocks__/index.js\nexport const getData = () =&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    resolve({\n      name: &apos;james&apos;\n    })\n  })\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"840,850"}},{"content":"<pre data-lines=\"850,853\"><code data-lines=\"850,853\">&#x63a5;&#x4e0b;&#x6765;&#xff0c;&#x6211;&#x4eec;&#x5c31;&#x8981;&#x5199;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x5566;&#xff0c;&#x7531;&#x4e8e;&#x6211;&#x4eec;&#x8981;&#x5bf9;<span class=\"hljs-keyword\">index</span>.js&#x6a21;&#x5757;&#x8fdb;&#x884c;mock&#xff0c;&#x6240;&#x4ee5;&#x9700;&#x8981;&#x624b;&#x52a8;&#x8c03;&#x7528;jest.mock(./<span class=\"hljs-keyword\">index</span>)&#xff0c;&#x8868;&#x793a;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x6267;&#x884c;&#x65f6;&#x8d70;&#x7684;&#x662f;mock&#x7684;&#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"850,853"}},{"content":"<pre data-lines=\"853,869\"><code class=\"language-plain\">jest.mock(&apos;./index&apos;)\nimport {getData, sum} from &quot;./index&quot;;\n\ntest(&apos;&#x6d4b;&#x8bd5; getData &#x65b9;&#x6cd5;&apos;, async () =&gt; {\n  const res = await getData();\n  expect(res).toEqual({\n    name: &apos;james&apos;\n  })\n})\n\n// &#x6b64;&#x65f6;&#x8be5;&#x7528;&#x4f8b;&#x65e0;&#x6cd5;&#x901a;&#x8fc7;&#xff0c;&#x56e0;&#x4e3a;&#x8d70;&#x7684;&#x662f;mock&#x6a21;&#x5757;&#xff0c;&#x800c;mock&#x6a21;&#x5757;&#x4e2d;&#x5e76;&#x6ca1;&#x6709;sum&#x51fd;&#x6570;&#x3002;\ntest(&apos;&#x6d4b;&#x8bd5; sum &#x65b9;&#x6cd5;&apos;, async () =&gt; {\n  expect(sum(1, 2)).toBe(3);\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"853,869"}},{"content":"<pre data-lines=\"869,872\"><code data-lines=\"869,872\">&#x4ee5;&#x4e0a;&#x4ee3;&#x7801;&#xff0c;&#x7531;&#x4e8e;&#x6211;&#x4eec;&#x7edf;&#x4e00;&#x8d70;&#x7684;&#x90fd;&#x662f;mock&#x6a21;&#x5757;&#xff0c;&#x4f46;&#x662f;&#x6211;&#x4eec;&#x5728;&#x6d4b;&#x8bd5;<span class=\"hljs-built_in\">sum</span>&#x51fd;&#x6570;&#x65f6;&#xff0c;&#x53c8;&#x5e0c;&#x671b;&#x8d70;&#x771f;&#x5b9e;&#x6a21;&#x5757;&#xff0c;&#x6240;&#x4ee5;&#x4ee5;&#x4e0a;&#x4ee3;&#x7801;&#x4e2d;&#x7684;&#x7b2c;&#x4e8c;&#x4e2a;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x662f;&#x901a;&#x8fc7;&#x4e0d;&#x4e86;&#x7684;&#xff0c;&#x9700;&#x8981;&#x8fdb;&#x884c;&#x5982;&#x4e0b;&#x4fee;&#x6539;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"869,872"}},{"content":"<pre data-lines=\"872,888\"><code class=\"language-plain\">jest.mock(&apos;./index&apos;)\nimport { getData} from &quot;./index&quot;;\nconst {sum} = jest.requireActual(&apos;./index.js&apos;) // &#x5173;&#x952e;&#x70b9;\n\ntest(&apos;&#x6d4b;&#x8bd5; getData &#x65b9;&#x6cd5;&apos;, async () =&gt; {\n  const res = await getData();\n  expect(res).toEqual({\n    name: &apos;james&apos;\n  })\n})\n\ntest(&apos;&#x6d4b;&#x8bd5; sum &#x65b9;&#x6cd5;&apos;, async () =&gt; {\n  expect(sum(1, 2)).toBe(3);\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"872,888"}}],"payload":{"tag":"h4","lines":"819,820"}},{"content":"mock&#x6a21;&#x5757;&#x90e8;&#x5206;&#x5b9e;&#x73b0; - &#x5199;&#x6cd5;2","children":[{"content":"<pre data-lines=\"890,893\"><code data-lines=\"890,893\">&#x5199;&#x6cd5;1&#x4e2d;&#xff0c;&#x6211;&#x4eec;&#x5728;&#x88ab;&#x6d4b;&#x6a21;&#x5757;&#x7684;&#x540c;&#x7ea7;&#x76ee;&#x5f55;&#x4e0b;&#xff0c;&#x521b;&#x5efa;&#x4e86;&#x4e00;&#x4e2a;<span class=\"hljs-emphasis\">__mocks__</span>&#x6587;&#x4ef6;&#x5939;&#xff0c;&#x5e76;&#x4e14;&#x5728;&#x8be5;&#x6587;&#x4ef6;&#x4e0b;&#x521b;&#x5efa;&#x4e86;&#x540c;&#x540d;&#x7684;mock&#x6a21;&#x5757;&#x3002;&#x5f53;&#x7136;&#xff0c;&#x5176;&#x5b9e;&#x6211;&#x4eec;&#x4e5f;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x5728;&#x6d4b;&#x8bd5;&#x6587;&#x4ef6;&#x4e2d;&#x53bb;mock&#x6a21;&#x5757;&#x4e2d;&#x7684;&#x90e8;&#x5206;&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"890,893"}},{"content":"<pre data-lines=\"893,920\"><code class=\"language-plain\">jest.mock(&apos;./index&apos;, () =&gt; {\n  return {\n    getData: jest.fn(() =&gt; {\n      return new Promise((resolve, reject) =&gt; {\n        resolve({\n          name: &apos;james&apos;\n        })\n      })\n    })\n  }\n})\n\nimport { getData} from &quot;./index&quot;;\nconst {sum} = jest.requireActual(&apos;./index.js&apos;)\n\ntest(&apos;&#x6d4b;&#x8bd5; getData &#x65b9;&#x6cd5;&apos;, async () =&gt; {\n  const res = await getData();\n  expect(res).toEqual({\n    name: &apos;james&apos;\n  })\n})\n\ntest(&apos;&#x6d4b;&#x8bd5; sum &#x65b9;&#x6cd5;&apos;, async () =&gt; {\n  expect(sum(1, 2)).toBe(3);\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"893,920"}},{"content":"<pre data-lines=\"920,923\"><code data-lines=\"920,923\">&#x4ee5;&#x4e0a;&#x5199;&#x6cd5;&#xff0c;&#x53ef;&#x4ee5;&#x5176;&#x5b9e;&#x53ef;&#x4ee5;&#x8fdb;&#x4e00;&#x6b65;&#x4f18;&#x5316;&#x4e00;&#x4e0b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"920,923"}},{"content":"<pre data-lines=\"923,952\"><code class=\"language-plain\">jest.mock(&apos;./index&apos;, () =&gt; {\n  // &#x5176;&#x5b9e;&#x5c31;&#x662f;&#x5148;&#x5f15;&#x5165;&#x5168;&#x90e8;&#x771f;&#x5b9e;&#x6a21;&#x5757;&#x4e2d;&#x7684;&#x5168;&#x90e8;&#x65b9;&#x6cd5;&#xff0c;&#x7136;&#x540e;&#x89e3;&#x6784;&#xff0c;&#x9700;&#x8981;&#x8fdb;&#x884c;mock&#x7684;&#x51fd;&#x6570;&#x76f4;&#x63a5;&#x8986;&#x76d6;&#x5373;&#x53ef;&#x3002;\n  const originalModule = jest.requireActual(&apos;./index&apos;);\n  return {\n    ...originalModule,\n    getData: jest.fn(() =&gt; {\n      return new Promise((resolve, reject) =&gt; {\n        resolve({\n          name: &apos;james&apos;\n        })\n      })\n    })\n  }\n})\n\nimport { getData} from &quot;./index&quot;;\n\ntest(&apos;&#x6d4b;&#x8bd5; getData &#x65b9;&#x6cd5;&apos;, async () =&gt; {\n  const res = await getData();\n  expect(res).toEqual({\n    name: &apos;james&apos;\n  })\n})\n\ntest(&apos;&#x6d4b;&#x8bd5; sum &#x65b9;&#x6cd5;&apos;, async () =&gt; {\n  expect(sum(1, 2)).toBe(3);\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"923,952"}}],"payload":{"tag":"h4","lines":"889,890"}}],"payload":{"tag":"h3","lines":"787,788"}},{"content":"Mock &#x7c7b;","children":[{"content":"<pre data-lines=\"954,957\"><code data-lines=\"954,957\">&#x4f8b;&#x5982;&#xff1a;&#x6211;&#x4eec;&#x6709;&#x4e00;&#x4e2a;Util&#x7c7b;&#xff0c;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"954,957"}},{"content":"<pre data-lines=\"957,965\"><code class=\"language-plain\">// util.js\nclass Util {\n  a () {}\n  b() {}\n}\nexport default Util\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"957,965"}},{"content":"<pre data-lines=\"965,968\"><code data-lines=\"965,968\">&#x5f53;&#x7136;&#xff0c;&#x5b83;&#x4e5f;&#x6709;&#x5bf9;&#x5e94;&#x7684;&#x4e00;&#x4e2a;&#x6d4b;&#x8bd5;&#x6587;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"965,968"}},{"content":"<pre data-lines=\"968,983\"><code class=\"language-plain\">// util.test.js\nimport Util from &apos;./util&apos;\n\nlet util = null;\nbeforeAll(() =&gt; {\n  util = new Util();\n})\ntest(&apos;&#x6d4b;&#x8bd5; Util a&#x65b9;&#x6cd5;&apos;, () =&gt; {\n  expect(util.a()).toBeUndefined();\n})\ntest(&apos;&#x6d4b;&#x8bd5; Util b&#x65b9;&#x6cd5;&apos;, () =&gt; {\n  expect(util.b()).toBeUndefined();\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"968,983"}},{"content":"<pre data-lines=\"983,988\"><code data-lines=\"983,988\">&#x5f88;&#x663e;&#x7136;&#xff0c;&#x5982;&#x679c;&#x6211;&#x4eec;&#x60f3;&#x5bf9;&#x4e00;&#x4e2a;&#x7c7b;&#x4e2d;&#x7684;&#x65b9;&#x6cd5;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff0c;&#x5176;&#x5b9e;&#x5f88;&#x7b80;&#x5355;&#xff0c;&#x4f46;&#x662f;&#x4e0a;&#x9762;&#x7684;&#x4ee3;&#x7801;&#x4e0d;&#x662f;&#x6211;&#x4eec;&#x8fd9;&#x91cc;&#x8981;&#x8bf4;&#x7684;&#x91cd;&#x70b9;&#xff0c;&#x6211;&#x4eec;&#x8981;&#x8bf4;&#x7684;&#x573a;&#x666f;&#x662f;&#xff1a;&#x5f53;&#x5176;&#x4ed6;&#x6587;&#x4ef6;&#x4e2d;&#x5f15;&#x7528;&#x4e86;Util&#x4e2d;&#x7684;&#x65b9;&#x6cd5;&#x65f6;&#xff0c;&#x6211;&#x4eec;&#x8be5;&#x5982;&#x4f55;&#x5bf9;&#x5176;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff1f;\n\n&#x4f8b;&#x5982;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"983,988"}},{"content":"<pre data-lines=\"988,998\"><code class=\"language-plain\">// demo.js\nimport Util from &apos;./util&apos;\n\nexport const demoFunction = () =&gt; {\n  const util = new Util();\n  util.a();\n  util.b();\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"988,998"}},{"content":"<pre data-lines=\"998,1003\"><code data-lines=\"998,1003\">&#x6211;&#x4eec;&#x60f3;&#x8981;&#x5bf9;demoFunction&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff0c;&#x90a3;&#x5982;&#x4f55;&#x5199;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x5462;&#xff1f;&#x5199;&#x4e4b;&#x524d;&#xff0c;&#x6211;&#x4eec;&#x8981;&#x660e;&#x767d;&#xff1a;&#x5bf9;demoFunction&#x65b9;&#x6cd5;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff0c;&#x867d;&#x7136;&#x5b83;&#x5185;&#x90e8;&#x5f15;&#x7528;&#x4e86;Util&#x7c7b;&#x76f8;&#x5173;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x4f46;&#x662f;&#x6211;&#x4eec;&#x5e76;&#x4e0d;&#x9700;&#x8981;&#x5bf9;Util&#x4e2d;&#x7684;&#x65b9;&#x6cd5;&#x518d;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff0c;&#x56e0;&#x4e3a;&#x6211;&#x4eec;&#x5728;util<span class=\"hljs-number\">.</span><span class=\"hljs-keyword\">test</span><span class=\"hljs-number\">.</span><span class=\"hljs-keyword\">js</span>&#x4e2d;&#x5df2;&#x7ecf;&#x5bf9;Util&#x7c7b;&#x4e2d;&#x7684;&#x65b9;&#x6cd5;&#x8fdb;&#x884c;&#x4e86;&#x6d4b;&#x8bd5;&#xff0c;&#x6b64;&#x5904;demoFunction&#x6211;&#x4eec;&#x53ea;&#x9700;&#x8981;&#x5224;&#x65ad;Util&#x4e2d;&#x7684;&#x65b9;&#x6cd5;&#x662f;&#x5426;&#x88ab;&#x8c03;&#x7528;&#x5373;&#x53ef;&#x3002;\n\n&#x56e0;&#x6b64;&#xff1a;**&#x6211;&#x4eec;&#x5c31;&#x53ef;&#x4ee5;Mock&#x4e00;&#x4e2a;&#x7c7b;&#xff0c;&#x4ece;&#x800c;&#x4fdd;&#x8bc1;Mock&#x7c7b;&#x4e2d;&#x7684;&#x65b9;&#x6cd5;&#x88ab;&#x8c03;&#x7528;&#x4e86;&#x5373;&#x53ef;&#x3002;** &#x5b9e;&#x73b0;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"998,1003"}},{"content":"<pre data-lines=\"1003,1015\"><code class=\"language-plain\">jest.mock(&apos;./util.js&apos;) //&#x5173;&#x952e;&#x70b9;\nimport Util from &apos;./util&apos;\nimport {demoFunction} from &apos;./demo&apos;\n\ntest(&apos;&#x6d4b;&#x8bd5; demoFunction&apos;, () =&gt; {\n  demoFunction();\n  expect(Util).toHaveBeenCalled();\n  expect(Util.mock.instances[0].a).toHaveBeenCalled();\n  expect(Util.mock.instances[0].b).toHaveBeenCalled();\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1003,1015"}},{"content":"<pre data-lines=\"1015,1020\"><code data-lines=\"1015,1020\">&#x8bf4;&#x660e;&#xff1a;&#x5f53;&#x6211;&#x4eec;&#x58f0;&#x660e;&#x4e86;<span class=\"hljs-keyword\">jest.mock(&apos;./util.js&apos;) </span>&#x4e4b;&#x540e;&#xff0c;<span class=\"hljs-keyword\">jest&#x4f1a;&#x81ea;&#x52a8;&#x5c06;&#x5bfc;&#x5165;&#x7684;Util&#x53d8;&#x6210;&#x4e00;&#x4e2a;mock&#x51fd;&#x6570;&#xff0c;&#x5e76;&#x4e14;&#x5176;&#x5185;&#x90e8;&#x7684;&#x65b9;&#x6cd5;&#x4e5f;&#x90fd;&#x4f1a;&#x81ea;&#x52a8;&#x53d8;&#x6210;mock&#x51fd;&#x6570;&#xff0c;&#x4ece;&#x800c;&#xff0c;&#x6211;&#x4eec;&#x5c31;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x4f7f;&#x7528;mock&#x51fd;&#x6570;&#x7684;&#x7279;&#x6027;&#xff0c;&#x6765;&#x5224;&#x65ad;&#x51fd;&#x6570;&#x662f;&#x5426;&#x88ab;&#x8c03;&#x7528;&#x3002;\n</span>\n&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x6253;&#x5370;&#x4e00;&#x4e0b;&#xff1a;Util.mock&#xff0c; &#x8f93;&#x5165;&#x7ed3;&#x679c;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1015,1020"}},{"content":"<img src=\"https://cdn.nlark.com/yuque/0/2025/webp/191695/1743080465905-4d41a0df-d8a7-40bb-b24f-bdaf6c756771.webp\" alt>","children":[],"payload":{"tag":"img","lines":"1020,1021"}},{"content":"<pre data-lines=\"1022,1025\"><code data-lines=\"1022,1025\">`&#x8bf4;&#x660e;&#xff1a;&#x5176;&#x5b9e;&#x6211;&#x4eec;&#x4e4b;&#x524d;&#x5b66;&#x5230;&#x7684;mock&#x7b2c;&#x4e09;&#x65b9;&#x6a21;&#x5757;&#xff0c;&#x4f8b;&#x5982;&#xff1a;axios&#xff0c;&#x5176;&#x5b9e;&#x672c;&#x8d28;&#x4e0a;&#x5c31;&#x662f;mock&#x4e86;&#x4e00;&#x4e2a;&#x7c7b;&#xff0c;&#x7136;&#x540e;&#x6211;&#x4eec;&#x5c31;&#x53ef;&#x4ee5;&#x8c03;&#x7528;mock&#x7c7b;&#x5185;&#x90e8;&#x7684;&#x65b9;&#x6cd5;`&#x3002;&#x518d;&#x901a;&#x8fc7;&#x4ee3;&#x7801;&#x6765;&#x4f53;&#x4f1a;&#x4e00;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1022,1025"}},{"content":"<pre data-lines=\"1026,1034\"><code class=\"language-plain\">jest.mock(&apos;axios&apos;)\nimport axios from &apos;axios&apos;;\n\ntest(&apos;&#x6d4b;&#x8bd5; request&#x65b9;&#x6cd5;&apos;, () =&gt; {\n  console.log(axios.get.mockReturnValue({name: &apos;kobe&apos;}));\n})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1026,1034"}},{"content":"<pre data-lines=\"1034,1044\"><code data-lines=\"1034,1044\">&#x540c;&#x65f6;&#xff0c;&#x901a;&#x8fc7;&#x524d;&#x9762;&#x7684;&#x5b66;&#x4e60;&#xff0c;&#x6211;&#x4eec;&#x4e5f;&#x53ef;&#x4ee5;&#x624b;&#x52a8;&#x521b;&#x5efa;<span class=\"hljs-strong\">__mock__</span>&#x6587;&#x4ef6;&#x5939;&#xff0c;&#x4ee5;&#x53ca;&#x540c;&#x540d;&#x7684;&#x6587;&#x4ef6;&#xff0c;&#x53bb;&#x5bf9;Util&#x4e2d;&#x7684;&#x65b9;&#x6cd5;&#x8fdb;&#x884c;&#x81ea;&#x5b9a;&#x4e49;&#x7684;mock&#x3002;\n\n<span class=\"hljs-strong\">**&#x56e0;&#x6b64;&#xff0c;&#x5bf9;&#x7c7b;&#x8fdb;&#x884c;mock&#x5176;&#x5b9e;&#x662f;&#x56db;&#x79cd;&#x65b9;&#x5f0f;&#xff1a; **</span>\n\n<span class=\"hljs-bullet\">+</span> <span class=\"hljs-strong\">**&#x901a;&#x8fc7;jest.mock(&apos;./utils.js&apos;) &#x81ea;&#x52a8;&#x6a21;&#x62df;**</span>\n<span class=\"hljs-bullet\">+</span> <span class=\"hljs-strong\">**&#x901a;&#x8fc7;&#x521b;&#x5efa;_<span class=\"hljs-emphasis\">_mocks_</span>_ &#x540c;&#x540d;&#x6587;&#x4ef6;&#xff0c;&#x624b;&#x52a8;&#x6a21;&#x62df;**</span>\n<span class=\"hljs-bullet\">+</span> <span class=\"hljs-strong\">**&#x4e5f;&#x53ef;&#x4ee5;&#x4e0d;&#x5355;&#x72ec;&#x521b;&#x5efa;&#x6587;&#x4ef6;&#xff0c;&#x76f4;&#x63a5;&#x5728;jest.mock(&apos;,/util.js&apos;, () =&gt; {}) &#x5373;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#x4e2d;&#xff0c;&#x624b;&#x52a8;&#x8fd4;&#x56de;mock&#x51fd;&#x6570;&#x3002;**</span>\n<span class=\"hljs-bullet\">+</span> <span class=\"hljs-strong\">**&#x5f53;&#x7136;&#xff0c;&#x6211;&#x4eec;&#x67d0;&#x4e2a;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x4e2d;&#xff0c;&#x5355;&#x72ec;&#x4f7f;&#x7528;mockImplementation &#x6a21;&#x62df;&#x67d0;&#x4e2a;&#x51fd;&#x6570;&#x7684;&#x5b9e;&#x73b0;&#x3002; **</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1034,1044"}}],"payload":{"tag":"h3","lines":"953,954"}}],"payload":{"tag":"h2","lines":"533,534"}},{"content":"Dom&#x6d4b;&#x8bd5;","children":[{"content":"<pre data-lines=\"1045,1050\"><code data-lines=\"1045,1050\">&#x5728;<span class=\"hljs-keyword\">jest&#x5185;&#x90e8;&#x96c6;&#x6210;&#x4e86;Jsdom&#x4f9d;&#x8d56;&#x5305;&#xff0c;&#x6240;&#x6709;&#x6211;&#x4eec;&#x4e5f;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x4f7f;&#x7528;Jsdom&#x76f8;&#x5173;API&#x53bb;&#x64cd;&#x4f5c;dom&#x3002;\n</span>\n&#x6211;&#x4eec;&#x6765;&#x5b9e;&#x9645;&#x4f53;&#x9a8c;&#x4e00;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1045,1050"}},{"content":"<pre data-lines=\"1050,1062\"><code class=\"language-plain\">function renderHtml() {\n  const div = document.createElement(&quot;div&quot;);\n  div.innerHTML = &quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;;\n  document.body.appendChild(div);\n}\n\ntest(&quot;DOM Test:&quot;, () =&gt; {\n  renderHtml();\n  expect(document.querySelector(&quot;h1&quot;).innerHTML).toBe(&quot;Hello World&quot;);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1050,1062"}}],"payload":{"tag":"h2","lines":"1044,1045"}},{"content":"&#x5feb;&#x7167;&#x6d4b;&#x8bd5;","children":[{"content":"<pre data-lines=\"1064,1069\"><code data-lines=\"1064,1069\">&#x987e;&#x540d;&#x601d;&#x4e49;&#xff0c;&#x5f53;&#x6211;&#x4eec;&#x7684;&#x7ec4;&#x4ef6;&#x5df2;&#x7ecf;&#x5b8c;&#x6210;&#x6216;&#x8005;&#x4e0d;&#x5e0c;&#x671b;&#x66f4;&#x6539;&#x65f6;&#xff0c;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x5c06;&#x5199;&#x597d;&#x7684;&#x7ec4;&#x4ef6;&#x6216;&#x8005;dom&#x7ed3;&#x6784;&#x751f;&#x6210;&#x4e00;&#x4efd;&#x5feb;&#x7167;&#xff0c;&#x5176;&#x5b9e;&#x5c31;&#x662f;&#x4e00;&#x4e2a;<span class=\"hljs-selector-tag\">html</span>&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x4e4b;&#x540e;&#x5982;&#x679c;&#x65e0;&#x610f;&#x95f4;&#x4fee;&#x6539;&#x4e86;dom&#x7ed3;&#x6784;&#xff0c;&#x8fd9;&#x65f6;&#x5feb;&#x7167;&#x6d4b;&#x8bd5;&#xff0c;&#x5c31;&#x4f1a;&#x63d0;&#x793a;&#x6211;&#x4eec;&#x4e24;&#x6b21;&#x751f;&#x6210;&#x7684;&#x5feb;&#x7167;&#x4e0d;&#x4e00;&#x81f4;&#xff0c;&#x4ece;&#x800c;&#x8fdb;&#x4e00;&#x6b65;&#x5224;&#x65ad;&#x4ee5;&#x54ea;&#x4e2a;&#x4e3a;&#x51c6;&#x3002;\n\n&#x6211;&#x4eec;&#x6765;&#x4f53;&#x9a8c;&#x4e00;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1064,1069"}},{"content":"<pre data-lines=\"1069,1085\"><code class=\"language-plain\">function renderHtml() {\n  const div = document.createElement(&quot;div&quot;);\n  div.innerHTML = &quot;&lt;h1&gt;Hello World1&lt;/h1&gt;&quot;;\n  document.body.appendChild(div);\n}\n\ntest(&quot;DOM Test:&quot;, () =&gt; {\n  renderHtml();\n  expect(document.querySelector(&quot;h1&quot;).innerHTML).toBe(&quot;Hello World&quot;);\n});\n\ntest(&quot;Snapshot Test:&quot;, () =&gt; {\n  expect(document.body).toMatchSnapshot(); // &#x9996;&#x6b21;&#x6267;&#x884c;&#x4f1a;&#x751f;&#x6210;&#x5feb;&#x7167;&#x6587;&#x4ef6;&#x3002;\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1069,1085"}},{"content":"<img src=\"https://cdn.nlark.com/yuque/0/2025/webp/191695/1743080465940-703e94d2-cc75-4edf-8b24-bb82bd69d28a.webp\" alt>","children":[],"payload":{"tag":"img","lines":"1086,1087"}},{"content":"<pre data-lines=\"1087,1090\"><code data-lines=\"1087,1090\">&#x4e4b;&#x540e;&#xff0c;&#x5982;&#x679c;&#x6211;&#x4eec;&#x60f3;&#x8981;&#x66f4;&#x65b0;&#x5feb;&#x7167;&#x6587;&#x4ef6;&#xff0c;&#x5f53;&#x7136;&#x4e5f;&#x662f;&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#x7684;&#xff0c;&#x6267;&#x884c;&#x4ee5;&#x4e0b;&#x547d;&#x4ee4;&#x5373;&#x53ef;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1087,1090"}},{"content":"<pre data-lines=\"1090,1093\"><code class=\"language-plain\">jest --updateSnapshot\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1090,1093"}}],"payload":{"tag":"h2","lines":"1063,1064"}},{"content":"&#x6d4b;&#x8bd5;&#x8986;&#x76d6;&#x7387;","children":[{"content":"<img src=\"https://cdn.nlark.com/yuque/0/2025/webp/191695/1743080466136-035daa10-0b11-4353-adbd-41ed0623dca3.webp\" alt>","children":[],"payload":{"tag":"img","lines":"1095,1096"}},{"content":"<pre data-lines=\"1096,1104\"><code data-lines=\"1096,1104\">&#x6d4b;&#x8bd5;&#x8986;&#x76d6;&#x7387;&#x5c31;&#x662f;&#x6267;&#x884c;&#x8fc7;&#x7684;&#x4ee3;&#x7801;&#x5360;&#x603b;&#x4ee3;&#x7801;&#x7684;&#x6bd4;&#x4f8b;&#xff0c;&#x6bd4;&#x5982;&#x6267;&#x884c;&#x4e86;&#x591a;&#x5c11;&#x884c;&#xff08;Line&#xff09;&#xff0c;&#x6267;&#x884c;&#x4e86;&#x591a;&#x5c11;&#x4e2a;&#x5206;&#x652f;&#xff08;Branch&#xff09;&#xff0c;&#x6267;&#x884c;&#x4e86;&#x591a;&#x5c11;&#x4e2a;&#x51fd;&#x6570;&#xff08;Function&#xff09;&#xff0c;&#x6267;&#x884c;&#x4e86;&#x591a;&#x5c11;&#x6761;&#x8bed;&#x53e5;&#xff08;Statement&#xff09;&#x3002;&#x56e0;&#x6b64;&#xff0c;&#x8986;&#x76d6;&#x7387;&#x4e3b;&#x8981;&#x5206;&#x4e3a;&#x4ee5;&#x4e0b;&#x51e0;&#x79cd;&#xff1a;\n\n<span class=\"hljs-bullet\">1.</span> &#x884c;&#x8986;&#x76d6;&#x7387; Lines\n<span class=\"hljs-bullet\">2.</span> &#x5206;&#x652f;&#x8986;&#x76d6;&#x7387; Branch\n<span class=\"hljs-bullet\">3.</span> &#x51fd;&#x6570;&#x8986;&#x76d6;&#x7387; Funcs\n<span class=\"hljs-bullet\">4.</span> &#x8bed;&#x53e5;&#x8986;&#x76d6;&#x7387; Stmts\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1096,1104"}}],"payload":{"tag":"h2","lines":"1094,1095"}},{"content":"&#x5b9e;&#x6218;&#x6848;&#x4f8b;","children":[{"content":"&#x4f8b;&#x5982;&#xff1a;&#x5bf9;&#x4e00;&#x4e2a;Stack&#x7c7b;&#x8fdb;&#x884c;&#x5355;&#x5143;&#x6d4b;&#x8bd5;&#x3002;","children":[],"payload":{"tag":"h3","lines":"1106,1107"}},{"content":"&#x88ab;&#x6d4b;&#x4ee3;&#x7801;","children":[{"content":"<pre data-lines=\"1109,1141\"><code class=\"language-plain\">// stack.js\nexport default class Stack {\n  constructor () {\n      this.stack = [];\n  }\n  push (...element) {\n    this.stack.push(...element);\n  }\n  pop () {\n      if (this.isEmpty()) {\n          return undefined;\n      }\n      return this.stack.pop();\n  }\n  peek () {\n      if (this.isEmpty()) {\n          return undefined;\n      }\n      return this.stack[this.stack.length - 1]\n  }\n  isEmpty () {\n      return this.stack.length === 0;\n  }\n  clear () {\n      this.stack = [];\n  }\n  size () {\n      return this.stack.length;\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1109,1141"}}],"payload":{"tag":"h3","lines":"1108,1109"}},{"content":"bad case","children":[{"content":"<pre data-lines=\"1143,1146\"><code data-lines=\"1143,1146\">&#x4e8e;&#x662f;&#xff0c;&#x6211;&#x4eec;&#x5f88;&#x5bb9;&#x6613;&#x5199;&#x51fa;&#x4ee5;&#x4e0b;&#x8fd9;&#x6837;&#x7684;&#x5355;&#x5143;&#x6d4b;&#x8bd5;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1143,1146"}},{"content":"<pre data-lines=\"1146,1195\"><code class=\"language-plain\">// stack.test.js\ntest(&apos;test push&apos;, () =&gt; {\n  let stack = new Stack();\n  stack.push(1);\n  stack.push(2);\n  expect(stack.size()).toBe(2);\n});\n\ntest(&apos;test pop&apos;, () =&gt; {\n  let stack = new Stack();\n  expect(stack.pop()).toBeUndefined();\n\n  stack.push(1);\n  stack.push(2);\n  expect(stack.pop()).toBe(2);\n  expect(stack.pop()).toBe(1);\n  expect(stack.pop()).toBeUndefined();\n});\n\ntest(&apos;test peek&apos;, () =&gt; {\n  let stack = new Stack();\n  expect(stack.peek()).toBeUndefined();\n  stack.push(1);\n  stack.push(2);\n  expect(stack.peek()).toBe(2);\n});\n\ntest(&apos;test isEmpty&apos;, () =&gt; {\n  let stack = new Stack();\n  expect(stack.isEmpty()).toBe(true);\n  stack.push(1);\n  expect(stack.isEmpty()).toBe(false);\n});\n\ntest(&apos;test clear&apos;, () =&gt; {\n  let stack = new Stack();\n  stack.push(1);\n  expect(stack.size()).toBe(1);\n  stack.clear();\n  expect(stack.size()).toBe(0);\n});\n\ntest(&apos;test size&apos;, () =&gt; {\n  let stack = new Stack();\n  stack.push(1);\n  expect(stack.size()).toBe(1);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1146,1195"}},{"content":"<pre data-lines=\"1195,1203\"><code data-lines=\"1195,1203\">&#x4f46;&#x662f;&#x5462;&#xff0c;&#x4ee5;&#x4e0a;&#x4ee3;&#x7801;&#x770b;&#x7740;&#x597d;&#x50cf;&#x5bf9;&#x6bcf;&#x4e2a;&#x65b9;&#x6cd5;&#x90fd;&#x5199;&#x4e86;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#xff0c;&#x6d4b;&#x8bd5;&#x8986;&#x76d6;&#x7387;&#x8fbe;&#x5230;&#x4e86;100%&#xff0c;&#x4f46;&#x5176;&#x5b9e;&#x4e0a;&#x9762;&#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x5b58;&#x5728;&#x5927;&#x91cf;&#x95ee;&#x9898;&#xff1a;\n\n<span class=\"hljs-bullet\">1.</span> <span class=\"hljs-strong\">**&#x7528;&#x4f8b;&#x7ed3;&#x6784;&#x8981;&#x5206;&#x7c7b;**</span>&#xff0c;&#x6bd4;&#x5982;&#x540c;&#x4e00;&#x4e2a;&#x65b9;&#x6cd5;&#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#xff0c;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x7528;describle&#x5305;&#x56f4;&#x8d77;&#x6765;&#xff0c;&#x8fd9;&#x6837;&#x6574;&#x4f53;&#x7ed3;&#x6784;&#x66f4;&#x6e05;&#x6670;\n<span class=\"hljs-bullet\">2.</span> <span class=\"hljs-strong\">**&#x8981;&#x5408;&#x7406;&#x8fdb;&#x884c;&#x590d;&#x7528;**</span>&#xff0c;&#x4ee5;&#x4e0a;&#x4ee3;&#x7801;&#x6bcf;&#x4e2a;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x4e2d;&#x90fd;&#x521b;&#x5efa;&#x4e86;stack&#x5b9e;&#x4f8b;&#xff0c;&#x5176;&#x5b9e;&#x6ca1;&#x5fc5;&#x8981;&#xff0c;&#x53ef;&#x4ee5;&#x590d;&#x7528;stack&#x5b9e;&#x4f8b;&#xff0c;&#x5e76;&#x4e14;&#x8981;&#x5de7;&#x7528;&#x751f;&#x547d;&#x5468;&#x671f;&#x65b9;&#x6cd5;&#x3002;\n<span class=\"hljs-bullet\">3.</span> <span class=\"hljs-strong\">**&#x6309;&#x9700;&#x8981;&#x5b9a;&#x5236;&#x901a;&#x7528;&#x90e8;&#x5206;**</span>&#xff0c;&#x5373;&#x5982;&#x679c;&#x591a;&#x4e2a;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x4e2d;&#x6709;&#x4e00;&#x4e9b;&#x53ef;&#x4ee5;&#x590d;&#x7528;&#x7684;&#x903b;&#x8f91;&#xff0c;&#x6211;&#x4eec;&#x90fd;&#x53ef;&#x4ee5;&#x62bd;&#x8c61;&#x51fa;&#x6765;&#x3002;\n<span class=\"hljs-bullet\">4.</span> <span class=\"hljs-strong\">**&#x9762;&#x5411;&#x610f;&#x56fe;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x9762;&#x5411;&#x5bf9;&#x8c61;&#x3002;**</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1195,1203"}}],"payload":{"tag":"h3","lines":"1142,1143"}},{"content":"good case","children":[{"content":"<pre data-lines=\"1204,1209\"><code data-lines=\"1204,1209\">&#x6240;&#x6709;&#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x90fd;&#x662f;&#x9762;&#x5411;&#x610f;&#x56fe;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x9762;&#x5411;&#x5bf9;&#x8c61;&#x3002;&#x800c;&#x6211;&#x4eec;&#x4e0a;&#x9762;&#x7684;&#x6d4b;&#x8bd5;&#x4ee3;&#x7801;&#x6b63;&#x662f;&#x72af;&#x4e86;&#x8fd9;&#x4e2a;&#x9519;&#x8bef;&#x3002;&#x6211;&#x4eec;&#x53ea;&#x662f;&#x7b80;&#x5355;&#x4e3a;<span class=\"hljs-built_in\">Stack</span>&#x4e2d;&#x7684;&#x6bcf;&#x4e2a;&#x65b9;&#x6cd5;&#x6dfb;&#x52a0;&#x4e86;&#x4e00;&#x4e2a;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#xff0c;&#x4f46;&#x5176;&#x5b9e;&#x5f88;&#x591a;&#x65b9;&#x6cd5;&#x90fd;&#x662f;&#x8054;&#x52a8;&#x7684;&#xff0c;&#x6240;&#x4ee5;&#x6ca1;&#x5fc5;&#x8981;&#x4ece;&#x65b9;&#x6cd5;&#x7684;&#x6570;&#x91cf;&#x7ef4;&#x5ea6;&#x53bb;&#x8bbe;&#x8ba1;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#xff0c;&#x800c;&#x662f;&#x8981;&#x4ece;&#x610f;&#x56fe;&#xff0c;&#x6216;&#x8005;&#x4ece;&#x5b9e;&#x9645;&#x4f7f;&#x7528;&#x7684;&#x89d2;&#x5ea6;&#x53bb;&#x8bbe;&#x8ba1;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x3002;\n\n&#x5e76;&#x4e14;&#xff0c;&#x6bcf;&#x4e2a;&#x6bcf;&#x4e2a;&#x65b9;&#x6cd5;&#x968f;&#x7740;&#x53c2;&#x6570;&#x7684;&#x4e0d;&#x540c;&#xff0c;&#x8fd4;&#x56de;&#x503c;&#x7684;&#x4e0d;&#x540c;&#x7b49;&#xff0c;&#x90fd;&#x4f1a;&#x6709;&#x5f88;&#x591a;&#x79cd;&#x60c5;&#x51b5;&#xff0c;&#x90a3;&#x4e48;&#x8fd9;&#x4e2a;&#x65f6;&#x5019;&#xff0c;&#x6211;&#x4eec;&#x8981;&#x4e3a;&#x6bcf;&#x4e00;&#x79cd;&#x53ef;&#x80fd;&#x53d1;&#x751f;&#x7684;&#x60c5;&#x51b5;&#x90fd;&#x8981;&#x8bbe;&#x8ba1;&#x5bf9;&#x5e94;&#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1204,1209"}},{"content":"<pre data-lines=\"1209,1314\"><code class=\"language-plain\">// stack.test.js\ndescribe(&apos;init stack&apos;, () =&gt; {\n  let stack;\n  beforeEach(() =&gt; {\n    stack = new Stack();\n  });\n  test(&apos;default length&apos;, () =&gt; {\n    expect(stack.items.length).toBe(0);\n  });\n});\n\ndescribe(&apos;push method&apos;, () =&gt; {\n  let stack;\n  beforeEach(() =&gt; {\n    stack = new Stack();\n  });\n  test(&apos;when push single&#xff0c;size increase 1&apos;, () =&gt; {\n    stack.push(1);\n    expect(stack.items.length).toBe(1);\n  });\n  test(&apos;when push multiple, size increase multiple&apos;, () =&gt; {\n    stack.push(1, 2, 3, 4);\n    expect(stack.items.length).toBe(4);\n  });\n  test(&apos;when push, get correct last item&apos;, () =&gt; {\n    stack.push(1);\n    expect(stack.items).toEqual([1]);\n  });\n});\n\ndescribe(&apos;pop method&apos;, () =&gt; {\n  let stack;\n  beforeEach(() =&gt; {\n    stack = new Stack();\n    stack.push(1, 2, 3);\n  });\n  test(&apos;when pop, size decrease 1&apos;, () =&gt; {\n    expect(stack.items.length).toBe(3);\n    stack.pop();\n    expect(stack.items.length).toBe(2);\n  });\n  test(&apos;when pop, return last item&apos;, () =&gt; {\n    expect(stack.pop()).toBe(3);\n  });\n  test(&apos;when pop and stack is empty, return undefined&apos;, () =&gt; {\n    stack.pop();\n    stack.pop();\n    stack.pop();\n    expect(stack.pop()).toBeUndefined();\n  });\n});\n\ndescribe(&apos;peek method&apos;, () =&gt; {\n  let stack;\n  beforeEach(() =&gt; {\n    stack = new Stack();\n    stack.push(1, 2, 3);\n  });\n  test(&apos;when stack is not empty, return last item&apos;, () =&gt; {\n    expect(stack.peek()).toBe(3);\n  });\n  test(&apos;when stack is empty, return undefined&apos;, () =&gt; {\n    stack.clear();\n    expect(stack.peek()).toBeUndefined();\n  });\n});\n\ndescribe(&apos;clear method&apos;, () =&gt; {\n  let stack;\n  beforeEach(() =&gt; {\n    stack = new Stack();\n    stack.push(1, 2, 3);\n  });\n  test(&apos;when clear, size is 0&apos;, () =&gt; {\n    stack.clear();\n    expect(stack.items.length).toBe(0);\n  });\n});\n\ndescribe(&apos;size method&apos;, () =&gt; {\n  let stack;\n  beforeEach(() =&gt; {\n    stack = new Stack();\n    stack.push(1, 2, 3);\n  });\n  test(&apos;return correct size&apos;, () =&gt; {\n    expect(stack.size()).toBe(3);\n  });\n});\n\ndescribe(&apos;isEmpty method&apos;, () =&gt; {\n  let stack;\n  beforeEach(() =&gt; {\n    stack = new Stack();\n  });\n  test(&apos;when stack is empty, return true&apos;, () =&gt; {\n    expect(stack.isEmpty()).toBe(true);\n  });\n  test(&apos;when stack is empty, return false&apos;, () =&gt; {\n    stack.push(1, 2, 3);\n    expect(stack.isEmpty()).toBe(false);\n  });\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1209,1314"}},{"content":"<pre data-lines=\"1314,1320\"><code data-lines=\"1314,1320\">&#x8bf4;&#x660e;&#xff1a;\n\n<span class=\"hljs-number\">1.</span> &#x6211;&#x4eec;&#x5e76;&#x4e0d;&#x662f;&#x53ea;&#x6d4b;&#x8bd5;Stack&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x540c;&#x65f6;&#x8981;&#x7ed3;&#x5408;&#x5176;&#x5b9e;&#x9645;&#x4f7f;&#x7528;&#xff0c;&#x4f8b;&#x5982;Stack&#x7684;&#x521d;&#x59cb;&#x5316;&#x64cd;&#x4f5c;&#x7b49;&#xff0c;&#x6211;&#x4eec;&#x4e5f;&#x8fdb;&#x884c;&#x4e86;&#x5355;&#x5143;&#x6d4b;&#x8bd5;&#x3002;\n<span class=\"hljs-number\">2.</span> <span class=\"hljs-built_in\">Push</span>, <span class=\"hljs-built_in\">pop</span>&#x7b49;&#x65b9;&#x6cd5;&#xff0c;&#x6211;&#x4eec;&#x90fd;&#x9488;&#x5bf9;&#x4e0d;&#x540c;&#x60c5;&#x51b5;&#x4e0b;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x4ee5;&#x53ca;&#x8fd4;&#x56de;&#x503c;&#x505a;&#x4e86;&#x76f8;&#x5e94;&#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1314,1320"}}],"payload":{"tag":"h3","lines":"1203,1204"}},{"content":"case&#x603b;&#x7ed3;","children":[{"content":"<pre data-lines=\"1321,1329\"><code data-lines=\"1321,1329\">&#x901a;&#x8fc7;&#x8fd9;&#x4e2a;&#x7b80;&#x5355;case&#xff0c;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x6e05;&#x6670;&#x7684;&#x611f;&#x53d7;&#x5982;&#x4f55;&#x53bb;&#x66f4;&#x597d;&#x7684;&#x5199;&#x6d4b;&#x8bd5;&#x4ee3;&#x7801;&#xff0c;&#x901a;&#x5e38;&#x8981;&#x6ce8;&#x610f;&#x4ee5;&#x4e0b;&#x70b9;&#xff1a;\n\n<span class=\"hljs-bullet\">1.</span> &#x8981;&#x5584;&#x7528;describe&#xff0c;&#x628a;&#x7edf;&#x4e00;&#x7c7b;&#x578b;&#x7684;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x7ec4;&#x7ec7;&#x8d77;&#x6765;&#xff0c;&#x8fd9;&#x6837;&#x6574;&#x4f53;&#x7ed3;&#x6784;&#x4f1a;&#x66f4;&#x52a0;&#x6e05;&#x6670;&#x3002;\n<span class=\"hljs-bullet\">2.</span> &#x8981;&#x5584;&#x7528;&#x751f;&#x547d;&#x5468;&#x671f;&#x94a9;&#x5b50;&#x51fd;&#x6570;&#xff0c;&#x6211;&#x4eec;&#x901a;&#x5e38;&#x53ef;&#x4ee5;&#x5728;&#x8fd9;&#x4e9b;&#x94a9;&#x5b50;&#x51fd;&#x6570;&#x4e2d;&#x505a;&#x4e00;&#x4e9b;&#x53ef;&#x590d;&#x7528;&#x7684;&#x64cd;&#x4f5c;&#xff0c;&#x4f8b;&#x5982;&#xff1a;&#x6570;&#x636e;&#x7684;&#x521d;&#x59cb;&#x5316;&#xff0c;&#x9500;&#x6bc1;&#x7b49;&#x3002;\n<span class=\"hljs-bullet\">3.</span> &#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x4e4b;&#x95f4;&#x5982;&#x679c;&#x6709;&#x516c;&#x5171;&#x7684;&#x903b;&#x8f91;&#xff0c;&#x6211;&#x4eec;&#x4e5f;&#x53ef;&#x4ee5;&#x62bd;&#x8c61;&#x6210;&#x4e00;&#x4e2a;&#x5355;&#x72ec;&#x7684;&#x65b9;&#x6cd5;&#x3002;\n<span class=\"hljs-bullet\">4.</span> &#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x7684;&#x7f16;&#x5199;&#x8981;&#x4ece;&#x5176;&#x5b9e;&#x9645;&#x4f7f;&#x7528;&#x60c5;&#x51b5;&#x51fa;&#x53d1;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x5355;&#x7eaf;&#x7684;&#x9762;&#x5411;&#x5bf9;&#x8c61;&#x53bb;&#x5199;&#x6d4b;&#x8bd5;&#x7528;&#x4f8b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1321,1329"}}],"payload":{"tag":"h3","lines":"1320,1321"}}],"payload":{"tag":"h2","lines":"1104,1105"}},{"content":"&#x603b;&#x7ed3;","children":[{"content":"<pre data-lines=\"1330,1335\"><code data-lines=\"1330,1335\">&#x5199;&#x5355;&#x5143;&#x6d4b;&#x8bd5;&#xff0c;&#x548c;&#x6211;&#x4eec;&#x5e73;&#x65f6;&#x5199;&#x4e1a;&#x52a1;&#x4ee3;&#x7801;&#xff0c;&#x6240;&#x7528;&#x7684;&#x77e5;&#x8bc6;&#x70b9;&#x5176;&#x5b9e;&#x6ca1;&#x6709;&#x672c;&#x8d28;&#x4e0a;&#x7684;&#x533a;&#x522b;&#xff0c;&#x5305;&#x62ec;<span class=\"hljs-keyword\">Jest&#x5185;&#x90e8;&#x63d0;&#x4f9b;&#x7684;&#x8fd9;&#x4e9b;API&#xff0c;&#x5176;&#x5b9e;&#x901a;&#x8fc7;&#x6211;&#x4eec;&#x524d;&#x9762;&#x7684;&#x4ecb;&#x7ecd;&#xff0c;&#x770b;&#x770b;&#x5b98;&#x7f51;&#xff0c;&#x6211;&#x4eec;&#x57fa;&#x672c;&#x90fd;&#x53ef;&#x4ee5;&#x638c;&#x63e1;&#xff0c;&#x4e2a;&#x4eba;&#x611f;&#x89c9;&#x5165;&#x95e8;&#x6700;&#x9ebb;&#x70e6;&#x7684;&#x4e00;&#x70b9;&#x662f;&#x601d;&#x7ef4;&#x65b9;&#x5f0f;&#x7684;&#x8f6c;&#x53d8;&#xff0c;&#x5c24;&#x5176;&#x662f;Mock&#x8fd9;&#x5757;&#xff0c;&#x6211;&#x4eec;&#x9700;&#x8981;&#x77e5;&#x9053;&#x4ec0;&#x4e48;&#x65f6;&#x5019;&#x8fdb;&#x884c;Mock&#xff0c;&#x5c0f;&#x4f19;&#x4f34;&#x513f;&#x770b;&#x5b8c;&#x8fd9;&#x8282;&#x5185;&#x5bb9;&#x4ee5;&#x540e;&#xff0c;&#x518d;&#x5b9e;&#x9645;&#x81ea;&#x5df1;&#x5199;&#x4ee3;&#x7801;&#x4f53;&#x4f1a;&#x4f53;&#x4f1a;&#xff0c;&#x76f8;&#x4fe1;&#x53ef;&#x4ee5;&#x5f88;&#x5feb;&#x5bf9;&#x5355;&#x5143;&#x6d4b;&#x8bd5;&#x6709;&#x4e00;&#x4e2a;&#x57fa;&#x672c;&#x7684;&#x8ba4;&#x8bc6;&#x548c;&#x5e94;&#x7528;&#x5566;&#x3002;\n</span>\n&#x5199;&#x4f5c;&#x4e0d;&#x6613;&#xff0c;&#x5982;&#x679c;&#x89c9;&#x5f97;&#x8fd8;&#x4e0d;&#x9519;&#x7684;&#x8bdd;&#xff0c;&#x6b22;&#x8fce;&#x70b9;&#x8d5e;&#x548c;&#x5173;&#x6ce8;&#x54e6; &#x1f60a;&#x1f60a;&#x1f60a;  \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"1330,1335"}}],"payload":{"tag":"h2","lines":"1329,1330"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
