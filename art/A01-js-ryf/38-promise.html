<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"Promise &#x5bf9;&#x8c61;","children":[{"content":"&#x6982;&#x8ff0;","children":[{"content":"<pre data-lines=\"4,9\"><code>Promise &#x5bf9;&#x8c61;&#x662f; JavaScript &#x7684;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x89e3;&#x51b3;&#x65b9;&#x6848;&#xff0c;&#x4e3a;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x63d0;&#x4f9b;&#x7edf;&#x4e00;&#x63a5;&#x53e3;&#x3002;&#x5b83;&#x8d77;&#x5230;&#x4ee3;&#x7406;&#x4f5c;&#x7528;&#xff08;proxy&#xff09;&#xff0c;&#x5145;&#x5f53;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x4e0e;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x4e4b;&#x95f4;&#x7684;&#x4e2d;&#x4ecb;&#xff0c;&#x4f7f;&#x5f97;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x5177;&#x5907;&#x540c;&#x6b65;&#x64cd;&#x4f5c;&#x7684;&#x63a5;&#x53e3;&#x3002;Promise &#x53ef;&#x4ee5;&#x8ba9;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x5199;&#x8d77;&#x6765;&#xff0c;&#x5c31;&#x50cf;&#x5728;&#x5199;&#x540c;&#x6b65;&#x64cd;&#x4f5c;&#x7684;&#x6d41;&#x7a0b;&#xff0c;&#x800c;&#x4e0d;&#x5fc5;&#x4e00;&#x5c42;&#x5c42;&#x5730;&#x5d4c;&#x5957;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x3002;\n\n&#x6ce8;&#x610f;&#xff0c;&#x672c;&#x7ae0;&#x53ea;&#x662f; Promise &#x5bf9;&#x8c61;&#x7684;&#x7b80;&#x5355;&#x4ecb;&#x7ecd;&#x3002;&#x4e3a;&#x4e86;&#x907f;&#x514d;&#x4e0e;&#x540e;&#x7eed;&#x6559;&#x7a0b;&#x7684;&#x91cd;&#x590d;&#xff0c;&#x66f4;&#x5b8c;&#x6574;&#x7684;&#x4ecb;&#x7ecd;&#x8bf7;&#x770b;[&#x300a;ES6 &#x6807;&#x51c6;&#x5165;&#x95e8;&#x300b;](http://es6.ruanyifeng.com/)&#x7684;[&#x300a;Promise &#x5bf9;&#x8c61;&#x300b;](http://es6.ruanyifeng.com/#docs/promise)&#x4e00;&#x7ae0;&#x3002;\n\n&#x9996;&#x5148;&#xff0c;Promise &#x662f;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x4e5f;&#x662f;&#x4e00;&#x4e2a;&#x6784;&#x9020;&#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,9"}},{"content":"<pre data-lines=\"10,17\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">f1</span>(<span class=\"hljs-params\">resolve, reject</span>) {\n  <span class=\"hljs-comment\">// &#x5f02;&#x6b65;&#x4ee3;&#x7801;...</span>\n}\n\n<span class=\"hljs-keyword\">var</span> p1 = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(f1);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"10,17"}},{"content":"<pre data-lines=\"18,21\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`Promise`&#x6784;&#x9020;&#x51fd;&#x6570;&#x63a5;&#x53d7;&#x4e00;&#x4e2a;&#x56de;&#x8c03;&#x51fd;&#x6570;`f1`&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#xff0c;`f1`&#x91cc;&#x9762;&#x662f;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x7684;&#x4ee3;&#x7801;&#x3002;&#x7136;&#x540e;&#xff0c;&#x8fd4;&#x56de;&#x7684;`p1`&#x5c31;&#x662f;&#x4e00;&#x4e2a; Promise &#x5b9e;&#x4f8b;&#x3002;\n\nPromise &#x7684;&#x8bbe;&#x8ba1;&#x601d;&#x60f3;&#x662f;&#xff0c;&#x6240;&#x6709;&#x5f02;&#x6b65;&#x4efb;&#x52a1;&#x90fd;&#x8fd4;&#x56de;&#x4e00;&#x4e2a; Promise &#x5b9e;&#x4f8b;&#x3002;Promise &#x5b9e;&#x4f8b;&#x6709;&#x4e00;&#x4e2a;`then`&#x65b9;&#x6cd5;&#xff0c;&#x7528;&#x6765;&#x6307;&#x5b9a;&#x4e0b;&#x4e00;&#x6b65;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"18,21"}},{"content":"<pre data-lines=\"22,26\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> p1 = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(f1);\np1.<span class=\"hljs-title function_\">then</span>(f2);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"22,26"}},{"content":"<pre data-lines=\"27,30\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`f1`&#x7684;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x6267;&#x884c;&#x5b8c;&#x6210;&#xff0c;&#x5c31;&#x4f1a;&#x6267;&#x884c;`f2`&#x3002;\n\n&#x4f20;&#x7edf;&#x7684;&#x5199;&#x6cd5;&#x53ef;&#x80fd;&#x9700;&#x8981;&#x628a;`f2`&#x4f5c;&#x4e3a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x4f20;&#x5165;`f1`&#xff0c;&#x6bd4;&#x5982;&#x5199;&#x6210;`f1(f2)`&#xff0c;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x5b8c;&#x6210;&#x540e;&#xff0c;&#x5728;`f1`&#x5185;&#x90e8;&#x8c03;&#x7528;`f2`&#x3002;Promise &#x4f7f;&#x5f97;`f1`&#x548c;`f2`&#x53d8;&#x6210;&#x4e86;&#x94fe;&#x5f0f;&#x5199;&#x6cd5;&#x3002;&#x4e0d;&#x4ec5;&#x6539;&#x5584;&#x4e86;&#x53ef;&#x8bfb;&#x6027;&#xff0c;&#x800c;&#x4e14;&#x5bf9;&#x4e8e;&#x591a;&#x5c42;&#x5d4c;&#x5957;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x5c24;&#x5176;&#x65b9;&#x4fbf;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"27,30"}},{"content":"<pre data-lines=\"31,49\"><code class=\"language-javascript\"><span class=\"hljs-comment\">// &#x4f20;&#x7edf;&#x5199;&#x6cd5;</span>\n<span class=\"hljs-title function_\">step1</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">value1</span>) {\n  <span class=\"hljs-title function_\">step2</span>(value1, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">value2</span>) {\n    <span class=\"hljs-title function_\">step3</span>(value2, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">value3</span>) {\n      <span class=\"hljs-title function_\">step4</span>(value3, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">value4</span>) {\n        <span class=\"hljs-comment\">// ...</span>\n      });\n    });\n  });\n});\n\n<span class=\"hljs-comment\">// Promise &#x7684;&#x5199;&#x6cd5;</span>\n(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(step1))\n  .<span class=\"hljs-title function_\">then</span>(step2)\n  .<span class=\"hljs-title function_\">then</span>(step3)\n  .<span class=\"hljs-title function_\">then</span>(step4);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"31,49"}},{"content":"<pre data-lines=\"50,55\"><code>&#x4ece;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x53ef;&#x4ee5;&#x770b;&#x5230;&#xff0c;&#x91c7;&#x7528; Promises &#x4ee5;&#x540e;&#xff0c;&#x7a0b;&#x5e8f;&#x6d41;&#x7a0b;&#x53d8;&#x5f97;&#x975e;&#x5e38;&#x6e05;&#x695a;&#xff0c;&#x5341;&#x5206;&#x6613;&#x8bfb;&#x3002;&#x6ce8;&#x610f;&#xff0c;&#x4e3a;&#x4e86;&#x4fbf;&#x4e8e;&#x7406;&#x89e3;&#xff0c;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;`Promise`&#x5b9e;&#x4f8b;&#x7684;&#x751f;&#x6210;&#x683c;&#x5f0f;&#xff0c;&#x505a;&#x4e86;&#x7b80;&#x5316;&#xff0c;&#x771f;&#x6b63;&#x7684;&#x8bed;&#x6cd5;&#x8bf7;&#x53c2;&#x7167;&#x4e0b;&#x6587;&#x3002;\n\n&#x603b;&#x7684;&#x6765;&#x8bf4;&#xff0c;&#x4f20;&#x7edf;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x5199;&#x6cd5;&#x4f7f;&#x5f97;&#x4ee3;&#x7801;&#x6df7;&#x6210;&#x4e00;&#x56e2;&#xff0c;&#x53d8;&#x5f97;&#x6a2a;&#x5411;&#x53d1;&#x5c55;&#x800c;&#x4e0d;&#x662f;&#x5411;&#x4e0b;&#x53d1;&#x5c55;&#x3002;Promise &#x5c31;&#x662f;&#x89e3;&#x51b3;&#x8fd9;&#x4e2a;&#x95ee;&#x9898;&#xff0c;&#x4f7f;&#x5f97;&#x5f02;&#x6b65;&#x6d41;&#x7a0b;&#x53ef;&#x4ee5;&#x5199;&#x6210;&#x540c;&#x6b65;&#x6d41;&#x7a0b;&#x3002;\n\nPromise &#x539f;&#x672c;&#x53ea;&#x662f;&#x793e;&#x533a;&#x63d0;&#x51fa;&#x7684;&#x4e00;&#x4e2a;&#x6784;&#x60f3;&#xff0c;&#x4e00;&#x4e9b;&#x51fd;&#x6570;&#x5e93;&#x7387;&#x5148;&#x5b9e;&#x73b0;&#x4e86;&#x8fd9;&#x4e2a;&#x529f;&#x80fd;&#x3002;ECMAScript 6 &#x5c06;&#x5176;&#x5199;&#x5165;&#x8bed;&#x8a00;&#x6807;&#x51c6;&#xff0c;&#x76ee;&#x524d; JavaScript &#x539f;&#x751f;&#x652f;&#x6301; Promise &#x5bf9;&#x8c61;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"50,55"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"Promise &#x5bf9;&#x8c61;&#x7684;&#x72b6;&#x6001;","children":[{"content":"<pre data-lines=\"58,77\"><code>Promise &#x5bf9;&#x8c61;&#x901a;&#x8fc7;&#x81ea;&#x8eab;&#x7684;&#x72b6;&#x6001;&#xff0c;&#x6765;&#x63a7;&#x5236;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x3002;Promise &#x5b9e;&#x4f8b;&#x5177;&#x6709;&#x4e09;&#x79cd;&#x72b6;&#x6001;&#x3002;\n\n- &#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x672a;&#x5b8c;&#x6210;&#xff08;pending&#xff09;\n- &#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x6210;&#x529f;&#xff08;fulfilled&#xff09;\n- &#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x5931;&#x8d25;&#xff08;rejected&#xff09;\n\n&#x4e0a;&#x9762;&#x4e09;&#x79cd;&#x72b6;&#x6001;&#x91cc;&#x9762;&#xff0c;`fulfilled`&#x548c;`rejected`&#x5408;&#x5728;&#x4e00;&#x8d77;&#x79f0;&#x4e3a;`resolved`&#xff08;&#x5df2;&#x5b9a;&#x578b;&#xff09;&#x3002;\n\n&#x8fd9;&#x4e09;&#x79cd;&#x7684;&#x72b6;&#x6001;&#x7684;&#x53d8;&#x5316;&#x9014;&#x5f84;&#x53ea;&#x6709;&#x4e24;&#x79cd;&#x3002;\n\n- &#x4ece;&#x201c;&#x672a;&#x5b8c;&#x6210;&#x201d;&#x5230;&#x201c;&#x6210;&#x529f;&#x201d;\n- &#x4ece;&#x201c;&#x672a;&#x5b8c;&#x6210;&#x201d;&#x5230;&#x201c;&#x5931;&#x8d25;&#x201d;\n\n&#x4e00;&#x65e6;&#x72b6;&#x6001;&#x53d1;&#x751f;&#x53d8;&#x5316;&#xff0c;&#x5c31;&#x51dd;&#x56fa;&#x4e86;&#xff0c;&#x4e0d;&#x4f1a;&#x518d;&#x6709;&#x65b0;&#x7684;&#x72b6;&#x6001;&#x53d8;&#x5316;&#x3002;&#x8fd9;&#x4e5f;&#x662f; Promise &#x8fd9;&#x4e2a;&#x540d;&#x5b57;&#x7684;&#x7531;&#x6765;&#xff0c;&#x5b83;&#x7684;&#x82f1;&#x8bed;&#x610f;&#x601d;&#x662f;&#x201c;&#x627f;&#x8bfa;&#x201d;&#xff0c;&#x4e00;&#x65e6;&#x627f;&#x8bfa;&#x6210;&#x6548;&#xff0c;&#x5c31;&#x4e0d;&#x5f97;&#x518d;&#x6539;&#x53d8;&#x4e86;&#x3002;&#x8fd9;&#x4e5f;&#x610f;&#x5473;&#x7740;&#xff0c;Promise &#x5b9e;&#x4f8b;&#x7684;&#x72b6;&#x6001;&#x53d8;&#x5316;&#x53ea;&#x53ef;&#x80fd;&#x53d1;&#x751f;&#x4e00;&#x6b21;&#x3002;\n\n&#x56e0;&#x6b64;&#xff0c;Promise &#x7684;&#x6700;&#x7ec8;&#x7ed3;&#x679c;&#x53ea;&#x6709;&#x4e24;&#x79cd;&#x3002;\n\n- &#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x6210;&#x529f;&#xff0c;Promise &#x5b9e;&#x4f8b;&#x4f20;&#x56de;&#x4e00;&#x4e2a;&#x503c;&#xff08;value&#xff09;&#xff0c;&#x72b6;&#x6001;&#x53d8;&#x4e3a;`fulfilled`&#x3002;\n- &#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x5931;&#x8d25;&#xff0c;Promise &#x5b9e;&#x4f8b;&#x629b;&#x51fa;&#x4e00;&#x4e2a;&#x9519;&#x8bef;&#xff08;error&#xff09;&#xff0c;&#x72b6;&#x6001;&#x53d8;&#x4e3a;`rejected`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"58,77"}}],"payload":{"tag":"h2","lines":"56,57"}},{"content":"Promise &#x6784;&#x9020;&#x51fd;&#x6570;","children":[{"content":"<pre data-lines=\"80,81\"><code>JavaScript &#x63d0;&#x4f9b;&#x539f;&#x751f;&#x7684;`Promise`&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x7528;&#x6765;&#x751f;&#x6210; Promise &#x5b9e;&#x4f8b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"80,81"}},{"content":"<pre data-lines=\"82,93\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> promise = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">resolve, reject</span>) {\n  <span class=\"hljs-comment\">// ...</span>\n\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-comment\">/* &#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x6210;&#x529f; */</span>){\n    <span class=\"hljs-title function_\">resolve</span>(value);\n  } <span class=\"hljs-keyword\">else</span> { <span class=\"hljs-comment\">/* &#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x5931;&#x8d25; */</span>\n    <span class=\"hljs-title function_\">reject</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>());\n  }\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"82,93"}},{"content":"<pre data-lines=\"94,99\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`Promise`&#x6784;&#x9020;&#x51fd;&#x6570;&#x63a5;&#x53d7;&#x4e00;&#x4e2a;&#x51fd;&#x6570;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#xff0c;&#x8be5;&#x51fd;&#x6570;&#x7684;&#x4e24;&#x4e2a;&#x53c2;&#x6570;&#x5206;&#x522b;&#x662f;`resolve`&#x548c;`reject`&#x3002;&#x5b83;&#x4eec;&#x662f;&#x4e24;&#x4e2a;&#x51fd;&#x6570;&#xff0c;&#x7531; JavaScript &#x5f15;&#x64ce;&#x63d0;&#x4f9b;&#xff0c;&#x4e0d;&#x7528;&#x81ea;&#x5df1;&#x5b9e;&#x73b0;&#x3002;\n\n`resolve`&#x51fd;&#x6570;&#x7684;&#x4f5c;&#x7528;&#x662f;&#xff0c;&#x5c06;`Promise`&#x5b9e;&#x4f8b;&#x7684;&#x72b6;&#x6001;&#x4ece;&#x201c;&#x672a;&#x5b8c;&#x6210;&#x201d;&#x53d8;&#x4e3a;&#x201c;&#x6210;&#x529f;&#x201d;&#xff08;&#x5373;&#x4ece;`pending`&#x53d8;&#x4e3a;`fulfilled`&#xff09;&#xff0c;&#x5728;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x6210;&#x529f;&#x65f6;&#x8c03;&#x7528;&#xff0c;&#x5e76;&#x5c06;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x7684;&#x7ed3;&#x679c;&#xff0c;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#x4f20;&#x9012;&#x51fa;&#x53bb;&#x3002;`reject`&#x51fd;&#x6570;&#x7684;&#x4f5c;&#x7528;&#x662f;&#xff0c;&#x5c06;`Promise`&#x5b9e;&#x4f8b;&#x7684;&#x72b6;&#x6001;&#x4ece;&#x201c;&#x672a;&#x5b8c;&#x6210;&#x201d;&#x53d8;&#x4e3a;&#x201c;&#x5931;&#x8d25;&#x201d;&#xff08;&#x5373;&#x4ece;`pending`&#x53d8;&#x4e3a;`rejected`&#xff09;&#xff0c;&#x5728;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x5931;&#x8d25;&#x65f6;&#x8c03;&#x7528;&#xff0c;&#x5e76;&#x5c06;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x62a5;&#x51fa;&#x7684;&#x9519;&#x8bef;&#xff0c;&#x4f5c;&#x4e3a;&#x53c2;&#x6570;&#x4f20;&#x9012;&#x51fa;&#x53bb;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"94,99"}},{"content":"<pre data-lines=\"100,109\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">timeout</span>(<span class=\"hljs-params\">ms</span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> {\n    <span class=\"hljs-built_in\">setTimeout</span>(resolve, ms, <span class=\"hljs-string\">&apos;done&apos;</span>);\n  });\n}\n\n<span class=\"hljs-title function_\">timeout</span>(<span class=\"hljs-number\">100</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"100,109"}},{"content":"<pre data-lines=\"110,111\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`timeout(100)`&#x8fd4;&#x56de;&#x4e00;&#x4e2a; Promise &#x5b9e;&#x4f8b;&#x3002;100&#x6beb;&#x79d2;&#x4ee5;&#x540e;&#xff0c;&#x8be5;&#x5b9e;&#x4f8b;&#x7684;&#x72b6;&#x6001;&#x4f1a;&#x53d8;&#x4e3a;`fulfilled`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"110,111"}}],"payload":{"tag":"h2","lines":"78,79"}},{"content":"Promise.prototype.then()","children":[{"content":"<pre data-lines=\"114,117\"><code>Promise &#x5b9e;&#x4f8b;&#x7684;`then`&#x65b9;&#x6cd5;&#xff0c;&#x7528;&#x6765;&#x6dfb;&#x52a0;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x3002;\n\n`then`&#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#x4e24;&#x4e2a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x7b2c;&#x4e00;&#x4e2a;&#x662f;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x6210;&#x529f;&#x65f6;&#xff08;&#x53d8;&#x4e3a;`fulfilled`&#x72b6;&#x6001;&#xff09;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x7b2c;&#x4e8c;&#x4e2a;&#x662f;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x5931;&#x8d25;&#xff08;&#x53d8;&#x4e3a;`rejected`&#xff09;&#x65f6;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff08;&#x8be5;&#x53c2;&#x6570;&#x53ef;&#x4ee5;&#x7701;&#x7565;&#xff09;&#x3002;&#x4e00;&#x65e6;&#x72b6;&#x6001;&#x6539;&#x53d8;&#xff0c;&#x5c31;&#x8c03;&#x7528;&#x76f8;&#x5e94;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"114,117"}},{"content":"<pre data-lines=\"118,131\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> p1 = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">resolve, reject</span>) {\n  <span class=\"hljs-title function_\">resolve</span>(<span class=\"hljs-string\">&apos;&#x6210;&#x529f;&apos;</span>);\n});\np1.<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-property\">log</span>, <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-property\">error</span>);\n<span class=\"hljs-comment\">// &quot;&#x6210;&#x529f;&quot;</span>\n\n<span class=\"hljs-keyword\">var</span> p2 = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">resolve, reject</span>) {\n  <span class=\"hljs-title function_\">reject</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(<span class=\"hljs-string\">&apos;&#x5931;&#x8d25;&apos;</span>));\n});\np2.<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-property\">log</span>, <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-property\">error</span>);\n<span class=\"hljs-comment\">// Error: &#x5931;&#x8d25;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"118,131"}},{"content":"<pre data-lines=\"132,135\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`p1`&#x548c;`p2`&#x90fd;&#x662f;Promise &#x5b9e;&#x4f8b;&#xff0c;&#x5b83;&#x4eec;&#x7684;`then`&#x65b9;&#x6cd5;&#x7ed1;&#x5b9a;&#x4e24;&#x4e2a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff1a;&#x6210;&#x529f;&#x65f6;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;`console.log`&#xff0c;&#x5931;&#x8d25;&#x65f6;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;`console.error`&#xff08;&#x53ef;&#x4ee5;&#x7701;&#x7565;&#xff09;&#x3002;`p1`&#x7684;&#x72b6;&#x6001;&#x53d8;&#x4e3a;&#x6210;&#x529f;&#xff0c;`p2`&#x7684;&#x72b6;&#x6001;&#x53d8;&#x4e3a;&#x5931;&#x8d25;&#xff0c;&#x5bf9;&#x5e94;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x4f1a;&#x6536;&#x5230;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#x4f20;&#x56de;&#x7684;&#x503c;&#xff0c;&#x7136;&#x540e;&#x5728;&#x63a7;&#x5236;&#x53f0;&#x8f93;&#x51fa;&#x3002;\n\n`then`&#x65b9;&#x6cd5;&#x53ef;&#x4ee5;&#x94fe;&#x5f0f;&#x4f7f;&#x7528;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"132,135"}},{"content":"<pre data-lines=\"136,146\"><code class=\"language-javascript\">p1\n  .<span class=\"hljs-title function_\">then</span>(step1)\n  .<span class=\"hljs-title function_\">then</span>(step2)\n  .<span class=\"hljs-title function_\">then</span>(step3)\n  .<span class=\"hljs-title function_\">then</span>(\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-property\">log</span>,\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-property\">error</span>\n  );\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"136,146"}},{"content":"<pre data-lines=\"147,150\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`p1`&#x540e;&#x9762;&#x6709;&#x56db;&#x4e2a;`then`&#xff0c;&#x610f;&#x5473;&#x4f9d;&#x6b21;&#x6709;&#x56db;&#x4e2a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x3002;&#x53ea;&#x8981;&#x524d;&#x4e00;&#x6b65;&#x7684;&#x72b6;&#x6001;&#x53d8;&#x4e3a;`fulfilled`&#xff0c;&#x5c31;&#x4f1a;&#x4f9d;&#x6b21;&#x6267;&#x884c;&#x7d27;&#x8ddf;&#x5728;&#x540e;&#x9762;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x3002;\n\n&#x6700;&#x540e;&#x4e00;&#x4e2a;`then`&#x65b9;&#x6cd5;&#xff0c;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x662f;`console.log`&#x548c;`console.error`&#xff0c;&#x7528;&#x6cd5;&#x4e0a;&#x6709;&#x4e00;&#x70b9;&#x91cd;&#x8981;&#x7684;&#x533a;&#x522b;&#x3002;`console.log`&#x53ea;&#x663e;&#x793a;`step3`&#x7684;&#x8fd4;&#x56de;&#x503c;&#xff0c;&#x800c;`console.error`&#x53ef;&#x4ee5;&#x663e;&#x793a;`p1`&#x3001;`step1`&#x3001;`step2`&#x3001;`step3`&#x4e4b;&#x4e2d;&#x4efb;&#x610f;&#x4e00;&#x4e2a;&#x53d1;&#x751f;&#x7684;&#x9519;&#x8bef;&#x3002;&#x4e3e;&#x4f8b;&#x6765;&#x8bf4;&#xff0c;&#x5982;&#x679c;`step1`&#x7684;&#x72b6;&#x6001;&#x53d8;&#x4e3a;`rejected`&#xff0c;&#x90a3;&#x4e48;`step2`&#x548c;`step3`&#x90fd;&#x4e0d;&#x4f1a;&#x6267;&#x884c;&#x4e86;&#xff08;&#x56e0;&#x4e3a;&#x5b83;&#x4eec;&#x662f;`resolved`&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff09;&#x3002;Promise &#x5f00;&#x59cb;&#x5bfb;&#x627e;&#xff0c;&#x63a5;&#x4e0b;&#x6765;&#x7b2c;&#x4e00;&#x4e2a;&#x4e3a;`rejected`&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x5728;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#x662f;`console.error`&#x3002;&#x8fd9;&#x5c31;&#x662f;&#x8bf4;&#xff0c;Promise &#x5bf9;&#x8c61;&#x7684;&#x62a5;&#x9519;&#x5177;&#x6709;&#x4f20;&#x9012;&#x6027;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"147,150"}}],"payload":{"tag":"h2","lines":"112,113"}},{"content":"then() &#x7528;&#x6cd5;&#x8fa8;&#x6790;","children":[{"content":"<pre data-lines=\"153,154\"><code>Promise &#x7684;&#x7528;&#x6cd5;&#xff0c;&#x7b80;&#x5355;&#x8bf4;&#x5c31;&#x662f;&#x4e00;&#x53e5;&#x8bdd;&#xff1a;&#x4f7f;&#x7528;`then`&#x65b9;&#x6cd5;&#x6dfb;&#x52a0;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x3002;&#x4f46;&#x662f;&#xff0c;&#x4e0d;&#x540c;&#x7684;&#x5199;&#x6cd5;&#x6709;&#x4e00;&#x4e9b;&#x7ec6;&#x5fae;&#x7684;&#x5dee;&#x522b;&#xff0c;&#x8bf7;&#x770b;&#x4e0b;&#x9762;&#x56db;&#x79cd;&#x5199;&#x6cd5;&#xff0c;&#x5b83;&#x4eec;&#x7684;&#x5dee;&#x522b;&#x5728;&#x54ea;&#x91cc;&#xff1f;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"153,154"}},{"content":"<pre data-lines=\"155,172\"><code class=\"language-javascript\"><span class=\"hljs-comment\">// &#x5199;&#x6cd5;&#x4e00;</span>\n<span class=\"hljs-title function_\">f1</span>().<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">f2</span>();\n});\n\n<span class=\"hljs-comment\">// &#x5199;&#x6cd5;&#x4e8c;</span>\n<span class=\"hljs-title function_\">f1</span>().<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-title function_\">f2</span>();\n});\n\n<span class=\"hljs-comment\">// &#x5199;&#x6cd5;&#x4e09;</span>\n<span class=\"hljs-title function_\">f1</span>().<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-title function_\">f2</span>());\n\n<span class=\"hljs-comment\">// &#x5199;&#x6cd5;&#x56db;</span>\n<span class=\"hljs-title function_\">f1</span>().<span class=\"hljs-title function_\">then</span>(f2);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"155,172"}},{"content":"<pre data-lines=\"173,174\"><code>&#x4e3a;&#x4e86;&#x4fbf;&#x4e8e;&#x8bb2;&#x89e3;&#xff0c;&#x4e0b;&#x9762;&#x8fd9;&#x56db;&#x79cd;&#x5199;&#x6cd5;&#x90fd;&#x518d;&#x7528;`then`&#x65b9;&#x6cd5;&#x63a5;&#x4e00;&#x4e2a;&#x56de;&#x8c03;&#x51fd;&#x6570;`f3`&#x3002;&#x5199;&#x6cd5;&#x4e00;&#x7684;`f3`&#x56de;&#x8c03;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x662f;`f2`&#x51fd;&#x6570;&#x7684;&#x8fd0;&#x884c;&#x7ed3;&#x679c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"173,174"}},{"content":"<pre data-lines=\"175,180\"><code class=\"language-javascript\"><span class=\"hljs-title function_\">f1</span>().<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">f2</span>();\n}).<span class=\"hljs-title function_\">then</span>(f3);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"175,180"}},{"content":"<pre data-lines=\"181,182\"><code>&#x5199;&#x6cd5;&#x4e8c;&#x7684;`f3`&#x56de;&#x8c03;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;&#x662f;`undefined`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"181,182"}},{"content":"<pre data-lines=\"183,189\"><code class=\"language-javascript\"><span class=\"hljs-title function_\">f1</span>().<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-title function_\">f2</span>();\n  <span class=\"hljs-keyword\">return</span>;\n}).<span class=\"hljs-title function_\">then</span>(f3);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"183,189"}},{"content":"<pre data-lines=\"190,191\"><code>&#x5199;&#x6cd5;&#x4e09;&#x7684;`f3`&#x56de;&#x8c03;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x662f;`f2`&#x51fd;&#x6570;&#x8fd4;&#x56de;&#x7684;&#x51fd;&#x6570;&#x7684;&#x8fd0;&#x884c;&#x7ed3;&#x679c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"190,191"}},{"content":"<pre data-lines=\"192,196\"><code class=\"language-javascript\">f1().then(f2())\n  .then(f3);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"192,196"}},{"content":"<pre data-lines=\"197,198\"><code>&#x5199;&#x6cd5;&#x56db;&#x4e0e;&#x5199;&#x6cd5;&#x4e00;&#x53ea;&#x6709;&#x4e00;&#x4e2a;&#x5dee;&#x522b;&#xff0c;&#x90a3;&#x5c31;&#x662f;`f2`&#x4f1a;&#x63a5;&#x6536;&#x5230;`f1()`&#x8fd4;&#x56de;&#x7684;&#x7ed3;&#x679c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"197,198"}},{"content":"<pre data-lines=\"199,203\"><code class=\"language-javascript\">f1().then(f2)\n  .then(f3);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"199,203"}}],"payload":{"tag":"h2","lines":"151,152"}},{"content":"&#x5b9e;&#x4f8b;&#xff1a;&#x56fe;&#x7247;&#x52a0;&#x8f7d;","children":[{"content":"<pre data-lines=\"206,207\"><code>&#x4e0b;&#x9762;&#x662f;&#x4f7f;&#x7528; Promise &#x5b8c;&#x6210;&#x56fe;&#x7247;&#x7684;&#x52a0;&#x8f7d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"206,207"}},{"content":"<pre data-lines=\"208,218\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> preloadImage = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">path</span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">resolve, reject</span>) {\n    <span class=\"hljs-keyword\">var</span> image = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Image</span>();\n    image.<span class=\"hljs-property\">onload</span>  = resolve;\n    image.<span class=\"hljs-property\">onerror</span> = reject;\n    image.<span class=\"hljs-property\">src</span> = path;\n  });\n};\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"208,218"}},{"content":"<pre data-lines=\"219,222\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`image`&#x662f;&#x4e00;&#x4e2a;&#x56fe;&#x7247;&#x5bf9;&#x8c61;&#x7684;&#x5b9e;&#x4f8b;&#x3002;&#x5b83;&#x6709;&#x4e24;&#x4e2a;&#x4e8b;&#x4ef6;&#x76d1;&#x542c;&#x5c5e;&#x6027;&#xff0c;`onload`&#x5c5e;&#x6027;&#x5728;&#x56fe;&#x7247;&#x52a0;&#x8f7d;&#x6210;&#x529f;&#x540e;&#x8c03;&#x7528;&#xff0c;`onerror`&#x5c5e;&#x6027;&#x5728;&#x52a0;&#x8f7d;&#x5931;&#x8d25;&#x8c03;&#x7528;&#x3002;\n\n&#x4e0a;&#x9762;&#x7684;`preloadImage()`&#x51fd;&#x6570;&#x7528;&#x6cd5;&#x5982;&#x4e0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"219,222"}},{"content":"<pre data-lines=\"223,228\"><code class=\"language-javascript\"><span class=\"hljs-title function_\">preloadImage</span>(<span class=\"hljs-string\">&apos;https://example.com/my.jpg&apos;</span>)\n  .<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">e</span>) { <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-property\">body</span>.<span class=\"hljs-title function_\">append</span>(e.<span class=\"hljs-property\">target</span>) })\n  .<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) { <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x52a0;&#x8f7d;&#x6210;&#x529f;&apos;</span>) })\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"223,228"}},{"content":"<pre data-lines=\"229,230\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x56fe;&#x7247;&#x52a0;&#x8f7d;&#x6210;&#x529f;&#x4ee5;&#x540e;&#xff0c;`onload`&#x5c5e;&#x6027;&#x4f1a;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x4e8b;&#x4ef6;&#x5bf9;&#x8c61;&#xff0c;&#x56e0;&#x6b64;&#x7b2c;&#x4e00;&#x4e2a;`then()`&#x65b9;&#x6cd5;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x4f1a;&#x63a5;&#x6536;&#x5230;&#x8fd9;&#x4e2a;&#x4e8b;&#x4ef6;&#x5bf9;&#x8c61;&#x3002;&#x8be5;&#x5bf9;&#x8c61;&#x7684;`target`&#x5c5e;&#x6027;&#x5c31;&#x662f;&#x56fe;&#x7247;&#x52a0;&#x8f7d;&#x540e;&#x751f;&#x6210;&#x7684; DOM &#x8282;&#x70b9;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"229,230"}}],"payload":{"tag":"h2","lines":"204,205"}},{"content":"&#x5c0f;&#x7ed3;","children":[{"content":"<pre data-lines=\"233,238\"><code>Promise &#x7684;&#x4f18;&#x70b9;&#x5728;&#x4e8e;&#xff0c;&#x8ba9;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x53d8;&#x6210;&#x4e86;&#x89c4;&#x8303;&#x7684;&#x94fe;&#x5f0f;&#x5199;&#x6cd5;&#xff0c;&#x7a0b;&#x5e8f;&#x6d41;&#x7a0b;&#x53ef;&#x4ee5;&#x770b;&#x5f97;&#x5f88;&#x6e05;&#x695a;&#x3002;&#x5b83;&#x6709;&#x4e00;&#x6574;&#x5957;&#x63a5;&#x53e3;&#xff0c;&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#x8bb8;&#x591a;&#x5f3a;&#x5927;&#x7684;&#x529f;&#x80fd;&#xff0c;&#x6bd4;&#x5982;&#x540c;&#x65f6;&#x6267;&#x884c;&#x591a;&#x4e2a;&#x5f02;&#x6b65;&#x64cd;&#x4f5c;&#xff0c;&#x7b49;&#x5230;&#x5b83;&#x4eec;&#x7684;&#x72b6;&#x6001;&#x90fd;&#x6539;&#x53d8;&#x4ee5;&#x540e;&#xff0c;&#x518d;&#x6267;&#x884c;&#x4e00;&#x4e2a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff1b;&#x518d;&#x6bd4;&#x5982;&#xff0c;&#x4e3a;&#x591a;&#x4e2a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x4e2d;&#x629b;&#x51fa;&#x7684;&#x9519;&#x8bef;&#xff0c;&#x7edf;&#x4e00;&#x6307;&#x5b9a;&#x5904;&#x7406;&#x65b9;&#x6cd5;&#x7b49;&#x7b49;&#x3002;\n\n&#x800c;&#x4e14;&#xff0c;Promise &#x8fd8;&#x6709;&#x4e00;&#x4e2a;&#x4f20;&#x7edf;&#x5199;&#x6cd5;&#x6ca1;&#x6709;&#x7684;&#x597d;&#x5904;&#xff1a;&#x5b83;&#x7684;&#x72b6;&#x6001;&#x4e00;&#x65e6;&#x6539;&#x53d8;&#xff0c;&#x65e0;&#x8bba;&#x4f55;&#x65f6;&#x67e5;&#x8be2;&#xff0c;&#x90fd;&#x80fd;&#x5f97;&#x5230;&#x8fd9;&#x4e2a;&#x72b6;&#x6001;&#x3002;&#x8fd9;&#x610f;&#x5473;&#x7740;&#xff0c;&#x65e0;&#x8bba;&#x4f55;&#x65f6;&#x4e3a; Promise &#x5b9e;&#x4f8b;&#x6dfb;&#x52a0;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x8be5;&#x51fd;&#x6570;&#x90fd;&#x80fd;&#x6b63;&#x786e;&#x6267;&#x884c;&#x3002;&#x6240;&#x4ee5;&#xff0c;&#x4f60;&#x4e0d;&#x7528;&#x62c5;&#x5fc3;&#x662f;&#x5426;&#x9519;&#x8fc7;&#x4e86;&#x67d0;&#x4e2a;&#x4e8b;&#x4ef6;&#x6216;&#x4fe1;&#x53f7;&#x3002;&#x5982;&#x679c;&#x662f;&#x4f20;&#x7edf;&#x5199;&#x6cd5;&#xff0c;&#x901a;&#x8fc7;&#x76d1;&#x542c;&#x4e8b;&#x4ef6;&#x6765;&#x6267;&#x884c;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x4e00;&#x65e6;&#x9519;&#x8fc7;&#x4e86;&#x4e8b;&#x4ef6;&#xff0c;&#x518d;&#x6dfb;&#x52a0;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x662f;&#x4e0d;&#x4f1a;&#x6267;&#x884c;&#x7684;&#x3002;\n\nPromise &#x7684;&#x7f3a;&#x70b9;&#x662f;&#xff0c;&#x7f16;&#x5199;&#x7684;&#x96be;&#x5ea6;&#x6bd4;&#x4f20;&#x7edf;&#x5199;&#x6cd5;&#x9ad8;&#xff0c;&#x800c;&#x4e14;&#x9605;&#x8bfb;&#x4ee3;&#x7801;&#x4e5f;&#x4e0d;&#x662f;&#x4e00;&#x773c;&#x53ef;&#x4ee5;&#x770b;&#x61c2;&#x3002;&#x4f60;&#x53ea;&#x4f1a;&#x770b;&#x5230;&#x4e00;&#x5806;`then`&#xff0c;&#x5fc5;&#x987b;&#x81ea;&#x5df1;&#x5728;`then`&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x91cc;&#x9762;&#x7406;&#x6e05;&#x903b;&#x8f91;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"233,238"}}],"payload":{"tag":"h2","lines":"231,232"}},{"content":"&#x5fae;&#x4efb;&#x52a1;","children":[{"content":"<pre data-lines=\"241,242\"><code>Promise &#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x5c5e;&#x4e8e;&#x5f02;&#x6b65;&#x4efb;&#x52a1;&#xff0c;&#x4f1a;&#x5728;&#x540c;&#x6b65;&#x4efb;&#x52a1;&#x4e4b;&#x540e;&#x6267;&#x884c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"241,242"}},{"content":"<pre data-lines=\"243,252\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">resolve, reject</span>) {\n  <span class=\"hljs-title function_\">resolve</span>(<span class=\"hljs-number\">1</span>);\n}).<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-property\">log</span>);\n\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-number\">2</span>);\n<span class=\"hljs-comment\">// 2</span>\n<span class=\"hljs-comment\">// 1</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"243,252"}},{"content":"<pre data-lines=\"253,256\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4f1a;&#x5148;&#x8f93;&#x51fa;2&#xff0c;&#x518d;&#x8f93;&#x51fa;1&#x3002;&#x56e0;&#x4e3a;`console.log(2)`&#x662f;&#x540c;&#x6b65;&#x4efb;&#x52a1;&#xff0c;&#x800c;`then`&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x5c5e;&#x4e8e;&#x5f02;&#x6b65;&#x4efb;&#x52a1;&#xff0c;&#x4e00;&#x5b9a;&#x665a;&#x4e8e;&#x540c;&#x6b65;&#x4efb;&#x52a1;&#x6267;&#x884c;&#x3002;\n\n&#x4f46;&#x662f;&#xff0c;Promise &#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x4e0d;&#x662f;&#x6b63;&#x5e38;&#x7684;&#x5f02;&#x6b65;&#x4efb;&#x52a1;&#xff0c;&#x800c;&#x662f;&#x5fae;&#x4efb;&#x52a1;&#xff08;microtask&#xff09;&#x3002;&#x5b83;&#x4eec;&#x7684;&#x533a;&#x522b;&#x5728;&#x4e8e;&#xff0c;&#x6b63;&#x5e38;&#x4efb;&#x52a1;&#x8ffd;&#x52a0;&#x5230;&#x4e0b;&#x4e00;&#x8f6e;&#x4e8b;&#x4ef6;&#x5faa;&#x73af;&#xff0c;&#x5fae;&#x4efb;&#x52a1;&#x8ffd;&#x52a0;&#x5230;&#x672c;&#x8f6e;&#x4e8b;&#x4ef6;&#x5faa;&#x73af;&#x3002;&#x8fd9;&#x610f;&#x5473;&#x7740;&#xff0c;&#x5fae;&#x4efb;&#x52a1;&#x7684;&#x6267;&#x884c;&#x65f6;&#x95f4;&#x4e00;&#x5b9a;&#x65e9;&#x4e8e;&#x6b63;&#x5e38;&#x4efb;&#x52a1;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"253,256"}},{"content":"<pre data-lines=\"257,271\"><code class=\"language-javascript\"><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-number\">1</span>);\n}, <span class=\"hljs-number\">0</span>);\n\n<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">resolve, reject</span>) {\n  <span class=\"hljs-title function_\">resolve</span>(<span class=\"hljs-number\">2</span>);\n}).<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-property\">log</span>);\n\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-number\">3</span>);\n<span class=\"hljs-comment\">// 3</span>\n<span class=\"hljs-comment\">// 2</span>\n<span class=\"hljs-comment\">// 1</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"257,271"}},{"content":"<pre data-lines=\"272,273\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7684;&#x8f93;&#x51fa;&#x7ed3;&#x679c;&#x662f;`321`&#x3002;&#x8fd9;&#x8bf4;&#x660e;`then`&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x7684;&#x6267;&#x884c;&#x65f6;&#x95f4;&#xff0c;&#x65e9;&#x4e8e;`setTimeout(fn, 0)`&#x3002;&#x56e0;&#x4e3a;`then`&#x662f;&#x672c;&#x8f6e;&#x4e8b;&#x4ef6;&#x5faa;&#x73af;&#x6267;&#x884c;&#xff0c;`setTimeout(fn, 0)`&#x5728;&#x4e0b;&#x4e00;&#x8f6e;&#x4e8b;&#x4ef6;&#x5faa;&#x73af;&#x5f00;&#x59cb;&#x65f6;&#x6267;&#x884c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"272,273"}}],"payload":{"tag":"h2","lines":"239,240"}},{"content":"&#x53c2;&#x8003;&#x94fe;&#x63a5;","children":[{"content":"Sebastian Porto, <a href=\"http://sporto.github.com/blog/2012/12/09/callbacks-listeners-promises/\">Asynchronous JS: Callbacks, Listeners, Control Flow Libs and Promises</a>","children":[],"payload":{"tag":"li","lines":"276,277"}},{"content":"Rhys Brett-Bowen, <a href=\"http://modernjavascript.blogspot.com/2013/08/promisesa-understanding-by-doing.html\">Promises/A+ - understanding the spec through implementation</a>","children":[],"payload":{"tag":"li","lines":"277,278"}},{"content":"Matt Podwysocki, Amanda Silver, <a href=\"http://blogs.msdn.com/b/ie/archive/2011/09/11/asynchronous-programming-in-javascript-with-promises.aspx\">Asynchronous Programming in JavaScript with &#x201c;Promises&#x201d;</a>","children":[],"payload":{"tag":"li","lines":"278,279"}},{"content":"Marc Harter, <a href=\"https://gist.github.com//wavded/5692344\">Promise A+ Implementation</a>","children":[],"payload":{"tag":"li","lines":"279,280"}},{"content":"Bryan Klimt, <a href=\"http://blog.parse.com/2013/01/29/whats-so-great-about-javascript-promises/\">What&#x2019;s so great about JavaScript Promises?</a>","children":[],"payload":{"tag":"li","lines":"280,281"}},{"content":"Jake Archibald, <a href=\"http://www.html5rocks.com/en/tutorials/es6/promises/\">JavaScript Promises There and back again</a>","children":[],"payload":{"tag":"li","lines":"281,282"}},{"content":"Mikito Takada, <a href=\"http://book.mixu.net/node/ch7.html\">7. Control flow, Mixu&apos;s Node book</a>","children":[],"payload":{"tag":"li","lines":"282,283"}}],"payload":{"tag":"h2","lines":"274,275"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
