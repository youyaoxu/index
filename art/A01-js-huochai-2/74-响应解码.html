<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"<a href=\"https://www.cnblogs.com/xiaohuochai/p/6520547.html\">&#x6df1;&#x5165;&#x7406;&#x89e3;ajax&#x7cfb;&#x5217;&#x7b2c;&#x4e09;&#x7bc7;&#x2014;&#x2014;&#x54cd;&#x5e94;&#x89e3;&#x7801;</a><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAoklEQVQ4T+2T4Q2CMBCFv27CBjgCG+gIjAAbOAIjOIJs4Ai6gRvIBpjXXCOp19T/8pJLoTneXcj3Ah91wAV4bu68xwXoAZ2EzEAmE9AWTB6AelRDyaAx9zgh0wE4ATczcTdIE7wl0oe7wX/8RMHigfQTB3fDdM1IEvYyONdIVEOSqDwCY2Z2NaS/UNbqMSQmvauUPlfbNKpBSdTUVyXSs/XyBlRCNBG20I28AAAAAElFTkSuQmCC\" alt=\"img\">","children":[{"content":"&#x524d;&#x9762;&#x7684;&#x8bdd;","children":[{"content":"<pre data-lines=\"4,5\"><code>&#x3000;&#x3000;&#x6211;&#x4eec;&#x63a5;&#x6536;&#x5230;&#x7684;&#x54cd;&#x5e94;&#x4e3b;&#x4f53;&#x7c7b;&#x578b;&#x53ef;&#x4ee5;&#x662f;&#x591a;&#x79cd;&#x5f62;&#x5f0f;&#x7684;&#xff0c;&#x5305;&#x62ec;&#x5b57;&#x7b26;&#x4e32;String&#x3001;ArrayBuffer&#x5bf9;&#x8c61;&#x3001;&#x4e8c;&#x8fdb;&#x5236;Blob&#x5bf9;&#x8c61;&#x3001;JSON&#x5bf9;&#x8c61;&#x3001;javascirpt&#x6587;&#x4ef6;&#x53ca;&#x8868;&#x793a;XML&#x6587;&#x6863;&#x7684;Document&#x5bf9;&#x8c61;&#x7b49;&#x3002;&#x4e0b;&#x9762;&#x5c06;&#x9488;&#x5bf9;&#x4e0d;&#x540c;&#x7684;&#x4e3b;&#x4f53;&#x7c7b;&#x578b;&#xff0c;&#x8fdb;&#x884c;&#x76f8;&#x5e94;&#x7684;&#x54cd;&#x5e94;&#x89e3;&#x7801;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,5"}}],"payload":{"tag":"h3","lines":"2,3"}},{"content":"&#x5c5e;&#x6027;","children":[{"content":"<pre data-lines=\"10,29\"><code>&#x3000;&#x3000;&#x5728;&#x4ecb;&#x7ecd;&#x54cd;&#x5e94;&#x89e3;&#x7801;&#x4e4b;&#x524d;&#xff0c;&#x8981;&#x5148;&#x4e86;&#x89e3;[XHR&#x5bf9;&#x8c61;](http://www.cnblogs.com/xiaohuochai/p/6036475.html)&#x7684;&#x5c5e;&#x6027;&#x3002;&#x4e00;&#x822c;&#x5730;&#xff0c;&#x5982;&#x679c;&#x63a5;&#x53d7;&#x7684;&#x6570;&#x636e;&#x662f;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x4f7f;&#x7528;responseText&#x5373;&#x53ef;&#xff0c;&#x8fd9;&#x4e5f;&#x662f;&#x6700;&#x5e38;&#x7528;&#x7684;&#x7528;&#x4e8e;&#x63a5;&#x6536;&#x6570;&#x636e;&#x7684;&#x5c5e;&#x6027;&#x3002;&#x4f46;&#x5982;&#x679c;&#x83b7;&#x53d6;&#x4e86;&#x5176;&#x4ed6;&#x7c7b;&#x578b;&#x7684;&#x6570;&#x636e;&#xff0c;&#x4f7f;&#x7528;responseText&#x53ef;&#x80fd;&#x5c31;&#x4e0d;&#x592a;&#x5408;&#x9002;&#x4e86;\n\n&#x3010;responseText&#x3011;\n\n&#x3000;&#x3000;responseText&#x5c5e;&#x6027;&#x8fd4;&#x56de;&#x4ece;&#x670d;&#x52a1;&#x5668;&#x63a5;&#x6536;&#x5230;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x4e3a;&#x53ea;&#x8bfb;&#x3002;&#x5982;&#x679c;&#x672c;&#x6b21;&#x8bf7;&#x6c42;&#x6ca1;&#x6709;&#x6210;&#x529f;&#x6216;&#x8005;&#x6570;&#x636e;&#x4e0d;&#x5b8c;&#x6574;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x5c31;&#x4f1a;&#x7b49;&#x4e8e;null&#x3002;\n\n&#x3000;&#x3000;&#x5982;&#x679c;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x6570;&#x636e;&#x683c;&#x5f0f;&#x662f;JSON&#x3001;&#x5b57;&#x7b26;&#x4e32;&#x3001;javascript&#x6216;XML&#xff0c;&#x90fd;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;responseText&#x5c5e;&#x6027;\n\n&#x3010;response&#x3011;\n\n&#x3000;&#x3000;response&#x5c5e;&#x6027;&#x4e3a;&#x53ea;&#x8bfb;&#xff0c;&#x8fd4;&#x56de;&#x63a5;&#x6536;&#x5230;&#x7684;&#x6570;&#x636e;&#x4f53;&#x3002;&#x5b83;&#x7684;&#x7c7b;&#x578b;&#x53ef;&#x4ee5;&#x662f;ArrayBuffer&#x3001;Blob&#x3001;Document&#x3001;JSON&#x5bf9;&#x8c61;&#x3001;&#x6216;&#x8005;&#x4e00;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x8fd9;&#x7531;XMLHttpRequest.responseType&#x5c5e;&#x6027;&#x7684;&#x503c;&#x51b3;&#x5b9a;\n\n&#x3000;&#x3000;&#x5982;&#x679c;&#x672c;&#x6b21;&#x8bf7;&#x6c42;&#x6ca1;&#x6709;&#x6210;&#x529f;&#x6216;&#x8005;&#x6570;&#x636e;&#x4e0d;&#x5b8c;&#x6574;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x5c31;&#x4f1a;&#x7b49;&#x4e8e;null\n\n&#x3000;&#x3000;[&#x6ce8;&#x610f;]IE9-&#x6d4f;&#x89c8;&#x5668;&#x4e0d;&#x652f;&#x6301;\n\n&#x3010;responseType&#x3011;\n\n&#x3000;&#x3000;responseType&#x5c5e;&#x6027;&#x7528;&#x6765;&#x6307;&#x5b9a;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x6570;&#x636e;(xhr.response)&#x7684;&#x7c7b;&#x578b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"10,29"}},{"content":"<pre data-lines=\"32,40\"><code data-lines=\"32,40\">&#x201c;&#x201d;&#xff1a;&#x5b57;&#x7b26;&#x4e32;(&#x9ed8;&#x8ba4;&#x503c;)\n&#x201c;arraybuffer&#x201d;&#xff1a;<span class=\"hljs-title class_\">ArrayBuffer</span>&#x5bf9;&#x8c61;\n&#x201c;blob&#x201d;&#xff1a;<span class=\"hljs-title class_\">Blob</span>&#x5bf9;&#x8c61;\n&#x201c;<span class=\"hljs-variable language_\">document</span>&#x201d;&#xff1a;<span class=\"hljs-title class_\">Document</span>&#x5bf9;&#x8c61;\n&#x201c;json&#x201d;&#xff1a;<span class=\"hljs-title class_\">JSON</span>&#x5bf9;&#x8c61;\n&#x201c;text&#x201d;&#xff1a;&#x5b57;&#x7b26;&#x4e32;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"32,40"}},{"content":"<pre data-lines=\"43,54\"><code>&#x3010;responseXML&#x3011;\n\n&#x3000;&#x3000;responseXML&#x5c5e;&#x6027;&#x8fd4;&#x56de;&#x4ece;&#x670d;&#x52a1;&#x5668;&#x63a5;&#x6536;&#x5230;&#x7684;Document&#x5bf9;&#x8c61;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x4e3a;&#x53ea;&#x8bfb;&#x3002;&#x5982;&#x679c;&#x672c;&#x6b21;&#x8bf7;&#x6c42;&#x6ca1;&#x6709;&#x6210;&#x529f;&#xff0c;&#x6216;&#x8005;&#x6570;&#x636e;&#x4e0d;&#x5b8c;&#x6574;&#xff0c;&#x6216;&#x8005;&#x4e0d;&#x80fd;&#x88ab;&#x89e3;&#x6790;&#x4e3a;XML&#x6216;HTML&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x7b49;&#x4e8e;null\n\n&#x3010;overrideMimeType()&#x3011;\n\n&#x3000;&#x3000;&#x8be5;&#x65b9;&#x6cd5;&#x7528;&#x6765;&#x6307;&#x5b9a;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x6570;&#x636e;&#x7684;MIME&#x7c7b;&#x578b;&#x3002;&#x8be5;&#x65b9;&#x6cd5;&#x5fc5;&#x987b;&#x5728;send()&#x4e4b;&#x524d;&#x8c03;&#x7528;\n\n&#x3000;&#x3000;&#x4f20;&#x7edf;&#x4e0a;&#xff0c;&#x5982;&#x679c;&#x5e0c;&#x671b;&#x4ece;&#x670d;&#x52a1;&#x5668;&#x53d6;&#x56de;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#xff0c;&#x5c31;&#x8981;&#x4f7f;&#x7528;&#x8fd9;&#x4e2a;&#x65b9;&#x6cd5;&#xff0c;&#x4eba;&#x4e3a;&#x5c06;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x4f2a;&#x88c5;&#x6210;&#x6587;&#x672c;&#x6570;&#x636e;\n\n&#x3000;&#x3000;&#x4f46;&#x662f;&#xff0c;&#x8fd9;&#x79cd;&#x65b9;&#x6cd5;&#x5f88;&#x9ebb;&#x70e6;&#xff0c;&#x5728;XMLHttpRequest&#x7248;&#x672c;&#x5347;&#x7ea7;&#x4ee5;&#x540e;&#xff0c;&#x4e00;&#x822c;&#x91c7;&#x7528;&#x6307;&#x5b9a;responseType&#x7684;&#x65b9;&#x6cd5;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"43,54"}}],"payload":{"tag":"h3","lines":"8,9"}},{"content":"&#x5b57;&#x7b26;&#x4e32;","children":[{"content":"<pre data-lines=\"59,62\"><code>&#x3000;&#x3000;&#x5982;&#x679c;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x7ed3;&#x679c;&#x662f;&#x4e00;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x5219;&#x76f4;&#x63a5;&#x4f7f;&#x7528;responseText&#x5c5e;&#x6027;&#x89e3;&#x6790;&#x5373;&#x53ef;\n\n&#x3000;&#x3000;&#x5173;&#x4e8e;ajax()&#x51fd;&#x6570;&#x7684;&#x5c01;&#x88c5;&#xff0c;&#x5df2;&#x7ecf;&#x5728;[&#x4e0a;&#x4e00;&#x7bc7;&#x535a;&#x5ba2;](http://www.cnblogs.com/xiaohuochai/p/6486643.html#anchor3)&#x4e2d;&#x8be6;&#x7ec6;&#x4ecb;&#x7ecd;&#x8fc7;&#xff0c;&#x8fd9;&#x91cc;&#x5c31;&#x4e0d;&#x518d;&#x8d58;&#x8ff0;&#x3002;&#x76f4;&#x63a5;&#x8c03;&#x7528;[ajax.js](http://files.cnblogs.com/files/xiaohuochai/ajax.js)&#x4f7f;&#x7528;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"59,62"}},{"content":"<pre data-lines=\"65,79\"><code data-lines=\"65,79\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;btn&quot;</span>&gt;</span>&#x53d6;&#x5f97;&#x54cd;&#x5e94;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;result&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\nbtn.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n    <span class=\"hljs-title function_\">ajax</span>({\n        <span class=\"hljs-attr\">url</span>:<span class=\"hljs-string\">&apos;p1.php&apos;</span>,\n        <span class=\"hljs-attr\">callback</span>:<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">data</span>){\n            result.<span class=\"hljs-property\">innerHTML</span> = data;\n        }\n    })\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"65,79"}},{"content":"<pre data-lines=\"82,89\"><code data-lines=\"82,89\"><span class=\"hljs-meta\">&lt;?php</span>\n    <span class=\"hljs-comment\">//&#x8bbe;&#x7f6e;&#x9875;&#x9762;&#x5185;&#x5bb9;&#x7684;html&#x7f16;&#x7801;&#x683c;&#x5f0f;&#x662f;utf-8&#xff0c;&#x5185;&#x5bb9;&#x662f;&#x7eaf;&#x6587;&#x672c;</span>\n    <span class=\"hljs-title function_ invoke__\">header</span>(<span class=\"hljs-string\">&quot;Content-Type:text/plain;charset=utf-8&quot;</span>);    \n    <span class=\"hljs-keyword\">echo</span> <span class=\"hljs-string\">&apos;&#x4f60;&#x597d;&#xff0c;&#x4e16;&#x754c;&apos;</span>;\n<span class=\"hljs-meta\">?&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"82,89"}}],"payload":{"tag":"h3","lines":"57,58"}},{"content":"JSON","children":[{"content":"<pre data-lines=\"94,95\"><code>&#x3000;&#x3000;&#x4f7f;&#x7528;ajax&#x6700;&#x5e38;&#x7528;&#x7684;&#x4f20;&#x8f93;&#x65b9;&#x5f0f;&#x5c31;&#x662f;&#x4f7f;&#x7528;JSON&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x76f4;&#x63a5;&#x4f7f;&#x7528;responseText&#x5c5e;&#x6027;&#x89e3;&#x6790;&#x5373;&#x53ef;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"94,95"}},{"content":"<pre data-lines=\"98,118\"><code data-lines=\"98,118\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;btn&quot;</span>&gt;</span>&#x53d6;&#x5f97;&#x54cd;&#x5e94;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;result&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\nbtn.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n    <span class=\"hljs-title function_\">ajax</span>({\n        <span class=\"hljs-attr\">url</span>:<span class=\"hljs-string\">&apos;p2.php&apos;</span>,\n        <span class=\"hljs-attr\">callback</span>:<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">data</span>){\n            <span class=\"hljs-keyword\">var</span> obj = <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">parse</span>(data);\n            <span class=\"hljs-keyword\">var</span> html = <span class=\"hljs-string\">&apos;&apos;</span>;\n            <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; obj.<span class=\"hljs-property\">length</span>; i++){\n                html+= <span class=\"hljs-string\">&apos;&lt;div&gt;&apos;</span> + obj[i].<span class=\"hljs-property\">title</span> + <span class=\"hljs-string\">&apos;:&apos;</span> + obj[i].<span class=\"hljs-property\">data</span> + <span class=\"hljs-string\">&apos;&lt;/div&gt;&apos;</span>;\n            }\n            result.<span class=\"hljs-property\">innerHTML</span> = html;\n            html = <span class=\"hljs-literal\">null</span>;\n        }\n    })\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"98,118"}},{"content":"<pre data-lines=\"123,130\"><code data-lines=\"123,130\"><span class=\"hljs-meta\">&lt;?php</span>\n    <span class=\"hljs-title function_ invoke__\">header</span>(<span class=\"hljs-string\">&quot;Content-Type:application/json;charset=utf-8&quot;</span>);    \n    <span class=\"hljs-variable\">&#x24;arr</span> = [[<span class=\"hljs-string\">&apos;title&apos;</span>=&gt;<span class=\"hljs-string\">&apos;&#x989c;&#x8272;&apos;</span>,<span class=\"hljs-string\">&apos;data&apos;</span>=&gt;<span class=\"hljs-string\">&apos;&#x7ea2;&#x8272;&apos;</span>],[<span class=\"hljs-string\">&apos;title&apos;</span>=&gt;<span class=\"hljs-string\">&apos;&#x5c3a;&#x5bf8;&apos;</span>,<span class=\"hljs-string\">&apos;data&apos;</span>=&gt;<span class=\"hljs-string\">&apos;&#x82f1;&#x5bf8;&apos;</span>],[<span class=\"hljs-string\">&apos;title&apos;</span>=&gt;<span class=\"hljs-string\">&apos;&#x91cd;&#x91cf;&apos;</span>,<span class=\"hljs-string\">&apos;data&apos;</span>=&gt;<span class=\"hljs-string\">&apos;&#x516c;&#x65a4;&apos;</span>]];\n    <span class=\"hljs-keyword\">echo</span> <span class=\"hljs-title function_ invoke__\">json_encode</span>(<span class=\"hljs-variable\">&#x24;arr</span>);\n<span class=\"hljs-meta\">?&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"123,130"}}],"payload":{"tag":"h3","lines":"92,93"}},{"content":"XML","children":[{"content":"<pre data-lines=\"137,140\"><code>&#x3000;&#x3000;XML&#x5728;JSON&#x51fa;&#x73b0;&#x4e4b;&#x524d;&#xff0c;&#x662f;&#x7f51;&#x7edc;&#x4e0a;&#x5e38;&#x7528;&#x7684;&#x6570;&#x636e;&#x4f20;&#x8f93;&#x683c;&#x5f0f;&#xff0c;&#x4f46;&#x7531;&#x4e8e;&#x5176;&#x683c;&#x5f0f;&#x8f83;&#x7b28;&#x91cd;&#xff0c;&#x6240;&#x4ee5;&#x7528;&#x7684;&#x8f83;&#x5c11;\n\n&#x3000;&#x3000;&#x63a5;&#x6536;XML&#x6587;&#x6863;&#x65f6;&#xff0c;&#x4f7f;&#x7528;responseXML&#x6765;&#x5bf9;&#x6570;&#x636e;&#x8fdb;&#x884c;&#x89e3;&#x6790;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"137,140"}},{"content":"<pre data-lines=\"143,208\"><code data-lines=\"143,208\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;btn&quot;</span>&gt;</span>&#x53d6;&#x5f97;&#x54cd;&#x5e94;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;result&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\nbtn.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n    <span class=\"hljs-title function_\">ajax</span>({\n        <span class=\"hljs-attr\">url</span>:<span class=\"hljs-string\">&apos;p3.xml&apos;</span>,\n        <span class=\"hljs-attr\">callback</span>:<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">data</span>){\n           <span class=\"hljs-keyword\">var</span> obj = data.<span class=\"hljs-title function_\">getElementsByTagName</span>(<span class=\"hljs-string\">&apos;CD&apos;</span>);\n           <span class=\"hljs-keyword\">var</span> html = <span class=\"hljs-string\">&apos;&apos;</span>;\n           <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; obj.<span class=\"hljs-property\">length</span>; i++){\n                html += <span class=\"hljs-string\">&apos;&lt;div&gt;&#x5531;&#x7247;&#xff1a;&apos;</span> + obj[i].<span class=\"hljs-title function_\">getElementsByTagName</span>(<span class=\"hljs-string\">&apos;TITLE&apos;</span>)[<span class=\"hljs-number\">0</span>].<span class=\"hljs-property\">innerHTML</span> + <span class=\"hljs-string\">&apos;&#xff1b;&#x6b4c;&#x624b;&#xff1a;&apos;</span> + obj[i].<span class=\"hljs-title function_\">getElementsByTagName</span>(<span class=\"hljs-string\">&apos;ARTIST&apos;</span>)[<span class=\"hljs-number\">0</span>].<span class=\"hljs-property\">innerHTML</span>  + <span class=\"hljs-string\">&apos;&lt;/div&gt;&apos;</span>;\n           }\n           result.<span class=\"hljs-property\">innerHTML</span> = html;\n           html = <span class=\"hljs-literal\">null</span>;\n        }\n    })\n}\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">ajax</span>(<span class=\"hljs-params\">obj</span>){\n    <span class=\"hljs-comment\">//method&#x4e3a;ajax&#x63d0;&#x4ea4;&#x7684;&#x65b9;&#x5f0f;&#xff0c;&#x9ed8;&#x8ba4;&#x4e3a;&apos;get&apos;&#x65b9;&#x6cd5;</span>\n    obj.<span class=\"hljs-property\">method</span> = obj.<span class=\"hljs-property\">method</span> || <span class=\"hljs-string\">&apos;get&apos;</span>;\n    <span class=\"hljs-comment\">//&#x521b;&#x5efa;xhr&#x5bf9;&#x8c61;</span>\n    <span class=\"hljs-keyword\">var</span> xhr;\n    <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">XMLHttpRequest</span>){\n        xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n    }<span class=\"hljs-keyword\">else</span>{\n        xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ActiveXObject</span>(<span class=\"hljs-string\">&apos;Microsoft.XMLHTTP&apos;</span>);\n    }\n    <span class=\"hljs-comment\">//&#x5f02;&#x6b65;&#x63a5;&#x53d7;&#x54cd;&#x5e94;</span>\n    xhr.<span class=\"hljs-property\">onreadystatechange</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n        <span class=\"hljs-keyword\">if</span>(xhr.<span class=\"hljs-property\">readyState</span> == <span class=\"hljs-number\">4</span>){\n            <span class=\"hljs-keyword\">if</span>(xhr.<span class=\"hljs-property\">status</span> == <span class=\"hljs-number\">200</span>){\n                <span class=\"hljs-comment\">//callback&#x4e3a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x5982;&#x679c;&#x4e0d;&#x8bbe;&#x7f6e;&#x5219;&#x65e0;&#x56de;&#x8c03;</span>\n                obj.<span class=\"hljs-property\">callback</span> &amp;&amp; obj.<span class=\"hljs-title function_\">callback</span>(xhr.<span class=\"hljs-property\">responseXML</span>);\n            }\n        }\n    }\n    <span class=\"hljs-comment\">//&#x521b;&#x5efa;&#x6570;&#x636e;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x7528;&#x6765;&#x4fdd;&#x5b58;&#x8981;&#x63d0;&#x4ea4;&#x7684;&#x6570;&#x636e;</span>\n    <span class=\"hljs-keyword\">var</span> strData = <span class=\"hljs-string\">&apos;&apos;</span>;\n    obj.<span class=\"hljs-property\">data</span> = <span class=\"hljs-literal\">true</span>;\n    <span class=\"hljs-keyword\">if</span>(obj.<span class=\"hljs-property\">method</span> == <span class=\"hljs-string\">&apos;post&apos;</span>){\n        <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> obj.<span class=\"hljs-property\">data</span>){\n            strData += <span class=\"hljs-string\">&apos;&amp;&apos;</span> + key + <span class=\"hljs-string\">&quot;=&quot;</span> + obj.<span class=\"hljs-property\">data</span>[key];\n        }    \n        <span class=\"hljs-comment\">//&#x53bb;&#x6389;&#x591a;&#x4f59;&#x7684;&apos;&amp;&apos;</span>\n        strData = strData.<span class=\"hljs-title function_\">substring</span>(<span class=\"hljs-number\">1</span>); \n        xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;post&apos;</span>,obj.<span class=\"hljs-property\">url</span>,<span class=\"hljs-literal\">true</span>);\n        <span class=\"hljs-comment\">//&#x8bbe;&#x7f6e;&#x8bf7;&#x6c42;&#x5934;</span>\n        xhr.<span class=\"hljs-title function_\">setRequestHeader</span>(<span class=\"hljs-string\">&quot;content-type&quot;</span>,<span class=\"hljs-string\">&quot;application/x-www-form-urlencoded&quot;</span>);\n        <span class=\"hljs-comment\">//&#x53d1;&#x9001;&#x8bf7;&#x6c42;</span>\n        xhr.<span class=\"hljs-title function_\">send</span>(strData);    \n    }<span class=\"hljs-keyword\">else</span>{\n        <span class=\"hljs-comment\">//&#x5982;&#x679c;&#x662f;get&#x65b9;&#x5f0f;&#xff0c;&#x5219;&#x5bf9;&#x5b57;&#x7b26;&#x8fdb;&#x884c;&#x7f16;&#x6210;</span>\n        <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> obj.<span class=\"hljs-property\">data</span>){\n            strData += <span class=\"hljs-string\">&apos;&amp;&apos;</span> + <span class=\"hljs-built_in\">encodeURIComponent</span>(key) + <span class=\"hljs-string\">&quot;=&quot;</span> + <span class=\"hljs-built_in\">encodeURIComponent</span>(obj.<span class=\"hljs-property\">data</span>[key]);\n        }    \n        <span class=\"hljs-comment\">//&#x53bb;&#x6389;&#x591a;&#x4f59;&#x7684;&apos;&amp;&apos;&#xff0c;&#x5e76;&#x589e;&#x52a0;&#x968f;&#x673a;&#x6570;&#xff0c;&#x9632;&#x6b62;&#x7f13;&#x5b58;</span>\n        strData = strData.<span class=\"hljs-title function_\">substring</span>(<span class=\"hljs-number\">1</span>) + <span class=\"hljs-string\">&apos;&amp;&apos;</span>+<span class=\"hljs-title class_\">Number</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Date</span>());   \n        xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;get&apos;</span>,obj.<span class=\"hljs-property\">url</span>+<span class=\"hljs-string\">&apos;?&apos;</span>+strData,<span class=\"hljs-literal\">true</span>);\n        <span class=\"hljs-comment\">//&#x53d1;&#x9001;&#x8bf7;&#x6c42;</span>\n        xhr.<span class=\"hljs-title function_\">send</span>();    \n    }\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"143,208"}},{"content":"<pre data-lines=\"213,229\"><code data-lines=\"213,229\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">CATALOG</span> <span class=\"hljs-attr\">data-livestyle-extension</span>=<span class=\"hljs-string\">&quot;available&quot;</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">CD</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">TITLE</span>&gt;</span>&#x8ff7;&#x8fed;&#x9999;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">TITLE</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">ARTIST</span>&gt;</span>&#x5468;&#x6770;&#x4f26;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">ARTIST</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">CD</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">CD</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">TITLE</span>&gt;</span>&#x6210;&#x90fd;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">TITLE</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">ARTIST</span>&gt;</span>&#x8d75;&#x96f7;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">ARTIST</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">CD</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">CD</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">TITLE</span>&gt;</span>&#x662f;&#x65f6;&#x5019;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">TITLE</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">ARTIST</span>&gt;</span>&#x5b59;&#x71d5;&#x59ff;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">ARTIST</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">CD</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">CATALOG</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"213,229"}}],"payload":{"tag":"h3","lines":"135,136"}},{"content":"js","children":[{"content":"<pre data-lines=\"236,237\"><code>&#x3000;&#x3000;&#x4f7f;&#x7528;ajax&#x4e5f;&#x53ef;&#x4ee5;&#x63a5;&#x6536;js&#x6587;&#x4ef6;&#x3002;&#x4ecd;&#x7136;&#x4f7f;&#x7528;responseText&#x6765;&#x63a5;&#x6536;&#x6570;&#x636e;&#xff0c;&#x4f46;&#x8981;&#x4f7f;&#x7528;eval()&#x6765;&#x6267;&#x884c;&#x4ee3;&#x7801;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"236,237"}},{"content":"<pre data-lines=\"240,260\"><code data-lines=\"240,260\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;btn&quot;</span>&gt;</span>&#x53d6;&#x5f97;&#x54cd;&#x5e94;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;result&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\nbtn.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n    <span class=\"hljs-title function_\">ajax</span>({\n        <span class=\"hljs-attr\">url</span>:<span class=\"hljs-string\">&apos;p4.js&apos;</span>,\n        <span class=\"hljs-attr\">callback</span>:<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">data</span>){\n            <span class=\"hljs-built_in\">eval</span>(data);\n            <span class=\"hljs-keyword\">var</span> html = <span class=\"hljs-string\">&apos;&apos;</span>;\n            <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> obj){\n                html += <span class=\"hljs-string\">&apos;&lt;div&gt;&apos;</span> + key + <span class=\"hljs-string\">&apos;:&apos;</span> + obj[key] + <span class=\"hljs-string\">&apos;&lt;/div&gt;&apos;</span>;\n            }\n            result.<span class=\"hljs-property\">innerHTML</span> = html;\n            html = <span class=\"hljs-literal\">null</span>;\n        }\n    })\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"240,260"}},{"content":"<pre data-lines=\"263,270\"><code data-lines=\"263,270\"><span class=\"hljs-keyword\">var</span> obj = {\n    <span class=\"hljs-string\">&apos;&#x59d3;&#x540d;&apos;</span>:<span class=\"hljs-string\">&apos;&#x5c0f;&#x706b;&#x67f4;&apos;</span>,\n    <span class=\"hljs-string\">&apos;&#x5e74;&#x9f84;&apos;</span>:<span class=\"hljs-number\">28</span>,\n    <span class=\"hljs-string\">&apos;&#x6027;&#x522b;&apos;</span>:<span class=\"hljs-string\">&apos;&#x7537;&apos;</span>\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"263,270"}}],"payload":{"tag":"h3","lines":"234,235"}},{"content":"blob","children":[{"content":"<pre data-lines=\"275,280\"><code>&#x3000;&#x3000;&#x5728;javascript&#x4e2d;&#xff0c;[Blob](http://www.cnblogs.com/xiaohuochai/p/6535130.html)&#x901a;&#x5e38;&#x8868;&#x793a;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x3002;&#x4f46;&#x5728;&#x5b9e;&#x9645;Web&#x5e94;&#x7528;&#x4e2d;&#xff0c;Blob&#x66f4;&#x591a;&#x662f;&#x56fe;&#x7247;&#x4e8c;&#x8fdb;&#x5236;&#x5f62;&#x5f0f;&#x7684;&#x4e0a;&#x4f20;&#x4e0e;&#x4e0b;&#x8f7d;&#xff0c;&#x867d;&#x7136;&#x5176;&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#x51e0;&#x4e4e;&#x4efb;&#x610f;&#x6587;&#x4ef6;&#x7684;&#x4e8c;&#x8fdb;&#x5236;&#x4f20;&#x8f93;\n\n&#x3000;&#x3000;&#x4f7f;&#x7528;ajax&#x63a5;&#x6536;blob&#x6570;&#x636e;&#xff0c;&#x9700;&#x8981;&#x4f7f;&#x7528;response&#x6765;&#x63a5;&#x6536;&#xff0c;&#x5e76;&#x4e14;&#x5c06;responseType&#x8bbe;&#x7f6e;&#x4e3a;&apos;blob&apos;\n\n&#x3000;&#x3000;[&#x6ce8;&#x610f;]&#x8981;&#x5b8c;&#x5168;&#x517c;&#x5bb9;IE10+&#x6d4f;&#x89c8;&#x5668;&#xff0c;&#x9700;&#x8981;&#x5c06;xhr.responseType&#x8bbe;&#x7f6e;&#x5728;xhr.open()&#x548c;xhr.send()&#x65b9;&#x6cd5;&#x4e4b;&#x95f4;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"275,280"}},{"content":"<pre data-lines=\"283,353\"><code data-lines=\"283,353\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;btn&quot;</span>&gt;</span>&#x53d6;&#x5f97;&#x54cd;&#x5e94;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;result&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\nbtn.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n    <span class=\"hljs-title function_\">ajax</span>({\n        <span class=\"hljs-attr\">url</span>:<span class=\"hljs-string\">&apos;p5.gif&apos;</span>,\n        <span class=\"hljs-attr\">callback</span>:<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">data</span>){\n            <span class=\"hljs-keyword\">var</span> img = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">&apos;img&apos;</span>);\n            img.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n                <span class=\"hljs-variable constant_\">URL</span>.<span class=\"hljs-title function_\">revokeObjectURL</span>(img.<span class=\"hljs-property\">src</span>);\n            }\n            img.<span class=\"hljs-property\">src</span> = <span class=\"hljs-variable constant_\">URL</span>.<span class=\"hljs-title function_\">createObjectURL</span>(data);\n            <span class=\"hljs-keyword\">if</span>(!result.<span class=\"hljs-property\">innerHTML</span>){\n                result.<span class=\"hljs-title function_\">appendChild</span>(img);\n            }\n            \n        },\n        <span class=\"hljs-attr\">method</span>:<span class=\"hljs-string\">&apos;post&apos;</span>\n    })\n}\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">ajax</span>(<span class=\"hljs-params\">obj</span>){\n    <span class=\"hljs-comment\">//method&#x4e3a;ajax&#x63d0;&#x4ea4;&#x7684;&#x65b9;&#x5f0f;&#xff0c;&#x9ed8;&#x8ba4;&#x4e3a;&apos;get&apos;&#x65b9;&#x6cd5;</span>\n    obj.<span class=\"hljs-property\">method</span> = obj.<span class=\"hljs-property\">method</span> || <span class=\"hljs-string\">&apos;get&apos;</span>;\n    <span class=\"hljs-comment\">//&#x521b;&#x5efa;xhr&#x5bf9;&#x8c61;</span>\n    <span class=\"hljs-keyword\">var</span> xhr;\n    <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">XMLHttpRequest</span>){\n        xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n    }<span class=\"hljs-keyword\">else</span>{\n        xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ActiveXObject</span>(<span class=\"hljs-string\">&apos;Microsoft.XMLHTTP&apos;</span>);\n    }\n    <span class=\"hljs-comment\">//&#x5f02;&#x6b65;&#x63a5;&#x53d7;&#x54cd;&#x5e94;</span>\n    xhr.<span class=\"hljs-property\">onreadystatechange</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n        <span class=\"hljs-keyword\">if</span>(xhr.<span class=\"hljs-property\">readyState</span> == <span class=\"hljs-number\">4</span>){\n            <span class=\"hljs-keyword\">if</span>(xhr.<span class=\"hljs-property\">status</span> == <span class=\"hljs-number\">200</span>){\n                <span class=\"hljs-comment\">//callback&#x4e3a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x5982;&#x679c;&#x4e0d;&#x8bbe;&#x7f6e;&#x5219;&#x65e0;&#x56de;&#x8c03;</span>\n                obj.<span class=\"hljs-property\">callback</span> &amp;&amp; obj.<span class=\"hljs-title function_\">callback</span>(xhr.<span class=\"hljs-property\">response</span>);\n            }\n        }\n    }\n    <span class=\"hljs-comment\">//&#x521b;&#x5efa;&#x6570;&#x636e;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x7528;&#x6765;&#x4fdd;&#x5b58;&#x8981;&#x63d0;&#x4ea4;&#x7684;&#x6570;&#x636e;</span>\n    <span class=\"hljs-keyword\">var</span> strData = <span class=\"hljs-string\">&apos;&apos;</span>;\n    obj.<span class=\"hljs-property\">data</span> = <span class=\"hljs-literal\">true</span>;\n    <span class=\"hljs-keyword\">if</span>(obj.<span class=\"hljs-property\">method</span> == <span class=\"hljs-string\">&apos;post&apos;</span>){\n        <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> obj.<span class=\"hljs-property\">data</span>){\n            strData += <span class=\"hljs-string\">&apos;&amp;&apos;</span> + key + <span class=\"hljs-string\">&quot;=&quot;</span> + obj.<span class=\"hljs-property\">data</span>[key];\n        }    \n        <span class=\"hljs-comment\">//&#x53bb;&#x6389;&#x591a;&#x4f59;&#x7684;&apos;&amp;&apos;</span>\n        strData = strData.<span class=\"hljs-title function_\">substring</span>(<span class=\"hljs-number\">1</span>); \n        xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;post&apos;</span>,obj.<span class=\"hljs-property\">url</span>,<span class=\"hljs-literal\">true</span>);\n        xhr.<span class=\"hljs-property\">responseType</span> = <span class=\"hljs-string\">&apos;blob&apos;</span>;\n        <span class=\"hljs-comment\">//&#x8bbe;&#x7f6e;&#x8bf7;&#x6c42;&#x5934;</span>\n        xhr.<span class=\"hljs-title function_\">setRequestHeader</span>(<span class=\"hljs-string\">&quot;content-type&quot;</span>,<span class=\"hljs-string\">&quot;application/x-www-form-urlencoded&quot;</span>);\n        <span class=\"hljs-comment\">//&#x53d1;&#x9001;&#x8bf7;&#x6c42;</span>\n        xhr.<span class=\"hljs-title function_\">send</span>(strData);    \n    }<span class=\"hljs-keyword\">else</span>{\n        <span class=\"hljs-comment\">//&#x5982;&#x679c;&#x662f;get&#x65b9;&#x5f0f;&#xff0c;&#x5219;&#x5bf9;&#x5b57;&#x7b26;&#x8fdb;&#x884c;&#x7f16;&#x6210;</span>\n        <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> obj.<span class=\"hljs-property\">data</span>){\n            strData += <span class=\"hljs-string\">&apos;&amp;&apos;</span> + <span class=\"hljs-built_in\">encodeURIComponent</span>(key) + <span class=\"hljs-string\">&quot;=&quot;</span> + <span class=\"hljs-built_in\">encodeURIComponent</span>(obj.<span class=\"hljs-property\">data</span>[key]);\n        }    \n        <span class=\"hljs-comment\">//&#x53bb;&#x6389;&#x591a;&#x4f59;&#x7684;&apos;&amp;&apos;&#xff0c;&#x5e76;&#x589e;&#x52a0;&#x968f;&#x673a;&#x6570;&#xff0c;&#x9632;&#x6b62;&#x7f13;&#x5b58;</span>\n        strData = strData.<span class=\"hljs-title function_\">substring</span>(<span class=\"hljs-number\">1</span>) + <span class=\"hljs-string\">&apos;&amp;&apos;</span>+<span class=\"hljs-title class_\">Number</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Date</span>());   \n        xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;get&apos;</span>,obj.<span class=\"hljs-property\">url</span>+<span class=\"hljs-string\">&apos;?&apos;</span>+strData,<span class=\"hljs-literal\">true</span>);\n        xhr.<span class=\"hljs-property\">responseType</span> = <span class=\"hljs-string\">&apos;blob&apos;</span>;\n        <span class=\"hljs-comment\">//&#x53d1;&#x9001;&#x8bf7;&#x6c42;</span>\n        xhr.<span class=\"hljs-title function_\">send</span>();    \n    }\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"283,353"}}],"payload":{"tag":"h3","lines":"273,274"}},{"content":"arraybuffer","children":[{"content":"<pre data-lines=\"362,365\"><code>&#x3000;&#x3000;[arraybuffer](http://www.cnblogs.com/xiaohuochai/p/6534621.html#anchor2)&#x4ee3;&#x8868;&#x50a8;&#x5b58;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x7684;&#x4e00;&#x6bb5;&#x5185;&#x5b58;&#xff0c;&#x800c;blob&#x5219;&#x7528;&#x4e8e;&#x8868;&#x793a;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x3002;&#x901a;&#x8fc7;ajax&#x63a5;&#x6536;arraybuffer&#xff0c;&#x7136;&#x540e;&#x5c06;&#x5176;&#x8f6c;&#x6362;&#x4e3a;blob&#x6570;&#x636e;&#xff0c;&#x4ece;&#x800c;&#x8fdb;&#x884c;&#x8fdb;&#x4e00;&#x6b65;&#x7684;&#x64cd;&#x4f5c;\n\n&#x3000;&#x3000;responseType&#x8bbe;&#x7f6e;&#x4e3a;arraybuffer&#xff0c;&#x7136;&#x540e;&#x5c06;response&#x4f5c;&#x4e3a;new Blob()&#x6784;&#x9020;&#x51fd;&#x6570;&#x7684;&#x53c2;&#x6570;&#x4f20;&#x9012;&#xff0c;&#x751f;&#x6210;blob&#x5bf9;&#x8c61;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"362,365"}},{"content":"<pre data-lines=\"368,437\"><code data-lines=\"368,437\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;btn&quot;</span>&gt;</span>&#x53d6;&#x5f97;&#x54cd;&#x5e94;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;result&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">script</span>&gt;</span><span class=\"language-javascript\">\nbtn.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n    <span class=\"hljs-title function_\">ajax</span>({\n        <span class=\"hljs-attr\">url</span>:<span class=\"hljs-string\">&apos;p5.gif&apos;</span>,\n        <span class=\"hljs-attr\">callback</span>:<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">data</span>){\n            <span class=\"hljs-keyword\">var</span> img = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">createElement</span>(<span class=\"hljs-string\">&apos;img&apos;</span>);\n            img.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n                <span class=\"hljs-variable constant_\">URL</span>.<span class=\"hljs-title function_\">revokeObjectURL</span>(img.<span class=\"hljs-property\">src</span>);\n            }\n            img.<span class=\"hljs-property\">src</span> = <span class=\"hljs-variable constant_\">URL</span>.<span class=\"hljs-title function_\">createObjectURL</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Blob</span>([data]));\n            <span class=\"hljs-keyword\">if</span>(!result.<span class=\"hljs-property\">innerHTML</span>){\n                result.<span class=\"hljs-title function_\">appendChild</span>(img);\n            }\n            \n       }\n    })\n}\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">ajax</span>(<span class=\"hljs-params\">obj</span>){\n    <span class=\"hljs-comment\">//method&#x4e3a;ajax&#x63d0;&#x4ea4;&#x7684;&#x65b9;&#x5f0f;&#xff0c;&#x9ed8;&#x8ba4;&#x4e3a;&apos;get&apos;&#x65b9;&#x6cd5;</span>\n    obj.<span class=\"hljs-property\">method</span> = obj.<span class=\"hljs-property\">method</span> || <span class=\"hljs-string\">&apos;get&apos;</span>;\n    <span class=\"hljs-comment\">//&#x521b;&#x5efa;xhr&#x5bf9;&#x8c61;</span>\n    <span class=\"hljs-keyword\">var</span> xhr;\n    <span class=\"hljs-keyword\">if</span>(<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">XMLHttpRequest</span>){\n        xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n    }<span class=\"hljs-keyword\">else</span>{\n        xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ActiveXObject</span>(<span class=\"hljs-string\">&apos;Microsoft.XMLHTTP&apos;</span>);\n    }\n    <span class=\"hljs-comment\">//&#x5f02;&#x6b65;&#x63a5;&#x53d7;&#x54cd;&#x5e94;</span>\n    xhr.<span class=\"hljs-property\">onreadystatechange</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n        <span class=\"hljs-keyword\">if</span>(xhr.<span class=\"hljs-property\">readyState</span> == <span class=\"hljs-number\">4</span>){\n            <span class=\"hljs-keyword\">if</span>(xhr.<span class=\"hljs-property\">status</span> == <span class=\"hljs-number\">200</span>){\n                <span class=\"hljs-comment\">//callback&#x4e3a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x5982;&#x679c;&#x4e0d;&#x8bbe;&#x7f6e;&#x5219;&#x65e0;&#x56de;&#x8c03;</span>\n                obj.<span class=\"hljs-property\">callback</span> &amp;&amp; obj.<span class=\"hljs-title function_\">callback</span>(xhr.<span class=\"hljs-property\">response</span>);\n            }\n        }\n    }\n    <span class=\"hljs-comment\">//&#x521b;&#x5efa;&#x6570;&#x636e;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x7528;&#x6765;&#x4fdd;&#x5b58;&#x8981;&#x63d0;&#x4ea4;&#x7684;&#x6570;&#x636e;</span>\n    <span class=\"hljs-keyword\">var</span> strData = <span class=\"hljs-string\">&apos;&apos;</span>;\n    obj.<span class=\"hljs-property\">data</span> = <span class=\"hljs-literal\">true</span>;\n    <span class=\"hljs-keyword\">if</span>(obj.<span class=\"hljs-property\">method</span> == <span class=\"hljs-string\">&apos;post&apos;</span>){\n        <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> obj.<span class=\"hljs-property\">data</span>){\n            strData += <span class=\"hljs-string\">&apos;&amp;&apos;</span> + key + <span class=\"hljs-string\">&quot;=&quot;</span> + obj.<span class=\"hljs-property\">data</span>[key];\n        }    \n        <span class=\"hljs-comment\">//&#x53bb;&#x6389;&#x591a;&#x4f59;&#x7684;&apos;&amp;&apos;</span>\n        strData = strData.<span class=\"hljs-title function_\">substring</span>(<span class=\"hljs-number\">1</span>); \n        xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;post&apos;</span>,obj.<span class=\"hljs-property\">url</span>,<span class=\"hljs-literal\">true</span>);\n        <span class=\"hljs-comment\">//&#x8bbe;&#x7f6e;&#x8bf7;&#x6c42;&#x5934;</span>\n        xhr.<span class=\"hljs-title function_\">setRequestHeader</span>(<span class=\"hljs-string\">&quot;content-type&quot;</span>,<span class=\"hljs-string\">&quot;application/x-www-form-urlencoded&quot;</span>);\n        xhr.<span class=\"hljs-property\">responseType</span> = <span class=\"hljs-string\">&apos;arraybuffer&apos;</span>;\n        <span class=\"hljs-comment\">//&#x53d1;&#x9001;&#x8bf7;&#x6c42;</span>\n        xhr.<span class=\"hljs-title function_\">send</span>(strData);    \n    }<span class=\"hljs-keyword\">else</span>{\n        <span class=\"hljs-comment\">//&#x5982;&#x679c;&#x662f;get&#x65b9;&#x5f0f;&#xff0c;&#x5219;&#x5bf9;&#x5b57;&#x7b26;&#x8fdb;&#x884c;&#x7f16;&#x6210;</span>\n        <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> key <span class=\"hljs-keyword\">in</span> obj.<span class=\"hljs-property\">data</span>){\n            strData += <span class=\"hljs-string\">&apos;&amp;&apos;</span> + <span class=\"hljs-built_in\">encodeURIComponent</span>(key) + <span class=\"hljs-string\">&quot;=&quot;</span> + <span class=\"hljs-built_in\">encodeURIComponent</span>(obj.<span class=\"hljs-property\">data</span>[key]);\n        }    \n        <span class=\"hljs-comment\">//&#x53bb;&#x6389;&#x591a;&#x4f59;&#x7684;&apos;&amp;&apos;&#xff0c;&#x5e76;&#x589e;&#x52a0;&#x968f;&#x673a;&#x6570;&#xff0c;&#x9632;&#x6b62;&#x7f13;&#x5b58;</span>\n        strData = strData.<span class=\"hljs-title function_\">substring</span>(<span class=\"hljs-number\">1</span>) + <span class=\"hljs-string\">&apos;&amp;&apos;</span>+<span class=\"hljs-title class_\">Number</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Date</span>());   \n        xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;get&apos;</span>,obj.<span class=\"hljs-property\">url</span>+<span class=\"hljs-string\">&apos;?&apos;</span>+strData,<span class=\"hljs-literal\">true</span>);\n        xhr.<span class=\"hljs-property\">responseType</span> = <span class=\"hljs-string\">&apos;arraybuffer&apos;</span>;\n        <span class=\"hljs-comment\">//&#x53d1;&#x9001;&#x8bf7;&#x6c42;</span>\n        xhr.<span class=\"hljs-title function_\">send</span>();    \n    }\n}\n</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">script</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"368,437"}}],"payload":{"tag":"h3","lines":"360,361"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
