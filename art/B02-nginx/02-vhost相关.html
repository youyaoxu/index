<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x5173;&#x4e8e;nginx&#x7684;vhosts&#x591a;&#x7ad9;&#x70b9;&#x914d;&#x7f6e;(&#x540c;&#x4e00;&#x670d;&#x52a1;&#x5668;&#x4e0b;&#x591a;&#x57df;&#x540d;&#x8bbf;&#x95ee;&#x591a;&#x9879;&#x76ee;)","children":[{"content":"1.&#x89e3;&#x6790;&#x591a;&#x4e2a;&#x57df;&#x540d;","children":[{"content":"<pre data-lines=\"7,10\"><code data-lines=\"7,10\">&#x89e3;&#x6790;&#x57df;&#x540d;&#x5f88;&#x7b80;&#x5355;&#xff0c;&#x76f4;&#x63a5;&#x70b9;&#x51fb;&#x6dfb;&#x52a0;&#x89e3;&#x6790;&#x5373;&#x53ef;&#xff0c;&#x4e0b;&#x9762;&#x662f;&#x6211;&#x89e3;&#x6790;&#x7684;&#x4e09;&#x4e2a;&#x57df;&#x540d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"7,10"}}],"payload":{"tag":"h3","lines":"5,6"}},{"content":"2.&#x4fee;&#x6539;nginx.conf&#x4e3b;&#x914d;&#x7f6e;&#x6587;&#x4ef6;","children":[{"content":"<pre data-lines=\"15,18\"><code data-lines=\"15,18\">&#x6dfb;&#x52a0;&#x4ee5;&#x4e0b;&#x4ee3;&#x7801;&#xff0c;&#x8868;&#x793a;&#x4f1a;&#x52a0;&#x8f7d; vhosts&#x76ee;&#x5f55;&#x4e0b;&#x7684; xxxx.<span class=\"hljs-keyword\">conf</span>&#x5b50;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x3002;&#x6240;&#x4ee5;&#x5b50;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x7684;&#x540e;&#x7f00;&#x540d;&#x90fd;&#x8981;&#x4e3a;.<span class=\"hljs-keyword\">conf</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"15,18"}},{"content":"<pre data-lines=\"21,24\"><code class=\"language-sh\">include vhost/*.conf\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"21,24"}},{"content":"<pre data-lines=\"25,28\"><code data-lines=\"25,28\">&#x5b8c;&#x6574;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x5982;&#x4e0b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"25,28"}},{"content":"<pre data-lines=\"31,67\"><code class=\"language-sh\"><span class=\"hljs-comment\">#user  nobody;</span>\nworker_processes  1;\n \n<span class=\"hljs-comment\">#error_log  logs/error.log;</span>\n<span class=\"hljs-comment\">#error_log  logs/error.log  notice;</span>\n<span class=\"hljs-comment\">#error_log  logs/error.log  info;</span>\n \n<span class=\"hljs-comment\">#pid        logs/nginx.pid;</span>\n \n \nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n \n    <span class=\"hljs-comment\">#log_format  main  &apos;&#x24;remote_addr - &#x24;remote_user [&#x24;time_local] &quot;&#x24;request&quot; &apos;</span>\n    <span class=\"hljs-comment\">#                  &apos;&#x24;status &#x24;body_bytes_sent &quot;&#x24;http_referer&quot; &apos;</span>\n    <span class=\"hljs-comment\">#                  &apos;&quot;&#x24;http_user_agent&quot; &quot;&#x24;http_x_forwarded_for&quot;&apos;;</span>\n    \n    <span class=\"hljs-comment\">#access_log  logs/access.log  main;</span>\n \n    sendfile        on;\n    <span class=\"hljs-comment\">#tcp_nopush     on;</span>\n \n    <span class=\"hljs-comment\">#keepalive_timeout  0;</span>\n    keepalive_timeout  65;\n \n    <span class=\"hljs-comment\">#gzip  on;</span>\n    \n    include vhosts/*.conf;\t\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"31,67"}}],"payload":{"tag":"h3","lines":"13,14"}},{"content":"3.&#x521b;&#x5efa;&#x5e76;&#x7f16;&#x8f91;&#x5b50;&#x914d;&#x7f6e;&#x6587;&#x4ef6;","children":[{"content":"<pre data-lines=\"70,79\"><code data-lines=\"70,79\">&#x8fd9;&#x91cc;&#x53ea;&#x9700;&#x8981;&#x628a;&#x4e3b;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x7684; server{}&#x533a;&#x57df;&#x590d;&#x5236;&#x8fc7;&#x6765;&#xff0c;&#x4fee;&#x6539;&#x51e0;&#x4e2a;&#x5730;&#x65b9;&#x5c31;&#x884c;&#x3002;\n\n&#x5b50;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x521b;&#x5efa;&#x5728;&#x8be5;&#x76ee;&#x5f55;&#x4e0b;&#xff1a;\nbear<span class=\"hljs-selector-class\">.wananbayue</span><span class=\"hljs-selector-class\">.top</span><span class=\"hljs-selector-class\">.conf</span>\nyexiong<span class=\"hljs-selector-class\">.wananbayue</span><span class=\"hljs-selector-class\">.top</span><span class=\"hljs-selector-class\">.conf</span>\n\nbear<span class=\"hljs-selector-class\">.wananbayue</span><span class=\"hljs-selector-class\">.top</span>.conf&#x5b50;&#x6587;&#x4ef6;&#x5168;&#x90e8;&#x5185;&#x5bb9;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"70,79"}},{"content":"<pre data-lines=\"82,133\"><code class=\"language-sh\"> \n<span class=\"hljs-comment\">#&#x8bbe;&#x5b9a;&#x865a;&#x62df;&#x4e3b;&#x673a;&#x914d;&#x7f6e;</span>\n \nserver {\n        listen       80;\n        server_name  www.bear.wananbayue.top;\n \n        <span class=\"hljs-comment\">#charset koi8-r;</span>\n \n        <span class=\"hljs-comment\">#access_log  logs/host.access.log  main;</span>\n \n        location / {\n            root   html;\n            proxy_pass http://127.0.0.1:8090;\n            index  index.html index.htm;\n        }\n \n        <span class=\"hljs-comment\">#error_page  404              /404.html;</span>\n \n        <span class=\"hljs-comment\"># redirect server error pages to the static page /50x.html</span>\n        <span class=\"hljs-comment\">#</span>\n        <span class=\"hljs-comment\">#error_page   500 502 503 504  /50x.html;</span>\n        <span class=\"hljs-comment\">#location = /50x.html {</span>\n        <span class=\"hljs-comment\">#    root   html;</span>\n        <span class=\"hljs-comment\">#}</span>\n \n        <span class=\"hljs-comment\"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span>\n        <span class=\"hljs-comment\">#</span>\n        <span class=\"hljs-comment\">#location ~ \\.php&#x24; {</span>\n        <span class=\"hljs-comment\">#    proxy_pass   http://127.0.0.1;</span>\n        <span class=\"hljs-comment\">#}</span>\n \n        <span class=\"hljs-comment\"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span>\n        <span class=\"hljs-comment\">#</span>\n        <span class=\"hljs-comment\">#location ~ \\.php&#x24; {</span>\n        <span class=\"hljs-comment\">#    root           html;</span>\n        <span class=\"hljs-comment\">#    fastcgi_pass   127.0.0.1:9000;</span>\n        <span class=\"hljs-comment\">#    fastcgi_index  index.php;</span>\n        <span class=\"hljs-comment\">#    fastcgi_param  SCRIPT_FILENAME  /scripts&#x24;fastcgi_script_name;</span>\n        <span class=\"hljs-comment\">#    include        fastcgi_params;</span>\n        <span class=\"hljs-comment\">#}</span>\n \n        <span class=\"hljs-comment\"># deny access to .htaccess files, if Apache&apos;s document root</span>\n        <span class=\"hljs-comment\"># concurs with nginx&apos;s one</span>\n        <span class=\"hljs-comment\">#</span>\n        <span class=\"hljs-comment\">#location ~ /\\.ht {</span>\n        <span class=\"hljs-comment\">#    deny  all;</span>\n        <span class=\"hljs-comment\">#}</span>\n    }\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"82,133"}},{"content":"<pre data-lines=\"134,137\"><code data-lines=\"134,137\">yexiong<span class=\"hljs-selector-class\">.wananbayue</span><span class=\"hljs-selector-class\">.top</span>.conf&#x5b50;&#x6587;&#x4ef6;&#x5168;&#x90e8;&#x5185;&#x5bb9;&#x5982;&#x4e0b;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"134,137"}},{"content":"<pre data-lines=\"139,190\"><code class=\"language-sh\"> \n<span class=\"hljs-comment\">#&#x8bbe;&#x5b9a;&#x865a;&#x62df;&#x4e3b;&#x673a;&#x914d;&#x7f6e;</span>\n \nserver {\n        listen       80;\n        server_name  www.yexiong.wananbayue.top;\n \n        <span class=\"hljs-comment\">#charset koi8-r;</span>\n \n        <span class=\"hljs-comment\">#access_log  logs/host.access.log  main;</span>\n \n        location / {\n            root   html;\n            proxy_pass http://127.0.0.1:27002;\n            index  index.html index.htm;\n        }\n \n        <span class=\"hljs-comment\">#error_page  404              /404.html;</span>\n \n        <span class=\"hljs-comment\"># redirect server error pages to the static page /50x.html</span>\n        <span class=\"hljs-comment\">#</span>\n        <span class=\"hljs-comment\">#error_page   500 502 503 504  /50x.html;</span>\n        <span class=\"hljs-comment\">#location = /50x.html {</span>\n        <span class=\"hljs-comment\">#    root   html;</span>\n        <span class=\"hljs-comment\">#}</span>\n \n        <span class=\"hljs-comment\"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span>\n        <span class=\"hljs-comment\">#</span>\n        <span class=\"hljs-comment\">#location ~ \\.php&#x24; {</span>\n        <span class=\"hljs-comment\">#    proxy_pass   http://127.0.0.1;</span>\n        <span class=\"hljs-comment\">#}</span>\n \n        <span class=\"hljs-comment\"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span>\n        <span class=\"hljs-comment\">#</span>\n        <span class=\"hljs-comment\">#location ~ \\.php&#x24; {</span>\n        <span class=\"hljs-comment\">#    root           html;</span>\n        <span class=\"hljs-comment\">#    fastcgi_pass   127.0.0.1:9000;</span>\n        <span class=\"hljs-comment\">#    fastcgi_index  index.php;</span>\n        <span class=\"hljs-comment\">#    fastcgi_param  SCRIPT_FILENAME  /scripts&#x24;fastcgi_script_name;</span>\n        <span class=\"hljs-comment\">#    include        fastcgi_params;</span>\n        <span class=\"hljs-comment\">#}</span>\n \n        <span class=\"hljs-comment\"># deny access to .htaccess files, if Apache&apos;s document root</span>\n        <span class=\"hljs-comment\"># concurs with nginx&apos;s one</span>\n        <span class=\"hljs-comment\">#</span>\n        <span class=\"hljs-comment\">#location ~ /\\.ht {</span>\n        <span class=\"hljs-comment\">#    deny  all;</span>\n        <span class=\"hljs-comment\">#}</span>\n    }\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"139,190"}}],"payload":{"tag":"h3","lines":"68,69"}},{"content":"4.&#x68c0;&#x6d4b;.conf&#x6587;&#x4ef6;&#x662f;&#x5426;&#x6b63;&#x786e;&#x5e76;&#x91cd;&#x542f;nginx","children":[{"content":"<pre data-lines=\"192,197\"><code data-lines=\"192,197\">&#x9996;&#x5148;&#x547d;&#x4ee4;&#x8fdb;&#x5165;nginx&#x4e0b;&#x7684;sbin&#x76ee;&#x5f55;&#x4e0b;&#xff08;&#x81ea;&#x5df1;&#x5b89;&#x88c5;&#x7684;nginx&#x76ee;&#x5f55;&#xff09;\n\n&#x68c0;&#x6d4b;<span class=\"hljs-string\">.conf</span>&#x6587;&#x4ef6;&#x7684;&#x547d;&#x4ee4;&#x4e3a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"192,197"}},{"content":"<pre data-lines=\"198,201\"><code class=\"language-sh\">./nginx -t\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"198,201"}},{"content":"<pre data-lines=\"202,207\"><code data-lines=\"202,207\">&#x8fd4;&#x56de;&#x7ed3;&#x679c;&#x5982;&#x4e0b;&#x56fe;&#x4ee3;&#x8868;&#x6210;&#x529f;&#xff1a;\n\n&#x91cd;&#x542f;nginx&#x547d;&#x4ee4;&#x4e3a;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"202,207"}},{"content":"<pre data-lines=\"208,211\"><code data-lines=\"208,211\"><span class=\"hljs-string\">./nginx</span> -s <span class=\"hljs-keyword\">reload</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"208,211"}}],"payload":{"tag":"h3","lines":"190,191"}}],"payload":{"tag":"h1","lines":"1,2"}},{})</script>
</body>
</html>
