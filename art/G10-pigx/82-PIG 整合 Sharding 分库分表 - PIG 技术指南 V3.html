<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"PIG &#x6574;&#x5408; Sharding &#x5206;&#x5e93;&#x5206;&#x8868;","children":[{"content":"&#x8ba4;&#x8bc6;","children":[{"content":"<pre data-lines=\"6,7\"><code>&#x672c;&#x6587;&#x9002;&#x914d; SpringBoot 3.x&#xff0c;PIG JDK17 &#x7248;&#x672c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"6,7"}}],"payload":{"tag":"h2","lines":"3,5"}},{"content":"&#x76ee;&#x6807;","children":[{"content":"<pre data-lines=\"12,15\"><code>&#x672c;&#x7ae0;&#x8282;&#x4ee5;&#x5c3d;&#x91cf;&#x77ed;&#x7684;&#x65f6;&#x95f4;&#xff0c;&#x6f14;&#x793a; PIG &#x6846;&#x67b6;&#x5982;&#x4f55;&#x6574;&#x5408; Apache ShardingSphere &#x5b8c;&#x6210;&#x5206;&#x8868;&#x64cd;&#x4f5c;&#x3002;\n\n**&#x5b9e;&#x73b0;&#x6548;&#x679c;&#xff1a;&#x65e5;&#x5fd7;&#x8868;&#x6839;&#x636e;&#x8bf7;&#x6c42;&#x65b9;&#x6cd5;&#x7684;&#x4e0d;&#x540c;&#x62c6;&#x5206;&#x4e3a; GET&#x3001;POST&#x3001;PUT&#x3001;DELETE &#x6570;&#x636e;&#x5e93;**\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"12,15"}},{"content":"<img src=\"https://mintlify.s3.us-west-1.amazonaws.com/xzcxz/images/1637109926530-3c9a5aa5-cced-4810-ab0b-a4fa2186f1b3.png\" alt>","children":[],"payload":{"tag":"img","lines":"16,17"}}],"payload":{"tag":"h2","lines":"9,11"}},{"content":"&#x5feb;&#x901f;&#x4e0a;&#x624b;","children":[{"content":"1. &#x6dfb;&#x52a0; Maven &#x4f9d;&#x8d56;","children":[{"content":"<pre data-lines=\"25,31\"><code data-lines=\"25,31\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.apache.shardingsphere<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>shardingsphere-jdbc-core<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span> \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"25,31"}}],"payload":{"tag":"h3","lines":"21,22"}},{"content":"2. &#x6dfb;&#x52a0;&#x56db;&#x5f20;&#x6d4b;&#x8bd5;&#x8868;","children":[{"content":"<pre data-lines=\"36,137\"><code data-lines=\"36,137\"><span class=\"hljs-keyword\">CREATE</span> TABLE <span class=\"hljs-symbol\">`sys_log_GET`</span> (\n <span class=\"hljs-symbol\">`id`</span> bigint <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-literal\">NULL</span> AUTO_INCREMENT COMMENT <span class=\"hljs-string\">&apos;&#x7f16;&#x53f7;&apos;</span>,\n <span class=\"hljs-symbol\">`type`</span> char(<span class=\"hljs-number\">1</span>) DEFAULT <span class=\"hljs-string\">&apos;1&apos;</span> COMMENT <span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x7c7b;&#x578b;&apos;</span>,\n <span class=\"hljs-symbol\">`title`</span> varchar(<span class=\"hljs-number\">255</span>) DEFAULT <span class=\"hljs-string\">&apos;&apos;</span> COMMENT <span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x6807;&#x9898;&apos;</span>,\n <span class=\"hljs-symbol\">`service_id`</span> varchar(<span class=\"hljs-number\">32</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x670d;&#x52a1; ID&apos;</span>,\n <span class=\"hljs-symbol\">`log_type`</span> varchar(<span class=\"hljs-number\">32</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x7c7b;&#x578b;&apos;</span>,\n <span class=\"hljs-symbol\">`remote_addr`</span> varchar(<span class=\"hljs-number\">255</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x64cd;&#x4f5c; IP &#x5730;&#x5740;&apos;</span>,\n <span class=\"hljs-symbol\">`user_agent`</span> varchar(<span class=\"hljs-number\">1000</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x7528;&#x6237;&#x4ee3;&#x7406;&apos;</span>,\n <span class=\"hljs-symbol\">`request_uri`</span> varchar(<span class=\"hljs-number\">255</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x8bf7;&#x6c42; URI&apos;</span>,\n <span class=\"hljs-symbol\">`method`</span> varchar(<span class=\"hljs-number\">10</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x64cd;&#x4f5c;&#x65b9;&#x5f0f;&apos;</span>,\n <span class=\"hljs-symbol\">`params`</span> text COMMENT <span class=\"hljs-string\">&apos;&#x64cd;&#x4f5c;&#x63d0;&#x4ea4;&#x7684;&#x6570;&#x636e;&apos;</span>,\n <span class=\"hljs-symbol\">`time`</span> mediumtext COMMENT <span class=\"hljs-string\">&apos;&#x6267;&#x884c;&#x65f6;&#x95f4;&apos;</span>,\n <span class=\"hljs-symbol\">`del_flag`</span> char(<span class=\"hljs-number\">1</span>) DEFAULT <span class=\"hljs-string\">&apos;0&apos;</span> COMMENT <span class=\"hljs-string\">&apos;&#x5220;&#x9664;&#x6807;&#x8bb0;&apos;</span>,\n <span class=\"hljs-symbol\">`exception`</span> text COMMENT <span class=\"hljs-string\">&apos;&#x5f02;&#x5e38;&#x4fe1;&#x606f;&apos;</span>,\n <span class=\"hljs-symbol\">`create_time`</span> datetime DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x521b;&#x5efa;&#x65f6;&#x95f4;&apos;</span>,\n <span class=\"hljs-symbol\">`update_time`</span> datetime DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x66f4;&#x65b0;&#x65f6;&#x95f4;&apos;</span>,\n <span class=\"hljs-symbol\">`create_by`</span> varchar(<span class=\"hljs-number\">64</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x521b;&#x5efa;&#x4eba;&apos;</span>,\n <span class=\"hljs-symbol\">`update_by`</span> varchar(<span class=\"hljs-number\">64</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x66f4;&#x65b0;&#x4eba;&apos;</span>,\n <span class=\"hljs-keyword\">PRIMARY</span> <span class=\"hljs-keyword\">KEY</span> (<span class=\"hljs-symbol\">`id`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_create_by`</span> (<span class=\"hljs-symbol\">`create_by`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_request_uri`</span> (<span class=\"hljs-symbol\">`request_uri`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_type`</span> (<span class=\"hljs-symbol\">`type`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_create_date`</span> (<span class=\"hljs-symbol\">`create_time`</span>)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 <span class=\"hljs-keyword\">COLLATE</span>=utf8mb4_general_ci ROW_FORMAT=DYNAMIC COMMENT=<span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x8868;&apos;</span>;\n\n<span class=\"hljs-keyword\">CREATE</span> TABLE <span class=\"hljs-symbol\">`sys_log_POST`</span> (\n <span class=\"hljs-symbol\">`id`</span> bigint <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-literal\">NULL</span> AUTO_INCREMENT COMMENT <span class=\"hljs-string\">&apos;&#x7f16;&#x53f7;&apos;</span>,\n <span class=\"hljs-symbol\">`type`</span> char(<span class=\"hljs-number\">1</span>) DEFAULT <span class=\"hljs-string\">&apos;1&apos;</span> COMMENT <span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x7c7b;&#x578b;&apos;</span>,\n <span class=\"hljs-symbol\">`title`</span> varchar(<span class=\"hljs-number\">255</span>) DEFAULT <span class=\"hljs-string\">&apos;&apos;</span> COMMENT <span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x6807;&#x9898;&apos;</span>,\n <span class=\"hljs-symbol\">`service_id`</span> varchar(<span class=\"hljs-number\">32</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x670d;&#x52a1; ID&apos;</span>,\n <span class=\"hljs-symbol\">`log_type`</span> varchar(<span class=\"hljs-number\">32</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x7c7b;&#x578b;&apos;</span>,\n <span class=\"hljs-symbol\">`remote_addr`</span> varchar(<span class=\"hljs-number\">255</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x64cd;&#x4f5c; IP &#x5730;&#x5740;&apos;</span>,\n <span class=\"hljs-symbol\">`user_agent`</span> varchar(<span class=\"hljs-number\">1000</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x7528;&#x6237;&#x4ee3;&#x7406;&apos;</span>,\n <span class=\"hljs-symbol\">`request_uri`</span> varchar(<span class=\"hljs-number\">255</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x8bf7;&#x6c42; URI&apos;</span>,\n <span class=\"hljs-symbol\">`method`</span> varchar(<span class=\"hljs-number\">10</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x64cd;&#x4f5c;&#x65b9;&#x5f0f;&apos;</span>,\n <span class=\"hljs-symbol\">`params`</span> text COMMENT <span class=\"hljs-string\">&apos;&#x64cd;&#x4f5c;&#x63d0;&#x4ea4;&#x7684;&#x6570;&#x636e;&apos;</span>,\n <span class=\"hljs-symbol\">`time`</span> mediumtext COMMENT <span class=\"hljs-string\">&apos;&#x6267;&#x884c;&#x65f6;&#x95f4;&apos;</span>,\n <span class=\"hljs-symbol\">`del_flag`</span> char(<span class=\"hljs-number\">1</span>) DEFAULT <span class=\"hljs-string\">&apos;0&apos;</span> COMMENT <span class=\"hljs-string\">&apos;&#x5220;&#x9664;&#x6807;&#x8bb0;&apos;</span>,\n <span class=\"hljs-symbol\">`exception`</span> text COMMENT <span class=\"hljs-string\">&apos;&#x5f02;&#x5e38;&#x4fe1;&#x606f;&apos;</span>,\n <span class=\"hljs-symbol\">`create_time`</span> datetime DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x521b;&#x5efa;&#x65f6;&#x95f4;&apos;</span>,\n <span class=\"hljs-symbol\">`update_time`</span> datetime DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x66f4;&#x65b0;&#x65f6;&#x95f4;&apos;</span>,\n <span class=\"hljs-symbol\">`create_by`</span> varchar(<span class=\"hljs-number\">64</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x521b;&#x5efa;&#x4eba;&apos;</span>,\n <span class=\"hljs-symbol\">`update_by`</span> varchar(<span class=\"hljs-number\">64</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x66f4;&#x65b0;&#x4eba;&apos;</span>,\n <span class=\"hljs-keyword\">PRIMARY</span> <span class=\"hljs-keyword\">KEY</span> (<span class=\"hljs-symbol\">`id`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_create_by`</span> (<span class=\"hljs-symbol\">`create_by`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_request_uri`</span> (<span class=\"hljs-symbol\">`request_uri`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_type`</span> (<span class=\"hljs-symbol\">`type`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_create_date`</span> (<span class=\"hljs-symbol\">`create_time`</span>)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 <span class=\"hljs-keyword\">COLLATE</span>=utf8mb4_general_ci ROW_FORMAT=DYNAMIC COMMENT=<span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x8868;&apos;</span>;\n\n<span class=\"hljs-keyword\">CREATE</span> TABLE <span class=\"hljs-symbol\">`sys_log_PUT`</span> (\n <span class=\"hljs-symbol\">`id`</span> bigint <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-literal\">NULL</span> AUTO_INCREMENT COMMENT <span class=\"hljs-string\">&apos;&#x7f16;&#x53f7;&apos;</span>,\n <span class=\"hljs-symbol\">`type`</span> char(<span class=\"hljs-number\">1</span>) DEFAULT <span class=\"hljs-string\">&apos;1&apos;</span> COMMENT <span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x7c7b;&#x578b;&apos;</span>,\n <span class=\"hljs-symbol\">`title`</span> varchar(<span class=\"hljs-number\">255</span>) DEFAULT <span class=\"hljs-string\">&apos;&apos;</span> COMMENT <span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x6807;&#x9898;&apos;</span>,\n <span class=\"hljs-symbol\">`service_id`</span> varchar(<span class=\"hljs-number\">32</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x670d;&#x52a1; ID&apos;</span>,\n <span class=\"hljs-symbol\">`log_type`</span> varchar(<span class=\"hljs-number\">32</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x7c7b;&#x578b;&apos;</span>,\n <span class=\"hljs-symbol\">`remote_addr`</span> varchar(<span class=\"hljs-number\">255</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x64cd;&#x4f5c; IP &#x5730;&#x5740;&apos;</span>,\n <span class=\"hljs-symbol\">`user_agent`</span> varchar(<span class=\"hljs-number\">1000</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x7528;&#x6237;&#x4ee3;&#x7406;&apos;</span>,\n <span class=\"hljs-symbol\">`request_uri`</span> varchar(<span class=\"hljs-number\">255</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x8bf7;&#x6c42; URI&apos;</span>,\n <span class=\"hljs-symbol\">`method`</span> varchar(<span class=\"hljs-number\">10</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x64cd;&#x4f5c;&#x65b9;&#x5f0f;&apos;</span>,\n <span class=\"hljs-symbol\">`params`</span> text COMMENT <span class=\"hljs-string\">&apos;&#x64cd;&#x4f5c;&#x63d0;&#x4ea4;&#x7684;&#x6570;&#x636e;&apos;</span>,\n <span class=\"hljs-symbol\">`time`</span> mediumtext COMMENT <span class=\"hljs-string\">&apos;&#x6267;&#x884c;&#x65f6;&#x95f4;&apos;</span>,\n <span class=\"hljs-symbol\">`del_flag`</span> char(<span class=\"hljs-number\">1</span>) DEFAULT <span class=\"hljs-string\">&apos;0&apos;</span> COMMENT <span class=\"hljs-string\">&apos;&#x5220;&#x9664;&#x6807;&#x8bb0;&apos;</span>,\n <span class=\"hljs-symbol\">`exception`</span> text COMMENT <span class=\"hljs-string\">&apos;&#x5f02;&#x5e38;&#x4fe1;&#x606f;&apos;</span>,\n <span class=\"hljs-symbol\">`create_time`</span> datetime DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x521b;&#x5efa;&#x65f6;&#x95f4;&apos;</span>,\n <span class=\"hljs-symbol\">`update_time`</span> datetime DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x66f4;&#x65b0;&#x65f6;&#x95f4;&apos;</span>,\n <span class=\"hljs-symbol\">`create_by`</span> varchar(<span class=\"hljs-number\">64</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x521b;&#x5efa;&#x4eba;&apos;</span>,\n <span class=\"hljs-symbol\">`update_by`</span> varchar(<span class=\"hljs-number\">64</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x66f4;&#x65b0;&#x4eba;&apos;</span>,\n <span class=\"hljs-keyword\">PRIMARY</span> <span class=\"hljs-keyword\">KEY</span> (<span class=\"hljs-symbol\">`id`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_create_by`</span> (<span class=\"hljs-symbol\">`create_by`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_request_uri`</span> (<span class=\"hljs-symbol\">`request_uri`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_type`</span> (<span class=\"hljs-symbol\">`type`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_create_date`</span> (<span class=\"hljs-symbol\">`create_time`</span>)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 <span class=\"hljs-keyword\">COLLATE</span>=utf8mb4_general_ci ROW_FORMAT=DYNAMIC COMMENT=<span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x8868;&apos;</span>;\n\n<span class=\"hljs-keyword\">CREATE</span> TABLE <span class=\"hljs-symbol\">`sys_log_DELETE`</span> (\n <span class=\"hljs-symbol\">`id`</span> bigint <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-literal\">NULL</span> AUTO_INCREMENT COMMENT <span class=\"hljs-string\">&apos;&#x7f16;&#x53f7;&apos;</span>,\n <span class=\"hljs-symbol\">`type`</span> char(<span class=\"hljs-number\">1</span>) DEFAULT <span class=\"hljs-string\">&apos;1&apos;</span> COMMENT <span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x7c7b;&#x578b;&apos;</span>,\n <span class=\"hljs-symbol\">`title`</span> varchar(<span class=\"hljs-number\">255</span>) DEFAULT <span class=\"hljs-string\">&apos;&apos;</span> COMMENT <span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x6807;&#x9898;&apos;</span>,\n <span class=\"hljs-symbol\">`service_id`</span> varchar(<span class=\"hljs-number\">32</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x670d;&#x52a1; ID&apos;</span>,\n <span class=\"hljs-symbol\">`log_type`</span> varchar(<span class=\"hljs-number\">32</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x7c7b;&#x578b;&apos;</span>,\n <span class=\"hljs-symbol\">`remote_addr`</span> varchar(<span class=\"hljs-number\">255</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x64cd;&#x4f5c; IP &#x5730;&#x5740;&apos;</span>,\n <span class=\"hljs-symbol\">`user_agent`</span> varchar(<span class=\"hljs-number\">1000</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x7528;&#x6237;&#x4ee3;&#x7406;&apos;</span>,\n <span class=\"hljs-symbol\">`request_uri`</span> varchar(<span class=\"hljs-number\">255</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x8bf7;&#x6c42; URI&apos;</span>,\n <span class=\"hljs-symbol\">`method`</span> varchar(<span class=\"hljs-number\">10</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x64cd;&#x4f5c;&#x65b9;&#x5f0f;&apos;</span>,\n <span class=\"hljs-symbol\">`params`</span> text COMMENT <span class=\"hljs-string\">&apos;&#x64cd;&#x4f5c;&#x63d0;&#x4ea4;&#x7684;&#x6570;&#x636e;&apos;</span>,\n <span class=\"hljs-symbol\">`time`</span> mediumtext COMMENT <span class=\"hljs-string\">&apos;&#x6267;&#x884c;&#x65f6;&#x95f4;&apos;</span>,\n <span class=\"hljs-symbol\">`del_flag`</span> char(<span class=\"hljs-number\">1</span>) DEFAULT <span class=\"hljs-string\">&apos;0&apos;</span> COMMENT <span class=\"hljs-string\">&apos;&#x5220;&#x9664;&#x6807;&#x8bb0;&apos;</span>,\n <span class=\"hljs-symbol\">`exception`</span> text COMMENT <span class=\"hljs-string\">&apos;&#x5f02;&#x5e38;&#x4fe1;&#x606f;&apos;</span>,\n <span class=\"hljs-symbol\">`create_time`</span> datetime DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x521b;&#x5efa;&#x65f6;&#x95f4;&apos;</span>,\n <span class=\"hljs-symbol\">`update_time`</span> datetime DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x66f4;&#x65b0;&#x65f6;&#x95f4;&apos;</span>,\n <span class=\"hljs-symbol\">`create_by`</span> varchar(<span class=\"hljs-number\">64</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x521b;&#x5efa;&#x4eba;&apos;</span>,\n <span class=\"hljs-symbol\">`update_by`</span> varchar(<span class=\"hljs-number\">64</span>) DEFAULT <span class=\"hljs-literal\">NULL</span> COMMENT <span class=\"hljs-string\">&apos;&#x66f4;&#x65b0;&#x4eba;&apos;</span>,\n <span class=\"hljs-keyword\">PRIMARY</span> <span class=\"hljs-keyword\">KEY</span> (<span class=\"hljs-symbol\">`id`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_create_by`</span> (<span class=\"hljs-symbol\">`create_by`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_request_uri`</span> (<span class=\"hljs-symbol\">`request_uri`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_type`</span> (<span class=\"hljs-symbol\">`type`</span>),\n <span class=\"hljs-keyword\">KEY</span> <span class=\"hljs-symbol\">`sys_log_create_date`</span> (<span class=\"hljs-symbol\">`create_time`</span>)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 <span class=\"hljs-keyword\">COLLATE</span>=utf8mb4_general_ci ROW_FORMAT=DYNAMIC COMMENT=<span class=\"hljs-string\">&apos;&#x65e5;&#x5fd7;&#x8868;&apos;</span>; \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"36,137"}}],"payload":{"tag":"h3","lines":"32,33"}},{"content":"3. &#x914d;&#x7f6e; Nacos","children":[{"content":"<pre data-lines=\"140,141\"><code>&#x5728; `nacos/pig-upms-biz-dev.yml` &#x4e2d;&#x6dfb;&#x52a0;&#x914d;&#x7f6e;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"140,141"}},{"content":"<pre data-lines=\"144,150\"><code data-lines=\"144,150\">spring:\n datasource:\n driver-class-name: org<span class=\"hljs-selector-class\">.apache</span><span class=\"hljs-selector-class\">.shardingsphere</span><span class=\"hljs-selector-class\">.driver</span><span class=\"hljs-selector-class\">.ShardingSphereDriver</span>\n url: jdbc:shardingsphere:classpath:sharding<span class=\"hljs-selector-class\">.yaml</span> \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"144,150"}}],"payload":{"tag":"h3","lines":"138,139"}},{"content":"4. &#x914d;&#x7f6e; ShardingSphere","children":[{"content":"<pre data-lines=\"153,154\"><code>&#x5728; `pig-upms-biz/resources/sharding.yaml` &#x4e2d;&#x6dfb;&#x52a0;&#x914d;&#x7f6e;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"153,154"}},{"content":"<pre data-lines=\"157,185\"><code data-lines=\"157,185\"><span class=\"hljs-params\">dataSources:</span>\n <span class=\"hljs-params\">ds_0:</span>\n <span class=\"hljs-params\">dataSourceClassName:</span> com.zaxxer.hikari.HikariDataSource\n <span class=\"hljs-params\">driverClassName:</span> com.mysql.cj.jdbc.Driver\n <span class=\"hljs-params\">username:</span> root\n <span class=\"hljs-params\">password:</span> root\n <span class=\"hljs-params\">jdbcUrl:</span> jdbc:mysql:<span class=\"hljs-operator\">//</span><span class=\"hljs-number\">127.0</span>.<span class=\"hljs-number\">0.1</span>:<span class=\"hljs-number\">3306</span><span class=\"hljs-operator\">/</span>pig<span class=\"hljs-operator\">?</span>characterEncoding<span class=\"hljs-operator\">=</span>utf8&amp;zeroDateTimeBehavior<span class=\"hljs-operator\">=</span>convertToNull&amp;useSSL<span class=\"hljs-operator\">=</span><span class=\"hljs-literal\">false</span>&amp;allowMultiQueries<span class=\"hljs-operator\">=</span><span class=\"hljs-literal\">true</span>&amp;useJDBCCompliantTimezoneShift<span class=\"hljs-operator\">=</span><span class=\"hljs-literal\">true</span>&amp;useLegacyDatetimeCode<span class=\"hljs-operator\">=</span><span class=\"hljs-literal\">false</span>&amp;serverTimezone<span class=\"hljs-operator\">=</span>Asia<span class=\"hljs-operator\">/</span>Shanghai&amp;nullCatalogMeansCurrent<span class=\"hljs-operator\">=</span><span class=\"hljs-literal\">true</span>&amp;allowPublicKeyRetrieval<span class=\"hljs-operator\">=</span><span class=\"hljs-literal\">true</span>\n<span class=\"hljs-params\">rules:</span>\n <span class=\"hljs-operator\">-</span> <span class=\"hljs-operator\">!</span>SINGLE\n <span class=\"hljs-params\">tables:</span>\n <span class=\"hljs-operator\">-</span> <span class=\"hljs-string\">&quot;*.*&quot;</span>\n <span class=\"hljs-operator\">-</span> <span class=\"hljs-operator\">!</span>SHARDING\n <span class=\"hljs-params\">tables:</span>\n <span class=\"hljs-params\">sys_log:</span>\n <span class=\"hljs-params\">actualDataNodes:</span> ds_0.sys_log_GET,ds_0.sys_log_POST,ds_0.sys_log_PUT,ds_0.sys_log_DELETE\n <span class=\"hljs-params\">tableStrategy:</span>\n <span class=\"hljs-params\">standard:</span>\n <span class=\"hljs-params\">shardingAlgorithmName:</span> table-inline\n <span class=\"hljs-params\">shardingColumn:</span> method\n <span class=\"hljs-params\">shardingAlgorithms:</span>\n <span class=\"hljs-params\">table-inline:</span>\n <span class=\"hljs-params\">props:</span>\n <span class=\"hljs-params\">algorithm-expression:</span> sys_log_&#x24;<span class=\"hljs-operator\">-&gt;</span>{method}\n <span class=\"hljs-params\">type:</span> INLINE\n<span class=\"hljs-params\">props:</span>\n <span class=\"hljs-params\">sql-show:</span> <span class=\"hljs-literal\">true</span> \n</code></pre>","children":[],"payload":{"tag":"pre","lines":"157,185"}}],"payload":{"tag":"h3","lines":"151,152"}},{"content":"5. &#x4e1a;&#x52a1;&#x6d4b;&#x8bd5;","children":[{"content":"<pre data-lines=\"188,189\"><code>&#x7f16;&#x8f91;&#x89d2;&#x8272;&#x3001;&#x65b0;&#x589e;&#x89d2;&#x8272;&#x540e;&#x67e5;&#x770b;&#x6570;&#x636e;&#x5e93;&#x4e2d;&#x65e5;&#x5fd7;&#x8868;&#x8bb0;&#x5f55;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"188,189"}}],"payload":{"tag":"h3","lines":"186,187"}}],"payload":{"tag":"h2","lines":"18,20"}}],"payload":{"tag":"h1","lines":"0,2"}},{})</script>
</body>
</html>
