<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"XMLHttpRequest &#x5bf9;&#x8c61;","children":[{"content":"&#x7b80;&#x4ecb;","children":[{"content":"<pre data-lines=\"4,20\"><code>&#x6d4f;&#x89c8;&#x5668;&#x4e0e;&#x670d;&#x52a1;&#x5668;&#x4e4b;&#x95f4;&#xff0c;&#x91c7;&#x7528; HTTP &#x534f;&#x8bae;&#x901a;&#x4fe1;&#x3002;&#x7528;&#x6237;&#x5728;&#x6d4f;&#x89c8;&#x5668;&#x5730;&#x5740;&#x680f;&#x952e;&#x5165;&#x4e00;&#x4e2a;&#x7f51;&#x5740;&#xff0c;&#x6216;&#x8005;&#x901a;&#x8fc7;&#x7f51;&#x9875;&#x8868;&#x5355;&#x5411;&#x670d;&#x52a1;&#x5668;&#x63d0;&#x4ea4;&#x5185;&#x5bb9;&#xff0c;&#x8fd9;&#x65f6;&#x6d4f;&#x89c8;&#x5668;&#x5c31;&#x4f1a;&#x5411;&#x670d;&#x52a1;&#x5668;&#x53d1;&#x51fa; HTTP &#x8bf7;&#x6c42;&#x3002;\n\n1999&#x5e74;&#xff0c;&#x5fae;&#x8f6f;&#x516c;&#x53f8;&#x53d1;&#x5e03; IE &#x6d4f;&#x89c8;&#x5668;5.0&#x7248;&#xff0c;&#x7b2c;&#x4e00;&#x6b21;&#x5f15;&#x5165;&#x65b0;&#x529f;&#x80fd;&#xff1a;&#x5141;&#x8bb8; JavaScript &#x811a;&#x672c;&#x5411;&#x670d;&#x52a1;&#x5668;&#x53d1;&#x8d77; HTTP &#x8bf7;&#x6c42;&#x3002;&#x8fd9;&#x4e2a;&#x529f;&#x80fd;&#x5f53;&#x65f6;&#x5e76;&#x6ca1;&#x6709;&#x5f15;&#x8d77;&#x6ce8;&#x610f;&#xff0c;&#x76f4;&#x5230;2004&#x5e74; Gmail &#x53d1;&#x5e03;&#x548c;2005&#x5e74; Google Map &#x53d1;&#x5e03;&#xff0c;&#x624d;&#x5f15;&#x8d77;&#x5e7f;&#x6cdb;&#x91cd;&#x89c6;&#x3002;2005&#x5e74;2&#x6708;&#xff0c;AJAX &#x8fd9;&#x4e2a;&#x8bcd;&#x7b2c;&#x4e00;&#x6b21;&#x6b63;&#x5f0f;&#x63d0;&#x51fa;&#xff0c;&#x5b83;&#x662f; Asynchronous JavaScript and XML &#x7684;&#x7f29;&#x5199;&#xff0c;&#x6307;&#x7684;&#x662f;&#x901a;&#x8fc7; JavaScript &#x7684;&#x5f02;&#x6b65;&#x901a;&#x4fe1;&#xff0c;&#x4ece;&#x670d;&#x52a1;&#x5668;&#x83b7;&#x53d6; XML &#x6587;&#x6863;&#x4ece;&#x4e2d;&#x63d0;&#x53d6;&#x6570;&#x636e;&#xff0c;&#x518d;&#x66f4;&#x65b0;&#x5f53;&#x524d;&#x7f51;&#x9875;&#x7684;&#x5bf9;&#x5e94;&#x90e8;&#x5206;&#xff0c;&#x800c;&#x4e0d;&#x7528;&#x5237;&#x65b0;&#x6574;&#x4e2a;&#x7f51;&#x9875;&#x3002;&#x540e;&#x6765;&#xff0c;AJAX &#x8fd9;&#x4e2a;&#x8bcd;&#x5c31;&#x6210;&#x4e3a; JavaScript &#x811a;&#x672c;&#x53d1;&#x8d77; HTTP &#x901a;&#x4fe1;&#x7684;&#x4ee3;&#x540d;&#x8bcd;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x53ea;&#x8981;&#x7528;&#x811a;&#x672c;&#x53d1;&#x8d77;&#x901a;&#x4fe1;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x53eb;&#x505a; AJAX &#x901a;&#x4fe1;&#x3002;W3C &#x4e5f;&#x5728;2006&#x5e74;&#x53d1;&#x5e03;&#x4e86;&#x5b83;&#x7684;&#x56fd;&#x9645;&#x6807;&#x51c6;&#x3002;\n\n&#x5177;&#x4f53;&#x6765;&#x8bf4;&#xff0c;AJAX &#x5305;&#x62ec;&#x4ee5;&#x4e0b;&#x51e0;&#x4e2a;&#x6b65;&#x9aa4;&#x3002;\n\n1. &#x521b;&#x5efa; XMLHttpRequest &#x5b9e;&#x4f8b;\n1. &#x53d1;&#x51fa; HTTP &#x8bf7;&#x6c42;\n1. &#x63a5;&#x6536;&#x670d;&#x52a1;&#x5668;&#x4f20;&#x56de;&#x7684;&#x6570;&#x636e;\n1. &#x66f4;&#x65b0;&#x7f51;&#x9875;&#x6570;&#x636e;\n\n&#x6982;&#x62ec;&#x8d77;&#x6765;&#xff0c;&#x5c31;&#x662f;&#x4e00;&#x53e5;&#x8bdd;&#xff0c;AJAX &#x901a;&#x8fc7;&#x539f;&#x751f;&#x7684;`XMLHttpRequest`&#x5bf9;&#x8c61;&#x53d1;&#x51fa; HTTP &#x8bf7;&#x6c42;&#xff0c;&#x5f97;&#x5230;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x6570;&#x636e;&#x540e;&#xff0c;&#x518d;&#x8fdb;&#x884c;&#x5904;&#x7406;&#x3002;&#x73b0;&#x5728;&#xff0c;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x90fd;&#x662f; JSON &#x683c;&#x5f0f;&#x7684;&#x6570;&#x636e;&#xff0c;XML &#x683c;&#x5f0f;&#x5df2;&#x7ecf;&#x8fc7;&#x65f6;&#x4e86;&#xff0c;&#x4f46;&#x662f; AJAX &#x8fd9;&#x4e2a;&#x540d;&#x5b57;&#x5df2;&#x7ecf;&#x6210;&#x4e86;&#x4e00;&#x4e2a;&#x901a;&#x7528;&#x540d;&#x8bcd;&#xff0c;&#x5b57;&#x9762;&#x542b;&#x4e49;&#x5df2;&#x7ecf;&#x6d88;&#x5931;&#x4e86;&#x3002;\n\n`XMLHttpRequest`&#x5bf9;&#x8c61;&#x662f; AJAX &#x7684;&#x4e3b;&#x8981;&#x63a5;&#x53e3;&#xff0c;&#x7528;&#x4e8e;&#x6d4f;&#x89c8;&#x5668;&#x4e0e;&#x670d;&#x52a1;&#x5668;&#x4e4b;&#x95f4;&#x7684;&#x901a;&#x4fe1;&#x3002;&#x5c3d;&#x7ba1;&#x540d;&#x5b57;&#x91cc;&#x9762;&#x6709;`XML`&#x548c;`Http`&#xff0c;&#x5b83;&#x5b9e;&#x9645;&#x4e0a;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x591a;&#x79cd;&#x534f;&#x8bae;&#xff08;&#x6bd4;&#x5982;`file`&#x6216;`ftp`&#xff09;&#xff0c;&#x53d1;&#x9001;&#x4efb;&#x4f55;&#x683c;&#x5f0f;&#x7684;&#x6570;&#x636e;&#xff08;&#x5305;&#x62ec;&#x5b57;&#x7b26;&#x4e32;&#x548c;&#x4e8c;&#x8fdb;&#x5236;&#xff09;&#x3002;\n\n`XMLHttpRequest`&#x672c;&#x8eab;&#x662f;&#x4e00;&#x4e2a;&#x6784;&#x9020;&#x51fd;&#x6570;&#xff0c;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;`new`&#x547d;&#x4ee4;&#x751f;&#x6210;&#x5b9e;&#x4f8b;&#x3002;&#x5b83;&#x6ca1;&#x6709;&#x4efb;&#x4f55;&#x53c2;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"4,20"}},{"content":"<pre data-lines=\"21,24\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"21,24"}},{"content":"<pre data-lines=\"25,26\"><code>&#x4e00;&#x65e6;&#x65b0;&#x5efa;&#x5b9e;&#x4f8b;&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;`open()`&#x65b9;&#x6cd5;&#x6307;&#x5b9a;&#x5efa;&#x7acb; HTTP &#x8fde;&#x63a5;&#x7684;&#x4e00;&#x4e9b;&#x7ec6;&#x8282;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"25,26"}},{"content":"<pre data-lines=\"27,30\"><code class=\"language-javascript\">xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;GET&apos;</span>, <span class=\"hljs-string\">&apos;http://www.example.com/page.php&apos;</span>, <span class=\"hljs-literal\">true</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"27,30"}},{"content":"<pre data-lines=\"31,34\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x6307;&#x5b9a;&#x4f7f;&#x7528; GET &#x65b9;&#x6cd5;&#xff0c;&#x8ddf;&#x6307;&#x5b9a;&#x7684;&#x670d;&#x52a1;&#x5668;&#x7f51;&#x5740;&#x5efa;&#x7acb;&#x8fde;&#x63a5;&#x3002;&#x7b2c;&#x4e09;&#x4e2a;&#x53c2;&#x6570;`true`&#xff0c;&#x8868;&#x793a;&#x8bf7;&#x6c42;&#x662f;&#x5f02;&#x6b65;&#x7684;&#x3002;\n\n&#x7136;&#x540e;&#xff0c;&#x6307;&#x5b9a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#xff0c;&#x76d1;&#x542c;&#x901a;&#x4fe1;&#x72b6;&#x6001;&#xff08;`readyState`&#x5c5e;&#x6027;&#xff09;&#x7684;&#x53d8;&#x5316;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"31,34"}},{"content":"<pre data-lines=\"35,42\"><code class=\"language-javascript\">xhr.<span class=\"hljs-property\">onreadystatechange</span> = handleStateChange;\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">handleStateChange</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-comment\">// ...</span>\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"35,42"}},{"content":"<pre data-lines=\"43,46\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x4e00;&#x65e6;`XMLHttpRequest`&#x5b9e;&#x4f8b;&#x7684;&#x72b6;&#x6001;&#x53d1;&#x751f;&#x53d8;&#x5316;&#xff0c;&#x5c31;&#x4f1a;&#x8c03;&#x7528;&#x76d1;&#x542c;&#x51fd;&#x6570;`handleStateChange`\n\n&#x6700;&#x540e;&#x4f7f;&#x7528;`send()`&#x65b9;&#x6cd5;&#xff0c;&#x5b9e;&#x9645;&#x53d1;&#x51fa;&#x8bf7;&#x6c42;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"43,46"}},{"content":"<pre data-lines=\"47,50\"><code class=\"language-javascript\">xhr.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-literal\">null</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"47,50"}},{"content":"<pre data-lines=\"51,58\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`send()`&#x7684;&#x53c2;&#x6570;&#x4e3a;`null`&#xff0c;&#x8868;&#x793a;&#x53d1;&#x9001;&#x8bf7;&#x6c42;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x4e0d;&#x5e26;&#x6709;&#x6570;&#x636e;&#x4f53;&#x3002;&#x5982;&#x679c;&#x53d1;&#x9001;&#x7684;&#x662f; POST &#x8bf7;&#x6c42;&#xff0c;&#x8fd9;&#x91cc;&#x5c31;&#x9700;&#x8981;&#x6307;&#x5b9a;&#x6570;&#x636e;&#x4f53;&#x3002;\n\n&#x4e00;&#x65e6;&#x62ff;&#x5230;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x6570;&#x636e;&#xff0c;AJAX &#x4e0d;&#x4f1a;&#x5237;&#x65b0;&#x6574;&#x4e2a;&#x7f51;&#x9875;&#xff0c;&#x800c;&#x662f;&#x53ea;&#x66f4;&#x65b0;&#x7f51;&#x9875;&#x91cc;&#x9762;&#x7684;&#x76f8;&#x5173;&#x90e8;&#x5206;&#xff0c;&#x4ece;&#x800c;&#x4e0d;&#x6253;&#x65ad;&#x7528;&#x6237;&#x6b63;&#x5728;&#x505a;&#x7684;&#x4e8b;&#x60c5;&#x3002;\n\n&#x6ce8;&#x610f;&#xff0c;AJAX &#x53ea;&#x80fd;&#x5411;&#x540c;&#x6e90;&#x7f51;&#x5740;&#xff08;&#x534f;&#x8bae;&#x3001;&#x57df;&#x540d;&#x3001;&#x7aef;&#x53e3;&#x90fd;&#x76f8;&#x540c;&#xff09;&#x53d1;&#x51fa; HTTP &#x8bf7;&#x6c42;&#xff0c;&#x5982;&#x679c;&#x53d1;&#x51fa;&#x8de8;&#x57df;&#x8bf7;&#x6c42;&#xff0c;&#x5c31;&#x4f1a;&#x62a5;&#x9519;&#xff08;&#x8be6;&#x89c1;&#x300a;&#x540c;&#x6e90;&#x653f;&#x7b56;&#x300b;&#x548c;&#x300a;CORS &#x901a;&#x4fe1;&#x300b;&#x4e24;&#x7ae0;&#xff09;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;`XMLHttpRequest`&#x5bf9;&#x8c61;&#x7b80;&#x5355;&#x7528;&#x6cd5;&#x7684;&#x5b8c;&#x6574;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"51,58"}},{"content":"<pre data-lines=\"59,80\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n\nxhr.<span class=\"hljs-property\">onreadystatechange</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>){\n  <span class=\"hljs-comment\">// &#x901a;&#x4fe1;&#x6210;&#x529f;&#x65f6;&#xff0c;&#x72b6;&#x6001;&#x503c;&#x4e3a;4</span>\n  <span class=\"hljs-keyword\">if</span> (xhr.<span class=\"hljs-property\">readyState</span> === <span class=\"hljs-number\">4</span>){\n    <span class=\"hljs-keyword\">if</span> (xhr.<span class=\"hljs-property\">status</span> === <span class=\"hljs-number\">200</span>){\n      <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(xhr.<span class=\"hljs-property\">responseText</span>);\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(xhr.<span class=\"hljs-property\">statusText</span>);\n    }\n  }\n};\n\nxhr.<span class=\"hljs-property\">onerror</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">e</span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(xhr.<span class=\"hljs-property\">statusText</span>);\n};\n\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;GET&apos;</span>, <span class=\"hljs-string\">&apos;/endpoint&apos;</span>, <span class=\"hljs-literal\">true</span>);\nxhr.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-literal\">null</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"59,80"}}],"payload":{"tag":"h2","lines":"2,3"}},{"content":"XMLHttpRequest &#x7684;&#x5b9e;&#x4f8b;&#x5c5e;&#x6027;","children":[{"content":"XMLHttpRequest.readyState","children":[{"content":"<pre data-lines=\"85,94\"><code>`XMLHttpRequest.readyState`&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x6574;&#x6570;&#xff0c;&#x8868;&#x793a;&#x5b9e;&#x4f8b;&#x5bf9;&#x8c61;&#x7684;&#x5f53;&#x524d;&#x72b6;&#x6001;&#x3002;&#x8be5;&#x5c5e;&#x6027;&#x53ea;&#x8bfb;&#x3002;&#x5b83;&#x53ef;&#x80fd;&#x8fd4;&#x56de;&#x4ee5;&#x4e0b;&#x503c;&#x3002;\n\n- 0&#xff0c;&#x8868;&#x793a; XMLHttpRequest &#x5b9e;&#x4f8b;&#x5df2;&#x7ecf;&#x751f;&#x6210;&#xff0c;&#x4f46;&#x662f;&#x5b9e;&#x4f8b;&#x7684;`open()`&#x65b9;&#x6cd5;&#x8fd8;&#x6ca1;&#x6709;&#x88ab;&#x8c03;&#x7528;&#x3002;\n- 1&#xff0c;&#x8868;&#x793a;`open()`&#x65b9;&#x6cd5;&#x5df2;&#x7ecf;&#x8c03;&#x7528;&#xff0c;&#x4f46;&#x662f;&#x5b9e;&#x4f8b;&#x7684;`send()`&#x65b9;&#x6cd5;&#x8fd8;&#x6ca1;&#x6709;&#x8c03;&#x7528;&#xff0c;&#x4ecd;&#x7136;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;&#x5b9e;&#x4f8b;&#x7684;`setRequestHeader()`&#x65b9;&#x6cd5;&#xff0c;&#x8bbe;&#x5b9a; HTTP &#x8bf7;&#x6c42;&#x7684;&#x5934;&#x4fe1;&#x606f;&#x3002;\n- 2&#xff0c;&#x8868;&#x793a;&#x5b9e;&#x4f8b;&#x7684;`send()`&#x65b9;&#x6cd5;&#x5df2;&#x7ecf;&#x8c03;&#x7528;&#xff0c;&#x5e76;&#x4e14;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x5934;&#x4fe1;&#x606f;&#x548c;&#x72b6;&#x6001;&#x7801;&#x5df2;&#x7ecf;&#x6536;&#x5230;&#x3002;\n- 3&#xff0c;&#x8868;&#x793a;&#x6b63;&#x5728;&#x63a5;&#x6536;&#x670d;&#x52a1;&#x5668;&#x4f20;&#x6765;&#x7684;&#x6570;&#x636e;&#x4f53;&#xff08;body &#x90e8;&#x5206;&#xff09;&#x3002;&#x8fd9;&#x65f6;&#xff0c;&#x5982;&#x679c;&#x5b9e;&#x4f8b;&#x7684;`responseType`&#x5c5e;&#x6027;&#x7b49;&#x4e8e;`text`&#x6216;&#x8005;&#x7a7a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;`responseText`&#x5c5e;&#x6027;&#x5c31;&#x4f1a;&#x5305;&#x542b;&#x5df2;&#x7ecf;&#x6536;&#x5230;&#x7684;&#x90e8;&#x5206;&#x4fe1;&#x606f;&#x3002;\n- 4&#xff0c;&#x8868;&#x793a;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x6570;&#x636e;&#x5df2;&#x7ecf;&#x5b8c;&#x5168;&#x63a5;&#x6536;&#xff0c;&#x6216;&#x8005;&#x672c;&#x6b21;&#x63a5;&#x6536;&#x5df2;&#x7ecf;&#x5931;&#x8d25;&#x3002;\n\n&#x901a;&#x4fe1;&#x8fc7;&#x7a0b;&#x4e2d;&#xff0c;&#x6bcf;&#x5f53;&#x5b9e;&#x4f8b;&#x5bf9;&#x8c61;&#x53d1;&#x751f;&#x72b6;&#x6001;&#x53d8;&#x5316;&#xff0c;&#x5b83;&#x7684;`readyState`&#x5c5e;&#x6027;&#x7684;&#x503c;&#x5c31;&#x4f1a;&#x6539;&#x53d8;&#x3002;&#x8fd9;&#x4e2a;&#x503c;&#x6bcf;&#x4e00;&#x6b21;&#x53d8;&#x5316;&#xff0c;&#x90fd;&#x4f1a;&#x89e6;&#x53d1;`readyStateChange`&#x4e8b;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"85,94"}},{"content":"<pre data-lines=\"95,104\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n\n<span class=\"hljs-keyword\">if</span> (xhr.<span class=\"hljs-property\">readyState</span> === <span class=\"hljs-number\">4</span>) {\n&#xa0;&#xa0;<span class=\"hljs-comment\">// &#x8bf7;&#x6c42;&#x7ed3;&#x675f;&#xff0c;&#x5904;&#x7406;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x6570;&#x636e;</span>\n} <span class=\"hljs-keyword\">else</span> {\n&#xa0; <span class=\"hljs-comment\">// &#x663e;&#x793a;&#x63d0;&#x793a;&#x201c;&#x52a0;&#x8f7d;&#x4e2d;&#x2026;&#x2026;&#x201d;</span>\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"95,104"}},{"content":"<pre data-lines=\"105,106\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`xhr.readyState`&#x7b49;&#x4e8e;`4`&#x65f6;&#xff0c;&#x8868;&#x660e;&#x811a;&#x672c;&#x53d1;&#x51fa;&#x7684; HTTP &#x8bf7;&#x6c42;&#x5df2;&#x7ecf;&#x5b8c;&#x6210;&#x3002;&#x5176;&#x4ed6;&#x60c5;&#x51b5;&#xff0c;&#x90fd;&#x8868;&#x793a; HTTP &#x8bf7;&#x6c42;&#x8fd8;&#x5728;&#x8fdb;&#x884c;&#x4e2d;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"105,106"}}],"payload":{"tag":"h3","lines":"83,84"}},{"content":"XMLHttpRequest.onreadystatechange","children":[{"content":"<pre data-lines=\"109,114\"><code>`XMLHttpRequest.onreadystatechange`&#x5c5e;&#x6027;&#x6307;&#x5411;&#x4e00;&#x4e2a;&#x76d1;&#x542c;&#x51fd;&#x6570;&#x3002;`readystatechange`&#x4e8b;&#x4ef6;&#x53d1;&#x751f;&#x65f6;&#xff08;&#x5b9e;&#x4f8b;&#x7684;`readyState`&#x5c5e;&#x6027;&#x53d8;&#x5316;&#xff09;&#xff0c;&#x5c31;&#x4f1a;&#x6267;&#x884c;&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x3002;\n\n&#x53e6;&#x5916;&#xff0c;&#x5982;&#x679c;&#x4f7f;&#x7528;&#x5b9e;&#x4f8b;&#x7684;`abort()`&#x65b9;&#x6cd5;&#xff0c;&#x7ec8;&#x6b62; XMLHttpRequest &#x8bf7;&#x6c42;&#xff0c;&#x4e5f;&#x4f1a;&#x9020;&#x6210;`readyState`&#x5c5e;&#x6027;&#x53d8;&#x5316;&#xff0c;&#x5bfc;&#x81f4;&#x8c03;&#x7528;`XMLHttpRequest.onreadystatechange`&#x5c5e;&#x6027;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"109,114"}},{"content":"<pre data-lines=\"115,126\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>( <span class=\"hljs-string\">&apos;GET&apos;</span>, <span class=\"hljs-string\">&apos;http://example.com&apos;</span> , <span class=\"hljs-literal\">true</span> );\nxhr.<span class=\"hljs-property\">onreadystatechange</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">if</span> (xhr.<span class=\"hljs-property\">readyState</span> !== <span class=\"hljs-number\">4</span> || xhr.<span class=\"hljs-property\">status</span> !== <span class=\"hljs-number\">200</span>) {\n    <span class=\"hljs-keyword\">return</span>;\n  }\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(xhr.<span class=\"hljs-property\">responseText</span>);\n};\nxhr.<span class=\"hljs-title function_\">send</span>();\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"115,126"}}],"payload":{"tag":"h3","lines":"107,108"}},{"content":"XMLHttpRequest.response","children":[{"content":"<pre data-lines=\"129,132\"><code>`XMLHttpRequest.response`&#x5c5e;&#x6027;&#x8868;&#x793a;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x6570;&#x636e;&#x4f53;&#xff08;&#x5373; HTTP &#x56de;&#x5e94;&#x7684; body &#x90e8;&#x5206;&#xff09;&#x3002;&#x5b83;&#x53ef;&#x80fd;&#x662f;&#x4efb;&#x4f55;&#x6570;&#x636e;&#x7c7b;&#x578b;&#xff0c;&#x6bd4;&#x5982;&#x5b57;&#x7b26;&#x4e32;&#x3001;&#x5bf9;&#x8c61;&#x3001;&#x4e8c;&#x8fdb;&#x5236;&#x5bf9;&#x8c61;&#x7b49;&#x7b49;&#xff0c;&#x5177;&#x4f53;&#x7684;&#x7c7b;&#x578b;&#x7531;`XMLHttpRequest.responseType`&#x5c5e;&#x6027;&#x51b3;&#x5b9a;&#x3002;&#x8be5;&#x5c5e;&#x6027;&#x53ea;&#x8bfb;&#x3002;\n\n&#x5982;&#x679c;&#x672c;&#x6b21;&#x8bf7;&#x6c42;&#x6ca1;&#x6709;&#x6210;&#x529f;&#x6216;&#x8005;&#x6570;&#x636e;&#x4e0d;&#x5b8c;&#x6574;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x7b49;&#x4e8e;`null`&#x3002;&#x4f46;&#x662f;&#xff0c;&#x5982;&#x679c;`responseType`&#x5c5e;&#x6027;&#x7b49;&#x4e8e;`text`&#x6216;&#x7a7a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x5728;&#x8bf7;&#x6c42;&#x6ca1;&#x6709;&#x7ed3;&#x675f;&#x4e4b;&#x524d;&#xff08;`readyState`&#x7b49;&#x4e8e;3&#x7684;&#x9636;&#x6bb5;&#xff09;&#xff0c;`response`&#x5c5e;&#x6027;&#x5305;&#x542b;&#x670d;&#x52a1;&#x5668;&#x5df2;&#x7ecf;&#x8fd4;&#x56de;&#x7684;&#x90e8;&#x5206;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"129,132"}},{"content":"<pre data-lines=\"133,142\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n\nxhr.<span class=\"hljs-property\">onreadystatechange</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">if</span> (xhr.<span class=\"hljs-property\">readyState</span> === <span class=\"hljs-number\">4</span>) {\n    <span class=\"hljs-title function_\">handler</span>(xhr.<span class=\"hljs-property\">response</span>);\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"133,142"}}],"payload":{"tag":"h3","lines":"127,128"}},{"content":"XMLHttpRequest.responseType","children":[{"content":"<pre data-lines=\"145,157\"><code>`XMLHttpRequest.responseType`&#x5c5e;&#x6027;&#x662f;&#x4e00;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x8868;&#x793a;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x6570;&#x636e;&#x7684;&#x7c7b;&#x578b;&#x3002;&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x662f;&#x53ef;&#x5199;&#x7684;&#xff0c;&#x53ef;&#x4ee5;&#x5728;&#x8c03;&#x7528;`open()`&#x65b9;&#x6cd5;&#x4e4b;&#x540e;&#x3001;&#x8c03;&#x7528;`send()`&#x65b9;&#x6cd5;&#x4e4b;&#x524d;&#xff0c;&#x8bbe;&#x7f6e;&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x7684;&#x503c;&#xff0c;&#x544a;&#x8bc9;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x6307;&#x5b9a;&#x7c7b;&#x578b;&#x7684;&#x6570;&#x636e;&#x3002;&#x5982;&#x679c;`responseType`&#x8bbe;&#x4e3a;&#x7a7a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x5c31;&#x7b49;&#x540c;&#x4e8e;&#x9ed8;&#x8ba4;&#x503c;`text`&#x3002;\n\n`XMLHttpRequest.responseType`&#x5c5e;&#x6027;&#x53ef;&#x4ee5;&#x7b49;&#x4e8e;&#x4ee5;&#x4e0b;&#x503c;&#x3002;\n\n- &quot;&quot;&#xff08;&#x7a7a;&#x5b57;&#x7b26;&#x4e32;&#xff09;&#xff1a;&#x7b49;&#x540c;&#x4e8e;`text`&#xff0c;&#x8868;&#x793a;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x6587;&#x672c;&#x6570;&#x636e;&#x3002;\n- &quot;arraybuffer&quot;&#xff1a;ArrayBuffer &#x5bf9;&#x8c61;&#xff0c;&#x8868;&#x793a;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x7ec4;&#x3002;\n- &quot;blob&quot;&#xff1a;Blob &#x5bf9;&#x8c61;&#xff0c;&#x8868;&#x793a;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x4e8c;&#x8fdb;&#x5236;&#x5bf9;&#x8c61;&#x3002;\n- &quot;document&quot;&#xff1a;Document &#x5bf9;&#x8c61;&#xff0c;&#x8868;&#x793a;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x6587;&#x6863;&#x5bf9;&#x8c61;&#x3002;\n- &quot;json&quot;&#xff1a;JSON &#x5bf9;&#x8c61;&#x3002;\n- &quot;text&quot;&#xff1a;&#x5b57;&#x7b26;&#x4e32;&#x3002;\n\n&#x4e0a;&#x9762;&#x51e0;&#x79cd;&#x7c7b;&#x578b;&#x4e4b;&#x4e2d;&#xff0c;`text`&#x7c7b;&#x578b;&#x9002;&#x5408;&#x5927;&#x591a;&#x6570;&#x60c5;&#x51b5;&#xff0c;&#x800c;&#x4e14;&#x76f4;&#x63a5;&#x5904;&#x7406;&#x6587;&#x672c;&#x4e5f;&#x6bd4;&#x8f83;&#x65b9;&#x4fbf;&#x3002;`document`&#x7c7b;&#x578b;&#x9002;&#x5408;&#x8fd4;&#x56de; HTML / XML &#x6587;&#x6863;&#x7684;&#x60c5;&#x51b5;&#xff0c;&#x8fd9;&#x610f;&#x5473;&#x7740;&#xff0c;&#x5bf9;&#x4e8e;&#x90a3;&#x4e9b;&#x6253;&#x5f00; CORS &#x7684;&#x7f51;&#x7ad9;&#xff0c;&#x53ef;&#x4ee5;&#x76f4;&#x63a5;&#x7528; Ajax &#x6293;&#x53d6;&#x7f51;&#x9875;&#xff0c;&#x7136;&#x540e;&#x4e0d;&#x7528;&#x89e3;&#x6790; HTML &#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x76f4;&#x63a5;&#x5bf9;&#x6293;&#x53d6;&#x56de;&#x6765;&#x7684;&#x6570;&#x636e;&#x8fdb;&#x884c; DOM &#x64cd;&#x4f5c;&#x3002;`blob`&#x7c7b;&#x578b;&#x9002;&#x5408;&#x8bfb;&#x53d6;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#xff0c;&#x6bd4;&#x5982;&#x56fe;&#x7247;&#x6587;&#x4ef6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"145,157"}},{"content":"<pre data-lines=\"158,173\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;GET&apos;</span>, <span class=\"hljs-string\">&apos;/path/to/image.png&apos;</span>, <span class=\"hljs-literal\">true</span>);\nxhr.<span class=\"hljs-property\">responseType</span> = <span class=\"hljs-string\">&apos;blob&apos;</span>;\n\nxhr.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>) {\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span> === <span class=\"hljs-number\">200</span>) {\n    <span class=\"hljs-keyword\">var</span> blob = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Blob</span>([xhr.<span class=\"hljs-property\">response</span>], {<span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&apos;image/png&apos;</span>});\n    <span class=\"hljs-comment\">// &#x6216;&#x8005;</span>\n    <span class=\"hljs-keyword\">var</span> blob = xhr.<span class=\"hljs-property\">response</span>;\n  }\n};\n\nxhr.<span class=\"hljs-title function_\">send</span>();\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"158,173"}},{"content":"<pre data-lines=\"174,175\"><code>&#x5982;&#x679c;&#x5c06;&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x8bbe;&#x4e3a;`ArrayBuffer`&#xff0c;&#x5c31;&#x53ef;&#x4ee5;&#x6309;&#x7167;&#x6570;&#x7ec4;&#x7684;&#x65b9;&#x5f0f;&#x5904;&#x7406;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"174,175"}},{"content":"<pre data-lines=\"176,190\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;GET&apos;</span>, <span class=\"hljs-string\">&apos;/path/to/image.png&apos;</span>, <span class=\"hljs-literal\">true</span>);\nxhr.<span class=\"hljs-property\">responseType</span> = <span class=\"hljs-string\">&apos;arraybuffer&apos;</span>;\n\nxhr.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>) {\n  <span class=\"hljs-keyword\">var</span> uInt8Array = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Uint8Array</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">response</span>);\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>, len = uInt8Array.<span class=\"hljs-property\">length</span>; i &lt; len; ++i) {\n    <span class=\"hljs-comment\">// var byte = uInt8Array[i];</span>\n  }\n};\n\nxhr.<span class=\"hljs-title function_\">send</span>();\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"176,190"}},{"content":"<pre data-lines=\"191,192\"><code>&#x5982;&#x679c;&#x5c06;&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x8bbe;&#x4e3a;`json`&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x5c31;&#x4f1a;&#x81ea;&#x52a8;&#x5bf9;&#x8fd4;&#x56de;&#x6570;&#x636e;&#x8c03;&#x7528;`JSON.parse()`&#x65b9;&#x6cd5;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x4ece;`xhr.response`&#x5c5e;&#x6027;&#xff08;&#x6ce8;&#x610f;&#xff0c;&#x4e0d;&#x662f;`xhr.responseText`&#x5c5e;&#x6027;&#xff09;&#x5f97;&#x5230;&#x7684;&#x4e0d;&#x662f;&#x6587;&#x672c;&#xff0c;&#x800c;&#x662f;&#x4e00;&#x4e2a; JSON &#x5bf9;&#x8c61;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"191,192"}}],"payload":{"tag":"h3","lines":"143,144"}},{"content":"XMLHttpRequest.responseText","children":[{"content":"<pre data-lines=\"195,196\"><code>`XMLHttpRequest.responseText`&#x5c5e;&#x6027;&#x8fd4;&#x56de;&#x4ece;&#x670d;&#x52a1;&#x5668;&#x63a5;&#x6536;&#x5230;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x4e3a;&#x53ea;&#x8bfb;&#x3002;&#x53ea;&#x6709; HTTP &#x8bf7;&#x6c42;&#x5b8c;&#x6210;&#x63a5;&#x6536;&#x4ee5;&#x540e;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x624d;&#x4f1a;&#x5305;&#x542b;&#x5b8c;&#x6574;&#x7684;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"195,196"}},{"content":"<pre data-lines=\"197,210\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;GET&apos;</span>, <span class=\"hljs-string\">&apos;/server&apos;</span>, <span class=\"hljs-literal\">true</span>);\n\nxhr.<span class=\"hljs-property\">responseType</span> = <span class=\"hljs-string\">&apos;text&apos;</span>;\nxhr.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">if</span> (xhr.<span class=\"hljs-property\">readyState</span> === <span class=\"hljs-number\">4</span> &amp;&amp; xhr.<span class=\"hljs-property\">status</span> === <span class=\"hljs-number\">200</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(xhr.<span class=\"hljs-property\">responseText</span>);\n  }\n};\n\nxhr.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-literal\">null</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"197,210"}}],"payload":{"tag":"h3","lines":"193,194"}},{"content":"XMLHttpRequest.responseXML","children":[{"content":"<pre data-lines=\"213,218\"><code>`XMLHttpRequest.responseXML`&#x5c5e;&#x6027;&#x8fd4;&#x56de;&#x4ece;&#x670d;&#x52a1;&#x5668;&#x63a5;&#x6536;&#x5230;&#x7684; HTML &#x6216; XML &#x6587;&#x6863;&#x5bf9;&#x8c61;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x4e3a;&#x53ea;&#x8bfb;&#x3002;&#x5982;&#x679c;&#x672c;&#x6b21;&#x8bf7;&#x6c42;&#x6ca1;&#x6709;&#x6210;&#x529f;&#xff0c;&#x6216;&#x8005;&#x6536;&#x5230;&#x7684;&#x6570;&#x636e;&#x4e0d;&#x80fd;&#x88ab;&#x89e3;&#x6790;&#x4e3a; XML &#x6216; HTML&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x7b49;&#x4e8e;`null`&#x3002;\n\n&#x8be5;&#x5c5e;&#x6027;&#x751f;&#x6548;&#x7684;&#x524d;&#x63d0;&#x662f; HTTP &#x56de;&#x5e94;&#x7684;`Content-Type`&#x5934;&#x4fe1;&#x606f;&#x7b49;&#x4e8e;`text/xml`&#x6216;`application/xml`&#x3002;&#x8fd9;&#x8981;&#x6c42;&#x5728;&#x53d1;&#x9001;&#x8bf7;&#x6c42;&#x524d;&#xff0c;`XMLHttpRequest.responseType`&#x5c5e;&#x6027;&#x8981;&#x8bbe;&#x4e3a;`document`&#x3002;&#x5982;&#x679c; HTTP &#x56de;&#x5e94;&#x7684;`Content-Type`&#x5934;&#x4fe1;&#x606f;&#x4e0d;&#x7b49;&#x4e8e;`text/xml`&#x548c;`application/xml`&#xff0c;&#x4f46;&#x662f;&#x60f3;&#x4ece;`responseXML`&#x62ff;&#x5230;&#x6570;&#x636e;&#xff08;&#x5373;&#x628a;&#x6570;&#x636e;&#x6309;&#x7167; DOM &#x683c;&#x5f0f;&#x89e3;&#x6790;&#xff09;&#xff0c;&#x90a3;&#x4e48;&#x9700;&#x8981;&#x624b;&#x52a8;&#x8c03;&#x7528;`XMLHttpRequest.overrideMimeType()`&#x65b9;&#x6cd5;&#xff0c;&#x5f3a;&#x5236;&#x8fdb;&#x884c; XML &#x89e3;&#x6790;&#x3002;\n\n&#x8be5;&#x5c5e;&#x6027;&#x5f97;&#x5230;&#x7684;&#x6570;&#x636e;&#xff0c;&#x662f;&#x76f4;&#x63a5;&#x89e3;&#x6790;&#x540e;&#x7684;&#x6587;&#x6863; DOM &#x6811;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"213,218"}},{"content":"<pre data-lines=\"219,234\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;GET&apos;</span>, <span class=\"hljs-string\">&apos;/server&apos;</span>, <span class=\"hljs-literal\">true</span>);\n\nxhr.<span class=\"hljs-property\">responseType</span> = <span class=\"hljs-string\">&apos;document&apos;</span>;\nxhr.<span class=\"hljs-title function_\">overrideMimeType</span>(<span class=\"hljs-string\">&apos;text/xml&apos;</span>);\n\nxhr.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">if</span> (xhr.<span class=\"hljs-property\">readyState</span> === <span class=\"hljs-number\">4</span> &amp;&amp; xhr.<span class=\"hljs-property\">status</span> === <span class=\"hljs-number\">200</span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(xhr.<span class=\"hljs-property\">responseXML</span>);\n  }\n};\n\nxhr.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-literal\">null</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"219,234"}}],"payload":{"tag":"h3","lines":"211,212"}},{"content":"XMLHttpRequest.responseURL","children":[{"content":"<pre data-lines=\"237,238\"><code>`XMLHttpRequest.responseURL`&#x5c5e;&#x6027;&#x662f;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x8868;&#x793a;&#x53d1;&#x9001;&#x6570;&#x636e;&#x7684;&#x670d;&#x52a1;&#x5668;&#x7684;&#x7f51;&#x5740;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"237,238"}},{"content":"<pre data-lines=\"239,248\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;GET&apos;</span>, <span class=\"hljs-string\">&apos;http://example.com/test&apos;</span>, <span class=\"hljs-literal\">true</span>);\nxhr.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-comment\">// &#x8fd4;&#x56de; http://example.com/test</span>\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(xhr.<span class=\"hljs-property\">responseURL</span>);\n};\nxhr.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-literal\">null</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"239,248"}},{"content":"<pre data-lines=\"249,250\"><code>&#x6ce8;&#x610f;&#xff0c;&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x7684;&#x503c;&#x4e0e;`open()`&#x65b9;&#x6cd5;&#x6307;&#x5b9a;&#x7684;&#x8bf7;&#x6c42;&#x7f51;&#x5740;&#x4e0d;&#x4e00;&#x5b9a;&#x76f8;&#x540c;&#x3002;&#x5982;&#x679c;&#x670d;&#x52a1;&#x5668;&#x7aef;&#x53d1;&#x751f;&#x8df3;&#x8f6c;&#xff0c;&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x8fd4;&#x56de;&#x6700;&#x540e;&#x5b9e;&#x9645;&#x8fd4;&#x56de;&#x6570;&#x636e;&#x7684;&#x7f51;&#x5740;&#x3002;&#x53e6;&#x5916;&#xff0c;&#x5982;&#x679c;&#x539f;&#x59cb; URL &#x5305;&#x62ec;&#x951a;&#x70b9;&#xff08;fragment&#xff09;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x4f1a;&#x628a;&#x951a;&#x70b9;&#x5265;&#x79bb;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"249,250"}}],"payload":{"tag":"h3","lines":"235,236"}},{"content":"XMLHttpRequest.status&#xff0c;XMLHttpRequest.statusText","children":[{"content":"<pre data-lines=\"253,266\"><code>`XMLHttpRequest.status`&#x5c5e;&#x6027;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x6574;&#x6570;&#xff0c;&#x8868;&#x793a;&#x670d;&#x52a1;&#x5668;&#x56de;&#x5e94;&#x7684; HTTP &#x72b6;&#x6001;&#x7801;&#x3002;&#x4e00;&#x822c;&#x6765;&#x8bf4;&#xff0c;&#x5982;&#x679c;&#x901a;&#x4fe1;&#x6210;&#x529f;&#x7684;&#x8bdd;&#xff0c;&#x8fd9;&#x4e2a;&#x72b6;&#x6001;&#x7801;&#x662f;200&#xff1b;&#x5982;&#x679c;&#x670d;&#x52a1;&#x5668;&#x6ca1;&#x6709;&#x8fd4;&#x56de;&#x72b6;&#x6001;&#x7801;&#xff0c;&#x90a3;&#x4e48;&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x9ed8;&#x8ba4;&#x662f;200&#x3002;&#x8bf7;&#x6c42;&#x53d1;&#x51fa;&#x4e4b;&#x524d;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x4e3a;`0`&#x3002;&#x8be5;&#x5c5e;&#x6027;&#x53ea;&#x8bfb;&#x3002;\n\n- 200, OK&#xff0c;&#x8bbf;&#x95ee;&#x6b63;&#x5e38;\n- 301, Moved Permanently&#xff0c;&#x6c38;&#x4e45;&#x79fb;&#x52a8;\n- 302, Moved temporarily&#xff0c;&#x6682;&#x65f6;&#x79fb;&#x52a8;\n- 304, Not Modified&#xff0c;&#x672a;&#x4fee;&#x6539;\n- 307, Temporary Redirect&#xff0c;&#x6682;&#x65f6;&#x91cd;&#x5b9a;&#x5411;\n- 401, Unauthorized&#xff0c;&#x672a;&#x6388;&#x6743;\n- 403, Forbidden&#xff0c;&#x7981;&#x6b62;&#x8bbf;&#x95ee;\n- 404, Not Found&#xff0c;&#x672a;&#x53d1;&#x73b0;&#x6307;&#x5b9a;&#x7f51;&#x5740;\n- 500, Internal Server Error&#xff0c;&#x670d;&#x52a1;&#x5668;&#x53d1;&#x751f;&#x9519;&#x8bef;\n\n&#x57fa;&#x672c;&#x4e0a;&#xff0c;&#x53ea;&#x6709;2xx&#x548c;304&#x7684;&#x72b6;&#x6001;&#x7801;&#xff0c;&#x8868;&#x793a;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x662f;&#x6b63;&#x5e38;&#x72b6;&#x6001;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"253,266"}},{"content":"<pre data-lines=\"267,277\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">if</span> (xhr.<span class=\"hljs-property\">readyState</span> === <span class=\"hljs-number\">4</span>) {\n&#xa0;&#xa0;<span class=\"hljs-keyword\">if</span> ( (xhr.<span class=\"hljs-property\">status</span> &gt;= <span class=\"hljs-number\">200</span> &amp;&amp; xhr.<span class=\"hljs-property\">status</span> &lt; <span class=\"hljs-number\">300</span>)\n&#xa0;&#xa0;&#xa0;&#xa0;|| (xhr.<span class=\"hljs-property\">status</span> === <span class=\"hljs-number\">304</span>) ) {\n&#xa0;&#xa0;&#xa0;&#xa0;<span class=\"hljs-comment\">// &#x5904;&#x7406;&#x670d;&#x52a1;&#x5668;&#x7684;&#x8fd4;&#x56de;&#x6570;&#x636e;</span>\n&#xa0;&#xa0;} <span class=\"hljs-keyword\">else</span> {\n&#xa0;&#xa0;&#xa0;&#xa0;<span class=\"hljs-comment\">// &#x51fa;&#x9519;</span>\n&#xa0;&#xa0;}\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"267,277"}},{"content":"<pre data-lines=\"278,279\"><code>`XMLHttpRequest.statusText`&#x5c5e;&#x6027;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x8868;&#x793a;&#x670d;&#x52a1;&#x5668;&#x53d1;&#x9001;&#x7684;&#x72b6;&#x6001;&#x63d0;&#x793a;&#x3002;&#x4e0d;&#x540c;&#x4e8e;`status`&#x5c5e;&#x6027;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x5305;&#x542b;&#x6574;&#x4e2a;&#x72b6;&#x6001;&#x4fe1;&#x606f;&#xff0c;&#x6bd4;&#x5982;&#x201c;OK&#x201d;&#x548c;&#x201c;Not Found&#x201d;&#x3002;&#x5728;&#x8bf7;&#x6c42;&#x53d1;&#x9001;&#x4e4b;&#x524d;&#xff08;&#x5373;&#x8c03;&#x7528;`open()`&#x65b9;&#x6cd5;&#x4e4b;&#x524d;&#xff09;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x7684;&#x503c;&#x662f;&#x7a7a;&#x5b57;&#x7b26;&#x4e32;&#xff1b;&#x5982;&#x679c;&#x670d;&#x52a1;&#x5668;&#x6ca1;&#x6709;&#x8fd4;&#x56de;&#x72b6;&#x6001;&#x63d0;&#x793a;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x7684;&#x503c;&#x9ed8;&#x8ba4;&#x4e3a;&#x201c;OK&#x201d;&#x3002;&#x8be5;&#x5c5e;&#x6027;&#x4e3a;&#x53ea;&#x8bfb;&#x5c5e;&#x6027;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"278,279"}}],"payload":{"tag":"h3","lines":"251,252"}},{"content":"XMLHttpRequest.timeout&#xff0c;XMLHttpRequestEventTarget.ontimeout","children":[{"content":"<pre data-lines=\"282,287\"><code>`XMLHttpRequest.timeout`&#x5c5e;&#x6027;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x6574;&#x6570;&#xff0c;&#x8868;&#x793a;&#x591a;&#x5c11;&#x6beb;&#x79d2;&#x540e;&#xff0c;&#x5982;&#x679c;&#x8bf7;&#x6c42;&#x4ecd;&#x7136;&#x6ca1;&#x6709;&#x5f97;&#x5230;&#x7ed3;&#x679c;&#xff0c;&#x5c31;&#x4f1a;&#x81ea;&#x52a8;&#x7ec8;&#x6b62;&#x3002;&#x5982;&#x679c;&#x8be5;&#x5c5e;&#x6027;&#x7b49;&#x4e8e;0&#xff0c;&#x5c31;&#x8868;&#x793a;&#x6ca1;&#x6709;&#x65f6;&#x95f4;&#x9650;&#x5236;&#x3002;\n\n`XMLHttpRequestEventTarget.ontimeout`&#x5c5e;&#x6027;&#x7528;&#x4e8e;&#x8bbe;&#x7f6e;&#x4e00;&#x4e2a;&#x76d1;&#x542c;&#x51fd;&#x6570;&#xff0c;&#x5982;&#x679c;&#x53d1;&#x751f; timeout &#x4e8b;&#x4ef6;&#xff0c;&#x5c31;&#x4f1a;&#x6267;&#x884c;&#x8fd9;&#x4e2a;&#x76d1;&#x542c;&#x51fd;&#x6570;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"282,287"}},{"content":"<pre data-lines=\"288,311\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n<span class=\"hljs-keyword\">var</span> url = <span class=\"hljs-string\">&apos;/server&apos;</span>;\n\nxhr.<span class=\"hljs-property\">ontimeout</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(<span class=\"hljs-string\">&apos;The request for &apos;</span> + url + <span class=\"hljs-string\">&apos; timed out.&apos;</span>);\n};\n\nxhr.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">if</span> (xhr.<span class=\"hljs-property\">readyState</span> === <span class=\"hljs-number\">4</span>) {\n    <span class=\"hljs-keyword\">if</span> (xhr.<span class=\"hljs-property\">status</span> === <span class=\"hljs-number\">200</span>) {\n      <span class=\"hljs-comment\">// &#x5904;&#x7406;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x6570;&#x636e;</span>\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">error</span>(xhr.<span class=\"hljs-property\">statusText</span>);\n    }\n  }\n};\n\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;GET&apos;</span>, url, <span class=\"hljs-literal\">true</span>);\n<span class=\"hljs-comment\">// &#x6307;&#x5b9a; 10 &#x79d2;&#x949f;&#x8d85;&#x65f6;</span>\nxhr.<span class=\"hljs-property\">timeout</span> = <span class=\"hljs-number\">10</span> * <span class=\"hljs-number\">1000</span>;\nxhr.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-literal\">null</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"288,311"}}],"payload":{"tag":"h3","lines":"280,281"}},{"content":"&#x4e8b;&#x4ef6;&#x76d1;&#x542c;&#x5c5e;&#x6027;","children":[{"content":"<pre data-lines=\"314,325\"><code>XMLHttpRequest &#x5bf9;&#x8c61;&#x53ef;&#x4ee5;&#x5bf9;&#x4ee5;&#x4e0b;&#x4e8b;&#x4ef6;&#x6307;&#x5b9a;&#x76d1;&#x542c;&#x51fd;&#x6570;&#x3002;\n\n- XMLHttpRequest.onloadstart&#xff1a;loadstart &#x4e8b;&#x4ef6;&#xff08;HTTP &#x8bf7;&#x6c42;&#x53d1;&#x51fa;&#xff09;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;\n- XMLHttpRequest.onprogress&#xff1a;progress&#x4e8b;&#x4ef6;&#xff08;&#x6b63;&#x5728;&#x53d1;&#x9001;&#x548c;&#x52a0;&#x8f7d;&#x6570;&#x636e;&#xff09;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;\n- XMLHttpRequest.onabort&#xff1a;abort &#x4e8b;&#x4ef6;&#xff08;&#x8bf7;&#x6c42;&#x4e2d;&#x6b62;&#xff0c;&#x6bd4;&#x5982;&#x7528;&#x6237;&#x8c03;&#x7528;&#x4e86;`abort()`&#x65b9;&#x6cd5;&#xff09;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;\n- XMLHttpRequest.onerror&#xff1a;error &#x4e8b;&#x4ef6;&#xff08;&#x8bf7;&#x6c42;&#x5931;&#x8d25;&#xff09;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;\n- XMLHttpRequest.onload&#xff1a;load &#x4e8b;&#x4ef6;&#xff08;&#x8bf7;&#x6c42;&#x6210;&#x529f;&#x5b8c;&#x6210;&#xff09;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;\n- XMLHttpRequest.ontimeout&#xff1a;timeout &#x4e8b;&#x4ef6;&#xff08;&#x7528;&#x6237;&#x6307;&#x5b9a;&#x7684;&#x65f6;&#x9650;&#x8d85;&#x8fc7;&#x4e86;&#xff0c;&#x8bf7;&#x6c42;&#x8fd8;&#x672a;&#x5b8c;&#x6210;&#xff09;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;\n- XMLHttpRequest.onloadend&#xff1a;loadend &#x4e8b;&#x4ef6;&#xff08;&#x8bf7;&#x6c42;&#x5b8c;&#x6210;&#xff0c;&#x4e0d;&#x7ba1;&#x6210;&#x529f;&#x6216;&#x5931;&#x8d25;&#xff09;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;\n\n&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"314,325"}},{"content":"<pre data-lines=\"326,346\"><code class=\"language-javascript\">xhr.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n <span class=\"hljs-keyword\">var</span> responseText = xhr.<span class=\"hljs-property\">responseText</span>;\n <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(responseText);\n <span class=\"hljs-comment\">// process the response.</span>\n};\n\nxhr.<span class=\"hljs-property\">onabort</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;The request was aborted&apos;</span>);\n};\n\nxhr.<span class=\"hljs-property\">onprogress</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">event</span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(event.<span class=\"hljs-property\">loaded</span>);\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(event.<span class=\"hljs-property\">total</span>);\n};\n\nxhr.<span class=\"hljs-property\">onerror</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;There was an error!&apos;</span>);\n};\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"326,346"}},{"content":"<pre data-lines=\"347,350\"><code>`progress`&#x4e8b;&#x4ef6;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;&#x6709;&#x4e00;&#x4e2a;&#x4e8b;&#x4ef6;&#x5bf9;&#x8c61;&#x53c2;&#x6570;&#xff0c;&#x8be5;&#x5bf9;&#x8c61;&#x6709;&#x4e09;&#x4e2a;&#x5c5e;&#x6027;&#xff1a;`loaded`&#x5c5e;&#x6027;&#x8fd4;&#x56de;&#x5df2;&#x7ecf;&#x4f20;&#x8f93;&#x7684;&#x6570;&#x636e;&#x91cf;&#xff0c;`total`&#x5c5e;&#x6027;&#x8fd4;&#x56de;&#x603b;&#x7684;&#x6570;&#x636e;&#x91cf;&#xff0c;`lengthComputable`&#x5c5e;&#x6027;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x5e03;&#x5c14;&#x503c;&#xff0c;&#x8868;&#x793a;&#x52a0;&#x8f7d;&#x7684;&#x8fdb;&#x5ea6;&#x662f;&#x5426;&#x53ef;&#x4ee5;&#x8ba1;&#x7b97;&#x3002;&#x6240;&#x6709;&#x8fd9;&#x4e9b;&#x76d1;&#x542c;&#x51fd;&#x6570;&#x91cc;&#x9762;&#xff0c;&#x53ea;&#x6709;`progress`&#x4e8b;&#x4ef6;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;&#x6709;&#x53c2;&#x6570;&#xff0c;&#x5176;&#x4ed6;&#x51fd;&#x6570;&#x90fd;&#x6ca1;&#x6709;&#x53c2;&#x6570;&#x3002;\n\n&#x6ce8;&#x610f;&#xff0c;&#x5982;&#x679c;&#x53d1;&#x751f;&#x7f51;&#x7edc;&#x9519;&#x8bef;&#xff08;&#x6bd4;&#x5982;&#x670d;&#x52a1;&#x5668;&#x65e0;&#x6cd5;&#x8fde;&#x901a;&#xff09;&#xff0c;`onerror`&#x4e8b;&#x4ef6;&#x65e0;&#x6cd5;&#x83b7;&#x53d6;&#x62a5;&#x9519;&#x4fe1;&#x606f;&#x3002;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x53ef;&#x80fd;&#x6ca1;&#x6709;&#x9519;&#x8bef;&#x5bf9;&#x8c61;&#xff0c;&#x6240;&#x4ee5;&#x8fd9;&#x6837;&#x53ea;&#x80fd;&#x663e;&#x793a;&#x62a5;&#x9519;&#x7684;&#x63d0;&#x793a;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"347,350"}}],"payload":{"tag":"h3","lines":"312,313"}},{"content":"XMLHttpRequest.withCredentials","children":[{"content":"<pre data-lines=\"353,356\"><code>`XMLHttpRequest.withCredentials`&#x5c5e;&#x6027;&#x662f;&#x4e00;&#x4e2a;&#x5e03;&#x5c14;&#x503c;&#xff0c;&#x8868;&#x793a;&#x8de8;&#x57df;&#x8bf7;&#x6c42;&#x65f6;&#xff0c;&#x7528;&#x6237;&#x4fe1;&#x606f;&#xff08;&#x6bd4;&#x5982; Cookie &#x548c;&#x8ba4;&#x8bc1;&#x7684; HTTP &#x5934;&#x4fe1;&#x606f;&#xff09;&#x662f;&#x5426;&#x4f1a;&#x5305;&#x542b;&#x5728;&#x8bf7;&#x6c42;&#x4e4b;&#x4e2d;&#xff0c;&#x9ed8;&#x8ba4;&#x4e3a;`false`&#xff0c;&#x5373;&#x5411;`example.com`&#x53d1;&#x51fa;&#x8de8;&#x57df;&#x8bf7;&#x6c42;&#x65f6;&#xff0c;&#x4e0d;&#x4f1a;&#x53d1;&#x9001;`example.com`&#x8bbe;&#x7f6e;&#x5728;&#x672c;&#x673a;&#x4e0a;&#x7684; Cookie&#xff08;&#x5982;&#x679c;&#x6709;&#x7684;&#x8bdd;&#xff09;&#x3002;\n\n&#x5982;&#x679c;&#x9700;&#x8981;&#x8de8;&#x57df; AJAX &#x8bf7;&#x6c42;&#x53d1;&#x9001; Cookie&#xff0c;&#x9700;&#x8981;`withCredentials`&#x5c5e;&#x6027;&#x8bbe;&#x4e3a;`true`&#x3002;&#x6ce8;&#x610f;&#xff0c;&#x540c;&#x6e90;&#x7684;&#x8bf7;&#x6c42;&#x4e0d;&#x9700;&#x8981;&#x8bbe;&#x7f6e;&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"353,356"}},{"content":"<pre data-lines=\"357,363\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;GET&apos;</span>, <span class=\"hljs-string\">&apos;http://example.com/&apos;</span>, <span class=\"hljs-literal\">true</span>);\nxhr.<span class=\"hljs-property\">withCredentials</span> = <span class=\"hljs-literal\">true</span>;\nxhr.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-literal\">null</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"357,363"}},{"content":"<pre data-lines=\"364,365\"><code>&#x4e3a;&#x4e86;&#x8ba9;&#x8fd9;&#x4e2a;&#x5c5e;&#x6027;&#x751f;&#x6548;&#xff0c;&#x670d;&#x52a1;&#x5668;&#x5fc5;&#x987b;&#x663e;&#x5f0f;&#x8fd4;&#x56de;`Access-Control-Allow-Credentials`&#x8fd9;&#x4e2a;&#x5934;&#x4fe1;&#x606f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"364,365"}},{"content":"<pre data-lines=\"366,369\"><code class=\"language-javascript\"><span class=\"hljs-title class_\">Access</span>-<span class=\"hljs-title class_\">Control</span>-<span class=\"hljs-title class_\">Allow</span>-<span class=\"hljs-title class_\">Credentials</span>: <span class=\"hljs-literal\">true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"366,369"}},{"content":"<pre data-lines=\"370,373\"><code>`withCredentials`&#x5c5e;&#x6027;&#x6253;&#x5f00;&#x7684;&#x8bdd;&#xff0c;&#x8de8;&#x57df;&#x8bf7;&#x6c42;&#x4e0d;&#x4ec5;&#x4f1a;&#x53d1;&#x9001; Cookie&#xff0c;&#x8fd8;&#x4f1a;&#x8bbe;&#x7f6e;&#x8fdc;&#x7a0b;&#x4e3b;&#x673a;&#x6307;&#x5b9a;&#x7684; Cookie&#x3002;&#x53cd;&#x4e4b;&#x4e5f;&#x6210;&#x7acb;&#xff0c;&#x5982;&#x679c;`withCredentials`&#x5c5e;&#x6027;&#x6ca1;&#x6709;&#x6253;&#x5f00;&#xff0c;&#x90a3;&#x4e48;&#x8de8;&#x57df;&#x7684; AJAX &#x8bf7;&#x6c42;&#x5373;&#x4f7f;&#x660e;&#x786e;&#x8981;&#x6c42;&#x6d4f;&#x89c8;&#x5668;&#x8bbe;&#x7f6e; Cookie&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x4e5f;&#x4f1a;&#x5ffd;&#x7565;&#x3002;\n\n&#x6ce8;&#x610f;&#xff0c;&#x811a;&#x672c;&#x603b;&#x662f;&#x9075;&#x5b88;&#x540c;&#x6e90;&#x653f;&#x7b56;&#xff0c;&#x65e0;&#x6cd5;&#x4ece;`document.cookie`&#x6216;&#x8005; HTTP &#x56de;&#x5e94;&#x7684;&#x5934;&#x4fe1;&#x606f;&#x4e4b;&#x4e2d;&#xff0c;&#x8bfb;&#x53d6;&#x8de8;&#x57df;&#x7684; Cookie&#xff0c;`withCredentials`&#x5c5e;&#x6027;&#x4e0d;&#x5f71;&#x54cd;&#x8fd9;&#x4e00;&#x70b9;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"370,373"}}],"payload":{"tag":"h3","lines":"351,352"}},{"content":"XMLHttpRequest.upload","children":[{"content":"<pre data-lines=\"376,385\"><code>XMLHttpRequest &#x4e0d;&#x4ec5;&#x53ef;&#x4ee5;&#x53d1;&#x9001;&#x8bf7;&#x6c42;&#xff0c;&#x8fd8;&#x53ef;&#x4ee5;&#x53d1;&#x9001;&#x6587;&#x4ef6;&#xff0c;&#x8fd9;&#x5c31;&#x662f; AJAX &#x6587;&#x4ef6;&#x4e0a;&#x4f20;&#x3002;&#x53d1;&#x9001;&#x6587;&#x4ef6;&#x4ee5;&#x540e;&#xff0c;&#x901a;&#x8fc7;`XMLHttpRequest.upload`&#x5c5e;&#x6027;&#x53ef;&#x4ee5;&#x5f97;&#x5230;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x901a;&#x8fc7;&#x89c2;&#x5bdf;&#x8fd9;&#x4e2a;&#x5bf9;&#x8c61;&#xff0c;&#x53ef;&#x4ee5;&#x5f97;&#x77e5;&#x4e0a;&#x4f20;&#x7684;&#x8fdb;&#x5c55;&#x3002;&#x4e3b;&#x8981;&#x65b9;&#x6cd5;&#x5c31;&#x662f;&#x76d1;&#x542c;&#x8fd9;&#x4e2a;&#x5bf9;&#x8c61;&#x7684;&#x5404;&#x79cd;&#x4e8b;&#x4ef6;&#xff1a;loadstart&#x3001;loadend&#x3001;load&#x3001;abort&#x3001;error&#x3001;progress&#x3001;timeout&#x3002;\n\n&#x5047;&#x5b9a;&#x7f51;&#x9875;&#x4e0a;&#x6709;&#x4e00;&#x4e2a;`&lt;progress&gt;`&#x5143;&#x7d20;&#x3002;\n\n```http\n&lt;progress min=&quot;0&quot; max=&quot;100&quot; value=&quot;0&quot;&gt;0% complete&lt;/progress&gt;\n```\n\n&#x6587;&#x4ef6;&#x4e0a;&#x4f20;&#x65f6;&#xff0c;&#x5bf9;`upload`&#x5c5e;&#x6027;&#x6307;&#x5b9a;`progress`&#x4e8b;&#x4ef6;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;&#xff0c;&#x5373;&#x53ef;&#x83b7;&#x5f97;&#x4e0a;&#x4f20;&#x7684;&#x8fdb;&#x5ea6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"376,385"}},{"content":"<pre data-lines=\"386,406\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">upload</span>(<span class=\"hljs-params\">blobOrFile</span>) {\n  <span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n  xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;POST&apos;</span>, <span class=\"hljs-string\">&apos;/server&apos;</span>, <span class=\"hljs-literal\">true</span>);\n  xhr.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">e</span>) {};\n\n  <span class=\"hljs-keyword\">var</span> progressBar = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">querySelector</span>(<span class=\"hljs-string\">&apos;progress&apos;</span>);\n  xhr.<span class=\"hljs-property\">upload</span>.<span class=\"hljs-property\">onprogress</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">e</span>) {\n    <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">lengthComputable</span>) {\n      progressBar.<span class=\"hljs-property\">value</span> = (e.<span class=\"hljs-property\">loaded</span> / e.<span class=\"hljs-property\">total</span>) * <span class=\"hljs-number\">100</span>;\n      <span class=\"hljs-comment\">// &#x517c;&#x5bb9;&#x4e0d;&#x652f;&#x6301; &lt;progress&gt; &#x5143;&#x7d20;&#x7684;&#x8001;&#x5f0f;&#x6d4f;&#x89c8;&#x5668;</span>\n      progressBar.<span class=\"hljs-property\">textContent</span> = progressBar.<span class=\"hljs-property\">value</span>;\n    }\n  };\n\n  xhr.<span class=\"hljs-title function_\">send</span>(blobOrFile);\n}\n\n<span class=\"hljs-title function_\">upload</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Blob</span>([<span class=\"hljs-string\">&apos;hello world&apos;</span>], {<span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&apos;text/plain&apos;</span>}));\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"386,406"}}],"payload":{"tag":"h3","lines":"374,375"}}],"payload":{"tag":"h2","lines":"81,82"}},{"content":"XMLHttpRequest &#x7684;&#x5b9e;&#x4f8b;&#x65b9;&#x6cd5;","children":[{"content":"XMLHttpRequest.open()","children":[{"content":"<pre data-lines=\"411,412\"><code>`XMLHttpRequest.open()`&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x6307;&#x5b9a; HTTP &#x8bf7;&#x6c42;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x6216;&#x8005;&#x8bf4;&#x521d;&#x59cb;&#x5316; XMLHttpRequest &#x5b9e;&#x4f8b;&#x5bf9;&#x8c61;&#x3002;&#x5b83;&#x4e00;&#x5171;&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#x4e94;&#x4e2a;&#x53c2;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"411,412"}},{"content":"<pre data-lines=\"413,422\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">open</span>(\n   string method,\n   string url,\n   optional boolean <span class=\"hljs-keyword\">async</span>,\n   optional string user,\n   optional string password\n);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"413,422"}},{"content":"<pre data-lines=\"423,432\"><code>- `method`&#xff1a;&#x8868;&#x793a; HTTP &#x52a8;&#x8bcd;&#x65b9;&#x6cd5;&#xff0c;&#x6bd4;&#x5982;`GET`&#x3001;`POST`&#x3001;`PUT`&#x3001;`DELETE`&#x3001;`HEAD`&#x7b49;&#x3002;\n- `url`: &#x8868;&#x793a;&#x8bf7;&#x6c42;&#x53d1;&#x9001;&#x76ee;&#x6807; URL&#x3002;\n- `async`: &#x5e03;&#x5c14;&#x503c;&#xff0c;&#x8868;&#x793a;&#x8bf7;&#x6c42;&#x662f;&#x5426;&#x4e3a;&#x5f02;&#x6b65;&#xff0c;&#x9ed8;&#x8ba4;&#x4e3a;`true`&#x3002;&#x5982;&#x679c;&#x8bbe;&#x4e3a;`false`&#xff0c;&#x5219;`send()`&#x65b9;&#x6cd5;&#x53ea;&#x6709;&#x7b49;&#x5230;&#x6536;&#x5230;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x4e86;&#x7ed3;&#x679c;&#xff0c;&#x624d;&#x4f1a;&#x8fdb;&#x884c;&#x4e0b;&#x4e00;&#x6b65;&#x64cd;&#x4f5c;&#x3002;&#x8be5;&#x53c2;&#x6570;&#x53ef;&#x9009;&#x3002;&#x7531;&#x4e8e;&#x540c;&#x6b65; AJAX &#x8bf7;&#x6c42;&#x4f1a;&#x9020;&#x6210;&#x6d4f;&#x89c8;&#x5668;&#x5931;&#x53bb;&#x54cd;&#x5e94;&#xff0c;&#x8bb8;&#x591a;&#x6d4f;&#x89c8;&#x5668;&#x5df2;&#x7ecf;&#x7981;&#x6b62;&#x5728;&#x4e3b;&#x7ebf;&#x7a0b;&#x4f7f;&#x7528;&#xff0c;&#x53ea;&#x5141;&#x8bb8; Worker &#x91cc;&#x9762;&#x4f7f;&#x7528;&#x3002;&#x6240;&#x4ee5;&#xff0c;&#x8fd9;&#x4e2a;&#x53c2;&#x6570;&#x8f7b;&#x6613;&#x4e0d;&#x5e94;&#x8be5;&#x8bbe;&#x4e3a;`false`&#x3002;\n- `user`&#xff1a;&#x8868;&#x793a;&#x7528;&#x4e8e;&#x8ba4;&#x8bc1;&#x7684;&#x7528;&#x6237;&#x540d;&#xff0c;&#x9ed8;&#x8ba4;&#x4e3a;&#x7a7a;&#x5b57;&#x7b26;&#x4e32;&#x3002;&#x8be5;&#x53c2;&#x6570;&#x53ef;&#x9009;&#x3002;\n- `password`&#xff1a;&#x8868;&#x793a;&#x7528;&#x4e8e;&#x8ba4;&#x8bc1;&#x7684;&#x5bc6;&#x7801;&#xff0c;&#x9ed8;&#x8ba4;&#x4e3a;&#x7a7a;&#x5b57;&#x7b26;&#x4e32;&#x3002;&#x8be5;&#x53c2;&#x6570;&#x53ef;&#x9009;&#x3002;\n\n&#x6ce8;&#x610f;&#xff0c;&#x5982;&#x679c;&#x5bf9;&#x4f7f;&#x7528;&#x8fc7;`open()`&#x65b9;&#x6cd5;&#x7684; AJAX &#x8bf7;&#x6c42;&#xff0c;&#x518d;&#x6b21;&#x4f7f;&#x7528;&#x8fd9;&#x4e2a;&#x65b9;&#x6cd5;&#xff0c;&#x7b49;&#x540c;&#x4e8e;&#x8c03;&#x7528;`abort()`&#xff0c;&#x5373;&#x7ec8;&#x6b62;&#x8bf7;&#x6c42;&#x3002;\n\n&#x4e0b;&#x9762;&#x53d1;&#x9001; POST &#x8bf7;&#x6c42;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"423,432"}},{"content":"<pre data-lines=\"433,437\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;POST&apos;</span>, <span class=\"hljs-built_in\">encodeURI</span>(<span class=\"hljs-string\">&apos;someURL&apos;</span>));\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"433,437"}}],"payload":{"tag":"h3","lines":"409,410"}},{"content":"XMLHttpRequest.send()","children":[{"content":"<pre data-lines=\"440,443\"><code>`XMLHttpRequest.send()`&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x5b9e;&#x9645;&#x53d1;&#x51fa; HTTP &#x8bf7;&#x6c42;&#x3002;&#x5b83;&#x7684;&#x53c2;&#x6570;&#x662f;&#x53ef;&#x9009;&#x7684;&#xff0c;&#x5982;&#x679c;&#x4e0d;&#x5e26;&#x53c2;&#x6570;&#xff0c;&#x5c31;&#x8868;&#x793a; HTTP &#x8bf7;&#x6c42;&#x53ea;&#x6709;&#x4e00;&#x4e2a; URL&#xff0c;&#x6ca1;&#x6709;&#x6570;&#x636e;&#x4f53;&#xff0c;&#x5178;&#x578b;&#x4f8b;&#x5b50;&#x5c31;&#x662f; GET &#x8bf7;&#x6c42;&#xff1b;&#x5982;&#x679c;&#x5e26;&#x6709;&#x53c2;&#x6570;&#xff0c;&#x5c31;&#x8868;&#x793a;&#x9664;&#x4e86;&#x5934;&#x4fe1;&#x606f;&#xff0c;&#x8fd8;&#x5e26;&#x6709;&#x5305;&#x542b;&#x5177;&#x4f53;&#x6570;&#x636e;&#x7684;&#x4fe1;&#x606f;&#x4f53;&#xff0c;&#x5178;&#x578b;&#x4f8b;&#x5b50;&#x5c31;&#x662f; POST &#x8bf7;&#x6c42;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f; GET &#x8bf7;&#x6c42;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"440,443"}},{"content":"<pre data-lines=\"444,452\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;GET&apos;</span>,\n  <span class=\"hljs-string\">&apos;http://www.example.com/?id=&apos;</span> + <span class=\"hljs-built_in\">encodeURIComponent</span>(id),\n  <span class=\"hljs-literal\">true</span>\n);\nxhr.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-literal\">null</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"444,452"}},{"content":"<pre data-lines=\"453,456\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`GET`&#x8bf7;&#x6c42;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x4f5c;&#x4e3a;&#x67e5;&#x8be2;&#x5b57;&#x7b26;&#x4e32;&#x9644;&#x52a0;&#x5728; URL &#x540e;&#x9762;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x53d1;&#x9001; POST &#x8bf7;&#x6c42;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"453,456"}},{"content":"<pre data-lines=\"457,468\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n<span class=\"hljs-keyword\">var</span> data = <span class=\"hljs-string\">&apos;email=&apos;</span>\n  + <span class=\"hljs-built_in\">encodeURIComponent</span>(email)\n  + <span class=\"hljs-string\">&apos;&amp;password=&apos;</span>\n  + <span class=\"hljs-built_in\">encodeURIComponent</span>(password);\n\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;POST&apos;</span>, <span class=\"hljs-string\">&apos;http://www.example.com&apos;</span>, <span class=\"hljs-literal\">true</span>);\nxhr.<span class=\"hljs-title function_\">setRequestHeader</span>(<span class=\"hljs-string\">&apos;Content-Type&apos;</span>, <span class=\"hljs-string\">&apos;application/x-www-form-urlencoded&apos;</span>);\nxhr.<span class=\"hljs-title function_\">send</span>(data);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"457,468"}},{"content":"<pre data-lines=\"469,472\"><code>&#x6ce8;&#x610f;&#xff0c;&#x6240;&#x6709; XMLHttpRequest &#x7684;&#x76d1;&#x542c;&#x4e8b;&#x4ef6;&#xff0c;&#x90fd;&#x5fc5;&#x987b;&#x5728;`send()`&#x65b9;&#x6cd5;&#x8c03;&#x7528;&#x4e4b;&#x524d;&#x8bbe;&#x5b9a;&#x3002;\n\n`send`&#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;&#x5c31;&#x662f;&#x53d1;&#x9001;&#x7684;&#x6570;&#x636e;&#x3002;&#x591a;&#x79cd;&#x683c;&#x5f0f;&#x7684;&#x6570;&#x636e;&#xff0c;&#x90fd;&#x53ef;&#x4ee5;&#x4f5c;&#x4e3a;&#x5b83;&#x7684;&#x53c2;&#x6570;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"469,472"}},{"content":"<pre data-lines=\"473,481\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">send</span>();\n<span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">send</span>(<span class=\"hljs-title class_\">ArrayBufferView</span> data);\n<span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">send</span>(<span class=\"hljs-title class_\">Blob</span> data);\n<span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">send</span>(<span class=\"hljs-title class_\">Document</span> data);\n<span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">send</span>(<span class=\"hljs-title class_\">String</span> data);\n<span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">send</span>(<span class=\"hljs-title class_\">FormData</span> data);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"473,481"}},{"content":"<pre data-lines=\"482,485\"><code>&#x5982;&#x679c;`send()`&#x53d1;&#x9001; DOM &#x5bf9;&#x8c61;&#xff0c;&#x5728;&#x53d1;&#x9001;&#x4e4b;&#x524d;&#xff0c;&#x6570;&#x636e;&#x4f1a;&#x5148;&#x88ab;&#x4e32;&#x884c;&#x5316;&#x3002;&#x5982;&#x679c;&#x53d1;&#x9001;&#x4e8c;&#x8fdb;&#x5236;&#x6570;&#x636e;&#xff0c;&#x6700;&#x597d;&#x662f;&#x53d1;&#x9001;`ArrayBufferView`&#x6216;`Blob`&#x5bf9;&#x8c61;&#xff0c;&#x8fd9;&#x4f7f;&#x5f97;&#x901a;&#x8fc7; Ajax &#x4e0a;&#x4f20;&#x6587;&#x4ef6;&#x6210;&#x4e3a;&#x53ef;&#x80fd;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x53d1;&#x9001;&#x8868;&#x5355;&#x6570;&#x636e;&#x7684;&#x4f8b;&#x5b50;&#x3002;`FormData`&#x5bf9;&#x8c61;&#x53ef;&#x4ee5;&#x7528;&#x4e8e;&#x6784;&#x9020;&#x8868;&#x5355;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"482,485"}},{"content":"<pre data-lines=\"486,497\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> formData = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FormData</span>();\n\nformData.<span class=\"hljs-title function_\">append</span>(<span class=\"hljs-string\">&apos;username&apos;</span>, <span class=\"hljs-string\">&apos;&#x5f20;&#x4e09;&apos;</span>);\nformData.<span class=\"hljs-title function_\">append</span>(<span class=\"hljs-string\">&apos;email&apos;</span>, <span class=\"hljs-string\">&apos;zhangsan@example.com&apos;</span>);\nformData.<span class=\"hljs-title function_\">append</span>(<span class=\"hljs-string\">&apos;birthDate&apos;</span>, <span class=\"hljs-number\">1940</span>);\n\n<span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;POST&apos;</span>, <span class=\"hljs-string\">&apos;/register&apos;</span>);\nxhr.<span class=\"hljs-title function_\">send</span>(formData);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"486,497"}},{"content":"<pre data-lines=\"498,499\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`FormData`&#x5bf9;&#x8c61;&#x6784;&#x9020;&#x4e86;&#x8868;&#x5355;&#x6570;&#x636e;&#xff0c;&#x7136;&#x540e;&#x4f7f;&#x7528;`send()`&#x65b9;&#x6cd5;&#x53d1;&#x9001;&#x3002;&#x5b83;&#x7684;&#x6548;&#x679c;&#x4e0e;&#x53d1;&#x9001;&#x4e0b;&#x9762;&#x7684;&#x8868;&#x5355;&#x6570;&#x636e;&#x662f;&#x4e00;&#x6837;&#x7684;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"498,499"}},{"content":"<pre data-lines=\"500,508\"><code class=\"language-html\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">form</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&apos;registration&apos;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&apos;registration&apos;</span> <span class=\"hljs-attr\">action</span>=<span class=\"hljs-string\">&apos;/register&apos;</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&apos;text&apos;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&apos;username&apos;</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">&apos;&#x5f20;&#x4e09;&apos;</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&apos;email&apos;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&apos;email&apos;</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">&apos;zhangsan@example.com&apos;</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&apos;number&apos;</span> <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">&apos;birthDate&apos;</span> <span class=\"hljs-attr\">value</span>=<span class=\"hljs-string\">&apos;1940&apos;</span>&gt;</span>\n  <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&apos;submit&apos;</span> <span class=\"hljs-attr\">onclick</span>=<span class=\"hljs-string\">&apos;return sendForm(this.form);&apos;</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">form</span>&gt;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"500,508"}},{"content":"<pre data-lines=\"509,510\"><code>&#x4e0b;&#x9762;&#x7684;&#x4f8b;&#x5b50;&#x662f;&#x4f7f;&#x7528;`FormData`&#x5bf9;&#x8c61;&#x52a0;&#x5de5;&#x8868;&#x5355;&#x6570;&#x636e;&#xff0c;&#x7136;&#x540e;&#x518d;&#x53d1;&#x9001;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"509,510"}},{"content":"<pre data-lines=\"511,529\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">sendForm</span>(<span class=\"hljs-params\">form</span>) {\n  <span class=\"hljs-keyword\">var</span> formData = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FormData</span>(form);\n  formData.<span class=\"hljs-title function_\">append</span>(<span class=\"hljs-string\">&apos;csrf&apos;</span>, <span class=\"hljs-string\">&apos;e69a18d7db1286040586e6da1950128c&apos;</span>);\n\n  <span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n  xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;POST&apos;</span>, form.<span class=\"hljs-property\">action</span>, <span class=\"hljs-literal\">true</span>);\n  xhr.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-comment\">// ...</span>\n  };\n  xhr.<span class=\"hljs-title function_\">send</span>(formData);\n\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;\n}\n\n<span class=\"hljs-keyword\">var</span> form = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">querySelector</span>(<span class=\"hljs-string\">&apos;#registration&apos;</span>);\n<span class=\"hljs-title function_\">sendForm</span>(form);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"511,529"}}],"payload":{"tag":"h3","lines":"438,439"}},{"content":"XMLHttpRequest.setRequestHeader()","children":[{"content":"<pre data-lines=\"532,535\"><code>`XMLHttpRequest.setRequestHeader()`&#x65b9;&#x6cd5;&#x7528;&#x4e8e;&#x8bbe;&#x7f6e;&#x6d4f;&#x89c8;&#x5668;&#x53d1;&#x9001;&#x7684; HTTP &#x8bf7;&#x6c42;&#x7684;&#x5934;&#x4fe1;&#x606f;&#x3002;&#x8be5;&#x65b9;&#x6cd5;&#x5fc5;&#x987b;&#x5728;`open()`&#x4e4b;&#x540e;&#x3001;`send()`&#x4e4b;&#x524d;&#x8c03;&#x7528;&#x3002;&#x5982;&#x679c;&#x8be5;&#x65b9;&#x6cd5;&#x591a;&#x6b21;&#x8c03;&#x7528;&#xff0c;&#x8bbe;&#x5b9a;&#x540c;&#x4e00;&#x4e2a;&#x5b57;&#x6bb5;&#xff0c;&#x5219;&#x6bcf;&#x4e00;&#x6b21;&#x8c03;&#x7528;&#x7684;&#x503c;&#x4f1a;&#x88ab;&#x5408;&#x5e76;&#x6210;&#x4e00;&#x4e2a;&#x5355;&#x4e00;&#x7684;&#x503c;&#x53d1;&#x9001;&#x3002;\n\n&#x8be5;&#x65b9;&#x6cd5;&#x63a5;&#x53d7;&#x4e24;&#x4e2a;&#x53c2;&#x6570;&#x3002;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x8868;&#x793a;&#x5934;&#x4fe1;&#x606f;&#x7684;&#x5b57;&#x6bb5;&#x540d;&#xff0c;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x5b57;&#x6bb5;&#x503c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"532,535"}},{"content":"<pre data-lines=\"536,541\"><code class=\"language-javascript\">xhr.<span class=\"hljs-title function_\">setRequestHeader</span>(<span class=\"hljs-string\">&apos;Content-Type&apos;</span>, <span class=\"hljs-string\">&apos;application/json&apos;</span>);\nxhr.<span class=\"hljs-title function_\">setRequestHeader</span>(<span class=\"hljs-string\">&apos;Content-Length&apos;</span>, <span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>(data).<span class=\"hljs-property\">length</span>);\nxhr.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>(data));\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"536,541"}},{"content":"<pre data-lines=\"542,543\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x9996;&#x5148;&#x8bbe;&#x7f6e;&#x5934;&#x4fe1;&#x606f;`Content-Type`&#xff0c;&#x8868;&#x793a;&#x53d1;&#x9001; JSON &#x683c;&#x5f0f;&#x7684;&#x6570;&#x636e;&#xff1b;&#x7136;&#x540e;&#x8bbe;&#x7f6e;`Content-Length`&#xff0c;&#x8868;&#x793a;&#x6570;&#x636e;&#x957f;&#x5ea6;&#xff1b;&#x6700;&#x540e;&#x53d1;&#x9001; JSON &#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"542,543"}}],"payload":{"tag":"h3","lines":"530,531"}},{"content":"XMLHttpRequest.overrideMimeType()","children":[{"content":"<pre data-lines=\"546,547\"><code>`XMLHttpRequest.overrideMimeType()`&#x65b9;&#x6cd5;&#x7528;&#x6765;&#x6307;&#x5b9a; MIME &#x7c7b;&#x578b;&#xff0c;&#x8986;&#x76d6;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x771f;&#x6b63;&#x7684; MIME &#x7c7b;&#x578b;&#xff0c;&#x4ece;&#x800c;&#x8ba9;&#x6d4f;&#x89c8;&#x5668;&#x8fdb;&#x884c;&#x4e0d;&#x4e00;&#x6837;&#x7684;&#x5904;&#x7406;&#x3002;&#x4e3e;&#x4f8b;&#x6765;&#x8bf4;&#xff0c;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x662f;`text/xml`&#xff0c;&#x7531;&#x4e8e;&#x79cd;&#x79cd;&#x539f;&#x56e0;&#x6d4f;&#x89c8;&#x5668;&#x89e3;&#x6790;&#x4e0d;&#x6210;&#x529f;&#x62a5;&#x9519;&#xff0c;&#x8fd9;&#x65f6;&#x5c31;&#x62ff;&#x4e0d;&#x5230;&#x6570;&#x636e;&#x4e86;&#x3002;&#x4e3a;&#x4e86;&#x62ff;&#x5230;&#x539f;&#x59cb;&#x6570;&#x636e;&#xff0c;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x628a; MIME &#x7c7b;&#x578b;&#x6539;&#x6210;`text/plain`&#xff0c;&#x8fd9;&#x6837;&#x6d4f;&#x89c8;&#x5668;&#x5c31;&#x4e0d;&#x4f1a;&#x53bb;&#x81ea;&#x52a8;&#x89e3;&#x6790;&#xff0c;&#x4ece;&#x800c;&#x6211;&#x4eec;&#x5c31;&#x53ef;&#x4ee5;&#x62ff;&#x5230;&#x539f;&#x59cb;&#x6587;&#x672c;&#x4e86;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"546,547"}},{"content":"<pre data-lines=\"548,551\"><code class=\"language-javascript\">xhr.<span class=\"hljs-title function_\">overrideMimeType</span>(<span class=\"hljs-string\">&apos;text/plain&apos;</span>)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"548,551"}},{"content":"<pre data-lines=\"552,555\"><code>&#x6ce8;&#x610f;&#xff0c;&#x8be5;&#x65b9;&#x6cd5;&#x5fc5;&#x987b;&#x5728;`send()`&#x65b9;&#x6cd5;&#x4e4b;&#x524d;&#x8c03;&#x7528;&#x3002;\n\n&#x4fee;&#x6539;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x6570;&#x636e;&#x7c7b;&#x578b;&#xff0c;&#x4e0d;&#x662f;&#x6b63;&#x5e38;&#x60c5;&#x51b5;&#x4e0b;&#x5e94;&#x8be5;&#x91c7;&#x53d6;&#x7684;&#x65b9;&#x6cd5;&#x3002;&#x5982;&#x679c;&#x5e0c;&#x671b;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x6307;&#x5b9a;&#x7684;&#x6570;&#x636e;&#x7c7b;&#x578b;&#xff0c;&#x53ef;&#x4ee5;&#x7528;`responseType`&#x5c5e;&#x6027;&#x544a;&#x8bc9;&#x670d;&#x52a1;&#x5668;&#xff0c;&#x5c31;&#x50cf;&#x4e0b;&#x9762;&#x7684;&#x4f8b;&#x5b50;&#x3002;&#x53ea;&#x6709;&#x5728;&#x670d;&#x52a1;&#x5668;&#x65e0;&#x6cd5;&#x8fd4;&#x56de;&#x67d0;&#x79cd;&#x6570;&#x636e;&#x7c7b;&#x578b;&#x65f6;&#xff0c;&#x624d;&#x4f7f;&#x7528;`overrideMimeType()`&#x65b9;&#x6cd5;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"552,555"}},{"content":"<pre data-lines=\"556,566\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-property\">onload</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">e</span>) {\n  <span class=\"hljs-keyword\">var</span> arraybuffer = xhr.<span class=\"hljs-property\">response</span>;\n  <span class=\"hljs-comment\">// ...</span>\n}\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;GET&apos;</span>, url);\nxhr.<span class=\"hljs-property\">responseType</span> = <span class=\"hljs-string\">&apos;arraybuffer&apos;</span>;\nxhr.<span class=\"hljs-title function_\">send</span>();\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"556,566"}}],"payload":{"tag":"h3","lines":"544,545"}},{"content":"XMLHttpRequest.getResponseHeader()","children":[{"content":"<pre data-lines=\"569,570\"><code>`XMLHttpRequest.getResponseHeader()`&#x65b9;&#x6cd5;&#x8fd4;&#x56de; HTTP &#x5934;&#x4fe1;&#x606f;&#x6307;&#x5b9a;&#x5b57;&#x6bb5;&#x7684;&#x503c;&#xff0c;&#x5982;&#x679c;&#x8fd8;&#x6ca1;&#x6709;&#x6536;&#x5230;&#x670d;&#x52a1;&#x5668;&#x56de;&#x5e94;&#x6216;&#x8005;&#x6307;&#x5b9a;&#x5b57;&#x6bb5;&#x4e0d;&#x5b58;&#x5728;&#xff0c;&#x8fd4;&#x56de;`null`&#x3002;&#x8be5;&#x65b9;&#x6cd5;&#x7684;&#x53c2;&#x6570;&#x4e0d;&#x533a;&#x5206;&#x5927;&#x5c0f;&#x5199;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"569,570"}},{"content":"<pre data-lines=\"571,581\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">getHeaderTime</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getResponseHeader</span>(<span class=\"hljs-string\">&quot;Last-Modified&quot;</span>));\n}\n\n<span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;HEAD&apos;</span>, <span class=\"hljs-string\">&apos;yourpage.html&apos;</span>);\nxhr.<span class=\"hljs-property\">onload</span> = getHeaderTime;\nxhr.<span class=\"hljs-title function_\">send</span>();\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"571,581"}},{"content":"<pre data-lines=\"582,583\"><code>&#x5982;&#x679c;&#x6709;&#x591a;&#x4e2a;&#x5b57;&#x6bb5;&#x540c;&#x540d;&#xff0c;&#x5b83;&#x4eec;&#x7684;&#x503c;&#x4f1a;&#x88ab;&#x8fde;&#x63a5;&#x4e3a;&#x4e00;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x6bcf;&#x4e2a;&#x5b57;&#x6bb5;&#x4e4b;&#x95f4;&#x4f7f;&#x7528;&#x201c;&#x9017;&#x53f7;+&#x7a7a;&#x683c;&#x201d;&#x5206;&#x9694;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"582,583"}}],"payload":{"tag":"h3","lines":"567,568"}},{"content":"XMLHttpRequest.getAllResponseHeaders()","children":[{"content":"<pre data-lines=\"586,587\"><code>`XMLHttpRequest.getAllResponseHeaders()`&#x65b9;&#x6cd5;&#x8fd4;&#x56de;&#x4e00;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x8868;&#x793a;&#x670d;&#x52a1;&#x5668;&#x53d1;&#x6765;&#x7684;&#x6240;&#x6709; HTTP &#x5934;&#x4fe1;&#x606f;&#x3002;&#x683c;&#x5f0f;&#x4e3a;&#x5b57;&#x7b26;&#x4e32;&#xff0c;&#x6bcf;&#x4e2a;&#x5934;&#x4fe1;&#x606f;&#x4e4b;&#x95f4;&#x4f7f;&#x7528;`CRLF`&#x5206;&#x9694;&#xff08;&#x56de;&#x8f66;+&#x6362;&#x884c;&#xff09;&#xff0c;&#x5982;&#x679c;&#x6ca1;&#x6709;&#x6536;&#x5230;&#x670d;&#x52a1;&#x5668;&#x56de;&#x5e94;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x4e3a;`null`&#x3002;&#x5982;&#x679c;&#x53d1;&#x751f;&#x7f51;&#x7edc;&#x9519;&#x8bef;&#xff0c;&#x8be5;&#x5c5e;&#x6027;&#x4e3a;&#x7a7a;&#x5b57;&#x7b26;&#x4e32;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"586,587"}},{"content":"<pre data-lines=\"588,599\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;GET&apos;</span>, <span class=\"hljs-string\">&apos;foo.txt&apos;</span>, <span class=\"hljs-literal\">true</span>);\nxhr.<span class=\"hljs-title function_\">send</span>();\n\nxhr.<span class=\"hljs-property\">onreadystatechange</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">readyState</span> === <span class=\"hljs-number\">4</span>) {\n    <span class=\"hljs-keyword\">var</span> headers = xhr.<span class=\"hljs-title function_\">getAllResponseHeaders</span>();\n  }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"588,599"}},{"content":"<pre data-lines=\"600,601\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x7528;&#x4e8e;&#x83b7;&#x53d6;&#x670d;&#x52a1;&#x5668;&#x8fd4;&#x56de;&#x7684;&#x6240;&#x6709;&#x5934;&#x4fe1;&#x606f;&#x3002;&#x5b83;&#x53ef;&#x80fd;&#x662f;&#x4e0b;&#x9762;&#x8fd9;&#x6837;&#x7684;&#x5b57;&#x7b26;&#x4e32;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"600,601"}},{"content":"<pre data-lines=\"602,615\"><code class=\"language-http\"><span class=\"hljs-attribute\">date</span><span class=\"hljs-punctuation\">: </span>Fri, 08 Dec 2017 21:04:30 GMT\\r\\n\n<span class=\"hljs-attribute\">content-encoding</span><span class=\"hljs-punctuation\">: </span>gzip\\r\\n\n<span class=\"hljs-attribute\">x-content-type-options</span><span class=\"hljs-punctuation\">: </span>nosniff\\r\\n\n<span class=\"hljs-attribute\">server</span><span class=\"hljs-punctuation\">: </span>meinheld/0.6.1\\r\\n\n<span class=\"hljs-attribute\">x-frame-options</span><span class=\"hljs-punctuation\">: </span>DENY\\r\\n\n<span class=\"hljs-attribute\">content-type</span><span class=\"hljs-punctuation\">: </span>text/html; charset=utf-8\\r\\n\n<span class=\"hljs-attribute\">connection</span><span class=\"hljs-punctuation\">: </span>keep-alive\\r\\n\n<span class=\"hljs-attribute\">strict-transport-security</span><span class=\"hljs-punctuation\">: </span>max-age=63072000\\r\\n\n<span class=\"hljs-attribute\">vary</span><span class=\"hljs-punctuation\">: </span>Cookie, Accept-Encoding\\r\\n\n<span class=\"hljs-attribute\">content-length</span><span class=\"hljs-punctuation\">: </span>6502\\r\\n\n<span class=\"hljs-attribute\">x-xss-protection</span><span class=\"hljs-punctuation\">: </span>1; mode=block\\r\\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"602,615"}},{"content":"<pre data-lines=\"616,617\"><code>&#x7136;&#x540e;&#xff0c;&#x5bf9;&#x8fd9;&#x4e2a;&#x5b57;&#x7b26;&#x4e32;&#x8fdb;&#x884c;&#x5904;&#x7406;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"616,617"}},{"content":"<pre data-lines=\"618,631\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> arr = headers.<span class=\"hljs-title function_\">trim</span>().<span class=\"hljs-title function_\">split</span>(<span class=\"hljs-regexp\">/[\\r\\n]+/</span>);\n<span class=\"hljs-keyword\">var</span> headerMap = {};\n\narr.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">line</span>) {\n  <span class=\"hljs-keyword\">var</span> parts = line.<span class=\"hljs-title function_\">split</span>(<span class=\"hljs-string\">&apos;: &apos;</span>);\n  <span class=\"hljs-keyword\">var</span> header = parts.<span class=\"hljs-title function_\">shift</span>();\n  <span class=\"hljs-keyword\">var</span> value = parts.<span class=\"hljs-title function_\">join</span>(<span class=\"hljs-string\">&apos;: &apos;</span>);\n  headerMap[header] = value;\n});\n\nheaderMap[<span class=\"hljs-string\">&apos;content-length&apos;</span>] <span class=\"hljs-comment\">// &quot;6502&quot;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"618,631"}}],"payload":{"tag":"h3","lines":"584,585"}},{"content":"XMLHttpRequest.abort()","children":[{"content":"<pre data-lines=\"634,635\"><code>`XMLHttpRequest.abort()`&#x65b9;&#x6cd5;&#x7528;&#x6765;&#x7ec8;&#x6b62;&#x5df2;&#x7ecf;&#x53d1;&#x51fa;&#x7684; HTTP &#x8bf7;&#x6c42;&#x3002;&#x8c03;&#x7528;&#x8fd9;&#x4e2a;&#x65b9;&#x6cd5;&#x4ee5;&#x540e;&#xff0c;`readyState`&#x5c5e;&#x6027;&#x53d8;&#x4e3a;`4`&#xff0c;`status`&#x5c5e;&#x6027;&#x53d8;&#x4e3a;`0`&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"634,635"}},{"content":"<pre data-lines=\"636,646\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\nxhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;GET&apos;</span>, <span class=\"hljs-string\">&apos;http://www.example.com/page.php&apos;</span>, <span class=\"hljs-literal\">true</span>);\n<span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n&#xa0;&#xa0;<span class=\"hljs-keyword\">if</span> (xhr) {\n&#xa0;&#xa0;&#xa0;&#xa0;xhr.<span class=\"hljs-title function_\">abort</span>();\n&#xa0;&#xa0;&#xa0;&#xa0;xhr = <span class=\"hljs-literal\">null</span>;\n&#xa0;&#xa0;}\n}, <span class=\"hljs-number\">5000</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"636,646"}},{"content":"<pre data-lines=\"647,648\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x5728;&#x53d1;&#x51fa;5&#x79d2;&#x4e4b;&#x540e;&#xff0c;&#x7ec8;&#x6b62;&#x4e00;&#x4e2a; AJAX &#x8bf7;&#x6c42;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"647,648"}}],"payload":{"tag":"h3","lines":"632,633"}}],"payload":{"tag":"h2","lines":"407,408"}},{"content":"XMLHttpRequest &#x5b9e;&#x4f8b;&#x7684;&#x4e8b;&#x4ef6;","children":[{"content":"readyStateChange &#x4e8b;&#x4ef6;","children":[{"content":"<pre data-lines=\"653,656\"><code>`readyState`&#x5c5e;&#x6027;&#x7684;&#x503c;&#x53d1;&#x751f;&#x6539;&#x53d8;&#xff0c;&#x5c31;&#x4f1a;&#x89e6;&#x53d1; readyStateChange &#x4e8b;&#x4ef6;&#x3002;\n\n&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;`onReadyStateChange`&#x5c5e;&#x6027;&#xff0c;&#x6307;&#x5b9a;&#x8fd9;&#x4e2a;&#x4e8b;&#x4ef6;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;&#xff0c;&#x5bf9;&#x4e0d;&#x540c;&#x72b6;&#x6001;&#x8fdb;&#x884c;&#x4e0d;&#x540c;&#x5904;&#x7406;&#x3002;&#x5c24;&#x5176;&#x662f;&#x5f53;&#x72b6;&#x6001;&#x53d8;&#x4e3a;`4`&#x7684;&#x65f6;&#x5019;&#xff0c;&#x8868;&#x793a;&#x901a;&#x4fe1;&#x6210;&#x529f;&#xff0c;&#x8fd9;&#x65f6;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x5c31;&#x53ef;&#x4ee5;&#x5904;&#x7406;&#x670d;&#x52a1;&#x5668;&#x4f20;&#x9001;&#x56de;&#x6765;&#x7684;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"653,656"}}],"payload":{"tag":"h3","lines":"651,652"}},{"content":"progress &#x4e8b;&#x4ef6;","children":[{"content":"<pre data-lines=\"659,660\"><code>&#x4e0a;&#x4f20;&#x6587;&#x4ef6;&#x65f6;&#xff0c;XMLHttpRequest &#x5b9e;&#x4f8b;&#x5bf9;&#x8c61;&#x672c;&#x8eab;&#x548c;&#x5b9e;&#x4f8b;&#x7684;`upload`&#x5c5e;&#x6027;&#xff0c;&#x90fd;&#x6709;&#x4e00;&#x4e2a;`progress`&#x4e8b;&#x4ef6;&#xff0c;&#x4f1a;&#x4e0d;&#x65ad;&#x8fd4;&#x56de;&#x4e0a;&#x4f20;&#x7684;&#x8fdb;&#x5ea6;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"659,660"}},{"content":"<pre data-lines=\"661,676\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">updateProgress</span> (<span class=\"hljs-params\">oEvent</span>) {\n  <span class=\"hljs-keyword\">if</span> (oEvent.<span class=\"hljs-property\">lengthComputable</span>) {\n    <span class=\"hljs-keyword\">var</span> percentComplete = oEvent.<span class=\"hljs-property\">loaded</span> / oEvent.<span class=\"hljs-property\">total</span>;\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x65e0;&#x6cd5;&#x8ba1;&#x7b97;&#x8fdb;&#x5c55;&apos;</span>);\n  }\n}\n\nxhr.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;progress&apos;</span>, updateProgress);\n\nxhr.<span class=\"hljs-title function_\">open</span>();\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"661,676"}}],"payload":{"tag":"h3","lines":"657,658"}},{"content":"load &#x4e8b;&#x4ef6;&#x3001;error &#x4e8b;&#x4ef6;&#x3001;abort &#x4e8b;&#x4ef6;","children":[{"content":"<pre data-lines=\"679,680\"><code>load &#x4e8b;&#x4ef6;&#x8868;&#x793a;&#x670d;&#x52a1;&#x5668;&#x4f20;&#x6765;&#x7684;&#x6570;&#x636e;&#x63a5;&#x6536;&#x5b8c;&#x6bd5;&#xff0c;error &#x4e8b;&#x4ef6;&#x8868;&#x793a;&#x8bf7;&#x6c42;&#x51fa;&#x9519;&#xff0c;abort &#x4e8b;&#x4ef6;&#x8868;&#x793a;&#x8bf7;&#x6c42;&#x88ab;&#x4e2d;&#x65ad;&#xff08;&#x6bd4;&#x5982;&#x7528;&#x6237;&#x53d6;&#x6d88;&#x8bf7;&#x6c42;&#xff09;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"679,680"}},{"content":"<pre data-lines=\"681,702\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">var</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n\nxhr.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;load&apos;</span>, transferComplete);\nxhr.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;error&apos;</span>, transferFailed);\nxhr.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;abort&apos;</span>, transferCanceled);\n\nxhr.<span class=\"hljs-title function_\">open</span>();\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">transferComplete</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x6570;&#x636e;&#x63a5;&#x6536;&#x5b8c;&#x6bd5;&apos;</span>);\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">transferFailed</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x6570;&#x636e;&#x63a5;&#x6536;&#x51fa;&#x9519;&apos;</span>);\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">transferCanceled</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x7528;&#x6237;&#x53d6;&#x6d88;&#x63a5;&#x6536;&apos;</span>);\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"681,702"}}],"payload":{"tag":"h3","lines":"677,678"}},{"content":"loadend &#x4e8b;&#x4ef6;","children":[{"content":"<pre data-lines=\"705,706\"><code>`abort`&#x3001;`load`&#x548c;`error`&#x8fd9;&#x4e09;&#x4e2a;&#x4e8b;&#x4ef6;&#xff0c;&#x4f1a;&#x4f34;&#x968f;&#x4e00;&#x4e2a;`loadend`&#x4e8b;&#x4ef6;&#xff0c;&#x8868;&#x793a;&#x8bf7;&#x6c42;&#x7ed3;&#x675f;&#xff0c;&#x4f46;&#x4e0d;&#x77e5;&#x9053;&#x5176;&#x662f;&#x5426;&#x6210;&#x529f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"705,706"}},{"content":"<pre data-lines=\"707,714\"><code class=\"language-javascript\">xhr.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;loadend&apos;</span>, loadEnd);\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">loadEnd</span>(<span class=\"hljs-params\">e</span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;&#x8bf7;&#x6c42;&#x7ed3;&#x675f;&#xff0c;&#x72b6;&#x6001;&#x672a;&#x77e5;&apos;</span>);\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"707,714"}}],"payload":{"tag":"h3","lines":"703,704"}},{"content":"timeout &#x4e8b;&#x4ef6;","children":[{"content":"<pre data-lines=\"717,718\"><code>&#x670d;&#x52a1;&#x5668;&#x8d85;&#x8fc7;&#x6307;&#x5b9a;&#x65f6;&#x95f4;&#x8fd8;&#x6ca1;&#x6709;&#x8fd4;&#x56de;&#x7ed3;&#x679c;&#xff0c;&#x5c31;&#x4f1a;&#x89e6;&#x53d1; timeout &#x4e8b;&#x4ef6;&#xff0c;&#x5177;&#x4f53;&#x7684;&#x4f8b;&#x5b50;&#x53c2;&#x89c1;`timeout`&#x5c5e;&#x6027;&#x4e00;&#x8282;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"717,718"}}],"payload":{"tag":"h3","lines":"715,716"}}],"payload":{"tag":"h2","lines":"649,650"}},{"content":"Navigator.sendBeacon()","children":[{"content":"<pre data-lines=\"721,724\"><code>&#x7528;&#x6237;&#x5378;&#x8f7d;&#x7f51;&#x9875;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x6709;&#x65f6;&#x9700;&#x8981;&#x5411;&#x670d;&#x52a1;&#x5668;&#x53d1;&#x4e00;&#x4e9b;&#x6570;&#x636e;&#x3002;&#x5f88;&#x81ea;&#x7136;&#x7684;&#x505a;&#x6cd5;&#x662f;&#x5728;`unload`&#x4e8b;&#x4ef6;&#x6216;`beforeunload`&#x4e8b;&#x4ef6;&#x7684;&#x76d1;&#x542c;&#x51fd;&#x6570;&#x91cc;&#x9762;&#xff0c;&#x4f7f;&#x7528;`XMLHttpRequest`&#x5bf9;&#x8c61;&#x53d1;&#x9001;&#x6570;&#x636e;&#x3002;&#x4f46;&#x662f;&#xff0c;&#x8fd9;&#x6837;&#x505a;&#x4e0d;&#x662f;&#x5f88;&#x53ef;&#x9760;&#xff0c;&#x56e0;&#x4e3a;`XMLHttpRequest`&#x5bf9;&#x8c61;&#x662f;&#x5f02;&#x6b65;&#x53d1;&#x9001;&#xff0c;&#x5f88;&#x53ef;&#x80fd;&#x5728;&#x5b83;&#x5373;&#x5c06;&#x53d1;&#x9001;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x9875;&#x9762;&#x5df2;&#x7ecf;&#x5378;&#x8f7d;&#x4e86;&#xff0c;&#x4ece;&#x800c;&#x5bfc;&#x81f4;&#x53d1;&#x9001;&#x53d6;&#x6d88;&#x6216;&#x8005;&#x53d1;&#x9001;&#x5931;&#x8d25;&#x3002;\n\n&#x89e3;&#x51b3;&#x65b9;&#x6cd5;&#x5c31;&#x662f;`unload`&#x4e8b;&#x4ef6;&#x91cc;&#x9762;&#xff0c;&#x52a0;&#x4e00;&#x4e9b;&#x5f88;&#x8017;&#x65f6;&#x7684;&#x540c;&#x6b65;&#x64cd;&#x4f5c;&#x3002;&#x8fd9;&#x6837;&#x5c31;&#x80fd;&#x7559;&#x51fa;&#x8db3;&#x591f;&#x7684;&#x65f6;&#x95f4;&#xff0c;&#x4fdd;&#x8bc1;&#x5f02;&#x6b65; AJAX &#x80fd;&#x591f;&#x53d1;&#x9001;&#x6210;&#x529f;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"721,724"}},{"content":"<pre data-lines=\"725,742\"><code class=\"language-javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">log</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">let</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n  xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;post&apos;</span>, <span class=\"hljs-string\">&apos;/log&apos;</span>, <span class=\"hljs-literal\">true</span>);\n  xhr.<span class=\"hljs-title function_\">setRequestHeader</span>(<span class=\"hljs-string\">&apos;Content-Type&apos;</span>, <span class=\"hljs-string\">&apos;application/x-www-form-urlencoded&apos;</span>);\n  xhr.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;foo=bar&apos;</span>);\n}\n\n<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;unload&apos;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">event</span>) {\n  <span class=\"hljs-title function_\">log</span>();\n\n  <span class=\"hljs-comment\">// a time-consuming operation</span>\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> i = <span class=\"hljs-number\">1</span>; i &lt; <span class=\"hljs-number\">10000</span>; i++) {\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> m = <span class=\"hljs-number\">1</span>; m &lt; <span class=\"hljs-number\">10000</span>; m++) { <span class=\"hljs-keyword\">continue</span>; }\n  }\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"725,742"}},{"content":"<pre data-lines=\"743,746\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x5f3a;&#x5236;&#x6267;&#x884c;&#x4e86;&#x4e00;&#x6b21;&#x53cc;&#x91cd;&#x5faa;&#x73af;&#xff0c;&#x62d6;&#x957f;&#x4e86;`unload`&#x4e8b;&#x4ef6;&#x7684;&#x6267;&#x884c;&#x65f6;&#x95f4;&#xff0c;&#x5bfc;&#x81f4;&#x5f02;&#x6b65; AJAX &#x80fd;&#x591f;&#x53d1;&#x9001;&#x6210;&#x529f;&#x3002;\n\n&#x7c7b;&#x4f3c;&#x7684;&#x8fd8;&#x53ef;&#x4ee5;&#x4f7f;&#x7528;`setTimeout`&#x3002;&#x4e0b;&#x9762;&#x662f;&#x8ffd;&#x8e2a;&#x7528;&#x6237;&#x70b9;&#x51fb;&#x7684;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"743,746"}},{"content":"<pre data-lines=\"747,769\"><code class=\"language-javascript\"><span class=\"hljs-comment\">// HTML &#x4ee3;&#x7801;&#x5982;&#x4e0b;</span>\n<span class=\"hljs-comment\">// &lt;a id=&quot;target&quot; href=&quot;https://baidu.com&quot;&gt;click&lt;/a&gt;</span>\n<span class=\"hljs-keyword\">const</span> clickTime = <span class=\"hljs-number\">350</span>;\n<span class=\"hljs-keyword\">const</span> theLink = <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-title function_\">getElementById</span>(<span class=\"hljs-string\">&apos;target&apos;</span>);\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">log</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">let</span> xhr = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">XMLHttpRequest</span>();\n  xhr.<span class=\"hljs-title function_\">open</span>(<span class=\"hljs-string\">&apos;post&apos;</span>, <span class=\"hljs-string\">&apos;/log&apos;</span>, <span class=\"hljs-literal\">true</span>);\n  xhr.<span class=\"hljs-title function_\">setRequestHeader</span>(<span class=\"hljs-string\">&apos;Content-Type&apos;</span>, <span class=\"hljs-string\">&apos;application/x-www-form-urlencoded&apos;</span>);\n  xhr.<span class=\"hljs-title function_\">send</span>(<span class=\"hljs-string\">&apos;foo=bar&apos;</span>);\n}\n\ntheLink.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;click&apos;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">event</span>) {\n  event.<span class=\"hljs-title function_\">preventDefault</span>();\n  <span class=\"hljs-title function_\">log</span>();\n\n  <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">location</span>.<span class=\"hljs-property\">href</span> = theLink.<span class=\"hljs-title function_\">getAttribute</span>(<span class=\"hljs-string\">&apos;href&apos;</span>);\n  }, clickTime);\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"747,769"}},{"content":"<pre data-lines=\"770,775\"><code>&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4f7f;&#x7528;`setTimeout`&#xff0c;&#x62d6;&#x5ef6;&#x4e86;350&#x6beb;&#x79d2;&#xff0c;&#x624d;&#x8ba9;&#x9875;&#x9762;&#x8df3;&#x8f6c;&#xff0c;&#x56e0;&#x6b64;&#x4f7f;&#x5f97;&#x5f02;&#x6b65; AJAX &#x6709;&#x65f6;&#x95f4;&#x53d1;&#x51fa;&#x3002;\n\n&#x8fd9;&#x4e9b;&#x505a;&#x6cd5;&#x7684;&#x5171;&#x540c;&#x95ee;&#x9898;&#x662f;&#xff0c;&#x5378;&#x8f7d;&#x7684;&#x65f6;&#x95f4;&#x88ab;&#x786c;&#x751f;&#x751f;&#x62d6;&#x957f;&#x4e86;&#xff0c;&#x540e;&#x9762;&#x9875;&#x9762;&#x7684;&#x52a0;&#x8f7d;&#x88ab;&#x63a8;&#x8fdf;&#x4e86;&#xff0c;&#x7528;&#x6237;&#x4f53;&#x9a8c;&#x4e0d;&#x597d;&#x3002;\n\n&#x4e3a;&#x4e86;&#x89e3;&#x51b3;&#x8fd9;&#x4e2a;&#x95ee;&#x9898;&#xff0c;&#x6d4f;&#x89c8;&#x5668;&#x5f15;&#x5165;&#x4e86;`Navigator.sendBeacon()`&#x65b9;&#x6cd5;&#x3002;&#x8fd9;&#x4e2a;&#x65b9;&#x6cd5;&#x8fd8;&#x662f;&#x5f02;&#x6b65;&#x53d1;&#x51fa;&#x8bf7;&#x6c42;&#xff0c;&#x4f46;&#x662f;&#x8bf7;&#x6c42;&#x4e0e;&#x5f53;&#x524d;&#x9875;&#x9762;&#x7ebf;&#x7a0b;&#x8131;&#x94a9;&#xff0c;&#x4f5c;&#x4e3a;&#x6d4f;&#x89c8;&#x5668;&#x8fdb;&#x7a0b;&#x7684;&#x4efb;&#x52a1;&#xff0c;&#x56e0;&#x6b64;&#x53ef;&#x4ee5;&#x4fdd;&#x8bc1;&#x4f1a;&#x628a;&#x6570;&#x636e;&#x53d1;&#x51fa;&#x53bb;&#xff0c;&#x4e0d;&#x62d6;&#x5ef6;&#x5378;&#x8f7d;&#x6d41;&#x7a0b;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"770,775"}},{"content":"<pre data-lines=\"776,783\"><code class=\"language-javascript\"><span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;unload&apos;</span>, logData, <span class=\"hljs-literal\">false</span>);\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">logData</span>(<span class=\"hljs-params\"></span>) {\n  navigator.<span class=\"hljs-title function_\">sendBeacon</span>(<span class=\"hljs-string\">&apos;/log&apos;</span>, analyticsData);\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"776,783"}},{"content":"<pre data-lines=\"784,785\"><code>`Navigator.sendBeacon`&#x65b9;&#x6cd5;&#x63a5;&#x53d7;&#x4e24;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x76ee;&#x6807;&#x670d;&#x52a1;&#x5668;&#x7684; URL&#xff0c;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x6240;&#x8981;&#x53d1;&#x9001;&#x7684;&#x6570;&#x636e;&#xff08;&#x53ef;&#x9009;&#xff09;&#xff0c;&#x53ef;&#x4ee5;&#x662f;&#x4efb;&#x610f;&#x7c7b;&#x578b;&#xff08;&#x5b57;&#x7b26;&#x4e32;&#x3001;&#x8868;&#x5355;&#x5bf9;&#x8c61;&#x3001;&#x4e8c;&#x8fdb;&#x5236;&#x5bf9;&#x8c61;&#x7b49;&#x7b49;&#xff09;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"784,785"}},{"content":"<pre data-lines=\"786,789\"><code class=\"language-javascript\">navigator.sendBeacon(url, data)\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"786,789"}},{"content":"<pre data-lines=\"790,795\"><code>&#x8fd9;&#x4e2a;&#x65b9;&#x6cd5;&#x7684;&#x8fd4;&#x56de;&#x503c;&#x662f;&#x4e00;&#x4e2a;&#x5e03;&#x5c14;&#x503c;&#xff0c;&#x6210;&#x529f;&#x53d1;&#x9001;&#x6570;&#x636e;&#x4e3a;`true`&#xff0c;&#x5426;&#x5219;&#x4e3a;`false`&#x3002;\n\n&#x8be5;&#x65b9;&#x6cd5;&#x53d1;&#x9001;&#x6570;&#x636e;&#x7684; HTTP &#x65b9;&#x6cd5;&#x662f; POST&#xff0c;&#x53ef;&#x4ee5;&#x8de8;&#x57df;&#xff0c;&#x7c7b;&#x4f3c;&#x4e8e;&#x8868;&#x5355;&#x63d0;&#x4ea4;&#x6570;&#x636e;&#x3002;&#x5b83;&#x4e0d;&#x80fd;&#x6307;&#x5b9a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x3002;\n\n&#x4e0b;&#x9762;&#x662f;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"790,795"}},{"content":"<pre data-lines=\"796,808\"><code class=\"language-javascript\"><span class=\"hljs-comment\">// HTML &#x4ee3;&#x7801;&#x5982;&#x4e0b;</span>\n<span class=\"hljs-comment\">// &lt;body onload=&quot;analytics(&apos;start&apos;)&quot; onunload=&quot;analytics(&apos;end&apos;)&quot;&gt;</span>\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">analytics</span>(<span class=\"hljs-params\">state</span>) {\n  <span class=\"hljs-keyword\">if</span> (!navigator.<span class=\"hljs-property\">sendBeacon</span>) <span class=\"hljs-keyword\">return</span>;\n\n  <span class=\"hljs-keyword\">var</span> <span class=\"hljs-variable constant_\">URL</span> = <span class=\"hljs-string\">&apos;http://example.com/analytics&apos;</span>;\n  <span class=\"hljs-keyword\">var</span> data = <span class=\"hljs-string\">&apos;state=&apos;</span> + state + <span class=\"hljs-string\">&apos;&amp;location=&apos;</span> + <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">location</span>;\n  navigator.<span class=\"hljs-title function_\">sendBeacon</span>(<span class=\"hljs-variable constant_\">URL</span>, data);\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"796,808"}}],"payload":{"tag":"h2","lines":"719,720"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
