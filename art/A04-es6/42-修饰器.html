<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"<a href=\"https://www.cnblogs.com/xiaohuochai/p/7276877.html\">ES2017&#x4e2d;&#x7684;&#x4fee;&#x9970;&#x5668;Decorator</a><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAoklEQVQ4T+2T4Q2CMBCFv27CBjgCG+gIjAAbOAIjOIJs4Ai6gRvIBpjXXCOp19T/8pJLoTneXcj3Ah91wAV4bu68xwXoAZ2EzEAmE9AWTB6AelRDyaAx9zgh0wE4ATczcTdIE7wl0oe7wX/8RMHigfQTB3fDdM1IEvYyONdIVEOSqDwCY2Z2NaS/UNbqMSQmvauUPlfbNKpBSdTUVyXSs/XyBlRCNBG20I28AAAAAElFTkSuQmCC\" alt=\"img\">","children":[{"content":"&#x524d;&#x9762;&#x7684;&#x8bdd;","children":[{"content":"&#x6982;&#x8ff0;","children":[{"content":"<pre data-lines=\"10,13\"><code>&#x3000;&#x3000;ES2017 &#x5f15;&#x5165;&#x4e86;&#x8fd9;&#x9879;&#x529f;&#x80fd;&#xff0c;&#x76ee;&#x524d; Babel &#x8f6c;&#x7801;&#x5668;&#x5df2;&#x7ecf;&#x652f;&#x6301;Decorator\n\n&#x3000;&#x3000;&#x9996;&#x5148;&#xff0c;&#x5b89;&#x88c5;`babel-core`&#x548c;`babel-plugin-transform-decorators`&#x3002;&#x7531;&#x4e8e;&#x540e;&#x8005;&#x5305;&#x62ec;&#x5728;`babel-preset-stage-0`&#x4e4b;&#x4e2d;&#xff0c;&#x6240;&#x4ee5;&#x6539;&#x4e3a;&#x5b89;&#x88c5;`babel-preset-stage-0`&#x4ea6;&#x53ef;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"10,13"}},{"content":"<pre data-lines=\"14,17\"><code data-lines=\"14,17\">&#x24; npm <span class=\"hljs-keyword\">install </span><span class=\"hljs-keyword\">babel-core </span><span class=\"hljs-keyword\">babel-plugin-transform-decorators\n</span></code></pre>","children":[],"payload":{"tag":"pre","lines":"14,17"}},{"content":"<pre data-lines=\"18,19\"><code>&#x3000;&#x3000;&#x7136;&#x540e;&#xff0c;&#x8bbe;&#x7f6e;&#x914d;&#x7f6e;&#x6587;&#x4ef6;`.babelrc`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"18,19"}},{"content":"<pre data-lines=\"20,25\"><code data-lines=\"20,25\">{\n  <span class=\"hljs-string\">&quot;plugins&quot;</span>: [<span class=\"hljs-string\">&quot;transform-decorators&quot;</span>]\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"20,25"}},{"content":"<pre data-lines=\"30,33\"><code data-lines=\"30,33\">babel<span class=\"hljs-selector-class\">.transform</span>(<span class=\"hljs-string\">&quot;code&quot;</span>, {plugins: <span class=\"hljs-selector-attr\">[<span class=\"hljs-string\">&quot;transform-decorators&quot;</span>]</span>})\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"30,33"}}],"payload":{"tag":"h3","lines":"8,9"}},{"content":"&#x7c7b;&#x4fee;&#x9970;","children":[{"content":"<pre data-lines=\"38,39\"><code>&#x3000;&#x3000;&#x4e0b;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`@testable`&#x5c31;&#x662f;&#x4e00;&#x4e2a;&#x4fee;&#x9970;&#x5668;&#x3002;&#x5b83;&#x4fee;&#x6539;&#x4e86;`MyTestableClass`&#x8fd9;&#x4e2a;&#x7c7b;&#x7684;&#x884c;&#x4e3a;&#xff0c;&#x4e3a;&#x5b83;&#x52a0;&#x4e0a;&#x4e86;&#x9759;&#x6001;&#x5c5e;&#x6027;`isTestable`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"38,39"}},{"content":"<pre data-lines=\"42,54\"><code data-lines=\"42,54\"><span class=\"hljs-meta\">@testable</span>\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyTestableClass</span> </span>{\n  <span class=\"hljs-comment\">// ...</span>\n}\n\n<span class=\"hljs-function\">function <span class=\"hljs-title\">testable</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">target</span>)</span> </span>{\n  <span class=\"hljs-keyword\">target</span>.isTestable = <span class=\"hljs-keyword\">true</span>;\n}\n\nMyTestableClass.isTestable <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"42,54"}},{"content":"<pre data-lines=\"57,58\"><code>&#x3000;&#x3000;&#x57fa;&#x672c;&#x4e0a;&#xff0c;&#x4fee;&#x9970;&#x5668;&#x7684;&#x884c;&#x4e3a;&#x5c31;&#x662f;&#x4e0b;&#x9762;&#x8fd9;&#x6837;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"57,58"}},{"content":"<pre data-lines=\"61,70\"><code data-lines=\"61,70\"><span class=\"hljs-variable\">@decorator</span>\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">A</span> </span>{}\n\n// &#x7b49;&#x540c;&#x4e8e;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">A</span> </span>{}\nA = decorator(A) || A;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"61,70"}},{"content":"<pre data-lines=\"73,78\"><code>&#x3000;&#x3000;&#x4fee;&#x9970;&#x5668;&#x5bf9;&#x7c7b;&#x7684;&#x884c;&#x4e3a;&#x7684;&#x6539;&#x53d8;&#xff0c;&#x662f;&#x4ee3;&#x7801;&#x7f16;&#x8bd1;&#x65f6;&#x53d1;&#x751f;&#x7684;&#xff0c;&#x800c;&#x4e0d;&#x662f;&#x5728;&#x8fd0;&#x884c;&#x65f6;&#x3002;&#x8fd9;&#x610f;&#x5473;&#x7740;&#xff0c;&#x4fee;&#x9970;&#x5668;&#x80fd;&#x5728;&#x7f16;&#x8bd1;&#x9636;&#x6bb5;&#x8fd0;&#x884c;&#x4ee3;&#x7801;&#xff0c;&#x4e5f;&#x5c31;&#x662f;&#x8bf4;&#xff0c;&#x4fee;&#x9970;&#x5668;&#x672c;&#x8d28;&#x5c31;&#x662f;&#x7f16;&#x8bd1;&#x65f6;&#x6267;&#x884c;&#x7684;&#x51fd;&#x6570;\n\n&#x3010;&#x53c2;&#x6570;&#x3011;\n\n&#x3000;&#x3000;&#x4fee;&#x9970;&#x5668;&#x51fd;&#x6570;&#x7684;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x662f;&#x6240;&#x8981;&#x4fee;&#x9970;&#x7684;&#x76ee;&#x6807;&#x7c7b;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"73,78"}},{"content":"<pre data-lines=\"79,84\"><code data-lines=\"79,84\"><span class=\"hljs-variable\">function</span> <span class=\"hljs-title function_\">testable</span>(<span class=\"hljs-params\">target</span>) {\n  <span class=\"hljs-comment\">// ...</span>\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"79,84"}},{"content":"<pre data-lines=\"85,86\"><code>&#x3000;&#x3000;&#x5982;&#x679c;&#x89c9;&#x5f97;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x4e0d;&#x591f;&#x7528;&#xff0c;&#x53ef;&#x4ee5;&#x5728;&#x4fee;&#x9970;&#x5668;&#x5916;&#x9762;&#x518d;&#x5c01;&#x88c5;&#x4e00;&#x5c42;&#x51fd;&#x6570;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"85,86"}},{"content":"<pre data-lines=\"89,104\"><code data-lines=\"89,104\">function testable(isTestable) {\n  <span class=\"hljs-keyword\">return</span> function(target) {\n    target.isTestable = isTestable;\n  }\n}\n\n<span class=\"hljs-variable\">@testable</span>(true)\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyTestableClass</span> </span>{}\nMyTestableClass.isTestable // true\n\n<span class=\"hljs-variable\">@testable</span>(false)\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyClass</span> </span>{}\nMyClass.isTestable // false\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"89,104"}},{"content":"<pre data-lines=\"107,110\"><code>&#x3000;&#x3000;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x4fee;&#x9970;&#x5668;`testable`&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#x53c2;&#x6570;&#xff0c;&#x8fd9;&#x5c31;&#x7b49;&#x4e8e;&#x53ef;&#x4ee5;&#x4fee;&#x6539;&#x4fee;&#x9970;&#x5668;&#x7684;&#x884c;&#x4e3a;&#x3002;\n\n&#x3000;&#x3000;&#x524d;&#x9762;&#x7684;&#x4f8b;&#x5b50;&#x662f;&#x4e3a;&#x7c7b;&#x6dfb;&#x52a0;&#x4e00;&#x4e2a;&#x9759;&#x6001;&#x5c5e;&#x6027;&#xff0c;&#x5982;&#x679c;&#x60f3;&#x6dfb;&#x52a0;&#x5b9e;&#x4f8b;&#x5c5e;&#x6027;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x76ee;&#x6807;&#x7c7b;&#x7684;`prototype`&#x5bf9;&#x8c61;&#x64cd;&#x4f5c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"107,110"}},{"content":"<pre data-lines=\"113,124\"><code data-lines=\"113,124\"><span class=\"hljs-function\">function <span class=\"hljs-title\">testable</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">target</span>)</span> </span>{\n  <span class=\"hljs-keyword\">target</span>.prototype.isTestable = <span class=\"hljs-keyword\">true</span>;\n}\n\n<span class=\"hljs-meta\">@testable</span>\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MyTestableClass</span> </span>{}\n\nlet obj = <span class=\"hljs-keyword\">new</span> MyTestableClass();\nobj.isTestable <span class=\"hljs-comment\">// true</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"113,124"}},{"content":"<pre data-lines=\"127,130\"><code>&#x3010;mixins&#x3011;\n\n&#x3000;&#x3000;&#x4e0b;&#x9762;&#x662f;&#x53e6;&#x5916;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"127,130"}},{"content":"<pre data-lines=\"133,154\"><code data-lines=\"133,154\"><span class=\"hljs-comment\">// mixins.js</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mixins</span>(<span class=\"hljs-params\">...list</span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">target</span>) {\n    <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">assign</span>(target.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>, ...list)\n  }\n}\n\n<span class=\"hljs-comment\">// main.js</span>\n<span class=\"hljs-keyword\">import</span> { mixins } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;./mixins&apos;</span>\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Foo</span> = {\n  <span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-params\"></span>) { <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;foo&apos;</span>) }\n};\n\n@<span class=\"hljs-title function_\">mixins</span>(<span class=\"hljs-title class_\">Foo</span>)\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyClass</span> {}\n\n<span class=\"hljs-keyword\">let</span> obj = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">MyClass</span>();\nobj.<span class=\"hljs-title function_\">foo</span>() <span class=\"hljs-comment\">// &apos;foo&apos;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"133,154"}},{"content":"<pre data-lines=\"157,158\"><code>&#x3000;&#x3000;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x901a;&#x8fc7;&#x4fee;&#x9970;&#x5668;`mixins`&#xff0c;&#x628a;`Foo`&#x7c7b;&#x7684;&#x65b9;&#x6cd5;&#x6dfb;&#x52a0;&#x5230;&#x4e86;`MyClass`&#x7684;&#x5b9e;&#x4f8b;&#x4e0a;&#x9762;&#x3002;&#x53ef;&#x4ee5;&#x7528;`Object.assign()`&#x6a21;&#x62df;&#x8fd9;&#x4e2a;&#x529f;&#x80fd;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"157,158"}},{"content":"<pre data-lines=\"161,173\"><code data-lines=\"161,173\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">Foo</span> = {\n  <span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-params\"></span>) { <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;foo&apos;</span>) }\n};\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MyClass</span> {}\n\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">assign</span>(<span class=\"hljs-title class_\">MyClass</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>, <span class=\"hljs-title class_\">Foo</span>);\n\n<span class=\"hljs-keyword\">let</span> obj = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">MyClass</span>();\nobj.<span class=\"hljs-title function_\">foo</span>() <span class=\"hljs-comment\">// &apos;foo&apos;</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"161,173"}}],"payload":{"tag":"h3","lines":"36,37"}},{"content":"&#x65b9;&#x6cd5;&#x4fee;&#x9970;","children":[{"content":"<pre data-lines=\"180,181\"><code>&#x3000;&#x3000;&#x4fee;&#x9970;&#x5668;&#x4e0d;&#x4ec5;&#x53ef;&#x4ee5;&#x4fee;&#x9970;&#x7c7b;&#xff0c;&#x8fd8;&#x53ef;&#x4ee5;&#x4fee;&#x9970;&#x7c7b;&#x7684;&#x5c5e;&#x6027;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"180,181"}},{"content":"<pre data-lines=\"182,188\"><code data-lines=\"182,188\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Person</span> {\n  <span class=\"hljs-meta\">@readonly</span>\n  <span class=\"hljs-title function_\">name</span>(<span class=\"hljs-params\"></span>) { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">`<span class=\"hljs-subst\">&#x24;{<span class=\"hljs-variable language_\">this</span>.first}</span> <span class=\"hljs-subst\">&#x24;{<span class=\"hljs-variable language_\">this</span>.last}</span>`</span> }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"182,188"}},{"content":"<pre data-lines=\"189,194\"><code>&#x3000;&#x3000;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x4fee;&#x9970;&#x5668;`readonly`&#x7528;&#x6765;&#x4fee;&#x9970;&#x201c;&#x7c7b;&#x201d;&#x7684;`name`&#x65b9;&#x6cd5;\n\n&#x3010;&#x53c2;&#x6570;&#x3011;\n\n&#x3000;&#x3000;&#x6b64;&#x65f6;&#xff0c;&#x4fee;&#x9970;&#x5668;&#x51fd;&#x6570;&#x4e00;&#x5171;&#x53ef;&#x4ee5;&#x63a5;&#x53d7;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#xff0c;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x6240;&#x8981;&#x4fee;&#x9970;&#x7684;&#x76ee;&#x6807;&#x5bf9;&#x8c61;&#xff0c;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x6240;&#x8981;&#x4fee;&#x9970;&#x7684;&#x5c5e;&#x6027;&#x540d;&#xff0c;&#x7b2c;&#x4e09;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x8be5;&#x5c5e;&#x6027;&#x7684;&#x63cf;&#x8ff0;&#x5bf9;&#x8c61;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"189,194"}},{"content":"<pre data-lines=\"197,214\"><code data-lines=\"197,214\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">readonly</span>(<span class=\"hljs-params\">target, name, descriptor</span>){\n  <span class=\"hljs-comment\">// descriptor&#x5bf9;&#x8c61;&#x539f;&#x6765;&#x7684;&#x503c;&#x5982;&#x4e0b;</span>\n  <span class=\"hljs-comment\">// {</span>\n  <span class=\"hljs-comment\">//   value: specifiedFunction,</span>\n  <span class=\"hljs-comment\">//   enumerable: false,</span>\n  <span class=\"hljs-comment\">//   configurable: true,</span>\n  <span class=\"hljs-comment\">//   writable: true</span>\n  <span class=\"hljs-comment\">// };</span>\n  descriptor.<span class=\"hljs-property\">writable</span> = <span class=\"hljs-literal\">false</span>;\n  <span class=\"hljs-keyword\">return</span> descriptor;\n}\n\n<span class=\"hljs-title function_\">readonly</span>(<span class=\"hljs-title class_\">Person</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>, <span class=\"hljs-string\">&apos;name&apos;</span>, descriptor);\n<span class=\"hljs-comment\">// &#x7c7b;&#x4f3c;&#x4e8e;</span>\n<span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperty</span>(<span class=\"hljs-title class_\">Person</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>, <span class=\"hljs-string\">&apos;name&apos;</span>, descriptor);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"197,214"}},{"content":"<pre data-lines=\"217,220\"><code>&#x3000;&#x3000;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x8bf4;&#x660e;&#xff0c;&#x4fee;&#x9970;&#x5668;&#xff08;readonly&#xff09;&#x4f1a;&#x4fee;&#x6539;&#x5c5e;&#x6027;&#x7684;&#x63cf;&#x8ff0;&#x5bf9;&#x8c61;&#xff08;descriptor&#xff09;&#xff0c;&#x7136;&#x540e;&#x88ab;&#x4fee;&#x6539;&#x7684;&#x63cf;&#x8ff0;&#x5bf9;&#x8c61;&#x518d;&#x7528;&#x6765;&#x5b9a;&#x4e49;&#x5c5e;&#x6027;&#x3002;\n\n&#x3000;&#x3000;&#x4e0b;&#x9762;&#x662f;&#x53e6;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;&#xff0c;&#x4fee;&#x6539;&#x5c5e;&#x6027;&#x63cf;&#x8ff0;&#x5bf9;&#x8c61;&#x7684;`enumerable`&#x5c5e;&#x6027;&#xff0c;&#x4f7f;&#x5f97;&#x8be5;&#x5c5e;&#x6027;&#x4e0d;&#x53ef;&#x904d;&#x5386;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"217,220"}},{"content":"<pre data-lines=\"223,234\"><code data-lines=\"223,234\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Person</span> {\n  <span class=\"hljs-meta\">@nonenumerable</span>\n  <span class=\"hljs-keyword\">get</span> kidCount() { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.children.length; }\n}\n\nfunction nonenumerable(target, name, descriptor) {\n  descriptor.enumerable = <span class=\"hljs-literal\">false</span>;\n  <span class=\"hljs-keyword\">return</span> descriptor;\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"223,234"}},{"content":"<pre data-lines=\"237,240\"><code>&#x3010;&#x65e5;&#x5fd7;&#x5e94;&#x7528;&#x3011;\n\n&#x3000;&#x3000;&#x4e0b;&#x9762;&#x7684;`@log`&#x4fee;&#x9970;&#x5668;&#xff0c;&#x53ef;&#x4ee5;&#x8d77;&#x5230;&#x8f93;&#x51fa;&#x65e5;&#x5fd7;&#x7684;&#x4f5c;&#x7528;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"237,240"}},{"content":"<pre data-lines=\"243,267\"><code data-lines=\"243,267\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Math</span> {\n  @log\n  <span class=\"hljs-title function_\">add</span>(<span class=\"hljs-params\">a, b</span>) {\n    <span class=\"hljs-keyword\">return</span> a + b;\n  }\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">log</span>(<span class=\"hljs-params\">target, name, descriptor</span>) {\n  <span class=\"hljs-keyword\">var</span> oldValue = descriptor.<span class=\"hljs-property\">value</span>;\n\n  descriptor.<span class=\"hljs-property\">value</span> = <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">`Calling &quot;<span class=\"hljs-subst\">&#x24;{name}</span>&quot; with`</span>, <span class=\"hljs-variable language_\">arguments</span>);\n    <span class=\"hljs-keyword\">return</span> oldValue.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-literal\">null</span>, <span class=\"hljs-variable language_\">arguments</span>);\n  };\n\n  <span class=\"hljs-keyword\">return</span> descriptor;\n}\n\n<span class=\"hljs-keyword\">const</span> math = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Math</span>();\n\n<span class=\"hljs-comment\">// passed parameters should get logged now</span>\nmath.<span class=\"hljs-title function_\">add</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">4</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"243,267"}},{"content":"<pre data-lines=\"270,273\"><code>&#x3000;&#x3000;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;`@log`&#x4fee;&#x9970;&#x5668;&#x7684;&#x4f5c;&#x7528;&#x5c31;&#x662f;&#x5728;&#x6267;&#x884c;&#x539f;&#x59cb;&#x7684;&#x64cd;&#x4f5c;&#x4e4b;&#x524d;&#xff0c;&#x6267;&#x884c;&#x4e00;&#x6b21;`console.log`&#xff0c;&#x4ece;&#x800c;&#x8fbe;&#x5230;&#x8f93;&#x51fa;&#x65e5;&#x5fd7;&#x7684;&#x76ee;&#x7684;&#x3002;\n\n&#x3000;&#x3000;&#x4fee;&#x9970;&#x5668;&#x6709;&#x6ce8;&#x91ca;&#x7684;&#x4f5c;&#x7528;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"270,273"}},{"content":"<pre data-lines=\"276,284\"><code data-lines=\"276,284\"><span class=\"hljs-meta\">@testable</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Person</span> {\n  <span class=\"hljs-meta\">@readonly</span>\n  <span class=\"hljs-meta\">@nonenumerable</span>\n  <span class=\"hljs-title function_\">name</span>(<span class=\"hljs-params\"></span>) { <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">`<span class=\"hljs-subst\">&#x24;{<span class=\"hljs-variable language_\">this</span>.first}</span> <span class=\"hljs-subst\">&#x24;{<span class=\"hljs-variable language_\">this</span>.last}</span>`</span> }\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"276,284"}},{"content":"<pre data-lines=\"287,292\"><code>&#x3000;&#x3000;&#x4ece;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x6211;&#x4eec;&#x4e00;&#x773c;&#x5c31;&#x80fd;&#x770b;&#x51fa;&#xff0c;`Person`&#x7c7b;&#x662f;&#x53ef;&#x6d4b;&#x8bd5;&#x7684;&#xff0c;&#x800c;`name`&#x65b9;&#x6cd5;&#x662f;&#x53ea;&#x8bfb;&#x548c;&#x4e0d;&#x53ef;&#x679a;&#x4e3e;&#x7684;\n\n&#x3010;&#x6267;&#x884c;&#x987a;&#x5e8f;&#x3011;\n\n&#x3000;&#x3000;&#x5982;&#x679c;&#x540c;&#x4e00;&#x4e2a;&#x65b9;&#x6cd5;&#x6709;&#x591a;&#x4e2a;&#x4fee;&#x9970;&#x5668;&#xff0c;&#x4f1a;&#x50cf;&#x5265;&#x6d0b;&#x8471;&#x4e00;&#x6837;&#xff0c;&#x5148;&#x4ece;&#x5916;&#x5230;&#x5185;&#x8fdb;&#x5165;&#xff0c;&#x7136;&#x540e;&#x7531;&#x5185;&#x5411;&#x5916;&#x6267;&#x884c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"287,292"}},{"content":"<pre data-lines=\"295,311\"><code data-lines=\"295,311\">function dec(id){\n    console.log(<span class=\"hljs-string\">&apos;evaluated&apos;</span>, id);\n    <span class=\"hljs-keyword\">return</span> (target, property, descriptor) =&gt; console.log(<span class=\"hljs-string\">&apos;executed&apos;</span>, id);\n}\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Example</span> </span>{\n    <span class=\"hljs-variable\">@dec</span>(<span class=\"hljs-number\">1</span>)\n    <span class=\"hljs-variable\">@dec</span>(<span class=\"hljs-number\">2</span>)\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">method</span></span>(){}\n}\n// evaluated <span class=\"hljs-number\">1</span>\n// evaluated <span class=\"hljs-number\">2</span>\n// executed <span class=\"hljs-number\">2</span>\n// executed <span class=\"hljs-number\">1</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"295,311"}},{"content":"<pre data-lines=\"314,317\"><code>&#x3000;&#x3000;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e2d;&#xff0c;&#x5916;&#x5c42;&#x4fee;&#x9970;&#x5668;`@dec(1)`&#x5148;&#x8fdb;&#x5165;&#xff0c;&#x4f46;&#x662f;&#x5185;&#x5c42;&#x4fee;&#x9970;&#x5668;`@dec(2)`&#x5148;&#x6267;&#x884c;\n\n&#x3000;&#x3000;&#x9664;&#x4e86;&#x6ce8;&#x91ca;&#xff0c;&#x4fee;&#x9970;&#x5668;&#x8fd8;&#x80fd;&#x7528;&#x6765;&#x7c7b;&#x578b;&#x68c0;&#x67e5;&#x3002;&#x6240;&#x4ee5;&#xff0c;&#x5bf9;&#x4e8e;&#x7c7b;&#x6765;&#x8bf4;&#xff0c;&#x8fd9;&#x9879;&#x529f;&#x80fd;&#x76f8;&#x5f53;&#x6709;&#x7528;&#x3002;&#x4ece;&#x957f;&#x671f;&#x6765;&#x770b;&#xff0c;&#x5b83;&#x5c06;&#x662f;JS&#x4ee3;&#x7801;&#x9759;&#x6001;&#x5206;&#x6790;&#x7684;&#x91cd;&#x8981;&#x5de5;&#x5177;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"314,317"}}],"payload":{"tag":"h3","lines":"178,179"}},{"content":"&#x6ce8;&#x610f;&#x4e8b;&#x9879;","children":[{"content":"<pre data-lines=\"322,323\"><code>&#x3000;&#x3000;&#x4fee;&#x9970;&#x5668;&#x53ea;&#x80fd;&#x7528;&#x4e8e;&#x7c7b;&#x548c;&#x7c7b;&#x7684;&#x65b9;&#x6cd5;&#xff0c;&#x4e0d;&#x80fd;&#x7528;&#x4e8e;&#x51fd;&#x6570;&#xff0c;&#x56e0;&#x4e3a;&#x5b58;&#x5728;&#x51fd;&#x6570;&#x63d0;&#x5347;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"322,323"}},{"content":"<pre data-lines=\"326,337\"><code data-lines=\"326,337\"><span class=\"hljs-keyword\">var</span> counter = <span class=\"hljs-number\">0</span><span class=\"hljs-punctuation\">;</span>\n\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-keyword\">add</span> = <span class=\"hljs-keyword\">function</span> <span class=\"hljs-params\">()</span> <span class=\"hljs-comment\">{\n  counter++;\n}</span>;\n\n@<span class=\"hljs-keyword\">add</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">foo</span><span class=\"hljs-params\">()</span> <span class=\"hljs-comment\">{\n}</span>\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"326,337"}},{"content":"<pre data-lines=\"340,341\"><code>&#x3000;&#x3000;&#x4e0a;&#x9762;&#x7684;&#x4ee3;&#x7801;&#xff0c;&#x610f;&#x56fe;&#x662f;&#x6267;&#x884c;&#x540e;`counter`&#x7b49;&#x4e8e;1&#xff0c;&#x4f46;&#x662f;&#x5b9e;&#x9645;&#x4e0a;&#x7ed3;&#x679c;&#x662f;`counter`&#x7b49;&#x4e8e;0&#x3002;&#x56e0;&#x4e3a;&#x51fd;&#x6570;&#x63d0;&#x5347;&#xff0c;&#x4f7f;&#x5f97;&#x5b9e;&#x9645;&#x6267;&#x884c;&#x7684;&#x4ee3;&#x7801;&#x662f;&#x4e0b;&#x9762;&#x8fd9;&#x6837;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"340,341"}},{"content":"<pre data-lines=\"344,358\"><code data-lines=\"344,358\">@<span class=\"hljs-keyword\">add</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">foo</span><span class=\"hljs-params\">()</span> <span class=\"hljs-comment\">{\n}</span>\n\n<span class=\"hljs-title function_\">var</span> <span class=\"hljs-title function_\">counter</span>;\n<span class=\"hljs-keyword\">var</span> <span class=\"hljs-keyword\">add</span><span class=\"hljs-punctuation\">;</span>\n\ncounter = <span class=\"hljs-number\">0</span><span class=\"hljs-punctuation\">;</span>\n\n<span class=\"hljs-keyword\">add</span> = <span class=\"hljs-keyword\">function</span> <span class=\"hljs-params\">()</span> <span class=\"hljs-comment\">{\n  counter++;\n}</span>;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"344,358"}},{"content":"<pre data-lines=\"361,362\"><code>&#x3000;&#x3000;&#x4e0b;&#x9762;&#x662f;&#x53e6;&#x4e00;&#x4e2a;&#x4f8b;&#x5b50;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"361,362"}},{"content":"<pre data-lines=\"363,370\"><code data-lines=\"363,370\"><span class=\"hljs-keyword\">var</span> readOnly = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&quot;some-decorator&quot;</span>);\n\n@readOnly\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">foo</span>(<span class=\"hljs-params\"></span>) {\n}\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"363,370"}},{"content":"<pre data-lines=\"371,372\"><code>&#x3000;&#x3000;&#x4e0a;&#x9762;&#x4ee3;&#x7801;&#x4e5f;&#x6709;&#x95ee;&#x9898;&#xff0c;&#x56e0;&#x4e3a;&#x5b9e;&#x9645;&#x6267;&#x884c;&#x662f;&#x4e0b;&#x9762;&#x8fd9;&#x6837;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"371,372"}},{"content":"<pre data-lines=\"375,384\"><code data-lines=\"375,384\"><span class=\"hljs-keyword\">var</span> <span class=\"hljs-keyword\">readOnly</span><span class=\"hljs-punctuation\">;</span>\n\n@<span class=\"hljs-keyword\">readOnly</span>\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">foo</span><span class=\"hljs-params\">()</span> <span class=\"hljs-comment\">{\n}</span>\n\n<span class=\"hljs-title function_\">readOnly</span> = <span class=\"hljs-title function_\">require</span><span class=\"hljs-params\">(&quot;some-decorator&quot;)</span>;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"375,384"}},{"content":"<pre data-lines=\"387,390\"><code>&#x3000;&#x3000;&#x603b;&#x4e4b;&#xff0c;&#x7531;&#x4e8e;&#x5b58;&#x5728;&#x51fd;&#x6570;&#x63d0;&#x5347;&#xff0c;&#x4f7f;&#x5f97;&#x4fee;&#x9970;&#x5668;&#x4e0d;&#x80fd;&#x7528;&#x4e8e;&#x51fd;&#x6570;&#x3002;&#x7c7b;&#x662f;&#x4e0d;&#x4f1a;&#x63d0;&#x5347;&#x7684;&#xff0c;&#x6240;&#x4ee5;&#x5c31;&#x6ca1;&#x6709;&#x8fd9;&#x65b9;&#x9762;&#x7684;&#x95ee;&#x9898;&#x3002;\n\n&#x3000;&#x3000;&#x53e6;&#x4e00;&#x65b9;&#x9762;&#xff0c;&#x5982;&#x679c;&#x4e00;&#x5b9a;&#x8981;&#x4fee;&#x9970;&#x51fd;&#x6570;&#xff0c;&#x53ef;&#x4ee5;&#x91c7;&#x7528;&#x9ad8;&#x9636;&#x51fd;&#x6570;&#x7684;&#x5f62;&#x5f0f;&#x76f4;&#x63a5;&#x6267;&#x884c;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"387,390"}},{"content":"<pre data-lines=\"393,409\"><code data-lines=\"393,409\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">doSomething</span>(<span class=\"hljs-params\">name</span>) {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Hello, &apos;</span> + name);\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">loggingDecorator</span>(<span class=\"hljs-params\">wrapped</span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Starting&apos;</span>);\n    <span class=\"hljs-keyword\">const</span> result = wrapped.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>, <span class=\"hljs-variable language_\">arguments</span>);\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&apos;Finished&apos;</span>);\n    <span class=\"hljs-keyword\">return</span> result;\n  }\n}\n\n<span class=\"hljs-keyword\">const</span> wrapped = <span class=\"hljs-title function_\">loggingDecorator</span>(doSomething);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"393,409"}}],"payload":{"tag":"h3","lines":"320,321"}}],"payload":{"tag":"h2","lines":"2,3"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
