<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x5fae;&#x524d;&#x7aef;-qiankun&#x7bc7;","children":[{"content":"&#x76ee;&#x5f55;","children":[{"content":"<pre data-lines=\"5,18\"><code data-lines=\"5,18\">Qiankun&#x9762;&#x8bd5;&#x9898;10&#x9053;&#x5feb;&#x95ee;&#x5feb;&#x7b54;\n<span class=\"hljs-bullet\">1.</span> &#x4ec0;&#x4e48;&#x662f; qiankun &#x5fae;&#x524d;&#x7aef;&#xff1f;\n<span class=\"hljs-bullet\">2.</span> qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x4f18;&#x52bf;&#x662f;&#x4ec0;&#x4e48;&#xff1f;\n<span class=\"hljs-bullet\">3.</span> qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x6838;&#x5fc3;&#x6982;&#x5ff5;&#x6709;&#x54ea;&#x4e9b;&#xff1f;\n<span class=\"hljs-bullet\">4.</span> qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x57fa;&#x672c;&#x4f7f;&#x7528;&#x6d41;&#x7a0b;&#x662f;&#x4ec0;&#x4e48;&#xff1f;\n<span class=\"hljs-bullet\">5.</span> qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x5982;&#x4f55;&#x5b9e;&#x73b0;&#x6309;&#x9700;&#x52a0;&#x8f7d;&#xff1f;\n<span class=\"hljs-bullet\">6.</span> qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x5982;&#x4f55;&#x5b9e;&#x73b0;&#x52a8;&#x6001;&#x5378;&#x8f7d;&#xff1f;\n<span class=\"hljs-bullet\">7.</span> qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x5982;&#x4f55;&#x5b9e;&#x73b0;&#x4e0e;&#x4e3b;&#x5e94;&#x7528;&#x7684;&#x901a;&#x4fe1;&#xff1f;\n<span class=\"hljs-bullet\">8.</span> qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x5982;&#x4f55;&#x5b9e;&#x73b0;&#x4e0e;&#x5176;&#x4ed6;&#x5b50;&#x5e94;&#x7528;&#x7684;&#x901a;&#x4fe1;&#xff1f;\n<span class=\"hljs-bullet\">9.</span> qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x5982;&#x4f55;&#x5b9e;&#x73b0;&#x8def;&#x7531;&#x8df3;&#x8f6c;&#xff1f;\n<span class=\"hljs-bullet\">10.</span> qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x5982;&#x4f55;&#x5b9e;&#x73b0;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"5,18"}}],"payload":{"tag":"h3","lines":"4,5"}},{"content":"1. &#x4ec0;&#x4e48;&#x662f; qiankun &#x5fae;&#x524d;&#x7aef;&#xff1f;","children":[{"content":"<pre data-lines=\"19,22\"><code data-lines=\"19,22\"><span class=\"hljs-attribute\">qiankun</span> &#x662f;&#x4e00;&#x4e2a;&#x57fa;&#x4e8e; single-spa &#x7684;&#x5fae;&#x524d;&#x7aef;&#x5b9e;&#x73b0;&#x5e93;&#xff0c;&#x53ef;&#x4ee5;&#x5e2e;&#x52a9;&#x6211;&#x4eec;&#x5c06;&#x591a;&#x4e2a;&#x72ec;&#x7acb;&#x7684;&#x524d;&#x7aef;&#x5e94;&#x7528;&#x6574;&#x5408;&#x6210;&#x4e00;&#x4e2a;&#x6574;&#x4f53;&#xff0c;&#x5e76;&#x4e14;&#x53ef;&#x4ee5;&#x72ec;&#x7acb;&#x5f00;&#x53d1;&#x3001;&#x72ec;&#x7acb;&#x90e8;&#x7f72;&#x3001;&#x72ec;&#x7acb;&#x8fd0;&#x884c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"19,22"}}],"payload":{"tag":"h3","lines":"18,19"}},{"content":"2. qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x4f18;&#x52bf;&#x662f;&#x4ec0;&#x4e48;&#xff1f;","children":[{"content":"<pre data-lines=\"23,31\"><code data-lines=\"23,31\"><span class=\"hljs-attribute\">qiankun</span> &#x5fae;&#x524d;&#x7aef;&#x7684;&#x4f18;&#x52bf;&#x5305;&#x62ec;&#xff1a;\n\n&#x53ef;&#x4ee5;&#x5c06;&#x591a;&#x4e2a;&#x72ec;&#x7acb;&#x7684;&#x524d;&#x7aef;&#x5e94;&#x7528;&#x6574;&#x5408;&#x6210;&#x4e00;&#x4e2a;&#x6574;&#x4f53;&#xff0c;&#x63d0;&#x9ad8;&#x4e86;&#x4ee3;&#x7801;&#x590d;&#x7528;&#x6027;&#x548c;&#x53ef;&#x7ef4;&#x62a4;&#x6027;&#x3002;\n&#x53ef;&#x4ee5;&#x72ec;&#x7acb;&#x5f00;&#x53d1;&#x3001;&#x72ec;&#x7acb;&#x90e8;&#x7f72;&#x3001;&#x72ec;&#x7acb;&#x8fd0;&#x884c;&#xff0c;&#x63d0;&#x9ad8;&#x4e86;&#x5f00;&#x53d1;&#x6548;&#x7387;&#x548c;&#x90e8;&#x7f72;&#x7075;&#x6d3b;&#x6027;&#x3002;\n&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#x5b50;&#x5e94;&#x7528;&#x4e4b;&#x95f4;&#x7684;&#x901a;&#x4fe1;&#x548c;&#x6570;&#x636e;&#x5171;&#x4eab;&#xff0c;&#x63d0;&#x9ad8;&#x4e86;&#x5e94;&#x7528;&#x4e4b;&#x95f4;&#x7684;&#x534f;&#x4f5c;&#x80fd;&#x529b;&#x3002;\n&#x53ef;&#x4ee5;&#x5b9e;&#x73b0;&#x5b50;&#x5e94;&#x7528;&#x7684;&#x6309;&#x9700;&#x52a0;&#x8f7d;&#x548c;&#x52a8;&#x6001;&#x5378;&#x8f7d;&#xff0c;&#x63d0;&#x9ad8;&#x4e86;&#x5e94;&#x7528;&#x7684;&#x6027;&#x80fd;&#x548c;&#x7528;&#x6237;&#x4f53;&#x9a8c;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"23,31"}}],"payload":{"tag":"h3","lines":"22,23"}},{"content":"3. qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x6838;&#x5fc3;&#x6982;&#x5ff5;&#x6709;&#x54ea;&#x4e9b;&#xff1f;","children":[{"content":"<pre data-lines=\"32,41\"><code data-lines=\"32,41\">qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x6838;&#x5fc3;&#x6982;&#x5ff5;&#x5305;&#x62ec;&#xff1a;\n\n&#x4e3b;&#x5e94;&#x7528;&#xff1a;&#x6574;&#x4e2a;&#x5fae;&#x524d;&#x7aef;&#x5e94;&#x7528;&#x7684;&#x5165;&#x53e3;&#xff0c;&#x8d1f;&#x8d23;&#x52a0;&#x8f7d;&#x548c;&#x7ba1;&#x7406;&#x5b50;&#x5e94;&#x7528;&#x3002;\n&#x5b50;&#x5e94;&#x7528;&#xff1a;&#x72ec;&#x7acb;&#x7684;&#x524d;&#x7aef;&#x5e94;&#x7528;&#xff0c;&#x53ef;&#x4ee5;&#x72ec;&#x7acb;&#x5f00;&#x53d1;&#x3001;&#x72ec;&#x7acb;&#x90e8;&#x7f72;&#x3001;&#x72ec;&#x7acb;&#x8fd0;&#x884c;&#x3002;\n&#x751f;&#x547d;&#x5468;&#x671f;&#xff1a;&#x4e3b;&#x5e94;&#x7528;&#x548c;&#x5b50;&#x5e94;&#x7528;&#x4e4b;&#x95f4;&#x7684;&#x751f;&#x547d;&#x5468;&#x671f;&#x94a9;&#x5b50;&#xff0c;&#x7528;&#x4e8e;&#x63a7;&#x5236;&#x5e94;&#x7528;&#x7684;&#x52a0;&#x8f7d;&#x3001;&#x542f;&#x52a8;&#x3001;&#x5378;&#x8f7d;&#x7b49;&#x8fc7;&#x7a0b;&#x3002;\n&#x6c99;&#x7bb1;&#xff1a;&#x7528;&#x4e8e;&#x9694;&#x79bb;&#x5b50;&#x5e94;&#x7528;&#x7684; <span class=\"hljs-keyword\">JavaScript </span>&#x6267;&#x884c;&#x73af;&#x5883;&#xff0c;&#x9632;&#x6b62;&#x5b50;&#x5e94;&#x7528;&#x4e4b;&#x95f4;&#x7684;&#x51b2;&#x7a81;&#x548c;&#x6c61;&#x67d3;&#x3002;\n&#x5e94;&#x7528;&#x95f4;&#x901a;&#x4fe1;&#xff1a;&#x4e3b;&#x5e94;&#x7528;&#x548c;&#x5b50;&#x5e94;&#x7528;&#x4e4b;&#x95f4;&#x7684;&#x901a;&#x4fe1;&#x673a;&#x5236;&#xff0c;&#x7528;&#x4e8e;&#x5b9e;&#x73b0;&#x6570;&#x636e;&#x5171;&#x4eab;&#x548c;&#x4e8b;&#x4ef6;&#x4f20;&#x9012;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"32,41"}}],"payload":{"tag":"h3","lines":"31,32"}},{"content":"4. qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x57fa;&#x672c;&#x4f7f;&#x7528;&#x6d41;&#x7a0b;&#x662f;&#x4ec0;&#x4e48;&#xff1f;","children":[{"content":"<pre data-lines=\"42,51\"><code data-lines=\"42,51\"><span class=\"hljs-attribute\">qiankun</span> &#x5fae;&#x524d;&#x7aef;&#x7684;&#x57fa;&#x672c;&#x4f7f;&#x7528;&#x6d41;&#x7a0b;&#x5305;&#x62ec;&#xff1a;\n\n&#x5728;&#x4e3b;&#x5e94;&#x7528;&#x4e2d;&#x5b89;&#x88c5; qiankun &#x5e93;&#xff0c;&#x5e76;&#x6ce8;&#x518c;&#x9700;&#x8981;&#x52a0;&#x8f7d;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x3002;\n&#x5728;&#x5b50;&#x5e94;&#x7528;&#x4e2d;&#x5bfc;&#x51fa;&#x4e00;&#x4e2a;&#x751f;&#x547d;&#x5468;&#x671f;&#x5bf9;&#x8c61;&#xff0c;&#x5e76;&#x5728;&#x4e3b;&#x5e94;&#x7528;&#x4e2d;&#x6ce8;&#x518c;&#x8be5;&#x5b50;&#x5e94;&#x7528;&#x3002;\n&#x5728;&#x4e3b;&#x5e94;&#x7528;&#x4e2d;&#x542f;&#x52a8; qiankun &#x5e94;&#x7528;&#xff0c;&#x5e76;&#x6307;&#x5b9a;&#x9700;&#x8981;&#x52a0;&#x8f7d;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x3002;\n&#x5728;&#x4e3b;&#x5e94;&#x7528;&#x4e2d;&#x6e32;&#x67d3;&#x5b50;&#x5e94;&#x7528;&#x7684;&#x5bb9;&#x5668;&#xff0c;&#x5e76;&#x5728;&#x5bb9;&#x5668;&#x4e2d;&#x52a0;&#x8f7d;&#x5b50;&#x5e94;&#x7528;&#x3002;\n&#x5728;&#x4e3b;&#x5e94;&#x7528;&#x548c;&#x5b50;&#x5e94;&#x7528;&#x4e2d;&#x5b9e;&#x73b0;&#x5e94;&#x7528;&#x95f4;&#x901a;&#x4fe1;&#x548c;&#x6570;&#x636e;&#x5171;&#x4eab;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"42,51"}}],"payload":{"tag":"h3","lines":"41,42"}},{"content":"5. qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x5982;&#x4f55;&#x5b9e;&#x73b0;&#x6309;&#x9700;&#x52a0;&#x8f7d;&#xff1f;","children":[{"content":"<pre data-lines=\"52,77\"><code data-lines=\"52,77\">qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x5bfc;&#x51fa;&#x4e00;&#x4e2a;&#x5f02;&#x6b65;&#x52a0;&#x8f7d;&#x51fd;&#x6570;&#x6765;&#x5b9e;&#x73b0;&#x6309;&#x9700;&#x52a0;&#x8f7d;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">bootstrap</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-comment\">// &#x5b50;&#x5e94;&#x7528;&#x7684;&#x542f;&#x52a8;&#x903b;&#x8f91;</span>\n}\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mount</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-comment\">// &#x5b50;&#x5e94;&#x7528;&#x7684;&#x6302;&#x8f7d;&#x903b;&#x8f91;</span>\n}\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">unmount</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-comment\">// &#x5b50;&#x5e94;&#x7528;&#x7684;&#x5378;&#x8f7d;&#x903b;&#x8f91;</span>\n}\n\n&#x5728;&#x4e3b;&#x5e94;&#x7528;&#x4e2d;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; loadMicroApp &#x65b9;&#x6cd5;&#x6765;&#x52a8;&#x6001;&#x52a0;&#x8f7d;&#x5b50;&#x5e94;&#x7528;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\n<span class=\"hljs-keyword\">import</span> { loadMicroApp } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;qiankun&apos;</span>;\n\n<span class=\"hljs-title function_\">loadMicroApp</span>({\n  <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&apos;sub-app&apos;</span>,\n  <span class=\"hljs-attr\">entry</span>: <span class=\"hljs-string\">&apos;//localhost:8080&apos;</span>,\n  <span class=\"hljs-attr\">container</span>: <span class=\"hljs-string\">&apos;#sub-app-container&apos;</span>,\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"52,77"}}],"payload":{"tag":"h3","lines":"51,52"}},{"content":"6. qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x5982;&#x4f55;&#x5b9e;&#x73b0;&#x52a8;&#x6001;&#x5378;&#x8f7d;&#xff1f;","children":[{"content":"<pre data-lines=\"78,91\"><code data-lines=\"78,91\">qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x53ef;&#x4ee5;&#x901a;&#x8fc7;&#x5bfc;&#x51fa;&#x4e00;&#x4e2a;&#x5f02;&#x6b65;&#x5378;&#x8f7d;&#x51fd;&#x6570;&#x6765;&#x5b9e;&#x73b0;&#x52a8;&#x6001;&#x5378;&#x8f7d;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">unmount</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-comment\">// &#x5b50;&#x5e94;&#x7528;&#x7684;&#x5378;&#x8f7d;&#x903b;&#x8f91;</span>\n}\n\n&#x5728;&#x4e3b;&#x5e94;&#x7528;&#x4e2d;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; unloadMicroApp &#x65b9;&#x6cd5;&#x6765;&#x52a8;&#x6001;&#x5378;&#x8f7d;&#x5b50;&#x5e94;&#x7528;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\n<span class=\"hljs-keyword\">import</span> { unloadMicroApp } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;qiankun&apos;</span>;\n\n<span class=\"hljs-title function_\">unloadMicroApp</span>(<span class=\"hljs-string\">&apos;sub-app&apos;</span>);\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"78,91"}}],"payload":{"tag":"h3","lines":"77,78"}},{"content":"7. qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x5982;&#x4f55;&#x5b9e;&#x73b0;&#x4e0e;&#x4e3b;&#x5e94;&#x7528;&#x7684;&#x901a;&#x4fe1;&#xff1f;","children":[{"content":"<pre data-lines=\"92,111\"><code data-lines=\"92,111\">qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">__POWERED_BY_QIANKUN__</span> &#x5168;&#x5c40;&#x53d8;&#x91cf;&#x6765;&#x5224;&#x65ad;&#x5f53;&#x524d;&#x5e94;&#x7528;&#x662f;&#x5426;&#x8fd0;&#x884c;&#x5728; qiankun &#x5fae;&#x524d;&#x7aef;&#x73af;&#x5883;&#x4e2d;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\n<span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">__POWERED_BY_QIANKUN__</span>) {\n  <span class=\"hljs-comment\">// &#x5b50;&#x5e94;&#x7528;&#x8fd0;&#x884c;&#x5728; qiankun &#x5fae;&#x524d;&#x7aef;&#x73af;&#x5883;&#x4e2d;</span>\n}\n\n&#x5728;&#x5b50;&#x5e94;&#x7528;&#x4e2d;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">parent</span> &#x8bbf;&#x95ee;&#x4e3b;&#x5e94;&#x7528;&#x7684;&#x5168;&#x5c40;&#x5bf9;&#x8c61;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\n<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">parent</span>.<span class=\"hljs-title function_\">postMessage</span>({ <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&apos;message&apos;</span>, <span class=\"hljs-attr\">data</span>: <span class=\"hljs-string\">&apos;hello&apos;</span> }, <span class=\"hljs-string\">&apos;*&apos;</span>);\n<span class=\"hljs-number\">1</span>\n&#x5728;&#x4e3b;&#x5e94;&#x7528;&#x4e2d;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; onGlobalStateChange &#x65b9;&#x6cd5;&#x6765;&#x76d1;&#x542c;&#x5b50;&#x5e94;&#x7528;&#x7684;&#x72b6;&#x6001;&#x53d8;&#x5316;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\n<span class=\"hljs-keyword\">import</span> { onGlobalStateChange } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;qiankun&apos;</span>;\n\n<span class=\"hljs-title function_\">onGlobalStateChange</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">state, prev</span>) =&gt;</span> {\n  <span class=\"hljs-comment\">// &#x5b50;&#x5e94;&#x7528;&#x72b6;&#x6001;&#x53d8;&#x5316;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;</span>\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"92,111"}}],"payload":{"tag":"h3","lines":"91,92"}},{"content":"8. qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x5982;&#x4f55;&#x5b9e;&#x73b0;&#x4e0e;&#x5176;&#x4ed6;&#x5b50;&#x5e94;&#x7528;&#x7684;&#x901a;&#x4fe1;&#xff1f;","children":[{"content":"<pre data-lines=\"112,128\"><code data-lines=\"112,128\">qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">__POWERED_BY_QIANKUN__</span> &#x5168;&#x5c40;&#x53d8;&#x91cf;&#x6765;&#x5224;&#x65ad;&#x5f53;&#x524d;&#x5e94;&#x7528;&#x662f;&#x5426;&#x8fd0;&#x884c;&#x5728; qiankun &#x5fae;&#x524d;&#x7aef;&#x73af;&#x5883;&#x4e2d;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\n<span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">__POWERED_BY_QIANKUN__</span>) {\n  <span class=\"hljs-comment\">// &#x5b50;&#x5e94;&#x7528;&#x8fd0;&#x884c;&#x5728; qiankun &#x5fae;&#x524d;&#x7aef;&#x73af;&#x5883;&#x4e2d;</span>\n}\n\n&#x5728;&#x5b50;&#x5e94;&#x7528;&#x4e2d;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">dispatchEvent</span> &#x65b9;&#x6cd5;&#x6765;&#x89e6;&#x53d1;&#x81ea;&#x5b9a;&#x4e49;&#x4e8b;&#x4ef6;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\n<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">dispatchEvent</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">CustomEvent</span>(<span class=\"hljs-string\">&apos;message&apos;</span>, { <span class=\"hljs-attr\">detail</span>: <span class=\"hljs-string\">&apos;hello&apos;</span> }));\n&#x5728;&#x5176;&#x4ed6;&#x5b50;&#x5e94;&#x7528;&#x4e2d;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">addEventListener</span> &#x65b9;&#x6cd5;&#x6765;&#x76d1;&#x542c;&#x81ea;&#x5b9a;&#x4e49;&#x4e8b;&#x4ef6;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\n<span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-title function_\">addEventListener</span>(<span class=\"hljs-string\">&apos;message&apos;</span>, <span class=\"hljs-function\">(<span class=\"hljs-params\">event</span>) =&gt;</span> {\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(event.<span class=\"hljs-property\">detail</span>); <span class=\"hljs-comment\">// &apos;hello&apos;</span>\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"112,128"}}],"payload":{"tag":"h3","lines":"111,112"}},{"content":"9. qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x5982;&#x4f55;&#x5b9e;&#x73b0;&#x8def;&#x7531;&#x8df3;&#x8f6c;&#xff1f;","children":[{"content":"<pre data-lines=\"130,149\"><code data-lines=\"130,149\">qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; history.pushState &#x65b9;&#x6cd5;&#x6765;&#x5b9e;&#x73b0;&#x8def;&#x7531;&#x8df3;&#x8f6c;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\nhistory.pushState(null, null, &apos;/path&apos;);\n<span class=\"hljs-number\">1</span>\n&#x5728;&#x4e3b;&#x5e94;&#x7528;&#x4e2d;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; <span class=\"hljs-built_in\">set</span>MatchedPath &#x65b9;&#x6cd5;&#x6765;&#x8bbe;&#x7f6e;&#x5f53;&#x524d;&#x5b50;&#x5e94;&#x7528;&#x7684;&#x8def;&#x7531;&#x8def;&#x5f84;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\nimport { <span class=\"hljs-built_in\">set</span>MatchedPath } <span class=\"hljs-keyword\">from</span> &apos;qiankun&apos;;\n\n<span class=\"hljs-built_in\">set</span>MatchedPath(&apos;/path&apos;);\n\n&#x5728;&#x4e3b;&#x5e94;&#x7528;&#x4e2d;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; <span class=\"hljs-keyword\">on</span>GlobalStateChange &#x65b9;&#x6cd5;&#x6765;&#x76d1;&#x542c;&#x5b50;&#x5e94;&#x7528;&#x7684;&#x8def;&#x7531;&#x53d8;&#x5316;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\nimport { <span class=\"hljs-keyword\">on</span>GlobalStateChange } <span class=\"hljs-keyword\">from</span> &apos;qiankun&apos;;\n\n<span class=\"hljs-keyword\">on</span>GlobalStateChange((<span class=\"hljs-keyword\">state</span>, prev) =&gt; {\n  console.<span class=\"hljs-keyword\">log</span>(<span class=\"hljs-keyword\">state</span>.matchedPath); // &apos;/path&apos;\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"130,149"}}],"payload":{"tag":"h3","lines":"129,130"}},{"content":"10. qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x5982;&#x4f55;&#x5b9e;&#x73b0;&#x6837;&#x5f0f;&#x9694;&#x79bb;&#xff1f;","children":[{"content":"<pre data-lines=\"150,176\"><code data-lines=\"150,176\">qiankun &#x5fae;&#x524d;&#x7aef;&#x7684;&#x5b50;&#x5e94;&#x7528;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; <span class=\"hljs-variable constant_\">CSS</span> <span class=\"hljs-title class_\">Modules</span> &#x6216; <span class=\"hljs-variable constant_\">CSS</span>-<span class=\"hljs-keyword\">in</span>-<span class=\"hljs-variable constant_\">JS</span> &#x7b49;&#x6280;&#x672f;&#x6765;&#x5b9e;&#x73b0;&#x6837;&#x5f0f;&#x9694;&#x79bb;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\n<span class=\"hljs-keyword\">import</span> styles <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;./index.module.css&apos;</span>;\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">App</span>(<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">{styles.container}</span>&gt;</span>Hello World<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span>;\n}\n\n&#x5728;&#x4e3b;&#x5e94;&#x7528;&#x4e2d;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; prefetch &#x65b9;&#x6cd5;&#x6765;&#x9884;&#x52a0;&#x8f7d;&#x5b50;&#x5e94;&#x7528;&#x7684;&#x6837;&#x5f0f;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\n<span class=\"hljs-keyword\">import</span> { prefetch } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;qiankun&apos;</span>;\n\n<span class=\"hljs-title function_\">prefetch</span>(<span class=\"hljs-string\">&apos;//localhost:8080/index.css&apos;</span>);\n\n&#x5728;&#x4e3b;&#x5e94;&#x7528;&#x4e2d;&#xff0c;&#x53ef;&#x4ee5;&#x901a;&#x8fc7; mount &#x65b9;&#x6cd5;&#x7684; sandbox &#x53c2;&#x6570;&#x6765;&#x5f00;&#x542f;&#x6837;&#x5f0f;&#x9694;&#x79bb;&#xff0c;&#x4f8b;&#x5982;&#xff1a;\n\n<span class=\"hljs-keyword\">import</span> { loadMicroApp } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&apos;qiankun&apos;</span>;\n\n<span class=\"hljs-title function_\">loadMicroApp</span>({\n  <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&apos;sub-app&apos;</span>,\n  <span class=\"hljs-attr\">entry</span>: <span class=\"hljs-string\">&apos;//localhost:8080&apos;</span>,\n  <span class=\"hljs-attr\">container</span>: <span class=\"hljs-string\">&apos;#sub-app-container&apos;</span>,\n  <span class=\"hljs-attr\">sandbox</span>: { <span class=\"hljs-attr\">strictStyleIsolation</span>: <span class=\"hljs-literal\">true</span> },\n});\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"150,176"}}],"payload":{"tag":"h3","lines":"149,150"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
