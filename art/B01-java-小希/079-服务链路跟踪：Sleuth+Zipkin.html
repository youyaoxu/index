<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/markmap-toolbar@0.18.10/dist/style.css"><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.11.1/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://unpkg.com/d3@7.9.0/dist/d3.min.js"></script><script src="https://unpkg.com/markmap-view@0.18.10/dist/browser/index.js"></script><script src="https://unpkg.com/markmap-toolbar@0.18.10/dist/index.js"></script><script>(r => {
              setTimeout(r);
            })(function renderToolbar() {
  const {
    markmap,
    mm
  } = window;
  const {
    el
  } = markmap.Toolbar.create(mm);
  el.setAttribute('style', 'position:absolute;bottom:20px;right:20px');
  document.body.append(el);
})</script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"&#x670d;&#x52a1;&#x94fe;&#x8def;&#x8ddf;&#x8e2a;&#xff1a;Sleuth+Zipkin.","children":[{"content":"1.1&#x3001;&#x4ec0;&#x4e48;&#x662f;Sleuth","children":[{"content":"<pre data-lines=\"5,21\"><code>&#x6211;&#x4eec;&#x5df2;&#x7ecf;&#x63a5;&#x89e6;&#x8fc7;&#x51e0;&#x79cd;&#x5fae;&#x670d;&#x52a1;&#x7684;&#x76d1;&#x63a7;&#x65b9;&#x5f0f;&#xff0c;&#x6bd4;&#x5982;&#xff1a;Spring Boot Actuator&#x76d1;&#x63a7;&#x5fae;&#x670d;&#x52a1;&#xff0c;Spring Boot Admin&#x4e5f;&#x662f;&#x76d1;&#x63a7;&#x5fae;&#x670d;&#x52a1;&#xff0c;&#x4ed6;&#x662f;&#x628a;Actuator&#x7684;&#x6570;&#x636e;&#x7528;&#x53ef;&#x89c6;&#x5316;&#x7684;&#x65b9;&#x5f0f;&#x5448;&#x73b0;&#x51fa;&#x6765;&#xff0c;Hystrix Dashboard&#x76d1;&#x63a7;Hystrix&#x670d;&#x52a1;&#xff0c;Hystrix Turbine&#x805a;&#x5408;&#x591a;&#x4e2a;Hystrix&#x670d;&#x52a1;&#x7684;&#x76d1;&#x63a7;&#x4fe1;&#x606f;&#x7b49;&#xff0c;&#x63a5;&#x4e0b;&#x6765;&#x6211;&#x4eec;&#x8981;&#x8ba8;&#x8bba;&#x7684;&#x662f;&#x5fae;&#x670d;&#x52a1;&#x7684;&#x201c;&#x8ddf;&#x8e2a;&quot;&#x3002;\n\n&#x5bf9;&#x4e8e;&#x4e00;&#x4e2a;&#x5927;&#x578b;&#x7684;&#x51e0;&#x5341;&#x4e2a;&#x3001;&#x51e0;&#x767e;&#x4e2a;&#x5fae;&#x670d;&#x52a1;&#x6784;&#x6210;&#x7684;&#x5fae;&#x670d;&#x52a1;&#x67b6;&#x6784;&#x7cfb;&#x7edf;&#xff0c;&#x901a;&#x5e38;&#x4f1a;&#x9047;&#x5230;&#x4e0b;&#x9762;&#x4e00;&#x4e9b;&#x95ee;&#x9898;&#xff0c;&#x6bd4;&#x5982;&#xff1a;\n\n*   &#x5982;&#x4f55;&#x4e32;&#x8054;&#x6574;&#x4e2a;&#x8c03;&#x7528;&#x94fe;&#x8def;&#xff0c;&#x5feb;&#x901f;&#x5b9a;&#x4f4d;&#x95ee;&#x9898;&#xff1f;\n*   &#x5982;&#x4f55;&#x7406;&#x6e05;&#x5404;&#x4e2a;&#x5fae;&#x670d;&#x52a1;&#x4e4b;&#x95f4;&#x7684;&#x4f9d;&#x8d56;&#x5173;&#x7cfb;&#xff1f;\n*   &#x5982;&#x4f55;&#x8fdb;&#x884c;&#x5404;&#x4e2a;&#x5fae;&#x670d;&#x52a1;&#x63a5;&#x53e3;&#x7684;&#x6027;&#x80fd;&#x5206;&#x6298;&#xff1f;\n*   &#x5982;&#x4f55;&#x8ddf;&#x8e2a;&#x6574;&#x4e2a;&#x4e1a;&#x52a1;&#x6d41;&#x7a0b;&#x7684;&#x8c03;&#x7528;&#x5904;&#x7406;&#x987a;&#x5e8f;&#xff1f;\n\nSpring Cloud Sleuth&#x4e3a;Spring Cloud&#x63d0;&#x4f9b;&#x4e86;&#x5206;&#x5e03;&#x5f0f;&#x8ddf;&#x8e2a;&#x7684;&#x89e3;&#x51b3;&#x65b9;&#x6848;&#xff0c;&#x5b83;&#x5927;&#x91cf;&#x501f;&#x7528;&#x4e86;Google Dapper&#x3001;Twitter Zipkin&#x548c;Apache HTrace&#x7684;&#x8bbe;&#x8ba1;&#xff0c;&#x5e2e;&#x6211;&#x4eec;&#x89e3;&#x51b3;&#x50cf;&#x4e0a;&#x9762;&#x63d0;&#x5230;&#x7684;&#x95ee;&#x9898;&#x3002;Spring Cloud Sleuth&#x53ef;&#x4ee5;&#x8ffd;&#x8e2a;10&#x79cd;&#x7c7b;&#x578b;&#x7684;&#x7ec4;&#x4ef6;&#xff1a;async&#x3001;Hystrix&#xff0c;messaging&#xff0c;WebSocket&#xff0c;rxjava&#xff0c;scheduling&#xff0c;Web&#xff08;Spring MVC Controller&#xff0c;Servlet&#xff09;&#xff0c;WebClient&#xff08;Spring RestTemplate&#xff09;&#x3001;Feign/OpenFegin&#x3001;Zuul&#xff1b;\n\nSpring Cloud Sleuth&#x5bf9;&#x4e8e;&#x5206;&#x5e03;&#x5f0f;&#x94fe;&#x8def;&#x7684;&#x8ddf;&#x8e2a;&#x4ec5;&#x4ec5;&#x662f;&#x751f;&#x6210;&#x4e00;&#x4e9b;&#x6570;&#x636e;&#xff0c;&#x8fd9;&#x4e9b;&#x6570;&#x636e;&#x4e0d;&#x4fbf;&#x4e8e;&#x4eba;&#x7c7b;&#x9605;&#x8bfb;&#xff0c;&#x6240;&#x4ee5;&#x6211;&#x4eec;&#x4e00;&#x822c;&#x628a;&#x8fd9;&#x79cd;&#x8ddf;&#x8e2a;&#x6570;&#x636e;&#x4e0a;&#x4f20;&#x7ed9;Zipkin Server&#xff0c;&#x7531;Zipkin&#x901a;&#x8fc7;UI&#x9875;&#x9762;&#x7edf;&#x4e00;&#x8fdb;&#x884c;&#x6570;&#x636e;&#x7684;&#x5c55;&#x793a;&#x3002;\n\n&#x5b98;&#x65b9;&#x6587;&#x6863;&#x5730;&#x5740;&#xff1a;https://docs.spring.io/spring-cloud-sleuth/docs/2.2.6.RELEASE/reference/html/\n\n&#x6211;&#x4eec;&#x901a;&#x8fc7;&#x4e00;&#x5f20;&#x56fe;&#x6765;&#x4e86;&#x89e3;&#x4e00;&#x4e2a;&#x7b80;&#x5355;&#x7684;&#x5fae;&#x670d;&#x52a1;&#x7684;&#x8c03;&#x7528;&#x94fe;&#x8def;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"5,21"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7b760fe2f11e867c67ed4a59124c8ef3.png\" alt>","children":[],"payload":{"tag":"img","lines":"22,23"}},{"content":"<pre data-lines=\"24,51\"><code>span&#xff08;&#x8de8;&#x5ea6;&#xff09;\n\nspan&#xff08;&#x8de8;&#x5ea6;&#xff09;&#x662f;&#x4e00;&#x4e2a;&#x57fa;&#x672c;&#x5de5;&#x4f5c;&#x5355;&#x5143;&#xff0c;span&#x7528;&#x4e00;&#x4e2a;64&#x4f4d;&#x7684;id&#x552f;&#x4e00;&#x6807;&#x8bc6;&#x3002;&#x9664;id&#x5916;&#xff0c;span&#x8fd8;&#x5305;&#x542b;&#x5176;&#x4ed6;&#x6570;&#x636e;&#xff0c;&#x4f8b;&#x5982;&#x63cf;&#x8ff0;&#x3001;&#x65f6;&#x95f4;&#x6233;&#x4e8b;&#x4ef6;&#x3001;&#x952e;&#x503c;&#x5bf9;&#x7684;&#x6ce8;&#x89e3;&#xff08;&#x6807;&#x7b7e;&#xff09;&#xff0c; spanId&#x3001;parentId&#x7b49;&#x3002;span&#x88ab;&#x542f;&#x52a8;&#x548c;&#x505c;&#x6b62;&#x65f6;&#xff0c;&#x8bb0;&#x5f55;&#x4e86;&#x65f6;&#x95f4;&#x4fe1;&#x606f;&#x3002;&#x521d;&#x59cb;&#x5316; span&#x88ab;&#x79f0;&#x4e3a;&quot;rootspan&quot;&#xff0c;&#x8be5;span&#x7684;id&#x548c;trace&#x7684;id&#x76f8;&#x7b49;&#x3002;\n\ntrace&#xff08;&#x8ddf;&#x8e2a;&#xff09;\n\ntrace&#xff08;&#x8ddf;&#x8e2a;&#xff09;&#x662f;&#x4e00;&#x7ec4;&#x5171;&#x4eab;&quot;rootspan&quot;&#x7684;span&#x7ec4;&#x6210;&#x7684;&#x6811;&#x72b6;&#x7ed3;&#x6784;&#xff0c;trace&#x4e5f;&#x7528;&#x4e00;&#x4e2a;64&#x4f4d;&#x7684;id&#x552f;&#x4e00;&#x6807;&#x8bc6;&#xff0c;trace&#x4e2d;&#x7684;&#x6240;&#x6709;span&#x90fd;&#x5171;&#x4eab;&#x8be5;trace&#x7684;id&#x3002;\n\nannotation&#xff08;&#x6807;&#x6ce8;&#xff09;\n\nannotation&#xff08;&#x6807;&#x6ce8;&#xff09;&#x7528;&#x6765;&#x8bb0;&#x5f55;&#x4e8b;&#x4ef6;&#x7684;&#x5b58;&#x5728;&#xff0c;&#x5176;&#x4e2d;&#xff0c;&#x6838;&#x5fc3;annotation&#x7528;&#x6765;&#x5b9a;&#x4e49;&#x8bf7;&#x6c42;&#x7684;&#x5f00;&#x59cb;&#x548c;&#x7ed3;&#x675f;&#x3002;\n\nCS&#xff08;Client Sent&#x5ba2;&#x6237;&#x7aef;&#x53d1;&#x9001;&#xff09;\n\n&#x5ba2;&#x6237;&#x7aef;&#x53d1;&#x8d77;&#x4e00;&#x4e2a;&#x8bf7;&#x6c42;&#xff0c;&#x8be5;annotation&#x63cf;&#x8ff0;&#x4e86;span&#x7684;&#x5f00;&#x59cb;&#x3002;\n\nSR&#xff08;Server Received&#x670d;&#x52a1;&#x5668;&#x7aef;&#x63a5;&#x6536;&#xff09;\n\n&#x670d;&#x52a1;&#x5668;&#x7aef;&#x83b7;&#x5f97;&#x8bf7;&#x6c42;&#x5e76;&#x51c6;&#x5907;&#x5904;&#x7406;&#x5b83;&#x3002;&#x5982;&#x679c;&#x7528;SR&#x51cf;&#x53bb;CS&#x65f6;&#x95f4;&#x6233;&#xff0c;&#x5c31;&#x80fd;&#x5f97;&#x5230;&#x7f51;&#x7edc;&#x5ef6;&#x8fdf;&#x3002;\n\nSS&#xff08;Server Sent&#x670d;&#x52a1;&#x5668;&#x7aef;&#x53d1;&#x9001;&#xff09;\n\n&#x8be5;annotation&#x8868;&#x660e;&#x5b8c;&#x6210;&#x8bf7;&#x6c42;&#x5904;&#x7406;&#xff08;&#x5f53;&#x54cd;&#x5e94;&#x53d1;&#x56de;&#x5ba2;&#x6237;&#x7aef;&#x65f6;&#xff09;&#x3002;&#x5982;&#x679c;&#x7528;SS&#x51cf;&#x53bb;SR&#x65f6;&#x95f4;&#x6233;&#xff0c;&#x5c31;&#x80fd;&#x5f97;&#x5230;&#x670d;&#x52a1;&#x5668;&#x7aef;&#x5904;&#x7406;&#x8bf7;&#x6c42;&#x6240;&#x9700;&#x7684;&#x65f6;&#x95f4;&#x3002;\n\nCR&#xff08;Client Received&#x5ba2;&#x6237;&#x7aef;&#x63a5;&#x6536;&#xff09;\n\n&#x5ba2;&#x6237;&#x7aef;&#x53d1;&#x8d77;&#x4e00;&#x4e2a;&#x8bf7;&#x6c42;&#xff0c;&#x8be5;annotation&#x63cf;&#x8ff0;&#x4e86;span&#x7684;&#x7ed3;&#x675f;&#x3002;&#x5ba2;&#x6237;&#x7aef;&#x6210;&#x529f;&#x63a5;&#x6536;&#x5230;&#x670d;&#x52a1;&#x5668;&#x7aef;&#x7684;&#x54cd;&#x5e94;&#x3002;&#x5982;&#x679c;CR&#x51cf;&#x53bb;CS&#x65f6;&#x95f4;&#x6233;&#xff0c;&#x5c31;&#x80fd;&#x5f97;&#x5230;&#x4ece;&#x5ba2;&#x6237;&#x7aef;&#x53d1;&#x9001;&#x8bf7;&#x6c42;&#x5230;&#x670d;&#x52a1;&#x5668;&#x54cd;&#x5e94;&#x7684;&#x6240;&#x9700;&#x7684;&#x65f6;&#x95f4;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"24,51"}}],"payload":{"tag":"h2","lines":"2,4"}},{"content":"1.2&#x3001;&#x4ec0;&#x4e48;&#x662f;Zipkin","children":[{"content":"<pre data-lines=\"55,64\"><code>Zipkin&#x662f;Twitter&#x5f00;&#x6e90;&#x7684;&#x5206;&#x5e03;&#x5f0f;&#x5b9e;&#x65f6;&#x6570;&#x636e;&#x8ddf;&#x8e2a;&#x7cfb;&#x7edf;&#xff08;Distributed Tracking System&#xff09;&#xff0c;&#x57fa;&#x4e8e;Google Dapper&#x7684;&#x8bba;&#x6587;&#x8bbe;&#x8ba1;&#x800c;&#x6210;&#xff0c;Google&#x5f00;&#x6e90;&#x4e86; Dapper&#x94fe;&#x8def;&#x8ffd;&#x8e2a;&#x7ec4;&#x4ef6;&#xff0c;&#x5e76;&#x5728;2010&#x5e74;&#x53d1;&#x8868;&#x4e86;&#x8bba;&#x6587;&#x300a;Dapper, a Large-Scale Distributed Systems Tracing Infrastructure&#x300b;&#xff0c;&#x8fd9;&#x7bc7;&#x6587;&#x7ae0;&#x662f;&#x4e1a;&#x5185;&#x5b9e;&#x73b0;&#x94fe;&#x8def;&#x8ffd;&#x8e2a;&#x7684;&#x6807;&#x6746;&#x548c;&#x7406;&#x8bba;&#x57fa;&#x7840;&#xff0c;&#x5177;&#x6709;&#x975e;&#x5e38;&#x5927;&#x7684;&#x53c2;&#x8003;&#x4ef7;&#x503c;&#x3002;\n\nZipkin&#x5b83;&#x7684;&#x4e3b;&#x8981;&#x529f;&#x80fd;&#x662f;&#x6536;&#x96c6;&#x7cfb;&#x7edf;&#x7684;&#x65f6;&#x5e8f;&#x6570;&#x636e;&#xff0c;&#x4ece;&#x800c;&#x8ffd;&#x8e2a;&#x5fae;&#x670d;&#x52a1;&#x67b6;&#x6784;&#x7684;&#x7cfb;&#x7edf;&#x5ef6;&#x65f6;&#x7b49;&#x95ee;&#x9898;&#xff0c;&#x4ece;&#x800c;&#x8fbe;&#x5230;&#x94fe;&#x8def;&#x8c03;&#x7528;&#x76d1;&#x63a7;&#x8ddf;&#x8e2a;&#x4f5c;&#x7528;&#xff0c;&#x53e6;&#x5916;Zipkin&#x8fd8;&#x63d0;&#x4f9b;&#x4e86;&#x4e00;&#x4e2a;&#x975e;&#x5e38;&#x53cb;&#x597d;&#x7684;UI&#x754c;&#x9762;&#xff0c;&#x6765;&#x5e2e;&#x52a9;&#x5206;&#x6790;&#x8ffd;&#x8e2a;&#x6570;&#x636e;&#x3002;&#x9664;&#x6b64;&#x4e4b;&#x5916;&#xff0c;Zipkin&#x63d0;&#x4f9b;&#x4e86;&#x53ef;&#x63d2;&#x62d4;&#x6570;&#x636e;&#x5b58;&#x50a8;&#x65b9;&#x5f0f;&#xff1a;In-Memory&#x3001;MySql&#x3001;Cassandra&#x4ee5;&#x53ca;Elasticsearch&#x3002;\n\nZipkin&#x5b98;&#x7f51;&#x5730;&#x5740;&#xff1a;http://zipkin.io\n\n&#x5206;&#x5e03;&#x5f0f;&#x8ddf;&#x8e2a;&#x7cfb;&#x7edf;&#x6709;&#x4e00;&#x4e9b;&#x6210;&#x719f;&#x7684;&#x5f00;&#x6e90;&#x4ea7;&#x54c1;&#xff0c;&#x6bd4;&#x5982;&#xff1a;&#x97e9;&#x56fd;Naver&#x7684;Pinpoint&#xff0c;Apache&#x7684;HTrace&#xff0c;&#x963f;&#x91cc;&#x7684;&#x9e70;&#x773c;EagleEye&#xff0c;&#x4eac;&#x4e1c;&#x7684;Hydra&#x7b49;&#xff0c;&#x8fd9;&#x4e9b;&#x4ea7;&#x54c1;&#x6211;&#x4eec;&#x4e5f;&#x628a;&#x4ed6;&#x4eec;&#x53eb;&#x505a;APM&#xff08;&#x5e94;&#x7528;&#x6027;&#x80fd;&#x7ba1;&#x7406;&#xff09;&#x5de5;&#x5177;&#x3002;\n\n&#x4e0b;&#x56fe;&#x5c55;&#x793a;&#x4e86;Zipkin&#x7684;&#x57fa;&#x7840;&#x67b6;&#x6784;&#xff0c;&#x5b83;&#x4e3b;&#x8981;&#x7531;4&#x4e2a;&#x6838;&#x5fc3;&#x7ec4;&#x4ef6;&#x6784;&#x6210;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"55,64"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/61f3dc4491c22fb95a8cb42c1555fe71.png\" alt>","children":[],"payload":{"tag":"img","lines":"65,66"}},{"content":"<pre data-lines=\"67,75\"><code>*   Collector&#xff1a;&#x6536;&#x96c6;&#x5668;&#x7ec4;&#x4ef6;&#xff0c;&#x5b83;&#x4e3b;&#x8981;&#x7528;&#x4e8e;&#x5904;&#x7406;&#x4ece;&#x5916;&#x90e8;&#x7cfb;&#x7edf;&#x53d1;&#x9001;&#x8fc7;&#x6765;&#x7684;&#x8ddf;&#x8e2a;&#x4fe1;&#x606f;&#xff0c;&#x5c06;&#x8fd9;&#x4e9b;&#x4fe1;&#x606f;&#x8f6c;&#x6362;&#x4e3a;Zipkin&#x5185;&#x90e8;&#x5904;&#x7406;&#x7684;Span&#x683c;&#x5f0f;&#xff0c;&#x4ee5;&#x652f;&#x6301;&#x540e;&#x7eed;&#x7684;&#x5b58;&#x50a8;&#x3001;&#x5206;&#x6790;&#x3001;&#x5c55;&#x793a;&#x7b49;&#x529f;&#x80fd;&#x3002;\n*   Storage&#xff1a;&#x5b58;&#x50a8;&#x7ec4;&#x4ef6;&#xff0c;&#x5b83;&#x4e3b;&#x8981;&#x5bf9;&#x5904;&#x7406;&#x6536;&#x96c6;&#x5668;&#x63a5;&#x6536;&#x5230;&#x7684;&#x8ddf;&#x8e2a;&#x4fe1;&#x606f;&#xff0c;&#x9ed8;&#x8ba4;&#x4f1a;&#x5c06;&#x8fd9;&#x4e9b;&#x4fe1;&#x606f;&#x5b58;&#x50a8;&#x5728;&#x5185;&#x5b58;&#x4e2d;&#xff0c;&#x6211;&#x4eec;&#x4e5f;&#x53ef;&#x4ee5;&#x4fee;&#x6539;&#x6b64;&#x5b58;&#x50a8;&#x7b56;&#x7565;&#xff0c;&#x901a;&#x8fc7;&#x4f7f;&#x7528;&#x5176;&#x4ed6;&#x5b58;&#x50a8;&#x7ec4;&#x4ef6;&#x5c06;&#x8ddf;&#x8e2a;&#x4fe1;&#x606f;&#x5b58;&#x50a8;&#x5230;&#x6570;&#x636e;&#x5e93;&#x4e2d;&#x3002;\n*   RESTful API&#xff1a;API &#x7ec4;&#x4ef6;&#xff0c;&#x5b83;&#x4e3b;&#x8981;&#x7528;&#x6765;&#x63d0;&#x4f9b;&#x5916;&#x90e8;&#x8bbf;&#x95ee;&#x63a5;&#x53e3;&#x3002;&#x6bd4;&#x5982;&#x7ed9;&#x5ba2;&#x6237;&#x7aef;&#x5c55;&#x793a;&#x8ddf;&#x8e2a;&#x4fe1;&#x606f;&#x6216;&#x662f;&#x5916;&#x63a5;&#x7cfb;&#x7edf;&#x8bbf;&#x95ee;&#x4ee5;&#x5b9e;&#x73b0;&#x76d1;&#x63a7;&#x7b49;&#x3002;\n*   Web UI&#xff1a;UI &#x7ec4;&#x4ef6;&#xff0c;&#x57fa;&#x4e8e; API &#x7ec4;&#x4ef6;&#x5b9e;&#x73b0;&#x7684;&#x4e0a;&#x5c42;&#x5e94;&#x7528;&#xff0c;&#x901a;&#x8fc7; UI &#x7ec4;&#x4ef6;&#x7528;&#x6237;&#x53ef;&#x4ee5;&#x65b9;&#x4fbf;&#x800c;&#x6709;&#x76f4;&#x89c2;&#x5730;&#x67e5;&#x8be2;&#x548c;&#x5206;&#x6790;&#x8ddf;&#x8e2a;&#x4fe1;&#x606f;&#x3002;\n\nZipkin&#x5206;&#x4e3a;&#x4e24;&#x7aef;&#xff0c;&#x4e00;&#x4e2a;&#x662f;Zipkin&#x670d;&#x52a1;&#x7aef;&#xff0c;&#x4e00;&#x4e2a;&#x662f;Zipkin&#x5ba2;&#x6237;&#x7aef;&#xff0c;&#x5ba2;&#x6237;&#x7aef;&#x4e5f;&#x5c31;&#x662f;&#x5fae;&#x670d;&#x52a1;&#x7684;&#x5e94;&#x7528;&#x3002;&#x5ba2;&#x6237;&#x7aef;&#x4f1a;&#x914d;&#x7f6e;&#x670d;&#x52a1;&#x7aef;&#x7684;URL&#x5730;&#x5740;&#xff0c;&#x4e00;&#x65e6;&#x53d1;&#x751f;&#x670d;&#x52a1;&#x95f4;&#x7684;&#x8c03;&#x7528;&#x7684;&#x65f6;&#x5019;&#xff0c;&#x4f1a;&#x88ab;&#x914d;&#x7f6e;&#x5728;&#x5fae;&#x670d;&#x52a1;&#x91cc;&#x9762;&#x7684;Sleuth&#x7684;&#x76d1;&#x542c;&#x5668;&#x76d1;&#x542c;&#xff0c;&#x5e76;&#x751f;&#x6210;&#x76f8;&#x5e94;&#x7684;Trace&#x548c;Span&#x4fe1;&#x606f;&#x53d1;&#x9001;&#x7ed9;&#x670d;&#x52a1;&#x7aef;&#x3002;&#x53d1;&#x9001;&#x7684;&#x65b9;&#x5f0f;&#x4e3b;&#x8981;&#x6709;&#x4e24;&#x79cd;&#xff0c;&#x4e00;&#x79cd;&#x662f;HTTP&#x62a5;&#x6587;&#x7684;&#x65b9;&#x5f0f;&#xff0c;&#x8fd8;&#x6709;&#x4e00;&#x79cd;&#x662f;&#x6d88;&#x606f;&#x603b;&#x7ebf;&#x7684;&#x65b9;&#x5f0f;&#x5982;&#xff1a;RabbitMQ&#x3002;\n\n&#x6700;&#x7ec8;&#x6211;&#x4eec;&#x53ef;&#x4ee5;&#x603b;&#x7ed3;&#x51fa;&#x6765;&#xff0c;Sleuth&#x548c;Zipkin&#x7684;&#x5173;&#x7cfb;&#x5c31;&#x597d;&#x6bd4;Spring Boot Actuator&#x548c;Spring Boot Admin&#x4e4b;&#x95f4;&#x7684;&#x5173;&#x7cfb;&#xff0c;&#x4e00;&#x4e2a;&#x7528;&#x4e8e;&#x4ea7;&#x751f;&#x6570;&#x636e;&#xff0c;&#x4e00;&#x4e2a;&#x7528;&#x4e8e;&#x5c55;&#x793a;&#x6570;&#x636e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"67,75"}}],"payload":{"tag":"h2","lines":"52,54"}},{"content":"2.1&#x3001;&#x9879;&#x76ee;&#x51c6;&#x5907;&#x4e0e;&#x542f;&#x52a8;","children":[{"content":"<pre data-lines=\"79,80\"><code>&#x6211;&#x4eec;&#x63a5;&#x4e0b;&#x6765;&#x7684;&#x6240;&#x6709;&#x64cd;&#x4f5c;&#x5747;&#x662f;&#x5728;`Config`&#x6700;&#x540e;&#x5b8c;&#x6210;&#x7684;&#x5de5;&#x7a0b;&#x4e0a;&#x8fdb;&#x884c;&#x64cd;&#x4f5c;&#xff0c;&#x76f8;&#x5173;&#x4ee3;&#x7801;&#x8bf7;&#x5230;&#x914d;&#x5957;&#x8d44;&#x6599;&#x4e2d;&#x5bfb;&#x627e;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"79,80"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/a8c7794ca6834d2e35a47317858e1949.png\" alt>","children":[],"payload":{"tag":"img","lines":"81,82"}},{"content":"<pre data-lines=\"83,89\"><code>&#x6211;&#x4eec;&#x9700;&#x8981;&#x4f9d;&#x6b21;&#x542f;&#x52a8;&#x5982;&#x4e0b;&#x670d;&#x52a1;&#xff1a;&#xff08;eureka-server7001&#x4f1a;&#x62a5;&#x9519;&#xff0c;&#x4e0d;&#x7528;&#x7ba1;&#xff0c;&#x7b49;eureka-server7002&#x542f;&#x52a8;&#x540e;&#xff0c;&#x8fc7;&#x4e00;&#x4f1a;&#x5c31;&#x6062;&#x590d;&#x6b63;&#x5e38;&#x4e86;&#xff09;\n\n1.  eureka-server7001\n2.  eureka-server7002\n\n&#x6253;&#x5f00;&#x6d4f;&#x89c8;&#x5668;&#x8f93;&#x5165;&#x6307;&#x5b9a;&#x7684;&#x5730;&#x5740;&#xff1a;http://localhost:7001/login&#xff0c;&#x767b;&#x5f55;&#x8d26;&#x53f7;&#xff1a;root&#xff0c;&#x767b;&#x5f55;&#x5bc6;&#x7801;&#xff1a;123456\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"83,89"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/dc48ccb4aa2dfc05d00c99b1a24152a1.png\" alt>","children":[],"payload":{"tag":"img","lines":"90,91"}}],"payload":{"tag":"h2","lines":"76,78"}},{"content":"2.2&#x3001;&#x642d;Zipkin&#x670d;&#x52a1;&#x7aef;","children":[{"content":"<pre data-lines=\"95,98\"><code>&#xff08;1&#xff09;&#x5230;&#x5b98;&#x7f51;&#x4e0b;&#x8f7d;`Zipkin Server`&#xff0c;&#x4e0b;&#x8f7d;&#x5730;&#x5740;&#xff1a;https://dl.bintray.com/openzipkin/maven/io/zipkin/java/zipkin-server/\n\n&#xff08;2&#xff09;&#x6211;&#x4eec;&#x4e0b;&#x8f7d;`2.12.9`&#x8fd9;&#x4e2a;&#x6700;&#x65b0;&#x7684;&#x7248;&#x672c;&#xff0c;&#x70b9;&#x51fb;&#x8fdb;&#x53bb;&#x540e;&#xff0c;&#x9009;&#x62e9;&#x7b2c;&#x4e00;&#x4e2a;&#xff0c;&#x5982;&#x679c;&#x4f60;&#x4e0b;&#x8f7d;&#x5931;&#x8d25;&#xff0c;&#x53ef;&#x4ee5;&#x5230;&#x914d;&#x5957;&#x8d44;&#x6599;&#x4e2d;&#x5bfb;&#x627e;&#x8be5;`jar`&#x5305;&#x3002;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"95,98"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/1f2b9b6620a05d5f99de275b6456fa85.png\" alt>","children":[],"payload":{"tag":"img","lines":"99,100"}},{"content":"<pre data-lines=\"101,102\"><code>&#xff08;3&#xff09;&#x8f93;&#x5165;&#x542f;&#x52a8;&#x547d;&#x4ee4;&#x542f;&#x52a8;&#x8be5;`jar`&#x5305;&#xff1a;`java -jar zipkin-server-2.12.9-exec.jar`\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"101,102"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/6f3980a80b80a0663595f6f3b257b76a.png\" alt>","children":[],"payload":{"tag":"img","lines":"103,104"}},{"content":"<pre data-lines=\"105,106\"><code>&#xff08;4&#xff09;&#x6253;&#x5f00;&#x6d4f;&#x89c8;&#x5668;&#x8f93;&#x5165;`Zipkin`&#x7684;web&#x754c;&#x9762;&#x5730;&#x5740;&#xff1a;http://localhost:9411/zipkin/\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"105,106"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/0610963cbd7f26e9b1f9a49bf4c67b7d.png\" alt>","children":[],"payload":{"tag":"img","lines":"107,108"}},{"content":"<pre data-lines=\"109,114\"><code>&#xff08;5&#xff09;&#x8981;&#x60f3;&#x67e5;&#x770b;&#x66f4;&#x52a0;&#x8be6;&#x7ec6;&#x7684;&#x914d;&#x7f6e;&#x548c;&#x547d;&#x4ee4;&#x8bf7;&#x53c2;&#x8003;&#xff1a;\n\n*   &#x6709;&#x5173;zipkin&#x7684;&#x542f;&#x52a8;&#x547d;&#x4ee4;&#x53ef;&#x4ee5;&#x914d;&#x7f6e;&#x7684;&#x53c2;&#x6570;&#x53ef;&#x4ee5;&#x770b;&#x8fd9;&#x91cc;&#xff1a;https://github.com/apache/incubator-zipkin/tree/master/zipkin-server\n*   &#x6709;&#x5173;zipkin&#x914d;&#x7f6e;mysql&#x57fa;&#x7840;&#x5efa;&#x8868;&#x8bed;&#x53e5;&#x53ef;&#x4ee5;&#x770b;&#x8fd9;&#x91cc;&#xff1a;https://github.com/apache/incubator-zipkin/blob/master/zipkin-storage/mysql-v1/src/main/resources/mysql.sql\n*   &#x6709;&#x5173;zipkin&#x672c;&#x8eab;&#x914d;&#x7f6e;&#x6587;&#x4ef6;&#x53ef;&#x4ee5;&#x770b;&#x8fd9;&#x91cc;&#xff1a;https://github.com/apache/incubator-zipkin/blob/master/zipkin-server/src/main/resources/zipkin-server-shared.yml\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"109,114"}}],"payload":{"tag":"h2","lines":"92,94"}},{"content":"2.3&#x3001;&#x642d;Zipkin&#x5ba2;&#x6237;&#x7aef;","children":[{"content":"<pre data-lines=\"118,121\"><code>&#xff08;1&#xff09;&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x8005;`service-provider8001`&#x3001;`service-provider8002`&#x3001;&#x670d;&#x52a1;&#x6d88;&#x8d39;&#x8005;`service-consumer9002`&#x3001;`service-consumer9003`&#xff0c;&#x5168;&#x90e8;&#x6dfb;&#x52a0;&#x4ee5;&#x4e0b;&#x4f9d;&#x8d56;&#xff1a;\n\npom.xml\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"118,121"}},{"content":"<pre data-lines=\"122,133\"><code class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-cloud-starter-sleuth<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-cloud-starter-zipkin<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"122,133"}},{"content":"<pre data-lines=\"134,137\"><code>&#xff08;2&#xff09;&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x8005;`service-provider8001`&#x3001;`service-provider8002`&#x3001;&#x670d;&#x52a1;&#x6d88;&#x8d39;&#x8005;`service-consumer9002`&#x3001;`service-consumer9003`&#xff0c;&#x5168;&#x90e8;&#x6dfb;&#x52a0;&#x4ee5;&#x4e0b;&#x914d;&#x7f6e;&#xff1a;\n\napplication.yaml\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"134,137"}},{"content":"<pre data-lines=\"138,146\"><code class=\"language-yaml\"><span class=\"hljs-attr\">spring:</span>\n  <span class=\"hljs-attr\">zipkin:</span>\n    <span class=\"hljs-attr\">base-url:</span> <span class=\"hljs-string\">http://localhost:9411</span>\n    <span class=\"hljs-attr\">sender:</span>\n      <span class=\"hljs-attr\">type:</span> <span class=\"hljs-string\">web</span>\n\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"138,146"}},{"content":"<pre data-lines=\"147,150\"><code>&#xff08;3&#xff09;&#x670d;&#x52a1;&#x63d0;&#x4f9b;&#x8005;`service-provider8001`&#x3001;`service-provider8002`&#x3001;&#x670d;&#x52a1;&#x6d88;&#x8d39;&#x8005;`service-consumer9002`&#x3001;`service-consumer9003`&#xff0c;&#x4ece;&#x5de6;&#x5411;&#x53f3;&#x4f9d;&#x6b21;&#x542f;&#x52a8;&#xff1a;\n\nEureka&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"147,150"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/4937a400f4ae9400f75595270b9fa9c7.png\" alt>","children":[],"payload":{"tag":"img","lines":"151,152"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/e079b485852a5e22cdf737f74b815a2c.png\" alt>","children":[],"payload":{"tag":"img","lines":"155,156"}}],"payload":{"tag":"h2","lines":"115,117"}},{"content":"2.4&#x3001;&#x94fe;&#x8def;&#x8ddf;&#x8e2a;&#x7684;&#x6d4b;&#x8bd5;","children":[{"content":"<pre data-lines=\"160,161\"><code>&#x8bbf;&#x95ee;&#x5730;&#x5740;&#xff1a;http://localhost:9002/consumer/product/findAll\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"160,161"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/7bb133ad16aac009c76f1b5f21a7fca4.png\" alt>","children":[],"payload":{"tag":"img","lines":"162,163"}},{"content":"<pre data-lines=\"164,167\"><code>&#x94fe;&#x8def;&#x8ddf;&#x8e2a;&#xff1a;http://localhost:9411/zipkin\n\n&#x70b9;&#x51fb;&#x67e5;&#x627e;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"164,167"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/42cb43fc6d008f56a992c2ba267ba849.png\" alt>","children":[],"payload":{"tag":"img","lines":"168,169"}},{"content":"<pre data-lines=\"170,171\"><code>&#x70b9;&#x51fb;&#x94fe;&#x8def;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"170,171"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/1801f5ea4061314c3c8794ab338e0000.png\" alt>","children":[],"payload":{"tag":"img","lines":"172,173"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/68bcb7ebdf3f0870d0fdbda689d60959.png\" alt>","children":[],"payload":{"tag":"img","lines":"174,175"}},{"content":"<pre data-lines=\"176,177\"><code>&#x67e5;&#x770b;&#x4f9d;&#x8d56;&#xff1a;\n</code></pre>","children":[],"payload":{"tag":"pre","lines":"176,177"}},{"content":"<img src=\"https://img-blog.csdnimg.cn/img_convert/08b55d1bda6822fd825cdaea192cd4ac.png\" alt>","children":[],"payload":{"tag":"img","lines":"178,179"}}],"payload":{"tag":"h2","lines":"157,159"}}],"payload":{"tag":"h1","lines":"0,1"}},{})</script>
</body>
</html>
